{"blogid": "126650894", "writerAge": "码龄13年", "writerBlogNum": "51", "writerCollect": "19", "writerComment": "1", "writerFan": "8", "writerGrade": "3级", "writerIntegral": "578", "writerName": "1eeMamas", "writerProfileAdress": "writer_image\\profile_126650894.jpg", "writerRankTotal": "31633", "writerRankWeekly": "76856", "writerThumb": "3", "writerVisitNum": "10171", "blog_read_count": "345", "blog_time": "于 2022-09-01 22:11:44 发布", "blog_title": "【python 】pygame制作简单的游戏移动操作", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>效果演示：</p>\n<p></p>\n<div class=\"csdn-video-box\">\n<iframe allowfullscreen=\"true\" data-mediaembed=\"csdn\" id=\"cf9k7F86-1662041433977\" src=\"https://live.csdn.net/v/embed/236062\"></iframe>\n<p>【python 】pygame制作简单的游戏移动操作演示</p>\n</div>\n<p></p>\n<p>完整操作视频：</p>\n<p></p>\n<div class=\"csdn-video-box\">\n<iframe allowfullscreen=\"true\" data-mediaembed=\"csdn\" id=\"CBYHGm6T-1662041443511\" src=\"https://live.csdn.net/v/embed/236063\"></iframe>\n<p>【python 】pygame制作简单的游戏移动操作完全操作</p>\n</div>\n<p></p>\n<h1><a id=\"1_8\"></a>1.创建游戏窗体</h1>\n<pre><code class=\"prism language-python\"><span class=\"token comment\">##main.py</span>\n<span class=\"token keyword\">import</span> pygame<span class=\"token punctuation\">,</span>sys\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Game</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        pygame<span class=\"token punctuation\">.</span>init<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">##title</span>\n        pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>set_caption<span class=\"token punctuation\">(</span><span class=\"token string\">'game'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">##windows size</span>\n        pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>set_mode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>SCREEN_WIDTH<span class=\"token punctuation\">,</span>SCREEN_HEIGHT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">while</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\">##退出</span>\n            <span class=\"token keyword\">for</span> event <span class=\"token keyword\">in</span> pygame<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> event<span class=\"token punctuation\">.</span><span class=\"token builtin\">type</span><span class=\"token operator\">==</span>pygame<span class=\"token punctuation\">.</span>QUIT<span class=\"token punctuation\">:</span>\n                    pygame<span class=\"token punctuation\">.</span>quit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    sys<span class=\"token punctuation\">.</span>exit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    game<span class=\"token operator\">=</span>Game<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    game<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h1><a id=\"2_33\"></a>2.分割默认的数值到配置文件</h1>\n<h5><a id=\"21configpy_34\"></a>2.1创建配置文件config.py</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\937f4e0af6124a808b1a4b21b0952cc0.png\"/></p>\n<h5><a id=\"22__36\"></a>2.2 导包替换默认值</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\9cffbbae35e64680b3629e04bef2c30a.png\"/></p>\n<h1><a id=\"3_39\"></a>3.创建地图</h1>\n<h5><a id=\"31_40\"></a>3.1地图类</h5>\n<pre><code class=\"prism language-python\"><span class=\"token comment\">##map.py</span>\n<span class=\"token keyword\">import</span> pygame\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>display<span class=\"token operator\">=</span>pygame<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>get_surface<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>display<span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">(</span><span class=\"token string\">'green'</span><span class=\"token punctuation\">)</span>\n  \n</code></pre>\n<h5><a id=\"32_52\"></a>3.2实例地图，运行方法</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\14a73f3e0baa44a4b1e93bf699a17854.png\"/></p>\n<h1><a id=\"4_54\"></a>4.创建角色类</h1>\n<h5><a id=\"41pygame30X30_55\"></a>4.1生成类继承pygame精灵类，定义一个（30X30）红色的的方块，设置中心坐标点</h5>\n<pre><code class=\"prism language-python\"><span class=\"token comment\">##character.py</span>\n<span class=\"token keyword\">import</span> pygame\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Character</span><span class=\"token punctuation\">(</span>pygame<span class=\"token punctuation\">.</span>sprite<span class=\"token punctuation\">.</span>Sprite<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span>pos<span class=\"token punctuation\">,</span>group<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>Character<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">)</span>\n\n        self<span class=\"token punctuation\">.</span>image<span class=\"token operator\">=</span>pygame<span class=\"token punctuation\">.</span>Surface<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>rect<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">.</span>get_rect<span class=\"token punctuation\">(</span>center<span class=\"token operator\">=</span>pos<span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h5><a id=\"42__69\"></a>4.2 在地图里面导入并应用</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\1272cc5af55b4b1197dff68d1f5278da.png\"/></p>\n<h1><a id=\"5_71\"></a>5.实现键盘方向输入操作</h1>\n<h5><a id=\"51__72\"></a>5.1 增加方法</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\46ca6e20baf14cabb495be0489cc3d0e.png\"/></p>\n<h1><a id=\"6_74\"></a>6.实现移动</h1>\n<h5><a id=\"61_mianpy_75\"></a>6.1 mian.py添加刷新率属性</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\e0465cf702984856965c21904615b595.png\"/></p>\n<h5><a id=\"62_77\"></a>6.2将刷新率应用到各项，并角色添加移动方法</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\3491919069a7471f83b7dd41772ea53c.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\a0b6e46ed47744429722154af70f5fd5.png\"/></p>\n<p><img alt=\"![在这里插入图片描述](https://img-blog.csdnimg.cn/910490a7f3d34bb2aa8d43691c66dcb9.png\" src=\"image\\6f2175c3e3bf4c928638b9c4db14f809.png\"/></p>\n<h5><a id=\"63_82\"></a>6.3添加方向向量</h5>\n<p>![在这里插入图片描述](https://img-blog.csdnimg.cn/789886242cde4db3893e348de42dac92.png<img alt=\"在这里插入图片描述\" src=\"image\\9862553a774242b1bd1cc11664c8e669.png\"/></p>\n<h5><a id=\"64_84\"></a>6.4实现移动方法</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\08451fe9a1db42079b6eb052f9468fd0.png\"/></p>\n<h5><a id=\"65bug_86\"></a>6.5修复对角移动比上下左右快的bug</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\66ce2d4d0ed641f1b37ce5de6cc0fc29.png\"/></p>\n<h1><a id=\"7_88\"></a>7.待续…</h1>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}