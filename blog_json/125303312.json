{"blogid": "125303312", "writerAge": "ç é¾„4å¹´", "writerBlogNum": "14", "writerCollect": "39", "writerComment": "16", "writerFan": "9", "writerGrade": "2çº§", "writerIntegral": "177", "writerName": "æ´»æ³¼å¯çˆ±çš„å°ç¯ç¯", "writerProfileAdress": "writer_image\\profile_125303312.jpg", "writerRankTotal": "76724", "writerRankWeekly": "693287", "writerThumb": "11", "writerVisitNum": "15023", "blog_read_count": "1911", "blog_time": "å·²äºÂ 2022-08-03 16:13:24Â ä¿®æ”¹", "blog_title": "vue+neo4j +çº¯å‰ç«¯ï¼ˆneovis.js / neo4j-driverï¼‰ å®ç° çŸ¥è¯†å›¾è°±çš„é›†æˆ å¤§å¹²è´§--è¸©å‘æ— æ•°ï¼ï¼ï¼å°†ç»éªŒåˆ†äº«ç»™æœ‰éœ€è¦çš„å°ä¼™ä¼´", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>vue+neo4j+ï¼ˆneovis.js / neo4j-driverï¼‰çº¯å‰ç«¯å®ç°çŸ¥è¯†å›¾è°±çš„é›†æˆ</h3>\n<ul><li><a href=\"#neo4j_2\">neo4jæ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><a href=\"#Neovisjs__8\">ä¸€ã€Neovis.js ä¸ç”¨è·å–æ•°æ®ç›´æ¥è¿æ¥æ•°æ®åº“ç»˜å›¾</a></li><li><a href=\"#visjs__echarts_95\">äºŒã€vis.js æˆ–è€… echartsç»˜å›¾</a></li><li><a href=\"#1_neo4jdriver__98\">1ã€ï¼ˆå‘ç°ä¸€ä¸ªç¥å™¨ï¼‰ neo4j-driver èƒ½å¤Ÿç›´æ¥é€šè¿‡å‰ç«¯è·å–æ•°æ®ã€‚</a></li><li><a href=\"#2echarts_158\">2ã€ä½¿ç”¨echartsç»˜å›¾</a></li><li><a href=\"#3visjs_333\">3ã€ä½¿ç”¨vis.jsç»˜å›¾</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"neo4j_2\"></a>neo4jæ˜¯ä»€ä¹ˆï¼Ÿ</h1>\n<p>ç®€å•æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç§æ¯”è¾ƒçƒ­é—¨çš„å›¾æ•°æ®åº“ï¼Œå›¾æ•°æ®åº“ä»¥å›¾å½¢å½¢å¼å­˜å‚¨æ•°æ®ã€‚ å®ƒä»¥èŠ‚ç‚¹ï¼Œå…³ç³»å’Œå±æ€§çš„å½¢å¼å­˜å‚¨åº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚ ä¸€ä¸ªå›¾ç”±æ— æ•°çš„èŠ‚ç‚¹å’Œå…³ç³»ç»„æˆã€‚<br/> å®‰è£…å›¾æ•°æ®åº“åœ¨è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œæœ¬ç¯‡ä¸»è¦ä»‹ç»å¦‚ä½•è¿æ¥neo4jæ•°æ®åº“ï¼Œå°†çŸ¥è¯†å›¾è°±æˆåŠŸæ˜¾ç¤ºåœ¨å‰ç«¯é¡µé¢ä¸­ã€‚</p>\n<h1><a id=\"Neovisjs__8\"></a>ä¸€ã€Neovis.js ä¸ç”¨è·å–æ•°æ®ç›´æ¥è¿æ¥æ•°æ®åº“ç»˜å›¾</h1>\n<p>1.ã€ Neovis.jsä¸Neo4jçš„è¿æ¥éå¸¸ç®€å•æ˜äº†ï¼Œå¹¶ä¸”Neovis çš„æ•°æ®æ ¼å¼ä¸é‚£neo4jæ•°æ®åº“ä¿æŒä¸€è‡´ã€‚åœ¨å•ä¸ªé…ç½®å¯¹è±¡ä¸­å®šä¹‰æ ‡ç­¾ã€å±æ€§ã€èŠ‚ç‚¹å’Œå…³ç³»çš„æ ·å¼å’Œé¢œè‰²ã€‚</p>\n<p>é¦–å…ˆä¸‹è½½ä¾èµ–</p>\n<pre><code> npm install -save neovis.js\n</code></pre>\n<p>åœ¨é¡¹ç›®ä¸­å¼•ç”¨</p>\n<pre><code>import NeoVis from 'neovis.js';\n</code></pre>\n<p>åˆ›å»ºç”¨æ¥ç»˜å›¾çš„DOMå…ƒç´ </p>\n<pre><code class=\"prism language-typescript\"><span class=\"token operator\">&lt;</span>div style<span class=\"token operator\">=</span><span class=\"token string\">\"height:100%;\"</span> ref<span class=\"token operator\">=</span><span class=\"token string\">\"Screen\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"viz1\"</span> ref<span class=\"token operator\">=</span><span class=\"token string\">\"viz1\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span> <span class=\"token operator\">--</span><span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>é¡µé¢åŠ è½½è¿›æ¥è°ƒç”¨draw()ç”»å›¾å‡½æ•°</p>\n<pre><code class=\"prism language-typescript\">    <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n     <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">//neovis.jsç”»å›¾</span>\n    methods<span class=\"token operator\">:</span><span class=\"token punctuation\">{<!-- --></span>\n     <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n       <span class=\"token comment\">//è·å–domå…ƒç´ </span>\n      <span class=\"token keyword\">var</span> viz1 <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$refs<span class=\"token punctuation\">.</span>viz1<span class=\"token punctuation\">;</span>\n      \n      <span class=\"token comment\">//åˆ›å»ºveoviså®ä¾‹</span>\n      <span class=\"token keyword\">var</span> viz<span class=\"token punctuation\">;</span>\n      \n      <span class=\"token comment\">//é…ç½®é¡¹</span>\n      <span class=\"token keyword\">var</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n        container_id<span class=\"token operator\">:</span> <span class=\"token string\">\"viz\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//neo4jæœåŠ¡å™¨åœ°å€ï¼Œç”¨æˆ·å å’Œ å¯†ç </span>\n        server_url<span class=\"token operator\">:</span> <span class=\"token string\">\"bolt://192.x.xxx.10:7687\"</span><span class=\"token punctuation\">,</span>\n        server_user<span class=\"token operator\">:</span> <span class=\"token string\">\"nexx4j\"</span><span class=\"token punctuation\">,</span>\n        server_password<span class=\"token operator\">:</span> <span class=\"token string\">\"KGxxx34\"</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token operator\">**</span><span class=\"token comment\">///labelsæ˜¯èŠ‚ç‚¹å¤®æ ·å¼çš„é…ç½®ï¼š**</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// caption ï¼šèŠ‚ç‚¹æ˜¾ç¤ºçš„æ–‡å­—å¯¹åº”å†…å®¹</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// communityï¼š èŠ‚ç‚¹é¢œè‰²**</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// sizeï¼šèŠ‚ç‚¹å¤§å°**</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// fontï¼šèŠ‚ç‚¹å­—ä½“å¤§å°è®¾ç½®****</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">//æ²¡æœ‰åœ¨è¿™ä¸ªåœ°æ–¹é…ç½®çš„èŠ‚ç‚¹å°†ä¼šæ˜¯é»˜è®¤æ ·å¼**</span>\n        labels<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token string-property property\">\"CITY\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> caption<span class=\"token operator\">:</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> community<span class=\"token operator\">:</span> <span class=\"token string\">\"#5496FF\"</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> size<span class=\"token operator\">:</span> <span class=\"token number\">35</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"#606266\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string-property property\">\"åŸºæœ¬å¾…é‡æ”¿ç­–\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> caption<span class=\"token operator\">:</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> community<span class=\"token operator\">:</span> <span class=\"token string\">\"#5496FF\"</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">:</span> <span class=\"token number\">95</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> size<span class=\"token operator\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"#606266\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string-property property\">\"åŸºæœ¬ç­¹èµ„æ”¿ç­–\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> caption<span class=\"token operator\">:</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> community<span class=\"token operator\">:</span> <span class=\"token string\">\"#5496FF\"</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">:</span> <span class=\"token number\">95</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> size<span class=\"token operator\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"#606266\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        \n        <span class=\"token operator\">**</span><span class=\"token comment\">///relationshipsæ˜¯å…³ç³»çº¿æ®µæ ·å¼çš„é…ç½®ï¼š**</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// caption ï¼šçº¿æ®µæ˜¾ç¤ºçš„æ–‡å­—å¯¹åº”å†…å®¹</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// thicknessï¼š çº¿æ®µç²—ç»†**</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">/// fontï¼šèŠ‚ç‚¹å­—ä½“å¤§å°è®¾ç½®****</span>\n        <span class=\"token operator\">**</span><span class=\"token comment\">//æ²¡æœ‰åœ¨è¿™ä¸ªåœ°æ–¹é…ç½®çš„çº¿æ®µå°†ä¼šæ˜¯é»˜è®¤æ ·å¼**</span>\n        relationships<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token string-property property\">\"å¾…é‡æ”¯ä»˜æ”¿ç­–\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> thickness<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> caption<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> size<span class=\"token operator\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"#606266\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string-property property\">\"å¾…é‡ä¸»ä½“ç±»åˆ«\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> thickness<span class=\"token operator\">:</span> <span class=\"token string\">\"count\"</span><span class=\"token punctuation\">,</span> caption<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> size<span class=\"token operator\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"#606266\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        \n        <span class=\"token comment\">//æ˜¯å¦æ˜¾ç¤ºç®­å¤´</span>\n        arrows<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\n        hierarchical<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        \n        <span class=\"token comment\">// åˆ†å±‚ç»“æ„æˆ–è€…é»˜è®¤ \"hubsize\"ï¼ˆé»˜è®¤ï¼‰å’Œ\"directed\".</span>\n        <span class=\"token comment\">// hierarchical_sort_method: 'hubsize',</span>\n        hierarchical_sort_method<span class=\"token operator\">:</span> <span class=\"token string\">'directed'</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">//é…ç½®æ•°æ®åº“æŸ¥è¯¢è¯­å¥ï¼ŒMATCH n RETURN n,å°è¯•è¿‡ä¸å¯¹ï¼Œå¿…é¡»ç”¨ MATCH p=()--&gt;() RETURN p</span>\n        initial_cypher<span class=\"token operator\">:</span> <span class=\"token string\">'MATCH p=()--&gt;() RETURN p'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n      viz <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NeoVis</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      viz<span class=\"token punctuation\">.</span>_container <span class=\"token operator\">=</span> viz1<span class=\"token punctuation\">;</span>\n      viz<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"visjs__echarts_95\"></a>äºŒã€vis.js æˆ–è€… echartsç»˜å›¾</h1>\n<pre><code>ç”±äºè¿™ä¸¤è€…éœ€è¦çš„æ•°æ®æ ¼å¼ä¸neo4jæ•°æ®æ ¼å¼ä¸åŒï¼Œæ‰€ä»¥éœ€è¦å…ˆä»å‰ç«¯è·å–æ•°æ®ï¼Œç„¶åå¤„ç†æˆæˆ‘ä»¬éœ€è¦çš„æ ¼å¼ã€‚\n</code></pre>\n<h1><a id=\"1_neo4jdriver__98\"></a>1ã€ï¼ˆå‘ç°ä¸€ä¸ªç¥å™¨ï¼‰ neo4j-driver èƒ½å¤Ÿç›´æ¥é€šè¿‡å‰ç«¯è·å–æ•°æ®ã€‚</h1>\n<p>ä¸Šä»£ç ï¼Œ é¦–å…ˆä¸‹è½½ä¾èµ–</p>\n<pre><code class=\"prism language-typescript\"> npm install <span class=\"token operator\">-</span>save neo4j<span class=\"token operator\">-</span>driver\n</code></pre>\n<p>å†é¡µé¢ä¸­å¼•å…¥</p>\n<pre><code class=\"prism language-typescript\"><span class=\"token keyword\">var</span> neo4j <span class=\"token operator\">=</span> <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"neo4j-driver\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{<!-- --></span>\n   <span class=\"token operator\">...</span>æ­¤å¤„æš‚æ—¶çœç•¥<span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>é¡µé¢åˆæ¬¡åŠ è½½è°ƒç”¨ this.executeCypher() æ‰§è¡Œ Cypher æŸ¥è¯¢æ•°æ®</p>\n<pre><code class=\"prism language-typescript\"> <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">var</span>  query<span class=\"token operator\">=</span> <span class=\"token string\">'MATCH p=()--&gt;() RETURN p'</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">executeCypher</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>executeCypher()æ–¹æ³•å®šä¹‰ï¼š è¯¥æ–¹æ³•å¤„ç†çš„æ•°æ®æ ¼å¼ä¸ºechartsé€‚ç”¨æ ¼å¼</p>\n<pre><code class=\"prism language-typescript\">\n    <span class=\"token comment\">/**\n         * ç›´æ¥æ‰§è¡ŒCypher\n         */</span>\n    <span class=\"token function\">executeCypher</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsNode <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\">//èŠ‚ç‚¹æ•°ç»„</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesRelation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//å…³ç³»çº¿æ•°ç»„</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//echartså›¾ä¾‹æ•°æ®æ•°</span>\n      <span class=\"token comment\">// åˆ›å»ºå®ä¾‹</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver <span class=\"token operator\">=</span> neo4j<span class=\"token punctuation\">.</span><span class=\"token function\">driver</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bolt://localhost:7687'</span><span class=\"token punctuation\">,</span> neo4j<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span><span class=\"token function\">basic</span><span class=\"token punctuation\">(</span><span class=\"token string\">'neo4j'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'KG****'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ğŸš€ ~ file: AuthorArticleSearch.vue ~ line 46 ~ mounted ~  this.drive\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">)</span>\n\n      <span class=\"token keyword\">let</span> me <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n      me<span class=\"token punctuation\">.</span>records <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>clearAll <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">.</span><span class=\"token function\">session</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>query <span class=\"token operator\">==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n      session<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n        me<span class=\"token punctuation\">.</span>clearAll <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span>records <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">;</span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"neo4j æŸ¥è¯¢ç»“æœ\"</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        session<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span><span class=\"token function\">closeLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cypher æ‰§è¡Œå¤±è´¥ï¼\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">closeLoading</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'closeLoading'</span><span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>ä»¥ä¸Šæˆ‘ä»¬å°±æŸ¥è¯¢åˆ°äº†æ•°æ®ï¼Œç´§æ¥ç€å¼€å§‹å¤„ç†æ•°æ®ï¼Œé¦–å…ˆå¤„ç†æˆé€‚ç”¨echartsçš„æ•°æ®æ ¼å¼</p>\n<h1><a id=\"2echarts_158\"></a>2ã€ä½¿ç”¨echartsç»˜å›¾</h1>\n<p>é¦–å…ˆå¤„ç†è·å–çš„æ•°æ®</p>\n<pre><code class=\"prism language-typescript\">            <span class=\"token comment\">/**\n         * ç›´æ¥æ‰§è¡ŒCypher\n         */</span>\n    <span class=\"token function\">executeCypher</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsNode <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\">//èŠ‚ç‚¹æ•°ç»„</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesRelation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//å…³ç³»çº¿æ•°ç»„</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//echartså›¾ä¾‹æ•°æ®æ•°</span>\n      <span class=\"token comment\">// åˆ›å»ºå®ä¾‹</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver <span class=\"token operator\">=</span> neo4j<span class=\"token punctuation\">.</span><span class=\"token function\">driver</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bolt://localhost:7687'</span><span class=\"token punctuation\">,</span> neo4j<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span><span class=\"token function\">basic</span><span class=\"token punctuation\">(</span><span class=\"token string\">'neo4j'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'******'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ğŸš€ ~ file: AuthorArticleSearch.vue ~ line 46 ~ mounted ~  this.drive\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">)</span>\n\n      <span class=\"token keyword\">let</span> me <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n      me<span class=\"token punctuation\">.</span>records <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>clearAll <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">.</span><span class=\"token function\">session</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>query <span class=\"token operator\">==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n      session<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n        me<span class=\"token punctuation\">.</span>clearAll <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span>records <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">;</span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"neo4j æŸ¥è¯¢ç»“æœ\"</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// å¼€å§‹å¤„ç†æ•°æ®</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsData<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n            name<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n            category<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">.</span>labels<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsData<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n            name<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n            category<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">.</span>labels<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesRelation<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n            source<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n            target<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n            name<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>relationship<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">//åˆ é™¤arrä¸­çš„é‡å¤å¯¹è±¡</span>\n        <span class=\"token keyword\">var</span> arrId <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">var</span> legend <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> item <span class=\"token keyword\">of</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsData<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          legend<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span> name<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>category <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>arrId<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            arrId<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsNode<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> <span class=\"token builtin\">Array</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span>legend<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        \n        session<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span><span class=\"token function\">closeLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cypher æ‰§è¡Œå¤±è´¥ï¼\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>knowlegGraphshow <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n       <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">closeLoading</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'closeLoading'</span><span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n</code></pre>\n<p>echartsé…ç½®ï¼š</p>\n<pre><code class=\"prism language-typescript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n                    tooltip<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//å¼¹çª—</span>\n                        show<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token comment\">// enterable: true,//é¼ æ ‡æ˜¯å¦å¯è¿›å…¥æç¤ºæ¡†æµ®å±‚ä¸­</span>\n                        <span class=\"token comment\">// formatter: formatterHover,//ä¿®æ”¹é¼ æ ‡æ‚¬åœæ˜¾ç¤ºçš„å†…å®¹</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    legend<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                        type<span class=\"token operator\">:</span> <span class=\"token string\">'scroll'</span><span class=\"token punctuation\">,</span>\n                        orient<span class=\"token operator\">:</span> <span class=\"token string\">'vertical'</span><span class=\"token punctuation\">,</span>\n                        left<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n                        top<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n                        bottom<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n                        data<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    series<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                        <span class=\"token punctuation\">{<!-- --></span>\n\n                            categories<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">,</span>\n                            <span class=\"token comment\">// categories: [{<!-- --></span>\n                            <span class=\"token comment\">//     name: \"ç­¹èµ„æ¸ é“\"</span>\n                            <span class=\"token comment\">// }],</span>\n                            type<span class=\"token operator\">:</span> <span class=\"token string\">\"graph\"</span><span class=\"token punctuation\">,</span>\n                            layout<span class=\"token operator\">:</span> <span class=\"token string\">\"force\"</span><span class=\"token punctuation\">,</span>\n                            zoom<span class=\"token operator\">:</span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">,</span>\n                            symbolSize<span class=\"token operator\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token comment\">// èŠ‚ç‚¹æ˜¯å¦å¯ä»¥æ‹–åŠ¨</span>\n                            draggable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                            roam<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                            hoverAnimation<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token comment\">// labelLayout: {<!-- --></span>\n                            <span class=\"token comment\">//     hideOverlap: true,</span>\n                            <span class=\"token comment\">// },</span>\n                            legendHoverLink<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                            nodeScaleRatio<span class=\"token operator\">:</span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//é¼ æ ‡æ¼«æ¸¸ç¼©æ”¾æ—¶èŠ‚ç‚¹çš„ç›¸åº”ç¼©æ”¾æ¯”ä¾‹ï¼Œå½“è®¾ä¸º0æ—¶èŠ‚ç‚¹ä¸éšç€é¼ æ ‡çš„ç¼©æ”¾è€Œç¼©æ”¾</span>\n                            focusNodeAdjacency<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//æ˜¯å¦åœ¨é¼ æ ‡ç§»åˆ°èŠ‚ç‚¹ä¸Šçš„æ—¶å€™çªå‡ºæ˜¾ç¤ºèŠ‚ç‚¹ä»¥åŠèŠ‚ç‚¹çš„è¾¹å’Œé‚»æ¥èŠ‚ç‚¹ã€‚</span>\n                            <span class=\"token comment\">// categories: categories,</span>\n                            itemStyle<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                color<span class=\"token operator\">:</span> <span class=\"token string\">\"#67A3FF\"</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            edgeSymbol<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"arrow\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token comment\">// edgeSymbolSize: [80, 10],</span>\n                            edgeLabel<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                normal<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                    show<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                                    textStyle<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                        fontSize<span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n                                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                    <span class=\"token function\">formatter</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                                        <span class=\"token keyword\">return</span> x<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            label<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                normal<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                    show<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                                    textStyle<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                        fontSize<span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n                                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                    color<span class=\"token operator\">:</span> <span class=\"token string\">\"#f6f6f6\"</span><span class=\"token punctuation\">,</span>\n                                    textBorderColor<span class=\"token operator\">:</span> <span class=\"token string\">'#67A3FF'</span><span class=\"token punctuation\">,</span>\n                                    textBorderWidth<span class=\"token operator\">:</span> <span class=\"token string\">'1.3'</span><span class=\"token punctuation\">,</span>\n                                    <span class=\"token comment\">// å¤šå­—æ¢è¡Œ</span>\n                                    <span class=\"token function-variable function\">formatter</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                                        <span class=\"token comment\">// console.log(params);</span>\n                                        <span class=\"token keyword\">var</span> newParamsName <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n                                        <span class=\"token keyword\">var</span> paramsNameNumber <span class=\"token operator\">=</span> params<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n                                        <span class=\"token keyword\">var</span> provideNumber <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ä¸€è¡Œæ˜¾ç¤ºå‡ ä¸ªå­—</span>\n                                        <span class=\"token keyword\">var</span> rowNumber <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>paramsNameNumber <span class=\"token operator\">/</span> provideNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>paramsNameNumber <span class=\"token operator\">&gt;</span> provideNumber<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                                            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> p <span class=\"token operator\">&lt;</span> rowNumber<span class=\"token punctuation\">;</span> p<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                                                <span class=\"token keyword\">var</span> tempStr <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n                                                <span class=\"token keyword\">var</span> start <span class=\"token operator\">=</span> p <span class=\"token operator\">*</span> provideNumber<span class=\"token punctuation\">;</span>\n                                                <span class=\"token keyword\">var</span> end <span class=\"token operator\">=</span> start <span class=\"token operator\">+</span> provideNumber<span class=\"token punctuation\">;</span>\n                                                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>p <span class=\"token operator\">==</span> rowNumber <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                                                    tempStr <span class=\"token operator\">=</span> params<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">,</span> paramsNameNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n                                                    tempStr <span class=\"token operator\">=</span> params<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>start<span class=\"token punctuation\">,</span> end<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\\n\"</span><span class=\"token punctuation\">;</span>\n                                                <span class=\"token punctuation\">}</span>\n                                                newParamsName <span class=\"token operator\">+=</span> tempStr<span class=\"token punctuation\">;</span>\n                                            <span class=\"token punctuation\">}</span>\n                                        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n                                            newParamsName <span class=\"token operator\">=</span> params<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n                                        <span class=\"token punctuation\">}</span>\n                                        <span class=\"token keyword\">return</span> newParamsName<span class=\"token punctuation\">;</span>\n                                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            force<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                                repulsion<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// èŠ‚ç‚¹ä¹‹é—´çš„æ–¥åŠ›å› å­ã€‚æ”¯æŒæ•°ç»„è¡¨è¾¾æ–¥åŠ›èŒƒå›´ï¼Œå€¼è¶Šå¤§æ–¥åŠ›è¶Šå¤§ã€‚</span>\n                                gravity<span class=\"token operator\">:</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// èŠ‚ç‚¹å—åˆ°çš„å‘ä¸­å¿ƒçš„å¼•åŠ›å› å­ã€‚è¯¥å€¼è¶Šå¤§èŠ‚ç‚¹è¶Šå¾€ä¸­å¿ƒç‚¹é æ‹¢ã€‚</span>\n                                edgeLength<span class=\"token operator\">:</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œè¿™ä¸ªè·ç¦»ä¹Ÿä¼šå— repulsionå½±å“ ã€‚å€¼è¶Šå¤§åˆ™é•¿åº¦è¶Šé•¿</span>\n                                layoutAnimation<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// å› ä¸ºåŠ›å¼•å¯¼å¸ƒå±€ä¼šåœ¨å¤šæ¬¡è¿­ä»£åæ‰ä¼šç¨³å®šï¼Œè¿™ä¸ªå‚æ•°å†³å®šæ˜¯å¦æ˜¾ç¤ºå¸ƒå±€çš„è¿­ä»£åŠ¨ç”»</span>\n                                <span class=\"token comment\">// åœ¨æµè§ˆå™¨ç«¯èŠ‚ç‚¹æ•°æ®è¾ƒå¤šï¼ˆ&gt;100ï¼‰çš„æ—¶å€™ä¸å»ºè®®å…³é—­ï¼Œå¸ƒå±€è¿‡ç¨‹ä¼šé€ æˆæµè§ˆå™¨å‡æ­»ã€‚</span>\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            data<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span>\n                            links<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>links<span class=\"token punctuation\">,</span>\n                            <span class=\"token comment\">// categories: this.categories</span>\n                        <span class=\"token punctuation\">}</span>\n\n                    <span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"3visjs_333\"></a>3ã€ä½¿ç”¨vis.jsç»˜å›¾</h1>\n<p>ä¸‹è½½ä¾èµ–ï¼š</p>\n<pre><code class=\"prism language-typescript\">npm install <span class=\"token operator\">-</span>s vis<span class=\"token punctuation\">,</span>js\n</code></pre>\n<p>å¼•å…¥ï¼š</p>\n<pre><code class=\"prism language-typescript\"><span class=\"token comment\">//import Vis from \"vis\";</span>\n<span class=\"token keyword\">const</span> Vis <span class=\"token operator\">=</span> <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'vis-network/dist/vis-network.min'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'vis-network/dist/dist/vis-network.min.css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>é¦–å…ˆå¤„ç†æ•°æ®ï¼š</p>\n<pre><code class=\"prism language-typescript\">åœ¨è¿™é‡Œæ’å…¥ä»£ç ç‰‡\n         <span class=\"token comment\">/**\n         * ç›´æ¥æ‰§è¡ŒCypher\n         */</span>\n    <span class=\"token function\">executeCypher</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsNode <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\">//èŠ‚ç‚¹æ•°ç»„</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesRelation <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//å…³ç³»çº¿æ•°ç»„</span>\n      <span class=\"token comment\">// åˆ›å»ºå®ä¾‹</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver <span class=\"token operator\">=</span> neo4j<span class=\"token punctuation\">.</span><span class=\"token function\">driver</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bolt://localhost:7687'</span><span class=\"token punctuation\">,</span> neo4j<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span><span class=\"token function\">basic</span><span class=\"token punctuation\">(</span><span class=\"token string\">'neo4j'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'KG****'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ğŸš€ ~ file: AuthorArticleSearch.vue ~ line 46 ~ mounted ~  this.drive\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">)</span>\n\n      <span class=\"token keyword\">let</span> me <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n      me<span class=\"token punctuation\">.</span>records <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>clearAll <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">.</span><span class=\"token function\">session</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>query <span class=\"token operator\">==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n      session<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n        me<span class=\"token punctuation\">.</span>clearAll <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span>records <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">;</span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"neo4j æŸ¥è¯¢ç»“æœ\"</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       \n        <span class=\"token comment\">// å¼€å§‹å¤„ç†æ•°æ®</span>\n        <span class=\"token keyword\">let</span> nodes <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          nodes<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          nodes<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesRelation<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n            from<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>start<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n            to<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>end<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n            label<span class=\"token operator\">:</span> me<span class=\"token punctuation\">.</span>records<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>_fields<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>segments<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>relationship<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>\n            id<span class=\"token operator\">:</span> i<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        nodes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsData<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n            label<span class=\"token operator\">:</span> e<span class=\"token punctuation\">,</span>\n            id<span class=\"token operator\">:</span> e<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        session<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span><span class=\"token function\">closeLoading</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cypher æ‰§è¡Œå¤±è´¥ï¼\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        me<span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesArray <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>echartsData  <span class=\"token comment\">//èŠ‚ç‚¹æ•°ç»„</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>edgesArray <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesRelation <span class=\"token comment\">//å…³ç³»çº¿æ•°ç»„</span>\n      <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>knowlegGraphshow <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n       <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">closeLoading</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'closeLoading'</span><span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n \n</code></pre>\n<p>å®šä¹‰ç»˜å›¾domå…ƒç´ </p>\n<pre><code class=\"prism language-typescript\"><span class=\"token comment\">// width,height ç”»å¸ƒçš„å®½åº¦ï¼Œé«˜åº¦ã€‚ å¯ä»¥æ˜¯ç™¾åˆ†æ¯”æˆ–åƒç´ ï¼Œä¸€èˆ¬åœ¨domå…ƒç´ ä¸Šè®¾ç½® --&gt;</span>\n     <span class=\"token operator\">&lt;</span>div v<span class=\"token operator\">-</span><span class=\"token keyword\">if</span><span class=\"token operator\">=</span><span class=\"token string\">\"knowlegGraphshow == true\"</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"network_id\"</span> ref<span class=\"token operator\">=</span><span class=\"token string\">\"network_id\"</span> <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"network\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"height: 100%;\"</span><span class=\"token operator\">&gt;</span>\n     <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span> \n</code></pre>\n<p>è°ƒç”¨ç»˜å›¾æ–¹æ³•ï¼š</p>\n<pre><code class=\"prism language-typescript\"> <span class=\"token comment\">// vis.jsç”»å›¾</span>\n    <span class=\"token function\">visDraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token keyword\">let</span> container <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$refs<span class=\"token punctuation\">.</span>network_id<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span> nodes<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nodesArray<span class=\"token punctuation\">,</span> edges<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>edgesArray <span class=\"token punctuation\">}</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ğŸš€ ~ file: pageKnowlegGraph.vue ~ line 135 ~ visDraw ~ data\"</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">let</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n        autoResize<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// / è®¾ç½®èŠ‚ç‚¹æ ·å¼</span>\n        nodes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          shape<span class=\"token operator\">:</span> <span class=\"token string\">\"dot\"</span><span class=\"token punctuation\">,</span>\n          size<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n          font<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token comment\">//å­—ä½“é…ç½®</span>\n            size<span class=\"token operator\">:</span> <span class=\"token number\">20</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          color<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token comment\">// border: \"#2B7CE9\", //èŠ‚ç‚¹è¾¹æ¡†é¢œè‰²</span>\n            background<span class=\"token operator\">:</span> <span class=\"token string\">\"#97C2FC\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//èŠ‚ç‚¹èƒŒæ™¯é¢œè‰²</span>\n            highlight<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token comment\">//èŠ‚ç‚¹é€‰ä¸­æ—¶çŠ¶æ€é¢œè‰²</span>\n              border<span class=\"token operator\">:</span> <span class=\"token string\">\"#2B7CE9\"</span><span class=\"token punctuation\">,</span>\n              background<span class=\"token operator\">:</span> <span class=\"token string\">\"#D2E5FF\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            hover<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token comment\">//èŠ‚ç‚¹é¼ æ ‡æ»‘è¿‡æ—¶çŠ¶æ€é¢œè‰²</span>\n              border<span class=\"token operator\">:</span> <span class=\"token string\">\"#2B7CE9\"</span><span class=\"token punctuation\">,</span>\n              background<span class=\"token operator\">:</span> <span class=\"token string\">\"#D2E5FF\"</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          borderWidth<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//èŠ‚ç‚¹è¾¹æ¡†å®½åº¦ï¼Œå•ä½ä¸ºpx</span>\n          borderWidthSelected<span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token comment\">//èŠ‚ç‚¹è¢«é€‰ä¸­æ—¶è¾¹æ¡†çš„å®½åº¦ï¼Œå•ä½ä¸ºpx</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// è¾¹çº¿é…ç½®</span>\n        edges<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          width<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n          length<span class=\"token operator\">:</span> <span class=\"token number\">260</span><span class=\"token punctuation\">,</span>\n          color<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            color<span class=\"token operator\">:</span> <span class=\"token string\">\"#848484\"</span><span class=\"token punctuation\">,</span>\n            highlight<span class=\"token operator\">:</span> <span class=\"token string\">\"#848484\"</span><span class=\"token punctuation\">,</span>\n            hover<span class=\"token operator\">:</span> <span class=\"token string\">\"#848484\"</span><span class=\"token punctuation\">,</span>\n            inherit<span class=\"token operator\">:</span> <span class=\"token string\">\"from\"</span><span class=\"token punctuation\">,</span>\n            opacity<span class=\"token operator\">:</span> <span class=\"token number\">1.0</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          shadow<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n          smooth<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token comment\">//è®¾ç½®ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„è¿çº¿çš„çŠ¶æ€</span>\n            enabled<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">//é»˜è®¤æ˜¯trueï¼Œè®¾ç½®ä¸ºfalseä¹‹åï¼Œä¸¤ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„è¿çº¿å§‹ç»ˆä¸ºç›´çº¿ï¼Œä¸ä¼šå‡ºç°è´å¡å°”æ›²çº¿</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          arrows<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span> to<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\">//ç®­å¤´æŒ‡å‘to</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">//è®¡ç®—èŠ‚ç‚¹ä¹‹å‰æ–¥åŠ›ï¼Œè¿›è¡Œè‡ªåŠ¨æ’åˆ—çš„å±æ€§</span>\n        physics<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token comment\">// enabled: true, //é»˜è®¤æ˜¯trueï¼Œè®¾ç½®ä¸ºfalseåï¼ŒèŠ‚ç‚¹å°†ä¸ä¼šè‡ªåŠ¨æ”¹å˜ï¼Œæ‹–åŠ¨è°è°åŠ¨ã€‚ä¸å½±å“å…¶ä»–çš„èŠ‚ç‚¹</span>\n          <span class=\"token comment\">// barnesHut: {<!-- --></span>\n          <span class=\"token comment\">//   gravitationalConstant: -4000,</span>\n          <span class=\"token comment\">//   centralGravity: 0.3,</span>\n          <span class=\"token comment\">//   springLength: 120,</span>\n          <span class=\"token comment\">//   springConstant: 0.04,</span>\n          <span class=\"token comment\">//   damping: 0.09,</span>\n          <span class=\"token comment\">//   avoidOverlap: 0</span>\n          <span class=\"token comment\">// },</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// physics: false,</span>\n        <span class=\"token comment\">//ç”¨äºæ‰€æœ‰ç”¨æˆ·ä¸ç½‘ç»œçš„äº¤äº’ã€‚å¤„ç†é¼ æ ‡å’Œè§¦æ‘¸äº‹ä»¶ä»¥åŠå¯¼èˆªæŒ‰é’®å’Œå¼¹å‡ºçª—å£</span>\n        interaction<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          hover<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          dragNodes<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//æ˜¯å¦èƒ½æ‹–åŠ¨èŠ‚ç‚¹</span>\n          dragView<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//æ˜¯å¦èƒ½æ‹–åŠ¨ç”»å¸ƒ</span>\n          <span class=\"token comment\">// hover: true, //é¼ æ ‡ç§»è¿‡ååŠ ç²—è¯¥èŠ‚ç‚¹å’Œè¿æ¥çº¿</span>\n          <span class=\"token comment\">// multiselect: true, //æŒ‰ ctrl å¤šé€‰</span>\n          <span class=\"token comment\">// selectable: true, //æ˜¯å¦å¯ä»¥ç‚¹å‡»é€‰æ‹©</span>\n          <span class=\"token comment\">// selectConnectedEdges: true, //é€‰æ‹©èŠ‚ç‚¹åæ˜¯å¦æ˜¾ç¤ºè¿æ¥çº¿</span>\n          <span class=\"token comment\">// hoverConnectedEdges: true, //é¼ æ ‡æ»‘åŠ¨èŠ‚ç‚¹åæ˜¯å¦æ˜¾ç¤ºè¿æ¥çº¿</span>\n          zoomView<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">//æ˜¯å¦èƒ½ç¼©æ”¾ç”»å¸ƒ</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>network <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vis</span><span class=\"token punctuation\">.</span><span class=\"token function\">Network</span><span class=\"token punctuation\">(</span>container<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>æºç å·²ä¸Šä¼ ï¼Œéœ€è¦çš„å°ä¼™ä¼´å¯å‰å¾€ä¸»é¡µæ‰¾åˆ°ä¸‹è½½ã€‚</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}