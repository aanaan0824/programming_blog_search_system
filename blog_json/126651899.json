{"blogid": "126651899", "writerAge": "码龄5年", "writerBlogNum": "62", "writerCollect": "49", "writerComment": "3", "writerFan": "9", "writerGrade": "3级", "writerIntegral": "655", "writerName": "pro1822", "writerProfileAdress": "writer_image\\profile_126651899.jpg", "writerRankTotal": "27889", "writerRankWeekly": "13018", "writerThumb": "8", "writerVisitNum": "28416", "blog_read_count": "228", "blog_time": "已于 2022-09-02 11:05:47 修改", "blog_title": "Vue基础（十）——项目部署", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>一、 如何把Vue的项目部署到web服务器上？</h1>\n<h2>1、使用以下命令： 将整个Vue项目打包成一个静态文件（html、css、js）。</h2>\n<pre><code>npm run build</code></pre>\n<h3>（1）后台serve.js关键代码：</h3>\n<pre><code class=\"language-javascript\">//静态目录\nconst static = require(\"koa-static\");\n\napp.use(static(__dirname + \"/public\"))</code></pre>\n<h3>（2）把静态文件放在【public】文件夹下，就可以访问了</h3>\n<h2>2、在服务器上发布</h2>\n<h1>二、实际操作——测试简单项目部署到服务器上</h1>\n<h2>1、找一个项目（example01），运行npm run build</h2>\n<p><img alt=\"\" height=\"147\" src=\"image\\7cae5eca8e33484fa07355c8f46ca7b6.png\" width=\"1017\"/>  </p>\n<blockquote>\n<p>打包完成后，发现多了一个<strong>dist</strong>文件夹。</p>\n</blockquote>\n<p><img alt=\"\" height=\"216\" src=\"image\\60e5821ee94744128a18aa3758bfaa2e.png\" width=\"371\"/></p>\n<h2>2、准备一个Koa框架的项目（example02） </h2>\n<blockquote>\n<p>将里面的文件，复制到example02项目的<strong>public</strong>文件夹下。 </p>\n</blockquote>\n<h2>3、运行js文件</h2>\n<p><img alt=\"\" height=\"214\" src=\"image\\404e701b197c4ed5a2c2f30b33a120bd.png\" width=\"704\"/></p>\n<blockquote>\n<p> 访问：<a href=\"http://127.0.0.1:3000/\" title=\"http://127.0.0.1:3000/\">http://127.0.0.1:3000/</a></p>\n</blockquote>\n<p><img alt=\"\" height=\"199\" src=\"image\\0a880fbf350b4d1d99e8f37fbb9c820c.png\" width=\"443\"/>  </p>\n<h1>三、配置文件的设置（开发环境和生产环境）</h1>\n<blockquote>\n<p>1、开发阶段：【<strong>.env.development</strong>】</p>\n<p>2、生产环境（build之后，发布后环境）：【<strong>.env.production</strong>】</p>\n<p>3、注意：配置文件中的命名变量必须以<strong>【VUE_APP_XXXX】</strong>命名。</p>\n</blockquote>\n<h2>1、创建配置文件：</h2>\n<p><img alt=\"\" height=\"546\" src=\"image\\be15f5b7c352474f8244491bb51f5141.png\" width=\"312\"/></p>\n<h2>2、配置文件中写值：</h2>\n<p><img alt=\"\" height=\"174\" src=\"image\\fcf666d6b0e24024805c98013767835b.png\" width=\"605\"/></p>\n<p><img alt=\"\" height=\"177\" src=\"image\\0c1c3353a096466eb18afbed6a64d7ce.png\" width=\"626\"/></p>\n<h2>3、App.vue：</h2>\n<pre><code class=\"language-javascript\">&lt;template&gt;\n    &lt;div&gt;\n        &lt;h1&gt;{<!-- -->{title}}&lt;/h1&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n    data() {\n        return {\n            title: process.env.VUE_APP_TITLE,\n        };\n    },\n};\n&lt;/script&gt;</code></pre>\n<h2>4、重新部署example01【npm run build】，再复制到example02的public中</h2>\n<p><img alt=\"\" height=\"142\" src=\"image\\7758c5e4fd0d4766a1f86b46eb269bc6.png\" width=\"997\"/></p>\n<h2>5、浏览器访问：<a href=\"http://localhost:8080/\" title=\"http://localhost:3000/\">http://localhost:3000/</a> </h2>\n<p><img alt=\"\" height=\"219\" src=\"image\\da6b82d0c1104162baae5a009ffbb3ac.png\" width=\"393\"/></p>\n<h2>6、浏览器访问：<a href=\"http://localhost:8080/\" title=\"http://localhost:8080/\">http://localhost:8080/</a></h2>\n<p><img alt=\"\" height=\"245\" src=\"image\\3bebae4fab054ac1bd0a69e484bf35c5.png\" width=\"389\"/></p>\n<blockquote>\n<p>在开发环境中，读取的是开发的配置文件。</p>\n<p>在生产环境中（已build后，发布出去的），读取的是生产的配置文件。</p>\n</blockquote>\n<blockquote>\n<p>关键代码：【title: process.env.VUE_APP_TITLE,】 </p>\n</blockquote>\n</div>\n</div>"}