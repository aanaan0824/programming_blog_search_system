{"blogid": "124074065", "writerAge": "码龄8年", "writerBlogNum": "75", "writerCollect": "459", "writerComment": "57", "writerFan": "998", "writerGrade": "4级", "writerIntegral": "1047", "writerName": "岳振威", "writerProfileAdress": "writer_image\\profile_124074065.jpg", "writerRankTotal": "16216", "writerRankWeekly": "10875", "writerThumb": "86", "writerVisitNum": "96431", "blog_read_count": "2161", "blog_time": "于 2022-04-10 11:08:50 发布", "blog_title": "C#三分钟教你理解DataTable、Datarow、DataColumn的关系以及用法", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"CDataTableDatarowDataColumn_0\"></a>C#三分钟教你理解DataTable、Datarow、DataColumn的关系以及用法！</h1>\n<p><font color=\"#FF00FF\">码字不易，点赞关注加收藏，谢谢各位看官老爷了！！！！。<br/> <font color=\"#FF00FF\">码字不易，点赞关注加收藏，谢谢各位看官老爷了！！！！。<br/> <font color=\"#FF00FF\">码字不易，点赞关注加收藏，谢谢各位看官老爷了！！！！。<br/> <code>最终实现下图的效果：</code><br/> <img alt=\"在这里插入图片描述\" src=\"image\\b493f19161dd4c3e8079a6f7fa98d5cf.png\"/></font></font></font></p>\n<hr/>\n<p></p>\n<div class=\"toc\">\n<h3>C#三分钟教你理解DataTable、Datarow、DataColumn的关系以及用法！</h3>\n<ul><li><a href=\"#CDataTableDatarowDataColumn_0\">C#三分钟教你理解DataTable、Datarow、DataColumn的关系以及用法！</a></li><li><a href=\"#_15\">前言</a></li><li><a href=\"#_20\">一、几者的关系</a></li><li><a href=\"#_30\">二、声明以及初始化</a></li><li><ul><li><a href=\"#1DataTable_33\">1、DataTable的创建</a></li><li><a href=\"#2DataColumn_43\">2、DataColumn的创建</a></li><li><a href=\"#3DataRow_58\">3、DataRow的创建</a></li><li><a href=\"#4DataSet_78\">4、DataSet的创建</a></li><li><a href=\"#5_90\">5、数据查询</a></li><li><ul><li><a href=\"#DataSetDataTable_91\">①遍历DataSet中所有DataTable</a></li><li><a href=\"#DataTableDataColumn_100\">②遍历DataTable中所有DataColumn</a></li><li><a href=\"#DataTableDataRow_112\">③遍历DataTable中所有DataRow数据</a></li></ul>\n</li><li><a href=\"#6_137\">6、完整代码</a></li></ul>\n</li><li><a href=\"#_198\">总结</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"_15\"></a>前言</h1>\n<p><code>提示：以下是本篇文章正文内容，下面案例可供参考</code></p>\n<h1><a id=\"_20\"></a>一、几者的关系</h1>\n<p><code>几者的关系如下所示：</code></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\4eb6ced0d6bd42abab7b13486f5f8bf7.png\"/><br/> <font color=\"#099AAA\"><br/> DataSet里可以放多个DataTable，，其次就是DataTable里是由两部分组成的，一个是DataColumn，一个是DataRow。可以将其想像成为一个Excel文件，Dataset就是每页excel，dataTable就是每页内存储的数据，datarow和dataColumn就当成是数据的行和列。所以我们操作其数据可以根据表头也可以根据行和列的索引进行相关操作。</font></p>\n<h1><a id=\"_30\"></a>二、声明以及初始化</h1>\n<h2><a id=\"1DataTable_33\"></a>1、DataTable的创建</h2>\n<p><code>代码如下：</code></p>\n<pre><code class=\"prism language-csharp\"><span class=\"token comment\">//1、首先创建一个DataTable对象 表名为Mytable</span>\n            <span class=\"token class-name\">DataTable</span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataTable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Mytable\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"2DataColumn_43\"></a>2、DataColumn的创建</h2>\n<p><code>代码如下：</code></p>\n<pre><code class=\"prism language-csharp\"> <span class=\"token comment\">//2、创建四列并添加到DataTable的列中 列名分别是 姓名 性别 年龄 兴趣</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"姓名\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"性别\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"年龄\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"兴趣\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><font color=\"#0000FF\"> F12进入到DataColumn的构造函数可以看到小括号内的字符串就是列名称<br/> <img alt=\"在这里插入图片描述\" src=\"image\\bc1966f3f01144b68acf01a835af3942.png\"/></font></p>\n<h2><a id=\"3DataRow_58\"></a>3、DataRow的创建</h2>\n<p><code>代码如下：</code></p>\n<pre><code class=\"prism language-csharp\">\n <span class=\"token comment\">//3、下面我们需要往这个表里添加一些数据</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token class-name\">DataRow</span> dr <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">NewRow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">//分别给各列名如下的行赋值</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"姓名\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"张三\"</span><span class=\"token operator\">+</span>i<span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"性别\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"男\"</span><span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"年龄\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token operator\">+</span>i<span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"兴趣\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"打篮球\"</span> <span class=\"token operator\">+</span> i<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">//将此条记录加入到dt中去</span>\n                dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n</code></pre>\n<p><font color=\"#0000FF\"> 注意这里要用到DataTable.NewRow()方法来创建一个新的实例。</font></p>\n<h2><a id=\"4DataSet_78\"></a>4、DataSet的创建</h2>\n<p><code>代码如下：</code></p>\n<pre><code class=\"prism language-csharp\">\n <span class=\"token comment\">//4、DataSet 声明以及初始化：</span>\n           <span class=\"token comment\">//将这个DataTable加入到DataSet中去</span>\n            <span class=\"token class-name\">DataSet</span> ds <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            ds<span class=\"token punctuation\">.</span>Tables<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"5_90\"></a>5、数据查询</h2>\n<h3><a id=\"DataSetDataTable_91\"></a>①遍历DataSet中所有DataTable</h3>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> item <span class=\"token keyword\">in</span> ds<span class=\"token punctuation\">.</span>Tables <span class=\"token punctuation\">)</span><span class=\"token comment\">//遍历DataSet中的所有Datatable</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token class-name\">DataTable</span> dt0 <span class=\"token operator\">=</span> item <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataTable</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"DataTableDataColumn_100\"></a>②遍历DataTable中所有DataColumn</h3>\n<pre><code class=\"prism language-csharp\"><span class=\"token comment\">//遍历Datatable中所有列并打印每一行的表头</span>\n<span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> itemColumns <span class=\"token keyword\">in</span> dt0<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n<span class=\"token comment\">//这里要用到as表达式或者强制类型转换，否则的话没法找到其ColumnName属性。</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemColumns <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataColumn</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ColumnName<span class=\"token operator\">+</span><span class=\"token string\">\"||\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"DataTableDataRow_112\"></a>③遍历DataTable中所有DataRow数据</h3>\n<pre><code class=\"prism language-csharp\"><span class=\"token comment\">//第一种方法  采用扩展方法 .Field的方式</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----方法1：采用扩展方法的方式----------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> itemRows <span class=\"token keyword\">in</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"姓名\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"  \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"性别\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"年龄\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"兴趣\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----方法2：采用查询索引的方式----------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{0}{1}{2}{3}\"</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><font color=\"#0000FF\"> 这里用到了DataRow的扩展方法.Field,可以F12进去看他的定义如下：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\de6ed6b0bdf24256abb73f69ae3c4f20.png\"/><font color=\"#0000FF\"> 其中方法一我采用这种格式： Field&lt;返回值类型&gt;(“列名称”)，方法二类似数据库查表的方式一样</font></font></p>\n<h2><a id=\"6_137\"></a>6、完整代码</h2>\n<p><code>代码量不多就不上传git了拷贝过去就能用了，完整代码如下：</code></p>\n<pre><code class=\"prism language-csharp\">  <span class=\"token comment\">//1、首先创建一个DataTable对象 表名为Mytable</span>\n            <span class=\"token class-name\">DataTable</span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataTable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Mytable\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//2、创建四列并添加到DataTable的列中 列名分别是 姓名 性别 年龄 兴趣</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"姓名\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"性别\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"年龄\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"兴趣\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//3、下面我们需要往这个表里添加一些数据</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token class-name\">DataRow</span> dr <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">NewRow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">//分别给各列名如下的赋值</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"姓名\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"张三\"</span><span class=\"token operator\">+</span>i<span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"性别\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"男\"</span><span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"年龄\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token operator\">+</span>i<span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"兴趣\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"打篮球\"</span> <span class=\"token operator\">+</span> i<span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">//将此条记录加入到dt中去</span>\n                dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            \n            <span class=\"token comment\">//将这个DataTable加入到DataSet中去</span>\n            <span class=\"token class-name\">DataSet</span> ds <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            ds<span class=\"token punctuation\">.</span>Tables<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> item <span class=\"token keyword\">in</span> ds<span class=\"token punctuation\">.</span>Tables <span class=\"token punctuation\">)</span><span class=\"token comment\">//遍历DataSet中的所有Datatable</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token class-name\">DataTable</span> dt0 <span class=\"token operator\">=</span> item <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataTable</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> itemColumns <span class=\"token keyword\">in</span> dt0<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">)</span><span class=\"token comment\">//遍历Datatable中所有列并打印每一行的表头</span>\n                <span class=\"token punctuation\">{<!-- --></span>\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemColumns <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataColumn</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ColumnName<span class=\"token operator\">+</span><span class=\"token string\">\"||\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token comment\">//第一种方法  采用扩展方法 .Field的方式</span>\n                Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------采用扩展方法的方式----------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> itemRows <span class=\"token keyword\">in</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{<!-- --></span>\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"姓名\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"  \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"性别\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"   \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"年龄\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"   \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>itemRows <span class=\"token keyword\">as</span> <span class=\"token class-name\">DataRow</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Field</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">&gt;</span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"兴趣\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"   \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n\n                Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------采用查询索引的方式----------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{<!-- --></span>\n                    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{0}  {1}   {2}   {3}\"</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i <span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt0<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            Console<span class=\"token punctuation\">.</span><span class=\"token function\">ReadKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"_198\"></a>总结</h1>\n<p>以上就是今天要讲的内容，简单介绍了DataSet、DataTable、DataColumn、DataRow的使用。</p>\n<font color=\"#FF00FF\"> 码字不易，点赞关注加收藏，谢谢各位看官老爷了！！！！。 </font>\n<font color=\"#FF00FF\"> 码字不易，点赞关注加收藏，谢谢各位看官老爷了！！！！。 </font>\n<font color=\"#FF00FF\"> 码字不易，点赞关注加收藏，谢谢各位看官老爷了！！！！。 </font>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}