{"blogid": "126349150", "writerAge": "码龄2年", "writerBlogNum": "73", "writerCollect": "22", "writerComment": "12", "writerFan": "7", "writerGrade": "3级", "writerIntegral": "761", "writerName": "王大队长", "writerProfileAdress": "writer_image\\profile_126349150.jpg", "writerRankTotal": "25995", "writerRankWeekly": "4066", "writerThumb": "21", "writerVisitNum": "16726", "blog_read_count": "943", "blog_time": "已于 2022-08-19 16:25:58 修改", "blog_title": "C++中cin输入空格", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>我们往往在cin中输入的都是连续的字符串或者整数，比如：</p>\n<p></p>\n<p class=\"img-center\"><img alt=\"\" height=\"299\" src=\"image\\e7de16760b934d4aa4b016ef32f6d0b6.png\" width=\"426\"/></p>\n<p class=\"img-center\"><img alt=\"\" height=\"59\" src=\"image\\5fe813d9a39e4c188abccb60cdfe7732.png\" width=\"249\"/></p>\n<p> 在上面的代码中我们输入用户名字并输出名字，可以发现我们输入的是连续的字符串然后按回车进行输出名字。但是如果我们的名字改为wang xiaoming呢？这时会发生什么呢？</p>\n<p class=\"img-center\"><img alt=\"\" height=\"80\" src=\"image\\98a2de6350ce4b2786ac96a57944a7d2.png\" width=\"209\"/></p>\n<p> 我们发现一旦输入的是不连续的字符串，cin只能读取空格前面的字符串，遇到空格便停止！</p>\n<p></p>\n<p>让我们再来看看下面这个简单的案例，读取用户名字以及喜欢的甜点，最后打印出来！</p>\n<p class=\"img-center\"><img alt=\"\" height=\"395\" src=\"image\\983cbf48d0574e39960de3e6cacde8a1.png\" width=\"653\"/></p>\n<p class=\"img-center\"><img alt=\"\" height=\"104\" src=\"image\\1cff838aab21407cb2be54e86fd80f2b.png\" width=\"386\"/></p>\n<p>这个案例里，我们将输入的name和dessert用name数组和dessert数组进行存储！ </p>\n<p> 这里我们连续进行两个cin，这在输入字符串为连续的情况下没什么问题，但是如果我们的字符串是不连续带空格的呢？我们将name换成wang xiaoming试试！</p>\n<p class=\"img-center\"><img alt=\"\" height=\"72\" src=\"image\\71f2493b74f24c0e8f3a5e71b7168f2f.png\" width=\"376\"/></p>\n<p> 奇怪的事情发生了！我们还没有输入甜点名称，便跳过cin&gt;&gt;dessert直接输出了，并且输出的desert为我们不连续name的空格的后面的字符串！</p>\n<p>于是，经过上面两个案例，不禁引起我们的思考，cin是如何确认已完成字符串的输入？以及第二个例子为什么会跳过第二个cin呢？</p>\n<p>事实上，cin使用空白（空格、制表符和换行符）来确认字符串的结束位置，这意味着不要以为你敲了一大堆按下回车的时候觉得输出的是你回车前面的所有字符，只要你输入有空格或者制表符，那空格或制表符后面敲的都不会输出！因此直接cin并不是一次读取回车前的整行！</p>\n<p>我们第二个例子的实际结果是：cin把wang作为第一个字符串并放到name数组中。这把xiaoming留在<strong>队列</strong>中。当cin在输入队列搜索用户喜欢的甜点时，它发现了xiaoming，因此cin读取xiaoming，并将其放到dessert数组中！</p>\n<p></p>\n<p>那么，有没有办法一次读取一整行呢？有，那就是cin.getline()函数和cin.get函数！</p>\n<p>这两个函数都读取一行输入，直到达到换行符。但是，随后getline将丢弃换行符(用空字符代替)，</p>\n<p class=\"img-center\"><img alt=\"\" height=\"429\" src=\"image\\f49bdc3e5eee4c20823e2fe1f1825cbe.png\" width=\"490\"/></p>\n<p>而get将换行符保留在输入序列中！</p>\n<p>cin.gteline函数有两个参数，第一个是用来存储输入行的数组的名称，第二个参数是要读取的字符数，如果这个参数为20，则函数最多可以读取19个字符，余下的空间用来存储自动在结尾处添加的空字符。getline成员函数在读取指定数目的字符或遇到换行符时停止读取。</p>\n<p>于是我们使用cin.getline来重新实现第二个案例：</p>\n<p class=\"img-center\"><img alt=\"\" height=\"393\" src=\"image\\bd7deb47328e4fe4bad2409003fc2e0a.png\" width=\"704\"/></p>\n<p class=\"img-center\"><img alt=\"\" height=\"105\" src=\"image\\f3491db91746450c8edd8780b16334dd.png\" width=\"417\"/></p>\n<p> 可以发现此时结果没问题！</p>\n<p>cin.get函数与cin.getline函数接受的参数相同，但是由于cin.get不丢弃换行符的原因，我们往往在两个cin.get函数间插入一个空的cin.get表示读取下一个字符！</p>\n<p>原因：</p>\n<p><img alt=\"\" height=\"202\" src=\"image\\e418da5a218d46cf92aa45d64866ce39.png\" width=\"1081\"/></p>\n<p class=\"img-center\"><img alt=\"\" height=\"92\" src=\"image\\eea7a35e05d749c5adfb61b1685f4952.png\" width=\"614\"/></p>\n<p></p>\n<p class=\"img-center\"><img alt=\"\" height=\"411\" src=\"image\\d85cc539808f40f6a0255ed647da1d9e.png\" width=\"700\"/></p>\n<p class=\"img-center\"><img alt=\"\" height=\"93\" src=\"image\\31b76bf27bc648529906efe9bce0d2fa.png\" width=\"443\"/></p>\n<p> 或者我们可以在11行改动一下变成cin.get(name,20).get()这样直接再调用一次cin类的get函数也能起到相同效果：</p>\n<p class=\"img-center\"><img alt=\"\" height=\"390\" src=\"image\\ef3d4a63421d4aa49fb071856b49e51b.png\" width=\"700\"/></p>\n<p class=\"img-center\"><img alt=\"\" height=\"104\" src=\"image\\b144a90c40a74b7a85a5190e771dcf2e.png\" width=\"403\"/></p>\n<p></p>\n<p>下面放一点getline和get函数的具体用法吧</p>\n<p><a href=\"https://www.csdndocs.com/article/9846093#:~:text=cin.get%20%28%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%2C%20%E5%AD%97%E7%AC%A6%E4%B8%AA%E6%95%B0n%2C,%E7%BB%88%E6%AD%A2%E5%AD%97%E7%AC%A6%29%20%E5%85%B6%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%8E%E8%BE%93%E5%85%A5%E6%B5%81%E4%B8%AD%E8%AF%BB%E5%8F%96n-1%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%8C%E8%B5%8B%E7%BB%99%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%20%28%E6%88%96%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88%E6%8C%87%E5%90%91%E7%9A%84%E6%95%B0%E7%BB%84%29%EF%BC%8C%20%E5%A6%82%E6%9E%9C%E5%9C%A8%E8%AF%BB%E5%8F%96n-1%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B9%8B%E5%89%8D%E9%81%87%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9A%84%E7%BB%88%E6%AD%A2%E5%AD%97%E7%AC%A6%EF%BC%8C%E5%88%99%E6%8F%90%E5%89%8D%E7%BB%93%E6%9D%9F%E8%AF%BB%E5%8F%96%E3%80%82\" title=\"C/C++——输入输出字符相关,cin.get()、getchar()和cin.getline()-女装淘宝店招牌-程序博客网 (csdndocs.com)\">C/C++——输入输出字符相关,cin.get()、getchar()和cin.getline()-女装淘宝店招牌-程序博客网 (csdndocs.com)</a></p>\n<p>我们上面都是用char数组放进getline函数或者get函数的，那么可以用string吗？答案是可以：</p>\n<p class=\"img-center\"><img alt=\"\" height=\"365\" src=\"image\\4dc30eed2fc34d548395ad413d17b1c2.png\" width=\"761\"/></p>\n<p></p>\n<p> 参考资料：</p>\n<blockquote>\n<p>C++ Prime Plus第六版</p>\n</blockquote>\n</div>\n</div>"}