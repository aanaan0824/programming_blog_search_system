{"blogid": "126596665", "writerAge": "ç é¾„2å¹´", "writerBlogNum": "93", "writerCollect": "5012", "writerComment": "5432", "writerFan": "4920", "writerGrade": "7çº§", "writerIntegral": "13448", "writerName": "ä¸€åä¸ä¼šæ‰“å­—çš„ç¨‹åºå‘˜", "writerProfileAdress": "writer_image\\profile_126596665.jpg", "writerRankTotal": "786", "writerRankWeekly": "73", "writerThumb": "5234", "writerVisitNum": "78453", "blog_read_count": "1566", "blog_time": "å·²äºÂ 2022-08-30 09:51:39Â ä¿®æ”¹", "blog_title": "ã€C++éš¾ç‚¹æ”¶å½•ã€‘â€œä¸ºä»€ä¹ˆC++éš¾ï¼Œä½ çœŸçš„ç†è§£äº†è¿™äº›å—ï¼Ÿâ€ã€Šå¸¸è§é¢è¯•é¢˜ã€‹", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-github-gist\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/f7f5e8f696074d79bb7c7cfaab2ea5d2.gif#pic_center\"/></p>\n<blockquote>\n<p>ğŸ§<strong>ä¸»é¡µè¯¦æƒ…</strong>ï¼š<a href=\"https://blog.csdn.net/weixin_51568389?spm=1011.2435.3001.5343\">ä¸ªäººä¸»é¡µ</a><br/> ğŸ“¢<strong>ä½œè€…ç®€ä»‹</strong>ï¼šğŸ…ç‰©è”ç½‘é¢†åŸŸåˆ›ä½œè€…ğŸ… and ğŸ…é˜¿é‡Œä¸“å®¶åšä¸»ğŸ… and ğŸ…åä¸ºäº‘äº«ä¸“å®¶ğŸ…<br/> âœï¸<strong>äººç”Ÿæ ¼è¨€</strong>ï¼šæœ€æ…¢çš„æ­¥ä¼ä¸æ˜¯è·¬æ­¥ï¼Œè€Œæ˜¯å¾˜å¾Šï¼›æœ€å¿«çš„è„šæ­¥ä¸æ˜¯å†²åˆºï¼Œè€Œæ˜¯åšæŒã€‚<br/> ğŸ§‘â€ğŸ’»<strong>äººç”Ÿç›®æ ‡</strong>ï¼šæˆä¸ºä¸€ååˆæ ¼çš„ç¨‹åºå‘˜ï¼Œåšæœªå®Œæˆçš„æ¢¦ï¼šå®ç°è´¢å¯Œè‡ªç”±ã€‚<br/> ğŸš©<strong>æŠ€æœ¯æ–¹å‘</strong>ï¼šNULL<br/> ğŸ€„å¦‚æœè§‰å¾—åšä¸»çš„æ–‡ç« è¿˜ä¸é”™çš„è¯ï¼Œè¯·ä¸‰è¿æ”¯æŒä¸€ä¸‹åšä¸»å“¦<br/> ğŸ’¬ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªæˆ‘ä¸€ç›´åœ¨ç”¨çš„æ±‚èŒåˆ·é¢˜æ”¶å‰²offeğŸ‘‰<a href=\"https://www.nowcoder.com/link/pc_csdncpt_choice_c\">ç‚¹å‡»è¿›å…¥ç½‘ç«™</a></p>\n</blockquote>\n<blockquote>\n<p>ğŸ«<strong>ç³»åˆ—ä¸“æ </strong>(<strong>å…è´¹</strong>)ï¼š<br/> 1ï¸âƒ£ <a href=\"https://blog.csdn.net/weixin_51568389/category_11830402.html\">Cè¯­è¨€è¿›é˜¶</a><br/> 2ï¸âƒ£ <a href=\"https://blog.csdn.net/weixin_51568389/category_11816257.html\">æ•°æ®ç»“æ„ä¸ç®—æ³•(Cè¯­è¨€ç‰ˆ)</a><br/> 3ï¸âƒ£ <a href=\"https://blog.csdn.net/weixin_51568389/category_11846393.html\">Linuxå®å…¸</a><br/> 4ï¸âƒ£ <a href=\"https://blog.csdn.net/weixin_51568389/category_11913272.html\">C++ä»å…¥é—¨åˆ°ç²¾é€š</a><br/> 5ï¸âƒ£ <a href=\"https://blog.csdn.net/weixin_51568389/category_11849487.html?spm=1001.2014.3001.5482\">C++ä»å…¥é—¨åˆ°å®æˆ˜</a><br/> 6ï¸âƒ£ <a href=\"https://blog.csdn.net/weixin_51568389/category_11865484.html\">JavaScriptä»å…¥é—¨åˆ°ç²¾é€š</a><br/> 7ï¸âƒ£<a href=\"https://blog.csdn.net/weixin_51568389/category_11855792.html\">101ç®—æ³•JavaScriptæè¿°</a><br/> 8ï¸âƒ£<a href=\"https://blog.csdn.net/weixin_51568389/category_11919872.html\">å¾®ä¿¡å°ç¨‹åºé›¶åŸºç¡€å¼€å‘</a><br/> 9ï¸âƒ£<a href=\"https://blog.csdn.net/weixin_51568389/category_11908469.html?spm=1001.2014.3001.5482\">ç‰›å®¢ç½‘åˆ·é¢˜ç¬”è®°</a><br/> ğŸ”Ÿ<a href=\"https://blog.csdn.net/weixin_51568389/category_11950200.html\">è®¡ç®—æœºè¡Œä¸šçŸ¥è¯†(è¡¥å……)</a></p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_24\">å‰è¨€</a></li><li><a href=\"#_27\">ç±»ä¸å¯¹è±¡</a></li><li><ul><li><a href=\"#this_33\">éšå«thisæŒ‡é’ˆ</a></li><li><a href=\"#_95\">æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</a></li><li><a href=\"#_127\">æ‹·è´æ„é€ </a></li></ul>\n</li><li><a href=\"#_196\">å†…å­˜ç®¡ç†</a></li><li><ul><li><a href=\"#operator_newoperator_delete_265\">operator newå’Œoperator deleteå‡½æ•°</a></li></ul>\n</li><li><a href=\"#_314\">æ¨¡æ¿</a></li><li><ul><li><a href=\"#_431\">å¼•ç”¨çš„å¥‡æ·«é£æŠ€</a></li></ul>\n</li><li><a href=\"#string_437\">string</a></li><li><ul><li><a href=\"#string_439\">æ¨¡ä»¿å®ç°string</a></li></ul>\n</li><li><a href=\"#_715\">é¢è¯•é¢˜</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"_24\"></a>å‰è¨€</h1>\n<blockquote>\n<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒC++ä¸ºä»€ä¹ˆä¼šéš¾ï¼Œåˆ°åº•éš¾åœ¨å“ªé‡Œï¼Ÿå°ç¼–é€šè¿‡æœ¬æ–‡å‘Šè¯‰ä½ ï¼›å‘å·²å¡«å¥½ï¼Œæ¬¢è¿è·¯è¿‡ã€‚</p>\n</blockquote>\n<h1><a id=\"_27\"></a>ç±»ä¸å¯¹è±¡</h1>\n<p>ä¸´æ—¶å˜é‡å…·æœ‰å¸¸æ€§ï¼ˆå‡½æ•°ï¼Œå¼•ç”¨ï¼‰</p>\n<p>å†…è”å‡½æ•°æ²¡æœ‰åœ°å€</p>\n<h2><a id=\"this_33\"></a>éšå«thisæŒ‡é’ˆ</h2>\n<pre><code class=\"prism language-c++\">class Data\n{\nvoid Init(int year=0,int month=3,int day=4)\n    {\n      _year=year;\n        _month=month;\n        _day=day;\n        \n        //ç±»ä¼¼äº\n        this-&gt;_year=year;\n        this-&gt;_month=month;\n        this-&gt;_day=day;\n    }\n    \n};\n</code></pre>\n<p>thisæŒ‡é’ˆå­˜åœ¨æ ˆä¸Šï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå½¢å‚</p>\n<p><img alt=\"image-20220822080811313\" src=\"image\\f2f91225783946d5c9872e6c090e2924.png\"/></p>\n<pre><code class=\"prism language-c++\">#include&lt;iostream&gt;\nusing namespace std;\n\nclass A\n{\npublic:\n  \n\tvoid print()\n\t{\n\t\tcout &lt;&lt; _a2 &lt;&lt; endl;//this-&gt;_a2\n\t}\n\tvoid show()\n\t{\n\t\tcout &lt;&lt; \"show()\"&lt;&lt;endl;\n\t}\nprivate:\n\tint _a2;\n};\n\nint main()\n{\n\n\tA *p = NULL;//p-&gt;print(p);\n\tp-&gt;print();//è¿™ä¸€è¡Œä¼šå¼•å‘ä»€ä¹ˆï¼Ÿç¼–è¯‘ä¸é€šè¿‡ï¼Ÿç¨‹åºå´©æºƒï¼Ÿæ­£å¸¸è¿è¡Œï¼Ÿ//å´©æºƒ\n\tp-&gt;show();//è¿™ä¸€è¡Œä¼šå¼•å‘ä»€ä¹ˆï¼Ÿç¼–è¯‘ä¸é€šè¿‡ï¼Ÿç¨‹åºå´©æºƒï¼Ÿæ­£å¸¸è¿è¡Œï¼Ÿ//æ­£å¸¸è¿è¡Œ\n\t//æˆå‘˜å‡½æ•°å­˜åœ¨å…¬å…±çš„ä»£ç æ®µï¼Œæ‰€ä»¥p-&gt;show()è¿™é‡Œä¸ä¼šå–pæŒ‡å‘çš„å¯¹è±¡ä¸Šæ‰¾\n\t//è®¿é—®æˆå‘˜å‡½æ•°ï¼Œæ‰ä¼šå»æ‰¾\n\n\tA a;\n\ta.print();//p-&gt;print(&amp;a);\n\n\treturn 0;\n}\n</code></pre>\n<h2><a id=\"_95\"></a>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</h2>\n<pre><code class=\"prism language-c++\">Date d1;//æˆ‘ä»¬ä¸å†™ç¼–è¯‘å™¨ç”Ÿæˆ 2ï¼Œå…¨ç¼ºçœçš„ 3.æ— å‚æ•°çš„  -ã€‹ é»˜è®¤æ„é€ å‡½æ•° -ã€‹ä¸ä¼ å‚æ•°å¯ä»¥è°ƒç”¨çš„\n</code></pre>\n<p>æˆ‘ä»¬ä¸å†™ï¼Œç¼–è¯‘å™¨ç”Ÿæˆæ„é€ å‡½æ•°å’Œææ„å‡½æ•°</p>\n<p>å†…ç½®ç±»å‹/åŸºæœ¬ç±»å‹ ï¼ˆint/charï¼‰ä¸ä¼šå¤„ç†</p>\n<p>è‡ªå®šä¹‰ç±»å‹ è°ƒç”¨å®ƒçš„æ„é€ å‡½æ•°åˆå§‹åŒ–/ææ„å‡½æ•°(new /delete)</p>\n<pre><code class=\"prism language-c++\">class Time\n{\n\t~Time()\n\t{\n\t\n\t}\n};\nclass Date\n{\nprivate:\n\tint _size;\n\tint _capaciti;\n\t\n\tTime _t;//è‡ªå®šä¹‰ç±»å‹\n\n};\n\n</code></pre>\n<h2><a id=\"_127\"></a>æ‹·è´æ„é€ </h2>\n<pre><code class=\"prism language-c++\">#include&lt;iostream&gt;\nusing namespace std;\n\nclass Date\n{ \npublic:\n\tDate(int year = 0, int month = 3, int day = 4)\n\t{\n\t\t_year = year;\n\t\t_month = month;\n\t\t_day = day;\n\t}\n    //err\n\t/*Date(Date d2)\n\t{\n\t\t_year = d2._year;\n\t\t_month = d2._month;\n\t\t_day = d2._day;\n\t}*/\nprivate:\n\tint _year;\n\tint _month;\n\tint _day;\n};\nint main()\n{\n\n\tDate d1(2022,10,10);\n\t\n    //è¿™ä¸¤ä¸ªå†™æ³•éƒ½è°ƒç”¨æ‹·è´æ„é€ \n\tDate d2(d1);//è°ƒç”¨æ‹·è´æ„é€ \n\tDate d3 = d2;\n    \n\treturn 0;\n}\n</code></pre>\n<p><img alt=\"image-20220822102953807\" src=\"image\\06569510c0184c83f7b971e325cdc9bd.png\"/></p>\n<p>æœ‰ä¸‰ç§ä¼ å‚æ–¹å¼ï¼š</p>\n<ol><li>ä¼ å€¼ï¼ˆd2ï¼‰ä¼ å‚éœ€è¦æ‹·è´æ„é€ ï¼Œç„¶åæ‹·è´çš„æ—¶å€™ä¼šå‘ç”Ÿé€’å½’ï¼Œä¸ä¼šæ„é€ </li><li>ä¼ å€ï¼ˆ*d2ï¼‰</li><li>ä¼ å¼•ç”¨ï¼ˆ&amp;d2ï¼‰ä¼šç›´æ¥æ„é€ ï¼Œå› ä¸ºå¼•ç”¨æ˜¯å®ƒçš„åˆ«åï¼Œç›´æ¥è¿›å…¥äº†</li></ol>\n<p>å»ºè®®ï¼šä¼ å…¥å¼•ç”¨</p>\n<pre><code class=\"prism language-c++\">\tDate(Date&amp; d2)//ç±»ä¼¼äº Date &amp;d2=d1;\n\t{\n\t\t_year = d2._year;\n\t\t_month = d2._month;\n\t\t_day = d2._day;\n\t}\n</code></pre>\n<p>ç„¶åæˆ‘ä»¬æŠŠèµ‹å€¼åè¿‡æ¥ï¼š<code>d2._day=__day;</code>ç¼–è¯‘è¿è¡Œé€šè¿‡äº†</p>\n<p><img alt=\"image-20220822104700034\" src=\"image\\4a7fdd986b5380166d847262afde0772.png\"/></p>\n<p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æŠŠæœªåˆå§‹çš„_dayèµ‹å€¼ç»™äº†d2ï¼Œæœªåˆå§‹åŒ–éƒ½æ˜¯éšæœºå€¼ï¼Œè¿™é‡Œä¹Ÿæ˜¯å¼•ç”¨ï¼Œæ”¹å˜äº†åŸæœ‰çš„å€¼ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š<strong>const</strong>é˜²æ­¢æ”¹å˜</p>\n<pre><code class=\"prism language-c++\">Date(const Date&amp; d2)\n</code></pre>\n<h1><a id=\"_196\"></a>å†…å­˜ç®¡ç†</h1>\n<pre><code class=\"prism language-c++\">int globalVar = 1;\nstatic int staticGlobalVar = 1;\nvoid Test()\n{\nstatic int staticVar = 1;\nint localVar = 1;\nint num1[10] = {1, 2, 3, 4};\nchar char2[] = \"abcd\";\nchar* pChar3 = \"abcd\";\nint* ptr1 = (int*)malloc(sizeof (int)*4);\nint* ptr2 = (int*)calloc(4, sizeof(int));\nint* ptr3 = (int*)realloc(ptr2, sizeof(int)*4);\nfree (ptr1);\nfree (ptr3);\n}\n</code></pre>\n<pre><code>1. é€‰æ‹©é¢˜ï¼š\né€‰é¡¹: A.æ ˆ B.å † C.æ•°æ®æ®µ D.ä»£ç æ®µ\nglobalVaråœ¨å“ªé‡Œï¼Ÿ____ staticGlobalVaråœ¨å“ªé‡Œï¼Ÿ____\nstaticVaråœ¨å“ªé‡Œï¼Ÿ____ localVaråœ¨å“ªé‡Œï¼Ÿ____\nnum1 åœ¨å“ªé‡Œï¼Ÿ____\nchar2åœ¨å“ªé‡Œï¼Ÿ____ *char2åœ¨å“ªé‡Œï¼Ÿ___\npChar3åœ¨å“ªé‡Œï¼Ÿ____ *pChar3åœ¨å“ªé‡Œï¼Ÿ____\nptr1åœ¨å“ªé‡Œï¼Ÿ____ *ptr1åœ¨å“ªé‡Œï¼Ÿ____\n\nç­”æ¡ˆï¼šCCCAAAAADAB\n\n2. å¡«ç©ºé¢˜ï¼š\nsizeof(num1) = ____;\nsizeof(char2) = ____; strlen(char2) = ____;\nsizeof(pChar3) = ____; strlen(pChar3) = ____;\nsizeof(ptr1) = ____;\n\n\nç­”æ¡ˆï¼š40ï¼Œ5ï¼Œ4ï¼Œ4/8ï¼Œ4ï¼Œ4/8\n</code></pre>\n<p><img alt=\"image-20220823173904630\" src=\"image\\04e0c786cb8230bd82403b29ce6444a6.png\"/></p>\n<blockquote>\n<p><img alt=\"image-20220823174715516\" src=\"image\\6a0749d3900f978831709f8c0f92a54a.png\"/></p>\n<p>ã€è¯´æ˜ã€‘</p>\n<ol><li> <p>æ ˆåˆå«å †æ ˆï¼Œéé™æ€å±€éƒ¨å˜é‡/å‡½æ•°å‚æ•°/è¿”å›å€¼ç­‰ç­‰ï¼Œæ ˆæ˜¯å‘ä¸‹å¢é•¿çš„ã€‚</p> </li><li> <p>å†…å­˜æ˜ å°„æ®µæ˜¯é«˜æ•ˆçš„I/Oæ˜ å°„æ–¹å¼ï¼Œç”¨äºè£…è½½ä¸€ä¸ªå…±äº«çš„åŠ¨æ€å†…å­˜åº“ã€‚ç”¨æˆ·å¯ä½¿ç”¨ç³»ç»Ÿæ¥å£åˆ›å»ºå…±äº«å…±<br/> äº«å†…å­˜ï¼Œåšè¿›ç¨‹é—´é€šä¿¡ã€‚ï¼ˆLinuxè¯¾ç¨‹å¦‚æœæ²¡å­¦åˆ°è¿™å—ï¼Œç°åœ¨åªéœ€è¦äº†è§£ä¸€ä¸‹ï¼‰</p> </li><li> <p>å †ç”¨äºç¨‹åºè¿è¡Œæ—¶åŠ¨æ€å†…å­˜åˆ†é…ï¼Œå †æ˜¯å¯ä»¥ä¸Šå¢é•¿çš„ã€‚</p> </li><li> <p>æ•°æ®æ®µâ€“å­˜å‚¨å…¨å±€æ•°æ®å’Œé™æ€æ•°æ®ã€‚</p> </li><li> <p>ä»£ç æ®µâ€“å¯æ‰§è¡Œçš„ä»£ç /åªè¯»å¸¸é‡ã€‚</p> </li></ol>\n</blockquote>\n<p>æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†ï¼š</p>\n<ol><li> <p>åˆ†æ®µï¼šä¸åŒç”¨é€”æ•°æ®æ”¾åˆ°ä¸åŒçš„åŒºåŸŸï¼Œå°±åƒæˆ‘ä»¬ç°å®ä¸­ä¹Ÿä¼šå¯¹çœå¸‚ä¹¡çº§åˆ’åˆ†åŒºåŸŸä¸ºä¸€æ ·</p> </li><li> <p>åˆ†é¡µï¼š</p> </li></ol>\n<p>å¡«ç©ºé¢˜</p>\n<p><img alt=\"image-20220823174239686\" src=\"image\\dda4edd3a2f9e447b561f135ae00347f.png\"/></p>\n<h2><a id=\"operator_newoperator_delete_265\"></a>operator newå’Œoperator deleteå‡½æ•°</h2>\n<p>æˆ‘ä»¬ç›¸åŒçš„æ–¹æ³•ä¸åŒçš„æ“ä½œæ¥ç”³è¯·ç©ºé—´</p>\n<pre><code class=\"prism language-c++\">A* p1=(A*)malloc(sizeof(A));\nA* p2=new A;//ä¼šè°ƒç”¨æ„é€ å‡½æ•°\nA* p3 = (A*)operator new(sizeof(A));\n</code></pre>\n<p>operator newå’Œmallocçš„åŒºåˆ«ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç”³è¯·ç©ºé—´é”™è¯¯çš„æƒ…å†µæ˜¯ä»€ä¹ˆæ ·ï¼Œé¦–å…ˆæ˜¯malloc:</p>\n<blockquote>\n<p><img alt=\"image-20220823211307051\" src=\"image\\1a88ec1d058c8c794d0d3380ea05259b.png\"/></p>\n<p>ä»£ç ï¼š</p>\n<pre><code class=\"prism language-c++\">size_t size = 2;//æ— ç¬¦å·ç±»å‹\nvoid *p4 = malloc(1024 * 1024 * 1024 * size);\n</code></pre>\n<p><img alt=\"image-20220823211703049\" src=\"image\\8ca6f1c7a80c188d8a751b277771a585.png\"/></p>\n</blockquote>\n<p>è¿™é‡Œæˆ‘ä»¬ç”³è¯·å¤±è´¥è¿”å›0ï¼Œæˆ‘ä»¬å†çœ‹operator new:</p>\n<blockquote>\n<p>ä»£ç ï¼š</p>\n<pre><code class=\"prism language-c++\">void *p5 = operator new(1024 * 1024 * 1024 * size);\ncout &lt;&lt; p5 &lt;&lt; endl;\n</code></pre>\n<p><img alt=\"image-20220823211930509\" src=\"image\\760638c768ede2f87e5ca4be22d25e48.png\"/></p>\n</blockquote>\n<p>è¿™é‡Œå¤±è´¥æŠ›å‡ºå¼‚å¸¸ï¼ˆé¢å¯¹å¯¹è±¡å¤„ç†é”™è¯¯çš„æ–¹å¼ï¼‰</p>\n<blockquote>\n<p>ç»“è®ºï¼š</p>\n<p>ä½¿ç”¨æ–¹å¼éƒ½ä¸€æ ·ï¼Œå¤„ç†é”™è¯¯çš„æ–¹å¼ä¸å¤ªä¸€æ ·</p>\n</blockquote>\n<p>operator newé”€æ¯æ–¹å¼:<code>operator delete(p5);</code></p>\n<p><strong>æœ€åï¼šè¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œä¸ºä»€ä¹ˆåœ¨.hæ–‡ä»¶ä¸ç”¨åŒ…å«ä»»ä½•å¤´æ–‡ä»¶åº“å’Œå‘½åç©ºé—´ï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨.cppä¸­åŒ…å«å¤´æ–‡ä»¶çš„å‰é¢å…ˆåŠ å…¥äº†éœ€è¦ç¼–è¯‘åå±•å¼€çš„using å’Œå¤´æ–‡ä»¶ï¼Œå¦‚æœå‘½åç©ºé—´æ”¾åˆ°æ–‡ä»¶åï¼Œstring.hå¤´æ–‡ä»¶å°±ä¼šæ‰¾ä¸åˆ°coutå’Œcinï¼Œå› ä¸ºéœ€è¦å±•å¼€æ‰èƒ½ä½¿ç”¨åˆ°ï¼ˆå…ˆåé—®é¢˜ï¼‰</strong></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\de8f1eb406b741fc86fc82a047b147ef.png\"/></p>\n<h1><a id=\"_314\"></a>æ¨¡æ¿</h1>\n<p><code>T ADD(T&amp;a,T&amp;b)</code>ADD(a1,a2)Tçš„ç±»å‹æ˜¯ç¼–è¯‘å™¨è‡ªå·±æ¨å¯¼çš„(éšå¼),</p>\n<p>ADD(a1,a2)(æ˜¾ç¤ºï¼‰</p>\n<p>æˆ‘ä»¬ç”¨æ¨¡æ¿å®ç°æ ˆï¼š</p>\n<pre><code class=\"prism language-c++\">#include&lt;iostream&gt;\n#include&lt;assert.h&gt;\nusing namespace std;\ntemplate&lt;class T&gt;\nclass stack\n{\npublic:\n\tstack()\n\t\t:_a(nullptr)\n\t\t, _size(0)\n\t\t, _capcity(0)\n\t{}\n\n\t~stack()\n\t{\n\t\n\t\tdelete[]_a;\n\t\t_a = nullptr;\n\t\t_size = 0;\n\t\t_capcity = 0;\n\t}\n\t//è¿™é‡Œä¸ºäº†è®¿é—®ç§æœ‰é€šè¿‡å…¬å…±æ¥å£è¿”å›_size\n\tsize_t size()\n\t{\n\t\treturn _size;\n\t}\n\t\n\t//ç±»é‡Œé¢å£°æ˜ï¼Œç±»å¤–é¢å®šä¹‰stack&lt;T&gt;æ˜¯ä¸€ä¸ªç±»å‹\n\tT&amp; operator[](size_t i);\n\tvoid push_back(const T&amp;x);\n\tvoid pop_back();\n\n\nprivate:\n\tT*_a;\n\tsize_t _size;\n\tsize_t _capcity;\n\n};\n\ntemplate&lt;class T&gt;\nT&amp; stack&lt;T&gt;::operator[](size_t i)\n{\n\tassert(i &lt;_size);\n\treturn _a[i];\n}\n\n\ntemplate&lt;class T&gt;//å£°æ˜æ¨¡æ¿ç±»å‹Tï¼Œå› ä¸ºå·²ç»ä¸ç±»åˆ†ç¦»äº†,å‡½æ•°ç±»å‹æ˜¯stack&lt;T&gt;\nvoid stack&lt;T&gt;::push_back(const T&amp;x)\n{\n\t//ç©ºé—´ä¸å¤Ÿï¼Œéœ€è¦å¢å®¹\n\tif (_size == _capcity)\n\t{\n\t\tint newcapticy = _capcity == 0 ? 2 : _capcity * 2;\n\t\tT*tmp = new T[newcapticy];\n\t\t//\n\t\tif (_a)\n\t\t{\n\t\t\t//æŠŠæ—§çš„æ•°æ®æ‹·è´åˆ°æ–°çš„ç©ºé—´\n\t\t\tmemcpy(tmp, _a, sizeof(T)*_size);\n\t\t\tdelete[]_a;\n\t\t\t\n\t\t}\n\t\t_a = tmp;\n\t\t_capcity = newcapticy;\n\t}\n\t_a[_size] = x;\n\t_size++;\n}\n\ntemplate&lt;class T&gt;\nvoid stack&lt;T&gt;::pop_back()\n{\n\tassert(_size &gt; 0);\n\t_size--;\n}\n\n\nint main()\n{\n\n\tstack&lt;int&gt;v1;\n\tv1.push_back(1);\n\tv1.push_back(2);\n\tv1.push_back(3);\n\tv1.push_back(4);\n\tv1.push_back(5);\n\tv1.push_back(6);\n\tfor (size_t i = 0; i &lt; v1.size(); i++)\n\t{\n\t\tv1[i] *= 2;\n\t}\n\n\n\tfor (size_t i = 0; i &lt; v1.size(); i++)\n\t{\n\t\t//è¿™é‡Œçš„v1[i]ä¼šè°ƒç”¨opertor[]ç¬¬iä¸ªæ•°æ®\n\t\tcout &lt;&lt; v1[i]&lt;&lt;\" \";\n\t}\n\tcout &lt;&lt; endl;\n\n\treturn 0;\n}\n</code></pre>\n<h2><a id=\"_431\"></a>å¼•ç”¨çš„å¥‡æ·«é£æŠ€</h2>\n<p>å½“æˆ‘ä»¬è¦ä¿®æ”¹å‡½æ•°è¿”å›çš„å€¼ï¼Œåªèƒ½åŠ ä¸Šå¼•ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™â€œä¸å¯ä¿®æ”¹çš„å·¦å€¼â€ï¼Œè¿˜å¯ä»¥å‡å°‘æ‹·è´</p>\n<p><img alt=\"image-20220824154121996\" src=\"image\\670b764d4a770e8ceb233afc7fac3454.png\"/></p>\n<h1><a id=\"string_437\"></a>string</h1>\n<h2><a id=\"string_439\"></a>æ¨¡ä»¿å®ç°string</h2>\n<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªstring.hå¤´æ–‡ä»¶</p>\n<pre><code class=\"prism language-c++\">class string\n\t{\n\tpublic:\n\t\tstring():_str(nullptr){}\n\t\tstring(char*str) :_str(str){}\n\t\tsize_t size()\n\t\t{\n\t\t\treturn strlen(_str);\n\t\t}\n\t\tchar&amp; operator[](size_t i)\n\t\t{\n\t\t\treturn _str[i];\n\t\t}\n\t\n\n\tprivate:\n\t\tchar*  _str;\n};\n</code></pre>\n<p>æ—¢ç„¶æ¨¡ä»¿ï¼Œé‚£è‚¯å®šå¾—æœ‰è‡ªå·±çš„stingï¼Œæˆ‘ä»¬namespaceä¸€ä¸ªåå­—ï¼Œä¸ç„¶åº“çš„stringä¼šææ··ï¼š</p>\n<pre><code class=\"prism language-c++\">namespace copy\n{\n\tclass string\n    {\n        .....\n    };\n}\n</code></pre>\n<p>æˆ‘ä»¬å†å†™ä¸€ä¸ªæµ‹è¯•å‡½æ•°å˜é‡å­—ç¬¦ä¸²ï¼š</p>\n<pre><code class=\"prism language-c++\">void test_string1()\n\t{\n\t\tstring s2();\n\t\tstring s1(\"helllo\");\n\t\tfor (size_t i = 0; i &lt; s1.size(); i++)\n\t\t{\n\t\t\n\t\t\tstd::cout &lt;&lt; s1[i] &lt;&lt; \" \";\n\t\t}\n\t\tstd::cout &lt;&lt; std::endl;\n\t}\n</code></pre>\n<p>ç„¶ååœ¨.cppæºæ–‡ä»¶ä¸­è¿™æ ·å†™ï¼š</p>\n<pre><code class=\"prism language-c++\">#include&lt;iostream&gt;\n#include\"string.h\"\nusing namespace std;\n\n\nint main()\n{\n\tcopy::test_string1();\n}\n</code></pre>\n<p><img alt=\"image-20220825150041110\" src=\"image\\2338c07642ab6d91603035deacae8c1c.png\"/></p>\n<p>éå†æ²¡æœ‰é—®é¢˜ï¼Œé‚£æˆ‘ä»¬ä¿®æ”¹å‘¢ï¼Ÿå´©æºƒäº†ï¼ŒåŸå› æ˜¯å‡½æ•°éƒ½å­˜åœ¨æ ˆä¸­ï¼Œå­—ç¬¦ä¸²åœ¨ä»£ç æ®µä¸­ï¼Œä¸èƒ½ä¿®æ”¹ã€‚</p>\n<p><img alt=\"image-20220825150513024\" src=\"image\\a661c961177b49b0362da947d0c6a09f.png\"/></p>\n<p><img alt=\"image-20220825150218268\" src=\"image\\9e95fdfb2c8e4a6640bdfa688100df94.png\"/></p>\n<p>æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªstringçš„åº“å‡½æ•°æ¥å£ä¸æ­¢æœ‰ä¿®æ”¹è¿˜æœ‰æ’å…¥è¿˜æœ‰ç©ºé—´ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å°è¯•åœ¨å †ä¸Šç”³è¯·ç©ºé—´ï¼Œè®©æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå †ï¼Œå¹¶ä¸”æŠŠå­—ç¬¦ä¸²æ‹·è´åˆ°å †é‡Œã€‚</p>\n<p><img alt=\"image-20220825150756677\" src=\"image\\f6a158c7b9e5ff163e3c0af7cfbd84f0.png\"/></p>\n<p>é‚£åº”è¯¥åœ¨å“ªé‡Œå¼€è¾Ÿä¸€æ®µç©ºé—´å‘¢ï¼Ÿåœ¨æ„é€ å‡½æ•°ä¸­ï¼Œmallocå’Œnewå¯ä»¥å®Œæˆï¼Œä½†è¿™é‡Œæ˜¯è‡ªå®šä¹‰ç±»å‹ï¼Œå†…ç½®ç±»å‹å®ƒä»¬æ•ˆæœä¸€æ ·ï¼Œæ‰€æœ‰æˆ‘ä»¬ç”¨newï¼Œé‚£ç”³è¯·å¤šå°‘ä¸ªç©ºé—´å¥½å‘¢ï¼Ÿ</p>\n<pre><code class=\"prism language-c++\">string(char*str):_str(new char[strlen(str)+1]){}\n</code></pre>\n<p>è®¡ç®—å­—ç¬¦ä¸²å¤§å°ï¼Œå¹¶+1ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬ä½¿ç”¨å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œåé¢éƒ½å¸¦æœ‰\\0ï¼Œè€Œåœ¨åœ¨c_stræ¥å£çš„æ—¶å€™ä¹Ÿæ˜¯éœ€è¦ä¸€ä¸ªé»˜è®¤\\0ï¼›</p>\n<p>æœ€åæ‹·è´ï¼š<code>strcpy(_str, str)</code></p>\n<p>ç„¶åï¼Œå†å®ç°ä¸€ä¸ªç©ºå­—ç¬¦ä¸²éå†ï¼Œé»˜è®¤çš„std::string s2;éå†ä¸ä¼šæŠ¥é”™ï¼Œè€Œæˆ‘ä»¬çš„ç°åœ¨ä¼šå´©æºƒï¼ŒåŸå› æ˜¯ï¼Œæˆ‘ä»¬ç”¨thisæŒ‡é’ˆæŒ‡å‘strè¿™ä¸ªç©ºå­—ç¬¦é»˜è®¤åªæœ‰\\0æˆ‘ä»¬å¯¹ç©ºè§£å¼•ç”¨å°±å‡ºé”™äº†ï¼›è¿™é‡Œä¸èƒ½ç›´æ¥ç»™ä»–<code>nullptr</code>,newä¸€ä¸ªç»™ä»–ï¼›</p>\n<pre><code class=\"prism language-c++\">string():_str(new char[1])\n\t\t{\n\t\t\t_str[0] = '\\0';\n\n\t\t}\n</code></pre>\n<p>ææ„å‡½æ•°ï¼š</p>\n<pre><code class=\"prism language-c++\">~string()\n\t\t{\n\t\t\tdelete[]_str;\n\t\t\t_str = nullptr;\n\t\t}\n</code></pre>\n<pre><code class=\"prism language-c++\">string s1(\"helllo\");\nstring s2(s1);\n</code></pre>\n<p>ä¸Šé¢ä»£ç ä¼šå´©æºƒï¼ŒåŸå› æ˜¯s2æ‹·è´äº†s1çš„å­—ç¬¦ä¸²å’Œç©ºé—´ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰å†™æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨é»˜è®¤ç”Ÿæˆï¼Œè¿™ä¼šé€ æˆåŒä¸€ä¸ªç©ºé—´è¢«ææ„ä¸¤æ¬¡ã€æµ…æ‹·è´ã€‘</p>\n<p>æ·±æ‹·è´ï¼š(æŠŠ~string(){}æ³¨é‡Šæ‰ï¼Œä¸ç„¶ä¸€æ ·æŠ¥é”™)</p>\n<pre><code class=\"prism language-c++\">//s2=s1;\n\t\tstring&amp; operator=(const string&amp; s)\n\t\t{\n\t\t\tif (this != &amp;s)\n\t\t\t{\n\t\t\tchar*tmp = new char[strlen(s._str) + 1];\n\t\t\tstrcpy( tmp,s._str);\n\t\t\tdelete[]_str;\n\t\t\t_str = tmp;\n\t\t\t}\n\t\t\t\n\t\t\treturn *this;\n\t\t}\n</code></pre>\n<p>åº•å±‚åŸç†ï¼š</p>\n<pre><code class=\"prism language-c++\">using namespace std;\n\nnamespace test{\n\n\tclass string\n\t{\n\tpublic:\n\t\t\n\t\ttypedef char* iterator;\n\t\titerator begin()\n\t\t{\n\t\t\treturn _str;\n\t\t}\n\t\titerator end()\n\t\t{\n\t\t\treturn _str + _size;\n\t\t}\n\n\t\t//è¿™é‡Œéœ€è¦å¯¹å®ƒè§£å¼•ç”¨ï¼Œä¸èƒ½ç›´æ¥nullptr(é»˜è®¤ä¸ºç©º)\n\t\tstring(char* str=\"\") :_str(new char[strlen(str)+1])\n\t\t{\n\t\t\tstrcpy( _str,str);\n\t\t}\n\t\t//ä¼ ç»Ÿæ‰‹æ³•\n\t\t//s2(s1)\n\t\t/*string(const string &amp;s)\n\t\t\t:_str(new char [strlen(_str)+1])\n\t\t{\n\t\t\tstrcpy(_str, s._str);\n\t\t}\n\t\n\t\t//ç°ä»£æ‰‹æ³•\n\t\t//s2(s1)\n\t\tstring(string &amp; s) :_str(nullptr)\n\t\t{\n\t\t\tstring tmp(s._str);\n\t\t\tswap(_str, s._str);\n\t\t\t\n\t\t}\n\t\t//s2=s3;\n\t\tstring&amp;operator=(string s)\n\t\t{\n\t\t\tswap(_str, s._str);\n\t\t\treturn *this;\n\t\t}\n\t\t//const s2=s3;\n\t\tstring&amp;operator=(const string&amp; s)\n\t\t{\n\t\t\tif (this != &amp;s)\n\t\t\t{\n\t\t\t\tstring tmp(s._str);\n\t\t\tswap(_str,tmp._str);//ç­‰åŒswap(_str, s._str);\n\t\t\treturn *this;\n\t\t\t\n\t\t\t}\n\t\t}\n\t\tstring(){}\n\t\t\n\t\t\n\t\tsize_t size()\n\t\t{\n\t\t\treturn strlen(_str);\n\t\t}\n\t\t\n\t\tconst char* c_str()\n\t\t{\n\t\t\treturn _str;\n\t\t}\n\n\t\tchar&amp; operator[](const size_t&amp; i)\n\t\t{\n\t\t\treturn _str[i];\n\t\t}\n\n\n\t\t~string()\n\t\t{\n\t\t\tdelete[]_str;\n\t\t\t_str = nullptr;\n\t\t}*/\n\n\tprivate:\n\t\tchar* _str;\n\t\tsize_t _size;\n\t\tsize_t _capacity;\n\t};\n\n\tvoid test_string1()\n\t{\n\n\t\tstring s1(\"hello world\");\n\t\tstring s3=\"world\";\n\t\t\n\t\t\n\t\tfor (size_t i = 0; i &lt; s1.size(); i++)\n\t\t{\n\t\t\ts1[i] += 1;\n\t\t\tcout &lt;&lt; s1[i]&lt;&lt; \" \";\n\t\t}\n\t\tcout &lt;&lt; endl;\n\t\tstring s2 = s3;\n\t\tcout &lt;&lt; s2.c_str() &lt;&lt; endl;\n\n\t\t\n\t}\n\tvoid test_string2()\n\t{\n\t\tstring s1(\"hello world\");\n\t\tstring s2(s1);\n\t\tcout &lt;&lt; s2.c_str() &lt;&lt; endl;\n\t}\n\tvoid test_string3()\n\t{\n\t\tstring s1(\"hello world\");\n\t\tstring::iterator it = s1.begin();\n\t\twhile (it != s1.end())\n\t\t{\n\t\t\tcout &lt;&lt; *it &lt;&lt; \" \";\n\t\t\t++it;\n\t\t}\n\t\t\n\t\tcout &lt;&lt; endl;\n\t\tfor (auto e : s1)\n\t\t{\n\t\t\tcout &lt;&lt; e &lt;&lt; \" \";\n\t\t}\n\t\tcout &lt;&lt; endl;\n\t}\n\n\n}\n</code></pre>\n<p><img alt=\"image-20220826071654086\" src=\"image\\266ffde1aacff5862af3b50c04729225.png\"/></p>\n<h1><a id=\"_715\"></a>é¢è¯•é¢˜</h1>\n<ol><li><strong>ä¸ºä»€ä¹ˆç©ºç±»å 1ä¸€ä¸ªå­—èŠ‚ï¼Œä¸æ˜¯0ï¼Ÿ</strong></li></ol>\n<p>ä¸€ä¸ªå­—èŠ‚ä¸æ˜¯ä¸ºäº†å­˜å–æ•°æ®ï¼Œè€Œæ˜¯å ä½</p>\n<p>å½“æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼ŒA1 a;æˆ‘ä»¬éœ€è¦ç”¨å®ƒï¼Œå¦‚æœå­—èŠ‚0ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆæ‰¾å®ƒè°ƒç”¨å‘¢ï¼Ÿ</p>\n<pre><code class=\"prism language-c++\">class A1\n{\nvoid printf();\n};\nint main()\n{\n    A1 a;\n    return 0;\n}\n</code></pre>\n<ol start=\"2\"><li><strong>static</strong></li></ol>\n<pre><code class=\"prism language-c++\">int Add()\n{\n\tstatic int c=1;//åªä¼šåˆå§‹åŒ–ä¸€æ¬¡\n\tc=a+d;\n\treturn c\n}\n</code></pre>\n<ol start=\"3\"><li> <p><strong>å…¨å±€å˜é‡å’Œstaticå˜é‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p> </li><li> <p><strong>malloc/calloc/reallocæœ‰ä»€ä¹ˆå–åˆ«</strong></p> </li></ol>\n<p>â€‹ malloc:ç”³è¯·ç©ºé—´</p>\n<p>â€‹ calloc:ç”³è¯·ç©ºé—´åŠ åˆå§‹åŒ–ä¸º0ï¼›</p>\n<p>â€‹ reallocï¼šå¯¹å·²æœ‰çš„ç©ºé—´è¿›è¡Œæ‰©å®¹</p>\n<ol start=\"5\"><li> <p><strong>malloc/freeå’Œnew/deleteçš„åŒºåˆ«</strong><br/> malloc/freeå’Œnew/deleteçš„å…±åŒç‚¹æ˜¯ï¼šéƒ½æ˜¯ä»å †ä¸Šç”³è¯·ç©ºé—´ï¼Œå¹¶ä¸”éœ€è¦ç”¨æˆ·æ‰‹åŠ¨é‡Šæ”¾ã€‚ä¸åŒçš„åœ°æ–¹æ˜¯ï¼š</p>\n<ol><li> <p>mallocå’Œfreeæ˜¯å‡½æ•°ï¼Œnewå’Œdeleteæ˜¯æ“ä½œç¬¦</p> </li><li> <p>mallocç”³è¯·çš„ç©ºé—´ä¸ä¼šåˆå§‹åŒ–ï¼Œnewå¯ä»¥åˆå§‹åŒ–</p> </li><li> <p>mallocç”³è¯·ç©ºé—´æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨è®¡ç®—ç©ºé—´å¤§å°å¹¶ä¼ é€’ï¼Œnewåªéœ€åœ¨å…¶åè·Ÿä¸Šç©ºé—´çš„ç±»å‹å³å¯</p> </li><li> <p>mallocçš„è¿”å›å€¼ä¸ºvoid*, åœ¨ä½¿ç”¨æ—¶å¿…é¡»å¼ºè½¬ï¼Œnewä¸éœ€è¦ï¼Œå› ä¸ºnewåè·Ÿçš„æ˜¯ç©ºé—´çš„ç±»å‹</p> </li><li> <p>mallocç”³è¯·ç©ºé—´å¤±è´¥æ—¶ï¼Œè¿”å›çš„æ˜¯NULLï¼Œå› æ­¤ä½¿ç”¨æ—¶å¿…é¡»åˆ¤ç©ºï¼Œnewä¸éœ€è¦ï¼Œä½†æ˜¯newéœ€è¦æ•è·å¼‚å¸¸</p> </li><li> <p>ç”³è¯·è‡ªå®šä¹‰ç±»å‹å¯¹è±¡æ—¶ï¼Œmalloc/freeåªä¼šå¼€è¾Ÿç©ºé—´ï¼Œä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°ï¼Œè€Œnewåœ¨ç”³è¯·ç©ºé—´<br/> åä¼šè°ƒç”¨æ„é€ å‡½æ•°å®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œdeleteåœ¨é‡Šæ”¾ç©ºé—´å‰ä¼šè°ƒç”¨ææ„å‡½æ•°å®Œæˆç©ºé—´ä¸­èµ„æºçš„æ¸…ç†</p> </li><li> <p>å‡ºç°å†…å­˜æ³„æ¼ï¼Œå½±å“å¾ˆå¤§ï¼Œå¦‚æ“ä½œç³»ç»Ÿã€åå°æœåŠ¡ç­‰ç­‰ï¼Œå‡ºç°å†…å­˜æ³„æ¼ä¼š<br/> å¯¼è‡´å“åº”è¶Šæ¥è¶Šæ…¢ï¼Œæœ€ç»ˆå¡æ­»</p> </li></ol> </li><li> <p><strong>å†…å­˜æ³„æ¼</strong></p>\n<ol start=\"6\"><li>1 ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Œå†…å­˜æ³„æ¼çš„å±å®³<br/> ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼šå†…å­˜æ³„æ¼æŒ‡å› ä¸ºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜çš„æƒ…å†µã€‚å†…å­˜æ³„æ¼å¹¶ä¸<br/> æ˜¯æŒ‡å†…å­˜åœ¨ç‰©ç†ä¸Šçš„æ¶ˆå¤±ï¼Œè€Œæ˜¯åº”ç”¨ç¨‹åºåˆ†é…æŸæ®µå†…å­˜åï¼Œå› ä¸ºè®¾è®¡é”™è¯¯ï¼Œå¤±å»äº†å¯¹è¯¥æ®µå†…å­˜çš„æ§åˆ¶ï¼Œå› è€Œ<br/> é€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚<br/> å†…å­˜æ³„æ¼çš„å±å®³ï¼šé•¿æœŸè¿è¡Œçš„ç¨‹åº</li></ol> </li></ol>\n<pre><code class=\"prism language-c++\">void MemoryLeaks()\n{\n// 1.å†…å­˜ç”³è¯·äº†å¿˜è®°é‡Šæ”¾\nint* p1 = (int*)malloc(sizeof(int));\nint* p2 = new int;\n// 2.å¼‚å¸¸å®‰å…¨é—®é¢˜\nint* p3 = new int[10];\nFunc(); // è¿™é‡ŒFuncå‡½æ•°æŠ›å¼‚å¸¸å¯¼è‡´ delete[] p3æœªæ‰§è¡Œï¼Œp3æ²¡è¢«é‡Šæ”¾.\ndelete[] p3;\n}\n</code></pre>\n<ol start=\"7\"><li> <p><strong>å¦‚ä½•é¿å…å†…å­˜æ³„æ¼</strong></p>\n<ol start=\"7\"><li> <p>1å·¥ç¨‹å‰æœŸè‰¯å¥½çš„è®¾è®¡è§„èŒƒï¼Œå…»æˆè‰¯å¥½çš„ç¼–ç è§„èŒƒï¼Œç”³è¯·çš„å†…å­˜ç©ºé—´è®°ç€åŒ¹é…çš„å»é‡Šæ”¾ã€‚psï¼šè¿™ä¸ªç†æƒ³çŠ¶<br/> æ€ã€‚ä½†æ˜¯å¦‚æœç¢°ä¸Šå¼‚å¸¸æ—¶ï¼Œå°±ç®—æ³¨æ„é‡Šæ”¾äº†ï¼Œè¿˜æ˜¯å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚éœ€è¦ä¸‹ä¸€æ¡æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†æ‰æœ‰ä¿<br/> è¯.</p> <p>7.2 é‡‡ç”¨RAIIæ€æƒ³æˆ–è€…æ™ºèƒ½æŒ‡é’ˆæ¥ç®¡ç†èµ„æºã€‚</p> <p>7.3 æœ‰äº›å…¬å¸å†…éƒ¨è§„èŒƒä½¿ç”¨å†…éƒ¨å®ç°çš„ç§æœ‰å†…å­˜ç®¡ç†åº“ã€‚è¿™å¥—åº“è‡ªå¸¦å†…å­˜æ³„æ¼æ£€æµ‹çš„åŠŸèƒ½é€‰é¡¹ã€‚</p> <p>7.4 å‡ºé—®é¢˜äº†ä½¿ç”¨å†…å­˜æ³„æ¼å·¥å…·æ£€æµ‹ã€‚psï¼šä¸è¿‡å¾ˆå¤šå·¥å…·éƒ½ä¸å¤Ÿé è°±ï¼Œæˆ–è€…æ”¶è´¹æ˜‚è´µã€‚</p>\n<blockquote>\n<p>æ€»ç»“ä¸€ä¸‹:<br/> å†…å­˜æ³„æ¼éå¸¸å¸¸è§ï¼Œè§£å†³æ–¹æ¡ˆåˆ†ä¸ºä¸¤ç§ï¼š1ã€äº‹å‰é¢„é˜²å‹ã€‚å¦‚æ™ºèƒ½æŒ‡é’ˆç­‰ã€‚2ã€äº‹åæŸ¥é”™å‹ã€‚å¦‚æ³„æ¼æ£€æµ‹å·¥<br/> å…·ã€‚</p>\n</blockquote> </li></ol> </li><li> <p><strong>å¦‚ä½•ä¸€æ¬¡åœ¨å †ä¸Šç”³è¯·4Gçš„å†…å­˜ï¼Ÿ</strong></p> </li></ol>\n<pre><code class=\"prism language-c++\">// å°†ç¨‹åºç¼–è¯‘æˆx64çš„è¿›ç¨‹ï¼Œè¿è¡Œä¸‹é¢çš„ç¨‹åºè¯•è¯•ï¼Ÿ\n#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\nvoid* p = new char[0xfffffffful];\ncout &lt;&lt; \"new:\" &lt;&lt; p &lt;&lt; endl;\nreturn 0;\n}\n</code></pre>\n<ol start=\"9\"><li><strong>å®ç°ä¸€ä¸ªstring</strong></li></ol>\n<pre><code class=\"prism language-c++\">//è¿™é‡Œéœ€è¦å¯¹å®ƒè§£å¼•ç”¨ï¼Œä¸èƒ½ç›´æ¥nullptr(é»˜è®¤ä¸ºç©º)\n\t\tstring(char* str = \"\") :_str(new char[strlen(str) + 1]), _size(0)\n\t\t{\n\t\t\tstrcpy(_str, str);\n\t\t}\n\t\tstring()\n\t\t{\n\t\t}\n\t\t\n\t\t//æ·±æ‹·è´-ã€‹ä¼ ç»Ÿæ‰‹æ³•\n\t\t//s1=s2;\n\t\tstring&amp;operator=(string &amp; s)\n\t\t{\n\t\t\tif (this != &amp;s)\n\t\t\t{\n\t\t\t\tchar * tmp = new char[strlen(s._str) + 1];\n\t\t\t\tstrcpy(tmp, s._str);\n\t\t\t\tdelete[]_str;\n\t\t\t\t_str = tmp;\n\n\t\t\t}\n\t\t\treturn *this;\n\t\t}\n\n\t\t//s2(s1)\n\t\tstring(const string &amp;s)\n\t\t\t:_str(new char[strlen(_str) + 1])\n\t\t{\n\t\t\tstrcpy(_str, s._str);\n\t\t}\n\n\t\tæ·±æ‹·è´-ã€‹ç°ä»£æ‰‹æ³•\n\t\ts2(s1)\n\t\t//string(string &amp; s) :_str(nullptr)\n\t\t//{\n\t\t//\tstring tmp(s._str);\n\t\t//\tswap(_str, s._str);\n\n\t\t//}\n\t\ts1=s2;\n\t\t//è¿™é‡Œæœ€å·§çš„å°±æ˜¯ä¼ å€¼æ“ä½œ\n\t\t//string&amp;operator=(string s)\n\t\t//{\n\t\t//\tswap(_str, s._str);\n\t\t//\treturn *this;\n\t\t//}\n\t\tconst s2=s3;\n\t\t//string&amp;operator=(const string&amp; s)\n\t\t//{\n\t\t//\tif (this != &amp;s)\n\t\t//\t{\n\t\t//\t\tstring tmp(s._str);\n\t\t//\t\tswap(_str, tmp._str);//ç­‰åŒswap(_str, s._str);\n\t\t//\t\treturn *this;\n\n\t\t//\t}\n\t\t//}\n</code></pre>\n<ol start=\"10\"><li><strong>vectoræ’å…¥æ•°æ®å¦‚ä½•å®ç°çš„ï¼Ÿ</strong></li></ol>\n<p>ï¼ˆå¢å®¹æ¬¡æ•°æ›´å¤šï¼Œæ•ˆç‡æ›´ä½ï¼Œå› ä¸ºæ¯æ¬¡å¢å®¹éƒ½è¦ä»˜å‡ºä»£ä»·ï¼‰</p>\n<p>2å€ï¼šç›¸å¯¹è€Œè¨€æ•ˆç‡æ›´å¥½ï¼Œä½†æ˜¯æµªè´¹çš„ç©ºé—´æ›´å¤šã€‚æ’å…¥1067ä¸ªæ•°æ®ï¼Œï¼ˆå€’æ•°æœ€åä¸€ä¸ª1024*2ï¼‰æœ€ç»ˆåˆ°2048ï¼Œæµªè´¹970å¤šä¸ª</p>\n<p>1.5å€ï¼š1067ä¸ªæ•°æ®ï¼Œæ€»å®¹é‡1599ï¼ˆå€’æ•°ä¸€ä¸ª1066*1.5ï¼‰</p>\n<p>ç­”ï¼šå¢å®¹å¤šå°‘æ˜¯ä¸€ç§æ—‹è½¬ï¼Œå„æœ‰åˆ©å¼Šï¼Œå‡è¡¡ä¸€ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨reserveï¼ˆ1067ï¼‰ï¼›</p>\n<ol start=\"11\"><li>ä¸ºä»€ä¹ˆä¼šæœ‰listï¼Ÿ</li></ol>\n<p>vectorçš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</p>\n<p>ç­”ï¼š1.å¤´éƒ¨å’Œä¸­éƒ¨çš„æ’å…¥åˆ é™¤æ•ˆç‡ä½ï¼ŒO(N)ï¼Œå› ä¸ºéœ€è¦æŒªåŠ¨æ•°æ®ï¼›</p>\n<p>â€‹ 2.æ’å…¥æ•°æ®ç©ºé—´ä¸å‹¾ éœ€è¦å¢å®¹ï¼Œå¢å®¹éœ€è¦å¼€æ–°ç©ºé—´ã€æ‹·è´æ•°æ®ã€é‡Šæ”¾æ—§ç©ºé—´ï¼Œä¼šä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·</p>\n<p>ä¼˜ç‚¹ï¼š</p>\n<p>1.æ”¯æŒä¸‹æ ‡çš„éšæœºè®¿é—®ã€é—´æ¥çš„å°±å¾ˆå¥½çš„æ”¯æŒæ’äºŒåˆ†æŸ¥æ‰¾ã€å †ç®—æ³•ç­‰ç­‰</p>\n<p>listå‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³vectorçš„ç¼ºé™·</p>\n<p>ä¼˜ç‚¹ï¼š</p>\n<p>1.listå¤´éƒ¨ã€ä¸­é—´æ’å…¥ä¸å†éœ€è¦æŒªåŠ¨æ•°æ®ï¼Œæ•ˆç‡é«˜O(1)</p>\n<p>2.listæ’å…¥æ•°æ®æ˜¯æ–°å¢èŠ‚ç‚¹ï¼Œä¸å†éœ€è¦å¢å®¹</p>\n<p>ç¼ºç‚¹ï¼š</p>\n<p>1.ä¸æ”¯æŒéšæœºè®¿é—®ã€‚</p>\n<p>æ‰€æœ‰å®é™…ä½¿ç”¨ä¸­vectorå’Œlistæ˜¯ç›¸äº’ç›¸æˆçš„ä¸¤ä¸ªå®¹å™¨</p>\n<ol start=\"11\"><li>ä»€ä¹ˆæ˜¯è¿­ä»£å™¨å¤±æ•ˆ</li></ol>\n<ul><li>å¦‚æœå¯¹å¤§å®¶æœ‰å¸®åŠ©ï¼Œè¯·ä¸‰è¿æ”¯æŒä¸€ä¸‹ï¼</li><li>æœ‰é—®é¢˜æ¬¢è¿è¯„è®ºåŒºç•™è¨€ï¼ŒåŠæ—¶å¸®å¤§å®¶è§£å†³ï¼</li></ul>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}