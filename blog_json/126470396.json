{"blogid": "126470396", "writerAge": "码龄2年", "writerBlogNum": "63", "writerCollect": "857", "writerComment": "960", "writerFan": "1314", "writerGrade": "5级", "writerIntegral": "2858", "writerName": "贤蛋大眼萌", "writerProfileAdress": "writer_image\\profile_126470396.jpg", "writerRankTotal": "6654", "writerRankWeekly": "92", "writerThumb": "698", "writerVisitNum": "34228", "blog_read_count": "403", "blog_time": "已于 2022-08-23 11:07:00 修改", "blog_title": "【Vue3.0移动端项目--旅游网】-- 首页分类和热门精选展示", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>多一些不为什么的坚持🤳</p>\n<p>贤蛋 🥚大眼萌 ，一名很普通但不想普通的程序媛🙊</p>\n</blockquote>\n<blockquote>\n<p>📝本文章收录于专栏：<a href=\"https://blog.csdn.net/weixin_47980825/category_11968419.html\">Vue3.0移动端项目-旅游网</a></p>\n<p>第一篇：<a href=\"http://t.csdn.cn/BYQsR\">【Vue3.0移动端项目–旅游网】–项目初始化搭建</a></p>\n<p>第二篇：<a href=\"http://t.csdn.cn/OmrFs\">【Vue3.0移动端项目–旅游网】–配置tabBar &amp;首页搭建</a></p>\n<p>第三篇：<a href=\"http://t.csdn.cn/lKzqJ\">【Vue3.0移动端项目–旅游网】-- 城市页面搭建</a></p>\n<p>第四篇：<a href=\"http://t.csdn.cn/Y6vS1\">【Vue3.0移动端项目–旅游网】-- 首页日期和热门推荐处理</a></p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>首页分类和热门精选展示</h3>\n<ul><li><ul><li><a href=\"#__home__19\">🧲 新建 home 分支</a></li><li><a href=\"#__39\">🍭 搜索按钮</a></li><li><ul><li><a href=\"#1__41\">1. 搜索按钮及样式</a></li><li><a href=\"#2__45\">2. 点击搜索按钮跳转到搜索页面</a></li></ul>\n</li><li><a href=\"#__57\">🎯 展示分类</a></li><li><ul><li><a href=\"#1__59\">1. 发送请求</a></li><li><a href=\"#2__Store__63\">2. 分类数据存入 Store 中</a></li><li><a href=\"#3__67\">3. 展示数据渲染数据</a></li></ul>\n</li><li><a href=\"#__133\">🍳 展示热门精选</a></li><li><ul><li><a href=\"#1__135\">1. 发送请求</a></li><li><a href=\"#2_Store_139\">2. 分类数据存入Store中</a></li><li><a href=\"#3__143\">3. 页面渲染（布局处理）</a></li><li><a href=\"#5___361\">5. 滚动到底部 加载更多（再次请求数据）</a></li></ul>\n</li><li><a href=\"#__437\">🍚 存储日期信息</a></li><li><a href=\"#1__mainStore_439\">1. 将日期信息存入 mainStore</a></li><li><a href=\"#2__443\">2. 修改之前展示的日期信息</a></li><li><a href=\"#__449\">🥩 搜索框展示</a></li><li><ul><li><a href=\"#1__451\">1. 控制搜索框显示</a></li><li><a href=\"#2__455\">2. 搜索框布局</a></li></ul>\n</li><li><a href=\"#_Git_github_580\">🧬 Git 管理和代码托管（github）</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"__home__19\"></a>🧲 新建 home 分支</h2>\n<blockquote>\n<p>通过 Git 管理项目，养成良好的开发习惯，可以创建分支。最后开发完可以合并分支。</p>\n</blockquote>\n<ol><li>创建新分支并且跳转到改分支上</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> checkout -b home02\n</code></pre>\n<ol start=\"2\"><li>查看分支</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> branch\n</code></pre>\n<p><img alt=\"image-20220821211341095\" src=\"image\\f1ea524230d32b8af86229e3730e721e.png\"/></p>\n<h2><a id=\"__39\"></a>🍭 搜索按钮</h2>\n<h3><a id=\"1__41\"></a>1. 搜索按钮及样式</h3>\n<img alt=\"image-20220821214202131\" src=\"image\\image-20220821214202131.png\"/>\n<h3><a id=\"2__45\"></a>2. 点击搜索按钮跳转到搜索页面</h3>\n<p><img alt=\"image-20220821214253736\" src=\"image\\8a5c86c546c7a7f74e20743f142ba10b.png\"/></p>\n<p><img alt=\"image-20220821214237143\" src=\"image\\57627c5223ba1d4a09c9062d20ae9079.png\"/></p>\n<p>效果：</p>\n<p><img alt=\"image-20220821214416139\" src=\"image\\bab300ea997a99f35df9b65308d120d7.png\"/></p>\n<h2><a id=\"__57\"></a>🎯 展示分类</h2>\n<h3><a id=\"1__59\"></a>1. 发送请求</h3>\n<p><img alt=\"image-20220822093013733\" src=\"image\\5a516ef416de54b9353962a7dd9d8944.png\"/></p>\n<h3><a id=\"2__Store__63\"></a>2. 分类数据存入 Store 中</h3>\n<img alt=\"image-20220822093109992\" src=\"image\\image-20220822093109992.png\"/>\n<h3><a id=\"3__67\"></a>3. 展示数据渲染数据</h3>\n<blockquote>\n<p>这里封装一个单独的组件 <code> home-categories</code></p>\n<p>下面是组件完整代码：</p>\n</blockquote>\n<pre><code class=\"prism language-js\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"categories\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>template\n      v<span class=\"token operator\">-</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"(item,index) in categories\"</span>\n      <span class=\"token operator\">:</span>key<span class=\"token operator\">=</span><span class=\"token string\">\"index\"</span>\n    <span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"item\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>img <span class=\"token operator\">:</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"item.pictureUrl\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script setup<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> useHomeStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/stores/modules/home'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> storeToRefs <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'pinia'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> homeStore <span class=\"token operator\">=</span> <span class=\"token function\">useHomeStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{<!-- --></span> categories <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">storeToRefs</span><span class=\"token punctuation\">(</span>homeStore<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n \n<span class=\"token operator\">&lt;</span>style lang<span class=\"token operator\">=</span><span class=\"token string\">\"less\"</span> scoped<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">.</span>categories <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n  overflow<span class=\"token operator\">-</span>x<span class=\"token operator\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> 88px<span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 10px<span class=\"token punctuation\">;</span>\n  margin<span class=\"token operator\">-</span>top<span class=\"token operator\">:</span> 8px<span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">&amp;</span><span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>scrollbar <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">.</span>item <span class=\"token punctuation\">{<!-- --></span>\n    flex<span class=\"token operator\">-</span>shrink<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n    flex<span class=\"token operator\">-</span>direction<span class=\"token operator\">:</span> column<span class=\"token punctuation\">;</span>\n    align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n    justify<span class=\"token operator\">-</span>content<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> 70px<span class=\"token punctuation\">;</span>\n    text<span class=\"token operator\">-</span>align<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n    img <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> 44px<span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> 44px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>text <span class=\"token punctuation\">{<!-- --></span>\n      font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n      margin<span class=\"token operator\">-</span>top<span class=\"token operator\">:</span> 8px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>效果：</p>\n<img alt=\"image-20220822093328443\" src=\"image\\image-20220822093328443.png\"/>\n<h2><a id=\"__133\"></a>🍳 展示热门精选</h2>\n<h3><a id=\"1__135\"></a>1. 发送请求</h3>\n<img alt=\"image-20220822105830573\" src=\"image\\image-20220822105830573.png\"/>\n<h3><a id=\"2_Store_139\"></a>2. 分类数据存入Store中</h3>\n<img alt=\"image-20220822105908080\" src=\"image\\image-20220822105908080.png\"/>\n<h3><a id=\"3__143\"></a>3. 页面渲染（布局处理）</h3>\n<p><img alt=\"image-20220822110217304\" src=\"image\\8893284b5b05e2c02529c92d3131c1fc.png\"/></p>\n<p>下面分别是组件v9和v3代码</p>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">//component/house-item-v9</span>\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"house-item-v9\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"item-inner\"</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"cover\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>img <span class=\"token operator\">:</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"itemData.image.url\"</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"info\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"summary\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span>itemData<span class=\"token punctuation\">.</span>summaryText<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"name\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span>itemData<span class=\"token punctuation\">.</span>houseName<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"price\"</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>van<span class=\"token operator\">-</span>rate\n            <span class=\"token operator\">:</span>model<span class=\"token operator\">-</span>value<span class=\"token operator\">=</span><span class=\"token string\">\"itemScore\"</span>\n            color<span class=\"token operator\">=</span><span class=\"token string\">\"#fff\"</span>\n            <span class=\"token operator\">:</span>size<span class=\"token operator\">=</span><span class=\"token string\">\"15\"</span>\n            readonly\n            allow<span class=\"token operator\">-</span>half\n          <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"new\"</span><span class=\"token operator\">&gt;</span>￥ <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span>itemData<span class=\"token punctuation\">.</span>finalPrice<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script setup<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> computed <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vue/runtime-core\"</span>\n\n<span class=\"token keyword\">const</span> props <span class=\"token operator\">=</span> <span class=\"token function\">defineProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">itemData</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> itemScore <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>itemData<span class=\"token punctuation\">.</span>commentScore<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n \n<span class=\"token operator\">&lt;</span>style lang<span class=\"token operator\">=</span><span class=\"token string\">\"less\"</span> scoped<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">.</span>house<span class=\"token operator\">-</span>item<span class=\"token operator\">-</span>v9 <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">.</span>item<span class=\"token operator\">-</span>inner <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> relative<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> 5px<span class=\"token punctuation\">;</span>\n    background<span class=\"token operator\">-</span>color<span class=\"token operator\">:</span> #fff<span class=\"token punctuation\">;</span>\n    border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> 6px<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">overflow</span><span class=\"token operator\">:</span> hidden<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span>cover <span class=\"token punctuation\">{<!-- --></span>\n      img <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span>info <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> absolute<span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">bottom</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> 8px 10px<span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #fff<span class=\"token punctuation\">;</span>\n\n      <span class=\"token punctuation\">.</span>summary <span class=\"token punctuation\">{<!-- --></span>\n        font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> 5px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">overflow</span><span class=\"token operator\">:</span> hidden<span class=\"token punctuation\">;</span>\n        text<span class=\"token operator\">-</span>overflow<span class=\"token operator\">:</span> ellipsis<span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>line<span class=\"token operator\">-</span>clamp<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>orient<span class=\"token operator\">:</span> vertical<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">.</span>price <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n        justify<span class=\"token operator\">-</span>content<span class=\"token operator\">:</span> space<span class=\"token operator\">-</span>between<span class=\"token punctuation\">;</span>\n        margin<span class=\"token operator\">-</span>top<span class=\"token operator\">:</span> 10px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">&gt;</span>\n</code></pre>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">//component/house-item-v3</span>\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"house-item-v3\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"item-inner\"</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"cover\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>img\n          <span class=\"token operator\">:</span>src<span class=\"token operator\">=</span><span class=\"token string\">\"itemData?.image?.url\"</span>\n          alt<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span>\n        <span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"info\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"location\"</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>img\n            src<span class=\"token operator\">=</span><span class=\"token string\">\"@/assets/img/home/location.png\"</span>\n            alt<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span>\n          <span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> itemData<span class=\"token punctuation\">.</span>location <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"name\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> itemData<span class=\"token punctuation\">.</span>houseName <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"summary\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> itemData<span class=\"token punctuation\">.</span>summaryText <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"price\"</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"new\"</span><span class=\"token operator\">&gt;</span> ¥ <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> itemData<span class=\"token punctuation\">.</span>finalPrice <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"old\"</span><span class=\"token operator\">&gt;</span> ¥ <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> itemData<span class=\"token punctuation\">.</span>productPrice <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div\n            <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"tip\"</span>\n            v<span class=\"token operator\">-</span><span class=\"token keyword\">if</span><span class=\"token operator\">=</span><span class=\"token string\">\"itemData.priceTipBadge\"</span>\n          <span class=\"token operator\">&gt;</span>\n            <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> itemData<span class=\"token punctuation\">.</span>priceTipBadge<span class=\"token punctuation\">.</span>text <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script setup<span class=\"token operator\">&gt;</span>\n\n<span class=\"token function\">defineProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">itemData</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> Object<span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>style lang<span class=\"token operator\">=</span><span class=\"token string\">\"less\"</span> scoped<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">.</span>house<span class=\"token operator\">-</span>item<span class=\"token operator\">-</span>v3 <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">.</span>item<span class=\"token operator\">-</span>inner <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> 5px<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">background</span><span class=\"token operator\">:</span> #fff<span class=\"token punctuation\">;</span>\n    border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> 6px<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">overflow</span><span class=\"token operator\">:</span> hidden<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span>cover <span class=\"token punctuation\">{<!-- --></span>\n      img <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token operator\">%</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">.</span>info <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> 8px 10px<span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #<span class=\"token number\">666</span><span class=\"token punctuation\">;</span>\n      font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">.</span>location <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n      align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n      img <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">.</span>text <span class=\"token punctuation\">{<!-- --></span>\n        margin<span class=\"token operator\">-</span>left<span class=\"token operator\">:</span> 2px<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #<span class=\"token number\">666</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> 5px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 14px<span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #<span class=\"token number\">333</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token literal-property property\">overflow</span><span class=\"token operator\">:</span> hidden<span class=\"token punctuation\">;</span>\n      text<span class=\"token operator\">-</span>overflow<span class=\"token operator\">:</span> ellipsis<span class=\"token punctuation\">;</span>\n      <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>box<span class=\"token punctuation\">;</span>\n      <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>line<span class=\"token operator\">-</span>clamp<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n      <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>box<span class=\"token operator\">-</span>orient<span class=\"token operator\">:</span> vertical<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">.</span>price <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n      align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> flex<span class=\"token operator\">-</span>start<span class=\"token punctuation\">;</span>\n\n      <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> 8px <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">.</span>new <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #ff9645<span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 14px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">.</span>old <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 3px<span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #<span class=\"token number\">999</span><span class=\"token punctuation\">;</span>\n        font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n        text<span class=\"token operator\">-</span>decoration<span class=\"token operator\">:</span> line<span class=\"token operator\">-</span>through<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">.</span>tip <span class=\"token punctuation\">{<!-- --></span>\n        background<span class=\"token operator\">-</span>image<span class=\"token operator\">:</span> linear<span class=\"token operator\">-</span><span class=\"token function\">gradient</span><span class=\"token punctuation\">(</span>270deg<span class=\"token punctuation\">,</span> #f66<span class=\"token punctuation\">,</span> #ff9f9f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #fff<span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 6px<span class=\"token punctuation\">;</span>\n        border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> 8px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>效果：</p>\n<img alt=\"image-20220822110913272\" src=\"image\\image-20220822110913272.png\"/>\n<h3><a id=\"5___361\"></a>5. 滚动到底部 加载更多（再次请求数据）</h3>\n<blockquote>\n<p>监听页面的滚动，当滚动到底部的时候，发送请求数据，渲染页面，离开页面时，需要移除监听</p>\n<p>这里我们封装一个 hooks</p>\n<p>因为监听页面滚动，滚动频率过高会频繁触发hooks，这里引入 underscore 库中的节流函数</p>\n<p>安装underscore</p>\n<pre><code class=\"prism language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> underscore\n</code></pre>\n</blockquote>\n<blockquote>\n<p><strong>相关概念</strong></p>\n<p><strong><code>scrollTop</code></strong> 属性可以获取或设置一个元素的内容垂直滚动的像素数</p>\n<p><strong>clientHeight</strong> 属性（只读）元素的像素高度</p>\n<ul><li> <p>如果当前元素没有滚动条，那么 clinetHeight = scrollHeight</p> </li><li> <p>如果当前元素存在滚动条，那么scrollHeight &gt; clientHeight</p> <p>scrollHeight = scrollTop + clientHeight</p> </li></ul>\n<img alt=\"image-20220822115150176\" src=\"image\\image-20220822115150176.png\"/>\n</blockquote>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// hooks/useScroll.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> onMounted<span class=\"token punctuation\">,</span> onUnmounted<span class=\"token punctuation\">,</span> ref <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> throttle <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"underscore\"</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useScroll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token comment\">// 用变量判断是否到达底部</span>\n  <span class=\"token keyword\">const</span> isReachBottom <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// scrollHeight = scrollTop + clientHeight</span>\n  <span class=\"token keyword\">const</span> scrollHeight <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> clientHeight <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> scrolltop <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// 节流处理</span>\n  <span class=\"token keyword\">const</span> scrollListenerHandler <span class=\"token operator\">=</span> <span class=\"token function\">throttle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    clientHeight<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientHeight\n    scrillTop<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>scrollTop\n    scrollHeight<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>scrollHeight\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>clientHeight<span class=\"token punctuation\">.</span>value <span class=\"token operator\">+</span> scrollTop<span class=\"token punctuation\">.</span>value <span class=\"token operator\">&gt;=</span> scrollHeight<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token comment\">// 已经滚到底部了</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"滚动到底部了\"</span><span class=\"token punctuation\">)</span>\n      isReachBottom<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">onMounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"scroll\"</span><span class=\"token punctuation\">,</span> scrollListenerHandler<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">onUnmounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"scroll\"</span><span class=\"token punctuation\">,</span> scrollListenerHandler<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{<!-- --></span>\n    isReachBottom<span class=\"token punctuation\">,</span>\n    scrollHeight<span class=\"token punctuation\">,</span>\n    clientHeight<span class=\"token punctuation\">,</span>\n    scrolltop\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<img alt=\"image-20220822151048880\" src=\"image\\image-20220822151048880.png\"/>\n<h2><a id=\"__437\"></a>🍚 存储日期信息</h2>\n<h2><a id=\"1__mainStore_439\"></a>1. 将日期信息存入 mainStore</h2>\n<p><img alt=\"image-20220822155416290\" src=\"image\\73ffd6f17a79bfab1567d1a717b1412d.png\"/></p>\n<h2><a id=\"2__443\"></a>2. 修改之前展示的日期信息</h2>\n<img alt=\"image-20220822155600796\" src=\"image\\image-20220822155600796.png\"/>\n<h2><a id=\"__449\"></a>🥩 搜索框展示</h2>\n<h3><a id=\"1__451\"></a>1. 控制搜索框显示</h3>\n<img alt=\"image-20220822155843172\" src=\"image\\image-20220822155843172.png\"/>\n<h3><a id=\"2__455\"></a>2. 搜索框布局</h3>\n<pre><code class=\"prism language-js\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"search\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"select-time\"</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"item start\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"name\"</span><span class=\"token operator\">&gt;</span>住<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"date\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> startDateStr <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"item end\"</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"name\"</span><span class=\"token operator\">&gt;</span>离<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"date\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">{<!-- --></span> endDateStr <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"content\"</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"keyword\"</span><span class=\"token operator\">&gt;</span>关键字<span class=\"token operator\">/</span>位置<span class=\"token operator\">/</span>民宿<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>i <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"icon-search\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>i<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>script setup<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> storeToRefs <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"pinia\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> computed <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@vue/runtime-core\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> formatMonthDay <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/utils/format-time\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> useMainStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@/stores/modules/main\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> mainStore <span class=\"token operator\">=</span> <span class=\"token function\">useMainStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{<!-- --></span> startDate<span class=\"token punctuation\">,</span> endDate <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">storeToRefs</span><span class=\"token punctuation\">(</span>mainStore<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> startDateStr <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">formatMonthDay</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"MM.DD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> endDateStr <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">formatMonthDay</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"MM.DD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n \n<span class=\"token operator\">&lt;</span>style lang<span class=\"token operator\">=</span><span class=\"token string\">\"less\"</span> scoped<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">.</span>search <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n  flex<span class=\"token operator\">-</span>direction<span class=\"token operator\">:</span> row<span class=\"token punctuation\">;</span>\n  align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n\n  <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> 45px<span class=\"token punctuation\">;</span>\n  line<span class=\"token operator\">-</span>height<span class=\"token operator\">:</span> 45px<span class=\"token punctuation\">;</span>\n\n  <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 10px<span class=\"token punctuation\">;</span>\n  font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 14px<span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #<span class=\"token number\">999</span><span class=\"token punctuation\">;</span>\n\n  border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> 6px<span class=\"token punctuation\">;</span>\n  background<span class=\"token operator\">-</span>color<span class=\"token operator\">:</span> #f2f4f6<span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">.</span>select<span class=\"token operator\">-</span>time <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n    flex<span class=\"token operator\">-</span>direction<span class=\"token operator\">:</span> column<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span>item <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n      flex<span class=\"token operator\">-</span>direction<span class=\"token operator\">:</span> row<span class=\"token punctuation\">;</span>\n      align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n      line<span class=\"token operator\">-</span>height<span class=\"token operator\">:</span> normal<span class=\"token punctuation\">;</span>\n      font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 10px<span class=\"token punctuation\">;</span>\n\n      <span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">{<!-- --></span>\n        font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 10px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">.</span>date <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> relative<span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> #<span class=\"token number\">333</span><span class=\"token punctuation\">;</span>\n        <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 10px <span class=\"token number\">0</span> 3px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">.</span>end <span class=\"token punctuation\">.</span>date<span class=\"token operator\">:</span><span class=\"token operator\">:</span>after <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">content</span><span class=\"token operator\">:</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">border</span><span class=\"token operator\">:</span> 4px solid #<span class=\"token number\">666</span><span class=\"token punctuation\">;</span>\n    border<span class=\"token operator\">-</span>color<span class=\"token operator\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> #<span class=\"token number\">666</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> 3px<span class=\"token punctuation\">;</span>\n    border<span class=\"token operator\">-</span>radius<span class=\"token operator\">:</span> 3px<span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">-</span>webkit<span class=\"token operator\">-</span>transform<span class=\"token operator\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>45deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">-</span>ms<span class=\"token operator\">-</span>transform<span class=\"token operator\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>45deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">transform</span><span class=\"token operator\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>45deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> absolute<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">bottom</span><span class=\"token operator\">:</span> 0px<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">right</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span>12px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">.</span>content <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> relative<span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">flex</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token literal-property property\">padding</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> 6px<span class=\"token punctuation\">;</span>\n  text<span class=\"token operator\">-</span>align<span class=\"token operator\">:</span> left<span class=\"token punctuation\">;</span>\n  border<span class=\"token operator\">-</span>left<span class=\"token operator\">:</span> 1px solid #fff<span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">.</span>keyword <span class=\"token punctuation\">{<!-- --></span>\n    max<span class=\"token operator\">-</span>width<span class=\"token operator\">:</span> 155px<span class=\"token punctuation\">;</span>\n    font<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 12px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">.</span>right <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> flex<span class=\"token punctuation\">;</span>\n  align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">.</span>icon<span class=\"token operator\">-</span>search <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> 24px<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> 24px<span class=\"token punctuation\">;</span>\n    <span class=\"token literal-property property\">display</span><span class=\"token operator\">:</span> inline<span class=\"token operator\">-</span>block<span class=\"token punctuation\">;</span>\n\n    background<span class=\"token operator\">-</span>image<span class=\"token operator\">:</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>assets<span class=\"token operator\">/</span>img<span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>home<span class=\"token operator\">-</span>sprite<span class=\"token punctuation\">.</span>png<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    background<span class=\"token operator\">-</span>position<span class=\"token operator\">:</span> <span class=\"token operator\">-</span>29px <span class=\"token operator\">-</span>151px<span class=\"token punctuation\">;</span>\n    background<span class=\"token operator\">-</span>size<span class=\"token operator\">:</span> 207px 192px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">&gt;</span>\n\n</code></pre>\n<p>效果：</p>\n<p><img alt=\"image-20220822172019670\" src=\"image\\54a106f2c3507196a095071895e74f34.png\"/></p>\n<h2><a id=\"_Git_github_580\"></a>🧬 Git 管理和代码托管（github）</h2>\n<ol><li>添加到暂存区</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n</code></pre>\n<ol start=\"2\"><li>添加到仓库</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> commit -m <span class=\"token string\">\"home02分支\"</span>\n</code></pre>\n<ol start=\"3\"><li>推送代码</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> push -u origin home02\n</code></pre>\n<ol start=\"4\"><li>将本地的tabbar 分支 合并到主分支上master （注意要先切换在主分支上）</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> checkout mater\n</code></pre>\n<ol start=\"5\"><li>分支合并</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> merge home02\n</code></pre>\n<ol start=\"6\"><li>更新远程仓库 master 分支</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> push\n</code></pre>\n<ol start=\"7\"><li>删除tabbar分支</li></ol>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> branch -d home02\n</code></pre>\n<img alt=\"image-20220822172456073\" src=\"image\\image-20220822172456073.png\"/>\n<blockquote>\n<p>补充：</p>\n<p>网络数据请求地址<a href=\"https://documenter.getpostman.com/view/12387168/UzXPxcSi#c35768ee-a18b-441f-a7da-13792669ce01\">数据</a></p>\n<p>项目github 地址：https://github.com/fdfd-0313/cz-trip.git</p>\n</blockquote>\n<p><img alt=\"喜欢就一键三连吧！\" src=\"image\\328f755bf269205c51fc666a349d01db.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}