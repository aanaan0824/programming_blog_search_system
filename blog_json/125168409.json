{"blogid": "125168409", "writerAge": "码龄12年", "writerBlogNum": "304", "writerCollect": "468", "writerComment": "94", "writerFan": "223", "writerGrade": "6级", "writerIntegral": "4654", "writerName": "于飞SEO", "writerProfileAdress": "writer_image\\profile_125168409.jpg", "writerRankTotal": "5580", "writerRankWeekly": "25712", "writerThumb": "81", "writerVisitNum": "380138", "blog_read_count": "1933", "blog_time": "已于 2022-06-07 20:54:59 修改", "blog_title": "在线客服系统安装教程，附源码", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>在线客服系统源码一套可私有化部署的免费开源客服系统，基于php+mysql开发，编译后的二进制文件可直接使用无需搭开发环境，下载zip解压即可，仅依赖MySQL数据库，是一个开箱即用的网页在线客服系统，致力于帮助广大开发者/中小站长快速整合私有客服功能</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\620d344801604e3eb2ab4a465641755e.jpeg\"/></p>\n<p></p>\n<h2>原理+安装教程 </h2>\n<p>在线客服系统是一套交互式沟通工具，使用它可以迅速缩小你的选择范围，联系多个供应商、客户等，也可以给你的企业一个关于用户体验的重大影响。</p>\n<p>在线客服系统源码基本模块：</p>\n<p>　　1、用户注册登录系统：使用在线客服系统的第一步是注册表单，用户将在其中请求登录或注册选项。如果用户是新用户，则可以选择“注册”，然后输入所有这些详细信息以获得唯一的id和密码；</p>\n<p>　　2、用户信息几记录系统：注册完成后，用户将获得用户id和密码使用这些详细信息，他可以登录到应用程序和使用所有功能。用户可以选择更改密码。用户可以在线和离线查看可用用户列表并执行聊天操作；</p>\n<p>　　3、双向即时通讯聊天模块：在聊天模块下，用户可以查看在线和离线状态的可用用户列表。他可以选择用户并在接受后发送请求，他可以与用户聊天。用户将有更改字体和颜色的设置选项。用户可以输入一条消息，然后使用send按钮发送一条消息，该消息显示在上面的窗口下。用户可以一次与多个用户聊天，他可以查看以前的聊天记录和删除消息；</p>\n<p>　　4、多用户同时响应支持模块：客服可以同时接入不同的咨询请求，并可以甚至处理优先级。</p>\n<p>　　在线客服系统是当今一种新的与线上交流方式，它基本上是由在因特网上定期交换信息的人或一群人组成的。他们特别与那些有共同利益的人交流。该在线客服系统源码是一个基于web MySQL-Ajax的应用程序。对于系统的后端，使用了sqlserver，以便以后很容易检索。它就像信使一样，一个用户可以与其他用户聊天。此外，多个用户也可以在一个群中聊天。系统还会自动更新聊天记录。</p>\n<p>　　该系统基本上是搭载完善的在线聊天系统，供有兴趣交换信息的用户使用。它也将有助于那些与更多的人分享信息的用户。系统由管理员和用户两部分组成。系统的用户是可以登录系统的普通用户。相反，他们将被允许在他们之间交换信息。而且，他们可以根据自己的兴趣与一群人交流。</p>\n<p>　　然而，这个系统将是更有用的用户，因为他们可以加入小组聊天。系统也有一个管理员，他们可以添加和删除用户。此外，该系统还可以帮助用户寻找其他活跃的或在线或离线的用户，所有这些活动都与创建数据库chat和导入数据库中的SQL文件一起存储。</p>\n<p><strong>企业搭载在线客服系统源码的优势：</strong></p>\n<p>　　1、获得良好的口碑传播：29%的消费者曾告诉朋友或同事在线客服的完美体验；</p>\n<p>　　2、实时聊天可以增加购买量：38%的消费者更愿意从公司购买，如果他们提供实时聊天支持；</p>\n<p>　　3、实时聊天可以提高客户忠诚度：如果提供实时聊天支持，51%的消费者更有可能继续留在公司或再次从公司购买产品。而且，他们很乐意花更多的钱！在每月在线消费在250-500美元之间的人中，63%的人最有可能从提供在线聊天服务的公司购买产品并对其忠诚。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\d815cfe1ae584450a5cb361102425982.jpeg\"/></p>\n<p></p>\n<p>代码：</p>\n<div>\n<pre><code class=\"hljs\">/**\n *\n * 前台Pc端对话窗口.\n */\nclass Index extends Controller\n{\n\n    public function _initialize()\n    {\n        $basename = request()-&gt;root();\n        if (pathinfo($basename, PATHINFO_EXTENSION) == 'php') {\n            $basename = dirname($basename);\n        }\n        $this-&gt;assign('basename',$basename);\n    }\n\n    /**\n     *\n     * [home description]\n     * @return [type] [description]\n     */\n    public function home()\n    {\n        $data = $this-&gt;request-&gt;request('',null,null);\n        $data['business_id'] = $this-&gt;request-&gt;param('business_id');\n        $data['groupid'] = $this-&gt;request-&gt;param('groupid');\n        $data['special'] = $this-&gt;request-&gt;param('special');\n        $data['theme'] = $this-&gt;request-&gt;param('theme','7571f9');\n        if (isset($data['code']) &amp;&amp; strpos($_SERVER['HTTP_USER_AGENT'], 'MicroMessenger') !== false) {\n            try{\n                $_SESSION['Custom'] = null;\n                Cookie::delete('product_id');\n                $wechat = WechatPlatform::get(['business_id' =&gt; $data['business_id']]);\n                $appid = $wechat['app_id'];\n                $appsecret = $wechat['app_secret'];\n                $weixin = file_get_contents(\"https://api.weixin.qq.com/sns/oauth2/access_token?appid=$appid&amp;secret=$appsecret&amp;code={$data['code']}&amp;grant_type=authorization_code\");//通过code换取网页授权access_token\n                $array = json_decode($weixin,true); //对JSON格式的字符串进行编码\n                //{\"errcode\":40029,\"errmsg\":\"invalid code\"}\n                if(!isset($array['access_token'])){\n                    //说明没有获取到\n//                        $this-&gt;error('公众号access_token获取失败','https://www.baidu.com/');\n                    echo $array['errmsg'];\n                    exit();\n                }\n                $info = file_get_contents(\"https://api.weixin.qq.com/sns/userinfo?access_token={$array['access_token']}&amp;openid={$array['openid']}&amp;lang=zh_CN\");\n                $infoarray = json_decode($info,true);\n                $data['visiter_id'] = $infoarray['openid'];\n                $common = new Common();\n                $data['visiter_name'] = $common-&gt;remove_emoji($infoarray['nickname']);\n                $data['avatar'] = $infoarray['headimgurl'];\n                if (!isset($data['groupid'])) {\n                    $data['groupid'] = 0;\n                }\n\n            }catch (Exception $exception) {\n                $this-&gt;error($exception-&gt;getMessage());\n            }\n        }\n\n        if (!isset($data['product'])) {\n            $data['product'] = \"\";\n        }\n\n        if (!isset($data['special'])) {\n            $data['special'] = \"\";\n        }\n\n        $str = 'theme='.$data['theme'].\"&amp;visiter_id=\" . $data['visiter_id'] . \"&amp;visiter_name=\" . $data['visiter_name'] . \"&amp;avatar=\" . $data['avatar'] . \"&amp;business_id=\" . $data['business_id'] . \"&amp;groupid=\" . $data['groupid'] . \"&amp;product=\" . $data['product'].\"&amp;special=\" . $data['special'];\n\n        $common = new Common();\n\n        $newstr = $common-&gt;encrypt($str, 'E', 'QQ1500203929');\n\n        $a = urlencode($newstr);\n\n        $this-&gt;redirect(request()-&gt;root().'/index/index?code=' . $a);\n\n    }\n\n    /**\n     * 对话窗口页面.\n     *\n     * @return mixed\n     */\n    public function index()\n    {\n\n        $sarr = parse_url(ahost);\n        if ($sarr['scheme'] == 'https') {\n            $state = true;\n        } else {\n            $state = false;\n        }\n\n        $app_key = app_key;\n        $app_secret = app_secret;\n        $app_id = app_id;\n        $options = array(\n            'encrypted' =&gt; $state\n        );\n        $host = ahost;\n        $port = aport;\n\n        $pusher = new Pusher(\n            $app_key,\n            $app_secret,\n            $app_id,\n            $options,\n            $host,\n            $port\n        );\n\n        $common = new Common();\n\n        $is_mobile = $common-&gt;isMobile();\n\n        $url = domain;\n\n        if (isset($_SERVER['HTTP_REFERER'])) {\n            $from_url = $_SERVER['HTTP_REFERER'];\n        } else {\n            $from_url = '';\n        }\n\n\n        $arr = $this-&gt;request-&gt;get();\n\n        $data = $common-&gt;encrypt($arr['code'], 'D', 'QQ1500203929');\n\n        if (!$data) {\n            $this-&gt;redirect(request()-&gt;root().'/index/index/errors');\n        }\n\n        parse_str($data, $arr2);\n        $special = isset($arr2['special']) ? $arr2['special']:null;\n\n        if (!isset($arr2['visiter_id']) || !isset($arr2['visiter_name']) || !isset($arr2['product']) || !isset($arr2['groupid']) || !isset($arr2['business_id']) || !isset($arr2['avatar'])) {\n            $this-&gt;redirect(request()-&gt;root().'/index/index/errors');\n        }\n\n        $theme=isset($arr2['theme'])?$arr2['theme']:'7571f9';\n        if ($is_mobile) {\n            $this-&gt;redirect(request()-&gt;root().'/mobile/index/home?theme=' . $theme . '&amp;visiter_id=' . $arr2['visiter_id'] . '&amp;visiter_name=' . $arr2['visiter_name'] . '&amp;avatar=' . $arr2['avatar'] . '&amp;business_id=' . $arr2['business_id'] . '&amp;product=' . $arr2['product'] . '&amp;groupid=' . $arr2['groupid'].\"&amp;special=\".$special);\n        }\n\n\n        $content = json_decode($arr2['product'], true);\n        if (!$content) {\n            $arr2['product'] = NULL;\n\n        }\n        $business_id = htmlspecialchars($arr2['business_id']);\n        $visiter_id = htmlspecialchars($arr2['visiter_id']);\n        if ($visiter_id === '') {\n            if (empty($_SESSION['Custom']['visiter_id'])) {\n                $visiter_id = bin2hex(pack('N', time()));\n                $_SESSION['Custom']['visiter_id'] = $visiter_id;\n            } else {\n                $visiter_id = $_SESSION['Custom']['visiter_id'];\n            }\n        }\n\n        // 判断是否访问过\n        if ($visiter_id) {\n\n            if (!isset($_COOKIE['product_id'])) {\n\n                if ($arr2['product'] != NULL) {\n\n                    $product = $arr2['product'];\n                    $content = json_decode($arr2['product'], true);\n                    if (isset($content['pid']) &amp;&amp; isset($content['url']) &amp;&amp; isset($content['img']) &amp;&amp; isset($content['title']) &amp;&amp; isset($content['info']) &amp;&amp; isset($content['price'])) {\n                        setcookie(\"product_id\", $content['pid'], time() + 3600 * 12);\n                        $arr2['timestamp'] = time();\n\n                        $service = User::table('wolive_queue')-&gt;where(['visiter_id' =&gt; $visiter_id, 'business_id' =&gt; $business_id])-&gt;find();\n\n                        if ($service) {\n                            $service_id = $service['service_id'];\n                        } else {\n                            $service_id = 0;\n                        }\n\n                        $str = '&lt;a href=\"' . $content['url'] . '\" target=\"_blank\" class=\"wolive_product\"&gt;';\n                        $str .= '&lt;div class=\"wolive_img\"&gt;&lt;img src=\"' . $content['img'] . '\" width=\"100px\"&gt;&lt;/div&gt;';\n                        $str .= '&lt;div class=\"wolive_head\"&gt;&lt;p class=\"wolive_info\"&gt;' . $content['title'] . '&lt;/p&gt;&lt;p class=\"wolive_price\"&gt;' . $content['price'] . '&lt;/p&gt;';\n                        $str .= '&lt;p class=\"wolive_info\"&gt;' . $content['info'] . '&lt;/p&gt;';\n                        $str .= '&lt;/div&gt;&lt;/a&gt;';\n\n\n                        $mydata = ['service_id' =&gt; $service_id, 'visiter_id' =&gt; $visiter_id, 'content' =&gt; $str, 'timestamp' =&gt; time(), 'business_id' =&gt; $business_id, 'direction' =&gt; 'to_service'];\n\n                        $pusher-&gt;trigger('kefu' . $service_id, 'cu-event', array('message' =&gt; $mydata));\n\n                        $chats = User::table('wolive_chats')-&gt;insert($mydata);\n                    }\n\n                }\n            } else {\n\n                $pid = isset($_COOKIE['product_id']) ? $_COOKIE['product_id'] : '';\n\n                if ($arr2['product'] != NULL) {\n                    $product = $arr2['product'];\n                    $content = json_decode($arr2['product'], true);\n\n                    if (isset($content['pid']) &amp;&amp; isset($content['url']) &amp;&amp; isset($content['img']) &amp;&amp; isset($content['title']) &amp;&amp; isset($content['info']) &amp;&amp; isset($content['price']) &amp;&amp; $content['pid'] != $pid) {\n\n                        $service = User::table('wolive_queue')-&gt;where(['visiter_id' =&gt; $visiter_id, 'business_id' =&gt; $business_id])-&gt;find();\n\n                        if ($service) {\n                            $service_id = $service['service_id'];\n                        } else {\n                            $service_id = 0;\n                        }\n\n                        $str = '&lt;a href=\"' . $content['url'] . '\" target=\"_blank\" class=\"wolive_product\"&gt;';\n                        $str .= '&lt;div class=\"wolive_img\"&gt;&lt;img src=\"' . $content['img'] . '\" width=\"100px\"&gt;&lt;/div&gt;';\n                        $str .= '&lt;div class=\"wolive_head\"&gt;&lt;p class=\"wolive_info\"&gt;' . $content['title'] . '&lt;/p&gt;&lt;p class=\"wolive_price\"&gt;' . $content['price'] . '&lt;/p&gt;';\n                        $str .= '&lt;p class=\"wolive_info\"&gt;' . $content['info'] . '&lt;/p&gt;';\n                        $str .= '&lt;/div&gt;&lt;/a&gt;';\n\n                        $mydata = ['service_id' =&gt; $service_id, 'visiter_id' =&gt; $visiter_id, 'content' =&gt; $str, 'timestamp' =&gt; time(), 'business_id' =&gt; $business_id, 'direction' =&gt; 'to_service'];\n\n                        $pusher-&gt;trigger('kefu' . $service_id, 'cu-event', array('message' =&gt; $mydata));\n                        $chats = User::table('wolive_chats')-&gt;insert($mydata);\n\n                    }\n                }\n            }\n\n        } else {\n\n            if (!isset($_COOKIE['product_id'])) {\n\n                if ($arr2['product'] != NULL) {\n                    $product = $arr2['product'];\n                    $content = json_decode($arr2['product'], true);\n                    if (isset($content['pid']) &amp;&amp; isset($content['url']) &amp;&amp; isset($content['img']) &amp;&amp; isset($content['title']) &amp;&amp; isset($content['info']) &amp;&amp; isset($content['price'])) {\n                        setcookie(\"product_id\", $content['pid'], time() + 3600 * 12);\n                        $arr2['timestamp'] = time();\n\n                        $service = User::table('wolive_queue')-&gt;where(['visiter_id' =&gt; $visiter_id, 'business_id' =&gt; $business_id])-&gt;find();\n\n                        if ($service) {\n                            $service_id = $service['service_id'];\n                        } else {\n                            $service_id = 0;\n                        }\n\n                        $str = '&lt;a href=\"' . $content['url'] . '\" target=\"_blank\" class=\"wolive_product\"&gt;';\n                        $str .= '&lt;div class=\"wolive_img\"&gt;&lt;img src=\"' . $content['img'] . '\" width=\"100px\"&gt;&lt;/div&gt;';\n                        $str .= '&lt;div class=\"wolive_head\"&gt;&lt;p class=\"wolive_info\"&gt;' . $content['title'] . '&lt;/p&gt;&lt;p class=\"wolive_price\"&gt;' . $content['price'] . '&lt;/p&gt;';\n                        $str .= '&lt;p class=\"wolive_info\"&gt;' . $content['info'] . '&lt;/p&gt;';\n                        $str .= '&lt;/div&gt;&lt;/a&gt;';\n\n\n                        $mydata = ['service_id' =&gt; $service_id, 'visiter_id' =&gt; $visiter_id, 'content' =&gt; $str, 'timestamp' =&gt; time(), 'business_id' =&gt; $business_id, 'direction' =&gt; 'to_service'];\n\n                        $pusher-&gt;trigger('kefu' . $service_id, 'cu-event', array('message' =&gt; $mydata));\n\n                        $chats = User::table('wolive_chats')-&gt;insert($mydata);\n                    }\n\n                }\n            } else {\n\n                if ($arr2['product'] != NULL) {\n\n\n                    if ($arr2['visiter_id'] != $_SESSION['Custom']['visiter_id']) {\n\n                        $product = $arr2['product'];\n                        $content = json_decode($arr2['product'], true);\n\n                        if (isset($content['pid']) &amp;&amp; isset($content['url']) &amp;&amp; isset($content['img']) &amp;&amp; isset($content['title']) &amp;&amp; isset($content['info']) &amp;&amp; isset($content['price'])) {\n\n                            $service = User::table('wolive_queue')-&gt;where(['visiter_id' =&gt; $visiter_id, 'business_id' =&gt; $business_id])-&gt;find();\n\n                            if ($service) {\n                                $service_id = $service['service_id'];\n                            } else {\n                                $service_id = 0;\n                            }\n\n                            $str = '&lt;a href=\"' . $content['url'] . '\" target=\"_blank\" class=\"wolive_product\"&gt;';\n                            $str .= '&lt;div class=\"wolive_img\"&gt;&lt;img src=\"' . $content['img'] . '\" width=\"100px\"&gt;&lt;/div&gt;';\n                            $str .= '&lt;div class=\"wolive_head\"&gt;&lt;p class=\"wolive_info\"&gt;' . $content['title'] . '&lt;/p&gt;&lt;p class=\"wolive_price\"&gt;' . $content['price'] . '&lt;/p&gt;&lt;p&gt;';\n                            $str .= '&lt;p class=\"wolive_info\"&gt;' . $content['info'] . '&lt;/p&gt;';\n                            $str .= '&lt;/div&gt;&lt;/a&gt;';\n\n\n                            $mydata = ['service_id' =&gt; $service_id, 'visiter_id' =&gt; $visiter_id, 'content' =&gt; $str, 'timestamp' =&gt; time(), 'business_id' =&gt; $business_id, 'direction' =&gt; 'to_service'];\n\n                            $pusher-&gt;trigger('kefu' . $service_id, 'cu-event', array('message' =&gt; $mydata));\n                            $chats = User::table('wolive_chats')-&gt;insert($mydata);\n                        }\n\n                    } else {\n\n                        $pid = $_COOKIE['product_id'];\n\n                        $product = $arr2['product'];\n                        $content = json_decode($arr2['product'], true);\n                        // 判断是否是同个商品\n                        if (isset($content['pid']) &amp;&amp; isset($content['url']) &amp;&amp; isset($content['img']) &amp;&amp; isset($content['title']) &amp;&amp; isset($content['info']) &amp;&amp; isset($content['price']) &amp;&amp; $content['pid'] != $pid) {\n\n                            $service = User::table('wolive_queue')-&gt;where(['visiter_id' =&gt; $visiter_id, 'business_id' =&gt; $business_id])-&gt;find();\n\n                            if ($service) {\n                                $service_id = $service['service_id'];\n                            } else {\n                                $service_id = 0;\n                            }\n\n                            $str = '&lt;a href=\"' . $content['url'] . '\" target=\"_blank\" class=\"wolive_product\"&gt;';\n                            $str .= '&lt;div class=\"wolive_img\"&gt;&lt;img src=\"' . $content['img'] . '\" width=\"100px\"&gt;&lt;/div&gt;';\n                            $str .= '&lt;div class=\"wolive_head\"&gt;&lt;p class=\"wolive_info\"&gt;' . $content['title'] . '&lt;/p&gt;&lt;p class=\"wolive_price\"&gt;' . $content['price'] . '&lt;/p&gt;';\n                            $str .= '&lt;p class=\"wolive_info\"&gt;' . $content['info'] . '&lt;/p&gt;';\n                            $str .= '&lt;/div&gt;&lt;/a&gt;';\n\n\n                            $mydata = ['service_id' =&gt; $service_id, 'visiter_id' =&gt; $visiter_id, 'content' =&gt; $str, 'timestamp' =&gt; time(), 'business_id' =&gt; $business_id, 'direction' =&gt; 'to_service'];\n\n                            $pusher-&gt;trigger('kefu' . $service_id, 'cu-event', array('message' =&gt; $mydata));\n                            $chats = User::table('wolive_chats')-&gt;insert($mydata);\n                        }\n                    }\n\n                }\n            }\n        }\n\n        $channel = bin2hex($visiter_id . '/' . $business_id);\n        $visiter_name = htmlspecialchars($arr2['visiter_name']);\n\n        $avatar = htmlspecialchars($arr2['avatar']);\n\n        if ($visiter_name == '') {\n            $visiter_name = '游客' . $visiter_id;\n        }\n\n        $groupid = htmlspecialchars($arr2['groupid']);\n\n        $app_key = app_key;\n        $whost = whost;\n        $arr = parse_url($whost);\n        if ($arr['scheme'] == 'ws') {\n\n            $port = 'wsPort';\n            $value = 'false';\n        } else {\n\n            $value = 'true';\n            $port = 'wssPort';\n        }\n\n        $business = User::table('wolive_business')-&gt;where('id', $business_id)-&gt;find();\n        $rest = RestSetting::get(['business_id'=&gt;$business_id]);\n        $state = empty($rest) ? false : $rest-&gt;isOpen($business_id,$visiter_id) ;\n        $this-&gt;assign('reststate', $state);\n        $this-&gt;assign('restsetting',$rest);\n        $this-&gt;assign('business_name',$business['business_name']);\n        $this-&gt;assign(\"type\", $business['video_state']);\n        $this-&gt;assign(\"atype\", $business['audio_state']);\n        $this-&gt;assign('app_key', $app_key);\n        $this-&gt;assign('whost', $arr['host']);\n        $this-&gt;assign('value', $value);\n        $this-&gt;assign('wport', wport);;\n        $this-&gt;assign('port', $port);\n        $this-&gt;assign('url', $url);\n        $this-&gt;assign('groupid', $groupid);\n        $this-&gt;assign('visiter', $visiter_name);\n        $this-&gt;assign('business_id', $business_id);\n        $this-&gt;assign('from_url', $from_url);\n        $this-&gt;assign('channel', $channel);\n        $this-&gt;assign('visiter_id', $visiter_id);\n        $this-&gt;assign('avatar', $avatar);\n        $this-&gt;assign('theme', $theme);\n        $this-&gt;assign('special',$special);\n\n        return $this-&gt;fetch();\n    }\n\n    /**\n     * 404页面\n     */\n\n    public function errors()\n    {\n        return $this-&gt;fetch();\n    }\n\n    /**\n     * 获取排队数量.\n     *\n     * @return mixed\n     */\n    public function getwaitnum()\n    {\n        $post = $this-&gt;request-&gt;post();\n        $num = User::table('wolive_queue')-&gt;where('visiter_id', $post['visiter_id'])-&gt;where(\"service_id\", 0)-&gt;count();\n        return $num;\n    }\n\n    public function wechat()\n    {\n        $business_id = $this-&gt;request-&gt;param('business_id', '');\n        $group_id = $this-&gt;request-&gt;param('groupid',0);\n        $special = $this-&gt;request-&gt;param('special','');\n        $theme = $this-&gt;request-&gt;param('theme','7571f9');\n        if(empty($business_id)){\n            abort(500);\n        }\n        $wechat = WechatPlatform::get(['business_id' =&gt; $business_id]);\n        $APPID = $wechat['app_id'];\n        $REDIRECT_URI = url('index/index/home',['business_id'=&gt;$business_id,'groupid'=&gt;$group_id,'special'=&gt;$special,'theme'=&gt;$theme],true,true);\n        $scope = 'snsapi_userinfo';\n        $url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' . $APPID . '&amp;redirect_uri=' . urlencode($REDIRECT_URI) . '&amp;response_type=code&amp;scope=' . $scope . '&amp;state=123#wechat_redirect';\n        $this-&gt;redirect($url);\n    }\n}</code></pre>\n</div>\n<p></p>\n<p><strong>在线客服系统源码安装方法：</strong></p>\n<p>　　要运行此系统，必须安装虚拟服务器，即XAMPP在您的电脑上（对于Windows）。</p>\n<p>　　在XAMPP中启动Apache和MySQL之后，请执行以下步骤。</p>\n<p>　　第一步：提取文件</p>\n<p>　　第二步：复制主项目文件夹</p>\n<p>　　第三步：在xampp/htdocs中粘贴/</p>\n<p>　　第四步：打开浏览器并转到URL“localhost/phpmyadmin”</p>\n<p>　　第五步：然后，单击databases选项卡</p>\n<p>　　第六步：创建一个名为“tutorial_db”的数据库，然后单击import选项卡</p>\n<p>　　第7步：单击browse file并选择“tutorial_db.sql”文件，该文件位于“database”文件夹中</p>\n<p>　　第八步：创建数据库</p>\n<p>　　第九步：打开浏览器并转到URL“localhost/chat_project”</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\01c3841d90754cdb871a28a6ca4ad6c6.jpeg\"/></p>\n<h2>源码分享</h2>\n<p><a href=\"https://yfi.lanzouj.com/iHN4A061ok5c\" title=\"https://yfi.lanzouj.com/iHN4A061ok5c\">https://yfi.lanzouj.com/iHN4A061ok5c</a></p>\n</div>\n</div>"}