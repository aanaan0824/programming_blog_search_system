{"blogid": "124024033", "writerAge": "码龄4年", "writerBlogNum": "36", "writerCollect": "34", "writerComment": "2", "writerFan": "12", "writerGrade": "2级", "writerIntegral": "376", "writerName": "J.Kuchiki", "writerProfileAdress": "writer_image\\profile_124024033.jpg", "writerRankTotal": "62705", "writerRankWeekly": "488405", "writerThumb": "10", "writerVisitNum": "30403", "blog_read_count": "8862", "blog_time": "于 2022-04-07 19:24:15 发布", "blog_title": "【SQL中limit的用法】", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>SQL中limit的用法</h3>\n<br/> 说明：limit子句用于限制查询结果返回的数量，常用于分页查询。\n</div>\n<p></p>\n<pre><code class=\"prism language-sql\">用法：【<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> tableName <span class=\"token keyword\">limit</span> i<span class=\"token punctuation\">,</span>n 】\n参数：tableName: 为数据表；\n     i: 为查询结果的索引值（默认从<span class=\"token number\">0</span>开始）；\n     n: 为查询结果返回的数量\n</code></pre>\n<p><strong>案例：</strong>（来自于力扣的一道简单题）</p>\n<pre><code class=\"prism language-sql\">表: Orders\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------+----------+</span>\n<span class=\"token operator\">|</span> <span class=\"token keyword\">Column</span> Name     <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>     <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------+----------+</span>\n<span class=\"token operator\">|</span> order_number    <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span>      <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> customer_number <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span>      <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------+----------+</span>\n</code></pre>\n<p>Order_number是该表的主键。<br/> 此表包含关于订单ID和客户ID的信息。</p>\n<p>编写一个SQL查询，为下了 最多订单 的客户查找 customer_number 。<br/> 测试用例生成后， 恰好有一个客户 比任何其他客户下了更多的订单。<br/> 查询结果格式如下所示。</p>\n<p><strong>示例 1:</strong><br/> 输入:</p>\n<pre><code class=\"prism language-sql\">Orders 表:\n<span class=\"token operator\">+</span><span class=\"token comment\">--------------+-----------------+</span>\n<span class=\"token operator\">|</span> order_number <span class=\"token operator\">|</span> customer_number <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">--------------+-----------------+</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">1</span>            <span class=\"token operator\">|</span> <span class=\"token number\">1</span>               <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">2</span>            <span class=\"token operator\">|</span> <span class=\"token number\">2</span>               <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">3</span>            <span class=\"token operator\">|</span> <span class=\"token number\">3</span>               <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">4</span>            <span class=\"token operator\">|</span> <span class=\"token number\">3</span>               <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">--------------+-----------------+</span>\n</code></pre>\n<p>输出:</p>\n<pre><code class=\"prism language-sql\"><span class=\"token operator\">+</span><span class=\"token comment\">-----------------+</span>\n<span class=\"token operator\">|</span> customer_number <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------+</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">3</span>               <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------------+</span>\n</code></pre>\n<p><strong>解释:</strong><br/> customer_number 为 ‘3’ 的顾客有两个订单，比顾客 ‘1’ 或者 ‘2’ 都要多，因为他们只有一个订单。<br/> 所以结果是该顾客的 customer_number ，也就是 3 。</p>\n<p>来源：力扣（LeetCode）<br/> 链接：<a href=\"https://leetcode-cn.com/problems/customer-placing-the-largest-number-of-orders\">https://leetcode-cn.com/problems/customer-placing-the-largest-number-of-orders</a><br/> 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>\n<p><strong>解答：</strong><br/>   首先，我们使用 GROUP BY 选择 customer_number 和相应的订单数目。</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span>\n    customer_number<span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span>\n    orders\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> customer_number\n</code></pre>\n<table><thead><tr><th>customer_number</th><th>COUNT(*)</th></tr></thead><tbody><tr><td>1</td><td>1</td></tr><tr><td>2</td><td>1</td></tr><tr><td>3</td><td>2</td></tr></tbody></table>\n<p>  将它们按照订单数目降序排序之后，第一条记录的 customer_number 就是答案。</p>\n<table><thead><tr><th>customer_number</th><th>COUNT(*)</th></tr></thead><tbody><tr><td>3</td><td>2</td></tr></tbody></table>\n<p>  在 MySQL 中， LIMIT 语句可以被用来限制 SELECT 语句的返回行数。它需要传入 1 个或 2 个非负整数参数，第一个参数 offset 表示跳过前面多少行后开始取数据，第二个参数表示最多返回多少行的数据。默认 offset 为 0（不是 1）。<br/>   LIMIT 语句也可以只使用一个参数，这个参数的含义是从结果的第一行开始返回的行数。所以 LIMIT 1 会返回第一行的记录。</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span>\n    customer_number\n<span class=\"token keyword\">FROM</span>\n    orders\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> customer_number\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DESC</span>\n<span class=\"token keyword\">LIMIT</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n</code></pre>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}