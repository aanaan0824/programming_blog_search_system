{"blogid": "126545928", "writerAge": "码龄3年", "writerBlogNum": "95", "writerCollect": "619", "writerComment": "166", "writerFan": "6302", "writerGrade": "5级", "writerIntegral": "1621", "writerName": "小莉爱编程", "writerProfileAdress": "writer_image\\profile_126545928.jpg", "writerRankTotal": "11431", "writerRankWeekly": "1565", "writerThumb": "281", "writerVisitNum": "129312", "blog_read_count": "603", "blog_time": "于 2022-08-26 16:41:36 发布", "blog_title": "echarts多个关系图如何实现", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>关系图的实现</h3>\n<ul><li><a href=\"#1_1\">1.效果图</a></li><li><a href=\"#2echarts_4\">2.引入echarts</a></li><li><a href=\"#3_7\">3.新建一个容器</a></li><li><a href=\"#4_21\">4.初始化图表</a></li><li><a href=\"#5_26\">5.设置配置项</a></li><li><a href=\"#6_189\">6.分析其中一个配置项</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"1_1\"></a>1.效果图</h1>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\b8eea072c6e1415cbc9860b85765a89d.png\"/></p>\n<h1><a id=\"2echarts_4\"></a>2.引入echarts</h1>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\0b2c00a48d304152958c53f67bccae7e.png\"/></p>\n<h1><a id=\"3_7\"></a>3.新建一个容器</h1>\n<p>跟其他echarts图表一样，第一步新建一个容器用来展示图；</p>\n<pre><code class=\"prism language-bash\"> <span class=\"token operator\">&lt;</span>div\n        <span class=\"token assign-left variable\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span>\n        <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token string\">\"echarts-dot\"</span>\n        <span class=\"token assign-left variable\">style</span><span class=\"token operator\">=</span><span class=\"token string\">\"margin-left: 20px;\n  width:1000px;\n  padding: 10px;\n  position: relative;\n  height: 700px;\"</span>\n      <span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span>/div\n</code></pre>\n<h1><a id=\"4_21\"></a>4.初始化图表</h1>\n<p>这里的id名称一定要对上哦~</p>\n<pre><code class=\"prism language-bash\"> var myChart <span class=\"token operator\">=</span> echarts.init<span class=\"token punctuation\">(</span>document.getElementById<span class=\"token punctuation\">(</span><span class=\"token string\">\"echarts-dot\"</span><span class=\"token punctuation\">))</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h1><a id=\"5_26\"></a>5.设置配置项</h1>\n<p>这都是在一个方法里面的；里面的data数据 ，我是自己建的，没有拿后台的；</p>\n<pre><code class=\"prism language-bash\">var option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n        title: <span class=\"token punctuation\">{<!-- --></span>\n          text: <span class=\"token string\">\"\"</span>\n        <span class=\"token punctuation\">}</span>,\n        color: <span class=\"token punctuation\">[</span><span class=\"token string\">\"#BB8FCE\"</span>, <span class=\"token string\">\"#0099FF\"</span>, <span class=\"token string\">\"#5DADE2\"</span><span class=\"token punctuation\">]</span>,\n        tooltip: <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span>,\n        animationDurationUpdate: <span class=\"token number\">1500</span>,\n        label: <span class=\"token punctuation\">{<!-- --></span>\n          normal: <span class=\"token punctuation\">{<!-- --></span>\n            show: true,\n            textStyle: <span class=\"token punctuation\">{<!-- --></span>\n              fontSize: <span class=\"token number\">12</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        series: <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{<!-- --></span>\n            type: <span class=\"token string\">\"graph\"</span>,\n            layout: <span class=\"token string\">\"force\"</span>, //采用力引导布局\n            symbolSize: <span class=\"token number\">80</span>,\n            legendHoverLink: true, //启用图例 hover 时的联动高亮。\n            focusNodeAdjacency: false, //在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。\n            roam: true,\n            center: <span class=\"token punctuation\">[</span><span class=\"token number\">680.44</span>, <span class=\"token string\">\"30%\"</span><span class=\"token punctuation\">]</span>,\n            label: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                show: true,\n                color: <span class=\"token string\">\"#ffffff\"</span>,\n                position: <span class=\"token string\">\"inside\"</span>,\n                textStyle: <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize: <span class=\"token number\">12</span>\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            force: <span class=\"token punctuation\">{<!-- --></span>\n              repulsion: <span class=\"token number\">1200</span>,\n              gravity: <span class=\"token number\">0.3</span>,\n              edgeLength: <span class=\"token punctuation\">[</span><span class=\"token number\">100</span>, <span class=\"token number\">500</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>,\n            edgeLabel: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                show: true,\n                color: <span class=\"token string\">\"#ffffff\"</span>,\n                textStyle: <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize: <span class=\"token number\">10</span>\n                <span class=\"token punctuation\">}</span>,\n                formatter: <span class=\"token string\">\"{c}\"</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            categories: <span class=\"token punctuation\">[</span><span class=\"token string\">\"机构\"</span>, <span class=\"token string\">\"文献\"</span>, <span class=\"token string\">\"人员\"</span><span class=\"token punctuation\">]</span>,\n            data: data.datas,\n            links: data.lines,\n            lineStyle: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                opacity: <span class=\"token number\">0.9</span>,\n                width: <span class=\"token number\">1</span>,\n                type: <span class=\"token string\">\"dashed\"</span>,\n                curveness: <span class=\"token number\">0</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>,\n          <span class=\"token punctuation\">{<!-- --></span>\n            force: <span class=\"token punctuation\">{<!-- --></span>\n              repulsion: <span class=\"token number\">1500</span>,\n              gravity: <span class=\"token number\">0.2</span>,\n              //关系线的长度\n              edgeLength: <span class=\"token number\">200</span>\n            <span class=\"token punctuation\">}</span>,\n            center: <span class=\"token punctuation\">[</span><span class=\"token number\">150.97</span>, <span class=\"token string\">\"40%\"</span><span class=\"token punctuation\">]</span>,\n            type: <span class=\"token string\">\"graph\"</span>,\n            layout: <span class=\"token string\">\"force\"</span>, //采用力引导布局\n            legendHoverLink: true, //启用图例 hover 时的联动高亮。\n            focusNodeAdjacency: false, //在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。\n            roam: true,\n            label: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                color: <span class=\"token string\">\"#ffffff\"</span>,\n                show: true,\n                position: <span class=\"token string\">\"inside\"</span>,\n                textStyle: <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize: <span class=\"token number\">12</span>\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            edgeSymbolSize: <span class=\"token punctuation\">[</span><span class=\"token number\">4</span>, <span class=\"token number\">50</span><span class=\"token punctuation\">]</span>,\n            edgeLabel: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                show: true,\n                color: <span class=\"token string\">\"#ffffff\"</span>,\n                textStyle: <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize: <span class=\"token number\">10</span>\n                <span class=\"token punctuation\">}</span>,\n                formatter: <span class=\"token string\">\"{c}\"</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            categories: <span class=\"token punctuation\">[</span><span class=\"token string\">\"机构\"</span>, <span class=\"token string\">\"文献\"</span>, <span class=\"token string\">\"人员\"</span><span class=\"token punctuation\">]</span>,\n            data: data.datas2,\n            links: data.lines2,\n            lineStyle: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                opacity: <span class=\"token number\">0.9</span>,\n                width: <span class=\"token number\">1</span>,\n                type: <span class=\"token string\">\"dashed\"</span>,\n                curveness: <span class=\"token number\">0</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>,\n          <span class=\"token punctuation\">{<!-- --></span>\n            symbolOffset: <span class=\"token punctuation\">[</span><span class=\"token number\">50</span>, <span class=\"token string\">\"-50%\"</span><span class=\"token punctuation\">]</span>,\n            force: <span class=\"token punctuation\">{<!-- --></span>\n              repulsion: <span class=\"token number\">500</span>,\n              gravity: <span class=\"token number\">0.1</span>,\n              //关系线的长度\n              edgeLength: <span class=\"token punctuation\">[</span><span class=\"token number\">100</span>, <span class=\"token number\">200</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>,\n            center: <span class=\"token punctuation\">[</span><span class=\"token number\">620.44</span>, <span class=\"token string\">\"80%\"</span><span class=\"token punctuation\">]</span>,\n            type: <span class=\"token string\">\"graph\"</span>,\n            layout: <span class=\"token string\">\"force\"</span>, //采用力引导布局\n            symbolSize: <span class=\"token number\">50</span>,\n            legendHoverLink: true, //启用图例 hover 时的联动高亮。\n            focusNodeAdjacency: false, //在鼠标移到节点上的时候突出显示节点以及节点的边和邻接节点。\n            roam: true,\n            label: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                color: <span class=\"token string\">\"#ffffff\"</span>,\n                show: true,\n                position: <span class=\"token string\">\"inside\"</span>,\n                textStyle: <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize: <span class=\"token number\">12</span>\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            edgeSymbolSize: <span class=\"token punctuation\">[</span><span class=\"token number\">4</span>, <span class=\"token number\">50</span><span class=\"token punctuation\">]</span>,\n            edgeLabel: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                show: true,\n                textStyle: <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize: <span class=\"token number\">10</span>\n                <span class=\"token punctuation\">}</span>,\n                formatter: <span class=\"token string\">\"{c}\"</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            categories: <span class=\"token punctuation\">[</span><span class=\"token string\">\"机构\"</span>, <span class=\"token string\">\"文献\"</span>, <span class=\"token string\">\"人员\"</span><span class=\"token punctuation\">]</span>,\n            data: data.datas3,\n            links: data.lines3,\n            lineStyle: <span class=\"token punctuation\">{<!-- --></span>\n              normal: <span class=\"token punctuation\">{<!-- --></span>\n                opacity: <span class=\"token number\">0.9</span>,\n                width: <span class=\"token number\">1</span>,\n                curveness: <span class=\"token number\">0</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      myChart.resize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      myChart.setOption<span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"6_189\"></a>6.分析其中一个配置项</h1>\n<p>这样的一个项，就对应我的那个关系图的一个；它里面的links就是关系，意思是谁对应谁；<br/> 里面有一些配置都是需要在文档中一个个的找到 然后进行设置的<br/> <a href=\"https://echarts.apache.org/zh/option.html#series-graph.itemStyle\">echarts官网文档关系图</a></p>\n<p>这里用到的时候力引导布局；所以要看这个设置</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\a0f0be48b8b84e8d941ef06eaf65f2cf.png\"/></p>\n<p>大概看一下数据结构吧。这个是关系的结构</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\08e7e73677c14c1ea169aa5309329d10.png\"/><br/> 这里是数据结构<br/> <img alt=\"在这里插入图片描述\" src=\"image\\e7d9166bbb8f42adb03e18d6210e1767.png\"/></p>\n<p>记得写上这个加载方法哦！</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\a4e84cb0e8194c24a0a414f11c5766cf.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}