{"blogid": "126610347", "writerAge": "ç é¾„12å¹´", "writerBlogNum": "17", "writerCollect": "48", "writerComment": "13", "writerFan": "9", "writerGrade": "3çº§", "writerIntegral": "781", "writerName": "Elwin Wong", "writerProfileAdress": "writer_image\\profile_126610347.jpg", "writerRankTotal": "24825", "writerRankWeekly": "17536", "writerThumb": "32", "writerVisitNum": "58663", "blog_read_count": "297", "blog_time": "äºÂ 2022-08-30 19:31:43Â å‘å¸ƒ", "blog_title": "CentOSä¸Šå®‰è£…Docker", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><ul><li><a href=\"#_2\">å‰æœŸå‡†å¤‡</a></li><li><ul><li><a href=\"#_4\">ç³»ç»Ÿè¦æ±‚</a></li><li><a href=\"#docker_17\">å¸è½½æ—§ç‰ˆæœ¬çš„docker</a></li></ul>\n</li><li><a href=\"#_35\">å®‰è£…æ–¹æ³•</a></li><li><ul><li><a href=\"#_45\">ä½¿ç”¨ä»“åº“å®‰è£…</a></li><li><ul><li><a href=\"#_49\">è®¾ç½®ä»“åº“</a></li><li><a href=\"#Docker_71\">å®‰è£…Dockerå¼•æ“</a></li><li><a href=\"#Docker_124\">æ›´æ–°Dockerå¼•æ“</a></li></ul>\n</li><li><a href=\"#_128\">ä»è½¯ä»¶åŒ…å®‰è£…</a></li><li><ul><li><a href=\"#Docker_132\">å®‰è£…Dockerå¼•æ“</a></li><li><a href=\"#Docker_145\">æ›´æ–°Dockerå¼•æ“</a></li></ul>\n</li><li><a href=\"#_154\">ä½¿ç”¨ä¾¿æ·è„šæœ¬å®‰è£…</a></li></ul>\n</li><li><a href=\"#Docker_177\">Dockerå¯åŠ¨å’Œåœæ­¢</a></li><li><ul><li><a href=\"#_179\">å¯åŠ¨å’ŒéªŒè¯</a></li><li><ul><li><a href=\"#Docker_181\">å¯åŠ¨Docker</a></li><li><a href=\"#Docker_Engine_192\">éªŒè¯Docker Engineæ˜¯å¦æ­£ç¡®å®‰è£…</a></li></ul>\n</li><li><a href=\"#_205\">åœæ­¢</a></li></ul>\n</li><li><a href=\"#Docker_253\">å¸è½½Dockerå¼•æ“</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"_2\"></a>å‰æœŸå‡†å¤‡</h2>\n<h3><a id=\"_4\"></a>ç³»ç»Ÿè¦æ±‚</h3>\n<ul><li> <p>CentOSç‰ˆæœ¬ï¼šCentOS 7ã€CentOS Stream 8æˆ–CentOS Stream 9ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯CentOS Stream 9</p> </li><li> <p><code>centos-extras</code>ä»“åº“å¿…é¡»æ˜¯æ¿€æ´»çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥ä»“åº“æ˜¯æ¿€æ´»çš„ï¼Œå¯éªŒè¯å¦‚ä¸‹ï¼š</p> <p> ä½¿ç”¨å‘½ä»¤<code>vim /etc/yum.repos.d/centos-addons.repo</code>æŸ¥çœ‹yumä»“åº“çš„é…ç½®æ–‡ä»¶ï¼ŒæŸ¥çœ‹<code>[extras-common]</code>ä»“åº“ä¸‹é¢å¯¹åº”çš„<code>enabled</code>çš„å€¼ï¼Œå¦‚æœæ˜¯1ï¼Œåˆ™è¯¥ä»“åº“æ˜¯æ¿€æ´»çŠ¶æ€ï¼Œå¦‚æœæ˜¯0ï¼Œåˆ™è¯¥ä»“åº“æ˜¯éæ¿€æ´»çŠ¶æ€ï¼Œéœ€è¦å°†0æ”¹ä¸º1ï¼Œè®¾ç½®ä¸ºæ¿€æ´»çŠ¶æ€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\b4573fa72ce9429a8cd78f2b115c9d14.png\"/></p> </li><li> <p>æ¨èä½¿ç”¨<code>overlay2</code>å­˜å‚¨é©±åŠ¨ï¼Œå¤§éƒ¨åˆ†çš„Linuxç³»ç»Ÿéƒ½æ”¯æŒ</p> </li></ul>\n<h3><a id=\"docker_17\"></a>å¸è½½æ—§ç‰ˆæœ¬çš„docker</h3>\n<p>è™½ç„¶æˆ‘ä»¬ç›®å‰ç”¨çš„è™šæ‹Ÿæœºæ“ä½œç³»ç»ŸCentOS Stream 9æ²¡æœ‰å®‰è£…è¿‡Dockerï¼Œä½†æ˜¯ä¸ºäº†å®Œæ•´æ€§ï¼Œä¹Ÿæœ‰å¯èƒ½æœ‰äº›äººæ˜¯å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„Dockerï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰å¿…è¦åŠ ä¸Šè¿™å—å†…å®¹ã€‚æ—©æœŸç‰ˆæœ¬çš„Dockerè¢«ç§°ä¸º<code>docker</code>æˆ–<code>docker-engine</code>ï¼Œå¦‚æœä¹‹å‰å®‰è£…è¿‡ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°†å®ƒä»¬ä»¥åŠç›¸å…³çš„ä¾èµ–é¡¹å¸è½½æ‰ï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum remove <span class=\"token function\">docker</span> <span class=\"token punctuation\">\\</span>\n                  docker-client <span class=\"token punctuation\">\\</span>\n                  docker-client-latest <span class=\"token punctuation\">\\</span>\n                  docker-common <span class=\"token punctuation\">\\</span>\n                  docker-latest <span class=\"token punctuation\">\\</span>\n                  docker-latest-logrotate <span class=\"token punctuation\">\\</span>\n                  docker-logrotate <span class=\"token punctuation\">\\</span>\n                  docker-engine\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\61b346a7f16a43f8b33e73300a9224ed.png\"/></p>\n<h2><a id=\"_35\"></a>å®‰è£…æ–¹æ³•</h2>\n<p>æ ¹æ®ä¸åŒçš„éœ€æ±‚ï¼Œå®‰è£…Dockerå¼•æ“æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ï¼š</p>\n<ul><li> <p>æ¯”è¾ƒæ¨èçš„æ–¹æ³•æ˜¯è®¾ç½®Dockerçš„ä»“åº“å¹¶ä»ä¸­è·å–å®‰è£…åŒ…å¹¶å®‰è£…ï¼Œè¿™æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¹Ÿä¾¿äºåç»­çš„å‡çº§ã€‚</p> </li><li> <p>é€šè¿‡ä¸‹è½½RPMåŒ…æ‰‹åŠ¨å®‰è£…ï¼Œå¹¶å®Œå…¨æ‰‹åŠ¨ç®¡ç†å‡çº§ã€‚è¿™å¯¹äºåœ¨æ— æ³•è”ç½‘çš„ç¯å¢ƒä¸­å®‰è£…Dockerç­‰æƒ…å†µéå¸¸æœ‰ç”¨ã€‚</p> </li><li> <p>åœ¨æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡å®˜æ–¹æä¾›çš„å®‰è£…è„šæœ¬å®‰è£…Docker</p> </li></ul>\n<h3><a id=\"_45\"></a>ä½¿ç”¨ä»“åº“å®‰è£…</h3>\n<p>å½“ä½ åœ¨æ–°çš„ä¸»æœºä¸Šç¬¬ä¸€æ¬¡å®‰è£…Dockerå¼•æ“ä¹‹å‰ï¼Œéœ€è¦å…ˆè®¾ç½®å¥½Dockerä»“åº“ï¼Œä¹‹åå°±å¯ä»¥ä»è¿™ä¸ªä»“åº“å®‰è£…å’Œå‡çº§Dockerã€‚</p>\n<h4><a id=\"_49\"></a>è®¾ç½®ä»“åº“</h4>\n<ol><li> <p>å®‰è£…<code>yum-utils</code>åŒ…ï¼Œå®ƒæä¾›äº†<code>yum-config-manager</code>çš„åŠŸèƒ½ï¼Œå¯ä»¥ç®¡ç†<code>yum</code>çš„é…ç½®</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> -y yum-utils\n</code></pre> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\7b4e6c3c15134bdb9b201e7c313c2c15.png\"/></p> </li><li> <p>æ·»åŠ Dockerä»“åº“</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n</code></pre> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\f1b85e7892854a01ba6dbdb5453a54ed.png\"/></p> <p>å¯ä»¥çœ‹åˆ°yumä»“åº“ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªdockerä»“åº“çš„é…ç½®æ–‡ä»¶</p> </li></ol>\n<h4><a id=\"Docker_71\"></a>å®‰è£…Dockerå¼•æ“</h4>\n<p>å¯ä»¥é€‰æ‹©å®‰è£…æœ€æ–°ç‰ˆæœ¬æˆ–æŒ‡å®šç‰ˆæœ¬çš„Dokcerï¼š</p>\n<ul><li> <p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker Engineã€containerdï¼ˆå®¹å™¨æœåŠ¡ï¼‰ã€Docker Compose</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> docker-ce docker-ce-cli containerd.io docker-compose-plugin\n</code></pre> <p>ç›´æ¥æ‰§è¡Œä¸Šè¿°å‘½ä»¤å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼Œè¯¥é”™è¯¯æŒ‡å‡ºæˆ‘ä»¬è¦å®‰è£…çš„åŒ…è·Ÿç³»ç»Ÿä¸­å·²ç»å®‰è£…çš„åŒ…<code>buildah</code>æœ‰å†²çªï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\39f27176a6754584bd2de03bb0ac214d.png\"/></p> <p>æ ¹æ®æç¤ºï¼Œåœ¨å‘½ä»¤ä¸­æ·»åŠ <code>--allowerasing</code>å‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å…è®¸æ“¦é™¤å·²å®‰è£…çš„è½¯ä»¶åŒ…ä»¥è§£å†³ä¾èµ–å…³ç³»å’ŒåŒ…å†²çªé—®é¢˜ï¼š</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> --allowerasing docker-ce docker-ce-cli containerd.io docker-compose-plugin\n</code></pre> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\1e137f759eda40ce814645a5d43c0b8a.png\"/></p> <p>æ¥ä¸‹æ¥ä¼šæç¤ºæ˜¯å¦æ¥å—GPGå¯†é’¥ï¼Œéœ€è¦éªŒè¯å…¶æŒ‡çº¹æ˜¯å¦ä¸º<code>060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35</code>ï¼Œå¦‚æœæ˜¯å°±å¯ä»¥ã€‚è¿™é‡Œä¸€èˆ¬ä¹Ÿä¸ä¼šæœ‰è¯´æ˜é—®é¢˜ï¼Œç›´æ¥è¾“å…¥yç»§ç»­å®‰è£…å°±å¯ä»¥</p> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\cb97e5a5c7794e6aa4fd9f964d7ebef9.png\"/></p> <p>å®‰è£…æˆåŠŸ</p> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\9634a73e81414a6aab3da397310d065c.png\"/></p> </li><li> <p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Docker</p>\n<ol><li> <p>åˆ—å‡ºä»“åº“ä¸­å¯ç”¨çš„Dockerç‰ˆæœ¬</p> <pre><code class=\"prism language-bash\">yum list docker-ce --showduplicates\n</code></pre> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\4fb600a58c7b41e6ae16b03a78034e42.png\"/></p> </li><li> <p>å®‰è£…æŒ‡å®šç‰ˆæœ¬</p> <p>é€šè¿‡å®Œå…¨é™å®šåŒ…åï¼ˆåŒ…å<code>docker-ce</code>åŠ ä¸Šç‰ˆæœ¬å·ï¼‰å¯ä»¥å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„Dockerï¼ŒåŒ…åå’Œç‰ˆæœ¬å·ä¹‹é—´ç”¨<code>-</code>è¿æ¥ï¼Œç‰ˆæœ¬å·ä¸ºä¸Šå›¾çº¢è‰²æ¡†ä¸­çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š<code>docker-ce-20.10.17</code>ã€‚å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> docker-ce-<span class=\"token operator\">&lt;</span>VERSION_STRING<span class=\"token operator\">&gt;</span> docker-ce-cli-<span class=\"token operator\">&lt;</span>VERSION_STRING<span class=\"token operator\">&gt;</span> containerd.io docker-compose-plugin\n</code></pre> </li></ol> </li></ul>\n<h4><a id=\"Docker_124\"></a>æ›´æ–°Dockerå¼•æ“</h4>\n<p>æ›´æ–°Docker Engineæ—¶ï¼Œåªéœ€æŒ‰ç…§ä¸Šé¢çš„å®‰è£…è¯´æ˜ï¼Œé€‰æ‹©æƒ³è¦çš„ç‰ˆæœ¬è¿›è¡Œå®‰è£…å°±å¯ä»¥äº†ã€‚</p>\n<h3><a id=\"_128\"></a>ä»è½¯ä»¶åŒ…å®‰è£…</h3>\n<p>å¦‚æœä½ æ— æ³•ä½¿ç”¨Dockerçš„å­˜å‚¨åº“æ¥å®‰è£…Dockerï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„CentOSç³»ç»Ÿçš„å‘è¡Œç‰ˆä¸‹è½½å¯¹åº”çš„<code>.rpm</code>æ–‡ä»¶å¹¶æ‰‹åŠ¨å®‰è£…ã€‚ä»¥åæ¯æ¬¡éœ€è¦å‡çº§Dockerå¼•æ“æ—¶ï¼Œéƒ½éœ€è¦ä¸‹è½½æ–°æ–‡ä»¶è¿›è¡Œå®‰è£…å‡çº§ã€‚</p>\n<h4><a id=\"Docker_132\"></a>å®‰è£…Dockerå¼•æ“</h4>\n<ol><li> <p>è®¿é—®<a href=\"https://download.docker.com/linux/centos/\" title=\"https://download.docker.com/linux/centos/\">https://download.docker.com/linux/centos/</a>ï¼Œé€‰æ‹©CentOSçš„ç‰ˆæœ¬ï¼ˆæˆ‘è¿™é‡Œæ˜¯9ï¼‰ï¼Œç„¶åè¿›å…¥åˆ°<code>x86_64/stable/Packages/</code>ç›®å½•ä¸‹ï¼Œä¸‹è½½ä½ æƒ³è¦å®‰è£…çš„Dockerç‰ˆæœ¬å¯¹åº”çš„<code>.rpm</code>æ–‡ä»¶ã€‚</p> <p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\422fe85dc7c64c9b90fa60bd98dddcc1.png\"/></p> </li><li> <p>å®‰è£…Docker Engine</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> /path/to/package.rpm\n</code></pre> </li></ol>\n<h4><a id=\"Docker_145\"></a>æ›´æ–°Dockerå¼•æ“</h4>\n<p>æ›´æ–°Docker Engineæ—¶ï¼Œéœ€è¦ä¸‹è½½æ–°ç‰ˆæœ¬çš„è½¯ä»¶åŒ…æ–‡ä»¶ï¼Œå°†<code>yum install</code>æ›¿æ¢ä¸º<code>yum upgrade</code>å¹¶ä½¿ç”¨æ–°çš„è½¯ä»¶åŒ…æ–‡ä»¶ï¼Œå…¶ä»–æ­¥éª¤è·Ÿä¸Šé¢çš„ä¸€æ ·</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum upgrade /path/to/new_package.rpm\n\n</code></pre>\n<h3><a id=\"_154\"></a>ä½¿ç”¨ä¾¿æ·è„šæœ¬å®‰è£…</h3>\n<p>Dockeråœ¨<a href=\"http://get.docker.com\" title=\"get.docker.com\">get.docker.com</a>æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„è„šæœ¬ï¼Œç”¨äºå¿«é€Ÿã€éäº¤äº’å¼åœ°å°†Dockerå®‰è£…åˆ°å¼€å‘ç¯å¢ƒï¼Œä½†æ˜¯ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨è¿™ä¸ªè„šæœ¬å®‰è£…ã€‚</p>\n<p>ä½ å¯ä»¥ä½¿ç”¨<code>DRY_RUN=1</code>é€‰é¡¹è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œè¿™æ ·å¯ä»¥åœ¨çœŸæ­£è¿è¡Œä¹‹å‰çœ‹çœ‹è¿™ä¸ªè„šæœ¬åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¼šæ‰§è¡Œå“ªäº›æ­¥éª¤ï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">curl</span> -fsSL https://get.docker.com -o get-docker.sh\n<span class=\"token assign-left variable\">DRY_RUN</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token function\">sh</span> ./get-docker.sh\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\0437716ad21c4ec58b9b788a313127e7.png\"/></p>\n<p>å› ä¸ºæˆ‘ä»¬å·²ç»å®‰è£…äº†Dockerï¼Œæ‰€ä»¥è¾“å‡ºä¸­ä¼šæœ‰ç›¸åº”çš„æç¤ºã€‚æ ¹æ®è¿™ä¸ªæç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼Œå¦‚æœç³»ç»Ÿä¸­å·²ç»å®‰è£…äº†Dockerï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ä¸ªè„šæœ¬å®‰è£…æˆ–æ›´æ–°Dockerä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œé™¤éç³»ç»Ÿä¸­çš„Dockerä¹Ÿæ˜¯ä½¿ç”¨è¿™ä¸ªè„šæœ¬å®‰è£…çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœå½“å‰ç³»ç»Ÿå·²ç»å®‰è£…äº†Dockerå¹¶ä¸”æ˜¯ç”¨è¿™ä¸ªè„šæœ¬å®‰è£…çš„ï¼Œé‚£ä¹ˆå¯ä»¥å†æ¬¡ä½¿ç”¨è¿™ä¸ªè„šæœ¬æ›´æ–°ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ— æ³•é¢„æ–™çš„é—®é¢˜ã€‚</p>\n<p>ä¸‹é¢çš„å‘½ä»¤ä»<a href=\"http://get.docker.com\" title=\"get.docker.com\">get.docker.com</a>ä¸‹è½½è„šæœ¬å¹¶è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå®‰è£…æœ€æ–°ç¨³å®šç‰ˆçš„Dockerï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">curl</span> -fsSL https://get.docker.com -o get-docker.sh\n<span class=\"token function\">sudo</span> <span class=\"token function\">sh</span> get-docker.sh\n</code></pre>\n<h2><a id=\"Docker_177\"></a>Dockerå¯åŠ¨å’Œåœæ­¢</h2>\n<h3><a id=\"_179\"></a>å¯åŠ¨å’ŒéªŒè¯</h3>\n<h4><a id=\"Docker_181\"></a>å¯åŠ¨Docker</h4>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> systemctl start <span class=\"token function\">docker</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\ed7dbc1a20974f3788e5358bbc3f9b1d.png\"/></p>\n<p>å¯ä»¥çœ‹åˆ°DockeræœåŠ¡å·²ç»å¯åŠ¨è¿è¡Œäº†ã€‚</p>\n<h4><a id=\"Docker_Engine_192\"></a>éªŒè¯Docker Engineæ˜¯å¦æ­£ç¡®å®‰è£…</h4>\n<p>é€šè¿‡è¿è¡Œ<code>hello-world</code>é•œåƒéªŒè¯Docker Engineæ˜¯å¦æ­£ç¡®å®‰è£…ï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> run hello-world\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\d1f01ec2fe2f4723bb657d7db2de950d.png\"/></p>\n<p>è¾“å‡ºä¸Šé¢çš„ä¿¡æ¯ï¼Œè¯´æ˜æˆ‘ä»¬æ­£ç¡®å®‰è£…äº†Dockerï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸åœ°è¿è¡Œå’Œå·¥ä½œäº†ã€‚</p>\n<h3><a id=\"_205\"></a>åœæ­¢</h3>\n<p>æˆ‘ä»¬å…ˆç”¨ä¸‹é¢çš„å‘½ä»¤å°è¯•åœæ­¢Dockerçœ‹çœ‹ï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> systemctl stop <span class=\"token function\">docker</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\c41da1bde42a44dfac499929b1b817f0.png\"/></p>\n<p>å¯ä»¥çœ‹åˆ°è¾“å‡ºä¸€æ¡è­¦å‘Šä¿¡æ¯ï¼š</p>\n<pre><code class=\"prism language-text\">Warning: Stopping docker.service, but it can still be activated by:\n  docker.socket\n</code></pre>\n<p>æ„æ€æ˜¯è¯´<code>docker.service</code>å·²ç»åœæ­¢äº†ï¼Œä½†æ˜¯å®ƒä»ç„¶å¯ä»¥é€šè¿‡<code>docker.socket</code>è¢«æ¿€æ´»ã€‚æŸ¥çœ‹dockerçš„çŠ¶æ€ï¼Œç¡®å®æ˜¯å±äºéæ´»è·ƒçš„çŠ¶æ€ã€‚å¦å¤–æ³¨æ„åˆ°ä¸‹é¢æœ‰ç»¿è‰²åœ†ç‚¹çš„é‚£ä¸€è¡Œ<code>TriggeredBy: â— docker.socket</code>ï¼Œè¡¨ç¤ºé€šè¿‡<code>docker.socket</code>è§¦å‘ï¼Œè·Ÿä¸Šé¢çš„è­¦å‘Šä¿¡æ¯å…¶å®æ˜¯åŒä¸€ä¸ªæ„æ€ã€‚è€Œ<code>docker.socket</code>æ˜¯ç”¨äºå’Œdocker clientè¿›è¡Œé€šä¿¡çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æ¨æµ‹å½“docker clienté‡æ–°å‘èµ·è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å†æ‰§è¡Œdockerå‘½ä»¤æ—¶ï¼ŒdockeræœåŠ¡åˆä¼šè¢«æ¿€æ´»ï¼Œæˆ‘ä»¬çœ‹çœ‹æ˜¯ä¸æ˜¯è¿™ä¹ˆå›äº‹ã€‚</p>\n<p>å…ˆæ‰§è¡Œä¸€ä¸ªdockerå‘½ä»¤ï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token comment\"># æŸ¥çœ‹æœ¬æœºæ‹‰å–çš„é•œåƒï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¹‹å‰æ‹‰å–è¿‡çš„hello-worldçš„é•œåƒ</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> images\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\3c989a8602024525aba9d8825f356d22.png\"/></p>\n<p>å†æŸ¥çœ‹dockerçš„çŠ¶æ€ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\9e7e5172b40942d8b3ca626d0251050e.png\"/></p>\n<p>å¯ä»¥çœ‹åˆ°dockeræœåŠ¡åˆå˜æˆæ´»è·ƒçŠ¶æ€äº†ï¼Œè¯´æ˜å½“å®¢æˆ·ç«¯æœ‰è¯·æ±‚æ—¶ä¼šè¿æ¥<code>docker.socket</code>ï¼Œè¿™ä¸ªæ—¶å€™dockerå°±ä¼šè¢«<code>docker.socket</code>è§¦å‘æ¿€æ´»æ¥å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p>\n<p>é‚£ä¹ˆå¦‚æœè¦å®Œå…¨åœæ­¢dockerï¼Œä¸æƒ³å®ƒè¢«é‡æ–°æ¿€æ´»åº”è¯¥æ€ä¹ˆåšï¼Œå…¶å®åªè¦æŠŠ<code>docker.service</code>ã€<code>docker.socket</code>éƒ½åœæ‰å°±å¯ä»¥äº†ï¼š</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> systemctl stop docker.service docker.socket\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\97ed81fabcb1400ebd7fd7562fddd8f8.png\"/></p>\n<p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°dockerçŠ¶æ€ä¸ºéæ´»è·ƒçŠ¶æ€ï¼Œ<code>docker.socket</code>å‰é¢çš„åœ†ç‚¹ä¹Ÿä¸æ˜¯ç»¿è‰²çš„äº†ï¼Œè¯´æ˜å®ƒä¹Ÿè¢«åœæ­¢äº†ï¼Œæ‰§è¡Œå‘½ä»¤<code>sudo docker images</code>åè¾“å‡ºçš„ä¿¡æ¯ä¹Ÿè¡¨æ˜ï¼Œdockerå·²ç»åœæ­¢è¿è¡Œæ— æ³•è¿æ¥äº†ã€‚</p>\n<h2><a id=\"Docker_253\"></a>å¸è½½Dockerå¼•æ“</h2>\n<ol><li> <p>å¸è½½Docker Engineã€CLIã€Containerdå’ŒDocker Composeè½¯ä»¶åŒ…ï¼š</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> yum remove docker-ce docker-ce-cli containerd.io docker-compose-plugin\n</code></pre> </li><li> <p>åœ¨ä¸»æœºä¸Šçš„é•œåƒã€å®¹å™¨ã€å·å’Œè‡ªå®šä¹‰çš„é…ç½®æ–‡ä»¶ç­‰ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åˆ é™¤æ‰€æœ‰çš„é•œåƒã€å®¹å™¨å’Œå·ï¼Œä»»ä½•ç¼–è¾‘è¿‡çš„é…ç½®æ–‡ä»¶ä¹Ÿå¿…é¡»æ‰‹åŠ¨åˆ é™¤ï¼š</p> <pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /var/lib/docker\n<span class=\"token function\">sudo</span> <span class=\"token function\">rm</span> -rf /var/lib/containerd\n</code></pre> </li></ol>\n<blockquote>\n<p>ğŸ“Œå¤‡æ³¨ï¼šæœ¬æ–‡ä¸»è¦å‚è€ƒ<a href=\"https://docs.docker.com/engine/install/centos/\" title=\"å®˜æ–¹çš„dockerå®‰è£…æ–‡æ¡£\">å®˜æ–¹çš„dockerå®‰è£…æ–‡æ¡£</a></p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}