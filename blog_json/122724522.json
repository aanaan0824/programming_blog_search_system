{"blogid": "122724522", "writerAge": "码龄2年", "writerBlogNum": "224", "writerCollect": "32", "writerComment": "3", "writerFan": "18", "writerGrade": "5级", "writerIntegral": "2262", "writerName": "shiyivei", "writerProfileAdress": "writer_image\\profile_122724522.jpg", "writerRankTotal": "19274", "writerRankWeekly": "18324", "writerThumb": "13", "writerVisitNum": "134764", "blog_read_count": "2184", "blog_time": "已于 2022-05-29 20:12:41 修改", "blog_title": "Substrate - 1 开始 - 1.2 架构（Architecture）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"12_Architecture_0\"></a>1.2 架构（Architecture）</h2>\n<p><img alt=\"Substrate Client Architecture\" src=\"image\\ee5e0aaa029d45fec338bc79844917c2.png\"/></p>\n<p>Substrate客户端是一个运行了基于Substrate的区块链节点的应用，它的组成部分包括但不限于如下内容：</p>\n<p>**存储：**用于持续更新Substrate区块链状态。区块链网络允许参与者就存储达状态达成<a href=\"https://docs.substrate.io/v3/advanced/consensus/\">共识</a>。Substrate附带了一种简单而高效的<a href=\"https://docs.substrate.io/v3/advanced/storage/\">键值对存储机制</a></p>\n<p><strong>运行时</strong>：定义了如何处理区块的逻辑，包括状态转换逻辑。在Substrate中，运行时代码被编译成<a href=\"https://docs.substrate.io/v3/getting-started/glossary/#webassembly-wasm\">Wasm</a>，并且变成了区块链存储状态的一部分。它实现了以Substrate为基础区块链特的性之一：<a href=\"https://docs.substrate.io/v3/runtime/upgrades/#forkless-runtime-upgrades\">无分叉运行时升级</a>。Substrate客户端也可能包含一个原生运行时，该运行时用于编译与客户端相同的平台（和Wasm相反）。 <a href=\"https://docs.substrate.io/v3/advanced/executor/\">executor</a>是客户端的组件，它可以调度对运行时的调用，它作用是在原生代码和Wasm之间作出选择。尽管原生运行时可能会提供更出色的性能优势，但是如果它执行了<a href=\"https://docs.substrate.io/v3/runtime/upgrades/#runtime-versioning\">更新的版本</a>，executor将会选择Wasm运行时</p>\n<p><strong>点对点网络</strong>：它可以让客户端与其他网络参与者进行交流。Substrate使用了<a href=\"https://libp2p.io/\">libp2p network stack</a>的Rust实现来构建点对点网络</p>\n<p><strong>共识</strong>：是网络参与者就区块链的状态达成一致的逻辑。Substrate让提供自定义的共识引擎成为了可能并且还附带了几种基于<a href=\"https://research.web3.foundation/en/latest/index.html\">Web3基金会研究</a>构建的共识机制</p>\n<p><strong>RPC（远程进程调用）</strong>：让区块链用户与网络进行交互，Substrate提供了HTTP和WebSocket PRC服务器</p>\n<p><strong>Telemetry</strong>：嵌入式<a href=\"https://prometheus.io/\">Prometheus</a>服务器公开的客户端指标</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}