{"blogid": "126712232", "writerAge": "码龄7年", "writerBlogNum": "230", "writerCollect": "14816", "writerComment": "509", "writerFan": "3757", "writerGrade": "7级", "writerIntegral": "11548", "writerName": "DanCheng-studio", "writerProfileAdress": "writer_image\\profile_126712232.jpg", "writerRankTotal": "938", "writerRankWeekly": "684", "writerThumb": "1841", "writerVisitNum": "1213932", "blog_read_count": "542", "blog_time": "于 2022-09-05 19:50:09 发布", "blog_title": "【毕业设计】基于大数据的高考数据分析 - python 大数据 可视化", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"1__0\"></a>1 前言</h1>\n<p>🚩 <strong>基于大数据的高考数据分析</strong></p>\n<p>🥇学长这里给一个题目综合评分(每项满分5分)</p>\n<ul><li>难度系数：3分</li><li>工作量：3分</li><li>创新点：3分</li></ul>\n<p>🧿 <strong>选题指导, 项目分享：</strong></p>\n<p><a href=\"https://gitee.com/dancheng-senior/project-sharing-1/blob/master/%E6%AF%95%E8%AE%BE%E6%8C%87%E5%AF%BC/README.md\">https://gitee.com/dancheng-senior/project-sharing-1/blob/master/%E6%AF%95%E8%AE%BE%E6%8C%87%E5%AF%BC/README.md</a></p>\n<h1><a id=\"1__14\"></a>1 课题背景</h1>\n<p>本期我们通过分析2017-2019年山东省高考考生考试成绩分布数据以及双一流大学(985/211)录取山东省考生数据，通过数据可视化分析山东省考生高考成绩主要集中在哪些区间、本科上线率有多少、双一流大学录取最低分各是多少、考生报考比较多的专业有哪些。</p>\n<h1><a id=\"2__19\"></a>2 具体实现</h1>\n<p><strong>所有考生及各学科总分分布图</strong></p>\n<pre><code class=\"prism language-python\"><span class=\"token comment\">#部分代码</span>\ncolors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"#00BCD4\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"#ea1d5d\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#ffb900\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#4FC3F7\"</span><span class=\"token punctuation\">]</span>\nL1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    Line<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'分数段'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"所有考生本段人数\"</span><span class=\"token punctuation\">,</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'所有考生本段人数'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>symbol_size<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_series_opts<span class=\"token punctuation\">(</span>\n        areastyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AreaStyleOpts<span class=\"token punctuation\">(</span>opacity<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        markarea_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>MarkAreaOpts<span class=\"token punctuation\">(</span>\n            data<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n                opts<span class=\"token punctuation\">.</span>MarkAreaItem<span class=\"token punctuation\">(</span>\n                    name<span class=\"token operator\">=</span><span class=\"token string\">\"本科线\"</span><span class=\"token punctuation\">,</span> x<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">435</span><span class=\"token punctuation\">,</span> <span class=\"token number\">437</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>y<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    itemstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>ItemStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\2ccbdf956fd646faba6176de3b2ddee8.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\e1e6d596c1914b2b8ded4f0e8e64732e.png\"/><br/> <strong>本科上线人数占比</strong></p>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># 指定柱子颜色的js代码</span>\ncolor_function <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">\"\"\"\n        function (params) {\n            if (params.value == 51.22) \n                return '#0097A7';\n            else return '#E91E63';\n        }\n        \"\"\"</span>\n\ncols <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'所有考生'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'选考物理'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'选考化学'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'选考生物'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'选考历史'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'选考地理'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'选考政治'</span><span class=\"token punctuation\">]</span>\nrate_data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> cols<span class=\"token punctuation\">:</span>\n    rate_data<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'分数段'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&gt;</span><span class=\"token number\">435</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token string\">'累计人数'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>df<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token string\">'累计人数'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndf_rate_data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>rate_data<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>columns<span class=\"token operator\">=</span>cols<span class=\"token punctuation\">)</span>\ndf_rate_data <span class=\"token operator\">=</span> df_rate_data<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>ascending<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\nb1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n     Bar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>df_rate_data<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> df_rate_data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> category_gap<span class=\"token operator\">=</span><span class=\"token string\">'40%'</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">.</span>set_series_opts<span class=\"token punctuation\">(</span>\n         label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>\n            position<span class=\"token operator\">=</span><span class=\"token string\">'insideRight'</span><span class=\"token punctuation\">,</span>\n            vertical_align<span class=\"token operator\">=</span><span class=\"token string\">'middle'</span><span class=\"token punctuation\">,</span>\n            font_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span>\n            font_weight<span class=\"token operator\">=</span><span class=\"token string\">'bold'</span><span class=\"token punctuation\">,</span>                                                \n            formatter<span class=\"token operator\">=</span><span class=\"token string\">'{c} %'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            itemstyle_opts<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token string\">'opacity'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'shadowBlur'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'shadowOffsetX'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'shadowOffsetY'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'shadowColor'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'rgba(125,0, 255, 0.5)'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'barBorderRadius'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'color'</span><span class=\"token punctuation\">:</span>JsCode<span class=\"token punctuation\">(</span>color_function<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>\n           xaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>\n               position<span class=\"token operator\">=</span><span class=\"token string\">'top'</span><span class=\"token punctuation\">,</span> \n                axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                axisline_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisLineOpts<span class=\"token punctuation\">(</span>\n                     is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            yaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>\n                axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                axisline_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisLineOpts<span class=\"token punctuation\">(</span>\n                    is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n                    linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>          \n\n          title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"本科上线人数占比\"</span><span class=\"token punctuation\">,</span> pos_top<span class=\"token operator\">=</span><span class=\"token string\">\"3%\"</span><span class=\"token punctuation\">,</span> pos_right<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span>\n                                 title_textstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TextStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font_size<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>         \n      <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span>reversal_axis<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">)</span>\ngrid1 <span class=\"token operator\">=</span> Grid<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'1000px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'600px'</span><span class=\"token punctuation\">,</span>bg_color<span class=\"token operator\">=</span><span class=\"token string\">'#0d0735'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ngrid1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>b1<span class=\"token punctuation\">,</span> is_control_axis_index<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> grid_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>GridOpts<span class=\"token punctuation\">(</span>pos_left<span class=\"token operator\">=</span><span class=\"token string\">'15%'</span><span class=\"token punctuation\">,</span> pos_right<span class=\"token operator\">=</span><span class=\"token string\">'15%'</span><span class=\"token punctuation\">,</span> pos_top<span class=\"token operator\">=</span><span class=\"token string\">'17%'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ngrid1<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\5ee079a5515347f5a3b575bc32f317e6.png\"/><br/> <strong>各学生考生比例</strong></p>\n<pre><code class=\"prism language-python\">color_series <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'#C9DA36'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'#37B44E'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'#1E91CA'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'#6A368B'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'#D5225B'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'#CF7B25'</span><span class=\"token punctuation\">]</span>\ndf1<span class=\"token operator\">=</span>df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span>i<span class=\"token operator\">%</span><span class=\"token number\">2</span><span class=\"token operator\">==</span><span class=\"token number\">0</span> <span class=\"token keyword\">and</span> i<span class=\"token operator\">!=</span><span class=\"token number\">0</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">.</span>columns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nsubj_data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">/</span>df1<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">*</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> df1<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nsubj_name <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'物理'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'化学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'生物'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'历史'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'地理'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'政治'</span><span class=\"token punctuation\">]</span>\ndf_subj <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>subj_data<span class=\"token punctuation\">,</span>index<span class=\"token operator\">=</span>subj_name<span class=\"token punctuation\">,</span>columns<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'比例'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\ndf_subj<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span><span class=\"token string\">'比例'</span><span class=\"token punctuation\">,</span>ascending<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>inplace<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\nP <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    Pie<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'1000px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'600px'</span><span class=\"token punctuation\">,</span>bg_color<span class=\"token operator\">=</span><span class=\"token string\">'#0d0735'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>\n        <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> z <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>df_subj<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">,</span> df_subj<span class=\"token punctuation\">[</span><span class=\"token string\">'比例'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        radius<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"25%\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"70%\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        center<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"50%\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"50%\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        rosetype<span class=\"token operator\">=</span><span class=\"token string\">\"radius\"</span><span class=\"token punctuation\">,</span>\n        label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_colors<span class=\"token punctuation\">(</span>color_series<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_series_opts<span class=\"token punctuation\">(</span>label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>formatter<span class=\"token operator\">=</span><span class=\"token string\">\"{b}: {c}%\"</span><span class=\"token punctuation\">,</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>\n        title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">\"各学科\\n考生比例\"</span><span class=\"token punctuation\">,</span> pos_top<span class=\"token operator\">=</span><span class=\"token string\">\"45%\"</span><span class=\"token punctuation\">,</span> pos_right<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span>\n                                 title_textstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TextStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span>colors<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font_size<span class=\"token operator\">=</span><span class=\"token number\">28</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>   \n        legend_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LegendOpts<span class=\"token punctuation\">(</span>is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\nP<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\89fd9e2b07824c0c81b3fd3eb80fbe41.png\"/><br/> <strong>985/211大学(理工类)录取最低分数</strong></p>\n<pre><code class=\"prism language-python\"><span class=\"token comment\">#双一流高校的名单</span>\ndouble_first_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'北京大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'中国人民大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'清华大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'北京航空航天大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'北京理工大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'中国农业大学'</span><span class=\"token punctuation\">,</span>\n                     <span class=\"token string\">'北京师范大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'中央民族大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'南开大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'天津大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'大连理工大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'吉林大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'哈尔滨工业大学'</span><span class=\"token punctuation\">,</span>\n                     <span class=\"token string\">'复旦大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'同济大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'上海交通大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'华东师范大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'南京大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'东南大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'浙江大学'</span><span class=\"token punctuation\">,</span>\n                     <span class=\"token string\">'中国科学技术大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'厦门大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'山东大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'中国海洋大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'武汉大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'华中科技大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'中南大学'</span>\n                     <span class=\"token punctuation\">,</span><span class=\"token string\">'中山大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'华南理工大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'四川大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'重庆大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'电子科技大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'西安交通大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'西北工业大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'兰州大学'</span>\n                     <span class=\"token punctuation\">,</span><span class=\"token string\">'国防科技大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'东北大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'郑州大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'湖南大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'云南大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'西北农林科技大学'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'新疆大学'</span><span class=\"token punctuation\">]</span>\n\ndata_dir <span class=\"token operator\">=</span> <span class=\"token string\">'/home/mw/input/2206085359/'</span>\nall_files <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">for</span> dirpath<span class=\"token punctuation\">,</span> dirnames<span class=\"token punctuation\">,</span> files <span class=\"token keyword\">in</span> os<span class=\"token punctuation\">.</span>walk<span class=\"token punctuation\">(</span>data_dir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    all_files <span class=\"token operator\">+=</span> files\nall_files <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">file</span> <span class=\"token keyword\">for</span> <span class=\"token builtin\">file</span> <span class=\"token keyword\">in</span> all_files <span class=\"token keyword\">if</span> <span class=\"token string\">'2020'</span> <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> <span class=\"token builtin\">file</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">#历年的数据</span>\ndf_merge_year <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> <span class=\"token builtin\">file</span> <span class=\"token keyword\">in</span> all_files<span class=\"token punctuation\">:</span>\n    df_tmp <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_excel<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>data_dir<span class=\"token punctuation\">,</span> <span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>header<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    df_tmp <span class=\"token operator\">=</span> df_tmp<span class=\"token punctuation\">[</span>df_tmp<span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>isin<span class=\"token punctuation\">(</span>double_first_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n    df_year <span class=\"token operator\">=</span> df_tmp<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reset_index<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    df_year <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>merge<span class=\"token punctuation\">(</span>df_year<span class=\"token punctuation\">,</span> df_tmp<span class=\"token punctuation\">,</span> on <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> how <span class=\"token operator\">=</span> <span class=\"token string\">'inner'</span><span class=\"token punctuation\">)</span>\n    df_year <span class=\"token operator\">=</span> df_year<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'专业名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'最低位次'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'平均分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    df_year<span class=\"token punctuation\">[</span><span class=\"token string\">'年份'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span><span class=\"token string\">'\\d+'</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    df_year<span class=\"token punctuation\">[</span><span class=\"token string\">'类别'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span><span class=\"token string\">'（(.*)）'</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    df_year<span class=\"token punctuation\">[</span><span class=\"token string\">'标签'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df_year<span class=\"token punctuation\">[</span><span class=\"token string\">'年份'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> df_year<span class=\"token punctuation\">[</span><span class=\"token string\">'类别'</span><span class=\"token punctuation\">]</span>\n    df_merge_year <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>concat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>df_year<span class=\"token punctuation\">,</span> df_merge_year<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\ndf_merge_year <span class=\"token operator\">=</span> df_merge_year<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'前20名内'</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\nsci_2019 <span class=\"token operator\">=</span> df_merge_year<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df_merge_year<span class=\"token punctuation\">[</span><span class=\"token string\">'标签'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'2019理工类'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'年份'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'最低位次'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nsci_2018 <span class=\"token operator\">=</span> df_merge_year<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df_merge_year<span class=\"token punctuation\">[</span><span class=\"token string\">'标签'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'2018理工类'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'年份'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'最低位次'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nsci_2017 <span class=\"token operator\">=</span> df_merge_year<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df_merge_year<span class=\"token punctuation\">[</span><span class=\"token string\">'标签'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'2017理工类'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'年份'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'最低位次'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nsci_2019 <span class=\"token operator\">=</span> sci_2019<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span><span class=\"token string\">'录取最低分'</span><span class=\"token punctuation\">)</span>\n\ndf_score_pos <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>merge<span class=\"token punctuation\">(</span>sci_2019<span class=\"token punctuation\">,</span>sci_2018<span class=\"token punctuation\">,</span>on <span class=\"token operator\">=</span> <span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">)</span>\ndf_score_pos <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>merge<span class=\"token punctuation\">(</span>df_score_pos<span class=\"token punctuation\">,</span>sci_2017<span class=\"token punctuation\">,</span>on <span class=\"token operator\">=</span> <span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">)</span>\ndf_score_pos<span class=\"token punctuation\">.</span>columns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2019年录取最低分'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2019年'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2019年最低位次'</span><span class=\"token punctuation\">,</span>\n                         <span class=\"token string\">'2018年录取最低分'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2018年'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2018年最低位次'</span><span class=\"token punctuation\">,</span>\n                         <span class=\"token string\">'2017年录取最低分'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2017年'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2017年最低位次'</span><span class=\"token punctuation\">]</span>\ndf_score_pos <span class=\"token operator\">=</span> df_score_pos<span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token string\">'2019年最低位次'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2018年最低位次'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'int'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2017年最低位次'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'int'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nindex_list <span class=\"token operator\">=</span> df_score_pos<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2017年录取最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>drop_duplicates<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndata1_2017 <span class=\"token operator\">=</span> df_score_pos<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2017年录取最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>drop_duplicates<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'2017年录取最低分'</span><span class=\"token punctuation\">]</span>\ndata1_2018 <span class=\"token operator\">=</span> df_score_pos<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2018年录取最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>drop_duplicates<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'2018年录取最低分'</span><span class=\"token punctuation\">]</span>\ndata1_2019 <span class=\"token operator\">=</span> df_score_pos<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2019年录取最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>drop_duplicates<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'2019年录取最低分'</span><span class=\"token punctuation\">]</span>\n\ndf_score <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>index_list<span class=\"token punctuation\">,</span> data1_2017<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> data1_2018<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> data1_2019<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>T\ndf_score<span class=\"token punctuation\">.</span>columns<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2017年最低分'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2018年最低分'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'2019年最低分'</span><span class=\"token punctuation\">]</span>\ndf_score<span class=\"token punctuation\">[</span><span class=\"token string\">'最低平均分'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'2017年最低分'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'2018年最低分'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'2019年最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">3</span>\ndf_score<span class=\"token punctuation\">[</span><span class=\"token string\">'最低平均分'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'最低平均分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">round</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\nx_data <span class=\"token operator\">=</span> df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'院校名称'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ny_score_2017 <span class=\"token operator\">=</span> df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'2017年最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ny_score_2018 <span class=\"token operator\">=</span> df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'2018年最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ny_score_2019 <span class=\"token operator\">=</span> df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'2019年最低分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ny_score_mean <span class=\"token operator\">=</span> df_score<span class=\"token punctuation\">[</span><span class=\"token string\">'最低平均分'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\84864a68dcbd40e28c2d176024fe168a.png\"/></p>\n<p><strong>985/211大学(理工类)录取最低位次</strong></p>\n<pre><code class=\"prism language-python\">line2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    Line<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>y_pos_mean<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span>\n        series_name <span class=\"token operator\">=</span> <span class=\"token string\">'平均最低位次'</span><span class=\"token punctuation\">,</span> \n        y_axis <span class=\"token operator\">=</span> x_data<span class=\"token punctuation\">,</span>\n        symbol <span class=\"token operator\">=</span><span class=\"token string\">\"diamond\"</span><span class=\"token punctuation\">,</span>\n        symbol_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span>\n        z<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">\"#FFEB3B\"</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        itemstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>ItemStyleOpts<span class=\"token punctuation\">(</span>border_width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> border_color<span class=\"token operator\">=</span><span class=\"token string\">\"#C62828\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"#FFEB3B\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#FFEB3B'</span><span class=\"token punctuation\">,</span>position<span class=\"token operator\">=</span><span class=\"token string\">'right'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>      \n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\nbar2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    Bar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>x_data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"2017年\"</span><span class=\"token punctuation\">,</span> y_pos_2017<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#EC407A'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"2018年\"</span><span class=\"token punctuation\">,</span> y_pos_2018<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#26A69A'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"2019年\"</span><span class=\"token punctuation\">,</span> y_pos_2019<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#3F51B5'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_series_opts<span class=\"token punctuation\">(</span>\n         label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>\n            position<span class=\"token operator\">=</span><span class=\"token string\">'inside'</span><span class=\"token punctuation\">,</span>\n            vertical_align<span class=\"token operator\">=</span><span class=\"token string\">'middle'</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        itemstyle_opts<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token string\">'opacity'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowBlur'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowOffsetX'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowOffsetY'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowColor'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'rgba(125,0, 125, 0.5)'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'barBorderRadius'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>\n        tooltip_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TooltipOpts<span class=\"token punctuation\">(</span>is_show<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">=</span><span class=\"token string\">'axis'</span><span class=\"token punctuation\">,</span> axis_pointer_type<span class=\"token operator\">=</span><span class=\"token string\">'cross'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>        \n        datazoom_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>DataZoomOpts<span class=\"token punctuation\">(</span>orient<span class=\"token operator\">=</span><span class=\"token string\">\"vertical\"</span><span class=\"token punctuation\">,</span>range_start<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span>range_end<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>\n            title<span class=\"token operator\">=</span><span class=\"token string\">'985/211大学(理工类)录取最低位次'</span><span class=\"token punctuation\">,</span>\n            subtitle<span class=\"token operator\">=</span><span class=\"token string\">'&lt;制图@公众号：Python当打之年&gt;'</span><span class=\"token punctuation\">,</span>\n            pos_left<span class=\"token operator\">=</span><span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\n            pos_top<span class=\"token operator\">=</span><span class=\"token string\">'1%'</span><span class=\"token punctuation\">,</span>\n            title_textstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TextStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#ffb900'</span><span class=\"token punctuation\">,</span> font_size<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            subtitle_textstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TextStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#009bbb'</span><span class=\"token punctuation\">,</span> font_size<span class=\"token operator\">=</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        legend_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LegendOpts<span class=\"token punctuation\">(</span>pos_left<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span> pos_top<span class=\"token operator\">=</span><span class=\"token string\">'7%'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        xaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>\n            axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#c2ff00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            axisline_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisLineOpts<span class=\"token punctuation\">(</span>\n                is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n                linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#DB7093'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        yaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>\n            axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#c2ff00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            axisline_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisLineOpts<span class=\"token punctuation\">(</span>\n                is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n                linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#DB7093'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>reversal_axis<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    \n<span class=\"token punctuation\">)</span>\n\nbar2<span class=\"token punctuation\">.</span>overlap<span class=\"token punctuation\">(</span>line2<span class=\"token punctuation\">)</span>\ngrid <span class=\"token operator\">=</span> Grid<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'1000px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'1200px'</span><span class=\"token punctuation\">,</span>bg_color<span class=\"token operator\">=</span><span class=\"token string\">'#0d0735'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ngrid<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>bar2<span class=\"token punctuation\">,</span> opts<span class=\"token punctuation\">.</span>GridOpts<span class=\"token punctuation\">(</span>pos_top<span class=\"token operator\">=</span><span class=\"token string\">\"10%\"</span><span class=\"token punctuation\">,</span>pos_left<span class=\"token operator\">=</span><span class=\"token string\">\"15%\"</span><span class=\"token punctuation\">,</span> pos_right<span class=\"token operator\">=</span><span class=\"token string\">\"15%\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> is_control_axis_index<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\ngrid<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\6ca41875e1e9403cb200e29b443a91b5.png\"/></p>\n<p><strong>985/211大学(文史类)录取最低分数</strong></p>\n<pre><code class=\"prism language-python\">line1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    Line<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>y_score_mean<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span>\n        series_name <span class=\"token operator\">=</span> <span class=\"token string\">'最低平均分'</span><span class=\"token punctuation\">,</span> \n        y_axis <span class=\"token operator\">=</span> x_data<span class=\"token punctuation\">,</span>\n        symbol <span class=\"token operator\">=</span><span class=\"token string\">\"diamond\"</span><span class=\"token punctuation\">,</span>\n        symbol_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span>\n        z<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">\"#FFEB3B\"</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        itemstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>ItemStyleOpts<span class=\"token punctuation\">(</span>border_width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> border_color<span class=\"token operator\">=</span><span class=\"token string\">\"#C62828\"</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">\"#FFEB3B\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#FFEB3B'</span><span class=\"token punctuation\">,</span>position<span class=\"token operator\">=</span><span class=\"token string\">'right'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>      \n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\nbar1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    Bar<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>x_data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"2017年\"</span><span class=\"token punctuation\">,</span> y_score_2017<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#EC407A'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"2018年\"</span><span class=\"token punctuation\">,</span> y_score_2018<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#26A69A'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">\"2019年\"</span><span class=\"token punctuation\">,</span> y_score_2019<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#3F51B5'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_series_opts<span class=\"token punctuation\">(</span>\n         label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>\n            position<span class=\"token operator\">=</span><span class=\"token string\">'inside'</span><span class=\"token punctuation\">,</span>\n            vertical_align<span class=\"token operator\">=</span><span class=\"token string\">'middle'</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        itemstyle_opts<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token string\">'opacity'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowBlur'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowOffsetX'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowOffsetY'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'shadowColor'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'rgba(125,0, 125, 0.5)'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'barBorderRadius'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>\n        tooltip_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TooltipOpts<span class=\"token punctuation\">(</span>is_show<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">=</span><span class=\"token string\">'axis'</span><span class=\"token punctuation\">,</span> axis_pointer_type<span class=\"token operator\">=</span><span class=\"token string\">'cross'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>        \n        datazoom_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>DataZoomOpts<span class=\"token punctuation\">(</span>orient<span class=\"token operator\">=</span><span class=\"token string\">\"vertical\"</span><span class=\"token punctuation\">,</span>range_start<span class=\"token operator\">=</span><span class=\"token number\">70</span><span class=\"token punctuation\">,</span>range_end<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>\n            title<span class=\"token operator\">=</span><span class=\"token string\">'985/211大学(文史类)录取最低分数'</span><span class=\"token punctuation\">,</span>\n            subtitle<span class=\"token operator\">=</span><span class=\"token string\">'&lt;制图@公众号：Python当打之年&gt;'</span><span class=\"token punctuation\">,</span>\n            pos_left<span class=\"token operator\">=</span><span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span>\n            pos_top<span class=\"token operator\">=</span><span class=\"token string\">'1%'</span><span class=\"token punctuation\">,</span>\n            title_textstyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TextStyleOpts<span class=\"token punctuation\">(</span>color<span class=\"token operator\">=</span><span class=\"token string\">'#ffb900'</span><span class=\"token punctuation\">,</span> font_size<span class=\"token operator\">=</span><span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        legend_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LegendOpts<span class=\"token punctuation\">(</span>pos_left<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span> pos_top<span class=\"token operator\">=</span><span class=\"token string\">'7%'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        xaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>\n            min_<span class=\"token operator\">=</span><span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n            axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#c2ff00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            axisline_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisLineOpts<span class=\"token punctuation\">(</span>\n                is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n                linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#DB7093'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        yaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>\n            axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>font_size<span class=\"token operator\">=</span><span class=\"token number\">14</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#c2ff00'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            axisline_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisLineOpts<span class=\"token punctuation\">(</span>\n                is_show<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n                linestyle_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LineStyleOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'#DB7093'</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>reversal_axis<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>    \n<span class=\"token punctuation\">)</span>\n\nbar1<span class=\"token punctuation\">.</span>overlap<span class=\"token punctuation\">(</span>line1<span class=\"token punctuation\">)</span>\ngrid <span class=\"token operator\">=</span> Grid<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'1000px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'1200px'</span><span class=\"token punctuation\">,</span>bg_color<span class=\"token operator\">=</span><span class=\"token string\">'#0d0735'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ngrid<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>bar1<span class=\"token punctuation\">,</span> opts<span class=\"token punctuation\">.</span>GridOpts<span class=\"token punctuation\">(</span>pos_top<span class=\"token operator\">=</span><span class=\"token string\">\"10%\"</span><span class=\"token punctuation\">,</span>pos_left<span class=\"token operator\">=</span><span class=\"token string\">\"15%\"</span><span class=\"token punctuation\">,</span> pos_right<span class=\"token operator\">=</span><span class=\"token string\">\"15%\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> is_control_axis_index<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\ngrid<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\54b057e9bb1240ba92c49febd32c0b05.png\"/></p>\n<p><strong>985/211大学(文史类)录取最低位次</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\3288d9529e4742f895faac2a781a8ed4.png\"/></p>\n<ul><li>985/211大学(文史类)录取平均最低位次最高的前三甲学校：清华大学（20），北京大学（29），复旦大学（91）</li><li>中华人民大学（118），上海交通大学（144），浙江大学（172）紧随其后评论</li></ul>\n<p><strong>985/211大学录取数量前15的理工类专业</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\6f38933443f5423a92ab27c1aa3e9de3.png\"/></p>\n<p><strong>985/211大学录取数量前15的文史类专业</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\da51f905f99a4805ad7d7555e462f93e.png\"/></p>\n<h1><a id=\"_374\"></a>实现原理</h1>\n<p><strong>涉及到的库</strong></p>\n<p><strong>Pandas — 数据处理</strong></p>\n<p>行数据填充，重置列索引，去除前2行</p>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">import</span> re\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n\ndf<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>fillna<span class=\"token punctuation\">(</span>method <span class=\"token operator\">=</span> <span class=\"token string\">'ffill'</span><span class=\"token punctuation\">)</span>\ndf<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>fillna<span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\ndf<span class=\"token punctuation\">.</span>columns <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\ndf <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\ndf<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>Pyecharts — 数据可视化</strong></p>\n<p>简介</p>\n<p>Echarts是由百度研发，可以生成直观、生动、可交互、可高度个性化定制的Web数据可视化图表的可视化库。具有着开源、丰富的可视化类型、深度交互式探索、动态数据、绚丽特效等优点。2018年全球著名开源社区Apache基金会宣布Echarts项目全票通过进入Apache孵化器。</p>\n<p>特性</p>\n<ul><li>简洁的 API 设计，使用如丝滑般流畅，支持链式调用</li><li>囊括了 30+ 种常见图表，应有尽有</li><li>支持主流 Notebook 环境，Jupyter Notebook 和 JupyterLab</li><li>可轻松集成至 Flask，Django 等主流 Web 框架</li><li>高度灵活的配置项，可轻松搭配出精美的图表</li><li>详细的文档和示例，帮助开发者更快的上手项目</li><li>多达 400+ 地图文件以及原生的百度地图，为地理数据可视化提供强有力的支持</li></ul>\n<h1><a id=\"_413\"></a>最后</h1>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}