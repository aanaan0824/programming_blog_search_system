{"blogid": "125033197", "writerAge": "码龄4年", "writerBlogNum": "2", "writerCollect": "20", "writerComment": "1", "writerFan": "70", "writerGrade": "1级", "writerIntegral": "35", "writerName": "痴迷眼眸", "writerProfileAdress": "writer_image\\profile_125033197.jpg", "writerRankTotal": "139199", "writerRankWeekly": "160915", "writerThumb": "4", "writerVisitNum": "1819", "blog_read_count": "1563", "blog_time": "已于 2022-08-29 21:50:01 修改", "blog_title": "在linux安装8.0MySQL详细教程", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"linux_centos_mysql80_0\"></a>linux centos 安装mysql8.0总结</h1>\n<p><strong>1. 在linux系统的下切换到/usr/local目录下创建mysql文件夹</strong></p>\n<pre><code class=\"prism language-java\">#切换目录\ncd <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local\n\n#创建文件夹\nmkdir mysql\n</code></pre>\n<p><strong>2.切换到刚创建的目录下，并使用wget 下载mysql压缩包</strong></p>\n<pre><code class=\"prism language-java\">cd mysql\n</code></pre>\n<pre><code class=\"prism language-java\">wget https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>dev<span class=\"token punctuation\">.</span>mysql<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>get<span class=\"token operator\">/</span><span class=\"token class-name\">Downloads</span><span class=\"token operator\">/</span><span class=\"token class-name\">MySQL</span><span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">-</span>linux<span class=\"token operator\">-</span>glibc2<span class=\"token punctuation\">.</span><span class=\"token number\">12</span><span class=\"token operator\">-</span>x86_64<span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>xz\n</code></pre>\n<blockquote>\n<p>①在执行下载指令时可能会报 <strong>-bash: ?wget: command not found</strong>错误，是因为系统没有安装wget软件包，只需要执行<strong>yum -y install wget</strong>成功后再次执行上边的下载指令即可，文件会下载到当前目录（mysql）。(比较慢)<br/> ②当然你也可以直接官网下载或者访问<strong>https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.20-linux-glibc2.12-x86_64.tar.xz</strong>下载到本地再上传到服务器，具体怎么上传可自行百度。</p>\n</blockquote>\n<p><strong>3.解压文件并修改文件名字</strong><br/> 解压文件指令：</p>\n<pre><code class=\"prism language-java\">tar xvJf mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">-</span>linux<span class=\"token operator\">-</span>glibc2<span class=\"token punctuation\">.</span><span class=\"token number\">12</span><span class=\"token operator\">-</span>x86_64<span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>xz\n</code></pre>\n<p>图片示例：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\4529e809c07d4b148226f758cede893c.png\"/><br/> 修改文件指令：</p>\n<pre><code class=\"prism language-java\">mv mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">-</span>linux<span class=\"token operator\">-</span>glibc2<span class=\"token punctuation\">.</span><span class=\"token number\">12</span><span class=\"token operator\">-</span>x86_64 mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span>\n</code></pre>\n<p>图片示例：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\c5f29cdb50884b2ca327488472e507cb.png\"/></p>\n<p><strong>4.切换到mysql-8.0.20文件夹下，创建存储mysql数据的文件夹</strong></p>\n<pre><code class=\"prism language-java\">#切换文件夹\ncd mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span>\n\n#创建文件夹\nmkdir data\n</code></pre>\n<p><strong>5.创建用户组及用户</strong></p>\n<pre><code class=\"prism language-java\">groupadd mysql\n</code></pre>\n<pre><code class=\"prism language-java\">useradd <span class=\"token operator\">-</span>g mysql mysql\n</code></pre>\n<p><strong>6.授权用户</strong></p>\n<pre><code class=\"prism language-java\">chown <span class=\"token operator\">-</span><span class=\"token class-name\">R</span> mysql<span class=\"token punctuation\">.</span>mysql <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span>\n</code></pre>\n<p><strong>6.切换到bin目录下并初始化基础信息</strong></p>\n<pre><code class=\"prism language-java\"><span class=\"token punctuation\">.</span>/mysqld <span class=\"token operator\">--</span>user<span class=\"token operator\">=</span>mysql <span class=\"token operator\">--</span>basedir<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span> <span class=\"token operator\">--</span>datadir<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">/</span>data<span class=\"token operator\">/</span> <span class=\"token operator\">--</span>initialize\n</code></pre>\n<p>图片示例：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\9ba007afd37744f3b4e5fbeda0c7ad2f.png\"/><br/> 获得一个临时的密码，请拷贝并记录好（一会修改需要用到）。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\d6bc6f7d8f7043e1b7806fe52b584cfe.png\"/><br/> <strong>7.编辑my.cnf文件</strong></p>\n<pre><code class=\"prism language-bash\"><span class=\"token comment\">#使用vim编辑器，编辑配置文件</span>\n<span class=\"token function\">vim</span> /etc/my.cnf\n</code></pre>\n<pre><code class=\"prism language-java\">#添加的内容：\n<span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span>\nbasedir<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">/</span>\ndatadir<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">/</span>data<span class=\"token operator\">/</span>\nsocket<span class=\"token operator\">=</span><span class=\"token operator\">/</span>tmp<span class=\"token operator\">/</span>mysql<span class=\"token punctuation\">.</span>sock\ncharacter<span class=\"token operator\">-</span>set<span class=\"token operator\">-</span>server<span class=\"token operator\">=</span>UTF8MB4\nsymbolic<span class=\"token operator\">-</span>links<span class=\"token operator\">=</span><span class=\"token number\">0</span>\n</code></pre>\n<blockquote>\n<p>提示：<br/> ①basedir和datadir需要根据mysql安装位置自行修改路径；<br/> ②vim编辑器：按i进入insert编辑模式；按ctrl+c或esc 再敲:wq即退出并保存，只想退出不保存敲:q；<br/> ③[mysqld]不能缺失且不能写成[mysql] ;</p>\n</blockquote>\n<p><strong>8.添加mysqld服务到系统中（注意在mysql-8.0.20文件下执行）</strong></p>\n<pre><code class=\"prism language-java\">cp <span class=\"token operator\">-</span>a <span class=\"token punctuation\">.</span>/support<span class=\"token operator\">-</span>files<span class=\"token operator\">/</span>mysql<span class=\"token punctuation\">.</span>server <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>mysql\n</code></pre>\n<p><strong>9.授权以及添加服务</strong></p>\n<pre><code class=\"prism language-java\">chmod <span class=\"token operator\">+</span>x <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>mysql\n</code></pre>\n<pre><code class=\"prism language-java\">chkconfig <span class=\"token operator\">--</span>add mysql\n</code></pre>\n<p><strong>10.启动mysql并查看mysql运行状态</strong></p>\n<pre><code class=\"prism language-java\">service mysql start\n</code></pre>\n<pre><code class=\"prism language-java\">service mysql status\n</code></pre>\n<p>效果：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\5366e07a8d1545c09b8d544b89cf3abf.png\"/><br/> <strong>10.将mysql命令添加到服务</strong></p>\n<pre><code class=\"prism language-java\">ln <span class=\"token operator\">-</span>s <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>mysql<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span><span class=\"token number\">8.0</span><span class=\"token number\">.20</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>mysql <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin\n</code></pre>\n<p><strong>11.登录mysql</strong></p>\n<pre><code class=\"prism language-java\">#输入以下登录命令，并输入上面已拷贝生成的初始密码，输入的密码是不显示的 \nmysql <span class=\"token operator\">-</span>uroot <span class=\"token operator\">-</span>p\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\1c5d82acfa744f808de606030274b2b1.png\"/><br/> <strong>12.修改root的初始密码 ，这里我设置成123456（自行决定）</strong></p>\n<pre><code class=\"prism language-java\">ALTER USER <span class=\"token char\">'root'</span>@'localhost' IDENTIFIED WITH mysql_native_password BY <span class=\"token char\">'123456'</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><strong>13.使修改的内容立即生效</strong></p>\n<pre><code class=\"prism language-java\">flush privileges<span class=\"token punctuation\">;</span>\n</code></pre>\n<blockquote>\n<p>按ctrl+z退出mysql命令页，再重新用新密码登录测试是否修改成功</p>\n</blockquote>\n<p><strong>14.修改远程连接生效</strong></p>\n<pre><code class=\"prism language-java\">#重新进去mysql后，查看所有库\nshow databases<span class=\"token punctuation\">;</span>\n\n#选择mysql库\nuse mysql<span class=\"token punctuation\">;</span>\n\n#更新远程连接生效\nupdate user set host<span class=\"token operator\">=</span><span class=\"token char\">'%'</span> where user<span class=\"token operator\">=</span><span class=\"token char\">'root'</span><span class=\"token punctuation\">;</span>\n\n#使设置立即生效\nflush privileges<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\b656f878564649a9a34e07bf033fdf69.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\95ee469ef56c4f66a08aca93d384d89c.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\394eb34a9bff4c5bafd52e256af0c450.png\"/><br/> <strong>15.扩展：使用Navicat 远程连接</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\43372d1947344d15a6ef1b79bd3a7bf7.png\"/></p>\n<blockquote>\n<p>输入连接名（自己命名）<br/> 输入主机（为linux的IP，如果不知道可以在linux 执行ip addr查看）<br/> mysql端口默认是3306<br/> 用户名为 root<br/> 密码是重置后的新密码，最后点击连接即可</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\da02c3362472466684a221abf19345d2.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}