{"blogid": "123127754", "writerAge": "码龄1年", "writerBlogNum": "116", "writerCollect": "426", "writerComment": "8", "writerFan": "4905", "writerGrade": "4级", "writerIntegral": "1235", "writerName": "方如一", "writerProfileAdress": "writer_image\\profile_123127754.jpg", "writerRankTotal": "19028", "writerRankWeekly": "2013", "writerThumb": "108", "writerVisitNum": "183041", "blog_read_count": "18575", "blog_time": "已于 2022-03-24 16:46:16 修改", "blog_title": "iloc[ ]函数（Pandas库）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h3 id=\"main-toc\">1 iloc[]函数作用</h3>\n<p>iloc[]函数，属于pandas库，全称为index location，即对数据进行位置索引，从而在数据表中<span style=\"color:#be191c;\"><strong>提取出相应的数据。</strong></span></p>\n<h3 id=\"%E9%97%AE%E9%A2%98%EF%BC%9Ailoc%E5%87%BD%E6%95%B0%E6%80%8E%E4%B9%88%E7%94%A8%EF%BC%9F\">2 iloc函数使用</h3>\n<p>df.iloc[a,b]，其中df是DataFrame数据结构的数据（表1就是df），a是行索引（见表1），b是列索引（见表1）。</p>\n<table align=\"center\" border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:650px;\"><caption>\n  表1\n </caption><tbody><tr><td></td><td>姓名（列索引10）</td><td>班级（列索引1）</td><td>分数（列索引2）</td></tr><tr><td>0（行索引0）</td><td>小明</td><td>302</td><td>87</td></tr><tr><td>1（行索引1）</td><td>小王</td><td>303</td><td>95</td></tr><tr><td>2（行索引2）</td><td>小方</td><td>303</td><td>100</td></tr></tbody></table>\n<p>1.iloc[a,b]:取行索引为a列索引为b的数据。</p>\n<pre><code class=\"language-python\">import pandas\ndf = pandas.read_csv('a.csv')\nprint(df.iloc[1,2])\n#Out：95</code></pre>\n<p id=\"2.iloc%5Ba%3Ab%2Cc%5D%3A%E5%8F%96%E7%AC%ACa%E8%A1%8C%E5%88%B0%E7%AC%ACb-1%E8%A1%8C%EF%BC%8C%E7%AC%ACc%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82\">2.iloc[a:b,c]:取行索引从a到b-1，列索引为c的数据。注意：在iloc中a:b是<span style=\"color:#fe2c24;\"><strong>左到右不到</strong></span>的，即lioc[1：3,:]是从行索引从1到2，所有列索引的数据<span style=\"color:#ff9900;\">。</span></p>\n<pre><code class=\"language-python\">import pandas\ndf = pandas.read_csv('a.csv')\nprint(df.iloc[0:2,2]) #数据结构是Series\nprint(df.iloc[0:2,2].values) #数据结构是ndarray\n#Out1：0    87\n#      1    95\n# Name: 分数, dtype: int64\n#Out2：[87 95]\n</code></pre>\n<p><span style=\"color:#fe2c24;\">iloc[].values</span>，用values属性取值，返回<span style=\"color:#fe2c24;\">ndarray</span>，但是单个数值无法用values函数读取。<span style=\"color:#fe2c24;\"> </span></p>\n<p id=\"%C2%A03.iloc%5Ba%3Ab%2Cc%3Ad%5D%3A%E5%8F%96%E7%AC%ACa%E8%A1%8C%E5%88%B0%E7%AC%ACb-1%E8%A1%8C%EF%BC%8C%E7%AC%ACc%E5%88%97%E5%88%B0%E7%AC%ACd-1%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82\"> 3.iloc[a:b,c:d]:取行索引从a到b-1，列索引从c到d-1的数据。</p>\n<pre><code class=\"language-python\">import pandas\ndf = pandas.read_csv('a.csv')\nprint(df.iloc[0:2,0:2])\nprint(df.iloc[0:2,0:2].values)\n#Out1：   姓名   班级\n#      0  小明  302\n#      1  小王  303\n#Out2：[['小明' 302]\n#       ['小王' 303]]\n</code></pre>\n<p id=\"4.iloc%5Ba%5D%3A%E5%8F%96%E7%AC%ACa%E8%A1%8C%EF%BC%8C%E6%89%80%E6%9C%89%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82\">4.iloc[a]:取取行索引为a，所有列索引的数据。</p>\n<pre><code class=\"language-python\">import pandas\ndf = pandas.read_csv('a.csv')\nprint(df.iloc[2])\nprint(df.iloc[2].values)\n#Out1：姓名     小方\n#      班级    303\n#      分数    100\n# Name: 2, dtype: object\n#Out2：['小方' 303 100]\n</code></pre>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n</div>\n</div>"}