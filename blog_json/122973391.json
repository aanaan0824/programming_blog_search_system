{"blogid": "122973391", "writerAge": "码龄4年", "writerBlogNum": "68", "writerCollect": "584", "writerComment": "20", "writerFan": "4421", "writerGrade": "3级", "writerIntegral": "654", "writerName": "~QwQ~", "writerProfileAdress": "writer_image\\profile_122973391.jpg", "writerRankTotal": "25761", "writerRankWeekly": "1904", "writerThumb": "82", "writerVisitNum": "58821", "blog_read_count": "6604", "blog_time": "已于 2022-04-08 11:40:18 修改", "blog_title": "1. Polyspace工具基本介绍", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#1_Polyspace_2\">1. Polyspace工具基本介绍</a></li><li><ul><li><a href=\"#11_Polyspace_3\">1.1 Polyspace工具作用</a></li><li><a href=\"#12_Polyspace_15\">1.2 Polyspace工程建立</a></li><li><a href=\"#13_Polyspace_Bug_Finder__37\">1.3 Polyspace Bug Finder 分析及结果</a></li><li><a href=\"#14_Polyspace_Code_Prover__62\">1.4 Polyspace Code Prover 分析及结果</a></li><li><a href=\"#_73\">附件：分析源函数</a></li></ul>\n</li></ul>\n</div>\n<br/>\n<strong><a href=\"https://blog.csdn.net/weixin_44289254/article/details/122018085\">专题目录</a></strong>\n<p></p>\n<h1><a id=\"1_Polyspace_2\"></a>1. Polyspace工具基本介绍</h1>\n<h2><a id=\"11_Polyspace_3\"></a>1.1 Polyspace工具作用</h2>\n<ul><li> <p>Polyspace ：软件运行时错误检测工具</p> </li><li> <p>作用：解决代码<code>鲁棒性</code>问题，提高软件安全性，可靠性</p>\n<ul><li>编码错误</li><li>编码规则一致性（MISRA/JSF）</li><li>静态度量（代码量，调用次数等）</li><li>测试覆盖度</li><li>软件质量水平</li></ul> </li><li> <p>针对C/C++代码</p>\n<ul><li><code>Polyspace Bug Finder</code> : 静态检测，代码错误、规则</li><li><code>Polyspace Code Prover</code> : 运行错误检查，组件深层验证</li></ul> </li></ul>\n<h2><a id=\"12_Polyspace_15\"></a>1.2 Polyspace工程建立</h2>\n<ul><li>以分析fun_test.c函数文件为例进行说明，该文件中的源函数见文末附件，工程建立方法如下：</li></ul>\n<p><strong>1. 建立新工程</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\991a24d0bfbe4a6380c07dffb3a9f553.png\"/><br/> <strong>2. 导入分析代码</strong></p>\n<ul><li><code>Project Souce Files</code> : 分析的源文件</li><li><code>Project Include Folders</code> : 源文件包含的头文件（本例无）<br/> <img alt=\"在这里插入图片描述\" src=\"image\\e484a40f24bd42ab9079e6b64c06d685.png\"/><br/> <strong>3. 选择分析模块</strong></li><li>Module为具体分析内容模块： \n  <ul><li><code>Module Souce Files</code> : 分析代码内容</li><li><code>Configuration</code> : 检查内容配置</li><li><code>Result</code> : 结果<br/> <img alt=\"在这里插入图片描述\" src=\"image\\65029f94470b42769fa64e4c0081dd29.png\"/><br/> <strong>4. 分析项配置</strong></li></ul> </li><li><code>Comfiguration 配置</code>如下：（此处不做详细说明，按照默认的配置进行分析）<br/> <img alt=\"在这里插入图片描述\" src=\"image\\73ef929001164560b6f9d7cfe7707587.png\"/><br/> <strong>5. 运行检查</strong></li><li>选择分析检查方法，点击开始仿真运行</li><li>还可选择是否运行生成新的结果文件<br/> <img alt=\"在这里插入图片描述\" src=\"image\\789635c7e00c46ecae45833009c75f5b.png\"/></li></ul>\n<h2><a id=\"13_Polyspace_Bug_Finder__37\"></a>1.3 Polyspace Bug Finder 分析及结果</h2>\n<ul><li>分析结束后，分析结果有如下展示窗口 :</li></ul>\n<ol><li><strong>Output Summary窗口</strong><br/> 此窗口会展示分析进度，分析过程信息输出、分析中遇到的问题、是否分析结束等信息。（当分析代码编译存在问题时，该过程会有红色警告，文件查找失败等内容会有黄色警告）。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\371073f7a3ae4cf79d081c1b2034778c.png\"/></li><li><strong>Dashboard窗口</strong><br/> 分析结果报告显示窗口，会显示如下信息内容：<br/> 1）风险错误数量比例饼状图：红色表示高风险错误，粉红表示低风险，(点击在Result List窗口会列举出对应的内容信息）。<br/> 2）分析覆盖度柱状图<br/> 3）错误类型及数量图<br/> <img alt=\"在这里插入图片描述\" src=\"image\\ac80a290310744899e1b75123764cd9f.png\"/></li><li><strong>Result List窗口</strong><br/> 1）列举出具体风险类型项，位置，数量等信息，比如示例检查出1处执行不到的死代码和2出可能溢出的位置。<br/> 2）点击风险项，在Source窗口对照源代码分析问题。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\f893df063caf477b914fbd3210a81241.png\"/></li><li><strong>Source窗口</strong><br/> Source窗口会展示风险代码并告知错误产生的具体原因：<br/> 1）左侧代码行数前有个红圆圈，标识风险位置<br/> 2）代码颜色红色标识，表明风险产生的原因<br/> 3）产生风险的过程原因代码下有小点点标识出来，鼠标放在小点点位置上，会自动弹窗显示出原因。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\93837fdc0c3a4cdc9955732bb35e90c4.png\"/></li><li><strong>Result Details窗口</strong><br/> 详细展示分析过程，解释风险产生了流程。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\8ea97bfc87924c62ae33d903bab8a42d.png\"/></li></ol>\n<h2><a id=\"14_Polyspace_Code_Prover__62\"></a>1.4 Polyspace Code Prover 分析及结果</h2>\n<p>Polyspace Code Prover 分析结果和 Polyspace Bug Finder 分析结果基本一样，补充介绍如下内容：</p>\n<ol><li><strong>Dashboard窗口颜色意义</strong><br/> 1）绿色：绝对安全代码<br/> 2）红色：存在错误的高风险代码<br/> 3）橙色：可能存在错误的底风险代码（比如取决与函数的返回值，外部变量范围）<br/> 4）灰色：不会执行的死代码<br/> <img alt=\"在这里插入图片描述\" src=\"image\\0d1533b197a24c548e90f88387a4ca7f.png\"/></li><li><strong>Source窗口</strong><br/> 在Source窗口同样以绿色，红色，灰色，橙色4个级别展示出代码的安全风险级别。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\609bc74ee694473bbb8d105f5cd4d986.png\"/></li></ol>\n<h2><a id=\"_73\"></a>附件：分析源函数</h2>\n<pre><code class=\"prism language-c\"><span class=\"token keyword\">extern</span> <span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> <span class=\"token function\">extFunc</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> y <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> <span class=\"token function\">firstfun</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> y<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> z<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">signed</span> <span class=\"token keyword\">char</span> res<span class=\"token punctuation\">;</span>\n\ty <span class=\"token operator\">=</span> x <span class=\"token operator\">+</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> y <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\ty <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tz <span class=\"token operator\">=</span> <span class=\"token function\">extFunc</span><span class=\"token punctuation\">(</span> y <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> z <span class=\"token operator\">&lt;=</span> <span class=\"token number\">123</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tres <span class=\"token operator\">=</span> z <span class=\"token operator\">+</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tres <span class=\"token operator\">=</span> z <span class=\"token operator\">+</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n\t\tres <span class=\"token operator\">=</span> res<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<hr/>\n<p><em><strong>感谢阅读 若有错误 敬请见谅！！！</strong></em></p>\n<hr/>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}