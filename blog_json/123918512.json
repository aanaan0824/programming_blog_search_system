{"blogid": "123918512", "writerAge": "码龄11年", "writerBlogNum": "20", "writerCollect": "60", "writerComment": "20", "writerFan": "10", "writerGrade": "4级", "writerIntegral": "1113", "writerName": "雅格小京", "writerProfileAdress": "writer_image\\profile_123918512.jpg", "writerRankTotal": "27335", "writerRankWeekly": "136137", "writerThumb": "34", "writerVisitNum": "216605", "blog_read_count": "1925", "blog_time": "已于 2022-05-19 16:37:33 修改", "blog_title": "WinForm(C#)应用程序之（破）脱壳和修改", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>从网络来源搜寻来的Winform应用程序，编写语言是C#，想改掉它的应用程序的Logo、以及界面的图片内容、窗体的标题等信息。</p>\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"%E4%B8%80%E3%80%81%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B0-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%80%E3%80%81%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B0\">一、场景描述</a></p>\n<p id=\"%E4%BA%8C%E3%80%81%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E8%BF%87%E7%A8%8B-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%BA%8C%E3%80%81%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E8%BF%87%E7%A8%8B\">二、具体操作过程</a></p>\n<p id=\"1.%E9%9C%80%E8%A6%81%E5%87%86%E5%A4%87%E7%9A%84%E8%BD%AF%E4%BB%B6%EF%BC%9A-toc\" style=\"margin-left:40px;\"><a href=\"#1.%E9%9C%80%E8%A6%81%E5%87%86%E5%A4%87%E7%9A%84%E8%BD%AF%E4%BB%B6%EF%BC%9A\">1.需要准备的软件：</a></p>\n<p id=\"%EF%BC%881%EF%BC%89de4dot-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89de4dot\">（1）de4dot</a></p>\n<p id=\"%EF%BC%882%EF%BC%89dnSpy%20.NET%20%E8%B0%83%E8%AF%95%E5%99%A8%E5%92%8C%E6%B1%87%E7%BC%96%E7%BC%96%E8%BE%91%E5%99%A8-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%882%EF%BC%89dnSpy%20.NET%20%E8%B0%83%E8%AF%95%E5%99%A8%E5%92%8C%E6%B1%87%E7%BC%96%E7%BC%96%E8%BE%91%E5%99%A8\">（2）dnSpy </a></p>\n<p id=\"%EF%BC%883%EF%BC%89%E5%85%B7%E4%BD%93%E6%AD%A5%E9%AA%A4-toc\" style=\"margin-left:40px;\"><a href=\"#%EF%BC%883%EF%BC%89%E5%85%B7%E4%BD%93%E6%AD%A5%E9%AA%A4\">2.具体步骤</a></p>\n<p id=\"%E4%B8%89%E3%80%81%E5%AE%9E%E6%B5%8B%E6%95%88%E6%9E%9C-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%89%E3%80%81%E5%AE%9E%E6%B5%8B%E6%95%88%E6%9E%9C\">三、实测效果</a></p>\n<p id=\"%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A-toc\" style=\"margin-left:0px;\"><a href=\"#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A\">四、注意事项</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<h1 id=\"%E4%B8%80%E3%80%81%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B0\">一、场景描述</h1>\n<p>从网络来源搜寻来的Winform应用程序，编写语言是C#，想改掉它的应用程序的Logo、以及界面的图片内容、窗体的标题等信息。</p>\n<h1 id=\"%E4%BA%8C%E3%80%81%E5%85%B7%E4%BD%93%E6%93%8D%E4%BD%9C%E8%BF%87%E7%A8%8B\">二、具体操作过程</h1>\n<h2 id=\"1.%E9%9C%80%E8%A6%81%E5%87%86%E5%A4%87%E7%9A%84%E8%BD%AF%E4%BB%B6%EF%BC%9A\">1.需要准备的软件：</h2>\n<h3 id=\"%EF%BC%881%EF%BC%89de4dot\"><strong>（1）de4dot</strong></h3>\n<p>  de4dot  是一个很强的脱壳，反混淆工具，支持反混淆很多种混淆加密工具混淆过的源码，如 Xenocode、.NET Reactor、MaxtoCode、Eazfuscator.NET、Agile.NET、Phoenix Protector、Manco Obfuscator 、CodeWall、NetZ .NET Packer 、Rpx .NET Packer、Mpress .NET Packer、ExePack .NET Packer、Sixxpack .NET Packer、Rummage Obfuscator、Obfusasm Obfuscator、Confuser 1.7、Agile.NET、Babel.NET、CodeFort、CodeVeil、CodeWall、CryptoObfuscator、DeepSea Obfuscator、Dotfuscator、 Goliath.NET、ILProtector、MPRESS、Rummage、SmartAssembly、Skater.NET、Spices.Net 等。</p>\n<p>github主页：<a class=\"has-card\" href=\"https://github.com/de4dot\" title=\"de4dot · GitHub\"><span class=\"link-card-box\"><span class=\"link-title\">de4dot · GitHub</span><span class=\"link-desc\">de4dot repos. de4dot has one repository available. Follow their code on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/de4dot</span></span></a></p>\n<p>解压缩即可使用，如图所示：</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\3a27927d444e485ba5b55ee4ee403e2b.png\"/></p>\n<h3 id=\"%EF%BC%882%EF%BC%89dnSpy%20.NET%20%E8%B0%83%E8%AF%95%E5%99%A8%E5%92%8C%E6%B1%87%E7%BC%96%E7%BC%96%E8%BE%91%E5%99%A8\"><strong>（2）dnSpy </strong></h3>\n<p> dnSpy是一个调试器和.NET汇编编辑器。 即使您没有任何可用的源代码，也可以使用它来编辑和调试程序集。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\b93868acaa0b4f8594483218c9c6447a.png\"/></p>\n<p>是不是长得跟Visual Studio，很像极了！请<span style=\"color:#fe2c24;\"><strong>务必注意</strong></span>版本是（<strong><span style=\"color:#1a439c;\">32位 or 64位</span></strong>）以及<span style=\"color:#1c7331;\"><strong>.NET Framework的版本 </strong></span></p>\n<p>github主页：<a class=\"has-card\" href=\"https://github.com/dnSpy/dnSpy\" title=\"https://github.com/dnSpy/dnSpy\"><span class=\"link-card-box\"><span class=\"link-title\">https://github.com/dnSpy/dnSpy</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\icon-default.png\"/>https://github.com/dnSpy/dnSpy</span></span></a></p>\n<h2><strong>（3）</strong>查壳利器Exeinfo PE</h2>\n<p> <strong>Exeinfo PE</strong>是一款短小精悍且功能类似PEiD查壳程序的新一代万能查壳软件，内置海量PEiD的签名库并整合了近50种插件以及更加完整的中文语言包，exeinfo pe汉化版具备非常强悍的可鉴定多种文件类别的能力，全面兼容包括bmp、.jpg、.mov、.mp4、.vpx、.CRX、.skn、.dcu、.obj、.ice、.apk、.TLB、.ddd、.dcu、.pkg、.mkv、.WebM、.iso、.xar、.nup、.vhd、.tar、.gma、.mts、res、tiff、7z、Rar在内的多种文件格式，支持查看加密程序的PE信息、编译信息、是否加壳、输入输出表、入口地址、首字节、文件大小、子系统与覆盖、等任何可执行程序的多种相关信息，给予用户引导脱壳方法，对用户快速了解加密程序采用的加密方式并加以学习利用有很大帮助，可谓是查壳破解脱壳领域用户的得力帮手</p>\n<h2 id=\"%EF%BC%883%EF%BC%89%E5%85%B7%E4%BD%93%E6%AD%A5%E9%AA%A4\">2.具体步骤</h2>\n<p><strong>1.de4dot脱壳</strong></p>\n<p>打开de4dot所在的文件夹，在地址栏输入“<span style=\"color:#fe2c24;\"><strong>cmd</strong></span>”，即可快速打开命令行工具！</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\724f9cd7d395412992ac1780d5cbc85a.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\6e4a0387ae764bb79cfcaa5606354998.png\"/></p>\n<p> 直接就在de4dot路径下，按照要求的格式输入“  <span style=\"color:#fe2c24;\"><strong>de4dot.exe  file1.exe</strong></span> ”，按“回车”即可。请<strong>务必注意</strong>，此处 file1.exe是他所在的硬盘完整路径（<span style=\"color:#fe2c24;\"><strong>绝对路径</strong></span>）！</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\caf74f6e54a34d34b2fcfa7b9b227b81.png\"/></p>\n<p> 等待片刻，就会在“<strong>file1.exe</strong>”<strong>相同的路径下</strong>重新生成一个“<strong>file1-<span style=\"color:#fe2c24;\">cleaned.exe</span></strong>”，注意原来的“file1.exe”还在的，并没有被替换掉。（<strong><span style=\"color:#1a439c;\">切记！</span></strong>）</p>\n<p>这样就脱壳成功了！</p>\n<p><strong>2.使用dnSpy反编译</strong></p>\n<p>生成了新的“<strong><span style=\"color:#fe2c24;\">file1-cleaned.exe</span></strong>”之后，接着打开<strong>dnSpy，将第1步生成的</strong>“<strong><span style=\"color:#fe2c24;\">file1-cleaned.exe</span></strong>”，拖进去即可查看，反编译之后的各种资源了。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\6a999a5d79ed47f892d1542327b3dbe7.png\"/></p>\n<p> 注意事项拉进去左边的“<span style=\"color:#be191c;\"><strong>程序集资源管理器</strong></span>”哦！</p>\n<p><strong>3.修改图片Logo、图标类资源</strong></p>\n<p>这一步很简单，傻瓜式的替换即可，但是请注意，替换的图片资源，源程序里面需要什么后缀的，你就准备对应的图片资源（<strong><span style=\"color:#fe2c24;\">很重要！</span></strong>）。</p>\n<p>所有的文件都在资源文件夹下，选择对应的图片右键菜单选择，“<strong>编辑资源</strong>”，即可替换！</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\f5dc69812a854618bd26feef65fe4135.png\"/></p>\n<p style=\"text-align:center;\"> <img alt=\"\" src=\"image\\842b847eb998416a9d534806dec810d1.png\"/></p>\n<p><strong> 4.修改各种WinForm的窗体</strong></p>\n<p>这个是最反锁的一步了，需要详细查看工程项目下面的每一个程序集dll文件的源代码，如遇到需要修改的地方，右键选择“编辑类”、“编辑方法”，“添加类”等等。</p>\n<p><img alt=\"\" src=\"image\\bb7aa6a12cd449f5929072bb420ef74b.png\"/></p>\n<p></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\1dbff49f785240fabee87094f6448997.png\"/></p>\n<p> 然后，经过几秒反编译就可以直接修改源代码了！！</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\de3b5d69b0684f39958cfdd404f73958.png\"/></p>\n<p></p>\n<h1 id=\"%E4%B8%89%E3%80%81%E5%AE%9E%E6%B5%8B%E6%95%88%E6%9E%9C\">三、实测效果</h1>\n<p>各种原因，就不贴了！</p>\n<p></p>\n<h1 id=\"%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A\">四、注意事项</h1>\n<ol><li>det4do的版本（32位 or 64位）</li><li>DySpy版本（32位 or 64位）</li><li>winForm程序集的版本（32位 or 64位）</li><li>操作系统的版本（32位 or 64位）</li><li>.NET Framework的版本（<span style=\"color:#fe2c24;\">很重要</span>）</li><li>编译报错有可能是各种<strong>资源类型不对应</strong>，或者引用的<strong>.NET Framework框架资源程序集dll</strong>的版本冲突造成的。关注一下此图！</li></ol>\n<p><img alt=\"\" src=\"image\\4d80f47d87ac4938b17627f2d25a4363.png\"/></p>\n<p></p>\n</div>\n</div>"}