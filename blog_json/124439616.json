{"blogid": "124439616", "writerAge": "码龄10年", "writerBlogNum": "214", "writerCollect": "39", "writerComment": "10", "writerFan": "10", "writerGrade": "4级", "writerIntegral": "959", "writerName": "施天助", "writerProfileAdress": "writer_image\\profile_124439616.jpg", "writerRankTotal": "51954", "writerRankWeekly": "102613", "writerThumb": "17", "writerVisitNum": "60767", "blog_read_count": "1031", "blog_time": "已于 2022-04-26 23:15:00 修改", "blog_title": "安装cargo-generate各种坑【mac + wasm + rust 环境搭建】", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>cargo install cargo-generate 如果报openssl错误千万别再去装了，各种坑，这个cargo-generate可以手动下载安装的。</p>\n<p>先贴上我的报错信息：</p>\n<pre><code class=\"prism language-sh\">run pkg_config fail: \"`\\\"pkg-config\\\" \\\"--libs\\\" \\\"--cflags\\\" \\\"openssl\\\"` did not exit successfully: exit status: 1\\nerror: could not find system library 'openssl' required by the 'openssl-sys' crate\\n\\n--- stderr\\nPackage openssl was not found in the pkg-config search path.\\nPerhaps you should add the directory containing `openssl.pc'\\nto the PKG_CONFIG_PATH environment variable\\nNo package 'openssl' found\\n\"\n\n  --- stderr\n  thread 'main' panicked at '\n\n  Could not find directory of OpenSSL installation, and this `-sys` crate cannot\n  proceed without this knowledge. If OpenSSL is installed and this crate had\n  trouble finding it,  you can set the `OPENSSL_DIR` environment variable for the\n  compilation process.\n\n  Make sure you also have the development packages of openssl installed.\n  For example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora.\n\n  If you're in a situation where you think the directory *should* be found\n  automatically, please open a bug at https://github.com/sfackler/rust-openssl\n  and include information about your system as well as this message.\n\n  $HOST = x86_64-apple-darwin\n  $TARGET = x86_64-apple-darwin\n  openssl-sys = 0.9.72\n\n\n\n  openssl-sys crate build failed: no supported version of OpenSSL found.\n\n  Ways to fix it:\n  - Use the `vendored` feature of openssl-sys crate to build OpenSSL from source.\n  - Use Homebrew to install the `openssl` package.\n\n  ', xxx/.cargo/registry/src/mirrors.sjtug.sjtu.edu.cn-7a04d2510079875b/openssl-sys-0.9.72/build/find_normal.rs:180:5\n  note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\nwarning: build failed, waiting for other jobs to finish...\nerror: failed to compile `cargo-generate v0.13.1`, intermediate artifacts can be found at `/var/folders/h9/w8_2_02x7j96mcdfd5l70rk80000gn/T/cargo-install1rzgJF`\n\nCaused by:\n  build failed\n</code></pre>\n<h1><a id=\"_41\"></a>错误尝试</h1>\n<p>which openssl<br/> openssl version<br/> 发现我的是 xx/anaconda3/bin/openssl 的<br/> 然后新开终端是 /usr/bin/openssl 的<br/> 两者安装都报错<br/> homebrew太慢了，终止。。。<br/> 下载安装openssl，似乎也没安装成。。。</p>\n<h1><a id=\"_50\"></a>正确的方式-手动安装</h1>\n<ol><li>上面各种折腾实在没辙，就找了个安装包: https://github.com/cargo-generate/cargo-generate/releases, mac电脑直接下载<a href=\"https://github.com/cargo-generate/cargo-generate/releases/download/v0.13.1/cargo-generate-v0.13.1-x86_64-apple-darwin.tar.gz\">darwin</a></li><li>解压后的 cargo-generate 放入 ~/.cargo/bin/ 中</li><li>运行 cargo generate --git https://github.com/rustwasm/wasm-pack-template<br/> 3.1： 这一步如果报权限问题，系统阻止打开generate，那么就和mac打开其他非官方的程序一样到安全那里点仍然打开就允许打开了，然后再重新执行上面命令。</li><li>source ~/.bash_profile</li><li>sudo wasm-pack build</li><li>之后控制台最后面显示这个就表示编译成功了：<br/> Finished release [optimized] target(s) in 21.66s<br/> 剩下的就是自己再看参考中后续的教程把webpack项目建好即可：参考 <a href=\"https://www.jianshu.com/p/8c18ce1b7871\">mac + wasm + rust 环境搭建</a></li></ol>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}