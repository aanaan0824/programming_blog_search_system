{"blogid": "126709060", "writerAge": "ç é¾„4å¹´", "writerBlogNum": "40", "writerCollect": "518", "writerComment": "1009", "writerFan": "1367", "writerGrade": "5çº§", "writerIntegral": "2251", "writerName": "Ali.s", "writerProfileAdress": "writer_image\\profile_126709060.jpg", "writerRankTotal": "8388", "writerRankWeekly": "130", "writerThumb": "633", "writerVisitNum": "64177", "blog_read_count": "2286", "blog_time": "äºÂ 2022-09-06 09:23:05Â å‘å¸ƒ", "blog_title": "ã€JAVAé¡¹ç›®å®æˆ˜ã€‘ã€å›¾ä¹¦ç®¡ç†ç³»ç»Ÿã€‘ç™»å½•æ¨¡å—ã€Servletã€‘+ã€Sessionã€‘+ã€Filterã€‘+ã€JSPã€‘", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>ğŸš€ä¸ªäººä¸»é¡µï¼š<a href=\"https://blog.csdn.net/dxcn01?type=blog\">æ¬¢è¿è®¿é—®Ali.sçš„é¦–é¡µ</a><br/> <br/> â° æœ€è¿‘æ›´æ–°ï¼š2022å¹´9æœˆ6æ—¥<br/> <br/></p>\n<p>â›½ Javaæ¡†æ¶å­¦ä¹ ç³»åˆ—ï¼š<a href=\"https://blog.csdn.net/dxcn01/category_11895147.html?spm=1001.2014.3001.5482\">ã€Springã€‘ã€SpringMVCã€‘ã€Mybatisã€‘</a><br/> <br/></p>\n<p>ğŸ”¥ Javaé¡¹ç›®å®æˆ˜ç³»åˆ—ï¼š<a href=\"https://blog.csdn.net/dxcn01/category_11895147.html?spm=1001.2014.3001.5482\">ã€é£æœºå¤§æˆ˜ã€‘ã€å›¾ä¹¦ç®¡ç†ç³»ç»Ÿã€‘</a><br/> <br/></p>\n<p>ğŸ­ Javaç®—æ³•21å¤©ç³»åˆ—ï¼š<a href=\"https://blog.csdn.net/dxcn01/category_11895147.html?spm=1001.2014.3001.5482\">ã€æŸ¥æ‰¾ã€‘ã€æ’åºã€‘ã€é€’å½’ã€‘</a><br/> <br/></p>\n<p>â›³ JavaåŸºç¡€å­¦ä¹ ç³»åˆ—ï¼š<a href=\"https://blog.csdn.net/dxcn01/category_11895154.html\">ã€ç»§æ‰¿ã€‘ã€å°è£…ã€‘ã€å¤šæ€ã€‘</a><br/> <br/></p>\n<p>ğŸ† é€šä¿¡ä»¿çœŸå­¦ä¹ ç³»åˆ—ï¼š<a href=\"https://blog.csdn.net/dxcn01/category_11876059.html\">ã€ç¡¬ä»¶ã€‘ã€é€šä¿¡ã€‘ã€MATLABã€‘ </a><br/> <br/></p>\n<p>ğŸ„ ä¸ªäººç®€ä»‹ï¼šé€šä¿¡å·¥ç¨‹æœ¬ç¡•ğŸŒˆã€Javaç¨‹åºå‘˜ğŸš´ã€‚ç›®å‰åªä¼šCURDğŸ˜‚<br/> <br/></p>\n<p>ğŸ’Œ ç‚¹èµ ğŸ‘ æ”¶è— ğŸ’—ç•™è¨€ ğŸ’¬ éƒ½æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ğŸ’¯</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/2e9c78c6761840f7b2b4b6bbbcd4d46c.gif#pic_center\"/></p>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_18\">å‰è¨€</a></li><li><a href=\"#_22\">ä¸€ã€éœ€æ±‚åˆ†æ</a></li><li><a href=\"#_26\">äºŒã€åŠŸèƒ½å®ç°</a></li><li><ul><li><a href=\"#1_28\">1.ç™»å½•é¡µé¢</a></li><li><a href=\"#2_64\">2.é€»è¾‘æ ¡éªŒ</a></li><li><a href=\"#3_93\">3.è¿‡æ»¤å™¨è®¾ç½®</a></li><li><a href=\"#4_119\">4.ç™»å½•å®ç°</a></li><li><a href=\"#5_164\">5.æ³¨é”€å®ç°</a></li></ul>\n</li><li><a href=\"#_192\">ä¸‰ã€åŠŸèƒ½æµ‹è¯•</a></li><li><a href=\"#_200\">æ€»ç»“</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"_18\"></a>å‰è¨€</h1>\n<p>è¿™é‡Œæ˜¯<code>ã€JAVASEã€‘</code>é¡¹ç›®å®æˆ˜çš„ç¬¬äº”èŠ‚è¯¾ï¼Œå‰é¢å®Œæˆäº†ç”¨æˆ·æ¨¡å—çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä»Šå¤©åšçš„æ˜¯ç™»å½•åŠŸèƒ½ï¼Œä½¿ç”¨<code>ã€Servletã€‘</code>ã€<code>ã€Sessionã€‘</code>ã€<code>ã€Filterlã€‘</code>ã€<code>ã€JSPã€‘</code>æ¥å®ç°ç™»å½•å’Œæ³¨é”€åŠŸèƒ½ã€‚</p>\n<hr/>\n<h1><a id=\"_22\"></a>ä¸€ã€éœ€æ±‚åˆ†æ</h1>\n<p>åœ¨å‰é¢ç”¨ç”¨æˆ·æ–°å¢åŠŸèƒ½å®ç°åï¼Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ç”¨æˆ·ç›´æ¥è¿›å…¥äº†åå°çš„ä¸»ç•Œé¢ï¼Œç™»å½•æ¨¡å—åº”è¯¥æ˜¯æ¯ä¸ªç®¡ç†ç³»ç»Ÿå¿…å¤‡çš„åŠŸèƒ½æ¨¡å—çš„ï¼Œé€šè¿‡ç™»å½•æ¨¡å—æ¥è¾¾åˆ°æ•°æ®å®‰å…¨ï¼Œç”¨æˆ·åŒºåˆ†çš„ç›®çš„ï¼Œå¯¹äºåœ¨æ ¡å­¦ç”Ÿç±»å‹çš„ç®¡ç†ç³»ç»Ÿï¼Œåº”å½“éœ€è¦æ·»åŠ ä¸€ä¸ªç™»å½•æ¨¡å—ï¼Œéœ€è¦è´¦å·å¯†ç æ‰èƒ½è¿›å…¥ç³»ç»Ÿï¼Œé˜²æ­¢å­¦ç”Ÿä¿¡æ¯æ³„éœ²ã€‚ä¸‹é¢å¯¹ç™»å½•æ¨¡å—è¿›è¡Œéœ€æ±‚åˆ†æã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\3c71251328b64448805630a5b005845e.png\"/><br/> å½“ç”¨æˆ·åœ¨æµè§ˆå™¨ç™»å½•é¡µé¢æäº¤ç”¨æˆ·åå’Œå¯†ç åã€‚é€šè¿‡æœåŠ¡å™¨è§£ææ•°æ®ï¼Œä¸æ•°æ®åº“ä¿¡æ¯è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœè´¦æˆ·å¯†ç æ­£ç¡®ï¼Œåˆ™è¿›è¡Œé¡µé¢é‡å®šå‘æ“ä½œåˆ°ä¸»ç•Œé¢ã€‚å¦‚æœè´¦å·å¯†ç é”™è¯¯ï¼Œåˆ™åœ¨æµè§ˆå™¨å‰ç«¯ç™»å½•é¡µé¢ç»™å‡ºç›¸åº”çš„ä¿¡æ¯ã€‚å¦‚æœè´¦å·æœªæ³¨å†Œ ï¼Œåˆ™æç¤ºè¯¥è´¦å·æ— æ•ˆã€‚</p>\n<h1><a id=\"_26\"></a>äºŒã€åŠŸèƒ½å®ç°</h1>\n<p>åœ¨<code>dao</code>å±‚å’Œ<code>service</code>å±‚ä¸­åˆ›å»ºæ¥å£ã€‚è¿™é‡Œä¸ç”¨æˆ·æ¨¡å—ç±»ä¼¼ï¼Œé¦–å…ˆå®Œæˆå‰ç«¯é¡µé¢çš„ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œåç«¯çš„æ ¡éªŒé€»è¾‘çš„åˆ¤æ–­ï¼Œåˆ°å±‚å¤„ç†<code>sql</code>è¯­å¥ã€‚</p>\n<h2><a id=\"1_28\"></a>1.ç™»å½•é¡µé¢</h2>\n<p>åˆ›å»º<code>login.jsp</code>é¡µé¢ï¼Œå¯¹æäº¤çš„è¡¨å•ä¿¡æ¯è¿›è¡Œå¤„ç†ï¼Œå½“ç‚¹å‡»æäº¤è´¦å·å¯†ç æ—¶ï¼Œé€šè¿‡<code>post</code>è¯·æ±‚è¿›å…¥ç™»é™†çš„æ§åˆ¶å±‚<code>servlet</code>ï¼Œåœ¨<code>servlet</code>è¿›è¡Œæ•°æ®å¤„ç†æ“ä½œã€‚åœ¨è´¦å·å¯†ç éƒ½æ­£ç¡®æ—¶è¿›å…¥ä¸»ç•Œé¢ï¼Œè€Œå½“å…¶é”™è¯¯æ—¶ï¼Œè¿”å›åˆ°ç™»å½•é¡µé¢ï¼Œå¹¶å¯¹ç”¨æˆ·ç»™å‡ºä¿¡æ¯é”™è¯¯çš„æç¤ºã€‚</p>\n<pre><code class=\"prism language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loginbody<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>systemlogo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loginbox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/loginServlet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loginuser<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>admin<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loginpwd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>123<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>loginbtn<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ç™»å½•<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n       \t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checkbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">checked</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>checked<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n                        è®°ä½å¯†ç \n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n               <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">c:</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${empty sessionScope.msg}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>å¿˜è®°å¯†ç ï¼Ÿ<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">c:</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token namespace\">c:</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>${not empty sessionScope.msg}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span> red</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>${sessionScope.msg}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token namespace\">c:</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n</code></pre>\n<h2><a id=\"2_64\"></a>2.é€»è¾‘æ ¡éªŒ</h2>\n<p>é€šè¿‡æ£€æŸ¥è´¦å·å’Œå¯†ç ï¼Œå¯¹ç”¨æˆ·çš„çœŸå®æ€§åšå‡ºåˆ¤è¯»ï¼Œåœ¨åˆ°<code>dao</code>å±‚å®Œæˆæ­¤æ–¹æ³•ï¼Œåœ¨<code>service</code>å±‚è¿›è¡Œè°ƒç”¨ã€‚</p>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span> <span class=\"token function\">checkUserNameAndPassword</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> userName<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> password<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">QueryRunner</span> queryRunner <span class=\"token operator\">=</span> <span class=\"token class-name\">DBUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">getQueryRunner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> sql<span class=\"token operator\">=</span><span class=\"token string\">\"select * from t_user where is_deleted=? and user_name=? and password=?\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span>  queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResultSetHandler</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token annotation punctuation\">@Override</span>\n                <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span> <span class=\"token function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ResultSet</span> resultSet<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">SQLException</span> <span class=\"token punctuation\">{<!-- --></span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                        <span class=\"token class-name\">User</span> user<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        user<span class=\"token punctuation\">.</span><span class=\"token function\">setUserName</span><span class=\"token punctuation\">(</span>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user_name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        user<span class=\"token punctuation\">.</span><span class=\"token function\">setId</span><span class=\"token punctuation\">(</span>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        user<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        user<span class=\"token punctuation\">.</span><span class=\"token function\">setPhoneNum</span><span class=\"token punctuation\">(</span>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"phone_num\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        user<span class=\"token punctuation\">.</span><span class=\"token function\">setEmail</span><span class=\"token punctuation\">(</span>resultSet<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">return</span> user<span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">DelFlag<span class=\"token punctuation\">.</span>No</span><span class=\"token punctuation\">.</span>code<span class=\"token punctuation\">,</span>userName<span class=\"token punctuation\">,</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"3_93\"></a>3.è¿‡æ»¤å™¨è®¾ç½®</h2>\n<p>è¿›å…¥ç™»å½•åŠŸèƒ½åï¼Œå°†ä¸èƒ½ç›´æ¥è®¿é—®<code>main.jsp</code>é¡µé¢ï¼Œé™¤äº†åœ¨å·²ç»ç™»å½•çš„çŠ¶æ€ä¸‹ï¼Œæ— æ³•åé—®ç³»ç»Ÿçš„å…¶å®ƒèµ„æºï¼Œåªæœ‰åœ¨æœåŠ¡å™¨æ ¡å‡†æ•°æ®çš„æ­£ç¡®æ€§æ—¶ï¼Œæ‰èƒ½è¿›å…¥ç³»ç»Ÿè®¿é—®ç§æœ‰çš„èµ„æºä¿¡æ¯ï¼Œå¯¹æ•°æ®æœ‰ä¿æŠ¤ä½œç”¨ï¼Œé€šè¿‡è®¾ç½®è¿‡æ»¤å™¨ï¼Œå°†èµ„æºè¿›è¡Œæ”¾è¿‡ï¼Œåœ¨è¿‡æ»¤å™¨ä¸­å…ˆåˆ¤æ–­å½“å‰çš„è¯·æ±‚æ˜¯å¦æ˜¯å¯ä»¥åŒ¿åè®¿é—®çš„ï¼Œå¦‚æœæ˜¯å°±æ”¾è¿‡ï¼Œå¦‚æœä¸æ˜¯,å°±æ‹¦æˆªå¹¶è·³è½¬å›ç™»å½•é¡µé¢ã€‚<img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\07b6d8c8e121457db14c3625736e25f5.png\"/></p>\n<pre><code class=\"prism language-java\"> <span class=\"token annotation punctuation\">@Override</span>\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doFilter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletRequest</span> servletRequest<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletResponse</span> servletResponse<span class=\"token punctuation\">,</span> <span class=\"token class-name\">FilterChain</span> filterChain<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletException</span> <span class=\"token punctuation\">{<!-- --></span>\n   <span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span><span class=\"token punctuation\">)</span> servletRequest<span class=\"token punctuation\">;</span>\n   <span class=\"token class-name\">HttpServletResponse</span> response<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletResponse</span><span class=\"token punctuation\">)</span> servletResponse<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//è·å–è·³è½¬çš„é¡µé¢çš„åç¼€</span>\n     <span class=\"token class-name\">String</span> requestURI<span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getRequestURI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//åˆ¤æ–­æ˜¯å¦æ˜¯ç™»å½•é¡µé¢</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>requestURI<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"login.jsp\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> requestURI<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"loginServlet\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n            filterChain<span class=\"token punctuation\">.</span><span class=\"token function\">doFilter</span><span class=\"token punctuation\">(</span>servletRequest<span class=\"token punctuation\">,</span>servletResponse<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token comment\">//åˆ¤æ–­æ˜¯å¦æ˜¯ç™»å½•çŠ¶æ€</span>\n            <span class=\"token class-name\">HttpSession</span> session<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">Object</span> attribute <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constant</span><span class=\"token punctuation\">.</span>SESSION_LONGIN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>attribute<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token comment\">//å·²ç»ç™»å½•</span>\n                filterChain<span class=\"token punctuation\">.</span><span class=\"token function\">doFilter</span><span class=\"token punctuation\">(</span>servletRequest<span class=\"token punctuation\">,</span> servletResponse<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token comment\">//æ²¡æœ‰ç™»å½•ï¼Œè¿›è¡Œè·³è½¬åˆ°ç™»å½•é¡µé¢</span>\n                session<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"msg\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"è¯·å…ˆç™»å½•åï¼Œå†ç»§ç»­æ“ä½œ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                response<span class=\"token punctuation\">.</span><span class=\"token function\">sendRedirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/login.jsp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"4_119\"></a>4.ç™»å½•å®ç°</h2>\n<p>åœ¨<code>Servlet</code>ä¸­è¿›è¡Œè·å–ç™»å½•åŠŸèƒ½çš„å®ç°ï¼Œåˆ›å»º<code>LoginServlet</code>ï¼Œå¯¹è¡¨å•ä¿¡æ¯åšç»‘å®šã€‚</p>\n<pre><code class=\"prism language-java\">  <span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>song<span class=\"token punctuation\">.</span>bookmanagersystem<span class=\"token punctuation\">.</span>controller</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>song<span class=\"token punctuation\">.</span>bookmanagersystem<span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">User</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>song<span class=\"token punctuation\">.</span>bookmanagersystem<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserService</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>song<span class=\"token punctuation\">.</span>bookmanagersystem<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span>impl<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserServiceImpl</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>song<span class=\"token punctuation\">.</span>bookmanagersystem<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Constant</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">WebServlet</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServlet</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletRequest</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletResponse</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpSession</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span><span class=\"token punctuation\">;</span>\n<span class=\"token annotation punctuation\">@WebServlet</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"loginServlet\"</span><span class=\"token punctuation\">,</span>urlPatterns <span class=\"token operator\">=</span> <span class=\"token string\">\"/loginServlet\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LoginServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token class-name\">UserService</span> userService<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">UserServiceImpl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//getè¯·æ±‚ä¹Ÿæ˜¯ä½¿ç”¨postè¯·æ±‚</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span>resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//1.è·å–è¡¨å•æäº¤çš„ä¿¡æ¯</span>\n        <span class=\"token class-name\">String</span> userName<span class=\"token operator\">=</span>req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> password<span class=\"token operator\">=</span>req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//2.è°ƒç”¨serviceä¸­çš„æ–¹æ³•æ¥éªŒè¯</span>\n        <span class=\"token class-name\">User</span> user <span class=\"token operator\">=</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">checkUserNameAndPassword</span><span class=\"token punctuation\">(</span>userName<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">HttpSession</span> session <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//3.æ ¹æ®éªŒè¯çš„ç»“æœæ¥åšå‡ºå¯¹åº”çš„å“åº”</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user <span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token comment\">//é˜²æ­¢å¯†ç æ³„éœ²</span>\n            user<span class=\"token punctuation\">.</span><span class=\"token function\">setPassword</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//ç™»å½•æˆåŠŸ,æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ç»™session</span>\n            session<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constant</span><span class=\"token punctuation\">.</span>SESSION_LONGIN<span class=\"token punctuation\">,</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            resp<span class=\"token punctuation\">.</span><span class=\"token function\">sendRedirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/main.jsp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n            session<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"msg\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"è´¦å·å¯†ç é”™è¯¯\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            resp<span class=\"token punctuation\">.</span><span class=\"token function\">sendRedirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/login.jsp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"5_164\"></a>5.æ³¨é”€å®ç°</h2>\n<p>åœ¨ç™»å½•æ¨¡å—æœ‰ç™»å½•å°±è‚¯å®šæœ‰æ³¨é”€ï¼Œé€€å‡ºå½“å‰ç™»å½•çš„çŠ¶æ€ï¼Œç”¨æˆ·æ˜¾ç¤ºçš„ç‚¹å‡»ã€é€€å‡ºã€‘é’®ï¼Œå®ç°é€€å‡ºåŠŸèƒ½ï¼Œåˆ›å»º<code>LogoutServlet</code>ï¼Œå¯¹å‚æ•°è¿›è¡Œç»‘å®šã€‚</p>\n<pre><code class=\"prism language-javascript\"> <span class=\"token keyword\">package</span> com<span class=\"token punctuation\">.</span>song<span class=\"token punctuation\">.</span>bookmanagersystem<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>ServletException<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span>WebServlet<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>HttpServlet<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>HttpServletRequest<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>HttpServletResponse<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>HttpSession<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>IOException<span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">WebServlet</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"logoutServlet\"</span><span class=\"token punctuation\">,</span>urlPatterns <span class=\"token operator\">=</span> <span class=\"token string\">\"/logoutServlet\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LogoutServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">{<!-- --></span>\n    @Override\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>HttpServletRequest req<span class=\"token punctuation\">,</span> HttpServletResponse resp<span class=\"token punctuation\">)</span> throws ServletException<span class=\"token punctuation\">,</span> IOException <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    @Override\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>HttpServletRequest req<span class=\"token punctuation\">,</span> HttpServletResponse resp<span class=\"token punctuation\">)</span> throws ServletException<span class=\"token punctuation\">,</span> IOException <span class=\"token punctuation\">{<!-- --></span>\n        HttpSession session <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//æ³¨é”€æ–¹æ³•</span>\n        session<span class=\"token punctuation\">.</span><span class=\"token function\">invalidate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//è¿›è¡Œé‡å®šå‘æ“ä½œ</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">sendRedirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/login.jsp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"_192\"></a>ä¸‰ã€åŠŸèƒ½æµ‹è¯•</h1>\n<p>å¯åŠ¨æœåŠ¡å™¨ï¼Œè®©é¡¹ç›®åœ¨æœåŠ¡å™¨ä¸­è¿è¡Œï¼Œè¿›å…¥ç™»å½•é¡µé¢ï¼Œè¿™é‡Œåˆå§‹åŒ–é»˜è®¤ä¸ºå‰é¢åˆ›å»ºçš„å·²æœ‰çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæç¤ºç™»å½•åï¼Œå†ç»§ç»­æ“ä½œï¼š<img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\dcdae470f8a249f5a38065ab787e80fb.png\"/><br/> è¾“å…¥æ­£ç¡®çš„è´¦æˆ·ä¿¡æ¯ï¼Œç‚¹å‡»è®°ä½å¯†ç ï¼Œè¿™é‡Œè®°ä½å¯†ç ä¹Ÿæ˜¯åœ¨æ•°æ®æ ¡éªŒé˜¶æ®µè¿›è¡Œæ•°æ®åº“ä¿¡æ¯æ¯”å¯¹åï¼Œé€šè¿‡<code>cookie</code>å€¼è¿›è¡Œæœ¬åœ°ç¼“å­˜ï¼Œæ–¹ä¾¿ä¸‹æ¬¡ç™»å½•ã€‚è¿›å…¥ä¸»é¡µé¢ï¼š<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\cee1d8eeacd84d678baa461c3696fe4a.png\"/><br/> ç‚¹å‡»é€€å‡ºæŒ‰é’®ï¼Œå¯¹å½“å‰ç”¨æˆ·è¿›è¡Œæ³¨é”€ï¼Œè¿”å›ç™»å½•é¡µé¢ï¼Œå†è¾“å…¥é”™è¯¯çš„ç”¨æˆ·å¯†ç ä¿¡æ¯ï¼Œæ£€æµ‹æ˜¯å¦è¿˜èƒ½è®¿é—®é¦–é¡µä¿¡æ¯ï¼Œç¡®ä¿è¿‡æ»¤å™¨è®¾ç½®æ­£ç¡®ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\a234d1eee89c4fdbaceadc662a527171.png\"/><br/> è¾“å…¥é”™è¯¯çš„ç”¨æˆ·ä¿¡æ¯ï¼Œç‚¹å‡»æäº¤åï¼Œé‡æ–°å›åˆ°ç™»å½•é¡µé¢ï¼Œå¹¶åœ¨é¡µé¢æç¤ºè´¦å·å¯†ç é”™è¯¯ï¼Œè¯´æ˜è¿‡æ»¤å™¨è®¾ç½®ç”Ÿæ•ˆï¼Œè‡³æ­¤ç™»å½•æ¨¡å—çš„åŠŸèƒ½å…¨éƒ¨å®ç°ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/2e9c78c6761840f7b2b4b6bbbcd4d46c.gif#pic_center\"/></p>\n<h1><a id=\"_200\"></a>æ€»ç»“</h1>\n<p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©è¦è®²çš„å†…å®¹ï¼Œä½¿ç”¨<code>ã€Servletã€‘</code>ã€<code>ã€Sessionã€‘</code>ã€<code>ã€Filterlã€‘</code>ã€<code>ã€JSPã€‘</code>å®Œæˆç™»å½•æ¨¡å—ï¼Œå¯¹ç”¨æˆ·æ•°æ®è¿›è¡Œæ ¡éªŒé¿å…ç›´æ¥è¿›å…¥ä¸»é¡µï¼Œè®¾ç½®è¿‡æ»¤å™¨ä¿è¯èµ„æºçš„å®‰å…¨ï¼Œé€šè¿‡<code>Session</code>è®°ä½å¯†ç ï¼Œä¸æœ¬åœ°çš„<code>Cookie</code>å…±åŒä½œç”¨ï¼Œå®ç°ç”¨æˆ·ç™»å½•å’Œæ³¨é”€çš„åŠŸèƒ½ã€‚</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}