{"blogid": "123518465", "writerAge": "码龄9年", "writerBlogNum": "313", "writerCollect": "179", "writerComment": "101", "writerFan": "2763", "writerGrade": "5级", "writerIntegral": "3789", "writerName": "globalcoding", "writerProfileAdress": "writer_image\\profile_123518465.jpg", "writerRankTotal": "6719", "writerRankWeekly": "3019", "writerThumb": "181", "writerVisitNum": "200124", "blog_read_count": "1931", "blog_time": "已于 2022-04-02 15:26:27 修改", "blog_title": "rust 安装 卸载（全网最详细）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h2>下载</h2>\n<p>官网： </p>\n<p><a href=\"https://www.rust-lang.org/\" title=\"Rust Programming Language\">Rust Programming Language</a></p>\n<p> 选择语言中文，马上开始，下载RUSTUP-INIT.EXE，咱们电脑一般是64位。</p>\n<h2>设置安装目录</h2>\n<p>rust默认直接装在c盘，想安装其他盘，先设置环境变量。<span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">RUSTUP_HOME</span></span>，<span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">CARGO_HOME</span></span>，</p>\n<p>自己先创建好目录，<span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">.rustup</span></span> 和 <span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">.cargo</span></span></p>\n<p>启动rustup-init.exe，会看到如下提示</p>\n<p><img alt=\"\" height=\"347\" src=\"image\\e6ff88cb807b41cb98dcc1aa688aab71.png\" width=\"391\"/></p>\n<p> 如果遇到如下页面：是说需要c++构建工具，如果你知道要怎么做，则continue。咱们当然知道要怎么做，所以继续。</p>\n<p><img alt=\"\" height=\"295\" src=\"image\\d18752902bba4b1894df7065eedc6b9a.png\" width=\"391\"/></p>\n<p>环境变量是在系统变量里添加</p>\n<p><img alt=\"\" height=\"208\" src=\"image\\4d804569c30341b4861b59559e91f26a.png\" width=\"498\"/> <img alt=\"\" height=\"210\" src=\"image\\3b7d9eb24fa64daaa599089440e9e239.png\" width=\"503\"/></p>\n<p> 配置完以后，重新再启动下rustup-init.exe，就会看到已经是自己的目录了。</p>\n<p><img alt=\"\" height=\"543\" src=\"image\\dce8d1b433e04e8f8d21169ba201f727.png\" width=\"409\"/></p>\n<h2> 安装</h2>\n<p>如果已经安装 MSVC，那么安装过程会非常的简单，输入 1 并回车，直接进入第二步。<br/> 如果安装的是 MinGW，输入 2 （自定义安装），然后系统会询问你 Default host triple? ，将 x86_64-pc-windows-msvc 的 \"msvc\" 改为 \"gnu\" 再输入安装程序：</p>\n<p><span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">x86_64-pc-windows-msvc</span></span>编译相对<span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">x86_64-pc-windows-gnu</span></span>会慢一点</p>\n<p>不需要修改的地方直接回车，选完以后就是这样：</p>\n<p><img alt=\"\" height=\"167\" src=\"image\\ff309a9fd7ed4684a130ecbe00f83b0b.png\" width=\"320\"/></p>\n<p>注：default toolchain，stable稳定版（有的指每周更新），nightly最新版（有的指每日更新），开发的话选稳定版即可。 </p>\n<p>注2：如果安装出现下载不动的情况，需要配置rustup镜像。见下文</p>\n<h2>安装完成检查</h2>\n<p>Rust 开发环境中，所有工具都安装在 <code>~/.cargo/bin</code> 目录，包括 <code>rustc</code>、<code>cargo</code> 和 <code>rustup</code> 。</p>\n<p>配置环境变量：用此目录</p>\n<p><span style=\"color:#be191c;\"><span style=\"background-color:#fef2f0;\">rustc --version</span></span> 检查是否安装成功。</p>\n<h3>安装完以后，创建并且运行项目请参考：</h3>\n<p><a href=\"https://globalcoding.blog.csdn.net/article/details/123920853\" title=\"rust 创建项目并运行\">rust 创建项目并运行</a></p>\n<p></p>\n<h2>配置rustup镜像（非必须）</h2>\n<p>清华镜像 <a href=\"https://mirrors.tuna.tsinghua.edu.cn/\" title=\"清华大学开源软件镜像站 | Tsinghua Open Source Mirror\">清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>\n<p>使用帮助 -&gt; rustup -&gt;使用这个配置到环境变量里</p>\n<pre><code>RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup</code></pre>\n<p><img alt=\"\" height=\"250\" src=\"image\\88472f44b73144f7a000ef31080efbe5.png\" width=\"420\"/></p>\n<p> <img alt=\"\" height=\"108\" src=\"image\\e1a2c6f1f34742cbb9dd6f9b27860581.png\" width=\"146\"/></p>\n<p> <img alt=\"\" height=\"170\" src=\"image\\754b4a78052b43b9bf063b92694924f7.png\" width=\"530\"/></p>\n<p> <img alt=\"\" height=\"181\" src=\"image\\5392ab7df9944622a4bef8365e6637f2.png\" width=\"313\"/></p>\n<h2>配置crates镜像（非必须）</h2>\n<p>和上面一样清华镜像-&gt;使用帮助 -&gt; crates -&gt;根据页面提示操作即可 </p>\n<p><img alt=\"\" height=\"104\" src=\"image\\51a3d31025d24c58b3778597aedf7634.png\" width=\"127\"/>                          <img alt=\"\" height=\"133\" src=\"image\\42a5b5c605564aa3a19c9f5a108a6e32.png\" width=\"277\"/></p>\n<p>新建文件，命名config（不要有后缀）， 复制上面的镜像，保存。</p>\n<p> <img alt=\"\" height=\"111\" src=\"image\\4e55715d67b845a08761e4c586b08a63.png\" width=\"544\"/></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<h2>vscode配置rust插件 </h2>\n<p> 选择rust-analyzer，虽然rust下载量多，但没有analyzer好用。两个一起安装会有冲突。</p>\n<p>这个插件会经常更新，LSP语言服务协议工具。可以设置更新时间，默认是每周。</p>\n<p><img alt=\"\" height=\"163\" src=\"image\\aa8b216551594b5db44e0d6b38e24775.png\" width=\"313\"/></p>\n<p>进入设置，搜rust channel， stable是每周更新，nightly是每天更新</p>\n<p><img alt=\"\" height=\"230\" src=\"image\\4fe2caeddf3b4055b821ec56aaee9e90.png\" width=\"506\"/></p>\n<p></p>\n<p><a href=\"https://www.bilibili.com/video/BV1sL411G7oh\" title=\"rust开发vscode该怎么配置？_哔哩哔哩_bilibili\">rust开发vscode该怎么配置？_哔哩哔哩_bilibili</a></p>\n<p></p>\n<p>里面有两种安装模式，mingw，和msvc</p>\n<p><a href=\"https://www.bilibili.com/video/BV1i54y127vu\" title=\"10分钟内完成：Rust的安装与配置_哔哩哔哩_bilibili\">10分钟内完成：Rust的安装与配置_哔哩哔哩_bilibili</a></p>\n<p></p>\n<h2>rustup self uninstall 卸载</h2>\n<h3>卸载 拒绝访问</h3>\n<p>问题：could not remove 'rustup_home' directory: 'C:\\Users\\Tony\\.rustup': Access is denied</p>\n<p>原因：rust程序在后台还在运行。</p>\n<p>解决：任务管理器结束任务。再去卸载</p>\n</div>\n</div>"}