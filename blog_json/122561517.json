{"blogid": "122561517", "writerAge": "码龄3年", "writerBlogNum": "68", "writerCollect": "334", "writerComment": "49", "writerFan": "139", "writerGrade": "4级", "writerIntegral": "1293", "writerName": "梁栋沉", "writerProfileAdress": "writer_image\\profile_122561517.jpg", "writerRankTotal": "18698", "writerRankWeekly": "42692", "writerThumb": "101", "writerVisitNum": "149320", "blog_read_count": "39026", "blog_time": "已于 2022-01-18 17:50:47 修改", "blog_title": "Vue使用echarts(完整版，解决各种报错)", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>前言：Echarts，它是一个与框架无关的 JS 图表库，但是它基于Js，这样很多框架都能使用它，例如Vue，估计IONIC也能用，下次研究。</p>\n<p>因为我的习惯，每次新尝试做一个功能的时候，总要新创建个小项目，做做Demo。</p>\n<p>首先看自己电脑是否安装了Vue，打开终端命令：vue --version，我以前安装过Vue，但是不知道为何报错：<br/> vue/cli Error: Cannot find module ‘@vue/cli-shared-utils‘</p>\n<p><strong>注意：如果是全局module出错，就全局更新，如果是项目中module出错，就删除（rimraf node_modules）重新安装 (npm i)</strong></p>\n<p>解决方法（更新或者重装）：</p>\n<pre><code class=\"prism language-javascript\">npm update <span class=\"token operator\">-</span>g @vue<span class=\"token operator\">/</span>cli\n# 或者\nyarn global upgrade <span class=\"token operator\">--</span>latest @vue<span class=\"token operator\">/</span>cli\n</code></pre>\n<p>在自己特定的项目文件夹下cmd打开终端</p>\n<ol><li>vue create echarts<br/> <img alt=\"第一个是我之前的默认习惯创建\" src=\"image\\69c0832d0a74476aaa39fb1f6d1972e5.png\"/></li><li>默认习惯创建，选择package.json之后输入 n 或者 y ，过程简略。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\6339a05cfed44151a00fd28aa2a3d02d.png\"/><br/> cd echarts 到该文件夹下，npm run serve显示项目运行正常：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\b443e563120c484da483f825ca0fc7aa.png\"/></li></ol>\n<p>正式开始尝试Echarts<br/> 建议大家要学会看官网文档：https://echarts.apache.org/handbook/zh/get-started/<br/> 能学习到两点：</p>\n<ol><li>在绘图前我们需要为 ECharts 准备一个定义了高宽的 DOM 容器。</li><li>通过 echarts.init 方法初始化一个 echarts 实例并通过 setOption 方法生成一个简单的柱状图。</li></ol>\n<p>基于这两句话进行研究：我通常是在About中尝试进行写Demo。<img alt=\"在这里插入图片描述\" src=\"image\\d820dc8333b0413d9361348c18cf336c.png\"/><br/> Ctrl + C结束项目。<br/> 在项目终端安装echarts：npm install echarts --save<br/> <strong>请注意，2022年后安装的echarts都是5.X版本，可以在package.json中看到，不知为何，这个和Vue项目不匹配，导致发生错误，知道原因的麻烦在下面留言。</strong></p>\n<p>全局引入：在 main.js 中全局引入 echarts<img alt=\"在这里插入图片描述\" src=\"image\\dda3c08014e942dc8a84ae5d35772802.png\"/></p>\n<pre><code class=\"prism language-typescript\"><span class=\"token keyword\">import</span> echarts <span class=\"token keyword\">from</span> <span class=\"token string\">\"echarts\"</span><span class=\"token punctuation\">;</span>\nVue<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>$echarts <span class=\"token operator\">=</span> echarts<span class=\"token punctuation\">;</span>\n</code></pre>\n<p>在About.Vue中的<code>&lt;template&gt; &lt;/template&gt;写&lt;div id=\"main\" style=\"width: 600px; height: 400px\"&gt;&lt;/div&gt;</code>，如上图，对应1. 在绘图前我们需要为 ECharts 准备一个定义了高宽的 DOM 容器。</p>\n<pre><code class=\"prism language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span> <span class=\"token style-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token style language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 600px<span class=\"token punctuation\">;</span> <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 400px</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p>对应 2.通过 echarts.init 方法初始化一个 echarts 实例并通过 setOption 方法生成一个简单的柱状图。这个需要在script中进行操作。<br/> 示例一：</p>\n<pre><code class=\"prism language-javascript\">    <span class=\"token function\">drawChart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token comment\">// 基于准备好的dom，初始化echarts实例  这个和上面的main对应</span>\n      <span class=\"token keyword\">let</span> myChart <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$echarts<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 指定图表的配置项和数据</span>\n      <span class=\"token keyword\">let</span> option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n        title<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          text<span class=\"token operator\">:</span> <span class=\"token string\">\"ECharts 入门示例\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        tooltip<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        legend<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"销量\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        xAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"衬衫\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"羊毛衫\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"雪纺衫\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"裤子\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"高跟鞋\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"袜子\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        yAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        series<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{<!-- --></span>\n            name<span class=\"token operator\">:</span> <span class=\"token string\">\"销量\"</span><span class=\"token punctuation\">,</span>\n            type<span class=\"token operator\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span>\n            data<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">36</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 使用刚指定的配置项和数据显示图表。</span>\n      myChart<span class=\"token punctuation\">.</span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>然后新建monted(){},否则会出现init没有定义等等错误。</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">drawChart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>到这一步，其实示例一已经完成，但是我们运行发现图片无法显示，只有一处警告错误：\"export ‘default’ (imported as ‘echarts’) was not found in ‘echarts’<br/> 起着怀疑的态度进行百度，https://blog.csdn.net/Aom_yt/article/details/110947734 ，给出的原因是“<strong>可能还不能支持最新版的echarts5.0</strong>” 这句话不一定对，麻烦知道原因的在下面进行评论。<br/> 解决方法：</p>\n<ol><li>卸载： npm uninstall echarts</li><li>重装echarts： npm install echarts@4.9.0</li><li>重新运行项目，发现成功了。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\4d45a12dc41c4f78a15bae538f54fbc1.png\"/><br/> 示例二:<br/> 我的需求和目标是将https://echarts.apache.org/examples/zh/editor.html?c=bar-race-country&amp;version=5.2.1导入到我的Vue项目中，基于上面1和2原理，上代码：</li></ol>\n<pre><code class=\"prism language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main2<span class=\"token punctuation\">\"</span></span> <span class=\"token style-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token style language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 1600px<span class=\"token punctuation\">;</span> <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 1400px</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<pre><code class=\"prism language-typescript\">    <span class=\"token function\">drawChart2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token comment\">// 基于准备好的dom，初始化echarts实例  这个和上面的main2对应</span>\n      <span class=\"token keyword\">let</span> myChart <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$echarts<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 指定图表的配置项和数据</span>\n      <span class=\"token keyword\">var</span> <span class=\"token constant\">ROOT_PATH</span> <span class=\"token operator\">=</span>\n        <span class=\"token string\">\"https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples\"</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// var chartDom = document.getElementById(\"main\");</span>\n      <span class=\"token comment\">// var myChart = echarts.init(chartDom);</span>\n      <span class=\"token keyword\">var</span> option<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> updateFrequency <span class=\"token operator\">=</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> dimension <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> countryColors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n        Australia<span class=\"token operator\">:</span> <span class=\"token string\">\"#00008b\"</span><span class=\"token punctuation\">,</span>\n        Canada<span class=\"token operator\">:</span> <span class=\"token string\">\"#f00\"</span><span class=\"token punctuation\">,</span>\n        China<span class=\"token operator\">:</span> <span class=\"token string\">\"#ffde00\"</span><span class=\"token punctuation\">,</span>\n        Cuba<span class=\"token operator\">:</span> <span class=\"token string\">\"#002a8f\"</span><span class=\"token punctuation\">,</span>\n        Finland<span class=\"token operator\">:</span> <span class=\"token string\">\"#003580\"</span><span class=\"token punctuation\">,</span>\n        France<span class=\"token operator\">:</span> <span class=\"token string\">\"#ed2939\"</span><span class=\"token punctuation\">,</span>\n        Germany<span class=\"token operator\">:</span> <span class=\"token string\">\"#000\"</span><span class=\"token punctuation\">,</span>\n        Iceland<span class=\"token operator\">:</span> <span class=\"token string\">\"#003897\"</span><span class=\"token punctuation\">,</span>\n        India<span class=\"token operator\">:</span> <span class=\"token string\">\"#f93\"</span><span class=\"token punctuation\">,</span>\n        Japan<span class=\"token operator\">:</span> <span class=\"token string\">\"#bc002d\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"North Korea\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#024fa2\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"South Korea\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#000\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"New Zealand\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#00247d\"</span><span class=\"token punctuation\">,</span>\n        Norway<span class=\"token operator\">:</span> <span class=\"token string\">\"#ef2b2d\"</span><span class=\"token punctuation\">,</span>\n        Poland<span class=\"token operator\">:</span> <span class=\"token string\">\"#dc143c\"</span><span class=\"token punctuation\">,</span>\n        Russia<span class=\"token operator\">:</span> <span class=\"token string\">\"#d52b1e\"</span><span class=\"token punctuation\">,</span>\n        Turkey<span class=\"token operator\">:</span> <span class=\"token string\">\"#e30a17\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"United Kingdom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#00247d\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"United States\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#b22234\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n      $<span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>\n        $<span class=\"token punctuation\">.</span><span class=\"token function\">getJSON</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://cdn.jsdelivr.net/npm/emoji-flags@1.3.0/data.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        $<span class=\"token punctuation\">.</span><span class=\"token function\">getJSON</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ROOT_PATH</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/data/asset/data/life-expectancy-table.json\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>res0<span class=\"token punctuation\">,</span> res1<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">const</span> flags <span class=\"token operator\">=</span> res0<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> res1<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> years <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>years<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> years<span class=\"token punctuation\">[</span>years<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> data<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            years<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">function</span> <span class=\"token function\">getFlag</span><span class=\"token punctuation\">(</span>countryName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>countryName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n            flags<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token keyword\">return</span> item<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> countryName<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>emoji<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">let</span> startIndex <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> startYear <span class=\"token operator\">=</span> years<span class=\"token punctuation\">[</span>startIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        option <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n          grid<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            top<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n            bottom<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n            left<span class=\"token operator\">:</span> <span class=\"token number\">150</span><span class=\"token punctuation\">,</span>\n            right<span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          xAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            max<span class=\"token operator\">:</span> <span class=\"token string\">\"dataMax\"</span><span class=\"token punctuation\">,</span>\n            axisLabel<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token function-variable function\">formatter</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          dataset<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            source<span class=\"token operator\">:</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> startYear<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          yAxis<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"category\"</span><span class=\"token punctuation\">,</span>\n            inverse<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            max<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n            axisLabel<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n              show<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n              fontSize<span class=\"token operator\">:</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span>\n              <span class=\"token function-variable function\">formatter</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token keyword\">return</span> value <span class=\"token operator\">+</span> <span class=\"token string\">\"{flag|\"</span> <span class=\"token operator\">+</span> <span class=\"token function\">getFlag</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"}\"</span><span class=\"token punctuation\">;</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              rich<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                flag<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                  fontSize<span class=\"token operator\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span>\n                  padding<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            animationDuration<span class=\"token operator\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>\n            animationDurationUpdate<span class=\"token operator\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          series<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n              realtimeSort<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n              seriesLayoutBy<span class=\"token operator\">:</span> <span class=\"token string\">\"column\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span>\n              itemStyle<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token function-variable function\">color</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                  <span class=\"token keyword\">return</span> countryColors<span class=\"token punctuation\">[</span>param<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"#5470c6\"</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              encode<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                x<span class=\"token operator\">:</span> dimension<span class=\"token punctuation\">,</span>\n                y<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n              label<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                show<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                precision<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                position<span class=\"token operator\">:</span> <span class=\"token string\">\"right\"</span><span class=\"token punctuation\">,</span>\n                valueAnimation<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                fontFamily<span class=\"token operator\">:</span> <span class=\"token string\">\"monospace\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// Disable init animation.</span>\n          animationDuration<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n          animationDurationUpdate<span class=\"token operator\">:</span> updateFrequency<span class=\"token punctuation\">,</span>\n          animationEasing<span class=\"token operator\">:</span> <span class=\"token string\">\"linear\"</span><span class=\"token punctuation\">,</span>\n          animationEasingUpdate<span class=\"token operator\">:</span> <span class=\"token string\">\"linear\"</span><span class=\"token punctuation\">,</span>\n          graphic<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            elements<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n                right<span class=\"token operator\">:</span> <span class=\"token number\">160</span><span class=\"token punctuation\">,</span>\n                bottom<span class=\"token operator\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span>\n                style<span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                  text<span class=\"token operator\">:</span> startYear<span class=\"token punctuation\">,</span>\n                  font<span class=\"token operator\">:</span> <span class=\"token string\">\"bolder 80px monospace\"</span><span class=\"token punctuation\">,</span>\n                  fill<span class=\"token operator\">:</span> <span class=\"token string\">\"rgba(100, 100, 100, 0.25)\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                z<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// console.log(option);</span>\n        myChart<span class=\"token punctuation\">.</span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> startIndex<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> years<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token function\">updateYear</span><span class=\"token punctuation\">(</span>years<span class=\"token punctuation\">[</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">-</span> startIndex<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> updateFrequency<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">function</span> <span class=\"token function\">updateYear</span><span class=\"token punctuation\">(</span>year<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token keyword\">let</span> source <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">return</span> d<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> year<span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          option<span class=\"token punctuation\">.</span>series<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> source<span class=\"token punctuation\">;</span>\n          option<span class=\"token punctuation\">.</span>graphic<span class=\"token punctuation\">.</span>elements<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> year<span class=\"token punctuation\">;</span>\n          myChart<span class=\"token punctuation\">.</span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// 使用刚指定的配置项和数据显示图表。</span>\n      myChart<span class=\"token punctuation\">.</span><span class=\"token function\">setOption</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<pre><code class=\"prism language-typescript\"><span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">drawChart2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>不一一解释了，只要你弄懂了示例一，这个也能运行出来，同时也能举一反三。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\23aa0a8c9314486088a8639504069d0b.png\"/><br/> 其他：<br/> 在学习Echarts时候，发现这个用途很广，很多的人都在使用，也延伸出来了很多包，比如</p>\n<ol><li>封装的D3，简化了代码。https://github.com/Finedl/Vue-echart-D3<a href=\"https://github.com/Finedl/Vue-echart-D3\"></a><br/> 示例：<br/> <img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/44d036d2d4864381bb5765ec673d5caf.gif#pic_center\"/></li></ol>\n<p><img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/e88ec4fb9ef84d20aa85ac757b0e5085.gif#pic_center\"/></p>\n<p><img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/76895d878c85446fadbcea63c09ae9d4.gif#pic_center\"/></p>\n<ol start=\"2\"><li>HighCharts，在相比echarts有更多的风格等等，如何使用请参考：https://www.highcharts.com/blog/download/<br/> <img alt=\"在这里插入图片描述\" src=\"image\\8b66766797d94c6b979f140df47f71be.png\"/></li></ol>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}