{"blogid": "123752140", "writerAge": "ç é¾„5å¹´", "writerBlogNum": "8", "writerCollect": "12", "writerComment": "3", "writerFan": "10", "writerGrade": "2çº§", "writerIntegral": "152", "writerName": "Raymond-Shen", "writerProfileAdress": "writer_image\\profile_123752140.jpg", "writerRankTotal": "88579", "writerRankWeekly": "243259", "writerThumb": "7", "writerVisitNum": "18837", "blog_read_count": "815", "blog_time": "å·²äºÂ 2022-07-26 22:50:54Â ä¿®æ”¹", "blog_title": "Rustä¼ä¸šè½åœ°æ¢ç´¢", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h2>å‰è¨€</h2>\n<p>æœ€è¿‘æˆ‘åœ¨å¾®åšè½¬å‘äº†äºšé©¬é€Šå¯¹Rustå’ŒGoè¯­è¨€çš„å¯¹æ¯”ã€‚<a class=\"link-info has-card\" href=\"https://weibo.com/2150275531/LlkxkvTrl\" title=\"äºšé©¬é€Šå‘æ–‡åŠ›æ§ Rust ï¼ŒGo æŠ€æœ¯è´Ÿè´£äººï¼šåˆ«â€œæ‹‰è¸©â€æˆ‘ä»¬\"><span class=\"link-card-box\"><span class=\"link-title\">äºšé©¬é€Šå‘æ–‡åŠ›æ§ Rust ï¼ŒGo æŠ€æœ¯è´Ÿè´£äººï¼šåˆ«â€œæ‹‰è¸©â€æˆ‘ä»¬</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\icon-default.png\"/>https://weibo.com/2150275531/LlkxkvTrl</span></span></a></p>\n<p>AWSçš„æ–‡ç« å¯¹Rustçš„æ¨å´‡æº¢äºè¨€è¡¨ã€‚å¼•èµ·äº†ä¸šå†…çš„éœ‡åŠ¨ã€‚å†æ¬¡æŠŠcloud native, green programming language è¿™äº›é—®é¢˜æ¨åˆ°èˆ†è®ºé£å£ã€‚é‚£æˆ‘ä»¬å°±å¤šå…³æ³¨ä¸€ä¸‹Rust</p>\n<p>Rustå­¦ä¹ å¹¶ä¸æ˜¯å¾ˆå®¹æ˜“ã€‚å¦‚æœå¤§å®¶å­¦ä¹ è¿‡C++çš„è¯­è¨€ç‰¹æ€§ï¼Œå¹¶ä¸”æ·±å…¥äº†è§£C++çš„æ ‡å‡†åº“<a class=\"link-info\" href=\"https://www.boost.org/doc/libs/1_63_0/libs/smart_ptr/smart_ptr.htm\" title=\"auto pointer\">auto pointer</a>å’ŒBoostæ‰©å±•åº“é‡Œçš„<a class=\"link-info\" href=\"https://www.boost.org/doc/libs/1_63_0/libs/smart_ptr/smart_ptr.htm\" title=\"smart pointer\">smart pointer</a>çš„è¯ï¼Œæˆ‘è§‰å¾—å¤§å®¶ä¼šæ¯”è¾ƒå®¹æ˜“äº†è§£Rustçš„å¼ºç±»å‹å’Œå†…å­˜å®‰å…¨çš„ä¸€äº›è€ƒè™‘ã€‚è¿™éƒ¨åˆ†å¤§å®¶å¯ä»¥æ¯”è¾ƒå­¦ä¹ ï¼Œæ¨ªå‘æ¯”è¾ƒç¡®å®æ˜¯ä¸€ç§æé«˜è‡ªå·±çš„æ–¹æ³•ã€‚</p>\n<p>ä½†æ˜¯çœŸæ­£ç”¨Ruståšä¸€äº›ä¼ä¸šçœŸå®çš„åº”ç”¨ã€‚æˆ‘è§‰å¾—åªæ˜¯å­¦ä¹ è¯­è¨€ç‰¹æ€§æ˜¯ä¸è¶³å¤Ÿçš„ã€‚åº•å±‚åº“æˆ–è€…ç¨‹åºæ¡†æ¶çš„å¼€å‘è€…å¯¹è¯­è¨€ç‰¹æ€§çš„è¦æ±‚æ¯”è¾ƒé«˜ã€‚è€Œæˆ‘ä»¬è¦è·¨è¶Šè°ˆè®ºè¯­è¨€ç‰¹æ€§ï¼Œå’Œå…¶ä»–è¯­è¨€ä¹‹é—´åšæ¯”è¾ƒçš„æ—¶å€™ã€‚æˆ‘ä»¬è¿˜æ˜¯è¦é€šè¿‡è¯­è¨€çš„ç”Ÿæ€ï¼Œä¼ä¸šå¼€å‘çš„æ”¯æŒæ¥åšä¸€äº›æ¢ç´¢ã€‚è¿™æ ·ï¼Œæ‰èƒ½çœŸæ­£è½åœ°ï¼Œåº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒé‡Œã€‚</p>\n<p>æˆ‘ä»¬æ¢ç´¢çš„è„šæ­¥ä¸èƒ½åœæ­¢ã€‚æˆ‘å°†å¯¹ä¸€äº›æ¯”è¾ƒé‡è¦çš„é—®é¢˜å±•å¼€è®¨è®ºã€‚</p>\n<h2>å…¥é—¨èµ„æ–™</h2>\n<p>åœ¨å­¦ä¹ Rustçš„æ—¶å€™ï¼Œæˆ‘ä»¬å†è¯­è¨€å…¥é—¨çš„æ—¶å€™ä¸€å®šæœ‰å¾ˆå¤šçš„èµ„æ–™ã€‚æˆ‘å¯ä»¥æ¨èå¤§å®¶çœ‹ä¸€äº›åŸºæœ¬çš„èµ„æ–™ã€‚</p>\n<p><a class=\"has-card\" href=\"https://blog.csdn.net/weixin_34174132/article/details/85975606?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164826295516780261980079%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164826295516780261980079&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-85975606.142%5Ev5%5Epc_search_result_cache,143%5Ev6%5Econtrol&amp;utm_term=rust%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF&amp;spm=1018.2226.3001.4187\" title=\"Rustå­¦ä¹ èµ„æºå’Œè·¯çº¿_weixin_34174132çš„åšå®¢-CSDNåšå®¢\"><span class=\"link-card-box\"><span class=\"link-title\">Rustå­¦ä¹ èµ„æºå’Œè·¯çº¿_weixin_34174132çš„åšå®¢-CSDNåšå®¢</span><span class=\"link-desc\">Rustå­¦ä¹ èµ„æºå’Œè·¯çº¿æ¥æº https://rust-lang-cn.org/article/23å­¦ä¹ èµ„æºThe Rust Programming Languageå ªç§°Rustçš„\"The Book\"ï¼Œæ˜¯ç›®å‰æœ€æƒå¨çš„Rustç³»ç»Ÿæ•™ç¨‹ï¼Œå…¥é—¨å¿…è¯»ã€‚Rust by Exampleå®ä¾‹åŒ–çš„è®²è§£æ–¹æ³•ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªå¯å®é™…è¿è¡Œçš„ä¾‹å­å»ä»‹ç»Rustçš„ç‰¹æ€§å’Œç”¨æ³•ï¼Œæœ‰çš„æ—¶å€™ï¼Œä»£ç æ˜¯æœ€å¥½çš„è€å¸ˆã€‚Frequen...</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://g.csdnimg.cn/static/logo/favicon32.ico\"/>https://blog.csdn.net/weixin_34174132/article/details/85975606?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164826295516780261980079%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164826295516780261980079&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-85975606.142%5Ev5%5Epc_search_result_cache,143%5Ev6%5Econtrol&amp;utm_term=rust%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF&amp;spm=1018.2226.3001.4187</span></span></a></p>\n<p><a class=\"has-card\" href=\"https://blog.csdn.net/s_lisheng/article/details/105778760?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164826295516780261980079%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164826295516780261980079&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-5-105778760.142%5Ev5%5Epc_search_result_cache,143%5Ev6%5Econtrol&amp;utm_term=rust%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF&amp;spm=1018.2226.3001.4187\" title=\"Rustå­¦ä¹ èµ„æ–™æ±‡æ€»_chirpyliçš„åšå®¢-CSDNåšå®¢_rustå­¦ä¹ \"><span class=\"link-card-box\"><span class=\"link-title\">Rustå­¦ä¹ èµ„æ–™æ±‡æ€»_chirpyliçš„åšå®¢-CSDNåšå®¢_rustå­¦ä¹ </span><span class=\"link-desc\">åˆ—ä¸¾ä¸€äº›å­¦ä¹ Rustçš„å¥½èµ„æ–™ï¼Œæ–¹ä¾¿å¹³å¸¸å­¦ä¹ ä¸æŸ¥é˜…ã€‚å¤§éƒ¨åˆ†æ–‡æ¡£åœ¨å®˜ç½‘Grow with Rustä¸€èŠ‚éƒ½æœ‰åˆ—å‡ºï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯å¹³å¸¸å­¦ä¹ æ—¶æ¶‰åŠåˆ°çš„æ–‡æ¡£èµ„æ–™ã€‚The Rust Programming Languageè¿™æœ¬ä¹¦å½“ç„¶æ˜¯è¦ç¬¬ä¸€æœ¬é˜…è¯»çš„äº†ï¼Œå…¥é—¨é¦–é€‰ã€‚Rustå¯¹å•å…ƒæµ‹è¯•çš„æ”¯æŒæ˜¯éå¸¸å‹å¥½çš„ï¼Œå¯å‚è€ƒWriting Automated Testsè¿™ä¸€ç« ã€‚Rust by Exampleé€šè¿‡ä»£ç ç¤ºä¾‹...</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://g.csdnimg.cn/static/logo/favicon32.ico\"/>https://blog.csdn.net/s_lisheng/article/details/105778760?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164826295516780261980079%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164826295516780261980079&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-5-105778760.142%5Ev5%5Epc_search_result_cache,143%5Ev6%5Econtrol&amp;utm_term=rust%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF&amp;spm=1018.2226.3001.4187</span></span></a></p>\n<h2>å¤šçº¿ç¨‹</h2>\n<p>åœ¨å®˜æ–¹çš„æ•™ç¨‹æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°multi-threadçš„ç”¨å¤„å’Œå¦‚ä½•ä½¿ç”¨çº¿ç¨‹æ± ã€‚<a class=\"link-info\" href=\"https://doc.rust-lang.org/book/ch20-02-multithreaded.html\" title=\"å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹\">å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹</a>é‡Œç»™å‡ºäº†è·Ÿå¥½çš„ä¾‹å­ã€‚</p>\n<p>å½“ç„¶å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœ‰ç”Ÿäº§å¼ºåº¦çš„å¹¶è¡Œåº“ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Rayon, tokio_threadpoolç­‰ç­‰ã€‚</p>\n<h3><strong>Rayon</strong></h3>\n<p><a class=\"has-card\" href=\"https://github.com/rayon-rs/rayon\" title=\"GitHub - rayon-rs/rayon: Rayon: A data parallelism library for Rust\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - rayon-rs/rayon: Rayon: A data parallelism library for Rust</span><span class=\"link-desc\">Rayon: A data parallelism library for Rust. Contribute to rayon-rs/rayon development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\fluidicon.png\"/>https://github.com/rayon-rs/rayon</span></span></a></p>\n<h3>tokio_threadpool</h3>\n<p><a class=\"has-card\" href=\"https://github.com/gatoWololo/tokio-threadpool-0.1.18\" title=\"GitHub - gatoWololo/tokio-threadpool-0.1.18: Modified version of tokio-threadpool for Servo-rr-channel compatibility.\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - gatoWololo/tokio-threadpool-0.1.18: Modified version of tokio-threadpool for Servo-rr-channel compatibility.</span><span class=\"link-desc\">Modified version of tokio-threadpool for Servo-rr-channel compatibility. - GitHub - gatoWololo/tokio-threadpool-0.1.18: Modified version of tokio-threadpool for Servo-rr-channel compatibility.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\fluidicon.png\"/>https://github.com/gatoWololo/tokio-threadpool-0.1.18</span></span></a></p>\n<h2>å¼‚æ­¥å¤„ç†æ¡†æ¶</h2>\n<p>Rusté‡Œæœ€å¤§åé¼é¼çš„ä¸€éƒ¨æ¡†æ¶å°±æ˜¯ <a class=\"link-info\" href=\"https://github.com/tokio-rs/tokio\" title=\"Tokio\">Tokio</a>ã€‚è¿™ä¸ªæ¡†æ¶æ˜¯å¾ˆå¤šæ¡†æ¶çš„åŸºç¡€ã€‚æ¡†æ¶æœ¬èº«çš„æ–‡æ¡£è¿˜æ˜¯éå¸¸çš„è¯¦å°½ã€‚è€Œä¸”åœ¨Githubé¡¹ç›®ä»£ç ç›®å½•ï¼Œæœ‰éå¸¸è¯¦ç»†çš„å®ä¾‹ç¨‹åºã€‚æˆ‘ä»¬å¯ä»¥åœ¨ <a class=\"link-info\" href=\"https://github.com/tokio-rs/tokio/tree/master/examples\" title=\"examples\">examples</a> è¿™ä¸ªä½ç½®æ‰¾åˆ°ã€‚æˆ‘æ˜¯éå¸¸æ¨å´‡ç›´æ¥é€šè¿‡ä¾‹å­æ¥å­¦ä¹ æ¡†æ¶ã€‚</p>\n<p>å¯¹äºå¼‚æ­¥å¤„ç†æ¡†æ¶ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦ä»”ç»†äº†è§£å¼‚æ­¥æ¡†æ¶çš„åŸç†ã€‚å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹ <a class=\"link-info\" href=\"https://tokio.rs/tokio/tutorial/async\" title=\"Async in Depth\">Async in Depth</a> æ¥æ›´æ·±å…¥çš„äº†è§£Asyncçš„å®ç°åŸç†ã€‚è¿™å¯¹å¼‚æ­¥ç³»ç»Ÿçš„ç†è§£å’Œè°ƒä¼˜ç›¸å…³çš„ä»»åŠ¡ä¼šæœ‰æ¯”è¾ƒå¥½çš„å¸®åŠ©ã€‚</p>\n<h3>Tonic</h3>\n<p>Tokio æœ¬èº«æä¾›äº†ä¸€ä¸ª gRPC çš„å®ç° <a class=\"link-info\" href=\"https://github.com/hyperium/tonic\" title=\"Tonic\">Tonic</a>ã€‚ç”¨Tonicå¼€å‘å…¶å®ä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚æˆ‘è®¤ä¸ºgRPCæœ¬èº«çš„æ•ˆç‡è¿˜æ˜¯éå¸¸é«˜çš„ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥å‚ç…§è¿™ç¯‡æ–‡ç« å®ç°ä¸€ä¸ªåŸºæœ¬çš„ä¸‰å±‚åº”ç”¨åç«¯ã€‚<a class=\"has-card\" href=\"https://dev.to/steadylearner/how-to-use-grpc-with-rust-tonic-and-postgres-database-with-examples-3dl7\" title=\"How to use gRPC with Rust Tonic and Postgres database with examples - DEV Community\"><span class=\"link-card-box\"><span class=\"link-title\">How to use gRPC with Rust Tonic and Postgres database with examples - DEV Community</span><span class=\"link-desc\">In this post, we will learn how to use Rust Tonic gRPC crate and implement CRUD with Postgresql... Tagged with rust, tonic, postgres, grpc.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--E8ak4Hr1--/c_limit,f_auto,fl_progressive,q_auto,w_32/https://dev-to.s3.us-east-2.amazonaws.com/favicon.ico\"/>https://dev.to/steadylearner/how-to-use-grpc-with-rust-tonic-and-postgres-database-with-examples-3dl7</span></span></a></p>\n<p>æˆ–è€…ä½¿ç”¨tonic + sqlxæ¥å®ç°æ•°æ®åº“è¿æ¥ä¹Ÿå¯ä»¥ã€‚ </p>\n<p><a class=\"has-card\" href=\"https://github.com/rezmuh/todo-tonic-sqlx-refinery-barrel\" title=\"hhttps://github.com/rezmuh/todo-tonic-sqlx-refinery-barrelhttps://github.com/rezmuh/todo-tonic-sqlx-refinery-barrel\"><span class=\"link-card-box\"><span class=\"link-title\">hhttps://github.com/rezmuh/todo-tonic-sqlx-refinery-barrelhttps://github.com/rezmuh/todo-tonic-sqlx-refinery-barrel</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\icon-default.png\"/>https://github.com/rezmuh/todo-tonic-sqlx-refinery-barrel</span></span></a>å½“ç„¶Tonicæœ¬èº«çš„<a class=\"link-info\" href=\"https://github.com/hyperium/tonic/tree/master/examples\" title=\"examples\">examples</a>ä¹Ÿå¯ä»¥ç»™å¤§å®¶å¤§çš„å¸®åŠ©ã€‚</p>\n<h3>Tracing</h3>\n<p><a class=\"link-info\" href=\"https://github.com/tokio-rs/tracing\" title=\"Tracing\">Tracing</a>æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒç»Ÿä¸€æ—¥å¿—ä½“ç³»ã€‚ä»–çš„é‡è¦æ€§å’Œjavaé‡Œçš„log4jä¸€æ ·ã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯åŸºæœ¬çš„ä¼ä¸šåº”ç”¨çš„åŸºç¡€ä»¶ã€‚æ—¥å¿—çš„é‡è¦æ€§å¤§å®¶éƒ½çŸ¥é“å§ï¼Ÿ</p>\n<h2>æ•°æ®åº“è®¿é—®</h2>\n<p>æ•°æ®åº“çš„é‡è¦æ€§è‚¯å®šæ˜¯ä¸è¨€è€Œå–»çš„ã€‚Rustçš„æ•°æ®åº“æ”¯æŒæœ‰å“ªäº›å‘¢ï¼Ÿä¸‹é¢è¿™ä¸ªæ–‡ç« ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„ä»‹ç»ã€‚</p>\n<p><a class=\"has-card\" href=\"https://blog.logrocket.com/11-database-drivers-and-orms-for-rust-that-are-ready-for-production/\" title=\"11 database drivers and ORMs for Rust that are ready for production - LogRocket Blog\"><span class=\"link-card-box\"><span class=\"link-title\">11 database drivers and ORMs for Rust that are ready for production - LogRocket Blog</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\cropped-cropped-favicon-196x196-32x32.png\"/>https://blog.logrocket.com/11-database-drivers-and-orms-for-rust-that-are-ready-for-production/</span></span></a></p>\n<h2></h2>\n<h3>Diesel</h3>\n<p><a class=\"has-card\" href=\"https://github.com/diesel-rs/diesel\" title=\"GitHub - diesel-rs/diesel: A safe, extensible ORM and Query Builder for Rust\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - diesel-rs/diesel: A safe, extensible ORM and Query Builder for Rust</span><span class=\"link-desc\">A safe, extensible ORM and Query Builder for Rust. Contribute to diesel-rs/diesel development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\fluidicon.png\"/>https://github.com/diesel-rs/diesel</span></span></a></p>\n<h3>SQLX</h3>\n<p>SQLXæ˜¯æœ¬èº«æ˜¯ä¸€ä¸ªåŸºäºTokioçš„å¼‚æ­¥æ¡†æ¶ã€‚æ‰€ä»¥åº”è¯¥åŸºæœ¬ä¸Šå¯ä»¥å…¶ä»–çš„å¼‚æ­¥æ¡†æ¶è¿›è¡Œä½¿ç”¨ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/launchbadge/sqlx\" title=\"GitHub - launchbadge/sqlx: ğŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, SQLite, and MSSQL.\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - launchbadge/sqlx: ğŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, SQLite, and MSSQL.</span><span class=\"link-desc\">ğŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, SQLite, and MSSQL. - GitHub - launchbadge/sqlx: ğŸ§° The Rust SQL Toolkit. An async, pure Rust SQL crate featuring compile-time checked queries without a DSL. Supports PostgreSQL, MySQL, SQLite, and MSSQL.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\fluidicon.png\"/>https://github.com/launchbadge/sqlx</span></span></a></p>\n<p>SQLXçš„å¥½å¤„å°±æ˜¯æ¯”è¾ƒçº¯ç²¹ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å†™SQLæ¥å®Œæˆå·¥ä½œã€‚ä½†æ˜¯æ‰€æœ‰çš„è¯­æ³•æ£€æŸ¥ï¼Œsqlå‡†å¤‡éƒ½åœ¨ç¼–è¯‘æœŸåšå¥½äº†ã€‚åœ¨æ‰§è¡Œçš„æ—¶å€™æ•ˆç‡éå¸¸é«˜ã€‚</p>\n<h3>RBatis</h3>\n<p><a class=\"has-card\" href=\"https://github.com/rbatis/rbatis/\" title=\"GitHub - rbatis/rbatis: Rust High Performance compile-time ORM(RBSON based)\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - rbatis/rbatis: Rust High Performance compile-time ORM(RBSON based)</span><span class=\"link-desc\">Rust High Performance compile-time ORM(RBSON based) - GitHub - rbatis/rbatis: Rust High Performance compile-time ORM(RBSON based)</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/rbatis/rbatis/</span></span></a>è¿™ä¸ªåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªMyBatisçš„ Rustç‰ˆæœ¬ã€‚å…·ä½“ä¾‹å­å¯ä»¥çœ‹å®˜æ–¹çš„<a class=\"link-info\" href=\"https://github.com/rbatis/rbatis/blob/master/example\" title=\" examples\"> examples</a>ã€‚è¿™æ ·çš„è¯ä» java è½¬å‹è¿‡æ¥çš„ç¨‹åºå‘˜å°±éå¸¸é€‚åº”è¿™ç§æ•°æ®åº“è®¿é—®æ–¹å¼ã€‚</p>\n<p>æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯RBatisçš„åº•å±‚å°±æ˜¯ä½¿ç”¨äº†sqlxï¼Œæ‰€ä»¥ç›¸å¯¹æ¥è¯´ç»™sqlxæ·»åŠ äº†ä¸€ä¸ªORMå±‚ã€‚RBatisæ‰€æœ‰çš„sqlè¯­æ³•æ£€æŸ¥å‡†å¤‡ä¹Ÿéƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå®Œæˆã€‚ä¿æŒæ€§èƒ½æ–¹é¢çš„ä¼˜åŠ¿ã€‚</p>\n<p></p>\n<h2>å¾®æœåŠ¡æ¡†æ¶</h2>\n<p>ç°åœ¨å¤§å¤šæ•°çš„åç«¯åº”ç”¨è¿˜æ˜¯åœ¨ä½¿ç”¨æ— çŠ¶æ€çš„å¾®æœåŠ¡æ¡†æ¶ï¼Œç°åœ¨è¿™äº›æ¡†æ¶å·²ç»åŸºæœ¬ä¸Šæ¯”è¾ƒæˆç†Ÿã€‚æ‰€ä»¥åœ¨æœ¬äººçš„giteeé‡Œé¢forkäº†å¹¶ä¸”ç»´æŠ¤äº†ä¸€ä¸ªå›½å¤–çš„å®ç°ã€‚</p>\n<p><a class=\"has-card\" href=\"https://gitee.com/raymondshen/kanban\" title=\"kanban: ç”±äºå¯¹springæ¡†æ¶å’ŒjavaæŠ€æœ¯æ ˆçº¦æ¥çº¦ç¬¨é‡ã€‚æˆ‘ä»¬åœ¨æ‰¿æ‹…ä¸å¿…è¦çš„æˆæœ¬ã€‚æ‰€ä»¥è¯¥é¡¹ç›®å¼€å§‹è®¨è®ºå…¶ä»–çš„æ–¹æ¡ˆã€‚ç‰¹åˆ«æ˜¯é’ˆå¯¹Rest APIå®ç°çš„æ–¹æ¡ˆã€‚\"><span class=\"link-card-box\"><span class=\"link-title\">kanban: ç”±äºå¯¹springæ¡†æ¶å’ŒjavaæŠ€æœ¯æ ˆçº¦æ¥çº¦ç¬¨é‡ã€‚æˆ‘ä»¬åœ¨æ‰¿æ‹…ä¸å¿…è¦çš„æˆæœ¬ã€‚æ‰€ä»¥è¯¥é¡¹ç›®å¼€å§‹è®¨è®ºå…¶ä»–çš„æ–¹æ¡ˆã€‚ç‰¹åˆ«æ˜¯é’ˆå¯¹Rest APIå®ç°çš„æ–¹æ¡ˆã€‚</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://assets.gitee.com/assets/favicon-9007bd527d8a7851c8330e783151df58.ico\"/>https://gitee.com/raymondshen/kanban</span></span></a></p>\n<p>è¿™é‡Œé¢ä»¥å¿«æ·å¼€å‘çš„çœ‹æ¿åº”ç”¨ä¸ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ä¸åŒçš„æ¡†æ¶ã€‚å’ŒRustæœ‰å…³çš„æ˜¯å¦‚ä¸‹ä¸¤ç§ã€‚</p>\n<p>åŒæ­¥æ¡†æ¶: Diesel + Rocket</p>\n<ul><li>Directory: <a href=\"https://gitee.com/raymondshen/kanban/blob/main/diesel-rocket\" title=\"diesel-rocket\">diesel-rocket</a></li><li>Nickname: DR</li><li>Connection pool: r2d2</li><li>SQL executor: Diesel</li><li>HTTP routing: Rocket</li><li>Compiled with: Rust v1.53 (Nightly)</li></ul>\n<p>å¼‚æ­¥æ¡†æ¶: sqlx + actix-web</p>\n<ul><li>Directory: <a href=\"https://gitee.com/raymondshen/kanban/blob/main/sqlx-actix-web\" title=\"sqlx-actix-web\">sqlx-actix-web</a></li><li>Nickname: SA</li><li>Connection pool: sqlx</li><li>SQL executor: sqlx</li><li>HTTP Routing: actix-web</li><li>Compiled with: Rust v1.53 (Nightly)</li></ul>\n<p>å½“ç„¶æˆ‘éå¸¸æ¨èå¤§å®¶ä»”ç»†é˜…è¯»ä¸€ä¸‹åŸä½œè€…çš„è¯´æ˜ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/pretzelhammer/rust-blog/blob/master/posts/restful-api-in-sync-and-async-rust.md\" title=\"rust-blog/restful-api-in-sync-and-async-rust.md at master Â· pretzelhammer/rust-blog Â· GitHub\"><span class=\"link-card-box\"><span class=\"link-title\">rust-blog/restful-api-in-sync-and-async-rust.md at master Â· pretzelhammer/rust-blog Â· GitHub</span><span class=\"link-desc\">Educational blog posts for Rust beginners. Contribute to pretzelhammer/rust-blog development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/pretzelhammer/rust-blog/blob/master/posts/restful-api-in-sync-and-async-rust.md</span></span></a></p>\n<p>ä»–æ·±å…¥çš„åˆ†æäº†è¿™äº›æ¡†æ¶ä¹‹é—´çš„å¼‚åŒã€‚å¾—åˆ°äº†ä¸€ä¸ªå¹¶ä¸è®©äººæƒŠè®¶çš„ç»“è®ºï¼Œå¼‚æ­¥æ¡†æ¶ååé‡å æœ‰è€ŒåŒæ­¥ç³»ç»Ÿå»¶è¿Ÿå ä¼˜ã€‚</p>\n<p>è¿™é‡Œæˆ‘åœ¨sqlx-actix-webçš„åŸºç¡€ä¸Šæ·»åŠ äº†i18nçš„æ”¯æŒã€‚å¦‚æœæ‚¨é¢ä¸´çš„æ˜¯å›½é™…åŒ–çš„åç«¯åº”ç”¨ã€‚ä¸å¦¨å¯ä»¥çœ‹ä¸€ä¸‹ã€‚</p>\n<p>å¦‚æœå¤§å®¶å¸Œæœ›å¿«é€Ÿæœ‰ç”Ÿäº§åŠ›çš„è¯ï¼Œæˆ‘å»ºè®®å¤§å®¶åšå‡ºä¸€å®šçš„é€‰æ‹©ï¼Œç›´æ¥è·³è¿‡å¤æ‚çš„Rustè¯­è¨€ç‰¹æ€§ã€‚ç›´æ¥ä½¿ç”¨æ¡†æ¶å†™åç«¯åº”ç”¨ã€‚è¿™æ ·å­¦ä¹ çš„è¯ä¼šè¡¨æœ‰æˆæœï¼Œä¹Ÿèƒ½é¼“åŠ±äººä¸æ–­åœ¨å®è·µä¸­è¿›æ­¥ã€‚è¿™æ¯”ä¸€ä¸‹å­æ‰åˆ°è¯­è¨€ç‰¹æ€§çš„å‘é‡Œè¦å¥½å¤šäº†ã€‚</p>\n<p>å¦ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„ä¾‹å­æ˜¯åœ¨è¿™é‡Œï¼Œè€Œä¸”è¿™ä¸ªä¾‹å­å¯¹æ•°æ®ç¨‹åºçš„æ¶æ„ç»™äº†ä¸€å®šçš„ç¤ºèŒƒä½œç”¨ã€‚éå¸¸å€¼å¾—å­¦ä¹ ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/jamesjmeyer210/actix_sqlx_mysql_user_crud\" title=\"GitHub - jamesjmeyer210/actix_sqlx_mysql_user_crud: A user crud written in Rust, designed to connect to a MySQL database with full integration test coverage.\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - jamesjmeyer210/actix_sqlx_mysql_user_crud: A user crud written in Rust, designed to connect to a MySQL database with full integration test coverage.</span><span class=\"link-desc\">A user crud written in Rust, designed to connect to a MySQL database with full integration test coverage. - GitHub - jamesjmeyer210/actix_sqlx_mysql_user_crud: A user crud written in Rust, designed to connect to a MySQL database with full integration test coverage.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/jamesjmeyer210/actix_sqlx_mysql_user_crud</span></span></a></p>\n<p>æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹ï¼Œæ˜¯è¿™ä¸ªä¾‹å­å¯¹æ•°æ®åº“é“¾æ¥è¿›è¡Œäº†å¤šçº¿ç¨‹çš„å°è£…ã€‚è¿™æ ·é¿å…äº†ä¹‹å‰æ¡ˆä¾‹ä¸­çš„é—®é¢˜ã€‚è¯·å…³æ³¨ä¸‹é¢ AppState çš„åˆå§‹åŒ–æ–¹æ³•ã€‚è¿™é‡Œä¹Ÿç”¨äº† Arc::new æ¥åˆ›å»ºæ•°æ®åº“è¿æ¥çš„å¼•ç”¨è®¡æ•°ã€‚</p>\n<pre><code class=\"language-rust\">use actix_web::{web, App, HttpServer};\nuse sqlx_user_crud::config::Config;\nuse sqlx_user_crud::dao::Database;\nuse sqlx_user_crud::{controller, AppState};\nuse std::sync::{Arc, Mutex};\n\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\n    println!(\"=== SQLX User CRUD ===\");\n\n    // Read in the configuration file.\n    // In small projects this can be a local configuration, but in more sophisticated systems, it is\n    // best practice to keep the configuration file on a remote server where it can be retrieved\n    // with an http request.\n    let config_file: &amp;'static str = \"config.json\";\n    let config = Config::from_file(config_file);\n    println!(\"Using configuration file from {0}\", config_file);\n\n    // Connect to the database\n    let db_context = Database::new(&amp;config.get_database_url()).await;\n    println!(\"Connected to database: {0}\", config.get_database_url());\n\n    // Instantiate the app_state. This application state will be cloned for each Actix thread but\n    // the Arc of the DbContext will be reused in each Actix thread.\n    let app_state = web::Data::new(AppState {\n        connections: Mutex::new(0),\n        context: Arc::new(db_context),\n    });\n\n    // Start the web application.\n    // We'll need to transfer ownership of the AppState to the HttpServer via the `move`.\n    // Then we can instantiate our controllers.\n    let app = HttpServer::new(move || {\n        App::new()\n            .app_data(app_state.clone())\n            .configure(controller::init_index_controller)\n            .configure(controller::init_user_controller)\n            .configure(controller::init_group_controller)\n    })\n    .bind(config.get_app_url())?;\n    println!(\"Listening on: {0}\", config.get_app_url());\n\n    app.run().await\n}</code></pre>\n<p>å¦‚æœå¤§å®¶æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¾‹å­é‡Œæœ‰å…³ Module, Dao, Controler çš„åˆ†å±‚è€ƒè™‘ã€‚ä¼šæ¯”è¾ƒæœ‰å¯å‘ã€‚ åœ¨ä¸‹é¢ç ”å‘è‡ªåŠ¨åŒ–çš„æ—¶å€™æˆ‘ä»¬è¿˜ä¼šåœ¨ sql_reverse è¿™ä¸€èŠ‚è¿›è¡Œæ›´è¯¦ç»†çš„è¯´æ˜ã€‚</p>\n<h3>RBatis + Actix-web</h3>\n<p>rbatiså’ŒActix-webé…åˆçš„ä¾‹å­å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"language-rust\">#![allow(unused_must_use)]\n#[macro_use]\nextern crate rbatis;\n\nuse actix_web::{web, App, HttpResponse, HttpServer, Responder};\nuse std::sync::Arc;\n\nuse rbatis::crud::CRUD;\nuse rbatis::rbatis::Rbatis;\n\n#[crud_table]\n#[derive(Clone, Debug)]\npub struct BizActivity {\n    pub id: Option&lt;String&gt;,\n    pub name: Option&lt;String&gt;,\n    pub pc_link: Option&lt;String&gt;,\n    pub h5_link: Option&lt;String&gt;,\n    pub pc_banner_img: Option&lt;String&gt;,\n    pub h5_banner_img: Option&lt;String&gt;,\n    pub sort: Option&lt;String&gt;,\n    pub status: Option&lt;i32&gt;,\n    pub remark: Option&lt;String&gt;,\n    pub create_time: Option&lt;rbatis::DateTimeNative&gt;,\n    pub version: Option&lt;i32&gt;,\n    pub delete_flag: Option&lt;i32&gt;,\n}\n\nimpl Default for BizActivity {\n    fn default() -&gt; Self {\n        BizActivity {\n            id: None,\n            name: None,\n            pc_link: None,\n            h5_link: None,\n            pc_banner_img: None,\n            h5_banner_img: None,\n            sort: None,\n            status: None,\n            remark: None,\n            create_time: None,\n            version: None,\n            delete_flag: None,\n        }\n    }\n}\n\nasync fn index(rb: web::Data&lt;Arc&lt;Rbatis&gt;&gt;) -&gt; impl Responder {\n    let v = rb.fetch_list::&lt;BizActivity&gt;().await.unwrap_or_default();\n    HttpResponse::Ok()\n        .insert_header((\"Content-Type\", \"text/json;charset=UTF-8\"))\n        .json(v)\n}\n\n#[tokio::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\n    //log\n    fast_log::init(fast_log::config::Config::new().console());\n    //init rbatis . also you can use  pub static RB:Lazy&lt;Rbatis&gt; = Lazy::new(||Rbatis::new()); replace this\n    log::info!(\"linking database...\");\n    let rb = example::init_sqlite_path(\"\").await;\n    let rb = Arc::new(rb);\n    log::info!(\"linking database successful!\");\n\n    log::info!(\"start on http://127.0.0.1:8080\");\n    //router\n    HttpServer::new(move || {\n        App::new()\n            //add into actix-web data\n            .app_data(web::Data::new(rb.to_owned()))\n            .route(\"/\", web::get().to(index))\n    })\n    .bind((\"127.0.0.1\", 8080))?\n    .run()\n    .await\n}</code></pre>\n<p>è¿™é‡ŒBizActivityæœ¬èº«ä¹Ÿå¯ä»¥é€šè¿‡sql_reverse è‡ªåŠ¨ç”Ÿæˆã€‚è¯·æŸ¥çœ‹ä¸‹é¢çš„ç›¸åº”ç« èŠ‚ã€‚</p>\n<h2>Actoræ¨¡å¼</h2>\n<p>Actoræ¨¡å¼å¯ä»¥æ„å»ºæ¯”è¾ƒå¤æ‚çš„CQRSæ¨¡å¼çš„åº”ç”¨ã€‚å¹¶ä¸”å®Œæˆæ— é”æœºåˆ¶çš„åŒæ­¥ã€‚æœ€å…¸å‹çš„æ¡†æ¶æ˜¯Erlangï¼ŒAkkaç­‰è™šæ‹Ÿæœºç³»ç»Ÿã€‚åœ¨Rustè¯­è¨€ä¸Šå®ç°Actoræ¨¡å¼ï¼Œå¯¹æˆ‘ä»¬æ¥è®²è¿˜æ˜¯éå¸¸æœ‰æ„æ€çš„ã€‚</p>\n<p>æˆ‘æ¨èå¤§å®¶æ·±åº¦å…³æ³¨<a class=\"link-info\" href=\"https://weibo.com/2150275531/LllntA6Cj\" title=\"Actix\">Actix</a>ã€‚æ—©åœ¨2020å¹´ï¼ŒRustè¯­è¨€ä¹Ÿæ¶Œç°å‡ºå¾ˆå¤šä¸åŒçš„Actoræ¨¡å¼çš„å®ç°ã€‚ä½†æ˜¯å°˜å½’å°˜ï¼ŒåœŸå½’åœŸï¼Œç°åœ¨è¿˜åœ¨ç§¯æç»´æŠ¤çš„çœ‹èµ·æ¥åªæœ‰Actixäº†ã€‚å¦‚æœæœ‰å…¶ä»–çš„æœåŠ¡å®ç°ï¼Œæˆ‘è§‰å¾—å¤§å®¶ä¹Ÿå¯ä»¥ç•™è¨€æ¨èç»™æˆ‘ã€‚æˆ‘å¯¹æ­¤çš„çœ‹æ³•æ˜¯Actoræ¨¡å¼éå¸¸é€‚åˆå¤§å‹ä¼ä¸šåç«¯åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯æœ‰çŠ¶æ€çš„åº”ç”¨ã€‚è€ŒActixç°åœ¨ä¹ŸåŠ©æ¨actix-webæ¡†æ¶ï¼Œä¸»è¦è¿˜æ˜¯è€ƒè™‘ç°åœ¨å¾®æœåŠ¡æ¡†æ¶å…¥é—¨æ¯”è¾ƒå®¹æ˜“ã€‚è€Œå¤§å‹ä¼ä¸šåº”ç”¨åç«¯è¿˜æ˜¯JVMçš„å¤©ä¸‹ã€‚Actix-actoråœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯å•æœºç³»ç»Ÿï¼Œåªæ˜¯è€ƒremoteç‰¹æ€§æ‰‹å·¥ç»„å»ºé›†ç¾¤ç›¸å¯¹è¿˜æ˜¯å¯¹æ¶æ„å¸ˆè¦æ±‚å¤ªé«˜ã€‚ä½†æ˜¯ï¼Œè¿™ä¸å½±å“æˆ‘å¯¹Actoræ¨¡å¼çš„çƒ­æƒ…ã€‚è¿˜æ˜¯ä¼šä»‹ç»ä¸€ä¸‹ã€‚</p>\n<h3>æœ‰æ•ˆåˆ©ç”¨ä½¿ç”¨å¤šæ ¸CPU</h3>\n<p>åœ¨ Arbix çš„å®ç°ç¦»ï¼ŒArbiteræ˜¯ä¸€ä¸ªè°ƒåº¦å•å…ƒã€‚ä¸ºäº†èƒ½å¤Ÿæ¼”ç¤ºå¤šä¸ªArbiterçš„ä½¿ç”¨ï¼Œä¸‹é¢çš„ä»£ç æ®µè¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>\n<pre><code class=\"language-rust\">extern crate actix;\nuse actix::prelude::*;\n\nstruct Fibonacci(pub u32);\n\n\nstruct SomeActor;\n\nimpl Actor for SomeActor {\n    type Context = Context&lt;Self&gt;;\n}\n\nimpl Message for Fibonacci{\n    type Result = Result&lt;u64, ()&gt;;\n}\n\nimpl Handler&lt;Fibonacci&gt; for SomeActor {\n    type Result = Result&lt;u64, ()&gt;;\n\n    fn handle(&amp;mut self, msg: Fibonacci, context: &amp;mut Self::Context) -&gt; Self::Result {\n        println!(\"working on fib({})\", msg.0);\n    let mut sum=0;\n    if msg.0 == 0 {\n        Err(())\n    } else if msg.0 == 1 {\n        Ok(1)\n    } else {\n\n        for j in 1..1000000 {\n            let mut i = 0;\n            sum = 0;\n            let mut last = 0;\n            let mut curr = 1;\n            while i &lt; msg.0 - 1 {\n                sum = last + curr;\n                last = curr;\n                curr = sum;\n                i += 1;\n            }\n        }\n        Ok(sum)\n    }\n}\n}\n\nfn main() {\nlet sys = System::new();\n\nlet a1 = Arbiter::new();\nlet a2 = Arbiter::new();\nlet a3 = Arbiter::new();\n\nlet execution1 = async {\n    println!(\"exec 1 created\");\n    let sa = SomeActor {}.start();\n    for n in 2..80 {\n        sa.do_send(Fibonacci(n));\n    }\n};\n\nlet execution2 = async {\n    println!(\"exec 2 created\");\n    let sa = SomeActor {}.start();\n    for n in 2..80 {\n        sa.do_send(Fibonacci(n));\n    }\n};\n\nlet execution3 = async {\n    println!(\"exec 3 created\");\n    let sa = SomeActor {}.start();\n    for n in 2..80 {\n        sa.do_send(Fibonacci(n));\n    }\n};\n\n\na1.spawn(execution1);\na2.spawn(execution2);\na3.spawn(execution3);\n\nsys.run();\n}</code></pre>\n<h3>websocket-chat-server</h3>\n<p><a class=\"has-card\" href=\"https://github.com/actix/examples/tree/master/websockets/chat-broker\" title=\"examples/websockets/chat-broker at master Â· actix/examples Â· GitHub\"><span class=\"link-card-box\"><span class=\"link-title\">examples/websockets/chat-broker at master Â· actix/examples Â· GitHub</span><span class=\"link-desc\">Community showcase and examples of Actix ecosystem usage. - examples/websockets/chat-broker at master Â· actix/examples</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/actix/examples/tree/master/websockets/chat-broker</span></span></a>è¿™ä¸ªä¾‹å­ä¹‹æ‰€ä»¥é‡è¦ï¼Œä¸»è¦æ˜¯ä»–æ˜¯Actixæ¡†æ¶ä½æ•°ä¸å¤šçš„æ¥è¿‘å®æˆ˜çš„å®˜æ–¹ç¤ºä¾‹ã€‚è€Œè¿™ä¸ªä¾‹å­å¾ˆå¥½çš„æ¼”ç¤ºäº† WebSocket Session, Actor, Arbiter, SystemService, Superviedä¹‹é—´çš„é…åˆã€‚å ªç§°éš¾èƒ½å¯è´µã€‚è¿™ä¹Ÿä½“ç°äº†Artixæ¡†æ¶è®¾è®¡çš„ç²¾å¦™ã€‚</p>\n<p>ä¸‹é¢æ˜¯æˆ‘ä»¬èŠ‚é€‰ä¸€ä¸‹main.rsé‡Œçš„ä»£ç ã€‚</p>\n<pre><code class=\"language-rust\">use actix_files::{Files, NamedFile};\nuse actix_web::{middleware::Logger, web, App, Error, HttpRequest, HttpServer, Responder};\nuse actix_web_actors::ws;\n\nmod message;\nmod server;\nmod session;\n\nuse session::WsChatSession;\n\nasync fn index() -&gt; impl Responder {\n    NamedFile::open_async(\"./static/index.html\").await.unwrap()\n}\n\nasync fn chat_ws(req: HttpRequest, stream: web::Payload) -&gt; Result&lt;impl Responder, Error&gt; {\n    ws::start(WsChatSession::default(), &amp;req, stream)\n}\n\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\n    env_logger::init_from_env(env_logger::Env::new().default_filter_or(\"info\"));\n\n    log::info!(\"starting HTTP server at http://localhost:8080\");\n\n    HttpServer::new(move || {\n        App::new()\n            .service(web::resource(\"/\").to(index))\n            .service(web::resource(\"/ws\").to(chat_ws))\n            .service(Files::new(\"/static\", \"./static\"))\n            .wrap(Logger::default())\n    })\n    .workers(2)\n    .bind((\"127.0.0.1\", 8080))?\n    .run()\n    .await\n}\n</code></pre>\n<p>å¤§å®¶å¯ä»¥æ³¨æ„ä»£ç ä¸­ workers(2) è¿™ä¸ªè°ƒç”¨ã€‚ç”±äºSessionæœ¬èº«å°±æ˜¯Actorï¼Œæ‰€ä»¥ï¼Œå¤šå°‘ä¸ª worker ä¹Ÿå°±å¯åŠ¨äº†å¤šå°‘ä¸ª Arbiterã€‚</p>\n<p>é€šè¿‡lldbæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªArbiterçš„å­˜åœ¨ã€‚</p>\n<pre><code class=\"language-bash\">chat-broker % lldb ../../target/debug/server \n(lldb) target create \"../../target/debug/server\"\nCurrent executable set to '/Users/raymond/src/rust/examples/target/debug/server' (arm64).\n(lldb) run\nProcess 5532 launched: '/Users/raymond/src/rust/examples/target/debug/server' (arm64)\n[2022-03-27T06:36:51Z INFO  server] starting HTTP server at http://localhost:8080\n[2022-03-27T06:36:51Z INFO  actix_server::builder] Starting 2 workers\n[2022-03-27T06:36:51Z INFO  actix_server::server] Actix runtime found; starting in Actix runtime\nProcess 5532 stopped\n* thread #1, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP\n    frame #0: 0x00000001af84ac40 libsystem_kernel.dylib`kevent + 8\nlibsystem_kernel.dylib`kevent:\n-&gt;  0x1af84ac40 &lt;+8&gt;:  b.lo   0x1af84ac60               ; &lt;+40&gt;\n    0x1af84ac44 &lt;+12&gt;: pacibsp \n    0x1af84ac48 &lt;+16&gt;: stp    x29, x30, [sp, #-0x10]!\n    0x1af84ac4c &lt;+20&gt;: mov    x29, sp\nTarget 0: (server) stopped.\n(lldb) thread list\nProcess 5532 stopped\n* thread #1: tid = 0xfd860a, 0x00000001af84ac40 libsystem_kernel.dylib`kevent + 8, queue = 'com.apple.main-thread', stop reason = signal SIGSTOP\n  thread #2: tid = 0xfd864f, 0x00000001af84ac40 libsystem_kernel.dylib`kevent + 8, name = 'actix-rt|system:0|arbiter:0'\n  thread #3: tid = 0xfd8650, 0x00000001af84ac40 libsystem_kernel.dylib`kevent + 8, name = 'actix-rt|system:0|arbiter:1'\n  thread #4: tid = 0xfd8651, 0x00000001af84ac40 libsystem_kernel.dylib`kevent + 8, name = 'actix-server acceptor'\n(lldb) </code></pre>\n<p>å°±æ­¤ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€äº›Actixçš„ä¸€äº›å†…éƒ¨æœºåˆ¶ã€‚ä½†æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹æ³•è¿˜æ˜¯æºä»£ç ã€‚è¿™é‡Œä¸å†è¯¦è¿°ã€‚</p>\n<p>ä½¿ç”¨websocket-chat-server,è¿›è¡Œæ‰©å……ï¼Œæ§åˆ¶å¥½çº¿ç¨‹æ¨¡å‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¾—åˆ°ä¸€ä¸ªæ•ˆç‡è¿˜ä¸é”™çš„è¡Œæƒ…åˆ†å‘ç³»ç»Ÿã€‚è¿™ä»¥åæˆ‘ä»¬ä¼šå°è¯•ï¼Œå¹¶ä¸”å’Œgoè¯­è¨€çš„å®ç°è¿›è¡Œå¯¹æ¯”ã€‚ </p>\n<h3>actix-web-prometheus</h3>\n<p><a class=\"has-card\" href=\"https://github.com/atomix-team/actix-web-prometheus\" title=\"GitHub - atomix-team/actix-web-prometheus: Prometheus middleware for actix web\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - atomix-team/actix-web-prometheus: Prometheus middleware for actix web</span><span class=\"link-desc\">Prometheus middleware for actix web. Contribute to atomix-team/actix-web-prometheus development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/atomix-team/actix-web-prometheus</span></span></a>è¿™ä¸ªé¡¹ç›®æ˜¯ç”¨äº†æœ€ä¸ºæµè¡Œçš„ tikv/rust-prometheusè¿›è¡Œäº†é’ˆå¯¹Actixçš„é€‚é…ã€‚å¾ˆå€¼å¾—å°è¯•ã€‚ä½¿ç”¨æ–¹æ³•ç¡®å®ä¹Ÿä¸å›°éš¾ã€‚æœ¬èº«é¡¹ç›®ä»£ç ä¹Ÿä¸å¤šï¼Œæœ‰é—®é¢˜è‡ªå·±åŠ¨æ‰‹æ”¹å§ã€‚å“ˆå“ˆ</p>\n<pre><code class=\"language-rust\">use std::collections::HashMap;\nuse actix_web::{web, App, HttpResponse, HttpServer};\nuse actix_web_prometheus::{PrometheusMetrics, PrometheusMetricsBuilder};\nfn health() -&gt; HttpResponse {\n    HttpResponse::Ok().finish()\n}\n#[actix_web::main]\nasync fn main() -&gt; std::io::Result&lt;()&gt; {\n    let mut labels = HashMap::new();\n    labels.insert(\"label1\".to_string(), \"value1\".to_string());\n    let prometheus = PrometheusMetricsBuilder::new(\"api\")\n        .endpoint(\"/metrics\")\n        .const_labels(labels)\n        .build()\n        .unwrap();\n        HttpServer::new(move || {\n            App::new()\n                .wrap(prometheus.clone())\n                .service(web::resource(\"/health\").to(health))\n        })\n        .bind(\"127.0.0.1:8080\")?\n        .run()\n        .await?;\n    Ok(())\n}</code></pre>\n<h2> ç ”å‘è‡ªåŠ¨åŒ–</h2>\n<h3>sql_reverse</h3>\n<p>å¯¹äºSqlx,å…¶å®æ²¡æœ‰ç»™å‡ºæ¯”è¾ƒå®Œå–„çš„ORMèƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨sql_reverseæ¥å¸®åŠ©æˆ‘ä»¬ã€‚å¤§å®¶å¯ä»¥æ‰¾åˆ°è¿™ä¸ªé¡¹ç›®ã€‚ä»–éå¸¸æ–°ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/ptechen/sql_reverse\" title=\"GitHub - ptechen/sql_reverse\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - ptechen/sql_reverse</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\icon-default.png\"/>https://github.com/ptechen/sql_reverse</span></span></a>æˆ‘ä»¬ä¸ºsqlxçš„modelä»£ç ç”Ÿæˆå†™äº†ä¸“é—¨çš„template:</p>\n<pre><code class=\"language-rust\">use serde::{Deserialize, Serialize};\nuse sqlx::mysql::MySqlRow;\nuse sqlx::{FromRow, Row};\n\n{% if table.comment -%}\n\t/// {<!-- -->{ table.comment }}\n{% endif -%}\n{% for index in table.index_key -%}\n    /// ç´¢å¼•ï¼š{<!-- -->{index}}\n{% endfor -%}\n\n\n#[derive(Serialize, Deserialize, PartialEq, Clone)]\npub struct {<!-- -->{ table.struct_name }} {\n{%- for v in table.fields %}\n\t{% if v.comment -%}\n\t    /// {<!-- -->{ v.comment }} {% if v.database_field_type %} field_type: {<!-- -->{ v.database_field_type }}{% endif %}{% if v.default %} default: {<!-- -->{ v.default }}{% endif %} {% if v.default == '' %} default: ''{% endif %}\n\t{% endif -%}\n\t{% if v.is_null == 1 -%}\n    \tpub {<!-- -->{ v.field_name }}: Option&lt;{<!-- -->{ v.field_type }}&gt;,\n    {%- else -%}\n        {% if v.field_type == 'NaiveDateTime' -%}\n            pub {<!-- -->{ v.field_name }}: Option&lt;{<!-- -->{ v.field_type }}&gt;,\n        {%- else -%}\n            pub {<!-- -->{ v.field_name }}: {<!-- -->{ v.field_type }},\n        {%- endif -%}\n    {%- endif -%}\n{%- endfor %}\n}\n\nimpl&lt;'c&gt; FromRow&lt;'c, MySqlRow&lt;'c&gt;&gt; for {<!-- -->{ table.struct_name }} {\n    fn from_row(row: &amp;MySqlRow) -&gt; Result&lt;Self, sqlx::Error&gt; {\n        Ok({<!-- -->{ table.struct_name }} {\n{%- for v in table.fields %}\n            {<!-- -->{ v.field_name }}: row.get( {<!-- -->{ loop.index0 }} ),\n{%- endfor %}        \n        })\n    }\n}\n</code></pre>\n<p>å¤§å®¶å¯ä»¥ä¸€è¯•ã€‚</p>\n<h3>Tera</h3>\n<p>è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ•ˆçš„æ¨¡ç‰ˆå¼•æ“ã€‚å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšä»£ç ç”Ÿæˆã€‚ä¹Ÿæ˜¯sql_reverseçš„åç«¯å¼•æ“ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/Keats/tera\" title=\"GitHub - Keats/tera: A template engine for Rust based on Jinja2/Django\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - Keats/tera: A template engine for Rust based on Jinja2/Django</span><span class=\"link-desc\">A template engine for Rust based on Jinja2/Django. Contribute to Keats/tera development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/Keats/tera</span></span></a></p>\n<h2>audit</h2>\n<p>rusté¡¹ç›®çš„ä»£ç å®‰å…¨å®¡è®¡å¯ä»¥é€šè¿‡ cargo audit è¿›è¡Œå®¡è®¡ã€‚è¿™é‡Œæ˜¯å…¬å¼€çš„ruståº“çš„å®‰å…¨å»ºè®®åˆ—åº“ã€‚è¿™ä¸ªå»ºè®®åº“è¿˜æ˜¯å¾—åˆ°äº†å¾ˆå¥½çš„ç»´æŠ¤ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/RustSec/advisory-db\" title=\"GitHub - rustsec/advisory-db: Security advisory database for Rust crates published through crates.io\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - rustsec/advisory-db: Security advisory database for Rust crates published through crates.io</span><span class=\"link-desc\">Security advisory database for Rust crates published through crates.io - GitHub - rustsec/advisory-db: Security advisory database for Rust crates published through crates.io</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/RustSec/advisory-db</span></span></a></p>\n<p>å¦‚ä½•å®‰è£…å’Œä½¿ç”¨ cargo auditï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªæ–‡æ¡£ï¼š</p>\n<p><a href=\"https://github.com/RustSec/rustsec/tree/main/cargo-audit\" title=\"rustsec/cargo-audit at main Â· rustsec/rustsec Â· GitHub\">rustsec/cargo-audit at main Â· rustsec/rustsec Â· GitHub</a></p>\n<p>ä¸‹é¢æ˜¯æˆ‘ä»¬é’ˆå¯¹actix-netè¿›è¡Œå®¡è®¡çš„ç»“æœã€‚å‘ç°äº†ä¸€ä¸ªå·²ç»ä¸è¢«ç»´æŠ¤çš„åº“ã€‚</p>\n<pre><code class=\"language-bash\">~/rust/actix-net\ncargo audit\n    Fetching advisory database from `https://github.com/RustSec/advisory-db.git`\n      Loaded 421 security advisories (from /Users/user1/.cargo/advisory-db)\n    Updating crates.io index\n    Scanning Cargo.lock for vulnerabilities (214 crate dependencies)\nCrate:     serde_cbor\nVersion:   0.11.2\nWarning:   unmaintained\nTitle:     serde_cbor is unmaintained\nDate:      2021-08-15\nID:        RUSTSEC-2021-0127\nURL:       https://rustsec.org/advisories/RUSTSEC-2021-0127\nDependency tree:\nserde_cbor 0.11.2\nâ””â”€â”€ criterion 0.3.5\n    â””â”€â”€ actix-codec 0.5.1\n        â”œâ”€â”€ actix-tls 3.0.4\n        â””â”€â”€ actix-server 2.1.1\n            â””â”€â”€ actix-tls 3.0.4\n\nwarning: 1 allowed warning found</code></pre>\n<p></p>\n<h2>é›†ç¾¤ï¼ŒRaftï¼ŒGossipå’Œå…¶ä»–</h2>\n<p>é€‰æ‹©ä½¿ç”¨Raftçš„åŒå­¦ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šéƒ½ä¼šè€ƒè™‘æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„å…³é”®åº”ç”¨ã€‚è€Œå…³é”®åº”ç”¨é™¤äº†å¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜ä»¥å¤–ï¼Œè¿˜ä¼šè€ƒè™‘ç¨³å®šæ€§ã€‚é€šè¿‡é›†ç¾¤çš„é…ç½®æé«˜å¯ç”¨æ€§æ˜¯ä¸€ä¸ªéå¸¸å…³é”®çš„æŠ€æœ¯ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¼šå¯¹é›†ç¾¤è¿›è¡Œè¿›ä¸€æ­¥çš„è®¨è®ºæ¢ç´¢ã€‚</p>\n<h3>Actixé›†ç¾¤</h3>\n<p>è¿™æ˜¯ä¸€ä¸ªå®éªŒé¡¹ç›®ï¼Œæˆ‘ä»¬æš‚æ—¶è¿˜æ²¡æœ‰æ·±å…¥ç ”ç©¶ã€‚ä½†æ˜¯å¦‚æœçœŸçš„èƒ½è¾¾åˆ°Akkaé›†ç¾¤çš„æ°´å¹³ï¼Œæˆ‘ä»¬è¿˜æ˜¯éå¸¸æœŸå¾…çš„ã€‚ä¸ºäº†è¿™ä¸ªç†æƒ³ï¼Œå¤§å®¶ä¹Ÿå»ç»™äººç‚¹ä¸ªæ˜Ÿæ˜Ÿï¼Œé¼“åŠ±ä¸€ä¸‹å‘—ã€‚</p>\n<p><a class=\"has-card\" href=\"https://github.com/pengwin/actix-raft-cluster\" title=\"GitHub - pengwin/actix-raft-cluster\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - pengwin/actix-raft-cluster</span><span class=\"link-desc\">Contribute to pengwin/actix-raft-cluster development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://github.com/fluidicon.png\"/>https://github.com/pengwin/actix-raft-cluster</span></span></a></p>\n<p>å¦å¤–ä¸€ä¸ªå®éªŒé¡¹ç›®æ˜¯ actix_telepathyã€‚ä½œè€… <a class=\"link-info\" href=\"https://hpi.de/naumann/people/phillip-wenig.html\" title=\"Phillip Wenig\">Phillip Wenig</a> æ˜¯Hasso Plattner Instituteçš„è½¯ä»¶ç³»ç»Ÿä¸“ä¸šçš„åšå£«ç”Ÿã€‚æœ‰é—®é¢˜å¯ä»¥å‘ä»–å’¨è¯¢ã€‚ç¥æ„¿è¿™ä¸ªé¡¹ç›®è¶Šæ¥è¶Šå¥½ã€‚è¿™æ ·æˆ‘ä»¬å°±æœ‰åŸºäºRustçš„Actoré›†ç¾¤å¯ç”¨äº†ã€‚</p>\n<p><a class=\"has-card\" href=\"https://docs.rs/actix-telepathy/latest/actix_telepathy/\" title=\"actix_telepathy - Rust\"><span class=\"link-card-box\"><span class=\"link-title\">actix_telepathy - Rust</span><span class=\"link-desc\">Actix-Telepathy is an extension to Actix that enables remote messaging and clustering support.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\favicon-16x16-20220703-1.64.0-nightly-495b21669.png\"/>https://docs.rs/actix-telepathy/latest/actix_telepathy/</span></span></a>è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­å¯ä»¥çŸ¥é“é¡¹ç›®å¦‚ä½•è¿ä½œã€‚ </p>\n<p><a href=\"https://github.com/wenig/telepathy-examples\" title=\"https://github.com/wenig/telepathy-examples\">https://github.com/wenig/telepathy-examples</a></p>\n<h3>Raft</h3>\n<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å™è¿°äº†å¦‚ä½•ä½¿ç”¨Raftæ¥å®ç°é«˜å¯ç”¨çš„é«˜æ€§èƒ½æ’®åˆå¼•æ“ã€‚æœ‰å…´è¶£çš„æ¶æ„è®¾è®¡å¸ˆï¼Œè½¯ä»¶è®¾è®¡å¸ˆåŒå­¦æˆ‘ä»¬å¯ä»¥ä¸€èµ·æ¢è®¨ã€‚åŸå­å¤šæ’­æ˜¯æ’®åˆå¼•æ“çš„æ­£è§£ï¼Œå½“å‰å›½é™…ä¸Šæ¯”è¾ƒæœ‰åçš„é‡‘èäº¤æ˜“æ‰€éƒ½æ˜¯å»¶ç»­è¿™ä¸ªè®¾è®¡æ–¹æ³•ã€‚æˆ‘ä»¬æœ‰å¹¸é€šè¿‡å¼€æºé¡¹ç›®ä½æˆæœ¬å®ç°æºè‡ªå¤šæ’­çš„æ’®åˆå¼•æ“ï¼Œä¹Ÿè¯´æ˜å¼€æºé¡¹ç›®çš„ä¸æ–­å‘å±•ã€‚</p>\n<p><a href=\"https://blog.csdn.net/weixin_41308834/article/details/124375789\" title=\"Raft in Rust (åŸå­å¤šæ’­+æ’®åˆå¼•æ“ï¼‰_Raymond-Shençš„åšå®¢-CSDNåšå®¢\">Raft in Rust (åŸå­å¤šæ’­+æ’®åˆå¼•æ“ï¼‰_Raymond-Shençš„åšå®¢-CSDNåšå®¢</a></p>\n<h2>å‚è€ƒèµ„æ–™ï¼š</h2>\n<p><a href=\"https://speakerdeck.com/lukemathwalker/writing-enterprise-software-a-rust-experiment\" title=\"https://speakerdeck.com/lukemathwalker/writing-enterprise-software-a-rust-experiment\">https://speakerdeck.com/lukemathwalker/writing-enterprise-software-a-rust-experiment</a></p>\n<p><a href=\"https://github.com/pretzelhammer/rust-blog/blob/master/posts/restful-api-in-sync-and-async-rust.md\" title=\"rust-blog/restful-api-in-sync-and-async-rust.md at master Â· pretzelhammer/rust-blog Â· GitHub\">rust-blog/restful-api-in-sync-and-async-rust.md at master Â· pretzelhammer/rust-blog Â· GitHub</a></p>\n</div>\n</div>"}