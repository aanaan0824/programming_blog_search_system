{"blogid": "122937350", "writerAge": "码龄7年", "writerBlogNum": "45", "writerCollect": "717", "writerComment": "30", "writerFan": "171", "writerGrade": "5级", "writerIntegral": "1647", "writerName": "诸葛钢铁云", "writerProfileAdress": "writer_image\\profile_122937350.jpg", "writerRankTotal": "13319", "writerRankWeekly": "115772", "writerThumb": "60", "writerVisitNum": "141184", "blog_read_count": "13818", "blog_time": "于 2022-02-15 10:19:13 发布", "blog_title": "109 个实用 shell 脚本", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>Shell脚本,就是利用Shell的命令解释的功能，对一个纯文本的文件进行解析，然后执行这些功能，也可以说Shell脚本就是一系列命令的集合。</p>\n<p>Shell可以直接使用在win/Unix/Linux上面，并且可以调用大量系统内部的功能来解释执行程序，如果熟练掌握Shell脚本，可以让我们操作计算机变得更加轻松，也会节省很多时间。</p>\n<p>本篇文档整理了来自网络的<strong>109个shell脚本</strong>，希望对大家有所帮助。<strong>代码清晰可复制，电子版有利于大家随时练习，提升实战能力，是融汇了Shell脚本所有核心知识点的集大成之作，是学习、提升、面试的必备精品</strong>，建议大家收藏保存起来。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\11ce7bc4b28c32b3b506c7b211a084e0.png\"/></p>\n<p></p>\n<p>【文档领取见文末】</p>\n<p>【文档领取见文末】</p>\n<p></p>\n<ul><li> <p>1.Dos 攻击防范（自动屏蔽攻击IP）</p> </li><li> <p>2.Linux 系统发送告警脚本</p> </li><li> <p>3.MySQL 数据库备份单循环</p> </li><li> <p>4.MySQL 数据库备份多循环</p> </li><li> <p>5.Nginx 访问访问日志按天切割</p> </li><li> <p>6.Nginx访问日志分析脚本</p> </li><li> <p>7.查看网卡实时流量脚本</p> </li><li> <p>8.服务器系统配置初始化脚本</p> </li><li> <p>9.监控 100 台服务器磁盘利用率脚本</p> </li><li> <p>10.并发从数台机器中获取 hostname，并记录返回信息花费的时长，重定向到一个文件 hostname.txt中，在全部完成后输出花费时长最短的那台机器的 CPU 信息。</p> </li></ul>\n<p></p>\n<p></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\ce7769617e032e97ea3cbc356e62f286.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\059ec472cb6dc1a9bd46b44ea52fbc50.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\9077e9901680790750090f541ebc19c6.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\6d2157128ebe43efe59a5c5eeac07872.png\"/></p>\n<p>上下滚动查看更多</p>\n<p></p>\n<p></p>\n<ul><li> <p>11.统计/proc 目类下Linux进程相关数量信息，输出总进程数，runninq 进程数，stoped 进程数，sleeing进程数，zo mbie 进程数。</p> </li><li> <p>12.把当前目录（包含子目录）下所有后缀为\".sh\"的文件后缀变更为\".shell\"，之后删除每个文件的第二行。</p> </li><li> <p>13.判断目录/tmp/jstack是否存在，不存在则新建一个目录若存在则删除目录下所有内容。</p> </li><li> <p>14.从 test.loq中截取当天的所有gc 信息日志，并统计 gc 时间的平均值和时长最长的时间。</p> </li><li> <p>15.查找80端口请求数最高的前 20个IP地址，判断中间最小的请求数是否大于 500，如大于 500，则输出系统活动情况报告到 alert.txt，如果没有，则在 600s后重试，直到有输出为止。</p> </li><li> <p>16.将当前目录下大于10K的文件转移到/tmp 目录，再按照文件大小顺序，从大到小输出文件名。</p> </li><li> <p>17.企业微信告警</p> </li><li> <p>18.FTP客户端</p> </li><li> <p>19.SSH客户端</p> </li><li> <p>20.Saltstack 客户端</p> </li></ul>\n<p></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\702799be34cafde39445dc811c65d9e8.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\386a2e4720c16748cd192b639b562846.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\2554add039f9ee0859c13a917a9b40f7.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\f51ebcdb83e4ba62c425aa4ce97f27a0.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\efc4c5afe710c0695c77c0120641b8c6.png\"/></p>\n<p>上下滚动查看更多</p>\n<p></p>\n<p></p>\n<p></p>\n<ul><li> <p>21.vCenter 客户端</p> </li><li> <p>22.获取域名ssl 证书过期时间</p> </li><li> <p>23.发送今天的天气预报以及未来的天气超势图</p> </li><li> <p>24.SVN 完整备份</p> </li><li> <p>25.zabbix 监控用户密码过期</p> </li><li> <p>26.构建本地YUM</p> </li><li> <p>27.备份当前日期文件</p> </li><li> <p>28.DOS攻击防范（自动屏蔽攻击IP）</p> </li><li> <p>29.批量创建多少个用户并设置密码</p> </li><li> <p>30.快速在Ubuntu 20.04上架设LAMP服务器及WordPress 博客</p> </li></ul>\n<p></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\136f2bcbfe69b5cf29f73a218e1abc5a.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\5c351a5332a2dd76d41cfbc302b300ea.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\a08f25e24ea4deeb1f3b715b6bdfcf59.png\"/></p>\n<p>上下滚动查看更多</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<ul><li> <p>31.每天自动备份 MySQL 数据库</p> </li><li> <p>32.MySQL 数据库备份单循环</p> </li><li> <p>33.MySQL 数据库备份多循环</p> </li><li> <p>34.Nginx日志按要求切割</p> </li><li> <p>35.生成10个随机数保存于数组中并找出其最大值和最小值</p> </li><li> <p>36.查看网卡实时流量</p> </li><li> <p>37.服务器系统配置初始化</p> </li><li> <p>38.批量创建多个用户并设置密码</p> </li><li> <p>39.一键查看服务器利用率</p> </li><li> <p>40.找出占用CPU 内存过高的进程</p> </li></ul>\n<p></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\728baa0ddee4355d565c36d3b29a54bd.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\9b6db60afbcae97059bcc023ebadadd1.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\0ceaa9aeb11e6afb5f7b44eeb5f287f1.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\c2723342a534fab9b0a5410a06623bd2.png\"/></p>\n<p>上下滚动查看更多</p>\n<p></p>\n<p></p>\n<p></p>\n<ul><li> <p>41.查看网卡的实时流量</p> </li><li> <p>42.监控多台服务器磁盘利用率脚本</p> </li><li> <p>43.批量检测网站是否异常并邮队件通知</p> </li><li> <p>44.批量主机远程执行命令脚本</p> </li><li> <p>45.一键部署LNMP网站平台脚本</p> </li><li> <p>46.监控MySQL主从同步状态是否异常脚本</p> </li><li> <p>47.MySgl数据库备份脚本</p> </li><li> <p>48.Nginx访问日志分析</p> </li><li> <p>49.Nginx访问日志自动按天（周、月）切割</p> </li><li> <p>50.自动发布Java项目（Tomcat）</p> </li></ul>\n<p></p>\n<p></p>\n<p></p>\n<ul><li> <p>50.自动发布Java项目（Tomcat）</p> </li></ul>\n<p></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\acba006f950bf73665cc706903d735b9.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\39c064cb94b1ef3b7797b5942c406834.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\7ac014d011aa50c6547d58a0708338b7.png\"/></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\4eaa183a4d85eb628c5f5b586a0c954e.png\"/></p>\n<p>上下滚动查看更多</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<ul><li> <p>51.自动发布PHP项目</p> </li></ul>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\8531bbe6623ba60ae808717b7c9b2119.png\"/></p>\n<p>上下滚动查看更多</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<ul><li> <p>51.自动发布PHP项目</p> </li><li> <p>52.DOS攻击防范（自动屏蔽攻击IP）53.目录入侵检测与告警</p> </li><li> <p>54.本地选择脚本auto build.sh</p> </li><li> <p>55.服务器编译脚本 build.sh首先第一个使用的就是{$#}和（$@）其次使用了字符串截取的操作</p> </li><li> <p>56.本地expect登陆拷贝scp exec.sh脚本</p> </li><li> <p>57.检测两台服务器指定目录下的文件—致性</p> </li><li> <p>58.定时清空文件内容，定时记录文件大小</p> </li><li> <p>59.检测网卡流量，并按规定格式记录在日志中</p> </li><li> <p>60.计算文档每行出现的数字个数，并计算整个文档的数字总数</p> </li><li> <p>61.从FTP服务器下载文件</p> </li><li> <p>62.连续输入5个100以内的数字，统计和、最小和最大</p> </li><li> <p>63.监测 Nginx 访问日志 502情况，并做相应动作</p> </li><li> <p>64.将结果分别赋值给变量</p> </li><li> <p>65.批量修改文件名</p> </li><li> <p>66.统计当前目录中以html结尾的文件总大小</p> </li><li> <p>67.扫描主机端口状态</p> </li><li> <p>68.输入数字运行相应命令</p> </li><li> <p>69.Expect 实现 SSH 免交互执行命令</p> </li><li> <p>70.监控 httpd 的进程数，根据监控情况做相应处理</p> </li><li> <p>71.批量修改服务器用户密码</p> </li><li> <p>72.iptables 自动屏蔽访问网站频须繁的IP</p> </li><li> <p>73.根据web访问日志，封禁请求量异常的IP，如IP在半小时后恢复正常，则解除封禁</p> </li><li> <p>74.判断用户输入的是否为IP地址</p> </li><li> <p>76.轮询检测Apache状态并启用钉钉报警</p> </li><li> <p>77.一台监控主机，一台被监控主机。被监控主机分区使用率大于80%，就发告警部邮件。放到crontab里面，每10分钟执行一次。</p> </li><li> <p>78.监控主机的磁盘空间，当使用空间超过90%就通过发mail 来发警告</p> </li><li> <p>79.自动ftp上传</p> </li><li> <p>80.mysqlbak.sh备份数据库目录脚本</p> </li><li> <p>81.打印彩虹</p> </li><li> <p>82.打印菱形</p> </li><li> <p>83.expect实现远程登陆自动交互</p> </li><li> <p>84.http心跳检测</p> </li><li> <p>85.PV过量自动实现防火墙封IP</p> </li><li> <p>86.shellI实现自动安装</p> </li><li> <p>87.shell实现插入排序</p> </li><li> <p>88.bash实现动态进度条</p> </li><li> <p>89.根据文件内容创建账号</p> </li><li> <p>90. 红色进度条</p> </li><li> <p>91.监控服务器网卡流量</p> </li><li> <p>92.检测CPU剩余百分比</p> </li><li> <p>93.检测磁盘剩余空间</p> </li><li> <p>94.bash-实现检测apache状态并钉钉报警</p> </li><li> <p>95.内存检测</p> </li><li> <p>96.剩余inode检测</p> </li><li> <p>97.判断哪些用户登陆了系统</p> </li><li> <p>98.批量创建账号</p> </li><li> <p>99.批量扫面存活</p> </li><li> <p>100.正则匹配IP</p> </li><li> <p>101.正则匹配邮箱</p> </li><li> <p>102.实现布片效果</p> </li><li> <p>103.剔除白名单以外的用户</p> </li><li> <p>104.一键安装 MongoDB 数据库脚本</p> </li><li> <p>105.使用mobaXtrem显示CentOS上的图形工具</p> </li><li> <p>106.一键申请多个证书 shell 脚本</p> </li><li> <p>107.基于CentOS一键编译安装Redis脚本</p> </li><li> <p>108.基于CentOS一键安装tomcat脚本</p> </li><li> <p>109.一键证书申请和颁发脚本</p> </li></ul>\n</div>\n</div>"}