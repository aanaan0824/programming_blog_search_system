{"blogid": "123676269", "writerAge": "ç é¾„8å¹´", "writerBlogNum": "1", "writerCollect": "1", "writerComment": "0", "writerFan": "1", "writerGrade": "1çº§", "writerIntegral": "12", "writerName": "è¶…å‡¡Cf", "writerProfileAdress": "writer_image\\profile_123676269.jpg", "writerRankTotal": "250131", "writerRankWeekly": "1266576", "writerThumb": "1", "writerVisitNum": "1491", "blog_read_count": "1490", "blog_time": "äºÂ 2022-03-23 07:31:57Â å‘å¸ƒ", "blog_title": "t.cnçŸ­é“¾æ¥æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Ÿ", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night-eighties\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"tcn_0\"></a>ã€åˆ†äº«ã€‘t.cnçŸ­é“¾æ¥æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Ÿ</h2>\n<p>æ–°æµªçŸ­ç½‘å€APIæ˜¯æ–°æµªå¯¹å¤–å…¬å¼€çš„http://t.cnçŸ­ç½‘å€ç”Ÿæˆæ¥å£ï¼Œå¯ä»¥å°†é•¿ç½‘å€ç¼©çŸ­ç”Ÿæˆ http://t.cn/xxxx æ ¼å¼çš„çŸ­ç½‘å€ï¼Œç›®å‰ç½‘ä¸Šæœ‰å¾ˆå¤šç›¸å…³çš„æ¥å£ï¼Œå¤§å¤šæ•°éƒ½ä¸èƒ½ç”¨ï¼Œè€Œä¸”æ‰¾èµ·æ¥ä¹Ÿéº»çƒ¦ï¼Œåˆ†äº«ä¸€ä¸ªè‡ªå·±æ”¶è—äº†å¾ˆä¹…çš„æ¥å£åœ°å€ï¼Œç”¨äº†å¿«ä¸€å¹´äº†ï¼Œä¸€ç›´æ²¡æ‰è¿‡é“¾å­ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ã€‚</p>\n<h2><a id=\"API_5\"></a>æ–°æµªçŸ­ç½‘å€API</h2>\n<p>å¹³å°åœ°å€ï¼š<br/> <a href=\"http://s.011.run\">http://s.011.run</a> ï¼ˆå¯ä»¥åœ¨çº¿å…è´¹ç”Ÿæˆt.cnçŸ­é“¾æ¥ï¼Œç®€å•æ–¹ä¾¿ï¼‰</p>\n<p>æ–°æµªçŸ­ç½‘å€API æ”¯æŒè‡ªåŠ¨è¿‡å¾®åšç™½åå•:<br/> <a href=\"http://s.011.run/api/tcn.php?longurl=http://www.baidu.com\">http://s.011.run/api/tcn.php?longurl=http://www.baidu.com</a></p>\n<p>è¿”å›æ ¼å¼ï¼šJSON è¿”å›å€¼ä¸º:dwz è¿”å›çŠ¶æ€ç :200ä¸ºæˆåŠŸ</p>\n<h2><a id=\"_13\"></a>æ¥å£ä½¿ç”¨è¯´æ˜ï¼š</h2>\n<p>1ã€åœ¨çº¿ä½¿ç”¨ å°†APIåœ°å€ä¸­ â€œhttp://www.baidu.comâ€ çš„éƒ¨åˆ†æ¢æˆè‡ªå·±çš„é•¿ç½‘å€ï¼Œç„¶åå¤åˆ¶ï¼Œåœ¨æµè§ˆå™¨ä¸­ç²˜è´´æ‰“å¼€å°±èƒ½ç”Ÿæˆäº†ã€‚</p>\n<p>2ã€å¯¹æ¥ç¨‹åºä½¿ç”¨ å¦‚æœå«Œåœ¨çº¿ç”Ÿæˆéº»çƒ¦ï¼Œå¯ä»¥å°†APIæ¥å£å¯¹æ¥åˆ°ç¨‹åºä¸­è‡ªåŠ¨ç”Ÿæˆï¼Œä¸‹é¢æ˜¯ä¸åŒè¯­è¨€çš„è°ƒç”¨æ¼”ç¤ºä»£ç ï¼Œå¤§å®¶æ¥å…¥çš„æ—¶å€™å¯ä»¥å‚è€ƒä¸‹ã€‚</p>\n<h2><a id=\"PHP_19\"></a>PHPè°ƒç”¨å‚è€ƒï¼š</h2>\n<pre><code class=\"prism language-php\"><span class=\"token variable\">$url</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'http://www.baidu.com'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ä¿®æ”¹ä¸ºæ‚¨çš„é•¿è¿æ¥åœ°å€</span>\n<span class=\"token variable\">$api_url</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">' http://s.011.run/api/tcn.php?longurl='</span><span class=\"token operator\">.</span><span class=\"token function\">urlencode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$url</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$short_url</span> <span class=\"token operator\">=</span> <span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$api_url</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$data</span> <span class=\"token operator\">=</span> <span class=\"token function\">json_decode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$short_url</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token variable\">$data</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dwz'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"JAVA_29\"></a>JAVAè°ƒç”¨å‚è€ƒï¼š</h2>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> path<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n <span class=\"token class-name\">URL</span> u <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">URL</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" http://s.011.run/api/tcn.php?longurl=http://www.baidu.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token class-name\">InputStream</span> in <span class=\"token operator\">=</span> u<span class=\"token punctuation\">.</span><span class=\"token function\">openStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token class-name\">ByteArrayOutputStream</span> out <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ByteArrayOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n <span class=\"token keyword\">byte</span> buf<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">int</span> read <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>read <span class=\"token operator\">=</span> in <span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n out<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> read<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{<!-- --></span>\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> in <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n in <span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span>\n <span class=\"token keyword\">byte</span> b<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> out<span class=\"token punctuation\">.</span><span class=\"token function\">toByteArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"Python_51\"></a>Pythonè°ƒç”¨å‚è€ƒï¼š</h2>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">import</span> urllib<span class=\"token punctuation\">,</span> urllib2<span class=\"token punctuation\">,</span> sys\n host <span class=\"token operator\">=</span> <span class=\"token string\">' http://s.011.run/'</span>\n path <span class=\"token operator\">=</span> <span class=\"token string\">'api/tcn.php'</span>\n method <span class=\"token operator\">=</span> <span class=\"token string\">'GET'</span>\n querys <span class=\"token operator\">=</span> <span class=\"token string\">'longurl=http%3A%2F%2Fwww.baidu.com'</span>\n bodys <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span>\n url <span class=\"token operator\">=</span> host <span class=\"token operator\">+</span> path <span class=\"token operator\">+</span> <span class=\"token string\">'?'</span> <span class=\"token operator\">+</span> querys\n request <span class=\"token operator\">=</span> urllib2<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n response <span class=\"token operator\">=</span> urllib2<span class=\"token punctuation\">.</span>urlopen<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span>\n content <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"_68\"></a>æ³¨æ„äº‹é¡¹ï¼š</h2>\n<p>1ã€è°ƒç”¨APIæ¥å£æ—¶ï¼Œåªéœ€å°† â€œhttp://www.baidu.comâ€æ¢æˆéœ€è¦ç¼©çŸ­çš„é•¿é“¾æ¥å³å¯ã€‚<br/> 2ã€æ¥å£æ”¯æŒé“¾æ¥ä¸­å¸¦å‚æ•°ï¼Œä½†è¦æ³¨æ„çš„æ˜¯å½“é“¾æ¥ä¸­å‡ºç° &amp; ç¬¦å·æ—¶ï¼Œè¯·ç”¨ %26 ä»£æ›¿ï¼ˆæˆ–è€…ä½¿ç”¨urlç¼–ç ï¼‰ï¼Œurldecodeè½¬ç  ï¼Œå¦åˆ™å‚æ•°å¯èƒ½ä¼šä¸¢å¤±ã€‚<br/> 3ã€æ›´æ¢é“¾æ¥æ—¶ï¼Œå¿…é¡»è¦ä»¥http(s)ğŸ˜•/å¼€å¤´ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´çŸ­ç½‘å€ç”Ÿæˆå¤±è´¥æˆ–è€…ç”Ÿæˆçš„çŸ­ç½‘å€æ— æ³•è·³è½¬è®¿é—®åŸç½‘ç«™ã€‚<br/> 4ã€ä¸Šæ–‡æåˆ°çš„æ–°æµªçŸ­ç½‘å€APIæ¥å£ï¼Œç»æµ‹è¯•éƒ½æ˜¯æ¯”è¾ƒç¨³å®šçš„ï¼Œè§‰å¾—å¥½ç”¨è®°å¾—æ”¶è—ä¸€ä¸‹ï¼Œä»¥å…ä¸¢å¤±ã€‚</p>\n<h2><a id=\"_75\"></a>å¸¸è§é—®é¢˜ï¼š</h2>\n<p>1ã€é•¿é“¾æ¥è½¬æ¢åï¼Œä¸ºä»€ä¹ˆç»“å°¾çš„å‚æ•°ä¸¢å¤±äº†ï¼Ÿ<br/> ç­”ï¼šå› ä¸ºé•¿é“¾æ¥ä¸­å«æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦å°†urlç¼–ç ï¼ˆurldecodeï¼‰åå†ä½¿ç”¨æ¥å£ç”Ÿæˆã€‚<br/> 2ã€æ¥å£æ²¡æœ‰è¿”å›ç»“æœï¼Œæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ<br/> ç­”ï¼šæœ‰äº›æ—¶å€™æ¥å£è¿”å›æ•°æ®ä¼šæœ‰å»¶è¿Ÿï¼Œè¶…æ—¶æœªè¿”å›å³ç”Ÿæˆå¤±è´¥ï¼Œä¹Ÿå°±ä¸ä¼šè¿”å›ç»“æœï¼›æˆ–è€…æ˜¯å› ä¸ºåŸé“¾æ¥è¢«å°äº†ã€‚<br/> 3ã€ç”Ÿæˆçš„çŸ­é“¾æ¥æœ‰æ•ˆæœŸæ˜¯å¤šä¹…ï¼Ÿæœ‰æ²¡æœ‰è®¿é—®æ¬¡æ•°é™åˆ¶ï¼Ÿ<br/> ç­”ï¼šç”Ÿæˆçš„http://t.cnçŸ­é“¾æ¥æ˜¯æ°¸ä¹…æœ‰æ•ˆçš„ï¼Œæ²¡æœ‰ç‚¹å‡»æ¬¡æ•°é™åˆ¶ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}