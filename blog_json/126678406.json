{"blogid": "126678406", "writerAge": "ç é¾„5å¹´", "writerBlogNum": "296", "writerCollect": "562", "writerComment": "191", "writerFan": "11403", "writerGrade": "6çº§", "writerIntegral": "5397", "writerName": "èˆ¹é•¿åœ¨èˆ¹ä¸Š", "writerProfileAdress": "writer_image\\profile_126678406.jpg", "writerRankTotal": "3024", "writerRankWeekly": "184", "writerThumb": "1192", "writerVisitNum": "354747", "blog_read_count": "5596", "blog_time": "å·²äºÂ 2022-09-03 17:12:04Â ä¿®æ”¹", "blog_title": "vueè€ƒè¯•ç³»ç»Ÿåå°ç®¡ç†é¡¹ç›®-ç™»å½•ã€è®°ä½å¯†ç åŠŸèƒ½", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p></p>\n<blockquote>\n<p>â­ï¸â­ï¸<strong>â­ï¸  <span style=\"color:#be191c;\">ä½œè€…ï¼š</span><span style=\"color:#b95514;\">èˆ¹é•¿åœ¨èˆ¹ä¸Š</span><br/> ğŸš©ğŸš©ğŸš©  <span style=\"color:#be191c;\">ä¸»é¡µï¼š</span></strong><a class=\"link-info\" href=\"https://blog.csdn.net/SmartJunTao?type=blog\" title=\"æ¥è®¿åœ°å€èˆ¹é•¿åœ¨èˆ¹ä¸Šçš„åšå®¢\">æ¥è®¿åœ°å€èˆ¹é•¿åœ¨èˆ¹ä¸Šçš„åšå®¢</a><br/> ğŸ”¨ğŸ”¨ğŸ”¨  <span style=\"color:#be191c;\"><strong>ç®€ä»‹ï¼š</strong></span><span style=\"color:#956fe7;\">CSDNå‰ç«¯é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…ï¼Œèµ„æ·±å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨å‰ç«¯å¼€å‘ï¼Œåœ¨CSDNæ€»ç»“å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜æˆ–è€…é—®é¢˜è§£å†³æ–¹æ³•ä»¥åŠå¯¹æ–°æŠ€æœ¯çš„åˆ†äº«ï¼Œæ¬¢è¿å’¨è¯¢äº¤æµï¼Œå…±åŒå­¦ä¹ ã€‚</span></p>\n<p><strong>ğŸ””ğŸ””ğŸ””   <span style=\"color:#be191c;\">æ„Ÿè°¢ï¼š</span></strong><span style=\"color:#956fe7;\">å¦‚æœè§‰å¾—åšä¸»çš„æ–‡ç« ä¸é”™æˆ–è€…å¯¹ä½ çš„å·¥ä½œæœ‰å¸®åŠ©æˆ–è€…è§£å†³äº†ä½ çš„é—®é¢˜ï¼Œå¯ä»¥å…³æ³¨ã€æ”¯æŒä¸€ä¸‹åšä¸»ã€‚å¦‚æœ‰ç–‘é—®å¯ä»¥ç•™è¨€ã€è¯„è®ºï¼Œçœ‹åˆ°åä¼šåŠæ—¶å›å¤ã€‚</span></p>\n</blockquote>\n<blockquote>\n<p><span style=\"color:#b95514;\"><strong>æœ¬é¡¹ç›®ä¼šè€—æ—¶ä¸€å‘¨åˆ°ä¸¤å‘¨æ¥å®Œæˆï¼Œæœ€è¿‘è¦åˆè¦è¾›è‹¦åŠ ç­äº†ï¼Œé¡¹ç›®ç»™çš„æ—¶é—´ä¸å¤šï¼Œç¨‹åºå‘˜å¤ªä¸å®¹æ˜“äº†ï¼Œåšå®Œé¡¹ç›®è°ƒä¼‘å¥½å¥½ä¼‘æ¯ä¸€ä¸‹ï¼</strong></span></p>\n<p><span style=\"color:#b95514;\"><strong>æ­¤æ—¶æ­¤åˆ»ï¼Œè®°å½•ä¸€ä¸‹é¡¹ç›®å®ç°ã€‚</strong></span></p>\n</blockquote>\n<blockquote>\n<p><strong>è€ƒè¯•ç³»ç»Ÿåå°ç®¡ç†é¡¹ç›®ä»‹ç»ï¼š</strong></p>\n<p></p>\n<p><strong><span style=\"color:#b95514;\">æŠ€æœ¯é€‰å‹ï¼š</span></strong><span style=\"color:#4da8ee;\">Vue2.0+Elemenu-ui</span></p>\n<p><span style=\"color:#be191c;\"><strong>é¡¹ç›®åŠŸèƒ½ä»‹ç»ï¼š</strong></span></p>\n<ul><li>è´¦æˆ·ä¿¡æ¯æ¨¡å—ï¼šèœå•æƒé™ã€è§’è‰²æƒé™è®¾ç½®ã€è§’è‰²æƒé™åˆ†é…ã€è´¦å·è®¾ç½®ã€å…¬å¸åˆ†ç»„</li><li>è€ƒè¯•ç®¡ç†æ¨¡å—ï¼šæ–°å¢/ç¼–è¾‘/åˆ é™¤è€ƒè¯•è¯•é¢˜ã€æˆç»©æŸ¥çœ‹ã€é˜…å·è¯„åˆ†ã€æˆç»©è®°å½•ã€æˆç»©å¯¼å‡º</li><li>é¢˜åº“ç®¡ç†æ¨¡å—ï¼šæ‰¹é‡å¯¼å…¥è€ƒé¢˜ã€æ‰¹é‡åˆ é™¤è€ƒé¢˜ã€ç¼–è¾‘å½•å…¥è€ƒé¢˜ã€æ–°å¢/ç¼–è¾‘/åˆ é™¤è€ƒè¯•åˆ†ç±»</li></ul>\n</blockquote>\n<blockquote>\n<p> ç™»å½•ç•Œé¢</p>\n</blockquote>\n<ol><li>åˆ©ç”¨cookieå®ç°ï¼Œå®ç°è®°ä½å¯†ç åŠŸèƒ½ï¼Œä¸‹æ¬¡æ‰“å¼€é¡µé¢è‡ªåŠ¨è¡¥å…¨ï¼Œè®¾ç½®æœ‰æ•ˆæœŸä¸º7å¤©ï¼›</li><li>è´¦å·ã€å¯†ç éªŒè¯ï¼›</li><li>ç‚¹å‡»ç™»å½•è°ƒç”¨æ¥å£è·³è½¬åå°é¦–é¡µ</li></ol>\n<p><img alt=\"\" height=\"622\" src=\"image\\4edb52628a5b4e0d9b4524744ff50751.png\" width=\"1200\"/></p>\n<p><img alt=\"\" height=\"577\" src=\"image\\55bfd9fbf6574f51b4a5057dc2625d8e.png\" width=\"1009\"/></p>\n<p></p>\n<p> <strong>login.vueç»„ä»¶ä»£ç ï¼š</strong></p>\n<pre><code class=\"language-html\">&lt;template&gt;\n  &lt;div class=\"login-wrap\"&gt;\n    &lt;h2 class=\"title\" style=\"color:#fff\"&gt;è€ƒè¯•ç³»ç»Ÿåå°ç®¡ç†&lt;/h2&gt;\n    &lt;el-form label-position=\"left\" :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"0px\"\n      class=\"demo-ruleForm login-container\"&gt;\n      &lt;h3 class=\"title\"&gt;ç”¨æˆ·ç™»å½•&lt;/h3&gt;\n      &lt;el-form-item prop=\"loginAccount\"&gt;\n        &lt;el-input type=\"text\" v-model=\"ruleForm.loginAccount\" auto-complete=\"off\" placeholder=\"è´¦å·\"&gt;&lt;/el-input&gt;\n      &lt;/el-form-item&gt;\n      &lt;el-form-item prop=\"password\"&gt;\n        &lt;el-input type=\"password\" v-model=\"ruleForm.password\" auto-complete=\"off\" placeholder=\"å¯†ç \"&gt;&lt;/el-input&gt;\n      &lt;/el-form-item&gt;\n      &lt;el-checkbox class=\"remember\" v-model=\"rememberpwd\"&gt;è®°ä½å¯†ç &lt;/el-checkbox&gt;\n      &lt;el-form-item style=\"width:100%;\"&gt;\n        &lt;el-button type=\"primary\" style=\"width:100%;\" @click=\"submitForm('ruleForm'),loginIn('ruleForm')\" :loading=\"logining\"&gt;ç™»å½•&lt;/el-button&gt;\n      &lt;/el-form-item&gt;\n    &lt;/el-form&gt;\n    &lt;div class=\"copyright\"&gt;ç‰ˆæƒ********&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;</code></pre>\n<p><strong>dataå®šä¹‰æ•°æ®ï¼š</strong></p>\n<p>ruleså®šä¹‰è´¦å·å¯†ç éªŒè¯è§„åˆ™ï¼Œå¯è‡ªå®šä¹‰è§„åˆ™</p>\n<pre><code class=\"language-javascript\">data() {\n    return {\n      logining: false,\n      rememberpwd: false,\n      ruleForm: {\n        loginAccount: \"\",\n        password: \"\"\n      },\n      rules: {\n        loginAccount: [\n          { required: true, message: \"è¯·è¾“å…¥è´¦å·\", trigger: \"blur\" }\n        ],\n        password: [{ required: true, message: \"è¯·è¾“å…¥å¯†ç \", trigger: \"blur\" }]\n      }\n    };\n  },</code></pre>\n<p>methodsæ–¹æ³•ï¼š</p>\n<ul><li>æ·»åŠ ç‚¹å‡»é”®ç›˜Enterçš„åˆ¤æ–­ï¼Œç‚¹å‡»ä¹‹åè§¦å‘ç™»å½•ï¼Œè°ƒç”¨ç™»å½•æ¥å£</li></ul>\n<pre><code class=\"language-javascript\">// é”®ç›˜enteræ³¨å†Œäº‹ä»¶\n    loginIn(){\n      let keyCode = window.event.keyCode;\n      console.log(this.$route.path,\"ç™»å½•path\")\n      if(keyCode == 13 &amp;&amp; this.$route.path==\"/login\"){\n        this.$refs.ruleForm.validate(valid =&gt; {\n          if (valid) {\n            this.logining = true;\n            this.loginFun();\n          } else {\n            this.$message.error(\"è¯·è¾“å…¥ç”¨æˆ·åå¯†ç ï¼\");\n            this.logining = false;\n            return false;\n          }\n        });\n      }else{\n        return;\n      }\n    },</code></pre>\n<ul><li>å¯ä»¥æ‰‹åŠ¨ç‚¹å‡»ç™»å½•è°ƒç”¨ç™»å½•æ¥å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Enteré”®è°ƒç”¨ç™»å½•</li></ul>\n<pre><code class=\"language-javascript\">methods: {\n    // è·å–ç”¨æˆ·åå¯†ç \n    getuserpwd() {\n      // å¦‚æœç¼“å­˜é‡Œé¢æœ‰è®°å½•ï¼Œå°±ç›´æ¥è·å–ç™»å½•\n      if (getCookie(\"user\") != \"\" &amp;&amp; getCookie(\"pwd\") != \"\") {\n        this.ruleForm.loginAccount = getCookie(\"user\");\n        this.ruleForm.password = getCookie(\"pwd\");\n        this.rememberpwd = true;\n      }\n    },\n\n    // ç™»å½•æ–¹æ³•å°è£…\n    async loginFun() {\n      const res = await login(this.ruleForm);\n      console.log(res, \"resç™»å½•\");\n      if (res.code == 200) {\n        if (this.rememberpwd == true) {\n          //ä¿å­˜å¸å·åˆ°cookieï¼Œæœ‰æ•ˆæœŸ7å¤©\n          setCookie(\"user\", this.ruleForm.loginAccount, 7);\n          //ä¿å­˜å¯†ç åˆ°cookieï¼Œæœ‰æ•ˆæœŸ7å¤©\n          setCookie(\"pwd\", this.ruleForm.password, 7);\n        } else {\n          delCookie(\"user\");\n          delCookie(\"pwd\");\n        }\n        setTimeout(() =&gt; {\n          this.logining = false;\n          this.$router.push(\"/first/first\");\n          this.$message({\n            message: \"ç™»å½•æˆåŠŸ\",\n            type: \"success\"\n          });\n        }, 1000);\n      } else {\n        this.$message.error(res.msg);\n        this.logining = false;\n        return false;\n      }\n    },\n    submitForm(ruleForm) {\n      this.$refs[ruleForm].validate(valid =&gt; {\n        if (valid) {\n          this.logining = true;\n          // è°ƒç”¨ç™»å½•æ¥å£\n          this.loginFun();\n        } else {\n          this.$message.error(\"è¯·è¾“å…¥ç”¨æˆ·åå¯†ç ï¼\");\n          this.logining = false;\n          return false;\n        }\n      });\n    },\n    // é”®ç›˜enteræ³¨å†Œäº‹ä»¶\n    loginIn(){\n      let keyCode = window.event.keyCode;\n      console.log(this.$route.path,\"ç™»å½•path\")\n      if(keyCode == 13 &amp;&amp; this.$route.path==\"/login\"){\n        this.$refs.ruleForm.validate(valid =&gt; {\n          if (valid) {\n            this.logining = true;\n            this.loginFun();\n          } else {\n            this.$message.error(\"è¯·è¾“å…¥ç”¨æˆ·åå¯†ç ï¼\");\n            this.logining = false;\n            return false;\n          }\n        });\n      }else{\n        return;\n      }\n    },\n  },</code></pre>\n<p>ç‚¹å‡»è®°ä½å¯†ç æ–¹æ³•è°ƒç”¨ï¼šè¿›å…¥åˆ°é¡µé¢è¿›è¡Œè¯»å–</p>\n<pre><code class=\"language-javascript\">created() {\n    this.getuserpwd();\n  },</code></pre>\n<p>é”®ç›˜Enteräº‹ä»¶ç›‘å¬ï¼š</p>\n<pre><code class=\"language-javascript\">mounted(){\n    window.addEventListener('keydown',this.loginIn);\n  },\n  destroyed(){\n    window.removeEventListener('keydown',this.loginIn,false);\n  }</code></pre>\n<p>ç™»å½•æ¥å£å¼•å…¥ï¼š</p>\n<pre><code class=\"language-javascript\">import { login } from \"../api/userMG\";</code></pre>\n<p>å°è£…çš„cookieæ–¹æ³•å¼•å…¥ï¼š</p>\n<pre><code class=\"language-javascript\">import { setCookie, getCookie, delCookie } from \"../utils/utils\";</code></pre>\n<p>utils.jså…¬å…±æ–¹æ³•ï¼š</p>\n<pre><code class=\"language-javascript\">/**\n * è®¾ç½®cookie\n **/\nfunction setCookie(name, value, day) {\n  let date = new Date();\n  date.setDate(date.getDate() + day);\n  document.cookie = name + '=' + value + ';expires=' + date;\n};\n\n/**\n * è·å–cookie\n **/\nfunction getCookie(name) {\n  let reg = RegExp(name + '=([^;]+)');\n  let arr = document.cookie.match(reg);\n  if (arr) {\n    return arr[1];\n  } else {\n    return '';\n  }\n};\n\n/**\n * åˆ é™¤cookie\n **/\nfunction delCookie(name) {\n  setCookie(name, null, -1);\n};</code></pre>\n<p></p>\n<p></p>\n<p><strong><span style=\"color:#4da8ee;\">åˆ°æ­¤ç»“æŸ </span></strong></p>\n<blockquote>\n<p>ğŸ‘‰ğŸ‘‰ğŸ‘‰  æ¬¢è¿æ¥è®¿<a href=\"https://blog.csdn.net/SmartJunTao\" title=\"èˆ¹é•¿åœ¨èˆ¹ä¸Š\">èˆ¹é•¿åœ¨èˆ¹ä¸Š</a>çš„åšå®¢ï¼Œæ–‡ç« æŒç»­æ›´æ–°ï¼›<span style=\"color:#b95514;\">é¡¹ç›®åŠŸèƒ½æŒç»­è¿­ä»£ï¼Œé¡¹ç›®å¼€å‘æµ‹è¯•å®Œæˆä¼šæŠŠå®Œæ•´ä»£ç ä¸Šä¼ ç äº‘ï¼Œè¯·åŠæ—¶æ”¶è—å…³æ³¨ï¼Œæ–¹ä¾¿æŸ¥çœ‹ã€‚</span></p>\n</blockquote>\n</div>\n</div>"}