{"blogid": "126139222", "writerAge": "码龄2年", "writerBlogNum": "112", "writerCollect": "2414", "writerComment": "2963", "writerFan": "8286", "writerGrade": "6级", "writerIntegral": "6466", "writerName": "卡卡西最近怎么样", "writerProfileAdress": "writer_image\\profile_126139222.jpg", "writerRankTotal": "2334", "writerRankWeekly": "170", "writerThumb": "3141", "writerVisitNum": "123377", "blog_read_count": "1085", "blog_time": "已于 2022-08-03 15:15:24 修改", "blog_title": "【JavaScript 进阶教程】汽车商城根据价格区间筛选车辆案例", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p><img alt=\"\" height=\"289\" src=\"image\\de5da860de4441a387a38567d74b7ca8.png\" width=\"1200\"/></p>\n<blockquote>\n<p><span style=\"color:#ed7976;\"><strong>本案例源码链接（非VIP可私聊获取）：</strong></span><a class=\"has-card\" href=\"https://download.csdn.net/download/weixin_52212950/86286910\" title=\"https://download.csdn.net/download/weixin_52212950/86286910\"><span class=\"link-card-box\"><span class=\"link-title\">https://download.csdn.net/download/weixin_52212950/86286910</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\icon-default.png\"/>https://download.csdn.net/download/weixin_52212950/86286910</span></span></a></p>\n</blockquote>\n<blockquote>\n<p><span style=\"color:#333333;\"><strong>文章导读： </strong></span> </p>\n<p>         这篇文章实现一个小案例：在购物平台选商品时我们经常会输价格区间，然后筛选出在这个区间内的商品，其实有JavaScript基础我们就已经能实现了，利用循环判断等知识。但是这篇文章是新方法 forEach，filter，some 的使用实现，可以让我们的实现更轻松。</p>\n<p><img alt=\"\" height=\"864\" src=\"image\\a64f8b3534be4d9c813d1234e164d1a1.png\" width=\"1200\"/></p>\n</blockquote>\n<h3 id=\"main-toc\"><strong>文章目录：</strong></h3>\n<p id=\"%E4%B8%80%EF%BC%9A%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%80%EF%BC%9A%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\">一：效果展示</a></p>\n<p id=\"%C2%A0%E4%BA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90-toc\" style=\"margin-left:0px;\"><a href=\"#%C2%A0%E4%BA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90\"> 二：功能实现分析</a></p>\n<p id=\"2.1%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE-toc\" style=\"margin-left:40px;\"><a href=\"#2.1%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE\">2.1 页面渲染数据</a></p>\n<p id=\"2.2%C2%A0%E6%A0%B9%E6%8D%AE%E4%BB%B7%E6%A0%BC%E5%8C%BA%E9%97%B4%E6%9F%A5%E6%89%BE-toc\" style=\"margin-left:40px;\"><a href=\"#2.2%C2%A0%E6%A0%B9%E6%8D%AE%E4%BB%B7%E6%A0%BC%E5%8C%BA%E9%97%B4%E6%9F%A5%E6%89%BE\">2.2 根据价格区间查找</a></p>\n<p id=\"2.3%C2%A0%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E7%BB%93%E6%9E%9C%E5%87%86%E7%A1%AE%E6%9F%A5%E6%89%BE-toc\" style=\"margin-left:40px;\"><a href=\"#2.3%C2%A0%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E7%BB%93%E6%9E%9C%E5%87%86%E7%A1%AE%E6%9F%A5%E6%89%BE\">2.3 根据输入结果准确查找</a></p>\n<p id=\"%C2%A0%E4%B8%89%EF%BC%9A%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc\" style=\"margin-left:0px;\"><a href=\"#%C2%A0%E4%B8%89%EF%BC%9A%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\"> 三：完整代码</a></p>\n<hr/>\n<h1 id=\"%E4%B8%80%EF%BC%9A%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\"><span style=\"color:#4da8ee;\">一：效果展示</span></h1>\n<blockquote>\n<p><span style=\"color:#be191c;\"><strong>页面基本效果</strong></span></p>\n</blockquote>\n<p><img alt=\"\" height=\"1031\" src=\"image\\64e82c2a4f974987a7fde3f5c7e708a6.png\" width=\"1200\"/></p>\n<blockquote>\n<p><span style=\"color:#be191c;\"><strong> 根据价格区间搜索</strong></span></p>\n</blockquote>\n<p><img alt=\"\" height=\"1033\" src=\"image\\23e95716fee5401fa5146b2eadd8c5af.png\" width=\"1200\"/></p>\n<blockquote>\n<p><span style=\"color:#be191c;\"><strong> 根据车辆名称搜索</strong></span></p>\n</blockquote>\n<p><img alt=\"\" height=\"1030\" src=\"image\\07d84dc007ef436d8648de2ec1c7a75f.png\" width=\"1200\"/></p>\n<hr/>\n<h1 id=\"%C2%A0%E4%BA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90\"><span style=\"color:#4da8ee;\"> 二：功能实现分析</span></h1>\n<h2 id=\"2.1%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE\"><span style=\"color:#b95514;\">2.1 页面渲染数据</span></h2>\n<blockquote>\n<p><span style=\"color:#333333;\">我们的数据存放格式为数组放对象，在写入大量数据后要将其渲染到页面的主表格中，我们可以使用 forEach 方法来实现，每次迭代都会执行一次基础的创建行，添加行的操作</span></p>\n<hr/>\n<p><span style=\"color:#1c7331;\"><strong>实现过程：</strong></span></p>\n<ul><li><span style=\"color:#b95514;\">遍历开始，首先轮到的是数组第一个元素，即第一个车辆的数据，然后创建行tr，给行tr添加内容，内容中直接将车辆信息的编号id，名称name，价格price写入，然后再在tbody内加上创建好的行</span></li><li><span style=\"color:#ad720d;\">再轮到下一个车辆的数据，在创建行等操作，直到所有车辆信息全部添加进去结束</span></li></ul>\n</blockquote>\n<pre><code class=\"language-javascript\">car.forEach(function(value,index,arr){\n            var tr=document.createElement('tr');\n            tr.innerHTML='&lt;td&gt;'+value.id+'&lt;/td&gt;&lt;td&gt;'+value.name+'&lt;/td&gt;&lt;td&gt;'+value.price+'&lt;/td&gt;'\n            tbody.appendChild(tr)\n        })</code></pre>\n<hr/>\n<h2 id=\"2.2%C2%A0%E6%A0%B9%E6%8D%AE%E4%BB%B7%E6%A0%BC%E5%8C%BA%E9%97%B4%E6%9F%A5%E6%89%BE\"><span style=\"color:#b95514;\">2.2 根据价格区间查找</span></h2>\n<blockquote>\n<p>既然是筛选数据，那自然是选择我们的 filter 方法了，为了不让表格数据每次搜索完后上一次的数据还保留，所以每次点击后先清空右侧表格内的数据再去执行筛选。filter 返回的是一个新数组，所以需要一个新定义的数组去接收。筛选过后再使用 forEach 将新数组渲染到右侧的搜错结果表格即可</p>\n</blockquote>\n<pre><code class=\"language-javascript\">select1.addEventListener('click',function(){\n            rtbody.innerHTML=''\n            var newcar=car.filter(function(value,index,arr){\n                return value.price&gt;=start.value&amp;&amp;value.price&lt;=end.value;\n            })\n            // console.log(newcar);\n            newcar.forEach(function(value,index,arr){\n                var tr=document.createElement('tr');\n                tr.innerHTML='&lt;td class=\"righttd\"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'\n                rtbody.appendChild(tr)\n            })\n        })</code></pre>\n<hr/>\n<h2 id=\"2.3%C2%A0%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E7%BB%93%E6%9E%9C%E5%87%86%E7%A1%AE%E6%9F%A5%E6%89%BE\"><span style=\"color:#b95514;\"><strong>2.3 根据输入结果准确查找</strong></span></h2>\n<blockquote>\n<p>在大批数据中要准确查找某个信息时，使用 some 方法比较合适，因为 some 一旦查找到就会停止遍历，数据量大时可以节省效率，很明显我们这个功能也要让其返回一个符合条件的新数组，但是some返回的结果是一个布尔值，所以此处我们需要自定义数组，然后去用 push 方法将复合查找要求的数据添加到新数组里，并且一旦查找到就让其 返回 ture 终止循环遍历</p>\n</blockquote>\n<pre><code class=\"language-javascript\">select2.addEventListener('click',function(){\n        rtbody.innerHTML=''\n        newarr=[]\n        car.some(function(value,index,arr){\n            if(value.name==name1.value){\n                newarr.push(value)\n                return true;\n            }\n        })\n            newarr.forEach(function(value,index,arr){\n                var tr=document.createElement('tr');\n                tr.innerHTML='&lt;td class=\"righttd\"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'\n                rtbody.appendChild(tr)\n            })\n    })</code></pre>\n<hr/>\n<h1 id=\"%C2%A0%E4%B8%89%EF%BC%9A%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\"><span style=\"color:#4da8ee;\"> 三：完整代码</span></h1>\n<pre><code class=\"language-javascript\">&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n    &lt;style&gt;\n        *{\n            margin: 0;\n            padding: 0;\n        }\n        .outbox{\n           position: absolute;\n            width: 1200px;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%,-50%);\n            border-top: 1px solid black;\n            border-left: 1px solid black;\n            border-right: 2.2px solid black;\n            border-bottom: 2.2px solid black;\n        }\n        .leftbox{\n            float: left;\n            width: 900px;\n            /* height: 600px; */\n            box-sizing: border-box;\n            border-top: 1.4px solid black;\n            border-left: 1.4px solid black;\n            border-right: 5px solid black;\n        }\n        .rightbox{\n            float: left;\n            width: 298px;\n            border-top: 1.5px solid black;\n        }\n        .top{\n            position: relative;\n            width: 898px;\n            height: 120px;\n            border-bottom: 1.4px solid black;\n            background-color: rgb(219, 219, 219);\n            box-sizing: border-box;\n        }\n        .bottom{\n            padding-top: 28px;\n            width: 898px;\n            padding-bottom: 28px;\n            background-color: rgb(244, 244, 244);\n        }\n        table{\n            margin: 0 auto;\n            width: 835px; \n            border: 1.4px solid black;\n        }\n        thead tr{\n            width: 835px;\n            height: 40px;\n            border: 1.4px solid black;\n            background-color: rgb(208, 241, 255);\n        }\n        tbody tr{\n            width: 835px;\n            height: 50px;\n            border: 1.4px solid black;\n            background-color: rgb(255, 239, 239);\n        }\n        td{\n            width: 278px;\n            border: 1.4px solid black;\n            text-align: center;\n            font-weight: bold;\n            font-size: 17px;\n            letter-spacing: 3px;\n        }\n        .price{\n            position: absolute;\n            top: 22px;\n            left: 37px;\n            letter-spacing: 2px;\n            font-size: 18px;\n            font-weight: 500;\n        }\n        .start,.end{\n            padding-left: 6px;\n            width: 100px;\n            height: 30px;\n            outline: none;\n            font-size: 20px;\n        }\n        .pricebox{\n            position: absolute;\n            top: 19px;\n            left: 325px;\n            letter-spacing: 2px;\n            font-size: 18px;\n            font-weight: 800;\n        }\n        .select1{\n            position: absolute;\n            width: 170px;\n            height: 37px;\n            top: 17px;\n            right: 115px;\n            font-size: 14.5px;\n            letter-spacing: 2px;\n            background-color: rgb(255, 226, 154);\n\n            border: 1px solid black;\n        }\n\n        .name-p{\n            position: absolute;\n            bottom: 22px;\n            left: 94px;\n            letter-spacing: 2px;\n            font-size: 18px;\n            font-weight: 500;\n        }\n        .name{\n            position: absolute;\n            bottom: 16px;\n            left: 325px;\n            letter-spacing: 2px;\n            font-size: 18px;\n            width: 235px;\n            height: 30px;\n            outline: none;\n            padding-left: 6px;\n        }\n        .select2{\n            position: absolute;\n            width: 170px;\n            height: 37px;\n            bottom: 15px;\n            right: 115px;\n            font-size: 14.5px;\n            letter-spacing: 2px;\n            background-color: rgb(255, 226, 154);\n\n            border: 1px solid black;\n        }\n        .select1:hover{\n            background-color: rgb(255, 210, 95);\n        }\n        .select2:hover{\n            background-color: rgb(255, 214, 110);\n        }\n        .rtable{\n            margin: 0 auto;\n            width: 240px;\n            margin-top: 40px;\n            margin-bottom: 40px;\n        }\n        .rthead .rtr{\n            width: 240px;\n            height: 40px;\n            border: 1.4px solid black;\n            background-color: rgb(208, 241, 255);\n        }\n        .rtbody .rtr{\n            width: 240px;\n            height: 40px;\n            border: 1.4px solid black;\n            background-color: rgb(255, 201, 114);\n        }\n        .rtd{\n            width: 240px;\n            border: 1.4px solid black;\n            text-align: center;\n            font-weight: bold;\n            font-size: 17px;\n            letter-spacing: 3px;\n        }\n        .righttd{\n            width: 240px;\n            border: 1.4px solid black;\n            text-align: center;\n            font-weight: bold;\n            font-size: 17px;\n            letter-spacing: 3px;\n            background-color: rgb(255, 234, 206);\n        }\n        .clear{\n            width: 85px;\n            height: 85px;\n            position: absolute;\n            top: 16px;\n            right: 13px;\n            border: 1px solid black;\n            font-weight: 400;\n            font-size: 15px;\n            background-color: #fff;\n        }\n        .clear:hover{\n            background-color: rgb(247, 247, 247);\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"outbox\"&gt;\n        &lt;div class=\"leftbox\"&gt;\n            &lt;div class=\"top\"&gt;\n                &lt;button class=\"clear\"&gt;清空查询&lt;/button&gt;\n               &lt;p class=\"price\"&gt;您要查询的价格区间为(万元):&lt;/p&gt;\n               &lt;div class=\"pricebox\"&gt;\n                   &lt;input type=\"text\" class=\"start\"&gt; ~ &lt;input type=\"text\" class=\"end\"&gt;\n               &lt;/div&gt;\n               &lt;input type=\"button\" class=\"select1\" value=\"从价格区间查询\"&gt;\n               &lt;p class=\"name-p\"&gt;您要查询的车辆名称为:&lt;/p&gt;\n                   &lt;input type=\"text\" class=\"name\"&gt;\n               &lt;input type=\"button\" class=\"select2\" value=\"从车辆名称查询\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"bottom\"&gt;\n               &lt;table cellspacing=\"0\" style=\"border-collapse: collapse;\"&gt;\n                   &lt;thead&gt;\n                       &lt;tr&gt;\n                           &lt;td&gt;汽车编号&lt;/td&gt;\n                           &lt;td&gt;汽车名称&lt;/td&gt;\n                           &lt;td&gt;汽车售价(万元)&lt;/td&gt;\n                       &lt;/tr&gt;\n                   &lt;/thead&gt;\n                   &lt;tbody&gt;\n                   &lt;/tbody&gt;\n               &lt;/table&gt;\n            &lt;/div&gt;\n       &lt;/div&gt;\n       &lt;div class=\"rightbox\"&gt;\n        &lt;table cellspacing=\"0\" style=\"border-collapse: collapse;\" class=\"rtable\"&gt;\n            &lt;thead class=\"rthead\"&gt;\n                &lt;tr class=\"rtr\"&gt;\n                    &lt;td class=\"rtd\"&gt;查询结果&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody class=\"rtbody\"&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n       &lt;/div&gt;\n    &lt;/div&gt;\n    \n     &lt;script&gt;\n        var car=[\n            {\n                'id':1000001,\n                'name':'奥迪A6 Avent',\n                'price':46\n            },\n            {\n                'id':1000002,\n                'name':'奥迪A6 allroad',\n                'price':52\n            },\n            {\n                'id':1000003,\n                'name':'奥迪RS6',\n                'price':145\n            },{\n                'id':1000004,\n                'name':'奥迪RS7',\n                'price':154\n            },\n            {\n                'id':1000005,\n                'name':'奥迪A7L',\n                'price':82\n            },\n            {\n                'id':1000006,\n                'name':'GTR R32',\n                'price':140\n            },\n            {\n                'id':1000007,\n                'name':'GTR R33',\n                'price':101\n            },\n            {\n                'id':1000008,\n                'name':'GTR R34',\n                'price':180\n            },\n            {\n                'id':1000009,\n                'name':'GTR R35',\n                'price':160\n            }\n        ]\n        var tbody=document.querySelector('tbody');\n        var rtbody=document.querySelector('.rtbody');\n        var start=document.querySelector('.start');\n        var end=document.querySelector('.end');\n        var select1=document.querySelector('.select1');\n        var clear=document.querySelector('.clear');\n        var select2=document.querySelector('.select2');\n        var name1=document.querySelector('.name');\n        clear.addEventListener('click',function(){\n            window.location.reload()\n        })\n        car.forEach(function(value,index,arr){\n            var tr=document.createElement('tr');\n            tr.innerHTML='&lt;td&gt;'+value.id+'&lt;/td&gt;&lt;td&gt;'+value.name+'&lt;/td&gt;&lt;td&gt;'+value.price+'&lt;/td&gt;'\n            tbody.appendChild(tr)\n        })\n        select1.addEventListener('click',function(){\n            rtbody.innerHTML=''\n            var newcar=car.filter(function(value,index,arr){\n                return value.price&gt;=start.value&amp;&amp;value.price&lt;=end.value;\n            })\n            // console.log(newcar);\n            newcar.forEach(function(value,index,arr){\n                var tr=document.createElement('tr');\n                tr.innerHTML='&lt;td class=\"righttd\"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'\n                rtbody.appendChild(tr)\n            })\n        })\n    select2.addEventListener('click',function(){\n        rtbody.innerHTML=''\n        newarr=[]\n        car.some(function(value,index,arr){\n            if(value.name==name1.value){\n                newarr.push(value)\n                return true;\n            }\n        })\n            newarr.forEach(function(value,index,arr){\n                var tr=document.createElement('tr');\n                tr.innerHTML='&lt;td class=\"righttd\"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'\n                rtbody.appendChild(tr)\n            })\n    })\n     &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p></p>\n</div>\n</div>"}