{"blogid": "125163566", "writerAge": "码龄1年", "writerBlogNum": "65", "writerCollect": "1784", "writerComment": "1988", "writerFan": "2252", "writerGrade": "6级", "writerIntegral": "4649", "writerName": "兴趣使然黄小黄", "writerProfileAdress": "writer_image\\profile_125163566.jpg", "writerRankTotal": "3563", "writerRankWeekly": "1555", "writerThumb": "1843", "writerVisitNum": "52036", "blog_read_count": "1805", "blog_time": "已于 2022-06-09 20:49:30 修改", "blog_title": "如何通过JDBC访问MySQL数据库？手把手实现登录界面(图解+完整代码)", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>💁 <strong>个人主页：</strong><a href=\"https://blog.csdn.net/m0_60353039?spm=1000.2115.3001.5343\">黄小黄的博客主页</a><br/> ❤️ <strong>支持我</strong>：👍 点赞 🌷 收藏 🤘关注<br/> 🎏 <strong>格言</strong>：一步一个脚印才能承接所谓的幸运</p>\n<p><strong>本文来自专栏：</strong><a href=\"https://blog.csdn.net/m0_60353039/category_11856245.html\">JDBC从入门到实战</a><br/> 欢迎点击支持订阅专栏 ❤️<br/> <img alt=\"在这里插入图片描述\" src=\"image\\e8e24df81afd49aeafc257c4d0ca0293.jpeg\"/></p>\n</blockquote>\n<hr/>\n<h1><a id=\"_9\"></a>写在前面</h1>\n<p> <strong>本文环境：</strong> <code>jdk1.8</code>、<code>mysql8.0</code>、<code>IntelliJ IDEA 2021.3</code>与<code>DataGrip 2021.3</code>；<br/>  撰写本文是由于一位粉丝的求助，凑巧又是笔者本次的实验内容，所以本文只对 JDBC 如何访问数据库作操作性的叙述，并不涉及 JDBC 基础相关内容，有需要请期待专栏后续更新。本文仅供同学们交流学习使用，图片均有水印，请勿 copy，如需转载，欢迎私信。</p>\n<hr/>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_9\">写在前面</a></li><li><a href=\"#1__22\">1 操作准备</a></li><li><ul><li><a href=\"#11__Mysql__jar__23\">1.1 导入 Mysql 对应的 jar 包</a></li><li><a href=\"#12_Mysql_39\">1.2 创建Mysql数据库与基本表</a></li></ul>\n</li><li><a href=\"#2_JDBC_56\">2 JDBC基础实验</a></li><li><ul><li><a href=\"#21_JDBCMySQLmyuseraccount_57\">2.1 编写JDBC连接MySQL数据库myuser，查询并显示account表数据实例</a></li><li><a href=\"#22_JDBCMySQLmyuser_107\">2.2 编写JDBC连接MySQL数据库，实现myuser数据库的增、删、改查的实例</a></li></ul>\n</li><li><a href=\"#3_JDBC_228\">3 JDBC进阶实验——简易登录界面</a></li><li><ul><li><a href=\"#31__229\">3.1 具体实现</a></li><li><a href=\"#32__376\">3.2 效果展示</a></li></ul>\n</li><li><a href=\"#_393\">写在最后</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"1__22\"></a>1 操作准备</h1>\n<h2><a id=\"11__Mysql__jar__23\"></a>1.1 导入 Mysql 对应的 jar 包</h2>\n<ol><li>首先进入 Mysql 下载官网： <a href=\"https://www.mysql.com/downloads/\">https://www.mysql.com/downloads/</a>，将页面滑动到底端，点击 <strong><font color=\"orange\">MySQL Community (GPL) Downloads</font></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\df97575dbe504f83a45f598c91760b5f.png\"/></li><li>选择 <strong><font color=\"orange\">Connector/J</font></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\f9184902c59742869b91520d2d3465df.png\"/></li><li>选择 <strong><font color=\"orange\">General Availability(GA) Releases</font></strong>，在 <strong><font color=\"orange\">Select Operating System</font></strong> 下拉列表选择 <strong><font color=\"orange\">Platform Independent</font></strong>，然后选择任意一种压缩包格式的文件 <strong><font color=\"orange\">Download</font></strong>，根据提示下载，如果需要其他版本，可以点击 <strong><font color=\"orange\">Archives</font></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\ca52f976db9e4a739eaff0139a4d2fd0.png\"/></li><li>下载完成后进行解压，即可在当前文件夹中看到下载好的 <strong><font color=\"orange\">jar</font></strong> 包了。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\ade4f3a498df437f927d960afec679f2.png\"/></li><li>打开 <strong><font color=\"orange\">idea</font></strong> 创建一个项目 <strong><font color=\"orange\">JDBC</font></strong> 并创建 <strong><font color=\"orange\">Moudle JDBCtest</font></strong>，在该模块下创建个目录 <strong><font color=\"orange\">lib</font></strong>，并将刚刚下载好的 <strong><font color=\"orange\">jar</font></strong> 包拷贝过来。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\e3dcae9612204e258f9c0ff704ee0f7f.png\"/></li><li>右键将 jar 包， <strong><font color=\"orange\">Add as Library</font></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\30ac84df4f9e451fa649430b42495920.png\"/></li></ol>\n<h2><a id=\"12_Mysql_39\"></a>1.2 创建Mysql数据库与基本表</h2>\n<p>🐰 打开 <strong><font color=\"orange\">datagrip</font></strong>，新建一个查询，通过下面的代码创建一个 <strong><font color=\"orange\">myuser</font></strong> 数据库用于 <strong><font color=\"orange\">JDBC</font></strong> 访问练习，并创建一个表并录入数据，具体代码及表数据如下：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">DATABASE</span> myuser<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">USE</span> myuser<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token operator\">NOT</span> <span class=\"token keyword\">EXISTS</span> account<span class=\"token punctuation\">(</span>\n    name <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token punctuation\">,</span>\n    password <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> account <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> account <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'李四'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\ce5e72987c314287bad5a6c529d4d31d.png\"/></p>\n<hr/>\n<h1><a id=\"2_JDBC_56\"></a>2 JDBC基础实验</h1>\n<h2><a id=\"21_JDBCMySQLmyuseraccount_57\"></a>2.1 编写JDBC连接MySQL数据库myuser，查询并显示account表数据实例</h2>\n<p>🐻 1. 先创建项目、包及 <strong><font color=\"orange\">Test.java</font></strong>，如下图所示：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\17eb47a95a3f4096b7f80538625841e1.png\"/><br/> 🐦 2.运行下面的JDBC代码，代码后附运行结果图，记得将数据库密码（你的密码）位置处改成自己的密码：</p>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">package</span> JDBC_test<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Connection<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>DriverManager<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>ResultSet<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Statement<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * @author 小黄小黄不再迷茫\n * @version 1.0\n */</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String args<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            Class<span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"com.mysql.cj.jdbc.Driver\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">//加载MYSQL JDBC驱动程序</span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Success loading Mysql Driver!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Error loading Mysql Driver!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            Connection connect <span class=\"token operator\">=</span> DriverManager<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token string\">\"jdbc:mysql://localhost:3306/myuser\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"你的密码\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//建立连接，URL为jdbc:mysql//服务器地址/数据库myuser ，后面的2个参数分别是登陆用户名和密码</span>\n\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Success connect Mysql server!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            Statement stmt <span class=\"token operator\">=</span> connect<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//创建运行对象</span>\n            ResultSet rs <span class=\"token operator\">=</span> stmt<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select * from account\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//执行查询account表</span>\n\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//获取name列的值（字符串型）</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"get data error!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\25d26a9225264c62ae3ece48d4e67801.png\"/></p>\n<h2><a id=\"22_JDBCMySQLmyuser_107\"></a>2.2 编写JDBC连接MySQL数据库，实现myuser数据库的增、删、改查的实例</h2>\n<p>🐰 1. 创建如下包、类：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\0a731e2b2b264959a980d1238727dcf4.png\"/><br/> 🐦 2.通过下面代码对 <strong><font color=\"orange\">myuser</font></strong> 数据库的 <strong><font color=\"orange\">account</font></strong> 表实现增删改查的操作：<br/> <strong><font color=\"pink\">Tips:同样别忘记将“你的密码”改成你的数据库密码哦！</font></strong></p>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">package</span> JDBC_test2<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Connection<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>DriverManager<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>ResultSet<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>SQLException<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Statement<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">/**\n * @author 小黄小黄不再迷茫\n * @version 1.0\n */</span>\n\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test2</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">static</span> Connection conn<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">static</span> Statement st<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//插入添加记录</span>\n        <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//更新记录数据</span>\n        <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//删除记录</span>\n        <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//查询记录并显示</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//（2）连接的获取，在操作前必须先获取与数据库的连接。</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> Connection <span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        String driver <span class=\"token operator\">=</span> <span class=\"token string\">\"com.mysql.cj.jdbc.Driver\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//若报错使用com.mysql.jdbc.Driver</span>\n        String url <span class=\"token operator\">=</span> <span class=\"token string\">\"jdbc:mysql://localhost:3306/myuser?serverTimezone=UTC \"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//myuser是数据库名称</span>\n        String username <span class=\"token operator\">=</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//数据库用户名</span>\n        String password <span class=\"token operator\">=</span> <span class=\"token string\">\"你的密码\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//数据库用户密码</span>\n        Connection conn <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            Class<span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//classLoader,加载对应驱动</span>\n            conn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Connection<span class=\"token punctuation\">)</span> DriverManager<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> conn<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//（3） 插入（insert）操作</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        conn <span class=\"token operator\">=</span> <span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 首先要获取连接，即连接到数据库</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            String sql <span class=\"token operator\">=</span> <span class=\"token string\">\"insert into account (name,password) values('lucy','123')\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 插入数据的sql语句</span>\n            st <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Statement<span class=\"token punctuation\">)</span> conn<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 创建用于执行静态sql语句的Statement对象</span>\n            <span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> st<span class=\"token punctuation\">.</span><span class=\"token function\">executeUpdate</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 执行插入操作的sql语句，并返回插入数据的个数</span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"向account表中插入 \"</span> <span class=\"token operator\">+</span> count <span class=\"token operator\">+</span> <span class=\"token string\">\" 条数据\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//输出插入操作的处理结果</span>\n            conn<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//关闭数据库连接</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"插入数据失败\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//（4） 更新（update）操作</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        conn <span class=\"token operator\">=</span> <span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//同样先要获取连接，即连接到数据库</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            String sql <span class=\"token operator\">=</span> <span class=\"token string\">\"update account set password='0000' where name = '张三'\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 更新数据的sql语句</span>\n            st <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Statement<span class=\"token punctuation\">)</span> conn<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//创建用于执行静态sql语句的Statement对象，st属局部变量</span>\n            <span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> st<span class=\"token punctuation\">.</span><span class=\"token function\">executeUpdate</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 执行更新操作的sql语句，返回更新数据的个数</span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account表中更新 \"</span> <span class=\"token operator\">+</span> count <span class=\"token operator\">+</span> <span class=\"token string\">\" 条数据\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">//输出更新操作的处理结果</span>\n            conn<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//关闭数据库连接</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"更新数据失败\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//（5）查询（query）操作</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        conn <span class=\"token operator\">=</span> <span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//同样先要获取连接，即连接到数据库</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            String sql <span class=\"token operator\">=</span> <span class=\"token string\">\"select * from account\"</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// 查询数据的sql语句</span>\n            st <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Statement<span class=\"token punctuation\">)</span> conn<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//创建用于执行静态sql语句的Statement对象，st属局部变量</span>\n            ResultSet rs <span class=\"token operator\">=</span> st<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//执行sql查询语句，返回查询数据的结果集</span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"最后的查询结果为：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token comment\">// 判断是否还有下一个数据</span>\n                <span class=\"token comment\">// 根据字段名获取相应的值</span>\n                String name <span class=\"token operator\">=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                String password <span class=\"token operator\">=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">getString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">//输出查到的记录的各个字段的值</span>\n                System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> password <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            conn<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//关闭数据库连接</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"查询数据失败\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">//（6）删除（delete）操作</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> delete <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            conn <span class=\"token operator\">=</span> <span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//同样先要获取连接，即连接到数据库</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n                String sql <span class=\"token operator\">=</span> <span class=\"token string\">\"delete from account  where name = '李四'\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 删除数据的sql语句</span>\n                st <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Statement<span class=\"token punctuation\">)</span> conn<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//创建用于执行静态sql语句的Statement对象，st属局部变量</span>\n                <span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> st<span class=\"token punctuation\">.</span><span class=\"token function\">executeUpdate</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 执行sql删除语句，返回删除数据的数量</span>\n                System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"account表中删除 \"</span> <span class=\"token operator\">+</span> count <span class=\"token operator\">+</span> <span class=\"token string\">\" 条数据\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//输出删除操作的处理结果</span>\n                conn<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//关闭数据库连接</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"删除数据失败\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\fd818ae536a54104a32418a7cb3e42d8.png\"/><br/> 🐱 3.回到 <strong><font color=\"orange\">datagrip</font></strong> 查看 <strong><font color=\"orange\">account</font></strong> 表的数据，发现表的数据成功被更新：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\1d064a81be72418e91ff09106759e1a9.png\"/></p>\n<hr/>\n<h1><a id=\"3_JDBC_228\"></a>3 JDBC进阶实验——简易登录界面</h1>\n<h2><a id=\"31__229\"></a>3.1 具体实现</h2>\n<p>🐰 1. <strong><font color=\"orange\">MyConnection</font></strong>类，实现数据库连接：<br/> <strong><font color=\"pink\">Tips:同样别忘记将“你的密码”改成你的数据库密码哦！</font></strong></p>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">package</span> JDBC_test3<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Connection<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>DriverManager<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>SQLException<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">/**\n * @author 小黄小黄不再迷茫\n * @version 1.0\n */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyConnection</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> Connection <span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        String driver <span class=\"token operator\">=</span> <span class=\"token string\">\"com.mysql.cj.jdbc.Driver\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//使用Jar包驱动</span>\n        String url <span class=\"token operator\">=</span> <span class=\"token string\">\"jdbc:mysql://localhost:3306/myuser?serverTimezone=UTC\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//链接数据库端口，数据库名</span>\n        String username <span class=\"token operator\">=</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//数据库用户名</span>\n        String password <span class=\"token operator\">=</span> <span class=\"token string\">\"你的密码\"</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//数据库密码</span>\n        Connection conn <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            Class<span class=\"token punctuation\">.</span><span class=\"token function\">forName</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//classLoader,加载对应驱动</span>\n            conn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>Connection<span class=\"token punctuation\">)</span> DriverManager<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> username<span class=\"token punctuation\">,</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClassNotFoundException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//异常捕获</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SQLException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> conn<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>🐦 2. <strong><font color=\"orange\">Login</font></strong> 类，实现登录界面：</p>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">package</span> JDBC_test3<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> javax<span class=\"token punctuation\">.</span>swing<span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>ActionEvent<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>awt<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">.</span>ActionListener<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Connection<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>ResultSet<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>Statement<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n 1. @author 小黄小黄不再迷茫\n 2. @version 1.0\n */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Login</span>  <span class=\"token keyword\">extends</span> <span class=\"token class-name\">JFrame</span><span class=\"token punctuation\">{<!-- --></span>\n\n    <span class=\"token keyword\">private</span> JLabel JLname<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> JLabel JLpwd<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> JTextField JTname<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> JPasswordField JTpwd<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> JButton JBsure<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> JButton JBexit<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">Login</span><span class=\"token punctuation\">(</span>String title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JLname <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"用户名：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//设置Label和按钮名</span>\n        JLpwd <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"密  码：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JTname <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JTextField</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JTpwd <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JPasswordField</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JBsure <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"确定\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JBexit <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JButton</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"取消\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        JLname<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//设置Label和按钮大小</span>\n        JTname<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">170</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JLpwd<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JTpwd<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">170</span><span class=\"token punctuation\">,</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JBsure<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">110</span><span class=\"token punctuation\">,</span><span class=\"token number\">130</span><span class=\"token punctuation\">,</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        JBexit<span class=\"token punctuation\">.</span><span class=\"token function\">setBounds</span><span class=\"token punctuation\">(</span><span class=\"token number\">180</span><span class=\"token punctuation\">,</span><span class=\"token number\">130</span><span class=\"token punctuation\">,</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setLayout</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>JLname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>JTname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>JLpwd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>JTpwd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>JBsure<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>JBexit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        JBsure<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ActionListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//添加按钮监听</span>\n\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">actionPerformed</span><span class=\"token punctuation\">(</span>ActionEvent arg0<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">loginCheak</span><span class=\"token punctuation\">(</span>JTname<span class=\"token punctuation\">,</span>JTpwd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        JBexit<span class=\"token punctuation\">.</span><span class=\"token function\">addActionListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ActionListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">actionPerformed</span><span class=\"token punctuation\">(</span>ActionEvent e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\n                System<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">loginCheak</span><span class=\"token punctuation\">(</span>JTextField tf<span class=\"token punctuation\">,</span>JPasswordField pf<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        String username <span class=\"token operator\">=</span> tf<span class=\"token punctuation\">.</span><span class=\"token function\">getText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        String password <span class=\"token operator\">=</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span>pf<span class=\"token punctuation\">.</span><span class=\"token function\">getPassword</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//输出填写的密码</span>\n\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>username<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//判断用户名是否为空</span>\n            JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span><span class=\"token string\">\"账号不能为空\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Warning\"</span><span class=\"token punctuation\">,</span>JOptionPane<span class=\"token punctuation\">.</span>WARNING_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//判断密码是否为空</span>\n            JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span>null<span class=\"token punctuation\">,</span><span class=\"token string\">\"密码不能为空\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Warning\"</span><span class=\"token punctuation\">,</span>JOptionPane<span class=\"token punctuation\">.</span>WARNING_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            Connection con <span class=\"token operator\">=</span> MyConnection<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span><span class=\"token comment\">//调用MyConnection.java中的getConnection方法</span>\n            Statement stmt<span class=\"token operator\">=</span>con<span class=\"token punctuation\">.</span><span class=\"token function\">createStatement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            String sql <span class=\"token operator\">=</span> <span class=\"token string\">\"select * from account where name = '\"</span> <span class=\"token operator\">+</span> username <span class=\"token operator\">+</span> <span class=\"token string\">\"' and password = '\"</span> <span class=\"token operator\">+</span> password <span class=\"token operator\">+</span> <span class=\"token string\">\"'\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//SQL选择查询语句</span>\n            ResultSet rs<span class=\"token operator\">=</span>stmt<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>rs<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"成功登录\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"提示\"</span><span class=\"token punctuation\">,</span>  JOptionPane<span class=\"token punctuation\">.</span>INFORMATION_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">dispose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n                JOptionPane<span class=\"token punctuation\">.</span><span class=\"token function\">showMessageDialog</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"帐号或密码错误!\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"警告\"</span><span class=\"token punctuation\">,</span>  JOptionPane<span class=\"token punctuation\">.</span>WARNING_MESSAGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                pf<span class=\"token punctuation\">.</span><span class=\"token function\">requestFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>Exception e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> main <span class=\"token punctuation\">(</span>String <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//主函数</span>\n        Login ft<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Login</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"欢迎登陆\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ft<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token number\">340</span><span class=\"token punctuation\">,</span> <span class=\"token number\">240</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ft<span class=\"token punctuation\">.</span><span class=\"token function\">setLocation</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ft<span class=\"token punctuation\">.</span><span class=\"token function\">setVisible</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        ft<span class=\"token punctuation\">.</span><span class=\"token function\">setResizable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"32__376\"></a>3.2 效果展示</h2>\n<ol><li> <p>登录界面展示，用户名和密码依次输入 张三、0000：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\01df08d3fc234dab9b96a03862c05ce2.png\"/></p> </li><li> <p>点击确定，提示登录成功：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\c5fb48dbca074c8b866f9644f9fc78b0.png\"/></p> </li><li> <p>重新运行，输入张三和一个错误密码，提示登录失败：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\e66301a26d3f4595849d13f497c547d8.png\"/></p> </li><li> <p>直接点击登录，提示用户名不能为空：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\a0037194cc85446db86068c3d562e1b9.png\"/></p> </li></ol>\n<hr/>\n<h1><a id=\"_393\"></a>写在最后</h1>\n<p>🌟以上便是本文的全部内容啦，后续内容将会持续<strong>免费更新</strong>，如果文章对你有所帮助，麻烦动动小手<strong>点个赞 + 关注</strong>，非常感谢 ❤️ ❤️ ❤️ !<br/> 如果有问题，欢迎私信或者评论区！<br/> <img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/7684bc1b79c547fcb4098c416e0a0f24.webp#pic_center\"/></p>\n<p>共勉：“你间歇性的努力和蒙混过日子，都是对之前努力的清零。”<br/> <img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/a1397a96b231496891ed9550209c5de9.gif#pic_center\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}