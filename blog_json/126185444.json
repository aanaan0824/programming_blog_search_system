{"blogid": "126185444", "writerAge": "码龄2年", "writerBlogNum": "101", "writerCollect": "931", "writerComment": "203", "writerFan": "1840", "writerGrade": "5级", "writerIntegral": "1925", "writerName": "落寞的魚丶", "writerProfileAdress": "writer_image\\profile_126185444.jpg", "writerRankTotal": "14305", "writerRankWeekly": "22171", "writerThumb": "575", "writerVisitNum": "177846", "blog_read_count": "138", "blog_time": "于 2022-09-05 16:05:14 发布", "blog_title": "看完这篇 教你玩转渗透测试靶机vulnhub——FunBox1", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>Vulnhub靶机FunBox1渗透测试详解</h3>\n<ul><li><ul><li><a href=\"#Vulnhub_1\">Vulnhub靶机介绍：</a></li><li><a href=\"#Vulnhub_5\">Vulnhub靶机下载：</a></li><li><a href=\"#Vulnhub_7\">Vulnhub靶机安装：</a></li><li><a href=\"#Vulnhub_12\">Vulnhub靶机漏洞详解：</a></li><li><ul><li><ul><li><a href=\"#_13\">①：信息收集：</a></li><li><a href=\"#_36\">②：暴力破解：</a></li><li><a href=\"#ssh_50\">③：ssh登入：</a></li><li><a href=\"#_58\">④：提权：</a></li><li><a href=\"#flag_74\">⑤：获取flag：</a></li></ul>\n</li></ul>\n</li><li><a href=\"#Vulnhub_78\">Vulnhub靶机渗透总结：</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"Vulnhub_1\"></a>Vulnhub靶机介绍：</h2>\n<p><strong>vulnhub是个提供各种漏洞平台的综合靶场，可供下载多种虚拟机进行下载，本地VM打开即可，像做游戏一样去完成渗透测试、提权、漏洞利用、代码审计等等有趣的实战。</strong></p>\n<p><strong>老样子需要找到flag即可。</strong></p>\n<h2><a id=\"Vulnhub_5\"></a>Vulnhub靶机下载：</h2>\n<p><strong>官网地址：<a href=\"https://download.vulnhub.com/funbox/FunBox.ova\">https://download.vulnhub.com/funbox/FunBox.ova</a></strong></p>\n<h2><a id=\"Vulnhub_7\"></a>Vulnhub靶机安装：</h2>\n<p><strong>下载好了把安装包解压 然后使用<code>Oracle VM</code>打开即可。</strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\ea306d7eebd04e6f8d7dc3a7874949ed.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\b7d6db48ef8f431b81078adc6c8441c3.png\"/></p>\n<h2><a id=\"Vulnhub_12\"></a>Vulnhub靶机漏洞详解：</h2>\n<h4><a id=\"_13\"></a>①：信息收集：</h4>\n<p><strong>kali里使用<code>netdiscover</code>发现主机</strong></p>\n<p><strong>渗透机：kali IP ：172.16.5.110 靶机IP ：172.16.5.118</strong></p>\n<blockquote>\n<p>使用命令：<code>nmap -sS -sV -A -n 172.16.5.118</code></p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\f7f37e1afaeb42559bf5f65178a82952.png\"/></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\91a3b01442cb4cfba5adb93031fd10ae.png\"/><br/> <strong>通过扫描 发现开启了<code>21</code>，<code>22</code>，<code>80</code>端口 先访问一下80端口 发现 会跳转 所以需要设置<code>host</code> 文件 解析</strong></p>\n<p><strong>添加<code>/etc/hosts</code>：<code>172.16.5.118 funbox.fritz.box</code> 再次访问就可以了 感觉之前<code>DC</code>系列做过 应该是<code>WordPress</code></strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\d3c87757cfce4686a443bb401a2ecaa3.png\"/><br/> <strong>先访问一下<code>/robots.txt/</code>看看有没有可以利用的信息发现了<code>/secret/</code>里面啥也没</strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\46546c57ca624625bfffa56822b5927a.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\577c162d98a7472ebb29f6052c0f1d0a.png\"/></p>\n<p>直接使用<code>dirb</code> 简单的扫了一下 发现了后台 <code>/wp-admin/</code></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\8018943973404fa68fbd7f374e756e41.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\59b7b9592011460fbd898ba1daca1815.png\"/></p>\n<h4><a id=\"_36\"></a>②：暴力破解：</h4>\n<p><strong>现在知道了后台 需要知道账号和密码 使用需要进行枚举 使用工具 <code>wpscan</code></strong> <strong>得到了两个账户：<code>admin/joe</code></strong></p>\n<pre><code class=\"prism language-python\">wpscan <span class=\"token operator\">-</span><span class=\"token operator\">-</span>url http<span class=\"token punctuation\">:</span><span class=\"token operator\">//</span>funbox<span class=\"token punctuation\">.</span>fritz<span class=\"token punctuation\">.</span>box<span class=\"token operator\">/</span> <span class=\"token operator\">-</span>e \n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\7a314a1d8ca14c5fb9770efb02c10fac.png\"/></p>\n<pre><code class=\"prism language-csharp\">wpscan <span class=\"token operator\">--</span><span class=\"token class-name\">url</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>funbox<span class=\"token punctuation\">.</span>fritz<span class=\"token punctuation\">.</span>box<span class=\"token operator\">/</span> <span class=\"token operator\">-</span><span class=\"token class-name\">U</span> admin<span class=\"token punctuation\">,</span>joe <span class=\"token operator\">--</span>passwords <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>wordlists<span class=\"token operator\">/</span>rockyou<span class=\"token punctuation\">.</span>txt\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\89585002043147c997c50ace2d583476.png\"/><br/> <strong>得到了密码：<code>joe/12345</code> 和 <code>admin/iubire</code></strong></p>\n<h4><a id=\"ssh_50\"></a>③：ssh登入：</h4>\n<p><strong>因为开启了<code>22</code>端口 直接尝试 <code>ssh</code>链接 发现连接🔗成功</strong></p>\n<pre><code class=\"prism language-csharp\">ssh joe@<span class=\"token number\">172.16</span><span class=\"token number\">.5</span><span class=\"token number\">.118</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\48aa055e9dda440eb6fd4f309f1863b0.png\"/></p>\n<h4><a id=\"_58\"></a>④：提权：</h4>\n<p><strong>登入成功 发现权限很低 所以我们需要对其进行提权</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\6957764f2d90498aaf13c826bed62469.png\"/><br/> <strong>这里想切换根目录 发现被限制了 使用命令： <code>python -c 'import os; os.system(\"/bin/bash\");'</code> 然后就突破了限制</strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\8d624c5cb3b647fd973e125d8442a18e.png\"/><br/> <strong>然后 在 <code>funny</code>下 发现了 <code>.backup.sh</code> 可执行脚本 而<code>.reminder.sh</code> 说明<code>backup</code>会定时执行</strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\2a49ac925b6a4b52bb782285aabb4d5a.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\bc921e8078c5428b8992381e9acf6fa6.png\"/><br/> <strong>设置本地<code>ip</code> <code>nc</code>进行监听 ，每过几分钟就会运行一次 <code>.bash.sh</code> 脚本 然后就会回弹<code>shell</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\b4e3bf52a4b14d44a0b13b064f665eef.png\"/><br/> <strong>其实这里还可以传一个<code>pspy64</code>程序 进行定时提权 之前 <code>DriftingBlues</code> 系列做过（没做过的可以自行尝试）</strong></p>\n<p><strong>可以参考这篇文章：<a href=\"https://blog.csdn.net/Aluxian_/article/details/125356541\">https://blog.csdn.net/Aluxian_/article/details/125356541</a></strong></p>\n<h4><a id=\"flag_74\"></a>⑤：获取flag：</h4>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\2bdc6e0550c44324be7b354ba6a31b4d.png\"/><br/> <strong>至此获取到了所有得flag，渗透测试结束。</strong></p>\n<h2><a id=\"Vulnhub_78\"></a>Vulnhub靶机渗透总结：</h2>\n<p><strong>1.修改<code>/etc/hosts</code> 文件 解析网站</strong><br/> <strong>2.从新学习了一遍定时提权 （主要是回弹的命令）</strong><br/> <strong>3.还有一些简单的扫码工具 和枚举工具 这靶机其实很简单 因为太久没做了 所以从新温习一下 主要是学习渗透的思路！</strong></p>\n<p><strong>因为最近刚开学 所以才有时间慢慢更新 后续会把这个系列的靶机做完最后创作不易 希望对大家有所帮助 喜欢的话麻烦大家给个一键三连 你的开心就是我最大的快乐！！</strong></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}