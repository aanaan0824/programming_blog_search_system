{"blogid": "123871631", "writerAge": "码龄1年", "writerBlogNum": "5", "writerCollect": "5", "writerComment": "0", "writerFan": "1", "writerGrade": "1级", "writerIntegral": "54", "writerName": "木Giser", "writerProfileAdress": "writer_image\\profile_123871631.jpg", "writerRankTotal": "132170", "writerRankWeekly": "1126354", "writerThumb": "2", "writerVisitNum": "1841", "blog_read_count": "1196", "blog_time": "于 2022-04-02 15:01:38 发布", "blog_title": "C#委托，事件详解", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"%E7%A8%8B%E5%BA%8F%E9%9B%86%EF%BC%9A%E7%BC%96%E8%AF%91%E5%99%A8%E6%8E%A5%E5%8F%97%E6%BA%90%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%B9%B6%E7%94%9F%E6%88%90%E8%AF%A5%E6%96%87%E4%BB%B6-toc\" style=\"margin-left:40px;\"><a href=\"#%E7%A8%8B%E5%BA%8F%E9%9B%86%EF%BC%9A%E7%BC%96%E8%AF%91%E5%99%A8%E6%8E%A5%E5%8F%97%E6%BA%90%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%B9%B6%E7%94%9F%E6%88%90%E8%AF%A5%E6%96%87%E4%BB%B6\">程序集：编译器接受源代码文件并生成该文件</a></p>\n<p id=\"%E7%BB%93%E6%9E%84%EF%BC%9A%EF%BC%88struct%EF%BC%89-toc\" style=\"margin-left:40px;\"><a href=\"#%E7%BB%93%E6%9E%84%EF%BC%9A%EF%BC%88struct%EF%BC%89\">结构：（struct）</a></p>\n<p id=\"%E2%80%8B-toc\" style=\"margin-left:40px;\"><a href=\"#%E2%80%8B\">​</a></p>\n<p id=\"%E6%9E%9A%E4%B8%BE%EF%BC%9A(enum)-toc\" style=\"margin-left:40px;\"><a href=\"#%E6%9E%9A%E4%B8%BE%EF%BC%9A%28enum%29\">枚举：(enum)</a></p>\n<p id=\"%E5%A7%94%E6%89%98%EF%BC%9A-toc\" style=\"margin-left:40px;\"><a href=\"#%E5%A7%94%E6%89%98%EF%BC%9A\">委托：</a></p>\n<p id=\"%E5%88%9B%E5%BB%BA%E5%A7%94%E6%89%98%E5%AF%B9%E8%B1%A1%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E5%88%9B%E5%BB%BA%E5%A7%94%E6%89%98%E5%AF%B9%E8%B1%A1%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A\">创建委托对象两种方法：</a></p>\n<p id=\"%E7%BB%84%E5%90%88%E5%A7%94%E6%89%98%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E7%BB%84%E5%90%88%E5%A7%94%E6%89%98%EF%BC%9A\">组合委托：</a></p>\n<p id=\"%E4%B8%BA%E5%A7%94%E6%89%98%E5%A2%9E%E5%8A%A0%E6%96%B9%E6%B3%95%EF%BC%9A%E3%80%90%2B%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%91-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%B8%BA%E5%A7%94%E6%89%98%E5%A2%9E%E5%8A%A0%E6%96%B9%E6%B3%95%EF%BC%9A%E3%80%90%2B%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%91\">为委托增加方法：【+=运算符】</a></p>\n<p id=\"%C2%A0%E4%BB%8E%E5%A7%94%E6%89%98%E7%A7%BB%E9%99%A4%E6%96%B9%E6%B3%95%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%C2%A0%E4%BB%8E%E5%A7%94%E6%89%98%E7%A7%BB%E9%99%A4%E6%96%B9%E6%B3%95%EF%BC%9A\"> 从委托移除方法：</a></p>\n<p id=\"%C2%A0%E8%B0%83%E7%94%A8%E5%A7%94%E6%89%98%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%C2%A0%E8%B0%83%E7%94%A8%E5%A7%94%E6%89%98%EF%BC%9A\"> 调用委托：</a></p>\n<p id=\"%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%88anonymous%20method%EF%BC%89%3A-toc\" style=\"margin-left:80px;\"><a href=\"#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%88anonymous%20method%EF%BC%89%3A\">匿名函数（anonymous method）:</a></p>\n<p id=\"%E4%BA%8B%E4%BB%B6%EF%BC%9A-toc\" style=\"margin-left:40px;\"><a href=\"#%E4%BA%8B%E4%BB%B6%EF%BC%9A\">事件：</a></p>\n<p id=\"%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E7%BB%84%E6%88%90%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E7%BB%84%E6%88%90%EF%BC%9A\">由五部分代码组成：</a></p>\n<p id=\"%E2%80%8B-toc\" style=\"margin-left:80px;\"><a href=\"#%E2%80%8B\">​</a></p>\n<p id=\"%E4%B8%80%E3%80%81%E4%BA%8B%E4%BB%B6%E5%A3%B0%E6%98%8E%EF%BC%9A%E8%BF%99%E4%B8%AA%E4%BA%8B%E4%BB%B6%E5%8F%91%E5%B8%83%E8%80%85%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%A3%B0%E6%98%8E%E4%BF%9D%E5%AD%98%E5%B9%B6%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%B8%80%E3%80%81%E4%BA%8B%E4%BB%B6%E5%A3%B0%E6%98%8E%EF%BC%9A%E8%BF%99%E4%B8%AA%E4%BA%8B%E4%BB%B6%E5%8F%91%E5%B8%83%E8%80%85%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%A3%B0%E6%98%8E%E4%BF%9D%E5%AD%98%E5%B9%B6%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F\">一、事件声明：这个事件发布者类中的声明保存并调用事件处理程序</a></p>\n<p id=\"%E4%BA%8C%E3%80%81%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%EF%BC%9A%E4%BA%8B%E4%BB%B6%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%BF%85%E9%A1%BB%E6%9C%89%E5%85%B1%E5%90%8C%E7%9A%84%E7%AD%BE%E5%90%8D%E5%92%8C%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E9%80%9A%E8%BF%87%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E8%BF%9B%E8%A1%8C%E6%8F%8F%E8%BF%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%BA%8C%E3%80%81%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%EF%BC%9A%E4%BA%8B%E4%BB%B6%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%BF%85%E9%A1%BB%E6%9C%89%E5%85%B1%E5%90%8C%E7%9A%84%E7%AD%BE%E5%90%8D%E5%92%8C%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E9%80%9A%E8%BF%87%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E8%BF%9B%E8%A1%8C%E6%8F%8F%E8%BF%B0\">二、委托类型声明：事件和事件处理程序必须有共同的签名和返回类型，它们通过委托类型声明进行描述</a></p>\n<p id=\"%E4%B8%89%E3%80%81%E4%BA%8B%E4%BB%B6%E6%B3%A8%E5%86%8C%EF%BC%9A%E6%8A%8A%E4%BA%8B%E4%BB%B6%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%B8%89%E3%80%81%E4%BA%8B%E4%BB%B6%E6%B3%A8%E5%86%8C%EF%BC%9A%E6%8A%8A%E4%BA%8B%E4%BB%B6%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F\">三、事件注册：把事件连接到事件处理程序</a></p>\n<p id=\"%E5%9B%9B%E3%80%81%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9A%20%E5%8F%91%E5%B8%83%E8%80%85%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%AF%BC%E8%87%B4%E5%AE%83%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F-toc\" style=\"margin-left:80px;\"><a href=\"#%E5%9B%9B%E3%80%81%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9A%20%E5%8F%91%E5%B8%83%E8%80%85%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%AF%BC%E8%87%B4%E5%AE%83%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F\">四、触发事件的代码： 发布者类中的这段代码调用事件导致它调用事件处理程序</a></p>\n<p id=\"%E4%BA%94%E3%80%81%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%A3%B0%E6%98%8E%EF%BC%9A%E8%BF%99%E4%BA%9B%E5%9C%A8%E8%AE%A2%E9%98%85%E8%80%85%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%AD%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%BC%9A%E5%9C%A8%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E6%97%B6%E8%A2%AB%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%AE%83%E4%BB%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E6%9C%89%E7%8B%AC%E7%AB%8B%E7%9A%84%E5%8A%9E%E6%B3%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%E6%88%96lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%BA%94%E3%80%81%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%A3%B0%E6%98%8E%EF%BC%9A%E8%BF%99%E4%BA%9B%E5%9C%A8%E8%AE%A2%E9%98%85%E8%80%85%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%AD%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%BC%9A%E5%9C%A8%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E6%97%B6%E8%A2%AB%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%AE%83%E4%BB%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E6%9C%89%E7%8B%AC%E7%AB%8B%E7%9A%84%E5%8A%9E%E6%B3%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%E6%88%96lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F\">五、事件处理程序声明：这些在订阅者类的方法中的描述会在事件触发时被执行，它们不需要有独立的办法，可以是匿名方法或lambda表达式</a></p>\n<p id=\"%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A0%87%E5%87%86%E6%A8%A1%E5%BC%8F%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A0%87%E5%87%86%E6%A8%A1%E5%BC%8F%EF%BC%9A\">事件委托类型的标准模式：</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<hr/>\n<p></p>\n<h2 id=\"%E7%A8%8B%E5%BA%8F%E9%9B%86%EF%BC%9A%E7%BC%96%E8%AF%91%E5%99%A8%E6%8E%A5%E5%8F%97%E6%BA%90%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%B9%B6%E7%94%9F%E6%88%90%E8%AF%A5%E6%96%87%E4%BB%B6\">程序集：编译器接受源代码文件并生成该文件</h2>\n<p>类库：以.dll缩写的程序集文件</p>\n<p>.Net BCL(Base Class Library)——基底类别库，是CLI（Common Language Infrastructure）之一</p>\n<p><img alt=\"\" height=\"183\" src=\"image\\5e4f2d7b6d354fa69f7f729383acf739.png\" width=\"932\"/></p>\n<p>using</p>\n<p>using命名空间指令</p>\n<p>using别名指令</p>\n<p><img alt=\"\" height=\"781\" src=\"image\\0db80033c54a4113ad4488c77f848209.png\" width=\"1149\"/></p>\n<h2 id=\"%E7%BB%93%E6%9E%84%EF%BC%9A%EF%BC%88struct%EF%BC%89\">结构：（struct）</h2>\n<p>结构派生自System.ValueType(其派生自object)</p>\n<p>值类型，不能被派生</p>\n<p><span style=\"color:#fe2c24;\">字段初始化不被允许</span></p>\n<p><img alt=\"\" height=\"364\" src=\"image\\1d0a2725a36a4cf7990a8f5449c8b637.png\" width=\"1121\"/></p>\n<p></p>\n<p>实例构造函数：</p>\n<p><img alt=\"\" height=\"1088\" src=\"image\\90901cdb6d40408eadab5aea8f6c6360.png\" width=\"1165\"/></p>\n<h2 id=\"%E2%80%8B\"><img alt=\"\" height=\"399\" src=\"image\\6038517961f34274bba41d91501f0d60.png\" width=\"1166\"/></h2>\n<h2 id=\"%E6%9E%9A%E4%B8%BE%EF%BC%9A(enum)\">枚举：(enum)</h2>\n<p>值类型，只有一种类型成员：命名的整数常量</p>\n<p> <img alt=\"\" height=\"323\" src=\"image\\85f4da251be7435bac11edba35358b24.png\" width=\"1187\"/></p>\n<p><img alt=\"\" height=\"547\" src=\"image\\cb85f84413b44cd99aa956228b62dd74.png\" width=\"806\"/></p>\n<p><img alt=\"\" height=\"339\" src=\"image\\4e76af2af9524a2c9e3b38ac1301ba23.png\" width=\"748\"/></p>\n<h2 id=\"%E5%A7%94%E6%89%98%EF%BC%9A\">委托：</h2>\n<p>委托保存一个或多个方法</p>\n<p>委托可以看做包含有序方法列表的对象，这些方法具有相同的签名和返回对象，列方法叫做调用列表</p>\n<h3 id=\"%E5%88%9B%E5%BB%BA%E5%A7%94%E6%89%98%E5%AF%B9%E8%B1%A1%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%9A\"><span style=\"background-color:#a2e043;\">创建委托对象两种方法：</span></h3>\n<p><img alt=\"\" height=\"382\" src=\"image\\880c4444ac4a459db64f2a930d1d476b.png\" width=\"1104\"/></p>\n<p> 快捷语法：</p>\n<p><img alt=\"\" height=\"179\" src=\"image\\7b354eea4d3f42559c85156dedd03507.png\" width=\"1083\"/></p>\n<h3 id=\"%E7%BB%84%E5%90%88%E5%A7%94%E6%89%98%EF%BC%9A\"><span style=\"background-color:#a2e043;\">组合委托</span>：</h3>\n<p><img alt=\"\" height=\"242\" src=\"image\\dc686cab4caa4341a367d0c232164c2c.png\" width=\"1030\"/></p>\n<p></p>\n<p>【记住一点】委托是不可变的，实际上在创建新的委托</p>\n<h3 id=\"%E4%B8%BA%E5%A7%94%E6%89%98%E5%A2%9E%E5%8A%A0%E6%96%B9%E6%B3%95%EF%BC%9A%E3%80%90%2B%3D%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%91\"><span style=\"color:#0d0016;\"><span style=\"background-color:#a2e043;\">为委托增加方法：【+=运算符】</span></span></h3>\n<p><img alt=\"\" height=\"680\" src=\"image\\2393b14c7dd4466b9574841fbe74d33f.png\" width=\"1127\"/></p>\n<h3 id=\"%C2%A0%E4%BB%8E%E5%A7%94%E6%89%98%E7%A7%BB%E9%99%A4%E6%96%B9%E6%B3%95%EF%BC%9A\"> <span style=\"background-color:#a2e043;\">从委托移除方法：</span></h3>\n<p><img alt=\"\" height=\"568\" src=\"image\\8b6a2b63df40442794d31a295540ce1b.png\" width=\"1098\"/></p>\n<h3 id=\"%C2%A0%E8%B0%83%E7%94%A8%E5%A7%94%E6%89%98%EF%BC%9A\"><span style=\"background-color:#a2e043;\"> 调用委托：</span></h3>\n<p>一个方法可以在调用列表中出现多次 </p>\n<p><img alt=\"\" height=\"486\" src=\"image\\ceed2dbf0d0e4ef8bd6c4d7289ff6e6d.png\" width=\"1028\"/></p>\n<p><span style=\"background-color:#a2e043;\">引用参数的值会在调用期间发生改变</span></p>\n<h3 id=\"%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%EF%BC%88anonymous%20method%EF%BC%89%3A\"><span style=\"background-color:#a2e043;\">匿名函数（anonymous method）:</span></h3>\n<p>                                                                      delegate(parameters) {语句块}</p>\n<p>使用匿名方法：</p>\n<p><br/><img alt=\"\" height=\"181\" src=\"image\\b2cd0e8336024db0ac654dafb7861805.png\" width=\"743\"/></p>\n<p></p>\n<h2 id=\"%E4%BA%8B%E4%BB%B6%EF%BC%9A\">事件：</h2>\n<p>事件好像被简化的针对特殊用途的委托，事件是成员，没有对象，被隐式初始化为null</p>\n<p>相关术语：</p>\n<p><span style=\"background-color:#a2e043;\">触发事件（raise）</span>  invoke(调用)或fire(触发)事件的术语，当事件被触发时，所有注册到它的方法都会被调用</p>\n<p><span style=\"background-color:#a2e043;\">发布者（publisher）</span> 让事件被其他类或结构可见并使用的类或结构</p>\n<p><span style=\"background-color:#a2e043;\">订阅者（subscriber） </span>把事件和发布者关联注册的类或结构</p>\n<p><span style=\"background-color:#a2e043;\">事件处理程序（event handler）</span> 注册到事件的方法。可以在事件所在的类或结构中，或在不同的类或结构中</p>\n<h3 id=\"%E7%94%B1%E4%BA%94%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81%E7%BB%84%E6%88%90%EF%BC%9A\">由五部分代码组成：</h3>\n<h3><img alt=\"\" height=\"320\" src=\"image\\32a9821251cc4b979849b913761671f4.png\" width=\"654\"/></h3>\n<h3 id=\"%E4%B8%80%E3%80%81%E4%BA%8B%E4%BB%B6%E5%A3%B0%E6%98%8E%EF%BC%9A%E8%BF%99%E4%B8%AA%E4%BA%8B%E4%BB%B6%E5%8F%91%E5%B8%83%E8%80%85%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%A3%B0%E6%98%8E%E4%BF%9D%E5%AD%98%E5%B9%B6%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F\"><br/><span style=\"background-color:#38d8f0;\">一、事件声明：这个事件发布者类中的声明保存并调用事件处理程序</span></h3>\n<p></p>\n<p><img alt=\"\" height=\"407\" src=\"image\\b5353d9761624475843ac85f1284b96e.png\" width=\"1090\"/></p>\n<h3 id=\"%E4%BA%8C%E3%80%81%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%EF%BC%9A%E4%BA%8B%E4%BB%B6%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%BF%85%E9%A1%BB%E6%9C%89%E5%85%B1%E5%90%8C%E7%9A%84%E7%AD%BE%E5%90%8D%E5%92%8C%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%AE%83%E4%BB%AC%E9%80%9A%E8%BF%87%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E8%BF%9B%E8%A1%8C%E6%8F%8F%E8%BF%B0\"><span style=\"background-color:#38d8f0;\">二、委托类型声明：事件和事件处理程序必须有共同的签名和返回类型，它们通过委托类型声明进行描述</span></h3>\n<p><img alt=\"\" height=\"210\" src=\"image\\2429eae622594e93b434dc1fc930d37c.png\" width=\"1107\"/></p>\n<h3 id=\"%E4%B8%89%E3%80%81%E4%BA%8B%E4%BB%B6%E6%B3%A8%E5%86%8C%EF%BC%9A%E6%8A%8A%E4%BA%8B%E4%BB%B6%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F\"><span style=\"background-color:#38d8f0;\">三、事件注册：把事件连接到事件处理程序</span></h3>\n<h3 id=\"%E5%9B%9B%E3%80%81%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9A%20%E5%8F%91%E5%B8%83%E8%80%85%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%AF%BC%E8%87%B4%E5%AE%83%E8%B0%83%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F\"><span style=\"background-color:#38d8f0;\">四、触发事件的代码： 发布者类中的这段代码调用事件导致它调用事件处理程序</span></h3>\n<p>如果事件没有触发，什么都没有发生</p>\n<h3 id=\"%E4%BA%94%E3%80%81%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%A3%B0%E6%98%8E%EF%BC%9A%E8%BF%99%E4%BA%9B%E5%9C%A8%E8%AE%A2%E9%98%85%E8%80%85%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95%E4%B8%AD%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%BC%9A%E5%9C%A8%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E6%97%B6%E8%A2%AB%E6%89%A7%E8%A1%8C%EF%BC%8C%E5%AE%83%E4%BB%AC%E4%B8%8D%E9%9C%80%E8%A6%81%E6%9C%89%E7%8B%AC%E7%AB%8B%E7%9A%84%E5%8A%9E%E6%B3%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%E6%88%96lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F\"><span style=\"background-color:#38d8f0;\">五、事件处理程序声明：这些在订阅者类的方法中的描述会在事件触发时被执行，它们不需要有独立的办法，可以是匿名方法或lambda表达式</span></h3>\n<p>注：必须有和事件委托一致的返回类型和签名</p>\n<p><img alt=\"\" height=\"507\" src=\"image\\117e6eb355fa41139cdd2db4100fa440.png\" width=\"1028\"/></p>\n<h3 id=\"%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%A0%87%E5%87%86%E6%A8%A1%E5%BC%8F%EF%BC%9A\"><span style=\"background-color:#38d8f0;\">事件委托类型的标准模式：</span></h3>\n<p><span style=\"background-color:#a2e043;\">EventHandler:</span></p>\n<p><img alt=\"\" height=\"300\" src=\"image\\af80e2fe066242cdac71661a22f4f110.png\" width=\"1063\"/></p>\n<p> <span style=\"background-color:#a2e043;\">EventArgs:</span></p>\n<p><img alt=\"\" height=\"325\" src=\"image\\d8c1c92c4a0042a99039bf9b9b26d9c6.png\" width=\"1129\"/></p>\n<p> <span style=\"background-color:#a2e043;\">扩展EventArgs来传递数据：</span></p>\n<p><img alt=\"\" height=\"377\" src=\"image\\b45f5ebb6f424247b6453a9f023561ba.png\" width=\"1090\"/></p>\n<p> </p>\n</div>\n</div>"}