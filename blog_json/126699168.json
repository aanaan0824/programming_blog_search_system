{"blogid": "126699168", "writerAge": "码龄2年", "writerBlogNum": "100", "writerCollect": "1493", "writerComment": "1462", "writerFan": "5045", "writerGrade": "6级", "writerIntegral": "5162", "writerName": "^jhao^", "writerProfileAdress": "writer_image\\profile_126699168.jpg", "writerRankTotal": "3102", "writerRankWeekly": "1295", "writerThumb": "2001", "writerVisitNum": "65733", "blog_read_count": "44", "blog_time": "于 2022-09-05 10:11:23 发布", "blog_title": "【每日一题】最短无序连续子数组", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_4\">题目描述</a></li><li><a href=\"#_37\">题解</a></li></ul>\n</div>\n<p></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\48caf8474b374b5eb368cc862cac292c.jpeg\"/></p>\n<h1><a id=\"_4\"></a>题目描述</h1>\n<hr/>\n<p><a href=\"https://leetcode.cn/problems/shortest-unsorted-continuous-subarray/\">581. 最短无序连续子数组</a><br/> 给你一个整数数组 nums ，你需要找出一个 连续子数组 ，如果对这个子数组进行升序排序，那么整个数组都会变为升序排序。</p>\n<p>请你找出符合题意的 最短 子数组，并输出它的长度。</p>\n<p>示例 1：</p>\n<p>输入：nums = [2,6,4,8,10,9,15]<br/> 输出：5<br/> 解释：你只需要对 [6, 4, 8, 10, 9] 进行升序排序，那么整个表都会变为升序排序。<br/> 示例 2：</p>\n<p>输入：nums = [1,2,3,4]<br/> 输出：0<br/> 示例 3：</p>\n<p>输入：nums = [1]<br/> 输出：0</p>\n<p>提示：</p>\n<p>1 &lt;= nums.length &lt;= 104<br/> -105 &lt;= nums[i] &lt;= 105</p>\n<p>进阶：你可以设计一个时间复杂度为 O(n) 的解决方案吗？</p>\n<h1><a id=\"_37\"></a>题解</h1>\n<hr/>\n<p>我们采用从左往右更新右区间，从右往左更新左区间的方式。</p>\n<p>如下图1点，它是下降而来，这个时候前面<strong>一定有一个更大的值</strong>，说明这个值是<strong>需要调整的右边界。</strong><br/> 如果是水平而来，如2点，就要看先前的max值（max值保存的是前面区间最大的值）与这个值比较，若是比这个值大，说明到这个数为止的区间不满足有序，说明该数是要被调整的右边界；但如果是比这个数小，那就需要更新max值。<br/> 如果是上升而来，如3点，实际有两种情况，倘若3这个点是从左到3这个点中最大的，只需要更新max值，但如果比先前最大的小，那么说明3这个点是需要更新的右区间。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\f5e98bb93b184f0aa59263f1a6f658d7.png\"/></p>\n<p>最终能够得到需要更新的右区间。左区间的判断也同理。</p>\n<p><code>从上面讲述能够得知，一个点要么是更新区间，要么更新max值！！</code></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> <span class=\"token punctuation\">{<!-- --></span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">findUnsortedSubarray</span><span class=\"token punctuation\">(</span>vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&amp;</span> nums<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//if(nums.size() == 1) return 0;</span>\n        <span class=\"token keyword\">int</span> r <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//是为了后面的 r - l + 1 == 0</span>\n        <span class=\"token keyword\">int</span> l <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> \n        <span class=\"token keyword\">int</span> rnum <span class=\"token operator\">=</span> INT_MIN<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> lnum <span class=\"token operator\">=</span> INT_MAX<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>i <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span><span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>rnum <span class=\"token operator\">&gt;</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//更新右区间</span>\n                r <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span>\n            <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//更新值</span>\n                rnum <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>lnum <span class=\"token operator\">&lt;</span> nums<span class=\"token punctuation\">[</span>n <span class=\"token operator\">-</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//更新左区间</span>\n                l <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span>\n            <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//更新值</span>\n                lnum <span class=\"token operator\">=</span> nums<span class=\"token punctuation\">[</span>n <span class=\"token operator\">-</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> r <span class=\"token operator\">-</span> l <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n<hr/>\n<p><br/><br/></p>\n<blockquote>\n<p>end</p>\n</blockquote>\n<ul><li><strong>喜欢就收藏</strong></li><li><strong>认同就点赞</strong></li><li><strong>支持就关注</strong></li><li><strong>疑问就评论</strong></li></ul>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}