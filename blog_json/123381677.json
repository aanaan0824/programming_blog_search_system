{"blogid": "123381677", "writerAge": "码龄12年", "writerBlogNum": "34", "writerCollect": "206", "writerComment": "7", "writerFan": "22", "writerGrade": "4级", "writerIntegral": "1052", "writerName": "一遇一余", "writerProfileAdress": "writer_image\\profile_123381677.jpg", "writerRankTotal": "34744", "writerRankWeekly": "130513", "writerThumb": "45", "writerVisitNum": "146621", "blog_read_count": "4751", "blog_time": "已于 2022-03-09 17:27:07 修改", "blog_title": "linux 下 php 安装扩展", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>1、 下载需要的php操作redis的扩展包</p>\n<p>     (1)、切换到 cd  /  根目录 </p>\n<p>            <span style=\"color:#4da8ee;\">*如果是php带的扩展，可以进入 cd /home/soft/php-5.3.17/ext  目录，如果路径不同，可以搜索 find / -name \"ext\", 然后进入ext目录</span></p>\n<p>     (2)、下载phpredis  wget https://github.com/nicolasff/phpredis/archive/2.2.4.tar.gz   （https://github.com/nicolasff/phpredis ,这个手动下载并上传到服务器，然后用unzip  xxxx进行解压，下面步骤一样）  后面这个地址适合于php7</p>\n<p>     (3)、   tar -zxvf 2.2.4.tar.gz         解押</p>\n<p>     (4)、  cd phpredis-2.2.4         进入解押后phpredis目录</p>\n<p>           <span style=\"color:#4da8ee;\">*如果是php自带的扩展，进入扩展目录，比如  cd sysvmsg/   , 下面继续用phpize处理</span></p>\n<p>     (5)、/usr/local/php/bin/phpize          收集php相关的信息，如果 phpize 不在这个目录，可以搜索phpize路径，</p>\n<p>              find / -name \"phpize\";</p>\n<p>     (6)、./configure --with-php-config=/usr/local/php/bin/php-config   用来收集操作系统信息, 如果 php-config目录不对，也需要先搜索 php-config 路径</p>\n<p>              find / -name \"php-config\";</p>\n<p>2、编译和安装</p>\n<p>      make &amp;&amp; make install</p>\n<p>　　注意：完成后，可以发现生成一个目录  /usr/local/php/lib/php/extensions/no-debug-non-zts-20131226/  ，我们可以通过</p>\n<p>        ls   /usr/local/php/lib/php/extensions/no-debug-non-zts-20131226/   来查看一下，发现</p>\n<p>　　有如下的信息，其中redis.so 就是编译后的扩展包</p>\n<p>        <span style=\"color:#a2e043;\"><strong>opcache.a  opcache.so  redis.so</strong></span></p>\n<p><strong>3、修改php的php.ini文件</strong></p>\n<p><strong>　  </strong>（1）、找到  /usr/local/php/etc/php.ini文件（可以通过phpinfo函数查找位置），或者</p>\n<p>find / -name \"php.ini\"   搜索配置文件路径</p>\n<p>　  （2）、打开php.ini，</p>\n<p>    找到     <span style=\"color:#ff9900;\">；extension_dir = \"./\" </span></p>\n<p> 再下面加上，扩展的路径 和扩展</p>\n<p>extension_dir = \"/app/php/lib/php/extensions/no-debug-non-zts-20131226/\"</p>\n<p>extension = \"redis.so\"</p>\n<p></p>\n<p><strong>4、最后重启nginx</strong></p>\n<p><strong>     </strong>service nginx restart</p>\n<p>     service php-fpm restart  （重启进程管理器）</p>\n<p></p>\n<p></p>\n</div>\n</div>"}