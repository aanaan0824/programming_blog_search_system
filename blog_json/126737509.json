{"blogid": "126737509", "writerAge": "码龄1年", "writerBlogNum": "73", "writerCollect": "2690", "writerComment": "4743", "writerFan": "8456", "writerGrade": "6级", "writerIntegral": "8560", "writerName": "codeMak1r.小新", "writerProfileAdress": "writer_image\\profile_126737509.jpg", "writerRankTotal": "1737", "writerRankWeekly": "13", "writerThumb": "2859", "writerVisitNum": "209437", "blog_read_count": "252", "blog_time": "于 2022-09-07 08:34:49 发布", "blog_title": "【前端不求人】0编码实现REST API ｜ json-server", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/5892412c87714d5ea7987ab81a6fc8c2.gif#pic_center\"/></p>\n<blockquote>\n<p><strong><font color=\"#FF7F50\"> 欢迎来到我的博客</font></strong><br/> <strong>📔博主是一名大学在读本科生，主要学习方向是前端。<br/> 🍭目前已经更新了<font color=\"#FF7F50\">【Vue】、【React–从基础到实战】、【TypeScript】等等系列专栏</font><br/> 🛠目前正在学习的是🔥<span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n      \n       \n        \n         \n          R\n         \n         \n          e\n         \n         \n          a\n         \n         \n          c\n         \n         \n          t\n         \n         \n          框架\n         \n        \n        \n         React框架\n        \n       \n      </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.0077em;\">R</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">t</span><span class=\"mord cjk_fallback\">框架</span></span></span></span></span>🔥，中间穿插了一些基础知识的回顾<br/> 🌈博客主页👉<a href=\"https://blog.csdn.net/Svik_zy?type=blog\">codeMak1r.小新的博客</a></strong></p>\n<p></p>\n<div class=\"toc\">\n<h3>😇本文目录😇</h3>\n<ul><li><ul><li><a href=\"#_14\">前言</a></li><li><a href=\"#jsonserver_24\">什么是json-server？</a></li><li><a href=\"#jsonserver_36\">安装json-server</a></li><li><a href=\"#jsonserver_47\">json-server的使用</a></li><li><ul><li><a href=\"#__get_104\">取数据 -- get</a></li><li><a href=\"#__post_126\">增加数据 -- post</a></li><li><a href=\"#__put_153\">更新数据 -- put</a></li><li><a href=\"#__patch_183\">局部更新 -- patch</a></li><li><a href=\"#__delete_211\">删除数据 -- delete</a></li><li><a href=\"#___embed_234\">连接操作 -- _embed</a></li><li><a href=\"#___expand_270\">连接操作 -- _expand</a></li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<p><strong><font color=\"#FF7F50\">本文被专栏<a href=\"https://blog.csdn.net/svik_zy/category_12000880.html?spm=1001.2014.3001.5482\">【前端常见JS库】</a>收录</font></strong></p>\n</blockquote>\n<blockquote>\n<p><strong><font color=\"#FF7F50\">🕹坚持创作✏️，一起学习📖，码出未来👨🏻‍💻！</font></strong></p>\n</blockquote>\n<h2><a id=\"_14\"></a>前言</h2>\n<p>在个人前端项目实战中，我们经常因为缺少数据，没有相应的后端数据，导致没办法做出良好的页面来提升自己。其实，有一种方法，可以不需要<code>java API</code>，不需要<code>node API</code>，<strong>0编码即可实现一个包含增删改查的API接口，还能实现过滤、查询、排序等等操作</strong></p>\n<p>这个方法就是：<code>json-server</code>。各位，30秒时间，一个json文件，剩下的交给json-server通通都能搞定！</p>\n<h2><a id=\"jsonserver_24\"></a>什么是json-server？</h2>\n<blockquote>\n<p>一个基于<code>express</code>,<code>node</code>的一个被<code>npm</code>管理的库，它可以基于一个<code>json</code>文件，来为前端提供一个良好、可用的模拟数据接口。</p>\n<p>（类似mock^^）</p>\n<p><strong><code>json-server</code>站在mock与express的肩膀上，为前端提供了不错的模拟数据解决方案。</strong></p>\n<p>另外，json-server在创建server服务的同时，设置了<code>Access-Control-Allow-Origin</code>请求头，在服务端层面解决了跨域资源共享，无需前端再配置跨域。</p>\n</blockquote>\n<h2><a id=\"jsonserver_36\"></a>安装json-server</h2>\n<pre><code>npm i json-server \nyarn global add json-server\n//\n！需要全局安装！\n</code></pre>\n<h2><a id=\"jsonserver_47\"></a>json-server的使用</h2>\n<p>在包安装完成之后，json-server提供了全局命令：<code>json-server --watch</code>。</p>\n<p>我们首先准备一个用于测试的json文件，例如，我在<code>~/Documents/db/</code>路径下创建了一个<code>test.json</code>文件，文件内容如下：</p>\n<p>～/Documents/db/test.json</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token string-property property\">\"posts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"typicode\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"codeMak1r\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"comments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>启动json-server服务：</p>\n<pre><code>json-server --watch test.json\n</code></pre>\n<p>如果执行成功了，那么服务就已经开启在3000端口了。</p>\n<p>如果报以下错误：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\ca8f3d26538a44cca2ccaf8735960a42.png\"/></p>\n<p>说明你电脑中的3000端口已被占用，我们换个端口就好了：</p>\n<pre><code>json-server --watch db.json --port 5000\n</code></pre>\n<p>使用<code>--port</code>指定服务开启的端口号。</p>\n<p>此时，直接在浏览器的地址栏中访问json-server服务，我的json-server服务是开启在5000端口的，于是我在浏览器地址栏中输入：<code>localhost:5000</code>按下回车，看到如下页面：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\eeaef8630e5046a4b0d941bac1e08081.png\"/></p>\n<p>说明你的json-server服务器启动成功。</p>\n<h3><a id=\"__get_104\"></a>取数据 – get</h3>\n<pre><code class=\"prism language-js\">axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// 取id=1的数据</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts?id=1\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 取id=1且title=json-server的数据</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts?id=1&amp;title=json-server\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// 取id=1的对象</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts/1\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"__post_126\"></a>增加数据 – post</h3>\n<pre><code class=\"prism language-js\">axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"333\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">author</span><span class=\"token operator\">:</span> <span class=\"token string\">\"xiaoming\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>此时，test.json文件内容变为</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token string-property property\">\"posts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"typicode\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"codeMak1r\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"333\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"xiaoming\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"comments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"__put_153\"></a>更新数据 – put</h3>\n<pre><code class=\"prism language-js\">axios<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts/1\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-修改\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>此时，test.json文件内容变为</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token string-property property\">\"posts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-修改\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"codeMak1r\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"333\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"xiaoming\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"comments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>我们发现，原先数据中的<code>author</code>字段不见了，这是因为在<code>put</code>请求下，创建的是一个新的对象，你没有声明修改的字段（比如author）默认视为舍弃，新对象中只有id、title字段存在。</p>\n<p>如果想要不声明修改的字段就保留原字段值的话，可以使用<strong>局部更新</strong>。</p>\n<h3><a id=\"__patch_183\"></a>局部更新 – patch</h3>\n<pre><code class=\"prism language-js\">axios<span class=\"token punctuation\">.</span><span class=\"token function\">patch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts/2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test-修改\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>此时，test.json文件内容：</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token string-property property\">\"posts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-修改\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test-修改\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"codeMak1r\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"333\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"xiaoming\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"comments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>在局部更新下，没有声明的<code>author</code>字段被保留下来了，并没有被舍弃。</p>\n<h3><a id=\"__delete_211\"></a>删除数据 – delete</h3>\n<pre><code class=\"prism language-js\">axios<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts/3\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>此时，test.json文件内容：</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token string-property property\">\"posts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-修改\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test-修改\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"codeMak1r\"</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"comments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span> <span class=\"token string-property property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string-property property\">\"postId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"___embed_234\"></a>连接操作 – _embed</h3>\n<p>连接操作符：<code>_embed</code>获取包含下级资源的数据（类似SQL语句中的表关联）</p>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// 查询文章以及文章对应的评论</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/posts?_embed=comments\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>查询结果为：</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-修改\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">comments</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span>\n  \t\t<span class=\"token literal-property property\">postId</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test-修改\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">comments</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">postId</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n</code></pre>\n<h3><a id=\"___expand_270\"></a>连接操作 – _expand</h3>\n<p>连接操作符：<code>_expand</code>获取包含上级资源的数据</p>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// 查询评论以及评论所属的文章</span>\naxios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/comments?_expand=post\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>查询结果为：</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">postId</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">post</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-修改\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token string\">\"comment2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">postId</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">post</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json-server-test-修改\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">author</span><span class=\"token operator\">:</span> <span class=\"token string\">\"codeMak1r\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n</code></pre>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}