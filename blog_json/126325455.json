{"blogid": "126325455", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "108", "writerCollect": "9465", "writerComment": "5184", "writerFan": "23628", "writerGrade": "7çº§", "writerIntegral": "16279", "writerName": "çƒ­çˆ±ç¼–ç¨‹çš„å°ç™½ç™½", "writerProfileAdress": "writer_image\\profile_126325455.jpg", "writerRankTotal": "549", "writerRankWeekly": "28", "writerThumb": "6444", "writerVisitNum": "229753", "blog_read_count": "628", "blog_time": "å·²äºÂ 2022-08-21 18:06:45Â ä¿®æ”¹", "blog_title": "ã€SSMæ¡†æ¶ã€‘æµ‹è¯• ä¿®æ”¹.åˆ é™¤.æŸ¥è¯¢åŠŸèƒ½", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<blockquote>\n<p>ğŸ“ä¸ªäººä¸»é¡µï¼š<a href=\"https://blog.csdn.net/Javascript_tsj?type=blog\" title=\"ä¸ªäººä¸»é¡µ\">ä¸ªäººä¸»é¡µ</a></p>\n<p>ğŸ’ç³»åˆ—ä¸“æ ï¼š<a href=\"https://blog.csdn.net/javascript_tsj/category_11957185.html?spm=1001.2014.3001.5482\" title=\"SSMæ¡†æ¶\">SSMæ¡†æ¶</a></p>\n<p>ğŸ’¬æ¨èä¸€æ¬¾æ¨¡æ‹Ÿé¢è¯•ã€åˆ·é¢˜ç¥å™¨ï¼Œä»åŸºç¡€åˆ°å¤§å‚é¢è¯•é¢˜ğŸ‘‰<a href=\"https://www.nowcoder.com/link/pc_csdncpt_xbb_java\" title=\"ç‚¹å‡»è·³è½¬åˆ·é¢˜ç½‘ç«™è¿›è¡Œæ³¨å†Œå­¦ä¹ \">ç‚¹å‡»è·³è½¬åˆ·é¢˜ç½‘ç«™è¿›è¡Œæ³¨å†Œå­¦ä¹ </a></p>\n</blockquote>\n<p id=\"main-toc\"><strong>ç›®å½•</strong></p>\n<p id=\"-toc\" style=\"margin-left:40px;\"></p>\n<p id=\"1.%E5%88%9B%E5%BB%BAsqlSession%E5%B7%A5%E5%85%B7%E7%B1%BB-toc\" style=\"margin-left:40px;\"><a href=\"#1.%E5%88%9B%E5%BB%BAsqlSession%E5%B7%A5%E5%85%B7%E7%B1%BB\">1.åˆ›å»ºsqlSessionå·¥å…·ç±»</a></p>\n<p id=\"2.%E6%B5%8B%E8%AF%95%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD-toc\" style=\"margin-left:40px;\"><a href=\"#2.%E6%B5%8B%E8%AF%95%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD\">2.æµ‹è¯•ä¿®æ”¹åŠŸèƒ½</a></p>\n<p id=\"3.%E6%B5%8B%E8%AF%95%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD-toc\" style=\"margin-left:40px;\"><a href=\"#3.%E6%B5%8B%E8%AF%95%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD\">3.æµ‹è¯•åˆ é™¤åŠŸèƒ½</a></p>\n<p id=\"%C2%A04.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD-toc\" style=\"margin-left:40px;\"><a href=\"#%C2%A04.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD\"> 4.æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<h2 id=\"1.%E5%88%9B%E5%BB%BAsqlSession%E5%B7%A5%E5%85%B7%E7%B1%BB\"><span style=\"color:#4da8ee;\">1.åˆ›å»ºsqlSessionå·¥å…·ç±»</span></h2>\n<p>åœ¨<a href=\"https://so.csdn.net/so/search?q=MyBatis&amp;spm=1001.2101.3001.7020\" title=\"MyBatis\">MyBatis</a> ä½¿ç”¨ä¸­ï¼Œå¦‚æœæ¯ä¸ªæ–¹æ³•æ‰§è¡Œæ—¶éƒ½éœ€è¦è¯»å–é…ç½®æ–‡ä»¶ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶çš„ä¿¡æ¯æ„å»ºSqlSessionFactoryå¯¹è±¡ï¼Œç„¶ååˆ›å»ºSqlSession å¯¹è±¡ï¼Œ<strong><span style=\"background-color:#ffd900;\">è¿™ä¼šå¯¼è‡´ç±»å¤§é‡çš„é‡å¤ä»£ç ã€‚ä¸ºäº†ç®€åŒ–å¼€å‘ï¼Œéœ€è¦å°†é‡å¤ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»ä¸­</span></strong>ã€‚å¦‚ä¸‹ï¼š</p>\n<p><img alt=\"\" height=\"826\" src=\"image\\b47f0008a4ce4978ba0c2da62649bd1e.png\" width=\"1200\"/></p>\n<p></p>\n<pre><code class=\"language-java\">package com.atguigu.mybatis.utils;\n\nimport org.apache.ibatis.io.Resources;\nimport org.apache.ibatis.session.SqlSession;\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.apache.ibatis.session.SqlSessionFactoryBuilder;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class SqlSessionUtils {\n\n    public SqlSession getSqlSession() {\n        SqlSession sqlSession = null;\n        {\n            try {\n                InputStream  is = Resources.getResourceAsStream(\"mybatis-config.xml\");\n                SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();\n                SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);\n                sqlSession = sqlSessionFactory.openSession(true);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return sqlSession;\n    }\n\n\n\n\n}\n</code></pre>\n<p></p>\n<blockquote>\n<p>åé¢çš„<strong> ä¿®æ”¹ åˆ é™¤ æŸ¥è¯¢ </strong>åªæ˜¯ç®€å•æµ‹è¯•ï¼ŒåæœŸä¼šä¼˜åŒ–ã€‚</p>\n</blockquote>\n<h2 id=\"2.%E6%B5%8B%E8%AF%95%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD\"><span style=\"color:#4da8ee;\">2.æµ‹è¯•ä¿®æ”¹åŠŸèƒ½</span></h2>\n<p><img alt=\"\" height=\"550\" src=\"image\\bf8077e405c343cd95ea9bf5d32d0fa9.png\" width=\"1200\"/></p>\n<p></p>\n<pre><code>public interface UserMapper {\n\n    /**  ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ */\n    void updateUser();\n\n}</code></pre>\n<p><img alt=\"\" height=\"654\" src=\"image\\f23f8be23d154a95a8215227a3b9cea9.png\" width=\"1200\"/></p>\n<p></p>\n<blockquote>\n<p>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;<br/> &lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;<br/> &lt;mapper namespace=\"com.atguigu.mybatis.mapper.UserMapper\"&gt;<br/>    <br/>     &lt;update id=\"updateUser\"&gt;<br/> -- ç°åœ¨åªæ˜¯æµ‹è¯•,åæœŸä¼šä¼˜åŒ–<br/> update t_user set username='root',password='root' where id=2;<br/>     &lt;/update&gt;<br/> &lt;/mapper&gt;</p>\n</blockquote>\n<p></p>\n<p><img alt=\"\" height=\"639\" src=\"image\\c93912f0942d49d3a164ed613c60e0b9.png\" width=\"1200\"/></p>\n<p></p>\n<pre><code class=\"language-java\">public class MybatisTest {\n    @Test\n    public void test() {\n        SqlSessionUtils sqlSessionUtils = new SqlSessionUtils();\n        SqlSession sqlSession = sqlSessionUtils.getSqlSession();\n\n\n    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);\n\n     userMapper.updateUser();\n     sqlSession.close();\n\n\n    }\n\n}</code></pre>\n<p><strong>è¿è¡Œå:</strong></p>\n<p><img alt=\"\" height=\"368\" src=\"image\\148beacc7ef746c7811b378863340190.png\" width=\"1200\"/></p>\n<p> <img alt=\"\" height=\"254\" src=\"image\\e336fbd744a84aa8ba073055b828487a.png\" width=\"967\"/></p>\n<p></p>\n<p></p>\n<h2 id=\"3.%E6%B5%8B%E8%AF%95%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD\"><span style=\"color:#4da8ee;\">3.æµ‹è¯•åˆ é™¤åŠŸèƒ½</span></h2>\n<pre><code class=\"language-java\">public interface UserMapper {\n\n\n    /**  åˆ é™¤ç”¨æˆ·ä¿¡æ¯ */\n    void deleteUser();\n\n}</code></pre>\n<blockquote>\n &lt;delete id=\"deleteUser\"&gt; delete from t_user where id=3; &lt;/delete&gt;\n</blockquote>\n<p></p>\n<pre><code class=\"language-java\">public class MybatisTest {\n    @Test\n    public void test() {\n        SqlSessionUtils sqlSessionUtils = new SqlSessionUtils();\n        SqlSession sqlSession = sqlSessionUtils.getSqlSession();\n\n\n    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);\n\n     userMapper.deleteUser();\n     sqlSession.close();\n\n\n    }\n\n}</code></pre>\n<p> <img alt=\"\" height=\"245\" src=\"image\\b703594549e844cea147b316244776c0.png\" width=\"1065\"/></p>\n<p><img alt=\"\" height=\"244\" src=\"image\\4766991f05a7448f9aef99cd2324254c.png\" width=\"923\"/></p>\n<h2 id=\"%C2%A04.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD\"><span style=\"color:#4da8ee;\"> 4.æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½</span></h2>\n<p></p>\n<pre><code class=\"language-java\">public interface UserMapper {\n\n    /**  æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ */\n    List&lt;User&gt; getAllUser();\n\n}</code></pre>\n<blockquote>\n<div>\n<span style=\"color:#777777;\">æ³¨æ„ï¼š </span>\n</div>\n<div>\n<span style=\"color:#777777;\">æŸ¥è¯¢çš„æ ‡ç­¾</span>\n<span style=\"color:#777777;\">select</span>\n<span style=\"color:#777777;\">å¿…é¡»è®¾ç½®å±æ€§</span>\n<span style=\"color:#777777;\">resultType</span>\n<span style=\"color:#777777;\">æˆ–</span>\n<span style=\"color:#777777;\">resultMap</span>\n<span style=\"color:#777777;\">ï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³» </span>\n</div>\n<div>\n<strong><span style=\"color:#777777;\"><span style=\"background-color:#ffd900;\">resultType</span></span></strong>\n<span style=\"color:#777777;\"><strong><span style=\"background-color:#ffd900;\">ï¼š</span></strong>è‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ </span>\n</div>\n<div>\n<strong><span style=\"color:#777777;\"><span style=\"background-color:#ffd900;\">resultMap</span></span></strong>\n<span style=\"color:#777777;\"><strong><span style=\"background-color:#ffd900;\">ï¼š</span></strong>è‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</span>\n</div>\n</blockquote>\n<blockquote>\n<p>    &lt;select id=\"getAllUser\" resultType=\"com.atguigu.mybatis.pojo.User\"&gt;</p>\n<p>        select * from t_user;<br/>     &lt;/select&gt;</p>\n</blockquote>\n<pre><code class=\"language-java\">public class MybatisTest {\n    @Test\n    public void test() {\n        SqlSessionUtils sqlSessionUtils = new SqlSessionUtils();\n        SqlSession sqlSession = sqlSessionUtils.getSqlSession();\n\n\n    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);\n\n        List&lt;User&gt; allUser = userMapper.getAllUser();\n        allUser.forEach(System.out::println);\n        sqlSession.close();\n\n\n    }\n\n}</code></pre>\n<p> <img alt=\"\" height=\"241\" src=\"image\\63ea789e200544f5ad675a5b5f585f93.png\" width=\"1040\"/></p>\n<p> <img alt=\"\" height=\"166\" src=\"image\\f8a11b2fbe484e3594b36c8857bd6d9b.png\" width=\"684\"/></p>\n<p></p>\n<p></p>\n</div>\n</div>"}