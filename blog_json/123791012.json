{"blogid": "123791012", "writerAge": "码龄3年", "writerBlogNum": "47", "writerCollect": "892", "writerComment": "70", "writerFan": "139", "writerGrade": "4级", "writerIntegral": "1196", "writerName": "许多仙", "writerProfileAdress": "writer_image\\profile_123791012.jpg", "writerRankTotal": "47403", "writerRankWeekly": "60660", "writerThumb": "246", "writerVisitNum": "72918", "blog_read_count": "1108", "blog_time": "已于 2022-04-16 18:13:48 修改", "blog_title": "【Wx小程序】安装nvm、npm、node.js的探索记录", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"1_0\"></a>1-引言：</h1>\n<p><strong><code>在微信小程序开发过程中，我们经常需要使用到扩展能力的相关组件。根据官网的文档描述，又必须按照npm。</code></strong></p>\n<h2><a id=\"1_3\"></a>(1)小程序文档：</h2>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\59fff823b44d4b42ab1c9e732aa07620.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\18b337647c8c4468b2a3a7e4d9994f38.png\"/></p>\n<p><strong><code>但是，根据上图所示走下去，却惊喜的发现其实我们电脑并没有nmp这个命令程序。那怎么办？傻瓜，当然是需要先去下载安装这个程序才能使用啦。但是去哪下载安装又是一个新的问题。 但是，我们这里可以选择weui组件库，然后看看这个库对应的文档有没有使用npm。</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\aaf97b9fac6b43d58eae1b4c2fd262c9.png\"/><img alt=\"在这里插入图片描述\" src=\"image\\8e48e90e562b4c50971d40875472bd37.png\"/><br/> <strong><code>不负众望，我们看到了一个npm的链接。想必这个就是官网了。点进去。好家伙，这个才是官网链接：</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\e41fff0b2c9747f78a6c12fcd915b41a.png\"/></p>\n<h1><a id=\"2npm_14\"></a>2-npm官网：</h1>\n<p><strong><code>如果你尝试直接去构建npm，那肯定是不行的。你电脑上都没有这个包。所以我们还是需要老老实实的去官网看看这个npm是个什么东西，怎么下载安装。点击链接，进去官网。根据提示，我们先进行注册登录。这个步骤我就省略了。根据提示进行操作即可。</code></strong></p>\n<p><strong>登录以后，返回到这个页面中。</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\bd9a49af238e458791902c668481b0ab.png\"/><br/> 看见他的提示，建议我们先安装nvm，再使用nvm来进行安装。就按它说的做呗。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\4d81b0de27b84b2c953fa92277db40f9.png\"/></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\612da5b4d680493ab47fe1f075a974a8.png\"/><br/> <strong><code>因为我们需要安装包，所以先找找安装包的链接：</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\a301c3388fd946979446724f2fb24a35.png\"/><img alt=\"在这里插入图片描述\" src=\"image\\2e162f28f80c401293528d0ebc9cb584.png\"/><br/> <strong><code>下载以后，我的电脑尝试解压以后再运行那个exe文件。但是总是闪退。于是乎，我直接不解压，直接双击那个.exe文件，才可以正常安装。（可能是我的电脑的问题）</code></strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\f32db39519de4696b9efc5457616af19.png\"/><strong><code>至于安装过程，根据自己的存储空间来自定义安装路径。</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\3630f13eba6f4cfcb681a429becf5303.png\"/></p>\n<p><strong><code>安装成功以后，打开命令提示符，输入nvm，出现一串长长的介绍，说明我们的nvm安装成功了。</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\adc47d37e4e248189e7b01f87c8d94d3.png\"/><br/> <strong><code>但是，这个nvm只是一个版本管理器。而且从上面的安装中我们可以看到已经安装了node.js，但是，我的电脑却找不到这个nodejs文件夹！于是，我改变方式，先创建一个文件夹nodejs，然后安装node.js的时候，却发现它摸摸把nodejs文件夹删除了！另外，关掉病毒查杀，也是如此。可能是我的电脑的问题！</code></strong></p>\n<p>同时，注意到我们命令提示符上的nvm命令。安装命令。是nvm install+版本号。所以我们尝试下载者两个版本。<br/> 结果只能下载14版本：12版本无效。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\6da5f7bbf1c447a1877665482c4b12e3.png\"/><br/> <strong><code>但是，12.0.1版本无效，同时，它给我们一个网站：</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\d3eeb427b8db465bab046ca400da1093.png\"/><br/> <strong><code>把它复制，然后到浏览器粘贴，就能看到有效的版本了。</code></strong><img alt=\"在这里插入图片描述\" src=\"image\\58c76ab899054735a36c694bd334281d.png\"/></p>\n<h1><a id=\"3_43\"></a>3-遇到的问题：</h1>\n<p><strong><code>在这个过程中，理论上我们是先安装nvm，然后使用nvm安装nodejs和npm。但是安装nodejs的时候，电脑却莫名把我的文件夹删除。导致npm也没有安装。所以，本次操作并不成功。因为没有正常安装nodejs和npm。</code></strong></p>\n<p><strong><code>于是，我只能进入nodejs官网，单独对nodejs进行下载（安装nodejs的时候，npm也会随之安装）</code></strong></p>\n<h2><a id=\"1_48\"></a>（1）下载稳定版：</h2>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\ce063e715116437a92f970d6a03237bb.png\"/><br/> <strong><code>安装过程除了更改默认安装位置，其他都是next</code></strong></p>\n<h2><a id=\"2_51\"></a>（2）查看是否安装成功：</h2>\n<p><strong><code>查看node版本号、npm。</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\3d099fdd1209421e8f6a341254ab24fc.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\da099fcb718d4522a97de6ea1611185a.png\"/></p>\n<p><strong><code>直到这里。node.js和npm才安装成功。</code></strong></p>\n<p><strong>最后，我尝试更改setting文件：</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\8bf0477a23284ae7a487207901410a13.png\"/><br/> <strong><code>把path路径改成实际安装位置：</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\a172a21a238448848c477df820329010.png\"/></p>\n<h1><a id=\"4_65\"></a>4-前面尝试的失败总结：</h1>\n<p>上面的操作失败的原因估计是电脑杀毒软件引起的自动删除文件夹。</p>\n<p><strong>node.js实际上就是:</strong><img alt=\"在这里插入图片描述\" src=\"image\\34c4c2974f434a7f938b222812f92bcb.png\"/></p>\n<h1><a id=\"5_70\"></a>5-后续改进：</h1>\n<p><strong><code>既然通过nvm的方式无法直接下载npm，那么我就直接去nodejs的官网，通过下载nodejs的方式，附带下载npm。</code></strong><img alt=\"在这里插入图片描述\" src=\"image\\4a06fab5a4984d6387f6ae2d12b8799c.png\"/><br/> <strong><code>下载完安装即可。一般都是下一步，但是注意路径的选择，要和之前安装nvm的时候的nodejs路径一样。</code><br/> 即：</strong><img alt=\"在这里插入图片描述\" src=\"image\\b39bbfe06a234b9bbf273ca0f4c9dcb9.png\"/><br/> <strong><code>安装以后。我是再次安装nvm，这次果然不会自动删除nodejs文件夹。</code></strong></p>\n<h1><a id=\"_77\"></a>重点在此————》</h1>\n<p><strong><code>随后，就打开我们的微信小程序开发者工具。</code></strong></p>\n<p><strong><code>在当前项目文件夹下，打开cmd终端，然后输入命令： 初始化：（此处需要填写项目名等信息才能初始化成功）</code></strong></p>\n<pre><code class=\"prism language-python\">npm init\n</code></pre>\n<p><strong><code>然后安装一下：</code></strong></p>\n<pre><code class=\"prism language-python\">npm install\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\966d9e107c2243dab9c4b5627ed8d9f6.png\"/></p>\n<p><strong><code>最后安装那个weui的包，才能构建npm成功：</code></strong></p>\n<pre><code>npm install weui-miniprogram\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\f0eeac73fbea48ebb137e1f8f4cb0e85.png\"/><br/> 但是请注意，此时我们下载的是weui，这时候应该吧我们项目中的weui声明去除（如果之前有过声明），或者不使用这个weui，两者只能选择其一。</p>\n<p>然后就是下载组件包比如vtabs的命令：</p>\n<pre><code>npm install @miniprogram-component-plus/vtabs\n\nnpm install @miniprogram-component-plus/vtabs-content\n</code></pre>\n<p>然后再在page的json中配置路径：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\ac5fb23615874570be53328bd395f8a3.png\"/></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\1f969382de8b49938b6ff66acf2f8ea0.png\"/></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\e82ad8d98cb64d1b99a627b5c5098177.png\"/></p>\n<h1><a id=\"6_124\"></a>6-最后：使用扩展组件：</h1>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\558bf549172c456f802e9637ccfca6c8.png\"/><br/> <strong><code>首先应该先npm init填写相关信息后初始化。然后再按照下面的步骤起手：</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\8868f4b279ff4a4a8f2362700dc352c6.png\"/><br/> 但是，当我运行第二个命令的时候，却发生错误了。说是脚本dev找不到。</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\f451f7218bf84e77afbf00999ebd3f5e.png\"/></p>\n<p><strong><code>然后，如上图，我们打开项目配置文件：package.json，结果真的没有dev字段，所以我们有什么办法。</code></strong></p>\n<p><strong><code>只能点开官网，选择单个组件的项目介绍试试：</code></strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\e487d54afc23497f90d83db555492344.png\"/></p>\n<p>所以接下来我们尝试一下下面的方法：<img alt=\"在这里插入图片描述\" src=\"image\\1f492b14f1e34b38b2324786da642cfe.png\"/><br/> <strong><code>注意：因为我默认使用Google翻译，所以上图的代码变成中文了。首先我们先安装recycle包，然后再在工具-构建npm中构建一下，否则使用组件会报错！！！</code></strong></p>\n<h1><a id=\"7_143\"></a>7-使用组件的最后总结：</h1>\n<p>1、首先应该先初始化，填写项目名等信息<br/> 2、应该先再项目目录下，在终端使用命令下载组件包，然后再构建npm<br/> 3、再在页面中引用组件</p>\n<p>才能使用组件。</p>\n<p>可谓一波三折。</p>\n<p>最后，使用npm初始化和下载、构建以后，项目会多出这几个文件夹、文件。如果你项目出了不可逆的问题，你可以尝试删除他们，从头再来：<img alt=\"在这里插入图片描述\" src=\"image\\6ec8a165adc048399d5b25966072e7e4.png\"/><br/> 另外，如果删除某些东西以后，出现一些报错，可以看看页面的js文件是否自动写入一些代码。删除即可。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}