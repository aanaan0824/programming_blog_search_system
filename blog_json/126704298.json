{"blogid": "126704298", "writerAge": "码龄6年", "writerBlogNum": "512", "writerCollect": "377", "writerComment": "70", "writerFan": "75", "writerGrade": "7级", "writerIntegral": "9998", "writerName": "LongtengGensSupreme", "writerProfileAdress": "writer_image\\profile_126704298.jpg", "writerRankTotal": "1938", "writerRankWeekly": "14450", "writerThumb": "87", "writerVisitNum": "605333", "blog_read_count": "241", "blog_time": "于 2022-09-05 14:18:13 发布", "blog_title": ".NET MAUI 多平台应用 UI 应用", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>.NET 多平台应用 UI 使用文档</h1>\n<p>.NET 多平台应用 UI (.NET MAUI) 允许你使用面向 Android、iOS、macOS、Windows 和 Tizen 上的移动和桌面外形规格的 .NET 跨平台 UI 工具包生成本机应用。本教程介绍如何在 Windows 上的 Visual Studio 2022 或 Visual Studio 2022 for Mac 17.4 预览版中创建和运行第一个 .NET 多平台应用 UI (.NET MAUI) 应用。</p>\n<ol><li> <p>若要创建 .NET MAUI 应用，需要最新的 Visual Studio 2022：</p>\n<ul><li> <p><a href=\"https://c2rsetup.officeapps.live.com/c2r/downloadVS.aspx?sku=Community&amp;channel=Release&amp;Version=VS2022&amp;source=VSLandingPage&amp;add=Microsoft.VisualStudio.Workload.CoreEditor&amp;add=Microsoft.VisualStudio.Workload.NetCrossPlat;includeRecommended&amp;cid=2303\" title=\"下载 2022 社区\">下载 2022 社区</a></p> </li><li> <p><a href=\"https://c2rsetup.officeapps.live.com/c2r/downloadVS.aspx?sku=Professional&amp;channel=Release&amp;Version=VS2022&amp;source=VSLandingPage&amp;add=Microsoft.VisualStudio.Workload.CoreEditor&amp;add=Microsoft.VisualStudio.Workload.NetCrossPlat;includeRecommended&amp;cid=2303\" title=\"下载 2022 专业版\">下载 2022 专业版</a></p> </li><li> <p><a href=\"https://c2rsetup.officeapps.live.com/c2r/downloadVS.aspx?sku=Enterprise&amp;channel=Release&amp;Version=VS2022&amp;source=VSLandingPage&amp;add=Microsoft.VisualStudio.Workload.CoreEditor&amp;add=Microsoft.VisualStudio.Workload.NetCrossPlat;includeRecommended&amp;cid=2303\" title=\"下载 2022 企业版\">下载 2022 企业版</a></p> </li></ul><p>安装 Visual Studio 或修改安装，并使用默认可选安装选项安装 .NET 多平台应用 UI 开发工作负载，如果已经安装了vs2022 的话也可以使用Visual Studio Installer来修改安装：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\89abb7815aa8a2251c1181659fb805ff.png\"/></p> </li></ol>\n<ol><li> <p>启动 Visual Studio 2022，并在“开始”窗口中单击“ 创建新项目 ”以创建新项目：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\c138798702569319ce199f14a4ee9d3a.png\"/></p> </li><li> <p>在“创建新项目”窗口中，选择“所有项目类型”下拉列表中的 MAUI，选择 .NET MAUI 应用模板，然后单击“下一步”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\0707ed378d4a50eee4eee80dbdba02bc.png\"/></p> <p> 备注</p> <p>如果还安装了 .NET 7 预览版，则 Visual Studio 中可能不会显示 .NET MAUI 模板。 有关详细信息，请参阅 <a href=\"https://github.com/dotnet/maui/wiki/Known-Issues#net-maui-templates-do-not-appear-in-visual-studio\" title=\"Visual Studio 中不显示 .NET MAUI 模板\">Visual Studio 中不显示 .NET MAUI 模板</a>。</p> </li><li> <p>在 “配置新项目 ”窗口中，为项目命名，选择合适的位置，然后单击“ 下一步 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\054ac23509dbd088a00daef5f2a72067.png\"/></p> </li><li> <p>在 “其他信息 ”窗口中，单击“ 创建 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\b49fa227043526bb46b0ff0a7ca4e758.png\"/></p> </li><li> <p>等待创建项目并还原其依赖项：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\881d90a391c049666afd356e01731de5.png\"/></p> </li></ol>\n<ol><li> <p>在 Visual Studio 工具栏中，使用 “调试目标” 下拉列表选择 Android 模拟器 ，然后选择 Android Emulator 条目：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\4b240de9f5e1004677357f89c679a972.png\"/></p> </li><li> <p>在 Visual Studio 工具栏中，按 Android 模拟器 按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\3567d44a3a2d72b2df38937219db24bd.png\"/></p> <p>Visual Studio 将开始安装默认的 Android SDK 和 Android 模拟器。</p> </li><li> <p>在 Android SDK - 许可协议 窗口中，按 “接受 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\cd9d62fe6bac41df0abae4e94a013560.png\"/></p> </li><li> <p>在 Android SDK - 许可协议 窗口中，按 “接受 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\895fc831b831ebe27f9526882740914b.png\"/></p> </li><li> <p>在 “用户帐户控制 ”对话框中，按 “是 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\5a7edc3a264b02d956cafc0a9045c76a.png\"/></p> </li><li> <p>在 “许可接受 ”窗口中，按 “接受 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\b8175290743f3911760fc8bc8b24bb03.png\"/></p> <p>等待 Visual Studio 下载 Android SDK 和 Android Emulator。</p> </li><li> <p>在 Visual Studio 工具栏中，按 Android 模拟器 按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\159bf1de5fda1b2ed4be0d06c2ad68ba.png\"/></p> <p>Visual Studio 将开始创建默认的 Android 模拟器。</p> </li><li> <p>在 “用户帐户控制 ”对话框中，按 “是 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\f7634435468c4780b97107dd019eaca9.png\"/></p> </li><li> <p>在“ 新建设备 ”窗口中，按 “创建 ”按钮：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\fd163b91e8051857fadf19aaa7bcd662.png\"/></p> <p>等待 Visual Studio 下载、解压缩和创建 Android 模拟器。<br/> 注意：如果下载失败，可以根据使用如下方法下载：点击<a href=\"https://ping.chinaz.com/dl-ssl.google.com\" title=\"站长之家\">站长之家</a> 输入  dl-ssl.google.com  点击ping检测，下来找  到检测结果 ，复制一个响应时间和TTL较短的ip，然后打开C:\\Windows\\System32\\drivers\\etc 下的hosts文件添加如下内容</p> <p>#Android SDK Manager下载和更新失败方法详解<br/> 74.125.23.93 dl-ssl.google.com</p> <p>之后保存，如果无法保存可以先把hosts文件拷贝出来，修改添加内容，之后保存，再复制粘贴到C:\\Windows\\System32\\drivers\\etc 下的hosts文件，覆盖即可，这样就可以下载了，如果还是不行的话，可以更换其他的响应时间和TTL较短的ip，多寿试试即可。</p> </li><li> <p>关闭 Android 设备管理器 窗口：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\f20248c79218966fab73c6f0e397bdba.png\"/></p> </li><li> <p>在 Visual Studio 工具栏中，按 Pixel 5 - API 30 (Android 11.0 - API 30) 按钮生成并运行应用：</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\00869418c2367ff6f424b0057a86345b.png\"/></p> <p>Visual Studio 将启动 Android 模拟器，生成应用，并将应用部署到模拟器。</p> <p> 警告</p> <p>必须启用硬件加速才能最大限度地提高 Android 仿真器性能。 无法执行此操作将导致模拟器运行速度非常慢。 有关详细信息，请参阅 <a href=\"https://docs.microsoft.com/zh-cn/dotnet/maui/android/emulator/hardware-acceleration\" title=\"如何使用 Android 仿真器 (Hyper-V &amp; HAXM) 启用硬件加速 \">如何使用 Android 仿真器 (Hyper-V &amp; HAXM) 启用硬件加速 </a>。</p> <p>注意：这个启用硬件加速才能最大限度地提高 Android 仿真器性能，一般需要启用的，否则会很慢，还有可能会出现 Android 模拟器给出错误“冷启动重置:仿真引擎失败\"；并退出，Android emulator gives error \"Resetting for cold boot: emulation engine failed\" and exits</p> <h3>启用 HYPER-V 加速或者使用 HAXM 加速启用硬件以后就可以运行了，本文是<a href=\"https://github.com/intel/haxm/releases\" title=\"安装HAXM\">安装HAXM</a>，并使用 HAXM 加速启用硬件，运行就可以了</h3> </li><li> <p>在 Android 模拟器中正在运行的应用中，多次按 “单击我” 按钮，并观察按钮单击次数的计数递增。</p> <p class=\"img-center\"><img alt=\"\" src=\"image\\bc616ea250aeaf0c3745855c8762112a.png\"/></p> </li></ol>\n<h2 id=\"next-steps\">后续步骤</h2>\n<p>本教程介绍如何创建并运行第一个 .NET 多平台应用 UI (.NET MAUI) 应用。</p>\n<p>若要了解使用 .NET MAUI 生成应用的基础知识，请参阅 <a href=\"https://docs.microsoft.com/zh-cn/dotnet/maui/tutorials/notes-app/\" title=\"创建 .NET MAUI 应用\">创建 .NET MAUI 应用</a>。</p>\n<p>参考教程：<a href=\"https://docs.microsoft.com/zh-cn/dotnet/maui/get-started/first-app?pivots=devices-android&amp;tabs=vswin\" title=\"在 Windows 上的 Visual Studio 2022 中创建和运行第一个 .NET 多平台应用 UI (.NET MAUI) 应用\">在 Windows 上的 Visual Studio 2022 中创建和运行第一个 .NET 多平台应用 UI (.NET MAUI) 应用</a>。</p>\n</div>\n</div>"}