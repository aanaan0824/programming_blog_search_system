{"blogid": "124448512", "writerAge": "码龄1年", "writerBlogNum": "152", "writerCollect": "637", "writerComment": "33", "writerFan": "5219", "writerGrade": "5级", "writerIntegral": "1760", "writerName": "像风一样9", "writerProfileAdress": "writer_image\\profile_124448512.jpg", "writerRankTotal": "14472", "writerRankWeekly": "2235", "writerThumb": "153", "writerVisitNum": "229016", "blog_read_count": "1575", "blog_time": "已于 2022-05-13 17:03:27 修改", "blog_title": "【环境搭建-01】基于WAMP环境的sqli-labs漏洞靶场的搭建", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>目录</h3>\n<ul><li><a href=\"#1_sqlilabs_1\">1 sqli-labs简介</a></li><li><a href=\"#2_WAMP_6\">2 WAMP环境部署</a></li><li><a href=\"#3_sqlilabs_10\">3 sqli-labs漏洞靶场搭建步骤</a></li><li><ul><li><a href=\"#31__11\">3.1 下载</a></li><li><a href=\"#32__15\">3.2 解压及重命名</a></li><li><a href=\"#33_phpstudy_17\">3.3 复制到phpstudy网站根目录</a></li><li><a href=\"#34____21\">3.4 修改配置文件</a></li><li><a href=\"#34____39\">3.4 安装</a></li><li><a href=\"#35__44\">3.5 访问</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h1><a id=\"1_sqlilabs_1\"></a>1 sqli-labs简介</h1>\n<p>我们在刚学习 SQL 注入的时候，往往都需要一个能 SQL 注入的网站进行 SQL 注入学习。如果直接去网上寻找存在 SQL 注入的网站对新手来说有些难度，因此我们一般都是在本地搭建一个能 SQL 注入测试的网站。</p>\n<p>sqli-labs 是一个专业的 SQL 注入练习平台，它适用于 GET 和 POST 等多场景的注入。</p>\n<h1><a id=\"2_WAMP_6\"></a>2 WAMP环境部署</h1>\n<p>在本实验中，所搭建的sqli-labs漏洞靶场依托于WAMP环境，在win2008上安装phpstudy的过程请参考文章《<a href=\"https://blog.csdn.net/m0_64378913/article/details/123645993\">【语言环境】WAMP环境部署及优化—以win2008R2SP1为操作系统</a>》，本文不再赘述。</p>\n<p><font color=\"Blue\">注意： PHP 版本一定要设置成 PHP5 以上，PHP7 以下，PHP5 以上才有 information_schema 库，PHP7 之后的 mysql_ 都改成了 mysqli_** 了，所以用其他版本的 PHP 可能会出错。</font></p>\n<h1><a id=\"3_sqlilabs_10\"></a>3 sqli-labs漏洞靶场搭建步骤</h1>\n<h2><a id=\"31__11\"></a>3.1 下载</h2>\n<p>可以在GitHub上下载相关源码。下载网址为<a href=\"https://github.com/Audi-1/sqli-labs\">https://github.com/Audi-1/sqli-labs</a>，点击此处下载压缩包。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\f1f219a4b926432fb0da0318baf89ca5.png\"/><br/> 注意，此sqli-labs源码对应PHP5xx版本，如果PHP版本为PHP7xx版本，则sqli-labs源码下载地址为：<a href=\"https://github.com/skyblueee/sqli-labs-php7\">https://github.com/skyblueee/sqli-labs-php7</a>。</p>\n<h2><a id=\"32__15\"></a>3.2 解压及重命名</h2>\n<p>将压缩包解压后，为方便后续访问该靶场，建议将文件夹重命名为sqli-labs或其他更简介明确的名称。</p>\n<h2><a id=\"33_phpstudy_17\"></a>3.3 复制到phpstudy网站根目录</h2>\n<p>将sqli-labs文件夹复制到phpstudy网站根目录WWW文件夹下,如我的：C:\\phpStudy\\PHPTutorial\\WWW<br/> <img alt=\"在这里插入图片描述\" src=\"image\\b21fd9c98c70485989d993f27314e53b.png\"/></p>\n<h2><a id=\"34____21\"></a>3.4 修改配置文件</h2>\n<p>修改 \\sqli-labs\\sql-connections 目录下的 db-creds.inc 文件内容，将数据库默认的信息修改为自己数据库的信息。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\4b255313ca114f48af22f09ce43635ca.png\"/><br/> 原配置文件如下：</p>\n<pre><code class=\"prism language-clike\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>php\n\n<span class=\"token comment\">//give your mysql connection username n password</span>\n$dbuser <span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span>\n$dbpass <span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n$dbname <span class=\"token operator\">=</span><span class=\"token string\">\"security\"</span><span class=\"token punctuation\">;</span>\n$host <span class=\"token operator\">=</span> <span class=\"token string\">'localhost'</span><span class=\"token punctuation\">;</span>\n$dbname1 <span class=\"token operator\">=</span> <span class=\"token string\">\"challenges\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">?</span><span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>主要是修改 dbpass 的内容，在部分 linux 中数据库密码默认为空，phpStudy 的 Windows 版中数据库密码默认为 root，如果使用其他环境则根据具体环境修改即可。本文由于采用了Windows 版中的phpStudy，因此 dbpass 修改后如下：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\48b00af5a2de4060baa7f7ef7622c23a.png\"/></p>\n<h2><a id=\"34____39\"></a>3.4 安装</h2>\n<p>真实机或其他虚拟机可以通过浏览器输入靶场IP+/sqli-labs来访问靶场，本文输入的地址为：<code>http://172.16.1.1/sqli-labs/</code>。并点击「Setup/reset Database for labs」安装和初始化创建数据库<br/> <img alt=\"在这里插入图片描述\" src=\"image\\deeba85f6c9445d2b959ad6cfaa5dd20.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\41c737b124384ce2a736d41f3d6e31b0.png\"/></p>\n<h2><a id=\"35__44\"></a>3.5 访问</h2>\n<p>在浏览器输入<code>http://172.16.1.1/sqli-labs/</code>访问sqli-labs靶场，该靶场分为基础 SQL 注入、高级 SQL 注入、SQL 堆叠注入、挑战四个部份，总共约 75 个 SQL 注入漏洞。</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\2b8a51f15981425bb8672ff9ca65b4e3.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}