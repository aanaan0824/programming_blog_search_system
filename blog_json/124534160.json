{"blogid": "124534160", "writerAge": "码龄5年", "writerBlogNum": "26", "writerCollect": "27", "writerComment": "2", "writerFan": "9", "writerGrade": "2级", "writerIntegral": "283", "writerName": "混入码龄的巍巍清新一笑", "writerProfileAdress": "writer_image\\profile_124534160.jpg", "writerRankTotal": "56130", "writerRankWeekly": "28330", "writerThumb": "17", "writerVisitNum": "11748", "blog_read_count": "843", "blog_time": "已于 2022-05-05 21:04:12 修改", "blog_title": "【Visual Studio 2022 C#】DataGridView控件如何绑定DataSet数据源", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"CDataGridViewDataSet_0\"></a>【C#】DataGridView控件如何绑定DataSet数据源</h2>\n<ol><li>在你的Form窗体控件中添加DataGridView控件<br/> <img alt=\"在这里插入图片描述\" src=\"image\\3af9f9f6e9134dcc8d685f5c757d9417.png\"/></li><li>打开DataGridView任务菜单，选择数据源。如果DataSet集合，则就在项目中，可以直接从其他数据源中点选。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\5fd420e4578748fba2c8ca72426ea2a0.png\"/></li><li>最后选择的数据对象BindingSource（即DataSet数据集合）<br/> 将显示在下方的环境集合中。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\51f4132c0e7141cfac72f6b42251283a.png\"/></li><li>设定Change的绑定关系<br/> 一般如下，考虑与远程数据源的交互性，最好关闭前三个。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\1d29eb02cbcb400db3d5167155bd46aa.png\"/></li><li>考虑到数据集合DataSet的特性，该数据的内存加载是基于fill()方法（即通常是DataSet中以fill开头的方法，你们可以在DataSet设计器中自定义添加或更改其配置）<br/> <img alt=\"在这里插入图片描述\" src=\"image\\fe140dd862a245a7a81e32a3ca07d897.png\"/></li><li>之所以这样，请参见我从百度百科下载的两张原理图：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\8a4c42cf4a94423f9bf79d6b64eea0b7.png\"/></li><li>归根结底就是这个<br/> <img alt=\"在这里插入图片描述\" src=\"image\\b2afe150851e4845b43b4023da775568.png\"/></li><li>Fill方法的调用【即FillBy自定义()】</li></ol>\n<pre><code class=\"prism language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> N_temp_FillCount <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">try</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    N_temp_FillCount <span class=\"token operator\">=</span> 字典分类表TableAdapter<span class=\"token punctuation\">.</span>FillBy自定义<span class=\"token punctuation\">(</span>northwindDataset<span class=\"token punctuation\">.</span>字典分类表<span class=\"token punctuation\">,</span><span class=\"token string\">\"条件\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> exc<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    MessageBox<span class=\"token punctuation\">.</span><span class=\"token function\">Show</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"数据库连接失败！！！\\n\\n\"</span> <span class=\"token operator\">+</span> exc<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">,</span> <span class=\"token string\">\"报错！\"</span><span class=\"token punctuation\">,</span> MessageBoxButtons<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">,</span> MessageBoxIcon<span class=\"token punctuation\">.</span>Error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//throw;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"_36\"></a>注意：</h2>\n<p>Fill方法的调用【即FillBy自定义()】要和下方的环境集合中的保持一致。否则更新的可能是DataSet中的其他表，而不是本DataGridView绑定的表了（BindingSource）</p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\9ad35b5b35764c99853d335315dbb688.png\"/><br/> <img alt=\"请添加图片描述\" src=\"image\\6160a81091e04f5a897ac4999c5c6b2c.png\"/><br/> <img alt=\"请添加图片描述\" src=\"image\\fcb68ed831b44cffbc800f3329a2401c.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}