{"blogid": "119969325", "writerAge": "码龄5年", "writerBlogNum": "5", "writerCollect": "227", "writerComment": "19", "writerFan": "12", "writerGrade": "2级", "writerIntegral": "151", "writerName": "Neo Qian", "writerProfileAdress": "writer_image\\profile_119969325.jpg", "writerRankTotal": "273378", "writerRankWeekly": "223377", "writerThumb": "36", "writerVisitNum": "26339", "blog_read_count": "17655", "blog_time": "于 2021-08-28 16:42:49 发布", "blog_title": "QT通过点击按钮弹出新的窗口（新建弹出式窗口）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>目录</h3>\n<ul><li><ul><li><a href=\"#QT_2\">第一步：新建QT设计师界面类</a></li><li><a href=\"#_15\">第二步：将新窗口的头文件加入到主窗口头文件中</a></li><li><a href=\"#_22\">第三步：为按钮事件设置信号与槽</a></li></ul>\n</li></ul>\n</div>\n<br/> 需求说明：主窗口为mainWindow，主窗口上有一个按钮，通过点击按钮能弹出一个新的窗口。\n<p></p>\n<h2><a id=\"QT_2\"></a>第一步：新建QT设计师界面类</h2>\n<ol><li>右击最顶层的工程文件夹，在弹出的选项里选择Add New（有的版本为添加新文件）。<br/> <img alt=\"右击工程文件夹\" src=\"image\\de12e826624247819a978883681e78e9.png\"/></li><li>选择Qt–&gt;Qt设计师界面类，点击Choose。<br/> <img alt=\"选择QT设计师界面类\" src=\"image\\ce849f8e674c406692086d076d0be701.png\"/></li><li>默认选择Widget，点击下一步。<br/> <img alt=\"点击下一步\" src=\"image\\20138d7b019945b083f103d6adaa173a.png\"/></li><li>在这里设置类名，我设置为newWindow，路径默认即可，点击下一步。<br/> <img alt=\"设置类名\" src=\"image\\299ced8be6394ef6bc413609cdd621a3.png\"/></li><li>这里是汇总信息，默认添加到当前项目，点击完成按钮即可。<br/> <img alt=\"汇总\" src=\"image\\e0f7f03d5cc34588a05d07717415f7fa.png\"/></li><li>完成后QT自动生成newWindow所需的cpp文件和h文件。<br/> <img alt=\"目录\" src=\"image\\648ea8dbae10468caf0a2d414795aa49.png\"/></li></ol>\n<h2><a id=\"_15\"></a>第二步：将新窗口的头文件加入到主窗口头文件中</h2>\n<p>在主窗口mainWindow的头文件中添加以下代码：</p>\n<pre><code class=\"prism language-javascript\">#include <span class=\"token string\">\"你设置的类名.h\"</span>\n<span class=\"token comment\">//例如：</span>\n#include <span class=\"token string\">\"newWindow.h\"</span>\n</code></pre>\n<h2><a id=\"_22\"></a>第三步：为按钮事件设置信号与槽</h2>\n<ol><li>打开主窗口mainWindow的ui文件，选中想要设置的按钮，点击鼠标右键，在弹出的栏目中选中“转到槽…”。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\286b4cb7a8374db8b22a63cbfdf58da9.png\"/></li><li>在弹出的窗口中选择clicked()，再点击ok。<br/> <img alt=\"选择clicked()\" src=\"image\\905c3cb5dc6c4486a4166bc95f21d529.png\"/></li><li>此时QT会自动为工程添加槽函数的声明以及一个空白的槽函数，如下图：<br/> <img alt=\"在这里插入图片描述\" src=\"image\\add4d56e783c4914b86b18d14acedaaf.png\"/></li><li>在生成的槽函数中添加newWindow启动代码，如下所示：<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">void</span> MainWindow<span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token function\">on_BtnSerialPortConfig_clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    newWindow <span class=\"token operator\">*</span>configWindow <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">newWindow</span><span class=\"token punctuation\">;</span>\n    configWindow<span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre> </li><li>完成（此截图为我为newWindow添加了控件以后的弹窗截图）<br/> <img alt=\"在这里插入图片描述\" src=\"image\\368ddf47ff874a23be406b7c9407d2e1.png\"/></li></ol>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}