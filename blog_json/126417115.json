{"blogid": "126417115", "writerAge": "码龄2年", "writerBlogNum": "58", "writerCollect": "1403", "writerComment": "1849", "writerFan": "2898", "writerGrade": "6级", "writerIntegral": "4704", "writerName": "风铃听雨~", "writerProfileAdress": "writer_image\\profile_126417115.jpg", "writerRankTotal": "3568", "writerRankWeekly": "54", "writerThumb": "1636", "writerVisitNum": "137523", "blog_read_count": "12258", "blog_time": "已于 2022-08-24 13:38:01 修改", "blog_title": "【SSM框架】Mybatis详解09(源码自取)之动态sql详解", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<ul><li>🧛‍♂️<strong>个人主页：</strong><a href=\"https://blog.csdn.net/muzi_longren?spm=1011.2415.3001.5343\">杯咖啡</a></li><li>💡进步是今天的活动，明天的保证！</li><li>✨目前正在学习：<a href=\"https://blog.csdn.net/muzi_longren/category_11902155.html?spm=1001.2014.3001.5482\">SSM框架</a>,<a href=\"https://blog.csdn.net/muzi_longren/category_11895216.html\">算法刷题</a></li><li>👉本文收录专栏：<a href=\"https://blog.csdn.net/muzi_longren/category_11902155.html\">SSM框架解析</a></li><li>🙌<strong>牛客网</strong>，刷算法过面试的神级网站，<strong>用牛客你也牛。</strong> 👉<a href=\"https://www.nowcoder.com/link/pc_csdncpt_flty_jzsf\">免费注册和我一起学习刷题</a>👈</li><li>🐳希望大家多多支持🥰一起进步呀！</li><li>😎The man who fears losing has already lost.<br/> 怕输的人已经输了。 - 《权力的游戏》</li></ul>\n</blockquote>\n<hr/>\n<h1><a id=\"_9\"></a>✨前言</h1>\n<blockquote>\n<p>上一节我们复习了<strong>优化注册，#{}与￥{}区别，返回主键，UUID</strong><br/> 这一节我们复习<strong>动态sql</strong><br/> <strong>和我一起复习下去你可以获得一个比较<code>完美框架demo</code>，并且<code>深刻体会框架</code>。<br/> 坚持到最后的<code>源码解析</code>你会收获更多哦，<code>加油坚持！！！</code></strong></p>\n</blockquote>\n<hr/>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_9\">✨前言</a></li><li><a href=\"#sql_23\">什么是动态sql</a></li><li><a href=\"#_27\">标签详解</a></li><li><ul><li><a href=\"#sql_28\">`&lt;sql&gt;`</a></li><li><a href=\"#include_30\">`&lt;include&gt;`</a></li><li><a href=\"#if_46\">`&lt;if&gt;`</a></li><li><a href=\"#where_49\">`&lt;where&gt;`</a></li><li><a href=\"#set_86\">`&lt;set&gt;`</a></li><li><a href=\"#foreach_128\">`&lt;foreach&gt;`</a></li></ul>\n</li><li><a href=\"#_183\">✨总结</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"sql_23\"></a>什么是动态sql</h1>\n<blockquote>\n<p>可以定义代码片断,可以进行逻辑判断,可以进行循环处理(批量处理),使条件判断更为简单.<br/> 我们假设一个场景，如果我们需要<strong>利用姓名模糊搜索或者需要利用性别进行搜索，或者我们需要两个条件同时进行限制搜索</strong>。<br/> 我们知道为了防止sql注入，我们使用的都是预编译的语句，我们的sql语句就要写三套。那么mybatis就很方便的为我们提供了<strong>自动判断自动修改sql语句的方式</strong>，使我们的工作更加方便。</p>\n</blockquote>\n<h1><a id=\"_27\"></a>标签详解</h1>\n<h2><a id=\"sql_28\"></a><code>&lt;sql&gt;</code></h2>\n<p><code>1)&lt;sql&gt;:用来定义代码片断,可以将所有的列名,或复杂的条件定义为代码片断,供使用时调用.</code></p>\n<h2><a id=\"include_30\"></a><code>&lt;include&gt;</code></h2>\n<p><code>2)&lt;include&gt;:用来引用&lt;sql&gt;定义的代码片断.</code></p>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--定义代码片断--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sql</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        id,username,birthday,sex,address\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sql</span><span class=\"token punctuation\">&gt;</span></span>\n   //引用定义好的代码片断\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getAll<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n        select <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>include</span> <span class=\"token attr-name\">refid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>include</span><span class=\"token punctuation\">&gt;</span></span>\n        from users\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\7bfaa0bb5b8a4034ac6a2b31bc8dbbe6.png\"/></p>\n<h2><a id=\"if_46\"></a><code>&lt;if&gt;</code></h2>\n<p><code>3)&lt;if&gt;:进行条件判断</code><br/> test条件判断的取值可以是实体类的成员变量,可以是map的key,可以是@Param注解的名称.</p>\n<h2><a id=\"where_49\"></a><code>&lt;where&gt;</code></h2>\n<p><code>4)&lt;where&gt;:进行多条件拼接,在查询,删除,更新中使用.</code></p>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--UserMapper.xml文件中--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getByCondition<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">parameterType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        select <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>include</span> <span class=\"token attr-name\">refid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>include</span><span class=\"token punctuation\">&gt;</span></span>\n        from users\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>where</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName != null and userName != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               and username like concat('%',#{userName},'%')\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>birthday != null<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               and birthday = #{birthday}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sex != null and sex != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               and sex = #{sex}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>address != null and address != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                and address like concat('%',#{address},'%')\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>where</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\43e65bf003c54344ae3f576e95b9950a.png\"/></p>\n<p>我们看一下输入不同的查询值的sql语句的不同<br/> <strong>当我们什么条件都没有输入，就会查询全部</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\8147ae3ff8014eac9c44d3595f00aa0b.png\"/><br/> <strong>当我们输入了性别，可以看到我们的语句是这样的</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\23964f56329340269709e99344d688ef.png\"/><br/> <strong>当我们由加入地区的模糊查询，sql语句是这样的</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\756daa7e56b14d26a95cd7f955a18f36.png\"/><br/> <strong>这就是动态sql给我们提供的便利，我们只需要输入我们的条件就好了，mybatis可以自动为我们调整sql语句</strong><br/> <strong>我们在做模糊查询的时候的一个细节：我们尽量使用concat()函数进行字符串的拼接，而不是直接like ‘xxxx’，在我们使用函数的时候更加安全方便</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\6ebe9f48c1ca4d3e8d0537dd7ee5c46c.png\"/></p>\n<h2><a id=\"set_86\"></a><code>&lt;set&gt;</code></h2>\n<p><code>5)&lt;set&gt;:有选择的进行更新处理,至少更新一列.能够保证如果没有传值进来,则数据库中的数据保持不变.</code></p>\n<blockquote>\n<p>这里我们需要更新的话，我们就要把这一行的所有指标都赋值，才能完成更新。如果我们只赋值一个属性（只传入我们需要修改的属性）那么其他没赋值的就变成null了。我们来看一下</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\94ccdebffb72486986a7dbd1e7ac93d2.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\49c2f8f5109e4c8abd6273868bedfe63.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\0661ced8adc14597a51b1f1ba9abec4b.png\"/><br/> 正常我们需要给所有指标（属性），全部赋值可以完成更新，那么我们试试只赋值一个属性的情况<br/> <strong>一定要记得在我们的实体类增加新的构造方法哦，不然构造会报错哦</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\0c91eaf6906c45e8b4f47d673c1991f9.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\4e79ebce894240c980417fec4d3b2416.png\"/><br/> <strong>运行看结果</strong></p>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\93af1ad60cbd452a8e127ac46d27515d.png\"/><br/> <strong>这里运行成功了，细心的小伙伴已经发现问题了，我们看看数据库里面吧，显然易见</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\8c64df9ae3ca482796a7808d29737f57.png\"/><br/> <strong>本来我只想修改名字，其他的不需要修改的我不想动，我还就只想输入我想修改的值，其他的为啥变成了NULL呢？？？那么这里<code>&lt;set&gt;</code>标签来帮助你，代码如下：</strong></p>\n<pre><code class=\"prism language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>update</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateBySet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">parameterType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        update users\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>set</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName != null and userName != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               username = #{userName},\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>birthday != null<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                birthday = #{birthday},\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sex != null and sex != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                sex = #{sex},\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>address != null and address != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                address =#{address} ,\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>set</span><span class=\"token punctuation\">&gt;</span></span>\n        where id = #{id}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>update</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p>我们来看结果吧<br/> <img alt=\"在这里插入图片描述\" src=\"image\\72b7b59174ac421fbdd213840c4fa6f0.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\1b20afb8cac84dafb85ccf39b3d345c2.png\"/><br/> <strong>这下我们的目的就达到了，完美解决</strong></p>\n<h2><a id=\"foreach_128\"></a><code>&lt;foreach&gt;</code></h2>\n<p>6):用来进行循环遍历,完成循环条件查询,批量删除,批量增加,批量更新.</p>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--查询实现--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getByIds<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        select <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>include</span> <span class=\"token attr-name\">refid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>include</span><span class=\"token punctuation\">&gt;</span></span>\n        from users\n        where id in\n           <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>foreach</span> <span class=\"token attr-name\">collection</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>array<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">item</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">separator</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>,<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">open</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">close</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               #{id}\n           <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>foreach</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<blockquote>\n<p><code>&lt;foreach&gt;</code>参数详解:<br/> collection:用来指定入参的类型,如果是List集合,则为list,如果是Map集合,则为map,如果是数组,则为array.<br/> item:每次循环遍历出来的值或对象<br/> separator:多个值或对象或语句之间的分隔符<br/> open:整个循环外面的前括号<br/> close:整个循环外面的后括号</p>\n</blockquote>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--批量删除实现--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>delete</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>deleteBatch<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n        delete from users\n        where id in\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>foreach</span> <span class=\"token attr-name\">collection</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>array<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">item</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">separator</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>,<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">open</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">close</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n            #{id}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>foreach</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>delete</span><span class=\"token punctuation\">&gt;</span></span>\n\n    <span class=\"token comment\">&lt;!--批量增加实现--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>insert</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>insertBatch<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        insert into users(username, birthday, sex, address) values\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>foreach</span> <span class=\"token attr-name\">collection</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">item</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>u<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">separator</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>,<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n            (#{u.userName},#{u.birthday},#{u.sex},#{u.address})\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>foreach</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>insert</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p>这里就只展示批量增加吧<br/> <img alt=\"在这里插入图片描述\" src=\"image\\185d47ec606b435b89aade2cdeb344ed.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\b61d2432cdab4366a5b3ffc2ac6d56c9.png\"/></p>\n<hr/>\n<h1><a id=\"_183\"></a>✨总结</h1>\n<p><strong>动态sql</strong>可以极大的简化我们sql的编写量，也是必须要掌握的东西哦！！！<br/> 下一节我们将继续复习<strong>指定参数位置，入参是map(重点掌握) ，返回值是map</strong><br/> 本次源码放在代码仓库gitee，<a href=\"https://link.csdn.net/?target=https://gitee.com/totoro01/myba.git\">自取链接</a></p>\n<blockquote>\n<p><span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          原创不易，还希望各位大佬支持一下\n         \n        \n       \n       \n        \\textcolor{blue}{原创不易，还希望各位大佬支持一下}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: blue;\">原创不易，还希望各位大佬支持一下</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          点赞，你的认可是我创作的动力！\n         \n        \n       \n       \n        \\textcolor{green}{点赞，你的认可是我创作的动力！}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">点赞，你的认可是我创作的动力！</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          收藏，你的青睐是我努力的方向！\n         \n        \n       \n       \n        \\textcolor{green}{收藏，你的青睐是我努力的方向！}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">收藏，你的青睐是我努力的方向！</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          评论，你的意见是我进步的财富！\n         \n        \n       \n       \n        \\textcolor{green}{评论，你的意见是我进步的财富！}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">评论，你的意见是我进步的财富！</span></span></span></span></span> <br/></p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}