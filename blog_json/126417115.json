{"blogid": "126417115", "writerAge": "ç é¾„2å¹´", "writerBlogNum": "58", "writerCollect": "1403", "writerComment": "1849", "writerFan": "2898", "writerGrade": "6çº§", "writerIntegral": "4704", "writerName": "é£é“ƒå¬é›¨~", "writerProfileAdress": "writer_image\\profile_126417115.jpg", "writerRankTotal": "3568", "writerRankWeekly": "54", "writerThumb": "1636", "writerVisitNum": "137523", "blog_read_count": "12258", "blog_time": "å·²äºÂ 2022-08-24 13:38:01Â ä¿®æ”¹", "blog_title": "ã€SSMæ¡†æ¶ã€‘Mybatisè¯¦è§£09(æºç è‡ªå–)ä¹‹åŠ¨æ€sqlè¯¦è§£", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<ul><li>ğŸ§›â€â™‚ï¸<strong>ä¸ªäººä¸»é¡µï¼š</strong><a href=\"https://blog.csdn.net/muzi_longren?spm=1011.2415.3001.5343\">æ¯å’–å•¡</a></li><li>ğŸ’¡è¿›æ­¥æ˜¯ä»Šå¤©çš„æ´»åŠ¨ï¼Œæ˜å¤©çš„ä¿è¯ï¼</li><li>âœ¨ç›®å‰æ­£åœ¨å­¦ä¹ ï¼š<a href=\"https://blog.csdn.net/muzi_longren/category_11902155.html?spm=1001.2014.3001.5482\">SSMæ¡†æ¶</a>,<a href=\"https://blog.csdn.net/muzi_longren/category_11895216.html\">ç®—æ³•åˆ·é¢˜</a></li><li>ğŸ‘‰æœ¬æ–‡æ”¶å½•ä¸“æ ï¼š<a href=\"https://blog.csdn.net/muzi_longren/category_11902155.html\">SSMæ¡†æ¶è§£æ</a></li><li>ğŸ™Œ<strong>ç‰›å®¢ç½‘</strong>ï¼Œåˆ·ç®—æ³•è¿‡é¢è¯•çš„ç¥çº§ç½‘ç«™ï¼Œ<strong>ç”¨ç‰›å®¢ä½ ä¹Ÿç‰›ã€‚</strong> ğŸ‘‰<a href=\"https://www.nowcoder.com/link/pc_csdncpt_flty_jzsf\">å…è´¹æ³¨å†Œå’Œæˆ‘ä¸€èµ·å­¦ä¹ åˆ·é¢˜</a>ğŸ‘ˆ</li><li>ğŸ³å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒğŸ¥°ä¸€èµ·è¿›æ­¥å‘€ï¼</li><li>ğŸ˜The man who fears losing has already lost.<br/> æ€•è¾“çš„äººå·²ç»è¾“äº†ã€‚ - ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹</li></ul>\n</blockquote>\n<hr/>\n<h1><a id=\"_9\"></a>âœ¨å‰è¨€</h1>\n<blockquote>\n<p>ä¸Šä¸€èŠ‚æˆ‘ä»¬å¤ä¹ äº†<strong>ä¼˜åŒ–æ³¨å†Œï¼Œ#{}ä¸ï¿¥{}åŒºåˆ«ï¼Œè¿”å›ä¸»é”®ï¼ŒUUID</strong><br/> è¿™ä¸€èŠ‚æˆ‘ä»¬å¤ä¹ <strong>åŠ¨æ€sql</strong><br/> <strong>å’Œæˆ‘ä¸€èµ·å¤ä¹ ä¸‹å»ä½ å¯ä»¥è·å¾—ä¸€ä¸ªæ¯”è¾ƒ<code>å®Œç¾æ¡†æ¶demo</code>ï¼Œå¹¶ä¸”<code>æ·±åˆ»ä½“ä¼šæ¡†æ¶</code>ã€‚<br/> åšæŒåˆ°æœ€åçš„<code>æºç è§£æ</code>ä½ ä¼šæ”¶è·æ›´å¤šå“¦ï¼Œ<code>åŠ æ²¹åšæŒï¼ï¼ï¼</code></strong></p>\n</blockquote>\n<hr/>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_9\">âœ¨å‰è¨€</a></li><li><a href=\"#sql_23\">ä»€ä¹ˆæ˜¯åŠ¨æ€sql</a></li><li><a href=\"#_27\">æ ‡ç­¾è¯¦è§£</a></li><li><ul><li><a href=\"#sql_28\">`&lt;sql&gt;`</a></li><li><a href=\"#include_30\">`&lt;include&gt;`</a></li><li><a href=\"#if_46\">`&lt;if&gt;`</a></li><li><a href=\"#where_49\">`&lt;where&gt;`</a></li><li><a href=\"#set_86\">`&lt;set&gt;`</a></li><li><a href=\"#foreach_128\">`&lt;foreach&gt;`</a></li></ul>\n</li><li><a href=\"#_183\">âœ¨æ€»ç»“</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"sql_23\"></a>ä»€ä¹ˆæ˜¯åŠ¨æ€sql</h1>\n<blockquote>\n<p>å¯ä»¥å®šä¹‰ä»£ç ç‰‡æ–­,å¯ä»¥è¿›è¡Œé€»è¾‘åˆ¤æ–­,å¯ä»¥è¿›è¡Œå¾ªç¯å¤„ç†(æ‰¹é‡å¤„ç†),ä½¿æ¡ä»¶åˆ¤æ–­æ›´ä¸ºç®€å•.<br/> æˆ‘ä»¬å‡è®¾ä¸€ä¸ªåœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦<strong>åˆ©ç”¨å§“åæ¨¡ç³Šæœç´¢æˆ–è€…éœ€è¦åˆ©ç”¨æ€§åˆ«è¿›è¡Œæœç´¢ï¼Œæˆ–è€…æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ¡ä»¶åŒæ—¶è¿›è¡Œé™åˆ¶æœç´¢</strong>ã€‚<br/> æˆ‘ä»¬çŸ¥é“ä¸ºäº†é˜²æ­¢sqlæ³¨å…¥ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯é¢„ç¼–è¯‘çš„è¯­å¥ï¼Œæˆ‘ä»¬çš„sqlè¯­å¥å°±è¦å†™ä¸‰å¥—ã€‚é‚£ä¹ˆmybatiså°±å¾ˆæ–¹ä¾¿çš„ä¸ºæˆ‘ä»¬æä¾›äº†<strong>è‡ªåŠ¨åˆ¤æ–­è‡ªåŠ¨ä¿®æ”¹sqlè¯­å¥çš„æ–¹å¼</strong>ï¼Œä½¿æˆ‘ä»¬çš„å·¥ä½œæ›´åŠ æ–¹ä¾¿ã€‚</p>\n</blockquote>\n<h1><a id=\"_27\"></a>æ ‡ç­¾è¯¦è§£</h1>\n<h2><a id=\"sql_28\"></a><code>&lt;sql&gt;</code></h2>\n<p><code>1)&lt;sql&gt;:ç”¨æ¥å®šä¹‰ä»£ç ç‰‡æ–­,å¯ä»¥å°†æ‰€æœ‰çš„åˆ—å,æˆ–å¤æ‚çš„æ¡ä»¶å®šä¹‰ä¸ºä»£ç ç‰‡æ–­,ä¾›ä½¿ç”¨æ—¶è°ƒç”¨.</code></p>\n<h2><a id=\"include_30\"></a><code>&lt;include&gt;</code></h2>\n<p><code>2)&lt;include&gt;:ç”¨æ¥å¼•ç”¨&lt;sql&gt;å®šä¹‰çš„ä»£ç ç‰‡æ–­.</code></p>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--å®šä¹‰ä»£ç ç‰‡æ–­--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sql</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        id,username,birthday,sex,address\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sql</span><span class=\"token punctuation\">&gt;</span></span>\n   //å¼•ç”¨å®šä¹‰å¥½çš„ä»£ç ç‰‡æ–­\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getAll<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n        select <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>include</span> <span class=\"token attr-name\">refid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>include</span><span class=\"token punctuation\">&gt;</span></span>\n        from users\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\7bfaa0bb5b8a4034ac6a2b31bc8dbbe6.png\"/></p>\n<h2><a id=\"if_46\"></a><code>&lt;if&gt;</code></h2>\n<p><code>3)&lt;if&gt;:è¿›è¡Œæ¡ä»¶åˆ¤æ–­</code><br/> testæ¡ä»¶åˆ¤æ–­çš„å–å€¼å¯ä»¥æ˜¯å®ä½“ç±»çš„æˆå‘˜å˜é‡,å¯ä»¥æ˜¯mapçš„key,å¯ä»¥æ˜¯@Paramæ³¨è§£çš„åç§°.</p>\n<h2><a id=\"where_49\"></a><code>&lt;where&gt;</code></h2>\n<p><code>4)&lt;where&gt;:è¿›è¡Œå¤šæ¡ä»¶æ‹¼æ¥,åœ¨æŸ¥è¯¢,åˆ é™¤,æ›´æ–°ä¸­ä½¿ç”¨.</code></p>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--UserMapper.xmlæ–‡ä»¶ä¸­--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getByCondition<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">parameterType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        select <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>include</span> <span class=\"token attr-name\">refid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>include</span><span class=\"token punctuation\">&gt;</span></span>\n        from users\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>where</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName != null and userName != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               and username like concat('%',#{userName},'%')\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>birthday != null<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               and birthday = #{birthday}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sex != null and sex != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               and sex = #{sex}\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>address != null and address != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                and address like concat('%',#{address},'%')\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>where</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\43e65bf003c54344ae3f576e95b9950a.png\"/></p>\n<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹è¾“å…¥ä¸åŒçš„æŸ¥è¯¢å€¼çš„sqlè¯­å¥çš„ä¸åŒ<br/> <strong>å½“æˆ‘ä»¬ä»€ä¹ˆæ¡ä»¶éƒ½æ²¡æœ‰è¾“å…¥ï¼Œå°±ä¼šæŸ¥è¯¢å…¨éƒ¨</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\8147ae3ff8014eac9c44d3595f00aa0b.png\"/><br/> <strong>å½“æˆ‘ä»¬è¾“å…¥äº†æ€§åˆ«ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„è¯­å¥æ˜¯è¿™æ ·çš„</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\23964f56329340269709e99344d688ef.png\"/><br/> <strong>å½“æˆ‘ä»¬ç”±åŠ å…¥åœ°åŒºçš„æ¨¡ç³ŠæŸ¥è¯¢ï¼Œsqlè¯­å¥æ˜¯è¿™æ ·çš„</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\756daa7e56b14d26a95cd7f955a18f36.png\"/><br/> <strong>è¿™å°±æ˜¯åŠ¨æ€sqlç»™æˆ‘ä»¬æä¾›çš„ä¾¿åˆ©ï¼Œæˆ‘ä»¬åªéœ€è¦è¾“å…¥æˆ‘ä»¬çš„æ¡ä»¶å°±å¥½äº†ï¼Œmybatiså¯ä»¥è‡ªåŠ¨ä¸ºæˆ‘ä»¬è°ƒæ•´sqlè¯­å¥</strong><br/> <strong>æˆ‘ä»¬åœ¨åšæ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™çš„ä¸€ä¸ªç»†èŠ‚ï¼šæˆ‘ä»¬å°½é‡ä½¿ç”¨concat()å‡½æ•°è¿›è¡Œå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œè€Œä¸æ˜¯ç›´æ¥like â€˜xxxxâ€™ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨å‡½æ•°çš„æ—¶å€™æ›´åŠ å®‰å…¨æ–¹ä¾¿</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\6ebe9f48c1ca4d3e8d0537dd7ee5c46c.png\"/></p>\n<h2><a id=\"set_86\"></a><code>&lt;set&gt;</code></h2>\n<p><code>5)&lt;set&gt;:æœ‰é€‰æ‹©çš„è¿›è¡Œæ›´æ–°å¤„ç†,è‡³å°‘æ›´æ–°ä¸€åˆ—.èƒ½å¤Ÿä¿è¯å¦‚æœæ²¡æœ‰ä¼ å€¼è¿›æ¥,åˆ™æ•°æ®åº“ä¸­çš„æ•°æ®ä¿æŒä¸å˜.</code></p>\n<blockquote>\n<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ›´æ–°çš„è¯ï¼Œæˆ‘ä»¬å°±è¦æŠŠè¿™ä¸€è¡Œçš„æ‰€æœ‰æŒ‡æ ‡éƒ½èµ‹å€¼ï¼Œæ‰èƒ½å®Œæˆæ›´æ–°ã€‚å¦‚æœæˆ‘ä»¬åªèµ‹å€¼ä¸€ä¸ªå±æ€§ï¼ˆåªä¼ å…¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹çš„å±æ€§ï¼‰é‚£ä¹ˆå…¶ä»–æ²¡èµ‹å€¼çš„å°±å˜æˆnulläº†ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\94ccdebffb72486986a7dbd1e7ac93d2.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\49c2f8f5109e4c8abd6273868bedfe63.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\0661ced8adc14597a51b1f1ba9abec4b.png\"/><br/> æ­£å¸¸æˆ‘ä»¬éœ€è¦ç»™æ‰€æœ‰æŒ‡æ ‡ï¼ˆå±æ€§ï¼‰ï¼Œå…¨éƒ¨èµ‹å€¼å¯ä»¥å®Œæˆæ›´æ–°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯•è¯•åªèµ‹å€¼ä¸€ä¸ªå±æ€§çš„æƒ…å†µ<br/> <strong>ä¸€å®šè¦è®°å¾—åœ¨æˆ‘ä»¬çš„å®ä½“ç±»å¢åŠ æ–°çš„æ„é€ æ–¹æ³•å“¦ï¼Œä¸ç„¶æ„é€ ä¼šæŠ¥é”™å“¦</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\0c91eaf6906c45e8b4f47d673c1991f9.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\4e79ebce894240c980417fec4d3b2416.png\"/><br/> <strong>è¿è¡Œçœ‹ç»“æœ</strong></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\93af1ad60cbd452a8e127ac46d27515d.png\"/><br/> <strong>è¿™é‡Œè¿è¡ŒæˆåŠŸäº†ï¼Œç»†å¿ƒçš„å°ä¼™ä¼´å·²ç»å‘ç°é—®é¢˜äº†ï¼Œæˆ‘ä»¬çœ‹çœ‹æ•°æ®åº“é‡Œé¢å§ï¼Œæ˜¾ç„¶æ˜“è§</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\8c64df9ae3ca482796a7808d29737f57.png\"/><br/> <strong>æœ¬æ¥æˆ‘åªæƒ³ä¿®æ”¹åå­—ï¼Œå…¶ä»–çš„ä¸éœ€è¦ä¿®æ”¹çš„æˆ‘ä¸æƒ³åŠ¨ï¼Œæˆ‘è¿˜å°±åªæƒ³è¾“å…¥æˆ‘æƒ³ä¿®æ”¹çš„å€¼ï¼Œå…¶ä»–çš„ä¸ºå•¥å˜æˆäº†NULLå‘¢ï¼Ÿï¼Ÿï¼Ÿé‚£ä¹ˆè¿™é‡Œ<code>&lt;set&gt;</code>æ ‡ç­¾æ¥å¸®åŠ©ä½ ï¼Œä»£ç å¦‚ä¸‹ï¼š</strong></p>\n<pre><code class=\"prism language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>update</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateBySet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">parameterType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        update users\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>set</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>userName != null and userName != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               username = #{userName},\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>birthday != null<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                birthday = #{birthday},\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sex != null and sex != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                sex = #{sex},\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>if</span> <span class=\"token attr-name\">test</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>address != null and address != <span class=\"token punctuation\">'</span><span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n                address =#{address} ,\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>if</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>set</span><span class=\"token punctuation\">&gt;</span></span>\n        where id = #{id}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>update</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p>æˆ‘ä»¬æ¥çœ‹ç»“æœå§<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\72b7b59174ac421fbdd213840c4fa6f0.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\1b20afb8cac84dafb85ccf39b3d345c2.png\"/><br/> <strong>è¿™ä¸‹æˆ‘ä»¬çš„ç›®çš„å°±è¾¾åˆ°äº†ï¼Œå®Œç¾è§£å†³</strong></p>\n<h2><a id=\"foreach_128\"></a><code>&lt;foreach&gt;</code></h2>\n<p>6):ç”¨æ¥è¿›è¡Œå¾ªç¯éå†,å®Œæˆå¾ªç¯æ¡ä»¶æŸ¥è¯¢,æ‰¹é‡åˆ é™¤,æ‰¹é‡å¢åŠ ,æ‰¹é‡æ›´æ–°.</p>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--æŸ¥è¯¢å®ç°--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>getByIds<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>users<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        select <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>include</span> <span class=\"token attr-name\">refid</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>allColumns<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>include</span><span class=\"token punctuation\">&gt;</span></span>\n        from users\n        where id in\n           <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>foreach</span> <span class=\"token attr-name\">collection</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>array<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">item</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">separator</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>,<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">open</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">close</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n               #{id}\n           <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>foreach</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<blockquote>\n<p><code>&lt;foreach&gt;</code>å‚æ•°è¯¦è§£:<br/> collection:ç”¨æ¥æŒ‡å®šå…¥å‚çš„ç±»å‹,å¦‚æœæ˜¯Listé›†åˆ,åˆ™ä¸ºlist,å¦‚æœæ˜¯Mapé›†åˆ,åˆ™ä¸ºmap,å¦‚æœæ˜¯æ•°ç»„,åˆ™ä¸ºarray.<br/> item:æ¯æ¬¡å¾ªç¯éå†å‡ºæ¥çš„å€¼æˆ–å¯¹è±¡<br/> separator:å¤šä¸ªå€¼æˆ–å¯¹è±¡æˆ–è¯­å¥ä¹‹é—´çš„åˆ†éš”ç¬¦<br/> open:æ•´ä¸ªå¾ªç¯å¤–é¢çš„å‰æ‹¬å·<br/> close:æ•´ä¸ªå¾ªç¯å¤–é¢çš„åæ‹¬å·</p>\n</blockquote>\n<pre><code class=\"prism language-xml\"><span class=\"token comment\">&lt;!--æ‰¹é‡åˆ é™¤å®ç°--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>delete</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>deleteBatch<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n        delete from users\n        where id in\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>foreach</span> <span class=\"token attr-name\">collection</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>array<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">item</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">separator</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>,<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">open</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>(<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">close</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n            #{id}\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>foreach</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>delete</span><span class=\"token punctuation\">&gt;</span></span>\n\n    <span class=\"token comment\">&lt;!--æ‰¹é‡å¢åŠ å®ç°--&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>insert</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>insertBatch<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        insert into users(username, birthday, sex, address) values\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>foreach</span> <span class=\"token attr-name\">collection</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">item</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>u<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">separator</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>,<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n            (#{u.userName},#{u.birthday},#{u.sex},#{u.address})\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>foreach</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>insert</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<p>è¿™é‡Œå°±åªå±•ç¤ºæ‰¹é‡å¢åŠ å§<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\185d47ec606b435b89aade2cdeb344ed.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\b61d2432cdab4366a5b3ffc2ac6d56c9.png\"/></p>\n<hr/>\n<h1><a id=\"_183\"></a>âœ¨æ€»ç»“</h1>\n<p><strong>åŠ¨æ€sql</strong>å¯ä»¥æå¤§çš„ç®€åŒ–æˆ‘ä»¬sqlçš„ç¼–å†™é‡ï¼Œä¹Ÿæ˜¯å¿…é¡»è¦æŒæ¡çš„ä¸œè¥¿å“¦ï¼ï¼ï¼<br/> ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†ç»§ç»­å¤ä¹ <strong>æŒ‡å®šå‚æ•°ä½ç½®ï¼Œå…¥å‚æ˜¯map(é‡ç‚¹æŒæ¡) ï¼Œè¿”å›å€¼æ˜¯map</strong><br/> æœ¬æ¬¡æºç æ”¾åœ¨ä»£ç ä»“åº“giteeï¼Œ<a href=\"https://link.csdn.net/?target=https://gitee.com/totoro01/myba.git\">è‡ªå–é“¾æ¥</a></p>\n<blockquote>\n<p><span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          åŸåˆ›ä¸æ˜“ï¼Œè¿˜å¸Œæœ›å„ä½å¤§ä½¬æ”¯æŒä¸€ä¸‹\n         \n        \n       \n       \n        \\textcolor{blue}{åŸåˆ›ä¸æ˜“ï¼Œè¿˜å¸Œæœ›å„ä½å¤§ä½¬æ”¯æŒä¸€ä¸‹}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: blue;\">åŸåˆ›ä¸æ˜“ï¼Œè¿˜å¸Œæœ›å„ä½å¤§ä½¬æ”¯æŒä¸€ä¸‹</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          ç‚¹èµï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼\n         \n        \n       \n       \n        \\textcolor{green}{ç‚¹èµï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">ç‚¹èµï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          æ”¶è—ï¼Œä½ çš„é’çæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼\n         \n        \n       \n       \n        \\textcolor{green}{æ”¶è—ï¼Œä½ çš„é’çæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">æ”¶è—ï¼Œä½ çš„é’çæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          è¯„è®ºï¼Œä½ çš„æ„è§æ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼\n         \n        \n       \n       \n        \\textcolor{green}{è¯„è®ºï¼Œä½ çš„æ„è§æ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">è¯„è®ºï¼Œä½ çš„æ„è§æ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼</span></span></span></span></span> <br/></p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}