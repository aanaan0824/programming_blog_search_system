{"blogid": "126619087", "writerAge": "码龄5年", "writerBlogNum": "40", "writerCollect": "48", "writerComment": "5", "writerFan": "11", "writerGrade": "3级", "writerIntegral": "449", "writerName": "前端鲁班", "writerProfileAdress": "writer_image\\profile_126619087.jpg", "writerRankTotal": "36476", "writerRankWeekly": "114967", "writerThumb": "15", "writerVisitNum": "17111", "blog_read_count": "116", "blog_time": "于 2022-08-31 11:07:26 发布", "blog_title": "vue路由原理", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>前端路由切换原理：本质就是监听url的变化，然后匹配路由规则，显示相应的页面，并且不刷新页面。目前单页面应用实现路由的方式只有俩种：<br/> hash模式<br/> history模式<br/> hash模式相当于瞄点跳转。监听url#后面的传值发生变化，从而触发window.hashchange方法。并根据值修改暂时页面的内容。不会刷新页面<img alt=\"请添加图片描述\" src=\"image\\e0daaff475374ba3a876b5f41e3b8286.png\"/><br/> history模式相对hash模式更加符合我们常见的url格式。原理是触发了原生的window.history方法。<br/> 简单介绍一下window.history都有哪些方法<br/> history.forward 历史记录前进<br/> history.back 历史记录后退<br/> history.go 历史记录 跳转n步 -n后退n步 n前进n<br/> history.pushstate 向历史记录添加一条记录<br/> history.replacestate 替换当前页页面上的信息<br/> window.onpopstate事件，用户操作前进后退按钮的时候，监听当前url的变化，从而修改页面内容<br/> history模式可以简单理解为，我们针对超链接进行改造，给每一个超链接添加一个onclick点击事件。阻止超链接默认跳转的事件。使用history.pushstate和history.replacestate的方法,更改浏览器的url，修改页面内容。从而实现单页面应用不刷新的需求。<img alt=\"请添加图片描述\" src=\"image\\63074ea9f47d43e983a0914dd3850aea.png\"/></p>\n<h1><a id=\"hashhistory_13\"></a>hash模式和history模式的区别</h1>\n<p>history模式更加优雅，更加美观，hash模式比较丑<br/> history模式跳转当前路由会在历史记录里新增加一条。而hash模式只有在跳转路由与当前路由不一致时才会增加<br/> history模式刷新页面会向服务器发送请求。所以需要后端服务配合重定向，否则会报页面404，hash模式则不会，只是执行load事件<br/> hash模式兼容到ie8，history模式兼容到ie10</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}