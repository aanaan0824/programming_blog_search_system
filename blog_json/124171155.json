{"blogid": "124171155", "writerAge": "码龄6年", "writerBlogNum": "88", "writerCollect": "292", "writerComment": "98", "writerFan": "43", "writerGrade": "5级", "writerIntegral": "2021", "writerName": "L·S·P", "writerProfileAdress": "writer_image\\profile_124171155.jpg", "writerRankTotal": "10455", "writerRankWeekly": "19407", "writerThumb": "108", "writerVisitNum": "243659", "blog_read_count": "1384", "blog_time": "已于 2022-04-18 11:04:36 修改", "blog_title": "Windows下PHP微服务框架Hyperf Swoole开发部署（Docker方式）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>前提</h1>\n<p>查看此教程时，默认你已经安装Docker for windows，并且具备了基本的docker及linux操作技能。</p>\n<p></p>\n<h1>安装</h1>\n<h2>创建并启动一个Hyperf容器</h2>\n<p>运行以下命令来创建并启动一个hyperf官方提供的镜像容器，注意<span style=\"color:#fe2c24;\"><em><span style=\"background-color:#cccccc;\">D:/hyperf</span></em></span>是我本地主机存放hyperf项目的目录，挂载到了容器的<em><span style=\"color:#fe2c24;\"><span style=\"background-color:#cccccc;\">/data/project</span></span></em>目录；本地主机的9501端口挂载到了容器的9501端口</p>\n<pre><code class=\"language-bash\">docker run --name hyperf -v D:/hyperf:/data/project -p 9501:9501 -it --privileged -u root --entrypoint /bin/sh hyperf/hyperf:7.4-alpine-v3.11-swoole</code></pre>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\cabeb382cd7f45148f6350bde5562865.png\"/></p>\n<p></p>\n<h2>配置容器内composer镜像源</h2>\n<p>这里将composer镜像源配置为阿里云的，配置其它可参考：<a class=\"link-info\" href=\"https://blog.csdn.net/Douz_lungfish/article/details/95938276\" title=\"Composer国内镜像源配置\">Composer国内镜像源配置</a></p>\n<pre><code class=\"language-bash\">composer config -g repo.packagist composer https://mirrors.aliyun.com/composer</code></pre>\n<p></p>\n<h2>创建项目</h2>\n<p>进入到<span style=\"color:#fe2c24;\"><em><span style=\"background-color:#cccccc;\">/data/project</span></em></span>目录，创建hyperf项目</p>\n<pre><code class=\"language-bash\">composer create-project hyperf/hyperf-skeleton</code></pre>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\95b2e372478440e5af80d272f2b8ca52.png\"/></p>\n<p></p>\n<h2>启动项目</h2>\n<p>进入到项目目录并启动项目</p>\n<pre><code class=\"language-bash\"># 进入项目目录\ncd hyperf-skeleton\n\n# 启动项目\nphp bin/hyperf.php start</code></pre>\n<p class=\"img-center\"><img alt=\"\" src=\"image\\3d358f6486c2485ba9179c50ea7ba071.png\"/></p>\n<p></p>\n<h1>访问</h1>\n<p>在本地主机访问项目：<a href=\"http://127.0.0.1:9501/?user=lauwen\" title=\"http://127.0.0.1:9501/?user=lauwen\">http://127.0.0.1:9501/?user=lauwen</a></p>\n<p class=\"img-center\"><img alt=\"\" src=\"image\\8c58be1d9f034eaab40a05b546c0f18d.png\"/></p>\n<p></p>\n<h1>其它</h1>\n<p>在本地查看容器挂载目录，可以看到在容器中创建的项目，在本机中就可以以此目录来进行开发了</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\246e2d2b8492407fbb2fb82ae881d620.png\"/></p>\n<p></p>\n<p></p>\n</div>\n</div>"}