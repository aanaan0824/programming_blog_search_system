{"blogid": "120828502", "writerAge": "码龄6年", "writerBlogNum": "159", "writerCollect": "308", "writerComment": "150", "writerFan": "1055", "writerGrade": "5级", "writerIntegral": "1885", "writerName": "伏城之外", "writerProfileAdress": "writer_image\\profile_120828502.jpg", "writerRankTotal": "10067", "writerRankWeekly": "6519", "writerThumb": "140", "writerVisitNum": "82728", "blog_read_count": "4775", "blog_time": "已于 2022-05-11 23:41:29 修改", "blog_title": "黑马-大事件项目（总结+BUG修复）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>前言</h1>\n<p>最近把Nodejs和Ajax学习了一下，找到一个很不错的练手项目：黑马刘龙彬老师主讲的大事件项目，整体看完，给刘老师点个赞，讲的非常细致，开发流程清晰，涉及的知识点也很精准。另外黑马还为这个项目提供了在线接口文档，并且将后端服务器也上线发布了，真是自学小伙伴的福音啊。最后，再次给黑马程序员和刘老师点个赞。</p>\n<p></p>\n<h1>项目介绍</h1>\n<h2>项目名称</h2>\n<p>大事件</p>\n<h2>后端接口文档</h2>\n<p><a class=\"has-card\" href=\"https://www.showdoc.com.cn/escook?page_id=3707158761215217\" title=\"说明--ShowDoc\"><span class=\"link-card-box\"><span class=\"link-title\">说明--ShowDoc</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\icon-default.png\"/>https://www.showdoc.com.cn/escook?page_id=3707158761215217</span></span></a></p>\n<h2>前端UI图概览</h2>\n<h3>登录页</h3>\n<p><img alt=\"\" height=\"209\" src=\"image\\f8534fb7e7354bfda089e8c480f8e013.png\" width=\"446\"/></p>\n<h3>首页</h3>\n<h3><img alt=\"\" height=\"209\" src=\"image\\40f12be8035e43b9be9501a52ee3524e.png\" width=\"447\"/></h3>\n<h3>文章管理-文章类别</h3>\n<p><img alt=\"\" height=\"209\" src=\"image\\d16010cb5f574309afb64d59e1325838.png\" width=\"442\"/></p>\n<h3> 文章管理-文章列表</h3>\n<h3><img alt=\"\" height=\"210\" src=\"image\\f8588ddb1c784983b5f56680330cc2e2.png\" width=\"446\"/></h3>\n<h3> 文章管理-发布文章</h3>\n<p><img alt=\"\" height=\"213\" src=\"image\\f5c90a64beba49ceab7d57565678edd2.png\" width=\"451\"/></p>\n<h3>个人中心-基本资料</h3>\n<h3><img alt=\"\" height=\"212\" src=\"image\\a875d2d3a5fb436c95da53ebf1438eba.png\" width=\"450\"/></h3>\n<h3>个人中心-更换头像</h3>\n<p><img alt=\"\" height=\"211\" src=\"image\\2a1e74b33e3b415fa8193bdec6476bae.png\" width=\"448\"/></p>\n<h3> 个人中心-重置密码</h3>\n<p><img alt=\"\" height=\"211\" src=\"image\\27d74e25cf4243bca48d5420c90ae49d.png\" width=\"445\"/></p>\n<p></p>\n<h2>知识点</h2>\n<h3>前端</h3>\n<p>html,css,字体图标,layui</p>\n<p>js,jquery,ajax,formData</p>\n<p>template, tinymce, cropper</p>\n<h3>后端</h3>\n<p>nodejs，express服务器，静态资源托管，cors跨域，jwt身份认证，bscript不可逆加密，joi请求字段验证，multer解析formData格式数据，promisify和promise，async和await异步编程</p>\n<p>mysql</p>\n<h3>版本管理</h3>\n<p>git</p>\n<p></p>\n<h1>项目源码、数据库表、postman测试工程下载<br/><a class=\"has-card\" href=\"https://github.com/qwx427219/BigEvent.git\" title=\"GitHub - qwx427219/BigEvent: 黑马大事件项目\"><span class=\"link-card-box\"><span class=\"link-title\">GitHub - qwx427219/BigEvent: 黑马大事件项目</span><span class=\"link-desc\">黑马大事件项目. Contribute to qwx427219/BigEvent development by creating an account on GitHub.</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"image\\fluidicon.png\"/>https://github.com/qwx427219/BigEvent.git</span></span></a></h1>\n<h2>项目源码将刘老师未开发的功能完成，包括</h2>\n<p>前端：</p>\n<p>文章管理-文章列表-编辑 功能</p>\n<p>后端：</p>\n<p>完成了以下接口的开发</p>\n<ul><li><code>/my/article/list</code></li><li><code>/my/article/delete/:id</code></li><li><code>/my/article/:id</code></li><li><code>/my/article/edit</code></li></ul>\n<h2>项目源码解决了刘老师已开发的功能的部分BUG，包括</h2>\n<p>前端issue：</p>\n<p>发布文章成功后，发布文章页面会自动跳转到了文章列表页面，但是左侧导航栏未跟随变动</p>\n<p>后端issue：</p>\n<p>涉及到新增的部分接口，如</p>\n<p>新增文章分类接口<code>/my/article/addcates，在第一次新增失败后，报错</code>Error 【ERR_HTTP_HEADERS_SENT】: Cannot set headers after they are sent to the client。原因是：return res.send() 或者 return res.cc(）没有起到终止外层函数后续代码执行的效果。</p>\n<h2>项目源码整合了前后端代码，将它们部署在同一个服务器上</h2>\n<p><img alt=\"\" height=\"101\" src=\"image\\8a3aaf6142324a38bb0169a83d0f1167.png\" width=\"813\"/></p>\n<p><img alt=\"\" height=\"382\" src=\"image\\ac098c5b47db472f8a0fe079ebacf8f6.png\" width=\"1031\"/></p>\n<p><img alt=\"\" height=\"255\" src=\"image\\dd0e220252d341919a89e796593cb940.png\" width=\"1161\"/></p>\n<h2>整理了postman测试工程</h2>\n<p><img alt=\"\" height=\"960\" src=\"image\\0248943f55fb4b8b8d749b403ee4b40f.png\" width=\"1200\"/></p>\n<p></p>\n<h2>整理了数据库建表sql</h2>\n<p><img alt=\"\" height=\"178\" src=\"image\\6d372eff3f6347bda17287e6c6627de4.png\" width=\"1111\"/></p>\n<pre><code class=\"language-sql\">CREATE SCHEMA `my_db_01` ;\n\nCREATE TABLE `my_db_01`.`en_users` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `username` VARCHAR(255) NOT NULL,\n  `password` VARCHAR(255) NOT NULL,\n  `nickname` VARCHAR(255) NULL,\n  `email` VARCHAR(255) NULL,\n  `user_pic` TEXT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE,\n  UNIQUE INDEX `username_UNIQUE` (`username` ASC) VISIBLE)\nENGINE = InnoDB\nDEFAULT CHARACTER SET = utf8mb4\nCOLLATE = utf8mb4_0900_ai_ci\nCOMMENT = '用户信息表';\n\nCREATE TABLE `my_db_01`.`en_articles` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `title` VARCHAR(255) NOT NULL,\n  `content` TEXT NOT NULL,\n  `cover_img` VARCHAR(255) NOT NULL,\n  `pub_date` VARCHAR(255) NOT NULL,\n  `state` VARCHAR(255) NOT NULL,\n  `is_delete` TINYINT(1) NOT NULL DEFAULT 0,\n  `cate_id` INT NOT NULL,\n  `author_id` INT NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE)\nCOMMENT = '文章信息';\n\nCREATE TABLE `my_db_01`.`en_article_cate` (\n  `id` INT NOT NULL AUTO_INCREMENT,\n  `name` VARCHAR(255) NOT NULL,\n  `alias` VARCHAR(255) NOT NULL,\n  `is_delete` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '文章分类是否是被删除\\n0 表示 未被删除\\n1 表示 已被删除',\n  PRIMARY KEY (`id`),\n  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE,\n  UNIQUE INDEX `name_UNIQUE` (`name` ASC) VISIBLE,\n  UNIQUE INDEX `alias_UNIQUE` (`alias` ASC) VISIBLE)\nCOMMENT = '文章分类信息';</code></pre>\n<p>请大家注意下：我这里提供的sql语句是通过MYSQL8.0.19版本导出的，如果大家使用的MYSQL版本过低，可能执行上面sql语句时会报错：</p>\n<blockquote>\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version ....</p>\n</blockquote>\n<p>有两个解决方案：</p>\n<ul><li>更新下自己的MYSQL数据库版本（彻底解决问题）</li><li><a href=\"https://www.cnblogs.com/gaosai/p/13707310.html\" title=\"mysql 数据库高版本迁移到低版本问题 - 今天的诸葛亮 - 博客园 (cnblogs.com)\">mysql 数据库高版本迁移到低版本问题 - 今天的诸葛亮 - 博客园 (cnblogs.com)</a></li></ul>\n<p></p>\n<h2>额外说明</h2>\n<p>1、由于后端代码没有上传node_modules文件夹，所以第一次使用前，请对后端工程执行npm init下载项目依赖的第三方模块</p>\n<p>2、注意后端对接数据库的配置在api_server/db/index.js中，请将数据库用户名和密码换成自己的</p>\n<p>3、jwt字符串有效期8h，若要不合适，请到api_server/config.js中修改</p>\n<p>4、前端工程中ajax请求触发前都要先执行 assets/js/ajaxPre.js，ajax请求的url前缀拼接，请注意按需修改</p>\n</div>\n</div>"}