{"blogid": "124698455", "writerAge": "码龄119天", "writerBlogNum": "3", "writerCollect": "5", "writerComment": "0", "writerFan": "0", "writerGrade": "1级", "writerIntegral": "51", "writerName": "s8686886", "writerProfileAdress": "writer_image\\profile_124698455.jpg", "writerRankTotal": "166601", "writerRankWeekly": "1157348", "writerThumb": "1", "writerVisitNum": "3371", "blog_read_count": "1850", "blog_time": "已于 2022-05-10 22:01:20 修改", "blog_title": "宝塔下的服务器环境搭建步骤", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p><strong>一 、宝塔下载和安装</strong><br/>       <a href=\"https://www.bt.cn/\" title=\"https://www.bt.cn/\">https://www.bt.cn/</a><br/><br/><strong>二、宝塔参数配置</strong><br/><br/><strong>1.  设置端口</strong><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">打开浏览器;</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">输入ECS服务器公网地址ip;</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">后面加:8888(默认);</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">例如 47.111.111.111:8888;</span></span><br/><br/><strong>2.  登陆管理台</strong><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">创建用户名和密码-&gt;确定-&gt;登陆。</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">进入宝塔控制平台</span></span><br/><br/><strong>3. 软件商店</strong><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">左侧菜单软件管理  安装 nginx 和 php （7.3以上 ），MySQL 推荐 5.7及以上版本 亦可选择 阿里云数据库。</span></span></p>\n<p></p>\n<p class=\"img-center\"><img alt=\"\" src=\"image\\8cb97b489ee0afddb4d6648295ae02b8.png\"/></p>\n<p><br/><br/><strong>4. 安装扩展插件</strong><br/><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">等待软件全部安装结束，点击软件商店-&gt;</span></span><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">HP-7.4-&gt;设置</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">为php安装 3 个必要扩展插件:</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">fileinfo（文件处理）</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">imagemagick(高清图像插件)</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">xsl (xml处理插件)</span></span><br/><br/><br/><strong>三.  布署源码</strong><br/><br/><strong>1 .添加站点</strong><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">宝塔-&gt;网站-&gt;添加站点（HTTPS在添加成功后，此时也可配置，这里不做描述）</span></span><br/><br/><span style=\"color:#ff0000;\">添加站点成功后，请上传后端PHP源码至xxx.xxx.xxx刚设置的域名下，并完成解压</span><br/><br/><strong>2 .下载源码</strong><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">miniApp.zip-&gt;小程序代码</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">php.rar-&gt;php源码</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">image.rar-&gt;小程序UI素材</span></span><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">adminWeb.rar-&gt;管理后台代码</span></span><br/><br/><strong>3 .布署源码</strong><br/><strong>3.1 上传下载的版本源码</strong><br/><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">在菜单栏选中网站，进入刚才配置好的网站根目录，点击上传。上传php源码并解压。</span></span><br/><br/><strong><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">4 配置网站运行目录</span></span></strong><br/>     <br/><strong><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">5. 设置nginx伪静态（带附录）</span></span></strong><br/><span style=\"color:#494b4d;\"><span style=\"background-color:#ffffff;\">将伪静态内容（复制图片下面内容↓↓↓），粘贴到站点的伪静态输入框中</span></span><br/>  </p>\n<pre><code>location /api {\nif ($request_method = 'OPTIONS') {\n     add_header Access-Control-Allow-Origin *;\n     add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS,PATCH;\n     add_header Access-Control-Allow-Headers Origin,X-Requested-With,Content-Type,x-api-key,Access-Token;\n     return 200;\n     }\n     index index.html index.php index.htm;\n    try_files $uri $uri/ /api/index.php$is_args$args;\n}\nlocation / {\nif ($request_method = 'OPTIONS') {\n     add_header Access-Control-Allow-Origin *;\n     add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS,PATCH;\n     add_header Access-Control-Allow-Headers Origin,X-Requested-With,Content-Type,x-api-key,Access-Token;\n     return 200;\n     }\n     index index.html index.php index.htm;\n    try_files $uri $uri/ /index.html$is_args$args;\n}\n\nlocation /manage {\nif ($request_method = 'OPTIONS') {\n     add_header Access-Control-Allow-Origin *;\n     add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS,PATCH;\n     add_header Access-Control-Allow-Headers Origin,X-Requested-With,Content-Type,x-api-key,Access-Token;\n     return 200;\n     }\n     index index.html index.php index.htm;\n    try_files $uri $uri/ /manage/index.html$is_args$args;\n}\nlocation /mobile-manage {\nif ($request_method = 'OPTIONS') {\n     add_header Access-Control-Allow-Origin *;\n     add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS,PATCH;\n     add_header Access-Control-Allow-Headers Origin,X-Requested-With,Content-Type,x-api-key,Access-Token;\n     return 200;\n     }\n     index index.html index.php index.htm;\n    try_files $uri $uri/ /mobile-manage/index.html$is_args$args;\n}</code></pre>\n<p><strong>6. 新建数据库</strong></p>\n<p>在宝塔<strong> 数据库 </strong>菜单，选择添加数据库。并保存数据库<strong>帐号</strong>及<strong>密码。</strong>在<strong>商城安装</strong>时需要填写<strong>。</strong></p>\n<p class=\"img-center\"><img alt=\"\" src=\"image\\586d234fcfb7fbbd5b15eb3d09aed07a.png\"/></p>\n<p>到此服务器环境配置就完成了，接下来打开你的网站地址....../manage (系统将自动进入安装界面)</p>\n<p></p>\n</div>\n</div>"}