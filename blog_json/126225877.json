{"blogid": "126225877", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "44", "writerCollect": "1193", "writerComment": "2358", "writerFan": "1707", "writerGrade": "5çº§", "writerIntegral": "4038", "writerName": "èœ¡ç¬”é›ç”°å­¦å‰ç«¯", "writerProfileAdress": "writer_image\\profile_126225877.jpg", "writerRankTotal": "4551", "writerRankWeekly": "58", "writerThumb": "1242", "writerVisitNum": "122225", "blog_read_count": "16317", "blog_time": "å·²äºÂ 2022-08-19 21:50:45Â ä¿®æ”¹", "blog_title": "ã€React-Hooksè¿›é˜¶ã€‘useStateå›è°ƒå‡½æ•°çš„å‚æ•° / useEffectå‘é€ç½‘ç»œè¯·æ±‚/ useRef / useContext", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-dracula\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><strong>å‰è¨€</strong></p>\n<blockquote>\n<p>åšä¸»ä¸»é¡µğŸ‘‰ğŸ»<a href=\"https://blog.csdn.net/xuxuii?spm=1011.2415.3001.5343\">èœ¡ç¬”é›ç”°å­¦ä»£ç </a><br/> ä¸“æ é“¾æ¥ğŸ‘‰ğŸ»<a href=\"https://blog.csdn.net/xuxuii/category_11838680.html\">Reactä¸“æ </a><br/> ä¸Šç¯‡æ–‡ç« åˆæ­¥å­¦ä¹ äº†<a href=\"https://blog.csdn.net/xuxuii/article/details/126209441?spm=1001.2014.3001.5502\">Hooksçš„åŸºç¡€çŸ¥è¯†</a><br/> ä»Šå¤©æ¥æ·±å…¥å­¦ä¹ Hooksçš„ä¸€äº›æ‰©å±•çŸ¥è¯†<br/> æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ä¸€èµ·æ¥çœ‹çœ‹å§~ğŸ¤</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" height=\"70%\" src=\"image\\598c54adc424490cb50c1d0be84b1989.jpeg\" width=\"70%\"/></p>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#useState__12\">useState -å›è°ƒå‡½æ•°çš„å‚æ•°</a></li><li><ul><li><a href=\"#_14\">ä½¿ç”¨åœºæ™¯</a></li><li><a href=\"#_18\">è¯­æ³•</a></li><li><a href=\"#_26\">è¯­æ³•è§„åˆ™</a></li><li><a href=\"#_31\">è¯­æ³•é€‰æ‹©</a></li><li><a href=\"#_36\">ä»£ç </a></li></ul>\n</li><li><a href=\"#useEffect___64\">useEffect - å‘é€ç½‘ç»œè¯·æ±‚</a></li><li><ul><li><a href=\"#_66\">ä½¿ç”¨åœºæ™¯</a></li><li><a href=\"#_70\">è¯­æ³•è¦æ±‚</a></li><li><a href=\"#_81\">æ­£ç¡®å†™æ³•</a></li></ul>\n</li><li><a href=\"#useRef_96\">useRef</a></li><li><ul><li><a href=\"#_98\">ä½¿ç”¨åœºæ™¯</a></li><li><a href=\"#_102\">ä½¿ç”¨æ­¥éª¤</a></li><li><a href=\"#dom_108\">è·å–dom</a></li><li><a href=\"#_126\">è·å–ç»„ä»¶å®ä¾‹</a></li></ul>\n</li><li><a href=\"#useContext_155\">useContext</a></li><li><ul><li><a href=\"#_161\">å®ç°æ­¥éª¤</a></li><li><a href=\"#_167\">ä»£ç å®ç°</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h1><a id=\"useState__12\"></a>useState -å›è°ƒå‡½æ•°çš„å‚æ•°</h1>\n<h2><a id=\"_14\"></a>ä½¿ç”¨åœºæ™¯</h2>\n<p>å‚æ•°åªä¼šåœ¨<strong>ç»„ä»¶çš„åˆå§‹æ¸²æŸ“ä¸­èµ·ä½œç”¨</strong>ï¼Œåç»­æ¸²æŸ“æ—¶ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœåˆå§‹ state éœ€è¦é€šè¿‡è®¡ç®—æ‰èƒ½è·å¾—ï¼Œåˆ™<code>å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°</code>ï¼Œåœ¨å‡½æ•°ä¸­è®¡ç®—å¹¶è¿”å›åˆå§‹çš„ stateï¼Œæ­¤å‡½æ•°åªåœ¨åˆå§‹æ¸²æŸ“æ—¶è¢«è°ƒç”¨ã€‚</p>\n<h2><a id=\"_18\"></a>è¯­æ³•</h2>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">,</span> setName<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{<!-- --></span>   \n  <span class=\"token comment\">// ç¼–å†™è®¡ç®—é€»è¾‘    return 'è®¡ç®—ä¹‹åçš„åˆå§‹å€¼'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"_26\"></a>è¯­æ³•è§„åˆ™</h2>\n<blockquote>\n<ol><li>å›è°ƒå‡½æ•°returnå‡ºå»çš„å€¼å°†ä½œä¸º <code>name</code> çš„åˆå§‹å€¼</li><li>å›è°ƒå‡½æ•°ä¸­çš„é€»è¾‘åªä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡</li></ol>\n</blockquote>\n<h2><a id=\"_31\"></a>è¯­æ³•é€‰æ‹©</h2>\n<blockquote>\n<ol><li>å¦‚æœå°±æ˜¯åˆå§‹åŒ–ä¸€ä¸ªæ™®é€šçš„æ•°æ® ç›´æ¥ä½¿ç”¨ <code>useState(æ™®é€šæ•°æ®)</code> å³å¯</li><li>å¦‚æœè¦åˆå§‹åŒ–çš„æ•°æ®æ— æ³•ç›´æ¥å¾—åˆ°éœ€è¦é€šè¿‡è®¡ç®—æ‰èƒ½è·å–åˆ°ï¼Œä½¿ç”¨<code>useState(()=&gt;{})</code></li></ol>\n</blockquote>\n<h2><a id=\"_36\"></a>ä»£ç </h2>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">return</span> props<span class=\"token punctuation\">.</span>count\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token number\">10</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>Counter count<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token number\">20</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App\n</code></pre>\n<h1><a id=\"useEffect___64\"></a>useEffect - å‘é€ç½‘ç»œè¯·æ±‚</h1>\n<h2><a id=\"_66\"></a>ä½¿ç”¨åœºæ™¯</h2>\n<blockquote>\n<p>å¦‚ä½•åœ¨useEffectä¸­å‘é€ç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¸”å°è£…åŒæ­¥ async awaitæ“ä½œ</p>\n</blockquote>\n<h2><a id=\"_70\"></a>è¯­æ³•è¦æ±‚</h2>\n<blockquote>\n<p><code>ä¸å¯ä»¥ç›´æ¥åœ¨useEffectçš„å›è°ƒå‡½æ•°å¤–å±‚ç›´æ¥åŒ…è£¹ await </code>ï¼Œå› ä¸º<strong>å¼‚æ­¥ä¼šå¯¼è‡´æ¸…ç†å‡½æ•°æ— æ³•ç«‹å³è¿”å›</strong></p>\n</blockquote>\n<pre><code class=\"prism language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=&gt;</span><span class=\"token punctuation\">{<!-- --></span>    \n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://geek.itheima.net/v1_0/channels'</span><span class=\"token punctuation\">)</span>   \n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"_81\"></a>æ­£ç¡®å†™æ³•</h2>\n<p>åœ¨<code>å†…éƒ¨å•ç‹¬å®šä¹‰ä¸€ä¸ªå‡½æ•°</code>ï¼Œç„¶åæŠŠè¿™ä¸ªå‡½æ•°åŒ…è£…æˆåŒæ­¥</p>\n<pre><code class=\"prism language-js\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token comment\">//  å‘é€è¯·æ±‚</span>\n  <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">loadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://geek.itheima.net/v1_0/channels'</span><span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">loadData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h1><a id=\"useRef_96\"></a>useRef</h1>\n<h2><a id=\"_98\"></a>ä½¿ç”¨åœºæ™¯</h2>\n<blockquote>\n<p>åœ¨å‡½æ•°ç»„ä»¶ä¸­è·å–<strong>çœŸå®çš„domå…ƒç´ å¯¹è±¡</strong>æˆ–è€…æ˜¯<strong>ç»„ä»¶å¯¹è±¡</strong></p>\n</blockquote>\n<h2><a id=\"_102\"></a>ä½¿ç”¨æ­¥éª¤</h2>\n<blockquote>\n<ol><li>å¯¼å…¥ <code>useRef</code> å‡½æ•°</li><li>æ‰§è¡Œ <code>useRef</code> å‡½æ•°å¹¶ä¼ å…¥nullï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ å†…éƒ¨æœ‰ä¸€ä¸ªcurrentå±æ€§å­˜æ”¾æ‹¿åˆ°çš„domå¯¹è±¡ï¼ˆç»„ä»¶å®ä¾‹ï¼‰</li><li>é€šè¿‡ref ç»‘å®š è¦è·å–çš„å…ƒç´ æˆ–è€…ç»„ä»¶</li></ol>\n</blockquote>\n<h2><a id=\"dom_108\"></a>è·å–dom</h2>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> useEffect<span class=\"token punctuation\">,</span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>  \n    <span class=\"token keyword\">const</span> h1Ref <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>    \n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>h1Ref<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span>  \n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>    \n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>      \n            <span class=\"token operator\">&lt;</span>h1 ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span> h1Ref <span class=\"token punctuation\">}</span><span class=\"token operator\">&gt;</span><span class=\"token keyword\">this</span> is h1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">&gt;</span>    \n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>  \n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App\n</code></pre>\n<h2><a id=\"_126\"></a>è·å–ç»„ä»¶å®ä¾‹</h2>\n<blockquote>\n<p>å‡½æ•°ç»„ä»¶ç”±äºæ²¡æœ‰å®ä¾‹ï¼Œä¸èƒ½ä½¿ç”¨refè·å–ï¼Œå¦‚æœæƒ³è·å–ç»„ä»¶å®ä¾‹ï¼Œ<code>å¿…é¡»æ˜¯ç±»ç»„ä»¶</code></p>\n</blockquote>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{<!-- --></span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TeastC</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>æˆ‘æ˜¯ç±»ç»„ä»¶<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">const</span> testRef <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>testRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// useEffectå›è°ƒ æ˜¯åœ¨domæ¸²æŸ“ä¹‹åè¿˜æ˜¯ä¹‹å‰æ‰§è¡Œï¼Ÿ ä¹‹åï¼</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>TeastC ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>testRef<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"useContext_155\"></a>useContext</h1>\n<blockquote>\n<p>ä¸€ç§<strong>ç»„ä»¶é—´é€šä¿¡æ–¹å¼</strong>, å¸¸ç”¨äºã€ç¥–ç»„ä»¶ã€‘ä¸ã€åä»£ç»„ä»¶ã€‘é—´é€šä¿¡</p>\n<p>åœ¨hooksä¸‹å¦‚ä½•è·¨ç»„ä»¶ä¼ æ•°æ®</p>\n</blockquote>\n<h2><a id=\"_161\"></a>å®ç°æ­¥éª¤</h2>\n<blockquote>\n<ol><li>ä½¿ç”¨<code>createContext</code> åˆ›å»ºContextå¯¹è±¡</li><li>åœ¨é¡¶å±‚ç»„ä»¶é€šè¿‡<code>Provider</code> æä¾›æ•°æ®</li><li>åœ¨åº•å±‚ç»„ä»¶é€šè¿‡<code>useContext</code>å‡½æ•°è·å–æ•°æ®</li></ol>\n</blockquote>\n<h2><a id=\"_167\"></a>ä»£ç å®ç°</h2>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> createContext<span class=\"token punctuation\">,</span> useContext<span class=\"token punctuation\">,</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// åˆ›å»ºContextå¯¹è±¡</span>\n<span class=\"token keyword\">const</span> Context <span class=\"token operator\">=</span> <span class=\"token function\">createContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ConA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token comment\">// åº•å±‚ç»„ä»¶é€šè¿‡useContextå‡½æ•°è·å–æ•°æ® </span>\n  <span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>Context<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token keyword\">this</span> is ConA\n      appä¼ è¿‡æ¥çš„æ•°æ®æ˜¯ï¼š<span class=\"token punctuation\">{<!-- --></span>count<span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>ConC <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ConC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token comment\">// åº•å±‚ç»„ä»¶é€šè¿‡useContextå‡½æ•°è·å–æ•°æ® </span>\n  <span class=\"token keyword\">const</span> count <span class=\"token operator\">=</span> <span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>Context<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token keyword\">this</span> is ConC\n      appä¼ è¿‡æ¥çš„æ•°æ®æ˜¯ï¼š<span class=\"token punctuation\">{<!-- --></span>count<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Demo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// é¡¶å±‚ç»„ä»¶é€šè¿‡Provider æä¾›æ•°æ® </span>\n    <span class=\"token operator\">&lt;</span>Context<span class=\"token punctuation\">.</span>Provider value<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>ConA <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">+</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">&gt;</span>\n\t\t\t\t<span class=\"token comment\">//æä¾›æ–¹ä¿®æ”¹countæ•°æ®ä¹‹å,ä½¿ç”¨æ–¹ä¹Ÿä¼šæ›´æ–°è¿™ä¸ªæ•°æ®</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Context<span class=\"token punctuation\">.</span>Provider<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//æ‰“å°ç»“æœ: </span>\n<span class=\"token keyword\">this</span> is ConA appä¼ è¿‡æ¥çš„æ•°æ®æ˜¯ï¼š<span class=\"token number\">10</span>\n<span class=\"token keyword\">this</span> is ConC appä¼ è¿‡æ¥çš„æ•°æ®æ˜¯ï¼š<span class=\"token number\">10</span>\n</code></pre>\n<blockquote>\n<p>Contextå¦‚æœè¦ä¼ é€’çš„æ•°æ®ï¼Œåªéœ€è¦åœ¨æ•´ä¸ªåº”ç”¨åˆå§‹åŒ–çš„æ—¶å€™ä¼ é€’ä¸€æ¬¡å°±å¯ä»¥ï¼Œå°±å¯ä»¥é€‰æ‹©åœ¨å…¥å£æ–‡ä»¶index.jsé‡Œé€šè¿‡Provider æä¾›æ•°æ®ã€‚</p>\n<p>Contextå¦‚æœéœ€è¦ä¼ é€’æ•°æ®å¹¶ä¸”å°†æ¥è¿˜éœ€è¦å†å¯¹æ•°æ®åšä¿®æ”¹ï¼Œåº•å±‚ç»„ä»¶ä¹Ÿéœ€è¦è·Ÿç€ä¸€èµ·å˜ï¼Œå°±å¯ä»¥åœ¨é¡¶å±‚ç»„ä»¶é‚£é‡Œé€šè¿‡Provider æä¾›æ•°æ®ã€‚</p>\n</blockquote>\n<blockquote>\n<p><span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œå•¦âœ¨\n         \n        \n       \n       \n        \\textcolor{red}{ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œå•¦âœ¨}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: red;\">ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œå•¦</span><span class=\"mord\" style=\"color: red;\">âœ¨</span></span></span></span></span> <br/><br/> <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          åŸåˆ›ä¸æ˜“ï¼Œè¿˜å¸Œæœ›å„ä½å¤§ä½¬æ”¯æŒä¸€ä¸‹\n         \n        \n       \n       \n        \\textcolor{blue}{åŸåˆ›ä¸æ˜“ï¼Œè¿˜å¸Œæœ›å„ä½å¤§ä½¬æ”¯æŒä¸€ä¸‹}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: blue;\">åŸåˆ›ä¸æ˜“ï¼Œè¿˜å¸Œæœ›å„ä½å¤§ä½¬æ”¯æŒä¸€ä¸‹</span></span></span></span></span> <br/><br/> ğŸ¤ <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          ç‚¹èµï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼\n         \n        \n       \n       \n        \\textcolor{green}{ç‚¹èµï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">ç‚¹èµï¼Œä½ çš„è®¤å¯æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ï¼</span></span></span></span></span> <br/><br/> â­ï¸ <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          æ”¶è—ï¼Œä½ çš„é’çæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼\n         \n        \n       \n       \n        \\textcolor{green}{æ”¶è—ï¼Œä½ çš„é’çæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">æ”¶è—ï¼Œä½ çš„é’çæ˜¯æˆ‘åŠªåŠ›çš„æ–¹å‘ï¼</span></span></span></span></span> <br/><br/> âœï¸ <span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         \n          è¯„è®ºï¼Œä½ çš„æ„è§æ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼\n         \n        \n       \n       \n        \\textcolor{green}{è¯„è®ºï¼Œä½ çš„æ„è§æ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼}\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord cjk_fallback\" style=\"color: green;\">è¯„è®ºï¼Œä½ çš„æ„è§æ˜¯æˆ‘è¿›æ­¥çš„è´¢å¯Œï¼</span></span></span></span></span> <br/></p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}