{"blogid": "126258383", "writerAge": "码龄2年", "writerBlogNum": "71", "writerCollect": "5213", "writerComment": "4690", "writerFan": "7916", "writerGrade": "7级", "writerIntegral": "9087", "writerName": "跳楼梯企鹅", "writerProfileAdress": "writer_image\\profile_126258383.jpg", "writerRankTotal": "1420", "writerRankWeekly": "18", "writerThumb": "3468", "writerVisitNum": "387109", "blog_read_count": "3973", "blog_time": "于 2022-08-10 10:16:20 发布", "blog_title": "【SQL刷题】Day3----SQL必会的常用函数专项练习", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<blockquote>\n<p><strong><span style=\"color:#fe2c24;\">博主昵称：跳楼梯企鹅</span><br/><span style=\"color:#ff9900;\">博主主页面链接：</span><strong><a href=\"https://blog.csdn.net/weixin_50481708?spm=1000.2115.3001.5343\" title=\"博主主页传送门\">博主主页传送门</a></strong></strong></p>\n<p><strong><span style=\"color:#956fe7;\">博主专栏页面连接：</span><strong><span style=\"color:#956fe7;\"><a href=\"https://blog.csdn.net/weixin_50481708/category_11865870.html?spm=1001.2014.3001.5482\" title=\"专栏传送门--网路安全技术\">专栏传送门--网路安全技术</a></span></strong><br/> 创作初心：<span style=\"color:#fe2c24;\">本博客的初心为与技术朋友们相互交流，每个人的技术都存在短板，博主也是一样，虚心求教，希望各位技术友给予指导。</span><br/><span style=\"color:#ad720d;\">博主座右铭：发现光，追随光，成为光，散发光;</span><br/><span style=\"color:#1c7331;\">博主研究方向：渗透测试、机器学习 ;</span><br/><span style=\"color:#9c8ec1;\">博主寄语：感谢各位技术友的支持，您的支持就是我前进的动力 ;</span></strong></p>\n<p><span style=\"color:#fe2c24;\"><strong>学习网站跳转链接：<a class=\"link-info\" href=\"https://www.nowcoder.com/link/pc_csdncpt_tltqe_sql\" title=\"点击这里来和博主一起学习吧\">点击这里来和博主一起学习吧</a></strong></span></p>\n</blockquote>\n<p class=\"img-center\"><img alt=\"\" src=\"image\\bfd2c13fc76b4ea8ad0c8fc31cfa0298.jpeg\"/></p>\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"%E4%B8%80%E3%80%81%20MySQL%E5%BF%85%E4%BC%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%80%E3%80%81%20MySQL%E5%BF%85%E4%BC%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\">一、 MySQL必会的常用函数</a></p>\n<p id=\"1.MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%B9%E7%82%B9-toc\" style=\"margin-left:0px;\"><a href=\"#1.MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%B9%E7%82%B9\">1.MySQL数据库特点</a></p>\n<p id=\"2.%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#2.%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\">2.常用函数</a></p>\n<p id=\"%E4%BA%8C%E3%80%81%E4%B8%93%E9%A1%B9%E7%BB%83%E4%B9%A0-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%BA%8C%E3%80%81%E4%B8%93%E9%A1%B9%E7%BB%83%E4%B9%A0\">二、专项练习</a></p>\n<p id=\"1.%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#1.%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0\">1.数字函数</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98\">（2）刷题</a></p>\n<p id=\"2.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#2.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0\">2.字符串函数</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98\">（2）刷题</a></p>\n<p id=\"3.%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#3.%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0\">3.时间函数</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98\">（2）刷题</a></p>\n<p id=\"4.%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#4.%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0\">4.系统函数</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</a></p>\n<p id=\"5.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#5.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0\">5.聚合函数</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98\">（2）刷题</a></p>\n<p id=\"6.%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#6.%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0\">6.窗口函数</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98-toc\" style=\"margin-left:80px;\"><a href=\"#%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98\">（2）刷题</a></p>\n<p id=\"%E4%B8%89%E3%80%81%E5%B0%8F%E7%BB%93-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%89%E3%80%81%E5%B0%8F%E7%BB%93\">三、小结</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<p> </p>\n<h1 id=\"%E4%B8%80%E3%80%81%20MySQL%E5%BF%85%E4%BC%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\">一、 MySQL必会的常用函数</h1>\n<p><img alt=\"\" height=\"575\" src=\"image\\f90629b29bfa4e769f9f709d4fe9ae26.png\" width=\"965\"/></p>\n<h1 id=\"1.MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%B9%E7%82%B9\">1.MySQL数据库特点</h1>\n<p style=\"margin-left:.0001pt;text-align:justify;\"><span style=\"color:#fe2c24;\"><strong>官方定义：</strong></span></p>\n<blockquote>\n<p style=\"margin-left:.0001pt;text-align:justify;\"><span style=\"color:#ff9900;\">MySQL是一个<a href=\"https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/696511\" title=\"关系型数据库管理系统\">关系型数据库管理系统</a>，由瑞典<a href=\"https://baike.baidu.com/item/MySQL%20AB/2620844\" title=\"MySQL AB\">MySQL AB</a> 公司开发，属于 <a href=\"https://baike.baidu.com/item/Oracle\" title=\"Oracle\">Oracle</a> 旗下产品。MySQL 是最流行的<a href=\"https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/696511\" title=\"关系型数据库管理系统\">关系型数据库管理系统</a>之一，在 <a href=\"https://baike.baidu.com/item/WEB/150564\" title=\"WEB\">WEB</a> 应用方面，MySQL是最好的 <a href=\"https://baike.baidu.com/item/RDBMS/1048260\" title=\"RDBMS\">RDBMS</a> (Relational Database Management System，关系数据库管理系统) 应用软件之一。</span></p>\n<p style=\"margin-left:.0001pt;text-align:justify;\"><span style=\"color:#ff9900;\">MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。</span></p>\n<p style=\"margin-left:.0001pt;text-align:justify;\"><span style=\"color:#ff9900;\">MySQL所使用的 SQL 语言是用于访问<a href=\"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93/103728\" title=\"数据库\">数据库</a>的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是<a href=\"https://baike.baidu.com/item/%E5%BC%80%E6%94%BE%E6%BA%90%E7%A0%81/7176422\" title=\"开放源码\">开放源码</a>这一特点，一般中小型和大型网站的开发都选择 MySQL 作为网站数据库。</span></p>\n</blockquote>\n<p style=\"margin-left:.0001pt;text-align:justify;\"><span style=\"color:#fe2c24;\"><strong>特点：</strong></span></p>\n<p><span style=\"color:#ff9900;\"><strong>(1)功能强大</strong></span></p>\n<p>MySQL 中提供了多种数据库存储引擎，各引擎各有所长，适用于不同的应用场合，用户可以选择最合适的引擎以得到最高性能，可以处理每天访问量超过数亿的高强度的搜索 Web 站点。MySQL5 支持事务、视图、存储过程、触发器等。</p>\n<p><span style=\"color:#ff9900;\"><strong>(2)支持跨平台</strong></span></p>\n<p>MySQL 支持至少 20 种以上的开发平台，包括 Linux、Windows、FreeBSD 、IBMAIX、AIX、FreeBSD 等。这使得在任何平台下编写的程序都可以进行移植，而不需要对程序做任何的修改。</p>\n<p><span style=\"color:#ff9900;\"><strong>(3)运行速度快</strong></span></p>\n<p>高速是 MySQL 的显著特性。在 MySQL 中，使用了极快的 B 树磁盘表(MyISAM)和索引压缩;通过使用优化的单扫描多连接，能够极快地实现连接;SQL 函数使用高度优化的类库实现，运行速度极快。</p>\n<p><span style=\"color:#ff9900;\"><strong>(4)支持面向对象</strong></span></p>\n<p>PHP 支持混合编程方式。编程方式可分为纯粹面向对象、纯粹面向过程、面句对象与面向过程混合 3 种方式。</p>\n<p><span style=\"color:#ff9900;\"><strong>(5)安全性高</strong></span></p>\n<p>灵活和安全的权限与密码系统，允许基本主机的验证。连接到服务器时，所有的密码传输均采用加密形式，从而保证了密码的安全。</p>\n<p><span style=\"color:#ff9900;\"><strong>(6)成本低</strong></span></p>\n<p>MySQL 数据库开放源代码且无版权制约，是一种完全免费的产品，用户可以直接通过网络下载，自主性及使用成本低。体积小，安装方便。历史悠久，用户使用活跃，遇到问题可以寻求帮助，易于维护。</p>\n<p><span style=\"color:#ff9900;\"><strong>(7)支持各种开发语言</strong></span></p>\n<p>MySQL 为各种流行的程序设计语言提供支持，为它们提供了很多的 API 函数，包括 PHP、ASP.NET、Java、Eiffel、Python、Ruby、Tcl、C、C++、Perl 语言等。</p>\n<p><span style=\"color:#ff9900;\"><strong>(8)数据库存储容量大</strong></span></p>\n<p>MySQL 数据库的最大有效表尺寸通常是由操作系统对文件大小的限制决定的，而不是由 MySQL 内部限制决定的。InnoDB 存储引擎将 InnoDB 表保存在一个表空间内，该表空间可由数个文件创建，表空间的最大容量为 64TB，可以轻松处理拥有上千万条记录的大型数据库。</p>\n<p><span style=\"color:#ff9900;\"><strong>(9)支持强大的内置函数</strong></span></p>\n<p>PHP 中提供了大量内置函数，几乎涵盖了 Web 应用开发中的所有功能。它内置了数据库连接、文件上传等功能，MySQL 支持大量的扩展库，如 MySQLi 等，可以为快速开发 Web 应用提供便利。</p>\n<h2 id=\"2.%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\">2.常用函数</h2>\n<p>（1）数字函数</p>\n<p>（2）聚合函数</p>\n<p>（3）字符串函数</p>\n<p>（4）日期函数</p>\n<p>（5）加密函数</p>\n<p>（6）控制流函数</p>\n<p>（7）格式化函数</p>\n<p>（8）类型转化函数</p>\n<p>（9）系统信息函数</p>\n<p>（10）开窗函数</p>\n<p style=\"text-align:center;\"><span style=\"color:#fe2c24;\"><strong>以上一共有十种常用函数，我们这次介绍其中的5种最常用</strong></span></p>\n<h1 id=\"%E4%BA%8C%E3%80%81%E4%B8%93%E9%A1%B9%E7%BB%83%E4%B9%A0\">二、专项练习</h1>\n<h2 id=\"1.%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0\">1.数字函数</h2>\n<h3 id=\"%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0\">（1）函数</h3>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:700px;\"><caption>\n<span style=\"color:#fe2c24;\"><strong>数字函数</strong></span>\n</caption><tbody><tr><td style=\"text-align:center;width:85px;\"><strong>序号</strong></td><td style=\"text-align:center;width:202px;\"><strong>函数</strong></td><td style=\"text-align:center;width:212px;\"><strong>含义</strong></td></tr><tr><td style=\"text-align:center;width:85px;\">1</td><td style=\"width:202px;\"> <pre><code>ABS(x)</code></pre> </td><td style=\"width:212px;\"> <pre><code>--返回x的绝对值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">2</td><td style=\"width:202px;\"> <pre><code>BIN(x)</code></pre> </td><td style=\"width:212px;\"> <pre><code>--返回x的二进制（OCT返回八进制，HEX返回十六进制）</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">3</td><td style=\"width:202px;\"> <pre><code>CEILING(x)</code></pre> </td><td style=\"width:212px;\"> <pre><code>--返回大于x的最小整数值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">4</td><td style=\"width:202px;\"> <pre><code>EXP(x)</code></pre> </td><td style=\"width:212px;\"> <pre><code>--返回值e（自然对数的底）的x次方</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">5</td><td style=\"width:202px;\"> <pre><code>FLOOR(x)</code></pre> </td><td style=\"width:212px;\"> <pre><code>--返回小于x的最大整数值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">6</td><td style=\"width:202px;\"> <pre><code>GREATEST(x1,x2,...,xn)</code></pre> </td><td style=\"width:212px;\"> <pre><code>--返回集合中最大的值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">7</td><td style=\"text-align:center;width:202px;\"> <pre><code>LEAST(x1,x2,...,xn)</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回集合中最小的值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">8</td><td style=\"text-align:center;width:202px;\"> <pre><code>LN(x) </code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回x的自然对数</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">9</td><td style=\"text-align:center;width:202px;\"> <pre><code>LOG(x,y) </code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回x的以y为底的对数</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">10</td><td style=\"text-align:center;width:202px;\"> <pre><code>MOD(x,y)</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回x/y的模（余数）</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">11</td><td style=\"text-align:center;width:202px;\"> <pre><code>PI()</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回pi的值（圆周率）</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">12</td><td style=\"text-align:center;width:202px;\"> <pre><code>RAND()</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回０到１内的随机值,可以通过提供一个参数(种子)使RAND()随机数生成器生成一个指定的值。</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">13</td><td style=\"text-align:center;width:202px;\"> <pre><code>ROUND(x,y)</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回参数x的四舍五入的有y位小数的值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">14</td><td style=\"text-align:center;width:202px;\"> <pre><code>SIGN(x)</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回代表数字x的符号的值</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">15</td><td style=\"text-align:center;width:202px;\"> <pre><code>SQRT(x)</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回一个数的平方根</code></pre> </td></tr><tr><td style=\"text-align:center;width:85px;\">16</td><td style=\"text-align:center;width:202px;\"> <pre><code>TRUNCATE(x,y)</code></pre> </td><td style=\"text-align:center;width:212px;\"> <pre><code>--返回数字x截短为y位小数的结果</code></pre> </td></tr></tbody></table>\n<h3 id=\"%EF%BC%882%EF%BC%89%E5%88%B7%E9%A2%98\">（2）刷题</h3>\n<p>题目：</p>\n<p><img alt=\"\" height=\"554\" src=\"image\\b17d25e9d15c4b5aa0b4820a9aaa2bd8.png\" width=\"936\"/></p>\n<p> 代码：</p>\n<pre><code>SELECT\n    IF(age &lt; 25 OR age IS NULL, \"25岁以下\", \"25岁及以上\") AS age_cut,\n    COUNT(id) AS num\nFROM\n    user_profile\nGROUP BY\n    age_cut</code></pre>\n<p>运行结果：</p>\n<p><img alt=\"\" height=\"404\" src=\"image\\e07de694aa724ffa89a1fb592460f334.png\" width=\"957\"/></p>\n<p> </p>\n<h2 id=\"2.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0\">2.字符串函数</h2>\n<h3>（1）函数</h3>\n<table align=\"center\" border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:700px;\"><caption>\n<span style=\"color:#fe2c24;\"><strong>字符串函数</strong></span>\n</caption><tbody><tr><td style=\"text-align:center;width:87px;\">序号</td><td style=\"text-align:center;width:303px;\">函数</td><td style=\"text-align:center;width:309px;\">含义</td></tr><tr><td style=\"text-align:center;width:87px;\"> <p style=\"text-align:center;\">1</p> </td><td style=\"text-align:center;width:303px;\"> <pre><code>ASCII(char)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符的ASCII码值</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">2</td><td style=\"text-align:center;width:303px;\"> <pre><code>BIT_LENGTH(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符串的比特长度</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">3</td><td style=\"text-align:center;width:303px;\"> <pre><code>CONCAT(s1,s2...,sn)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--将s1,s2...,sn连接成字符串</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">4</td><td style=\"text-align:center;width:303px;\"> <pre><code>CONCAT_WS(sep,s1,s2...,sn)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--将s1,s2...,sn连接成字符串，并用sep字符间隔</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">5</td><td style=\"text-align:center;width:303px;\"> <pre><code>INSERT(str,x,y,instr)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--将字符串str从第x位置开始，y个字符长的子串替换为字符串instr，返回结果</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">6</td><td style=\"text-align:center;width:303px;\"> <pre><code>FIND_IN_SET(str,list)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--分析逗号分隔的list列表，如果发现str，返回str在list中的位置</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">7</td><td style=\"text-align:center;width:303px;\"> <pre><code>LCASE(str)或LOWER(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回将字符串str中所有字符改变为小写后的结果</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">8</td><td style=\"text-align:center;width:303px;\"> <pre><code>LEFT(str,x)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符串str中最左边的x个字符</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">9</td><td style=\"text-align:center;width:303px;\"> <pre><code>LENGTH(s)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符串str中的字符数</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">10</td><td style=\"text-align:center;width:303px;\"> <pre><code>LTRIM(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--从字符串str中切掉开头的空格</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">11</td><td style=\"text-align:center;width:303px;\"> <pre><code>POSITION(substr,str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回子串substr在字符串str中第一次出现的位置</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">12</td><td style=\"text-align:center;width:303px;\"> <pre><code>QUOTE(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--用反斜杠转义str中的单引号</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">13</td><td style=\"text-align:center;width:303px;\"> <pre><code>REPEAT(str,srchstr,rplcstr)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符串str重复x次的结果</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">14</td><td style=\"text-align:center;width:303px;\"> <pre><code>REVERSE(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回颠倒字符串str的结果</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">15</td><td style=\"text-align:center;width:303px;\"> <pre><code>RIGHT(str,x)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符串str中最右边的x个字符</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">16</td><td style=\"text-align:center;width:303px;\"> <pre><code>RTRIM(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回字符串str尾部的空格</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">17</td><td style=\"text-align:center;width:303px;\"> <pre><code>STRCMP(s1,s2)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--比较字符串s1和s2</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">18</td><td style=\"text-align:center;width:303px;\"> <pre><code>TRIM(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--去除字符串首部和尾部的所有空格</code></pre> </td></tr><tr><td style=\"text-align:center;width:87px;\">19</td><td style=\"text-align:center;width:303px;\"> <pre><code>UCASE(str)或UPPER(str)</code></pre> </td><td style=\"text-align:center;width:309px;\"> <pre><code>--返回将字符串str中所有字符转变为大写后的结果</code></pre> </td></tr></tbody></table>\n<h3>（2）刷题</h3>\n<p>题目：</p>\n<p><img alt=\"\" height=\"597\" src=\"image\\f35909572f144ca393220a8732dc2e0c.png\" width=\"940\"/></p>\n<p> 代码：</p>\n<pre><code>SELECT device_id,gender,\ncase\nwhen age&gt;=25 then '25岁及以上'\nwhen age between 20 and 24 then '20-24岁'\nwhen age&lt;24 then '20岁以下'\nelse '其他'\nend\nAS age_cut\nFROM user_profile</code></pre>\n<p>运行结果：</p>\n<p><img alt=\"\" height=\"758\" src=\"image\\976bf168a294423c8976566d4a18258d.png\" width=\"981\"/></p>\n<h2 id=\"3.%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0\">3.时间函数</h2>\n<h3>（1）函数</h3>\n<table align=\"center\" border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:700px;\"><caption>\n<span style=\"color:#fe2c24;\"><strong>时间函数</strong></span>\n</caption><tbody><tr><td style=\"text-align:center;width:109px;\">序号</td><td style=\"text-align:center;width:311px;\">函数</td><td style=\"text-align:center;width:279px;\">含义</td></tr><tr><td style=\"text-align:center;width:109px;\">1</td><td style=\"text-align:center;width:311px;\"> <pre><code>CURDATE()或CURRENT_DATE()</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回当前的日期</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">2</td><td style=\"text-align:center;width:311px;\"> <pre><code>CURTIME()或CURRENT_TIME()</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回当前的时间</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">3</td><td style=\"text-align:center;width:311px;\"> <pre><code>DATE_ADD(date,INTERVAL int keyword)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回日期date加上间隔时间int的结果(int必须按照关键字进行格式化)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">4</td><td style=\"text-align:center;width:311px;\"> <pre><code>DATE_FORMAT(date,fmt)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--依照指定的fmt格式格式化日期date值</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">5</td><td style=\"text-align:center;width:311px;\"> <pre><code>DATE_SUB(date,INTERVAL int keyword)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回日期date加上间隔时间int的结果(int必须按照关键字进行格式化)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">6</td><td style=\"text-align:center;width:311px;\"> <pre><code>DAYOFWEEK(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date所代表的一星期中的第几天(1~7)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">7</td><td style=\"text-align:center;width:311px;\"> <pre><code>DAYOFMONTH(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date是一个月的第几天(1~31）</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">8</td><td style=\"text-align:center;width:311px;\"> <pre><code>DAYOFYEAR(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date是一年的第几天(1~366)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">9</td><td style=\"text-align:center;width:311px;\"> <pre><code>DAYNAME(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date的星期名，如：SELECT DAYNAME(CURRENT_DATE);</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">10</td><td style=\"text-align:center;width:311px;\"> <pre><code>FROM_UNIXTIME(ts,fmt)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--根据指定的fmt格式，格式化UNIX时间戳ts</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">11</td><td style=\"text-align:center;width:311px;\"> <pre><code>HOUR(time) </code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回time的小时值(0~23)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">12</td><td style=\"text-align:center;width:311px;\"> <pre><code>MINUTE(time)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回time的分钟值(0~59)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">13</td><td style=\"text-align:center;width:311px;\"> <pre><code>MONTH(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date的月份值(1~12)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">14</td><td style=\"text-align:center;width:311px;\"> <pre><code>MONTHNAME(date) </code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date的月份名，如：SELECT MONTHNAME(CURRENT_DATE);</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">15</td><td style=\"text-align:center;width:311px;\"> <pre><code>NOW()</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回当前的日期和时间</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">16</td><td style=\"text-align:center;width:311px;\"> <pre><code>QUARTER(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回date在一年中的季度(1~4)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">17</td><td style=\"text-align:center;width:311px;\"> <pre><code>WEEK(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回日期date为一年中第几周(0~53)</code></pre> </td></tr><tr><td style=\"text-align:center;width:109px;\">18</td><td style=\"text-align:center;width:311px;\"> <pre><code>YEAR(date)</code></pre> </td><td style=\"text-align:center;width:279px;\"> <pre><code>--返回日期date的年份(1000~9999)</code></pre> </td></tr></tbody></table>\n<h3>（2）刷题</h3>\n<p>题目1：</p>\n<p><img alt=\"\" height=\"553\" src=\"image\\95ea612436fd4b1aa3ded15a3186a9e0.png\" width=\"850\"/></p>\n<p> 代码：</p>\n<pre><code>select\n    day(date) as day,\n    count(question_id) as question_cnt\nfrom question_practice_detail\nwhere date like '2021-08%'\ngroup by day(date);</code></pre>\n<p>运行截图：</p>\n<p><img alt=\"\" height=\"794\" src=\"image\\7cb50a5f21924ab2b6c11e94a9a4c82b.png\" width=\"997\"/></p>\n<p> </p>\n<p>题目2：</p>\n<p><img alt=\"\" height=\"561\" src=\"image\\d142376f203a4a8f9a6ef0f4a829b6b0.png\" width=\"862\"/></p>\n<p>代码：</p>\n<pre><code>select avg(if(b.device_id is not null,1,0)) as avg_ret\nfrom \n(select distinct device_id,date\nfrom question_practice_detail\n)a\nleft join \n(\nselect distinct device_id,date_sub(date,interval 1 day) as date \nfrom question_practice_detail\n)b\non a.device_id = b.device_id and a.date = b.date</code></pre>\n<p>运行结果：</p>\n<p><img alt=\"\" height=\"734\" src=\"image\\f4b308c5f620491fb6a50d17c0028a84.png\" width=\"993\"/></p>\n<p> </p>\n<h2 id=\"4.%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0\">4.系统函数</h2>\n<h3>（1）函数</h3>\n<table align=\"center\" border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:700px;\"><caption>\n<span style=\"color:#fe2c24;\"><strong>系统函数</strong></span>\n</caption><tbody><tr><td style=\"text-align:center;width:96px;\"><strong>序号</strong></td><td style=\"text-align:center;width:299px;\"><strong>函数</strong></td><td style=\"text-align:center;width:304px;\"><strong>含义</strong></td></tr><tr><td style=\"text-align:center;width:96px;\"><strong>1</strong></td><td style=\"text-align:center;width:299px;\"> <pre><code>DATABASE()</code></pre> </td><td style=\"text-align:center;width:304px;\"> <pre><code>--返回当前数据库名</code></pre> </td></tr><tr><td style=\"text-align:center;width:96px;\"><strong>2</strong></td><td style=\"text-align:center;width:299px;\"> <pre><code>BENCHMARK(count,expr)</code></pre> </td><td style=\"text-align:center;width:304px;\"> <pre><code>--将表达式expr重复运行count次</code></pre> </td></tr><tr><td style=\"text-align:center;width:96px;\"><strong>3</strong></td><td style=\"text-align:center;width:299px;\"> <pre><code>CONNECTION_ID()</code></pre> </td><td style=\"text-align:center;width:304px;\"> <pre><code>--返回当前客户的连接ID</code></pre> </td></tr><tr><td style=\"text-align:center;width:96px;\"><strong>4</strong></td><td style=\"text-align:center;width:299px;\"> <pre><code>FOUND_ROWS()</code></pre> </td><td style=\"text-align:center;width:304px;\"> <pre><code>--返回最后一个SELECT查询进行检索的总行数</code></pre> </td></tr><tr><td style=\"text-align:center;width:96px;\"><strong>5</strong></td><td style=\"text-align:center;width:299px;\"> <pre><code>USER()或SYSTEM_USER()</code></pre> </td><td style=\"text-align:center;width:304px;\"> <pre><code>--返回当前登陆用户名</code></pre> </td></tr><tr><td style=\"text-align:center;width:96px;\"><strong>6</strong></td><td style=\"text-align:center;width:299px;\"> <pre><code>VERSION()</code></pre> </td><td style=\"text-align:center;width:304px;\"> <pre><code>--返回MySQL服务器的版本</code></pre> </td></tr></tbody></table>\n<p>  </p>\n<p></p>\n<h2 id=\"5.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0\">5.聚合函数</h2>\n<h3>（1）函数</h3>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:700px;\"><caption>\n  聚合函数\n </caption><tbody><tr><td style=\"text-align:center;width:65px;\"><strong>序号</strong></td><td style=\"text-align:center;width:248px;\"><strong>函数</strong></td><td style=\"text-align:center;width:386px;\"><strong>含义</strong></td></tr><tr><td style=\"text-align:center;width:65px;\"><strong>1</strong></td><td style=\"text-align:center;width:248px;\"> <pre><code>AVG(X)</code></pre> </td><td style=\"text-align:center;width:386px;\"> <pre><code>--返回指定列的平均值</code></pre> </td></tr><tr><td style=\"text-align:center;width:65px;\"><strong>2</strong></td><td style=\"text-align:center;width:248px;\"> <pre><code>COUNT(X)</code></pre> </td><td style=\"text-align:center;width:386px;\"> <pre><code>--返回指定列中非NULL值的个数</code></pre> </td></tr><tr><td style=\"text-align:center;width:65px;\"><strong>3</strong></td><td style=\"text-align:center;width:248px;\"> <pre><code>MIN(X)</code></pre> </td><td style=\"text-align:center;width:386px;\"> <pre><code>--返回指定列的最小值</code></pre> </td></tr><tr><td style=\"text-align:center;width:65px;\"><strong>4</strong></td><td style=\"text-align:center;width:248px;\"> <pre><code>MAX(X)</code></pre> </td><td style=\"text-align:center;width:386px;\"> <pre><code>--返回指定列的最大值</code></pre> </td></tr><tr><td style=\"text-align:center;width:65px;\"><strong>5</strong></td><td style=\"text-align:center;width:248px;\"> <pre><code>SUM(X)</code></pre> </td><td style=\"text-align:center;width:386px;\"> <pre><code>--返回指定列的所有值之和</code></pre> </td></tr><tr><td style=\"text-align:center;width:65px;\"><strong>6</strong></td><td style=\"text-align:center;width:248px;\"> <pre><code>GROUP_CONCAT(X)</code></pre> </td><td style=\"text-align:center;width:386px;\"> <pre><code>--返回由属于一组的列值连接组合而成的结果，非常有用</code></pre> </td></tr></tbody></table>\n<h3>（2）刷题</h3>\n<p>题目：</p>\n<p><img alt=\"\" height=\"623\" src=\"image\\3d4f76a165e2442180e79cf4ddf9c962.png\" width=\"926\"/></p>\n<p> 代码：</p>\n<pre><code>select a.university,count(b.question_id)/count(distinct(b.device_id)) as avg_answer_cnt from user_profile as a\ninner join question_practice_detail as b on a.device_id =b.device_id \ngroup by a.university</code></pre>\n<p>运行结果：</p>\n<p><img alt=\"\" height=\"826\" src=\"image\\c65b694e7928421fbaed701448b2da5e.png\" width=\"1038\"/></p>\n<h2 id=\"6.%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0\">6.窗口函数</h2>\n<h3>（1）函数</h3>\n<table align=\"center\" border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:700px;\"><caption>\n<span style=\"color:#fe2c24;\"><strong>开窗函数</strong></span>\n</caption><tbody><tr><td style=\"text-align:center;width:72px;\"><strong>序号</strong></td><td style=\"text-align:center;width:280px;\"><strong>函数</strong></td><td style=\"text-align:center;width:347px;\"><strong>含义</strong></td></tr><tr><td style=\"text-align:center;width:72px;\"><strong>1</strong></td><td style=\"text-align:center;width:280px;\"> <pre><code>ROW_NUMBER() OVER()</code></pre> </td><td style=\"text-align:center;width:347px;\"> <pre><code>--排序：1,2,3,4</code></pre> </td></tr><tr><td style=\"text-align:center;width:72px;\"><strong>2</strong></td><td style=\"text-align:center;width:280px;\"> <pre><code>RANK() OVER()</code></pre> </td><td style=\"text-align:center;width:347px;\"> <pre><code>--排序：1,1,3,3,5</code></pre> </td></tr><tr><td style=\"text-align:center;width:72px;\"><strong>3</strong></td><td style=\"text-align:center;width:280px;\"> <pre><code>DENSE_RANK() OVER()</code></pre> </td><td style=\"text-align:center;width:347px;\"> <pre><code>--排序：1,1,2,2,3,4</code></pre> </td></tr><tr><td style=\"text-align:center;width:72px;\"><strong>4</strong></td><td style=\"text-align:center;width:280px;\"> <pre><code>NTILE() OVER()</code></pre> </td><td style=\"text-align:center;width:347px;\"> <pre><code>--将有序数据分为N组，记录等级数</code></pre> </td></tr><tr><td style=\"text-align:center;width:72px;\"><strong>5</strong></td><td style=\"text-align:center;width:280px;\"> <pre><code>LAG(expr,n) OVER()</code></pre> </td><td style=\"text-align:center;width:347px;\"> <pre><code>--返回当前行的前N行的expr的值</code></pre> </td></tr><tr><td style=\"text-align:center;width:72px;\"><strong>6</strong></td><td style=\"text-align:center;width:280px;\"> <pre><code>LEAD(expr,n) OVER()</code></pre> </td><td style=\"text-align:center;width:347px;\"> <pre><code>--返回当前行 后N行的expr的值</code></pre> </td></tr></tbody></table>\n<h3>（2）刷题</h3>\n<p>题目：</p>\n<p><img alt=\"\" height=\"529\" src=\"image\\986691b455ba4dedb036f6a9cccbd91a.png\" width=\"937\"/></p>\n<p>代码：</p>\n<pre><code>Select device_id,\nuniversity,\ngpa\nFrom (\nSelect device_id,\nuniversity,\ngpa,\nrow_number() over(partition by university order by gpa) as rk\nFrom user_profile\n)a\nwhere rk = 1</code></pre>\n<p>运行截图：</p>\n<p><img alt=\"\" height=\"794\" src=\"image\\01e0c8e539354b909527bb188be89c96.png\" width=\"993\"/></p>\n<p></p>\n<h1 id=\"%E4%B8%89%E3%80%81%E5%B0%8F%E7%BB%93\">三、小结</h1>\n<p style=\"text-align:center;\"><span style=\"color:#fe2c24;\"><strong>学习刷题第三天，一起来学习进步吧</strong></span></p>\n<p style=\"text-align:center;\"><strong><span style=\"color:#fe2c24;\">点击右边链接<a class=\"link-info\" href=\"https://www.nowcoder.com/link/pc_csdncpt_tltqe_sql\" title=\"牛客-刷题\">牛客-刷题</a></span></strong></p>\n<p></p>\n</div>\n</div>"}