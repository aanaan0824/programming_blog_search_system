{"blogid": "126743629", "writerAge": "码龄1年", "writerBlogNum": "158", "writerCollect": "16", "writerComment": "3", "writerFan": "7", "writerGrade": "5级", "writerIntegral": "1657", "writerName": "河北稳控科技", "writerProfileAdress": "writer_image\\profile_126743629.jpg", "writerRankTotal": "14402", "writerRankWeekly": "8008", "writerThumb": "15", "writerVisitNum": "40161", "blog_read_count": "12", "blog_time": "于 2022-09-07 13:17:07 发布", "blog_title": "使用标准信号检测 VM振弦采集模块测量精度修正", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>使用标准信号检测 VM振弦采集模块测量精度修正</p>\n<p>（1）电源<br/> 1.1VDD 引脚电源<br/> 必须使用 LDO 稳压或者低纹波线性电源， LDO 推荐使用 AM1117_3.3V 芯片，测试时发现 SPX 生产的 LDO会造成非常严重的干扰（其它品牌应该也会有类似的问题）。<br/> 1.2VSEN 引脚电源<br/> 单通道模块时， VSEN 可以不连接（因为不需要激励传感器），避免连接电源产生不必要的干扰。多通道模块时， VSEN 必须连接（因为通道切换需要这个电源），和 VDD 一样，必须使用低纹波的 LDO 或者线性电源。<br/> （2） 接地<br/> VM 模块的 GND 必须严格的接地，必须核实所接的地线的有效性（有些场所的地线端子要么是摆设，要么接地电阻过大而没有作用）。接地不严格，造成的干扰可能会是致命的，无法测量频率。<br/> （3） 接触<br/> 一定不要为了方便使用弹簧针、插拔连接的形式连接电源、通讯线、信号线，这种连接有接触不良隐患、也会产生一些随机的接触电阻（当测量 NTC 电阻时，这种随机电阻影响非常严重）。<br/> （4） 测试设备<br/> 4.1 频率标准信号<br/> 一般是信号发生器， 信号发生器要严格接地。检测机构或者各种行业规范中，通常是要求使用 5mV~10mV 的正弦信号连接到送检的设备（VM 模块），如果地线连接不可靠，交流电中的噪声会耦合到信号线，这种噪声的幅值远大于正弦信号幅值，会造成检测失败。<br/> 4.2 温度标准信号<br/> 一般是使用已知的电阻连接到 VM 模块，用已知电阻对应的理论温度和模块测量到的温度值进行比较，两个温度的差就是“VM 模块的温度测量误差” 。<br/> （5） 真值<br/> 真值是检测任何设备测量精度的基础条件，真值不能用信号发生器号称的误差来衡量、不能用电阻标称的阻值来衡量。获取真值最可靠的办法是使用比要检测精度更高一个数量级的仪表去测量。例如：电阻的值必须要用 6 位半或者更高精度的仪表测量后才能确定真实的电阻到底是多少。信号发生器也必须用一个更高精度的频率测量设备检测后才可以使用。如果“真值” 是不可靠的，那么对任何设备的精度检测工作，都会是徒劳的。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\0f92246bfc924e5a90ac6fa23d642f27.jpeg\"/></p>\n<p> </p>\n<p><br/> 频率精度检测</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\9ec00621c0704cbab7b98c2220cbc5a2.jpeg\"/></p>\n<p> </p>\n<p></p>\n<p>在 VMTool 工具内，进行以下参数设置（基于默认参数）激励方法：低压扫频法-步进法。勾选“强制激励”复选框。期望采样： 200，补采样 10 次。</p>\n<p>如果条件允许时，就尽量减少数字接口的频繁通讯，最好设置模块的“自动上传” 寄存器的 bit11 为 1，即：自动上传高分辨率频率值，上位机仅仅作为一个接收机（不向 VM 模块发送任何指令）。下面是使用 VM501 的实测数据（自动上传高精度频率值），单位为 Hz。（环境温度 25℃左右）</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\d25e9246d09d49e3b82c6549d5d18c5b.jpeg\"/></p>\n<p> </p>\n<p></p>\n<p>温度（NTC） 精度检测</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\e03c55f2cb194631bd102cce9645fbe0.jpeg\"/></p>\n<p> </p>\n<p></p>\n<p>单通道 VM 模块的温度检测 ，下面是使用 VM501 的实测数据（环境温度 25℃左右）， 电阻真值： 6 位半测量得到的电阻值。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\7942b46424324db2991577f6224e6180.jpeg\"/></p>\n<p> </p>\n<p></p>\n<p>多通道 VM 模块的温度检测</p>\n<p>多通道 VM 模块使用了通道切换电路，在测量线路上会存在一定的等效电阻。因为生产和材料的差异性， VM模块在出厂时未对每个模块做精确的通道切换电阻修正，所有模块均采用了一个固定的经验电阻值来修正外接的 NTC 电阻值，故此多通道模块在测量温度时会存在一定的电阻测量差异（电阻加常数），导致最终的温度测量值比单通道的 VM501 模块误差稍大（尤其是小电阻值时）。</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\e321a4e3cf354c5da1590999a72e4572.jpeg\"/></p>\n<p> </p>\n<p>本表中的测量值未经过任何修正，是真实的测量值。 VM604 为随机选取，未经筛选。</p>\n<p>多通道切换电阻的修正</p>\n<p>使用$STLR 指令可以修改切换通道电路的电阻值，向上表中的 VM604 模块发送指令$STLR=90 电阻修正后的测试数据如下表</p>\n<p>如果知道通道切换电阻应修正为多少？</p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"image\\81f9929027194c0d95d9953e5205e4dd.jpeg\"/></p>\n<p> </p>\n<p></p>\n<p>先用指令修改为 120，观察测量值，如果希望测量值能够更高一些，则用指令修改为比 120 大的值，反之就需要修改为比 120 小的值，直到测量值与理论温度在全范围内相符（应重点观察小电阻时的匹配度）。</p>\n<p>小结论：</p>\n<p>①VM 模块测量电阻的精度是完全没有问题的，这一点可以通过 VM501 的温度测量结果数据表中得到证明。同时，经过通道切换电阻修正后的 VM604 的测量数据也可以证明。</p>\n<p>②多通道振弦模块中，各个通道的一致性非常好，同一个电阻分别连接到不同的通道上，可以得到几乎相同的测量值。</p>\n<p>频率与温度的多项式修正<br/> VM 振弦采集模块自 SF3.51 版本开始，新增加了频率和温度的多项式修正功能。测量、计算完成后的频率值和温度值，经过一个 2 次多项式进行修正，最终更新到频率和温度寄存器。<br/> （下式中，加常数 A 的单位为 Hz 和℃）<br/> 𝑌 = 𝐴 + 𝐵𝑥 + 𝐶𝑥2 即： 寄存器值 = 𝐴 + 𝐵 × 测量值 + C × 测量值2多项式中的常数项 A、 B、 C 默认为 0.0、 1.0、 0.0，可以使用字符串指令来读取和修改。<br/> 读取频率修正参数： $GTFP\\r\\n，模块返回： FrePars=0.000000,1.000000,0.000000\\r\\n<br/> 修改频率修正参数： $STFP=A,B,C\\r\\n<br/> 例如： $STFP=0.0,1.0,0.0\\r\\n<br/> 模块返回： OK\\r\\n<br/> 读取温度修正参数： $GTTP\\r\\n，模块返回： TmpPars=0.000000,1.000000,0.000000\\r\\n<br/> 修改温度修正参数： $STTP=A,B,C\\r\\n<br/> 例如： $STTP=0.0,1.0,0.0\\r\\n<br/> 模块返回： OK\\r\\n</p>\n<p>注意： VM 振弦采集模块不进行频率、温度修正时，即可以保证频率 0.1Hz、温度 0.5℃的绝对精度，多项式修正仅用于微小的调整使用。当出现测量值与预期值相差较大的情况时，应排查造成误差的原因，不应该直接用参数进行修正。</p>\n<p>注意：温度修正仅适用于 NTC 热敏电阻类型的温度传感器。一般来说，经过多项式修正以后，在全范围内，测量值与理论值就几乎完全一致。<br/>  </p>\n</div>\n</div>"}