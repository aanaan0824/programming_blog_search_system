{"blogid": "126724645", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "103", "writerCollect": "2421", "writerComment": "4073", "writerFan": "11761", "writerGrade": "7çº§", "writerIntegral": "9336", "writerName": "ä¹”ä¹”å®¶çš„é¾™é¾™", "writerProfileAdress": "writer_image\\profile_126724645.jpg", "writerRankTotal": "1535", "writerRankWeekly": "600", "writerThumb": "3120", "writerVisitNum": "143125", "blog_read_count": "130", "blog_time": "å·²äºÂ 2022-09-06 21:31:54Â ä¿®æ”¹", "blog_title": "æ‰‹æ’•çº¢é»‘æ ‘â€”â€”C++é«˜é˜¶æ•°æ®ç»“æ„è¯¦è§£", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>ç›®å½•</h3>\n<ul><li><ul><li><a href=\"#_2\">ä¼ ç»Ÿè‰ºèƒ½ğŸ˜</a></li><li><a href=\"#_19\">æ¦‚å¿µğŸ¤”</a></li><li><a href=\"#_27\">äº”å¤§ç‰¹æ€§ğŸ¤”</a></li><li><a href=\"#_44\">èŠ‚ç‚¹å®šä¹‰ğŸ¤”</a></li><li><a href=\"#_85\">çº¢é»‘æ ‘æ’å…¥ğŸ¤”</a></li><li><a href=\"#_95\">æ’å…¥è°ƒæ•´ğŸ¤”</a></li><li><ul><li><a href=\"#_115\">æƒ…å†µä¸€ğŸ˜</a></li><li><a href=\"#_170\">æƒ…å†µäºŒğŸ˜</a></li><li><ul><li><a href=\"#_171\">å…·ä½“æƒ…å†µä¸€ğŸ‰</a></li><li><a href=\"#_190\">å…·ä½“æƒ…å†µäºŒğŸ‰</a></li><li><a href=\"#_202\">å…·ä½“æƒ…å†µä¸‰ğŸ˜</a></li></ul>\n</li></ul>\n</li><li><a href=\"#_435\">éªŒè¯çº¢é»‘æ ‘ğŸ¤”</a></li><li><a href=\"#_508\">çº¢é»‘æ ‘æŸ¥æ‰¾ğŸ¤”</a></li><li><a href=\"#_540\">çº¢é»‘æ ‘çš„åˆ é™¤ğŸ¤”</a></li><li><a href=\"#_547\">è°æ˜¯ä¸€ä»£å®—å¸ˆğŸ¤”</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"_2\"></a>ä¼ ç»Ÿè‰ºèƒ½ğŸ˜</h2>\n<p>å°ç¼–æ˜¯åŒéæœ¬ç§‘å¤§ä¸€èœé¸Ÿä¸èµ˜è¿°ï¼Œæ¬¢è¿å„ä½æŒ‡ç‚¹æ±Ÿå±±ï¼ˆæœŸå¾…~ï¼‰ï¼ˆQQï¼š1319365055ï¼‰<br/> æ­¤å‰åšå®¢<a href=\"https://blog.51cto.com/\">ç‚¹æˆ‘ï¼ç‚¹æˆ‘ï¼è¯·æœç´¢åšä¸» ã€çŸ¥æ™“å¤©ç©ºä¹‹è“ã€‘</a></p>\n<p><mark>ğŸ‰ğŸ‰éç§‘ç­è½¬ç ç¤¾åŒºè¯šé‚€æ‚¨å…¥é©»ğŸ‰ğŸ‰</mark><br/> å°ä¼™ä¼´ä»¬ï¼Œæ‰“ç è·¯ä¸Šä¸€è·¯å‘åŒ—ï¼Œå½¼å²¸ä¹‹å‰çš†æ˜¯ç–¾è‹¦<br/> <mark>ä¸€ä¸ªäººçš„å•æ‰“ç‹¬æ–—ä¸å¦‚ä¸€ç¾¤äººçš„ç ¥ç ºå‰è¡Œ</mark><br/> è¿™æ˜¯å’Œæ¢¦æƒ³åˆä¼™äººç»„å»ºçš„ç¤¾åŒºï¼Œè¯šé‚€å„ä½æœ‰å¿—ä¹‹å£«çš„åŠ å…¥ï¼ï¼<br/> ç¤¾åŒºç”¨æˆ·å¥½æ–‡å‡åŠ ç²¾ï¼ˆâ€œæ ‡å…µâ€æ–‡ç« å­—æ•°2000+åŠ ç²¾ï¼Œâ€œè¾¾äººâ€æ–‡ç« å­—æ•°1500+åŠ ç²¾ï¼‰<br/> ç›´è¾¾ï¼š <a href=\"https://bbs.csdn.net/forums/FKBZM?typeId=22226\">ç¤¾åŒºé“¾æ¥ç‚¹æˆ‘</a></p>\n<hr/>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\e1b6ada010ba4579baf2c48a760eb607.jpeg\"/></p>\n<hr/>\n<blockquote>\n<p>çº¢é»‘æ ‘æ˜¯å¯¹æ ‘ç»“æ„çš„ä¸€ç§é«˜åº¦ç»¼åˆè¿ç”¨ï¼Œæ¶‰åŠåˆ°å¤šå‰æ ‘ï¼Œæ ‘å¹³è¡¡è°ƒæ•´ï¼ŒèŠ‚ç‚¹æ—‹è½¬ç­‰ç­‰ï¼Œè¿™äº›æ˜¯å¯¹æ•°æ®ç»“æ„åŸºæœ¬åŠŸçš„æœ€ä½³å†ç»ƒï¼Œä¹Ÿæ˜¯é¢è¯•åœºä¸Šä»¤äººé—»é£ä¸§èƒ†çš„å†·é¢ä¸€åˆ€ã€‚èƒ½å¦ç»™å‡ºå®Œæ•´çš„å®šä¹‰ï¼Œèƒ½å¦ä»‹ç»è‡ªå·±å¯¹çº¢é»‘æ ‘çš„è®¤è¯†ï¼Œèƒ½å¦é€šè¿‡æ—‹è½¬ï¼ŒæŸ“è‰²ç­‰æ“ä½œåœ¨ç»™å®šçš„åœºæ™¯ä¸‹å¯¹ä¸€é¢—çº¢é»‘æ ‘è¿›è¡Œè°ƒæ•´ä½¿å…¶ç¬¦åˆå®šä¹‰â€¦è¿™äº›æ‰æ˜¯æˆ‘ä»¬åº”è¯¥åœ¨å­¦ä¹ åå¾—åˆ°çš„ä¿¡æ¯</p>\n</blockquote>\n<h2><a id=\"_19\"></a>æ¦‚å¿µğŸ¤”</h2>\n<p><font color=\"blue4\" size=\"4\">çº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€ç§äºŒå‰æœç´¢æ ‘ï¼Œä½†æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨äº†ä¸€ä¸ªé¢œè‰²ï¼Œè¯¥é¢œè‰²å¯ä»¥ä¸ºé»‘å¯ä»¥ä¸ºçº¢ï¼Œå› æ­¤ä¹Ÿå«çº¢é»‘æ ‘ã€‚</font></p>\n<p>çº¢é»‘æ ‘å’Œ AVL æ ‘çš„åŒºåˆ«å°±æ˜¯çº¢é»‘æ ‘å±äºè¿‘ä¼¼å¹³è¡¡ï¼Œä»–å¹¶ä¸æ˜¯å®Œå…¨å¹³è¡¡ï¼Œçº¢é»‘æ ‘ä¸ä¼šåƒ AVL æ ‘ä¸€æ ·åšåˆ°ä¸¥å¯†çš„å¹³è¡¡ï¼ˆé«˜åº¦å·®æ§åˆ¶åœ¨ 1 ï¼‰ï¼Œä»–æ˜¯ä¾é æ¯æ¡è·¯å¾„ä¸Šçº¢é»‘èŠ‚ç‚¹çš„æ’å¸ƒä¸é™åˆ¶ï¼Œç¡®ä¿æœ€é•¿è·¯å¾„é•¿åº¦ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„é•¿åº¦çš„ 2 å€.</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\30685852fe7049baba751026570f6836.png\"/></p>\n<h2><a id=\"_27\"></a>äº”å¤§ç‰¹æ€§ğŸ¤”</h2>\n<p>çº¢é»‘æ ‘æœ‰ç€æ ‡å¿—æ€§çš„<mark>äº”å¤§ç‰¹æ€§</mark>ï¼š</p>\n<ol><li>æ ¹èŠ‚ç‚¹ä¸€å®šä¸ºé»‘è‰²</li><li>ä¸€ä¸ªèŠ‚ç‚¹åªèƒ½æ˜¯çº¢æˆ–é»‘</li><li>èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œåˆ™è¯¥èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½ä¸ºé»‘è‰²</li><li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶å­ç»“ç‚¹çš„ç®€å•è·¯å¾„ä¸Šï¼Œé»‘è‰²èŠ‚ç‚¹ä¸ªæ•°ç›¸ç­‰</li><li>æ¯ä¸ªå¶å­ç»“ç‚¹ï¼ˆå³ç©ºèŠ‚ç‚¹ï¼‰éƒ½æ˜¯é»‘è‰²</li></ol>\n<p><font color=\"blue4\" size=\"3\">é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»…ä»…ä¾é è¿™äº”å¤§ç‰¹æ€§æ˜¯å¦‚ä½•ç¡®ä¿æœ€é•¿è·¯å¾„é•¿åº¦ &lt; æœ€çŸ­è·¯å¾„é•¿åº¦çš„ 2 å€ï¼Ÿ</font></p>\n<p>æ ¹æ®ç¬¬ 3,4 ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸å¦¨æ€è€ƒä¸€ä¸‹æç«¯åœºæ™¯ï¼Œæœ€çŸ­å¯èƒ½è·¯å¾„å…¶å®å°±æ˜¯å…¨é»‘çš„æƒ…å†µï¼Œå‡è®¾æ­¤æ—¶æœ‰ n ä¸ªèŠ‚ç‚¹ï¼Œé•¿åº¦å°±ä¸º nï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\914f5f4db72448bca96c40df571b75e0.png\"/></p>\n<p>è€Œæœ€é•¿å¯èƒ½è·¯å¾„å°±æ˜¯åœ¨çº¢è‰²èŠ‚ç‚¹å­˜åœ¨çš„æ¡ä»¶ä¸‹ï¼Œä»¥ä¸€çº¢ä¸€é»‘çš„æ–¹å¼è¿›è¡Œæ’åˆ—ï¼Œæ­¤æ—¶å‡è®¾ä¾ç„¶æœ‰ n ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Œé‚£ä¹ˆçº¢è‰²èŠ‚ç‚¹æ•°ç›®ä¸é»‘è‰²ç›¸åŒï¼Œåˆ™é•¿åº¦ä¸º 2nï¼Œä»¥æ­¤è¯æ˜ã€‚</p>\n<h2><a id=\"_44\"></a>èŠ‚ç‚¹å®šä¹‰ğŸ¤”</h2>\n<p>è¿™é‡Œå’Œ AVL æ ‘ä¸€æ ·æˆ‘ä»¬ç›´æ¥å®ç° KV æ¨¡å‹ï¼Œä¸ºäº†æ–¹ä¾¿ååºçš„æ—‹è½¬æ“ä½œï¼Œå°†çº¢é»‘æ ‘çš„ç»“ç‚¹å®šä¹‰ä¸ºä¸‰å‰é“¾ç»“æ„ï¼Œå°† AVL æ ‘ä¸­çš„å¹³è¡¡å› å­æ¢æˆäº†æ–°æˆå‘˜â€”â€”ç»“ç‚¹çš„é¢œè‰²ã€‚</p>\n<p>å› ä¸ºèŠ‚ç‚¹é¢œè‰²æ˜¯è´¯ç©¿çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®šä¹‰æˆå…¨å±€å˜é‡ï¼Œå¹¶ç”¨æšä¸¾å˜é‡æ¥ç»™é¢œè‰²èµ‹äºˆé€»è¾‘ï¼š</p>\n<pre><code class=\"prism language-c\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">Color</span> \n<span class=\"token punctuation\">{<!-- --></span>\n   Red<span class=\"token punctuation\">,</span> <span class=\"token comment\">//0</span>\n   Black  <span class=\"token comment\">//1</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>æ¥ä¸‹æ¥å°±å¯ä»¥å®šä¹‰èŠ‚ç‚¹äº†ï¼š</p>\n<pre><code class=\"prism language-c\">template<span class=\"token operator\">&lt;</span>class Kï¼Œclass V<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">RBTreeNode</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token function\">RBTreeNode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> pair<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span><span class=\"token operator\">&amp;</span> kv<span class=\"token punctuation\">,</span> Color color <span class=\"token operator\">=</span> Red<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token operator\">:</span><span class=\"token function\">_left</span><span class=\"token punctuation\">(</span>nullptr<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token function\">_right</span><span class=\"token punctuation\">(</span>nullptr<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token function\">_parent</span><span class=\"token punctuation\">(</span>nullptr<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token function\">_kv</span><span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token function\">_color</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span>\n\n\tRBTreeNode<span class=\"token operator\">&lt;</span>Kï¼ŒV<span class=\"token operator\">&gt;</span><span class=\"token operator\">*</span> _left<span class=\"token punctuation\">;</span>\n\tRBTreeNode<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span>V<span class=\"token operator\">&gt;</span><span class=\"token operator\">*</span> _right<span class=\"token punctuation\">;</span>\n\tRBTreeNode<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span>V<span class=\"token operator\">&gt;</span><span class=\"token operator\">*</span> _parent<span class=\"token punctuation\">;</span><span class=\"token comment\">//ä¸‰å‰é“¾ç»“æ„</span>\n\tpair<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span>V<span class=\"token operator\">&gt;</span> _kv<span class=\"token punctuation\">;</span><span class=\"token comment\">//å­˜å‚¨é”®å€¼å¯¹</span>\n\tColor _color<span class=\"token punctuation\">;</span><span class=\"token comment\">//èŠ‚ç‚¹é¢œè‰²</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>æ³¨æ„è¿™é‡Œæœ‰ä¸ªç»†èŠ‚ï¼š<strong>ä¸ºä»€ä¹ˆæ„é€ ç»“ç‚¹æ—¶ï¼Œé»˜è®¤å°†ç»“ç‚¹çš„é¢œè‰²è®¾ç½®ä¸ºçº¢è‰²ï¼Ÿ</strong></p>\n<p>å› ä¸ºæˆ‘ä»¬è¦è€ƒè™‘æ’å…¥åœºæ™¯ï¼Œä¸è®ºæ­¤æ—¶æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²è¿˜æ˜¯çº¢è‰²ï¼Œæˆ‘ä»¬æ’å…¥é»‘è‰²èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä»–ä¸€å®šä¼šç ´åæ€§è´¨ 4 ï¼ŒæŸæ¡è·¯å¾„ä¸Šçš„é»‘è‰²èŠ‚ç‚¹ä¸€å®šä¼šå¢åŠ ä¸€ä¸ªï¼Œé‚£ä¹ˆä¸ºäº†ç»´æŠ¤ç»“æ„ï¼Œæˆ‘ä»¬å²‚ä¸æ˜¯è¦ç»™å…¶ä»–æ‰€æœ‰è·¯å¾„éƒ½åŠ ä¸Šä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹ï¼Ÿä½†å¦‚æœæ­¤æ—¶æ’å…¥çš„æ˜¯çº¢è‰²èŠ‚ç‚¹ï¼Œå¦‚æœæ ¹èŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œé‚£ä¹ˆåˆä¼šç ´åæ€§è´¨ 3 å‡ºç°äº†è¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ï¼Œä½†æ˜¯å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²ï¼Œå°±ä¸éœ€è¦è¿›è¡Œè°ƒæ•´ã€‚</p>\n<p>è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä¼¤å®³æœ€å°åŒ–ç†è®ºï¼š<mark>æ’å…¥é»‘èŠ‚ç‚¹ï¼Œä¸€å®šä¼šç ´åæ€§è´¨ 4ï¼Œå¿…é¡»è¿›è¡Œè°ƒæ•´ï¼›æ’å…¥çº¢èŠ‚ç‚¹ï¼Œå¯èƒ½ç ´åæ€§è´¨ 3ï¼Œå¯èƒ½è¿›è¡Œè°ƒæ•´</mark>ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©å°†æ’å…¥èŠ‚ç‚¹å®šä¸ºçº¢è‰²ã€‚</p>\n<h2><a id=\"_85\"></a>çº¢é»‘æ ‘æ’å…¥ğŸ¤”</h2>\n<p>æ’å…¥é€»è¾‘ä¾ç„¶å’ŒäºŒå‰æœç´¢æ ‘å·®ä¸å¤šï¼Œä¸‰æ­¥èµ°ï¼š</p>\n<ol><li>æŒ‰äºŒå‰æœç´¢æ ‘çš„æ’å…¥æ–¹æ³•ï¼Œæ‰¾åˆ°å¾…æ’å…¥ä½ç½®ã€‚</li><li>å°†å¾…æ’å…¥ç»“ç‚¹æ’å…¥åˆ°æ ‘ä¸­ã€‚</li><li>è‹¥æ’å…¥ç»“ç‚¹çš„çˆ¶ç»“ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™éœ€è¦å¯¹çº¢é»‘æ ‘è¿›è¡Œè°ƒæ•´ã€‚</li></ol>\n<p>æ’å…¥çš„å…³é”®å°±åœ¨äºè¿™é‡Œçš„ç¬¬ä¸‰æ­¥ï¼Œè¿™è°ƒæ•´é‡Œé¢æœ‰å¤§å­¦é—®ã€‚</p>\n<h2><a id=\"_95\"></a>æ’å…¥è°ƒæ•´ğŸ¤”</h2>\n<p>æˆ‘ä»¬ç»™å‡ºä¸€ä¸ªåŸºæœ¬æ¨¡å‹ï¼ˆå¯ä»¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ ‘ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­æ ‘ï¼‰ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\f14a602eb99f4d9684e9932b5ddddfe9.png\"/></p>\n<p>å¹¶çº¦å®šï¼š</p>\n<blockquote>\n<p>cur ï¼šå½“å‰èŠ‚ç‚¹<br/> pï¼šparentï¼Œçˆ¶èŠ‚ç‚¹<br/> gï¼šgrandfatherï¼Œç¥–çˆ¶èŠ‚ç‚¹<br/> uï¼šuncleï¼Œå”å”èŠ‚ç‚¹<br/> aï¼Œbï¼Œcï¼Œdï¼Œeï¼šå­æ ‘</p>\n</blockquote>\n<p>é¡ºä¾¿æä¸€ä¸‹ï¼Œæ ‘çš„è·¯å¾„ä¸æ˜¯ä¸€è·¯èµ°åˆ°å¶å­ç»“ç‚¹ç®—ä¸€æ¡ï¼Œè¦èµ°åˆ°ç©ºèŠ‚ç‚¹ï¼ˆNIL èŠ‚ç‚¹ï¼‰ç®—ä¸€æ¡ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\5317b9fca95c4a74b19888bd5ca70a66.png\"/></p>\n<p>æ¯”å¦‚ä¸Šå›¾ä¸­è¯¥çº¢é»‘æ ‘çš„æœ‰æ•ˆè·¯å¾„ä¸æ˜¯ 4 æ¡è€Œæ˜¯ 9 æ¡ã€‚</p>\n<h3><a id=\"_115\"></a>æƒ…å†µä¸€ğŸ˜</h3>\n<p><font color=\"orange\" size=\"4\">cur ä¸ºçº¢ï¼Œp ä¸ºçº¢ï¼Œg ä¸ºé»‘ï¼Œ u å­˜åœ¨ä¸”ä¸ºçº¢</font></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\fad1bcac39f844478b32c8a525859005.png\"/></p>\n<p>é¦–å…ˆä½ éœ€è¦çŸ¥é“ï¼Œ<mark>çº¢é»‘æ ‘çš„è°ƒæ•´å…³é”®çœ‹å”å”</mark>ï¼Œå› ä¸ºèŠ‚ç‚¹çš„é¢œè‰²æ˜¯å›ºå®šçš„ï¼Œç¥–çˆ¶å­˜åœ¨ä¸”ä¸€å®šä¸ºé»‘ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºçˆ¶èŠ‚ç‚¹ä¸ºçº¢è‰²é‚£ä¹ˆä»–ä¸€å®šä¸ä¼šæ˜¯æ ¹ï¼Œä»–ä¸€å®šæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸”ä¸ºé»‘ï¼Œåªæœ‰ u èŠ‚ç‚¹ä¸çŸ¥é“å˜›æƒ…å†µã€‚</p>\n<p>æˆ‘ä»¬è°ƒæ•´å¹¶ä¸æ˜¯åƒ AVL ä¸€æ ·æ—‹è½¬ï¼Œè¿™é‡Œæ˜¯è¿›è¡Œå˜è‰²ï¼Œé¦–å…ˆå°†å”å”å˜é»‘ï¼Œæ­¤æ—¶å°±æ²¡æœ‰è¿ç»­çš„çº¢èŠ‚ç‚¹äº†ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒé»‘èŠ‚ç‚¹æ•°ç›®ä¸å˜çˆ¶äº²ä¹Ÿè¦å˜é»‘ï¼Œä¸‡äº‹å¤§å‰äº†å—ï¼Ÿæ²¡æœ‰ï¼Œç´§æ¥è¿˜è¦å°†ç¥–çˆ¶å˜çº¢ï¼Œä¸ºä»€ä¹ˆå‘€ï¼ï¼Ÿä¸è¦å¿˜äº†ï¼Œè¿™é‡Œå¯èƒ½åªæ˜¯ä¸€ä¸ªå­æ ‘ï¼Œå”å”çˆ¶äº²å˜é»‘äº†é‚£ä¹ˆè·¯å¾„ä¸Šé»‘èŠ‚ç‚¹å°±ä¼šå¤šå‡ºä¸€ä¸ªï¼Œå¯¹æ•´ä¸ªç»“æ„å¿…ç„¶æœ‰å½±å“ï¼Œæ‰€ä»¥è¿˜éœ€è¦å°†ç¥–çˆ¶å˜çº¢ä¿æŒé»‘è‰²æ•°é‡ä¸å˜ã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\b63813c0fe314556af79088190a2024b.png\"/><br/> æœ€åä¸è¦å¿˜äº†å°†ç¥–çˆ¶å½“æˆ cur èŠ‚ç‚¹ç»§ç»­å‘ä¸Šè°ƒæ•´ï¼Œå› ä¸ºåœ¨ä¸Šä¸€å±‚çˆ¶äº²çš„é¢œè‰²ä¸çŸ¥é“ï¼Œç¥–çˆ¶æ”¹å˜å¯èƒ½è¿åè§„åˆ™è¿˜ä¼šç»§ç»­è°ƒæ•´ã€‚è¿™ç§æƒ…å†µæˆ‘ä»¬å·¦å³æ–¹å‘ï¼Œç¿»è½¬è¿‡æ¥å¤„ç†æ–¹æ³•ä¸€æ ·ï¼Œåªå˜è‰²ä¸æ—‹è½¬ã€‚</p>\n<p>å…·ä½“ä»£ç è¡¨ç¤ºï¼š</p>\n<pre><code class=\"prism language-c\">\t\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">!=</span> _pHead <span class=\"token operator\">&amp;&amp;</span> parent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Red<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tNode<span class=\"token operator\">*</span> grandfather <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token function\">assert</span><span class=\"token punctuation\">(</span>grandfather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//ç¥–çˆ¶èŠ‚ç‚¹æœ‰æ•ˆæ€§</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">==</span> grandfather<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tNode<span class=\"token operator\">*</span> uncle <span class=\"token operator\">=</span> grandfather<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span> <span class=\"token comment\">//æƒ…å†µä¸€å”å”åœ¨ç¥–çˆ¶å³</span>\n\t\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uncle <span class=\"token operator\">&amp;&amp;</span> uncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Red<span class=\"token punctuation\">)</span> <span class=\"token comment\">//å”å”åœ¨å³ä¸”ä¸ºçº¢</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> Black<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tuncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> Black<span class=\"token punctuation\">;</span> \n\t\t\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> Red<span class=\"token punctuation\">;</span> \n\t\t\t\t\t\tcur <span class=\"token operator\">=</span> grandfather<span class=\"token punctuation\">;</span> <span class=\"token comment\">//ç»§ç»­å‘ä¸Šè°ƒæ•´</span>\n\t\t\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//å”å”ä¸ºé»‘æƒ…å†µäºŒ</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n                        â€¦â€¦\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tNode<span class=\"token operator\">*</span> uncle <span class=\"token operator\">=</span> grandfather<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span><span class=\"token comment\">//å·¦å³ç¿»è½¬ï¼ˆå”å”åœ¨ç¥–çˆ¶å·¦ï¼‰ä¸å½±å“æƒ…å†µä¸€ï¼Œå’Œä¸Šé¢ä¸€æ ·å¤„ç†</span>\n\t\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uncle <span class=\"token operator\">&amp;&amp;</span> uncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Red<span class=\"token punctuation\">)</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> Black<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tuncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> Black<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> Red<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tcur <span class=\"token operator\">=</span> grandfather<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n                        â€¦â€¦\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"_170\"></a>æƒ…å†µäºŒğŸ˜</h3>\n<h4><a id=\"_171\"></a>å…·ä½“æƒ…å†µä¸€ğŸ‰</h4>\n<p><font color=\"orange\" size=\"4\">cur ä¸ºçº¢ï¼Œp ä¸ºçº¢ï¼Œg ä¸ºé»‘ï¼Œ u å­˜åœ¨ä¸”ä¸ºé»‘<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\d250685f2747454e90b0f8bfb6e8f019.png\"/></font></p>\n<p>å…¶å®è¿™é‡Œçš„ aï¼Œbï¼Œc çš„æƒ…å†µå°±åªæœ‰ 4 ç§æƒ…å†µï¼Œåªè¦æœ‰ä¸€ä¸ªé»‘èŠ‚ç‚¹å°±èƒ½æ»¡è¶³ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\1a558d6a846445e08f2e9a5a91ded52b.png\"/></p>\n<p>è¿™ç§æƒ…å†µçš„ cur èŠ‚ç‚¹ä¸€å®šä¸æ˜¯æ–°æ’å…¥èŠ‚ç‚¹ï¼Œcur åŸæ¥æ˜¯é»‘è‰²ï¼Œä»–æ˜¯ç¬¬ä¸€ç§æƒ…å†µå‘ä¸Šè°ƒæ•´è¿‡ç¨‹ä¸­ï¼Œç¥–çˆ¶èŠ‚ç‚¹å½¢æˆçš„ cur èŠ‚ç‚¹ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\4271dc1ccbcb44f5a6f32e5d2da45b0a.png\"/></p>\n<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ ¹æ®æ€§è´¨ 4 å‡è®¾ç¥–çˆ¶ä¸Šé¢æœ‰ <strong>x</strong> ä¸ªé»‘èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå·¦å­æ ‘ï¼ˆå«ç¥–çˆ¶ï¼‰ç°åœ¨æ˜¯ <strong>x +1</strong> ä¸ªï¼Œå³å­æ ‘ï¼ˆå«ç¥–çˆ¶ï¼‰æ˜¯ <strong>x + 2 + y</strong> ä¸ªï¼Œå¾ˆæ˜æ˜¾ <strong>x + 2 + y &gt; x + 1</strong>ï¼Œå› æ­¤åœ¨æ’å…¥ç»“ç‚¹å‰å°±å·²ç»ä¸æ»¡è¶³è¦æ±‚äº†ï¼Œæ‰€ä»¥è¯´å”å”ç»“ç‚¹å­˜åœ¨ä¸”ä¸ºé»‘è¿™ç§æƒ…å†µï¼Œä¸€å®šæ˜¯ç”±æƒ…å†µä¸€å¾€ä¸Šè°ƒæ•´è¿‡ç¨‹ä¸­æ‰ä¼šå‡ºç°çš„ï¼</p>\n<p>æ­¤æ—¶å•çº¯ä½¿ç”¨å˜è‰²å·²ç»æ— æ³•å¤„ç†äº†ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è¿›è¡Œæ—‹è½¬å¤„ç†ã€‚è‹¥ç¥–å­™ä¸‰ä»£çš„å…³ç³»æ˜¯ç›´çº¿ï¼ˆcurã€parentã€grandfatherè¿™ä¸‰ä¸ªç»“ç‚¹ä¸ºä¸€æ¡ç›´çº¿ï¼‰ï¼Œåˆ™<mark>ä¸€æ³¢ AVL æ ‘é‡Œç»å…¸çš„æ—‹è½¬åˆæ¥è¾£</mark>ï¼è¿™é‡Œå·¦åæ‰€ä»¥é€‰æ‹©å³å•æ—‹ï¼Œå†è¿›è¡Œé¢œè‰²è°ƒæ•´ï¼Œé¢œè‰²è°ƒæ•´åè¿™æ£µè¢«æ—‹è½¬å­æ ‘çš„æ ¹ç»“ç‚¹æ˜¯é»‘è‰²çš„ï¼Œä¸”é»‘èŠ‚ç‚¹æ•°é‡ä¸å˜ï¼Œå› æ­¤æ— éœ€ç»§ç»­å¾€ä¸Šè¿›è¡Œå¤„ç†ã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\10839cfe8b3f4d53a03b9927d15f79bd.png\"/><br/> ä½†æ˜¯æ­¤æ—¶ç¿»è½¬å°±ä¸èƒ½åƒæƒ…å†µä¸€ä¸€æ ·ä¸€æ¦‚è€Œè®ºäº†ï¼Œåè½¬è¿‡æ¥åå³å°±è¦ä½¿ç”¨<mark>å·¦å•æ—‹</mark>äº†ã€‚å› æ­¤çº¢é»‘æ ‘æŠ½è±¡é€»è¾‘å°±å¼ºåœ¨è¿™é‡Œï¼Œèƒ½å’Œ AVL æ ‘å¥‘åˆåˆ°ä½çš„åŒæ—¶è¿˜èƒ½æœ‰æœºè°ƒæ•´ï¼ŒAVL æ ‘è¦æ˜¯å¤©æ‰çš„è¯é‚£ä¹ˆçº¢é»‘æ ‘æˆ‘åªèƒ½å«ä»–ä¸€å£° lord ã€‚</p>\n<h4><a id=\"_190\"></a>å…·ä½“æƒ…å†µäºŒğŸ‰</h4>\n<p><font color=\"orange\" size=\"4\">cur ä¸ºçº¢ï¼Œp ä¸ºçº¢ï¼Œg ä¸ºé»‘ï¼Œu ä¸å­˜åœ¨</font></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\c129c2bb04864d8b86439325c582e232.png\"/></p>\n<p>åœ¨è¿™ç§æƒ…å†µä¸‹çš„ cur ç»“ç‚¹ä¸€å®šæ˜¯æ–°æ’å…¥çš„ç»“ç‚¹ï¼Œè€Œä¸å¯èƒ½æ˜¯ç”±æƒ…å†µä¸€å˜åŒ–è€Œæ¥çš„ï¼Œå› ä¸ºå”å”ä¸å­˜åœ¨é‚£ä¹ˆ parent çš„ä¸‹é¢ä¹Ÿä¸å¯èƒ½å†æŒ‚é»‘ç»“ç‚¹äº†ã€‚</p>\n<p>æ—¢ç„¶äº§ç”Ÿäº†è¿ç»­çš„çº¢èŠ‚ç‚¹é‚£å°±å¿…é¡»æŠŠå…¶ä¸­ä¸€ä¸ªå˜é»‘ï¼Œæ€»ä¸èƒ½æŠŠæ’è¿›å»çš„çº¢èŠ‚ç‚¹å˜é»‘å§ï¼Œä¸ç„¶å°±å˜æˆæ’é»‘èŠ‚ç‚¹äº†ï¼Œå› æ­¤å°±åœ¨åªèƒ½æŠŠ parent å˜é»‘ï¼Œä½†æ˜¯è¿™æ ·å­æ ‘å°±ä¼šå¤šå‡ºé»‘èŠ‚ç‚¹æœ‰ä¼šç ´åç»“æ„ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</p>\n<p>å’Œå…·ä½“æƒ…å†µä¸€åŒç†äº†ï¼Œç¥–å­™ä¸‰ä»£åœ¨ä¸€æ¡ç›´çº¿ä¸Šåå·¦ï¼Œä¸€æ³¢<mark>å³å•æ—‹</mark>å®‰æ’ï¼Œæ¥ç€æ ¹èŠ‚ç‚¹å˜æˆ parent å<mark>è°ƒæ•´é¢œè‰²</mark>ï¼Œçˆ¶äº²å˜é»‘ï¼Œç¥–çˆ¶å˜çº¢ï¼Œä¸€æ³¢å®Œç¾å‡çº§åç»­ä¹Ÿä¸éœ€è¦å†å‘ä¸Šè°ƒæ•´ï¼ˆé»‘èŠ‚ç‚¹æ•°ç›®ä¸å˜ï¼Œæ ¹èŠ‚ç‚¹é¢œè‰²æ­£å¸¸ï¼‰ã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\751feb3de6cd4817a3177b2b74d1f582.png\"/></p>\n<h4><a id=\"_202\"></a>å…·ä½“æƒ…å†µä¸‰ğŸ˜</h4>\n<p>è¯¥æƒ…å†µæ˜¯å…·ä½“æƒ…å†µä¸€çš„åŒºåˆ«ç‰ˆæœ¬ï¼Œæƒ…å†µä¸€æ˜¯ä¸‰ä¸–åŒå ‚å³ä¸€æ¡ç›´çº¿ï¼Œè¿™é‡Œæ˜¯ä¸€æ¡æŠ˜çº¿ï¼Œä»–å’Œæƒ…å†µäºŒçš„åŒºåˆ«å°±æ˜¯æƒ…å†µäºŒ p åœ¨ g çš„å·¦ï¼Œè€Œ cur æ˜¯ p çš„å·¦ ï¼Œæƒ…å†µä¸‰ cur åœ¨ p çš„å³ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\fff2b3ddbff74ec08c3bc64dfa26d21f.png\"/><br/> é‚£ä¹ˆä¸å¿…å¤šè¨€ï¼Œä» AVL æ ‘è¿‡æ¥çš„å°ä¼™ä¼´ä¸€çœ¼å°±æ˜ç™½è¯¥å¹²ä»€ä¹ˆäº†ï¼Œæ²¡é”™ï¼Œè¯´ç™½äº†å°±æ˜¯å•æ—‹å˜åŒæ—‹ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\19103e7f962e496db9fc629dab835e90.png\"/></p>\n<p>ä»¥ä¸Šæƒ…å†µçš„å®Œæ•´å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"prism language-c\">pair<span class=\"token operator\">&lt;</span>Node<span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> bool<span class=\"token operator\">&gt;</span> <span class=\"token function\">Insert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> pair<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span><span class=\"token operator\">&amp;</span> kv<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_root <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span> <span class=\"token comment\">//è‹¥çº¢é»‘æ ‘ä¸ºç©ºæ ‘ï¼Œåˆ™æ’å…¥ç»“ç‚¹ç›´æ¥ä½œä¸ºæ ¹ç»“ç‚¹</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t_root <span class=\"token operator\">=</span> new <span class=\"token function\">Node</span><span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t_root<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span> <span class=\"token comment\">//æ ¹ç»“ç‚¹å¿…é¡»æ˜¯é»‘è‰²</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">make_pair</span><span class=\"token punctuation\">(</span>_root<span class=\"token punctuation\">,</span> true<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//æ’å…¥æˆåŠŸ</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token comment\">//æ‰¾åˆ°å¾…æ’å…¥ä½ç½®</span>\n\tNode<span class=\"token operator\">*</span> cur <span class=\"token operator\">=</span> _root<span class=\"token punctuation\">;</span>\n\tNode<span class=\"token operator\">*</span> parent <span class=\"token operator\">=</span> nullptr<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&lt;</span> cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//keyå€¼å°äºå½“å‰ç»“ç‚¹çš„èµ°å·¦å­æ ‘</span>\n\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&gt;</span> cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//keyå€¼å¤§äºå½“å‰ç»“ç‚¹çš„èµ°å³å­æ ‘</span>\n\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//å¾…æ’å…¥ç»“ç‚¹çš„keyå€¼=å½“å‰ç»“ç‚¹</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">make_pair</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">,</span> false<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//æ’å…¥å¤±è´¥</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">//æ’å…¥åˆ°æ ‘ä¸­</span>\n\tcur <span class=\"token operator\">=</span> new <span class=\"token function\">Node</span><span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//æ„é€ ç»“ç‚¹</span>\n\tNode<span class=\"token operator\">*</span> newnode <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span> <span class=\"token comment\">//è®°å½•æ–°æ’å…¥çš„ç»“ç‚¹ï¼ˆä¾¿äºååºè¿”å›ï¼‰</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&lt;</span> parent<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token comment\">//æ–°ç»“ç‚¹çš„keyå€¼å°äºparentæ’å…¥åˆ°å·¦è¾¹</span>\n\t\tparent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\tcur<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">else</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token comment\">//æ–°ç»“ç‚¹çš„keyå€¼å¤§äºparentæ’å…¥åˆ°å³è¾¹</span>\n\t\tparent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\tcur<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">//è‹¥æ’å…¥ç»“ç‚¹çš„çˆ¶ç»“ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™éœ€è¦å¯¹çº¢é»‘æ ‘è¿›è¡Œè°ƒæ•´</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">&amp;&amp;</span>parent<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tNode<span class=\"token operator\">*</span> grandfather <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span> <span class=\"token comment\">//parentæ˜¯çº¢è‰²ï¼Œåˆ™å…¶çˆ¶ç»“ç‚¹ä¸€å®šå­˜åœ¨</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">==</span> grandfather<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span> <span class=\"token comment\">//parentæ˜¯grandfatherçš„å·¦å­©å­</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tNode<span class=\"token operator\">*</span> uncle <span class=\"token operator\">=</span> grandfather<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span> <span class=\"token comment\">//uncleæ˜¯grandfatherçš„å³å­©å­</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uncle<span class=\"token operator\">&amp;&amp;</span>uncle<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span> <span class=\"token comment\">//æƒ…å†µ1ï¼šuncleå­˜åœ¨ä¸”ä¸ºçº¢</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token comment\">//é¢œè‰²è°ƒæ•´</span>\n\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> uncle<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\n\t\t\t\t<span class=\"token comment\">//ç»§ç»­å¾€ä¸Šå¤„ç†</span>\n\t\t\t\tcur <span class=\"token operator\">=</span> grandfather<span class=\"token punctuation\">;</span>\n\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//æƒ…å†µ2+æƒ…å†µ3ï¼šuncleä¸å­˜åœ¨ + uncleå­˜åœ¨ä¸”ä¸ºé»‘</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">==</span> parent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t<span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>grandfather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//å³å•æ—‹</span>\n\n\t\t\t\t\t<span class=\"token comment\">//é¢œè‰²è°ƒæ•´</span>\n\t\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//cur == parent-&gt;_right</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t<span class=\"token function\">RotateLR</span><span class=\"token punctuation\">(</span>grandfather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//å·¦å³åŒæ—‹</span>\n\n\t\t\t\t\t<span class=\"token comment\">//é¢œè‰²è°ƒæ•´</span>\n\t\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\tcur<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> \n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//parentæ˜¯grandfatherçš„å³å­©å­</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tNode<span class=\"token operator\">*</span> uncle <span class=\"token operator\">=</span> grandfather<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span> <span class=\"token comment\">//uncle æ˜¯ grandfather çš„å·¦å­©å­</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uncle<span class=\"token operator\">&amp;&amp;</span>uncle<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span> <span class=\"token comment\">//æƒ…å†µ1ï¼šuncleå­˜åœ¨ä¸”ä¸ºçº¢</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token comment\">//é¢œè‰²è°ƒæ•´</span>\n\t\t\t\tuncle<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\n\t\t\t\t<span class=\"token comment\">//ç»§ç»­å¾€ä¸Šå¤„ç†</span>\n\t\t\t\tcur <span class=\"token operator\">=</span> grandfather<span class=\"token punctuation\">;</span>\n\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//uncleä¸å­˜åœ¨/ uncleå­˜åœ¨ä¸”ä¸ºé»‘</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t    <span class=\"token comment\">//         g</span>\n\t\t\t\t<span class=\"token comment\">//     p       u</span>\n\t\t\t\t<span class=\"token comment\">// cur</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur <span class=\"token operator\">==</span> parent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t<span class=\"token function\">RotateRL</span><span class=\"token punctuation\">(</span>grandfather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//å³å·¦åŒæ—‹</span>\n\n\t\t\t\t\t<span class=\"token comment\">//é¢œè‰²è°ƒæ•´</span>\n\t\t\t\t\tcur<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token comment\">//        g</span>\n\t\t\t\t<span class=\"token comment\">//    u       p</span>\n\t\t\t\t<span class=\"token comment\">//        cur</span>\n\t\t\t\t<span class=\"token keyword\">else</span> \n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t<span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>grandfather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//å·¦å•æ—‹</span>\n\n\t\t\t\t\t<span class=\"token comment\">//é¢œè‰²è°ƒæ•´</span>\n\t\t\t\t\tgrandfather<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//å­æ ‘æ—‹è½¬åï¼Œè¯¥å­æ ‘çš„æ ¹å˜æˆäº†é»‘è‰²ï¼Œæ— éœ€ç»§ç»­å¾€ä¸Šè¿›è¡Œå¤„ç†</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\t_root<span class=\"token operator\">-&gt;</span>_col <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span> <span class=\"token comment\">//æš´åŠ›å¤„ç†æ ¹èŠ‚ç‚¹é¢œè‰²ï¼Œé˜²æ­¢å‘ä¸Šå¤„ç†æ ¹èŠ‚ç‚¹å˜çº¢</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">make_pair</span><span class=\"token punctuation\">(</span>newnode<span class=\"token punctuation\">,</span> true<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//å·¦å•æ—‹</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> parent<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tNode<span class=\"token operator\">*</span> subR <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\tNode<span class=\"token operator\">*</span> subRL <span class=\"token operator\">=</span> subR<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\tNode<span class=\"token operator\">*</span> parentParent <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//å»ºç«‹subRLä¸parentä¹‹é—´çš„è”ç³»</span>\n\tparent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> subRL<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subRL<span class=\"token punctuation\">)</span>\n\t\tsubRL<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//å»ºç«‹parentä¸subRä¹‹é—´çš„è”ç³»</span>\n\tsubR<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\tparent<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//å»ºç«‹subRä¸parentParentä¹‹é—´çš„è”ç³»</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parentParent <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t_root <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t_root<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> nullptr<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">else</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">==</span> parentParent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tsubR<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parentParent<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//å³å•æ—‹</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> parent<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tNode<span class=\"token operator\">*</span> subL <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\tNode<span class=\"token operator\">*</span> subLR <span class=\"token operator\">=</span> subL<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\tNode<span class=\"token operator\">*</span> parentParent <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//å»ºç«‹subLRä¸parentä¹‹é—´çš„è”ç³»</span>\n\tparent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> subLR<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subLR<span class=\"token punctuation\">)</span>\n\t\tsubLR<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//å»ºç«‹parentä¸subLä¹‹é—´çš„è”ç³»</span>\n\tsubL<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\tparent<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//å»ºç«‹subLä¸parentParentä¹‹é—´çš„è”ç³»</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parentParent <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t_root <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t_root<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> nullptr<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">else</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">==</span> parentParent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tsubL<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parentParent<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//å·¦å³åŒæ—‹</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">RotateLR</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> parent<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//å³å·¦åŒæ—‹</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">RotateRL</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> parent<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>ï¼ˆå¯¹æ—‹è½¬æœ‰ç–‘æƒ‘çš„å°ä¼™ä¼´è¯·èµ°ä¼ é€é—¨ï¼š<a href=\"https://blog.csdn.net/qq_61500888/article/details/126699624\">æ‰‹æ’• AVL æ ‘</a>ï¼‰</p>\n<p><font color=\"blue4\" size=\"4\">æ³¨æ„ï¼Œæœ€åæ ¹èŠ‚ç‚¹æˆ‘ä»¬æš´åŠ›å¤„ç†é¢œè‰²è®¾ä¸ºé»‘è‰²ï¼Œé˜²æ­¢å‘ä¸Šè°ƒæ•´æ—¶å°†æ ¹èŠ‚ç‚¹å˜ä¸ºäº†çº¢è‰²çš„æƒ…å†µã€‚</font></p>\n<h2><a id=\"_435\"></a>éªŒè¯çº¢é»‘æ ‘ğŸ¤”</h2>\n<p>è¿˜æ˜¯è€å¥—è·¯ï¼Œå…ˆæ¥ä¸€æ‰‹ä¸­åºéå†çœ‹è¿™æ£µæ ‘æ˜¯å¦æ»¡è¶³äºŒå‰æœç´¢æ ‘æ€§è´¨ï¼š</p>\n<pre><code class=\"prism language-c\"><span class=\"token keyword\">void</span> <span class=\"token function\">Inorder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token function\">_Inorder</span><span class=\"token punctuation\">(</span>_root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">_Inorder</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> root<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>root <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span><span class=\"token comment\">//ç©ºæ ‘ä¹Ÿæ˜¯çº¢é»‘æ ‘</span>\n\t\t<span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">_Inorder</span><span class=\"token punctuation\">(</span>root<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> root<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token function\">_Inorder</span><span class=\"token punctuation\">(</span>root<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>ç„¶åè¦éªŒè¯çº¢é»‘æ ‘çš„æ•´ä½“ç»“æ„ï¼Œçµé­‚å°±åœ¨äº<mark>æ˜¯å¦æ»¡è¶³äº”å¤§ç‰¹æ€§</mark>ï¼š</p>\n<pre><code class=\"prism language-c\">\tNode<span class=\"token operator\">*</span> <span class=\"token function\">GetRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token comment\">//å–æ ¹èŠ‚ç‚¹å‡½æ•°</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">return</span> _pHead<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\tbool <span class=\"token function\">IsValidRBTRee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tNode<span class=\"token operator\">*</span> pRoot <span class=\"token operator\">=</span> <span class=\"token function\">GetRoot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//å–æ ¹èŠ‚ç‚¹</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pRoot <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span><span class=\"token comment\">//ç©ºæ ‘ä¹Ÿæ˜¯çº¢é»‘æ ‘</span>\n\t\t\t<span class=\"token keyword\">return</span> true<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pRoot<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">!=</span> Black<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"è¿åæ€§è´¨ä¸€ï¼šæ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">return</span> false<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token class-name\">size_t</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> cur <span class=\"token operator\">=</span> pRoot<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span><span class=\"token comment\">//å–æœ€å·¦è·¯å¾„çš„é»‘èŠ‚ç‚¹ä¸ªæ•°ä¸ºéªŒè¯æ ‡å‡†</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Black<span class=\"token punctuation\">)</span>\n\t\t\t\tcount<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token class-name\">size_t</span> pathB <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//è®°å½•éœ€éªŒè¯è·¯å¾„çš„é»‘èŠ‚ç‚¹ä¸ªæ•°</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">_IsValidRBTRee</span><span class=\"token punctuation\">(</span>pRoot<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span> pathB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//å°è£…å‡½æ•°è¿›è¡Œé€’å½’éªŒè¯</span>\n\t<span class=\"token punctuation\">}</span>\n\t\t\n\t\tbool  <span class=\"token function\">_IsValidRBTRee</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> pRoot<span class=\"token punctuation\">,</span> <span class=\"token class-name\">size_t</span> count<span class=\"token punctuation\">,</span> <span class=\"token class-name\">size_t</span> pathB<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pRoot <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token keyword\">return</span> true<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pRoot<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Black<span class=\"token punctuation\">)</span>\n\t\t\t\tpathB<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n\t\t\tNode<span class=\"token operator\">*</span> parent <span class=\"token operator\">=</span> pRoot<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span><span class=\"token comment\">//é‡åˆ°çº¢èŠ‚ç‚¹æ£€æŸ¥å…¶çˆ¶äº²ï¼ˆçº¢èŠ‚ç‚¹ä¸€å®šå­˜åœ¨çˆ¶äº²ï¼‰</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Red <span class=\"token operator\">&amp;&amp;</span> parent <span class=\"token operator\">!=</span> _pHead <span class=\"token operator\">&amp;&amp;</span> pRoot<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> Red<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"è¿åæ€§è´¨3ï¼šä¸èƒ½å­˜åœ¨è¿åœ¨ä¸€èµ·çš„çº¢è‰²èŠ‚ç‚¹\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token keyword\">return</span> false<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pRoot<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">==</span> nullptr <span class=\"token operator\">&amp;&amp;</span> pRoot<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">==</span> nullptr<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>pathB <span class=\"token operator\">!=</span> count<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"è¿åæ€§è´¨4ï¼šæ¯æ¡è·¯å¾„ä¸­é»‘è‰²èŠ‚ç‚¹ä¸ªæ•°å‡ç›¸åŒ\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token keyword\">return</span> false<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">_IsValidRBTRee</span><span class=\"token punctuation\">(</span>pRoot<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span> pathB<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">_IsValidRBTRee</span><span class=\"token punctuation\">(</span>pRoot<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span> pathB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"_508\"></a>çº¢é»‘æ ‘æŸ¥æ‰¾ğŸ¤”</h2>\n<p>çº¢é»‘æ ‘çš„æŸ¥æ‰¾å‡½æ•°ä¸äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾æ–¹å¼ä¸€æ¨¡ä¸€æ ·ï¼Œå››æ­¥èµ°ï¼š</p>\n<blockquote>\n<p>è‹¥æ ‘ä¸ºç©ºæ ‘ï¼Œåˆ™æŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›nullptrã€‚<br/> è‹¥keyå€¼å°äºå½“å‰ç»“ç‚¹çš„å€¼ï¼Œåˆ™åº”è¯¥åœ¨è¯¥ç»“ç‚¹çš„å·¦å­æ ‘å½“ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚<br/> è‹¥keyå€¼å¤§äºå½“å‰ç»“ç‚¹çš„å€¼ï¼Œåˆ™åº”è¯¥åœ¨è¯¥ç»“ç‚¹çš„å³å­æ ‘å½“ä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚<br/> è‹¥keyå€¼ç­‰äºå½“å‰ç»“ç‚¹çš„å€¼ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼Œè¿”å›å¯¹åº”ç»“ç‚¹ã€‚</p>\n</blockquote>\n<pre><code class=\"prism language-c\">Node<span class=\"token operator\">*</span> <span class=\"token function\">Find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> K<span class=\"token operator\">&amp;</span> key<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tNode<span class=\"token operator\">*</span> cur <span class=\"token operator\">=</span> _root<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">&lt;</span> cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span> \n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span> \n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">&gt;</span> cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span> \n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span> \n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">return</span> cur<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">return</span> nullptr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"_540\"></a>çº¢é»‘æ ‘çš„åˆ é™¤ğŸ¤”</h2>\n<p>è¿˜æ˜¯åœ¨ AVL æ ‘è¯´çš„ï¼Œé«˜é˜¶æ•°æ®ç»“æ„æ¦‚ä¸å±•ç¤ºåˆ é™¤éƒ¨åˆ†ï¼Œè¿‡äºæ‰“è„‘å£³æœ‰å…´è¶£çš„è‡ªè¡ŒæŸ¥é˜…å³å¯ã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\cdcdfc128dd74911aa02fce12f977a0a.png\"/></p>\n<h2><a id=\"_547\"></a>è°æ˜¯ä¸€ä»£å®—å¸ˆğŸ¤”</h2>\n<p>AVL æ ‘å’Œçº¢é»‘æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘çš„ä¸¤ä¸ªè€å¤§å“¥ï¼Œä»–ä»¬å¢åˆ æŸ¥æ”¹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(logN)ï¼Œåˆ°åº•è°æ›´æŠ€é«˜ä¸€ç­¹ï¼Ÿ</p>\n<p>å…¶å®åœ¨å¤§æ•°æ®çš„åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚ç™¾ä¸‡çº§é‡åŒ–æ•°æ®ï¼ŒAVL éœ€è¦æ„å»ºå¤§çº¦ 20 å¤šå±‚ï¼ŒåŒæ—¶çº¢é»‘æ ‘éœ€è¦æ„å»ºå¤§çº¦ 40 å¤šå±‚ï¼Œæ¯•ç«Ÿçº¢é»‘æ ‘æ˜¯è¿‘ä¼¼å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚</p>\n<p>ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ 20 å’Œ 40 åœ¨ CPU è¿ç®—é€Ÿåº¦é¢å‰å¹¶æ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œè™½ç„¶ AVL æ ‘åœ¨æ•ˆç‡ä¸Šä¼šç•¥èƒœçº¢é»‘æ ‘ä¸€ç‚¹ç‚¹ï¼Œä½†æ˜¯ç”Ÿæ´»ä¸­çº¢é»‘æ ‘çš„è¿ç”¨å´æ¯” AVL æ ‘æ›´ä¸ºå¹¿æ³›ï¼Œå› ä¸º AVL æ ‘çš„æ•ˆç‡æ˜¯æœ‰ä»£ä»·çš„ï¼Œæ˜¯å……åˆ†ç‰ºç‰²ç»“æ„è¿›è¡Œä¸æ–­æ—‹è½¬å¾—åˆ°çš„ï¼Œè€Œçº¢é»‘æ ‘å¤§å¤§é™ä½äº†æ—‹è½¬æ¬¡æ•°ä¼šæ›´å®‰å…¨å› æ­¤ï¼Œæ¢æ¥äº†æ›´ä¼˜çš„æ€§èƒ½</p>\n<p>aqa èŠ­è•¾ eqe äºå†…ï¼Œä»£è¡¨ç€å¼€å¿ƒä»£è¡¨ç€å¿«ä¹ï¼Œok äº†å®¶äººä»¬ã€‚</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}