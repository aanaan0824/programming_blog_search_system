{"blogid": "123965166", "writerAge": "码龄10年", "writerBlogNum": "2806", "writerCollect": "19626", "writerComment": "2827", "writerFan": "34060", "writerGrade": "9级", "writerIntegral": "68083", "writerName": "韩曙亮", "writerProfileAdress": "writer_image\\profile_123965166.jpg", "writerRankTotal": "38", "writerRankWeekly": "673", "writerThumb": "9247", "writerVisitNum": "5827971", "blog_read_count": "8440", "blog_time": "于 2022-04-05 10:30:43 发布", "blog_title": "【错误记录】Ubuntu 下 VSCode 编译报错 ( 无法生成和调试，因为活动文件不是 C 或 C++ 源文件。终端进程启动失败(退出代码: -1)。终端将被任务重用，按任意键关闭。 )", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night-eighties\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_8\">一、报错信息</a></li><li><a href=\"#_91\">二、解决方案</a></li></ul>\n</div>\n<p></p>\n<br/>\n<br/>\n<br/>\n<br/>\n<h1><a id=\"_8\"></a>一、报错信息</h1>\n<hr/>\n<br/>\n<p>在 VSCode 中 , 创建 cpp 源码 :</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;iostream&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;vector&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;string&gt;</span></span>\n\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    vector<span class=\"token operator\">&lt;</span>string<span class=\"token operator\">&gt;</span> msg <span class=\"token punctuation\">{<!-- --></span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"C++\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"World\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"from\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"VS Code\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"and the C++ extension!\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//strin</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> string<span class=\"token operator\">&amp;</span> word <span class=\"token operator\">:</span> msg<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        cout <span class=\"token operator\">&lt;&lt;</span> word <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    cout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>生成了 tasks.json 构建脚本 ;</p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token string-property property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.0.0\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token string-property property\">\"tasks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token string-property property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cppbuild\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"label\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C/C++: g++ 生成活动文件\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/usr/bin/g++\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token string\">\"-fdiagnostics-color=always\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"-g\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"${file}\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"-o\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"${fileDirname}/${fileBasenameNoExtension}\"</span>\n\t\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"options\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token string-property property\">\"cwd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${fileDirname}\"</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"problemMatcher\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token string\">\"$gcc\"</span>\n\t\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token string-property property\">\"kind\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string-property property\">\"isDefault\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"detail\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"编译器: /usr/bin/g++\"</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>编译时报如下错误 :</strong></p>\n<pre><code class=\"prism language-handlebars\"><span class=\"token punctuation\">&gt;</span> <span class=\"token variable\">Executing</span> <span class=\"token variable\">task</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">C</span><span class=\"token punctuation\">/</span><span class=\"token variable\">C</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">g</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span> <span class=\"token variable\">生成活动文件</span> <span class=\"token punctuation\">&lt;</span>\n\n<span class=\"token variable\">无法生成和调试，因为活动文件不是</span> <span class=\"token variable\">C</span> <span class=\"token variable\">或</span> <span class=\"token variable\">C</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span> <span class=\"token variable\">源文件。</span>\n<span class=\"token variable\">终端进程启动失败</span><span class=\"token punctuation\">(</span><span class=\"token variable\">退出代码</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token variable\">。</span>\n\n<span class=\"token variable\">终端将被任务重用，按任意键关闭。</span>\n</code></pre>\n<br/>\n<br/>\n<br/>\n<br/>\n<h1><a id=\"_91\"></a>二、解决方案</h1>\n<hr/>\n<br/>\n<p>核心报错是 <code>无法生成和调试，因为活动文件不是 C 或 C++ 源文件。</code></p>\n<p>没有找到 C/C++ 文件 ;</p>\n<p>在 tasks.json 构建脚本中 , 指定 C/C++ 文件路径的是 <code>\"tasks</code> 下的 <code>\"args\"</code> 路径 ,</p>\n<br/>\n<p>当前配置的 g++ 参数的 args 配置如下 :</p>\n<pre><code class=\"prism language-json\">\t\t\t<span class=\"token string-property property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token string\">\"-fdiagnostics-color=always\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"-g\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"${file}\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"-o\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"${fileDirname}/${fileBasenameNoExtension}\"</span>\n\t\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p><code>\"${file}\"</code> 配置就是 C++ 源文件的路径 , 该路径无效 , 这里修改为 <code>\"${workspaceFolder}/*.cpp\"</code> 参数 ;</p>\n<p><strong>修改后的 tasks.json 构建脚本 如下 :</strong></p>\n<pre><code class=\"prism language-json\"><span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token string-property property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.0.0\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token string-property property\">\"tasks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token string-property property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cppbuild\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"label\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C/C++: g++ 生成活动文件\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"command\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/usr/bin/g++\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token string\">\"-fdiagnostics-color=always\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"-g\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"${workspaceFolder}/*.cpp\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"-o\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string\">\"${fileDirname}/${fileBasenameNoExtension}\"</span>\n\t\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"options\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token string-property property\">\"cwd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${fileDirname}\"</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"problemMatcher\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t\t<span class=\"token string\">\"$gcc\"</span>\n\t\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token string-property property\">\"kind\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">,</span>\n\t\t\t\t<span class=\"token string-property property\">\"isDefault\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string-property property\">\"detail\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"编译器: /usr/bin/g++\"</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>使用 Ctrl + Shift + B 快捷键 , 即可完成编译操作 ;</p>\n<pre><code class=\"prism language-handlebars\"><span class=\"token punctuation\">&gt;</span> <span class=\"token variable\">Executing</span> <span class=\"token variable\">task</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">C</span><span class=\"token punctuation\">/</span><span class=\"token variable\">C</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">g</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span> <span class=\"token variable\">生成活动文件</span> <span class=\"token punctuation\">&lt;</span>\n\n<span class=\"token variable\">正在启动生成</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">/</span><span class=\"token variable\">usr</span><span class=\"token punctuation\">/</span><span class=\"token variable\">bin</span><span class=\"token punctuation\">/</span><span class=\"token variable\">g</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span> <span class=\"token variable\">-fdiagnostics-color</span><span class=\"token punctuation\">=</span><span class=\"token variable\">always</span> <span class=\"token variable\">-g</span> <span class=\"token punctuation\">/</span><span class=\"token variable\">home</span><span class=\"token punctuation\">/</span><span class=\"token variable\">octopus</span><span class=\"token punctuation\">/</span><span class=\"token variable\">vscode</span><span class=\"token punctuation\">/</span><span class=\"token variable\">helloworld</span><span class=\"token punctuation\">/</span><span class=\"token punctuation\">*</span><span class=\"token punctuation\">.</span><span class=\"token variable\">cpp</span> <span class=\"token variable\">-o</span> <span class=\"token punctuation\">/</span><span class=\"token variable\">home</span><span class=\"token punctuation\">/</span><span class=\"token variable\">octopus</span><span class=\"token punctuation\">/</span><span class=\"token variable\">vscode</span><span class=\"token punctuation\">/</span><span class=\"token variable\">helloworld</span><span class=\"token punctuation\">/</span><span class=\"token punctuation\">.</span><span class=\"token variable\">vscode</span><span class=\"token punctuation\">/</span><span class=\"token variable\">tasks</span>\n\n<span class=\"token variable\">生成已成功完成。</span>\n\n<span class=\"token variable\">终端将被任务重用，按任意键关闭。</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\5157c02207e44d58bea58b5573d6cc29.png\"/></p>\n<p>生成的可执行文件在 .vscode 目录下 , 名称是 task ;</p>\n<p>执行 <code>cd .vscode</code> 命令 , 进入 .vscode 目录中 ,</p>\n<p>使用 <code>./task</code> 命令 , 执行该 task 可执行文件 , 打印如下内容 ;</p>\n<pre><code class=\"prism language-handlebars\"><span class=\"token variable\">Hello</span> <span class=\"token variable\">C</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span> <span class=\"token variable\">World</span> <span class=\"token variable\">from</span> <span class=\"token variable\">VS</span> <span class=\"token variable\">Code</span> <span class=\"token variable\">and</span> <span class=\"token variable\">the</span> <span class=\"token variable\">C</span><span class=\"token punctuation\">+</span><span class=\"token punctuation\">+</span> <span class=\"token variable\">extension</span><span class=\"token punctuation\">!</span> \n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\583db63ce52241f9a997e0759ac9955a.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}