{"blogid": "126743189", "writerAge": "码龄24天", "writerBlogNum": "53", "writerCollect": "1", "writerComment": "1", "writerFan": "45", "writerGrade": "3级", "writerIntegral": "530", "writerName": "web13057816168", "writerProfileAdress": "writer_image\\profile_126743189.jpg", "writerRankTotal": "38164", "writerRankWeekly": "10533", "writerThumb": "0", "writerVisitNum": "2216", "blog_read_count": "11", "blog_time": "于 2022-09-07 12:29:31 发布", "blog_title": "JVM client模式和Server模式的区别", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><strong>专用和公用JRE的不同</strong></p>\n<p>不同点在于专用JRE的bin里不仅有“client”目录，还有“server”目录，而公用的只有\"client\"目录。其实client和server是Java运行的两种模式，那么它们有什么区别呢？</p>\n<blockquote>\n<p>JVM client模式和Server模式启动，分别针对桌面应用和服务器应用做了相应的优化，client版本加载速度较快，server版本加载速度较慢但运行起来较快。。</p>\n</blockquote>\n<p>Java HotSpot虚拟机默认不带参数启动会首先检测主机是否为服务器，如果是，则以Server模式启动，否则以client模式启动，而检测的根据是至少2个CPU和最低2GB内存。</p>\n<p>查看你的虚拟机版本与模式</p>\n<ol><li>java -version //查看JVM默认的环境</li><li>java -client -version //查看JVM的客户端环境,针对GUI优化,启动速度快,运行速度不如server</li><li>java -server -version //查看JVM的服务器端环境，针对生产环境优化,运行速度快，启动速度慢</li></ol>\n<p>如图：</p>\n<pre><code>[root@appstore-tomcat-online008-jylt ~]# java -server -version\njava version \"1.7.0_65\"\nJava(TM) SE Runtime Environment (build 1.7.0_65-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)\n</code></pre>\n<p><strong>虚拟机模式切换</strong></p>\n<p>如果只是临时切换，可以直接使用命令行执行，格式如：</p>\n<pre><code>  java -模式(client或server) classname\n</code></pre>\n<p>如果永久切换可以修改配置文件，配置文件在“JAVA_HOME/jre/lib/i386/jvm.cfg”，我们可以看到JVM默认的顺序：</p>\n<ol><li>-client KNOWN</li><li>-server KNOWN</li><li>-hotspot ALIASED_TO -client</li><li>-classic WARN</li><li>-native ERROR</li><li>-green ERROR</li></ol>\n<p>只需要把-server和-clent调换顺序即可：</p>\n<ol><li>-server KNOWN</li><li>-client KNOWN</li><li>-hotspot ALIASED_TO -client</li><li>-classic WARN</li><li>-native ERROR</li><li>-green ERROR</li></ol>\n<p>JVM工作在Server模式可以大大提高性能，但应用的启动会比client模式慢大概10%。当JVM用于启动GUI界面的交互应用时适合于使用client模式，当JVM用于运行服务器后台程序时建议用Server模式。</p>\n<p>JVM在client模式默认-Xms是1M，-Xmx是64M；JVM在Server模式默认-Xms是128M，-Xmx是1024M。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}