{"blogid": "124762408", "writerAge": "码龄7年", "writerBlogNum": "4", "writerCollect": "23", "writerComment": "9", "writerFan": "7", "writerGrade": "1级", "writerIntegral": "94", "writerName": "大碗拉面", "writerProfileAdress": "writer_image\\profile_124762408.jpg", "writerRankTotal": "130957", "writerRankWeekly": "393517", "writerThumb": "12", "writerVisitNum": "11129", "blog_read_count": "6693", "blog_time": "于 2022-05-14 00:08:26 发布", "blog_title": "项目场景： gyp verb check python checking for Python executable python2 in the PATH", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"_gyp_verb_check_python_checking_for_Python_executable_python2_in_the_PATH_2\"></a>项目场景： gyp verb check python checking for Python executable “python2” in the PATH</h1>\n<h1><a id=\"_3\"></a>环境</h1>\n<p>​ node v16.15.0</p>\n<p>​ npm 8.5.5</p>\n<p>npm install 报错</p>\n<hr/>\n<h1><a id=\"_15\"></a>问题描述</h1>\n<pre><code class=\"prism language-c\">gyp verb check python checking <span class=\"token keyword\">for</span> Python executable <span class=\"token string\">\"python2\"</span> in the PATH\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed Error<span class=\"token operator\">:</span> not found<span class=\"token operator\">:</span> python2\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at <span class=\"token function\">getNotFoundError</span> <span class=\"token punctuation\">(</span>D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at <span class=\"token function\">F</span> <span class=\"token punctuation\">(</span>D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">68</span><span class=\"token operator\">:</span><span class=\"token number\">19</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at <span class=\"token function\">E</span> <span class=\"token punctuation\">(</span>D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">80</span><span class=\"token operator\">:</span><span class=\"token number\">29</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">89</span><span class=\"token operator\">:</span><span class=\"token number\">16</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\isexe\\index<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">42</span><span class=\"token operator\">:</span><span class=\"token number\">5</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\isexe\\windows<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">36</span><span class=\"token operator\">:</span><span class=\"token number\">5</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at FSReqCallback<span class=\"token punctuation\">.</span><span class=\"token function\">oncomplete</span> <span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span>fs<span class=\"token operator\">:</span><span class=\"token number\">198</span><span class=\"token operator\">:</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed  python2 Error<span class=\"token operator\">:</span> not found<span class=\"token operator\">:</span> python2\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at <span class=\"token function\">getNotFoundError</span> <span class=\"token punctuation\">(</span>D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at <span class=\"token function\">F</span> <span class=\"token punctuation\">(</span>D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">68</span><span class=\"token operator\">:</span><span class=\"token number\">19</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at <span class=\"token function\">E</span> <span class=\"token punctuation\">(</span>D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">80</span><span class=\"token operator\">:</span><span class=\"token number\">29</span><span class=\"token punctuation\">)</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\which\\which<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">89</span><span class=\"token operator\">:</span><span class=\"token number\">16</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\isexe\\index<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">42</span><span class=\"token operator\">:</span><span class=\"token number\">5</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at D<span class=\"token operator\">:</span>\\demandindex\\node_modules\\isexe\\windows<span class=\"token punctuation\">.</span>js<span class=\"token operator\">:</span><span class=\"token number\">36</span><span class=\"token operator\">:</span><span class=\"token number\">5</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed     at FSReqCallback<span class=\"token punctuation\">.</span><span class=\"token function\">oncomplete</span> <span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span>fs<span class=\"token operator\">:</span><span class=\"token number\">198</span><span class=\"token operator\">:</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed   code<span class=\"token operator\">:</span> <span class=\"token char\">'ENOENT'</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` failed <span class=\"token punctuation\">}</span>\nnpm ERR<span class=\"token operator\">!</span> gyp verb check python checking <span class=\"token keyword\">for</span> Python executable <span class=\"token string\">\"python\"</span> in the PATH\nnpm ERR<span class=\"token operator\">!</span> gyp verb `which` succeeded python C<span class=\"token operator\">:</span>\\Program Files\\python\\python<span class=\"token punctuation\">.</span>EXE\nnpm ERR<span class=\"token operator\">!</span> gyp verb check python version `C<span class=\"token operator\">:</span>\\Program Files\\python\\python<span class=\"token punctuation\">.</span>EXE <span class=\"token operator\">-</span>c <span class=\"token string\">\"import platform; print(platform.python_version());\"</span>` returned<span class=\"token operator\">:</span> <span class=\"token string\">\"3.8.6\\r\\n\"</span>\n</code></pre>\n<p>最开始以为是缺少python2.7</p>\n<p>安装了 python2.7 和 windows-build-tools以后依然报错</p>\n<hr/>\n<h1><a id=\"_47\"></a>原因分析：</h1>\n<p>node-sass和 node版本不对应</p>\n<p>我之前的node-sass版本是4.7.2</p>\n<table><thead><tr><th>NodeJS</th><th>Supported node-sass version</th><th>Node Module</th></tr></thead><tbody><tr><td>Node 17</td><td>7.0+</td><td>102</td></tr><tr><td>Node 16</td><td>6.0+</td><td>93</td></tr><tr><td>Node 15</td><td>5.0+, &lt;7.0</td><td>88</td></tr><tr><td>Node 14</td><td>4.14+</td><td>83</td></tr><tr><td>Node 13</td><td>4.13+, &lt;5.0</td><td>79</td></tr><tr><td>Node 12</td><td>4.12+, &lt;8.0</td><td>72</td></tr><tr><td>Node 11</td><td>4.10+, &lt;5.0</td><td>67</td></tr><tr><td>Node 10</td><td>4.9+, &lt;6.0</td><td>64</td></tr><tr><td>Node 8</td><td>4.5.3+, &lt;5.0</td><td>57</td></tr><tr><td>Node &lt;8</td><td>&lt;5.0</td><td>&lt;57</td></tr></tbody></table>\n<hr/>\n<h1><a id=\"_67\"></a>解决方案：</h1>\n<p>node-sass 版本修改6.0.1</p>\n<p>在执行 npm install</p>\n<p>解决</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}