{"blogid": "123298406", "writerAge": "ç é¾„4å¹´", "writerBlogNum": "47", "writerCollect": "555", "writerComment": "191", "writerFan": "209", "writerGrade": "3çº§", "writerIntegral": "793", "writerName": "PeasantWorker", "writerProfileAdress": "writer_image\\profile_123298406.jpg", "writerRankTotal": "23169", "writerRankWeekly": "21617", "writerThumb": "126", "writerVisitNum": "58166", "blog_read_count": "7205", "blog_time": "äºÂ 2022-03-05 18:50:38Â å‘å¸ƒ", "blog_title": "å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰æ ‡æ³¨ç¥å™¨â€”â€”Label Studio ç®€å•ä½¿ç”¨", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_1\">å‰è¨€</a></li><li><a href=\"#_13\">ä¸€ã€å®‰è£…ä¸å¯åŠ¨</a></li><li><a href=\"#_26\">äºŒã€åŸºæœ¬ä½¿ç”¨</a></li><li><a href=\"#_133\">æ€»ç»“</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"_1\"></a>å‰è¨€</h1>\n<p>è¿‘æœŸåœ¨åš<code>NER</code>çš„å·¥ä½œï¼Œç”±äºç¼ºä¹æ ‡æ³¨æ•°æ®ï¼Œæ‰€ä»¥ï¼Œä½ æ‡‚çš„ğŸ˜­ğŸ˜­</p>\n<p><code>Label Studio</code>ä¸ä»…å¯ä»¥ç”¨æ¥æ ‡æ³¨æ–‡æœ¬NERä»»åŠ¡ï¼Œè¿˜å¯ä»¥ç”¨æ¥æ ‡æ³¨æ–‡æœ¬åˆ†ç±»ã€å›¾åƒåˆ†ç±»ç­‰ç­‰å…¶ä»–AIä»»åŠ¡ã€‚</p>\n<p>å®˜ç½‘â€”â€”<a href=\"https://labelstud.io/\">https://labelstud.io/</a></p>\n<p>å…¶ä»–æ ‡æ³¨ä»»åŠ¡è‡ªå·±å»æ¢ç´¢å§ï¼Œæˆ‘è¿™é‡Œåªè®²ä¸€ä¸‹NERä»»åŠ¡ã€‚</p>\n<h1><a id=\"_13\"></a>ä¸€ã€å®‰è£…ä¸å¯åŠ¨</h1>\n<p>å®‰è£…</p>\n<pre><code class=\"prism language-bash\">pip <span class=\"token function\">install</span> -U label-studio\n</code></pre>\n<p>å¯åŠ¨</p>\n<pre><code class=\"prism language-bash\"><span class=\"token comment\"># æ‰“å¼€å‘½ä»¤è¡Œï¼Œåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š</span>\n\nlabel-studio\n</code></pre>\n<h1><a id=\"_26\"></a>äºŒã€åŸºæœ¬ä½¿ç”¨</h1>\n<p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œåœ¨å‘½ä»¤è¡Œä¸­å¯åŠ¨ <code>Label Studio</code> åï¼Œä¼šå¼¹å‡ºä¸€ä¸ªç™»é™†é¡µé¢<img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\763a8ba32b1f4306a8e56acae05e2f9c.png\"/><br/> å¦‚ä¸Šå›¾</p>\n<p>ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦åˆ›å»ºè´¦å·ï¼Œæ³¨å†Œä¸€ä¸‹å°±å¥½äº†</p>\n<p>æ³¨å†Œå¥½åç™»é™†è¿›å»ï¼Œç„¶åä¼šè·³è½¬åˆ°å¦‚ä¸‹é¡µé¢<img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\e76101aba50f423c855607456dc3eb99.png\"/><br/> ç¬¬ä¸€æ¬¡ç™»é™†è¿›æ¥ï¼Œè¿™ä¸ªé¡µé¢åº”è¯¥æ˜¯ç©ºç™½çš„ï¼Œè¿™äº›éƒ½æ˜¯æˆ‘è‡ªå·±å»ºçš„é¡¹ç›®ã€‚ä½ ä»¬ä¸ç”¨ç®¡</p>\n<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å¼€å§‹åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ï¼š</p>\n<p>1ã€ç‚¹å‡»å³ä¸Šè§’çš„<code>create</code>æŒ‰é’®<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\9d880f1de97a481dbef12cd83e9e6c54.png\"/><br/> ç‚¹å‡»åå¼¹å‡ºå¦‚ä¸‹é¡µé¢ï¼Œè®¾ç½®è‡ªå·±çš„é¡¹ç›®åå’Œé¡¹ç›®æè¿°<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\b9cc600e2abb40818ca8edad3063fa11.png\"/></p>\n<p>2ã€è®¾ç½®å¥½é¡¹ç›®åç§°å’Œæè¿°åï¼Œç‚¹å‡»æ—è¾¹çš„ <code>Data Import</code>ï¼Œè¿›å…¥åˆ°æ•°æ®å¯¼å…¥é¡µé¢</p>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\2280edf70b8543b6be9f25d88798cf3d.png\"/><br/> 3ã€ç‚¹å‡»<code>Upload Files</code>æŒ‰é’®ï¼Œä»æœ¬åœ°é€‰æ‹©ä¸€ä¸ªå¾…æ ‡æ³¨çš„æ–‡ä»¶</p>\n<p>æˆ‘çš„æ–‡ä»¶æ ¼å¼æ˜¯ä¸€è¡Œä¸€è¡Œçš„ <code>.txt</code> æ–‡æœ¬ï¼Œå¦‚å›¾ï¼š<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\fe867c42e5194b4f85beae6b0b08e1c4.png\"/><br/> ä¸€è¡Œè¡¨ç¤ºä¸€æ¡æ•°æ®ã€‚æ–‡ä»¶æ ¼å¼ä¹Ÿå¯ä»¥æ˜¯<code>CSV</code>ï¼ŒæŒ‰ç†è¯´åªè¦æ˜¯ä¸€è¡Œä¸€æ¡æ•°æ®çš„éƒ½å¯ä»¥ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±æ¢ç´¢ä¸‹ã€‚</p>\n<p>4ã€é€‰æ‹©å¥½å¾…æ ‡æ³¨çš„æ–‡ä»¶åï¼Œç‚¹å‡»ç¡®å®šï¼Œä¼šå¼¹å‡ºå¦‚ä¸‹ç•Œé¢ï¼š<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\3da4724779ce45cfbba1e4af649d16e0.png\"/></p>\n<p>5ã€è¿™é‡Œéœ€è¦é€‰æ‹©æ˜¯ <code>List of tasks</code> è¿˜æ˜¯<code>Time Series</code>ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯<code>List of tasks</code></p>\n<p>6ã€é€‰æ‹©å¥½åï¼Œç‚¹å‡»æ—è¾¹çš„ <code>Labeling Setup</code>ï¼Œé¡µé¢å¦‚ä¸‹ï¼š</p>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\428ed9be98f949928a2432c6cbb7fe9d.png\"/></p>\n<p>7ã€æ‰¾åˆ°<code>Natural Language Processing</code>ï¼Œé€‰æ‹©<code>Named Entity Recognition</code><br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\de83e632d2ff4404af7dc449314d3e68.png\"/><br/> 8ã€é€‰æ‹©åï¼Œå¼¹å‡ºå¦‚ä¸‹é¡µé¢<img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\81bb3a63d6be4bb9b161569dbe8fa2a0.png\"/></p>\n<p>9ã€é»˜è®¤çš„å››ä¸ªæ ‡ç­¾ <code>PER ORG LOC MISC</code>ï¼Œåˆ æ‰è¿™å››ä¸ªæ ‡ç­¾ï¼Œæ¢æˆæˆ‘ä»¬è‡ªå·±çš„æ ‡ç­¾</p>\n<p>ä»æ—è¾¹çš„æ–¹æ¡†é‡Œè¾“å…¥è‡ªå·±çš„æ ‡ç­¾åç§°ï¼Œå†ç‚¹å‡»<code>Add</code>å°±å¯ä»¥æ·»åŠ è‡ªå·±è‡ªå®šä¹‰çš„æ ‡ç­¾äº†<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\dcfda08763ff43488796692363c844e8.png\"/><br/> ç‚¹å‡»æˆ‘ä»¬æ·»åŠ çš„æ ‡ç­¾ï¼Œè¿˜èƒ½è‡ªå®šä¹‰é¢œè‰²<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\482bbdf368a441b3a083d392bac70d90.png\"/><br/> 10ã€è‡³æ­¤ï¼Œæˆ‘ä»¬å°±é€‰æ‹©å¥½äº†æ‰€æœ‰çš„é…ç½®ï¼Œçœ‹èµ·æ¥å¾ˆéº»çƒ¦äº‹å› ä¸ºæˆ‘è¯´çš„æ¯”è¾ƒç»†ï¼Œå°±æ€•æœ‰äº›åŒå­¦çœ‹ä¸æ‡‚ã€‚ç‚¹å‡»å³ä¸Šè§’çš„<code>Save</code>æŒ‰é’®ï¼Œå°±å¯ä»¥å¼€å§‹æ ‡æ³¨äº†<img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\9c2cb090fba846978e8d87cfce01c9b8.png\"/><br/> 11ã€ç‚¹å‡»<code>Label All Tasks</code> æŒ‰é’®ï¼Œå¼€å§‹æ„‰ï¼ˆç—›ï¼‰å¿«ï¼ˆè‹¦ï¼‰åœ°æ ‡æ³¨ä¹‹æ—…å§<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\bbac44a64fe14e9e915383e347993aac.png\"/><br/> 12ã€ç‚¹å‡»å®ä½“åç§°ï¼Œå†é€šè¿‡é¼ æ ‡ä»å¾…æ ‡æ³¨çš„æ–‡æœ¬é€‰æ‹©å‡ºæ­£ç¡®çš„å®ä½“ï¼Œå¦‚å›¾ï¼š<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\f083bec3d44a4827833fa37adbccf540.png\"/><br/> æ³¨æ„ï¼šæ ‡æ³¨å®Œæˆåï¼Œä¸€å®šè¦ç‚¹å‡»<code>Submit</code>æäº¤å·²æ ‡æ³¨çš„æ•°æ®ï¼Œè¦ä¸ç„¶ï¼Œä¸€å¤©ç™½å¹²</p>\n<p>è®¾ç½®ä¸€ä¸‹å¯ä»¥è®©æ ‡ç­¾æ˜¾ç¤ºåœ¨å®ä½“å³ä¸Šè§’<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\a7b818c1cb3e460999150972bc8e18e0.png\"/></p>\n<p>13ã€æ ‡æ³¨å®Œæˆåï¼Œç‚¹å‡»å³ä¸Šè§’ <code>Export</code> å¯ä»¥å¯¼å‡ºå·²æ ‡æ³¨çš„æ•°æ®</p>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\61f9c34e45bb433f94e9dbdd8e54a60a.png\"/><br/> 14ã€è¿™é‡Œæˆ‘ä»¬é€‰æ‹©CSVï¼Œä½ æƒ³å¯¼å‡ºå…¶ä»–æ ¼å¼çš„ä¹Ÿå¯ä»¥<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\e5bd48e9c8264b10bc3d194c843ef215.png\"/><br/> ç‚¹å‡»ä¸‹é¢çš„<code>Export</code>è“è‰²æŒ‰é’®ï¼Œå°±èƒ½å¯¼å‡ºå·²æ ‡æ³¨çš„æ•°æ®å•¦</p>\n<p>15ã€å¯¼å‡ºçš„csvçš„æ•°æ®æ ¼å¼<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\85ff01e7fa1740ceaffdadc7683b44b3.png\"/><br/> 16ã€é€šè¿‡ä»¥ä¸‹ä»£ç ï¼Œæˆ‘ä»¬å°†å…¶è½¬ä¸ºä»¥ä¸‹è¿™ç§æ•°æ®æ ¼å¼ï¼š<br/> <img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"image\\5d87c65a8ea746ec8f77143f31c6098a.png\"/><br/> è½¬æ¢ä»£ç ï¼š</p>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">gen_train_data</span><span class=\"token punctuation\">(</span>file_path<span class=\"token punctuation\">,</span> save_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    file_path: é€šè¿‡Label Studioå¯¼å‡ºçš„csvæ–‡ä»¶\n    save_path: ä¿å­˜çš„è·¯å¾„\n    \"\"\"</span>\n    data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span>file_path<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> idx<span class=\"token punctuation\">,</span> item <span class=\"token keyword\">in</span> data<span class=\"token punctuation\">.</span>iterrows<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        text <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'text'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">if</span> pd<span class=\"token punctuation\">.</span>isna<span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            text <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n        text_list <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n        label_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n        labels <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">]</span>\n        label_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'O'</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>text_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">if</span> pd<span class=\"token punctuation\">.</span>isna<span class=\"token punctuation\">(</span>labels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">pass</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            labels <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>loads<span class=\"token punctuation\">(</span>labels<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> label_item <span class=\"token keyword\">in</span> labels<span class=\"token punctuation\">:</span>\n                start <span class=\"token operator\">=</span> label_item<span class=\"token punctuation\">[</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">]</span>\n                end <span class=\"token operator\">=</span> label_item<span class=\"token punctuation\">[</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">]</span>\n                label <span class=\"token operator\">=</span> label_item<span class=\"token punctuation\">[</span><span class=\"token string\">'labels'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n                label_list<span class=\"token punctuation\">[</span>start<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> f<span class=\"token string\">'B-{label}'</span>\n                label_list<span class=\"token punctuation\">[</span>start<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span>end<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>f<span class=\"token string\">'M-{label}'</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>end<span class=\"token operator\">-</span>start<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n                label_list<span class=\"token punctuation\">[</span>end <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> f<span class=\"token string\">'E-{label}'</span>\n        <span class=\"token keyword\">assert</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>label_list<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>text_list<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>save_path<span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">for</span> idx_<span class=\"token punctuation\">,</span> line <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>text_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">if</span> text_list<span class=\"token punctuation\">[</span>idx_<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'\\t'</span> <span class=\"token operator\">or</span> text_list<span class=\"token punctuation\">[</span>idx_<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">:</span>\n                    text_list<span class=\"token punctuation\">[</span>idx_<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ï¼Œ'</span>\n                line <span class=\"token operator\">=</span> text_list<span class=\"token punctuation\">[</span>idx_<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> label_list<span class=\"token punctuation\">[</span>idx_<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\\n'</span>\n                f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span>\n            f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>ç›´æ¥ä¼ å‚å°±å¯ä»¥å•¦</p>\n<h1><a id=\"_133\"></a>æ€»ç»“</h1>\n<p>1ã€æˆ‘æ„¿ç§°å…¶ä¸º NER æ ‡æ³¨ç¥å™¨<br/> 2ã€åº”è¯¥å¯ä»¥å¤šäººååŒã€å¦‚æœæœ‰åŒå­¦æå®šå¤šäººååŒæ ‡æ³¨ï¼Œå¯ä»¥å†™ä¸€ç¯‡åšå®¢æ•™ç¨‹ï¼Œå°†åšå®¢é“¾æ¥æ”¾åœ¨è¯„è®ºåŒº<br/> 3ã€BiLSTM + CRF NER ä»»åŠ¡å¯ä»¥å‚è€ƒï¼š<a href=\"https://blog.csdn.net/qq_44193969/article/details/116008734\">https://blog.csdn.net/qq_44193969/article/details/116008734</a>-æ–‡ç« å†™çš„æœ‰ç‚¹æ½¦è‰ï¼Œä»£ç å¯ä»¥è·‘é€šï¼Œåç»­æœ‰ç©ºä¼šé‡æ–°ç¼–è¾‘ä¸€ä¸‹ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å°†å°±ç€çœ‹å§å“ˆå“ˆ</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}