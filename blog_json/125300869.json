{"blogid": "125300869", "writerAge": "码龄14年", "writerBlogNum": "85", "writerCollect": "301", "writerComment": "39", "writerFan": "56", "writerGrade": "5级", "writerIntegral": "3191", "writerName": "一起玩编程", "writerProfileAdress": "writer_image\\profile_125300869.jpg", "writerRankTotal": "15418", "writerRankWeekly": "88081", "writerThumb": "80", "writerVisitNum": "545476", "blog_read_count": "2150", "blog_time": "已于 2022-06-15 17:18:53 修改", "blog_title": "docker安装mysql8", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p><a href=\"https://hub.docker.com/_/mysql/\" title=\"Docker Hub\">Docker Hub</a></p>\n<p>Docker基本命令及获取mysql镜像请参考：<a href=\"http://blog.csdn.net/xiaolyuh123/article/details/72528860\" title=\"Docker 入门教程_xiaolyuh123的博客-CSDN博客\">Docker 入门教程_xiaolyuh123的博客-CSDN博客</a></p>\n<h1>启动mysql实例</h1>\n<pre><code class=\"language-bash\">docker run --name some-mysql -p 33261:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:tag --lower_case_table_names=1</code></pre>\n<ul><li>some-mysql： 容器别名</li><li>-e MYSQL_ROOT_PASSWORD=123456：初始化设置的root用户的密码为123456</li><li>--lower_case_table_names=1：启动时就指定大小写不敏感</li><li>tag：mysql的版本，不写默认使用最新版</li><li>-p 33261:3306：表示在这个容器中使用3306端口(第二个)映射到本机的端口号也为33261(第一个)</li><li>-d：表示detached，意味着执行完这句命令后控制台将不会被阻碍，可继续输入命令操作；</li></ul>\n<p>docker run -d -p [本机端口]:[docker服务器端口] --name container-name image-name</p>\n<p>--name参数：是为容器取得名称；</p>\n<p>-d：表示detached，意味着执行完这句命令后控制台将不会被阻碍，可继续输入命令操作；</p>\n<p>image-name：是要使用哪个镜像来运行容器。</p>\n<p>-p：端口映射</p>\n<p>本机端口，即对外暴露的端口</p>\n<p>docker服务器端口， 各各应用占用的端口，比如redis占用6379</p>\n<p></p>\n<h1>停止已启动的容器</h1>\n<p>docker stop container-name</p>\n<h1>启动已停止的容器</h1>\n<p>#不要再docker run，否则报错：The container name \"/mysql8\" is already in use by container</p>\n<p>docker start container-name</p>\n<p></p>\n<h1>解决Mysql8密码验证方式</h1>\n<p>mysql 8.0 默认使用 caching_sha2_password 身份验证机制 —— 从原来的 mysql_native_password 更改为 caching_sha2_password。</p>\n<p>从 5.7 升级 8.0 版本的不会改变现有用户的身份验证方法，但新用户会默认使用新的 caching_sha2_password 。</p>\n<p>客户端不支持新的加密方式。</p>\n<p> 先登录Mysql</p>\n<p>mysql-&gt;输入</p>\n<pre><code class=\"language-sql\">ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '123456';\n\nflush privileges;</code></pre>\n<p></p>\n</div>\n</div>"}