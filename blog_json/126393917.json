{"blogid": "126393917", "writerAge": "ç é¾„3å¹´", "writerBlogNum": "35", "writerCollect": "886", "writerComment": "994", "writerFan": "1065", "writerGrade": "5çº§", "writerIntegral": "2992", "writerName": "ä¸è®¸ä»£ç ç ä¸Šçº¢", "writerProfileAdress": "writer_image\\profile_126393917.jpg", "writerRankTotal": "6064", "writerRankWeekly": "2438", "writerThumb": "988", "writerVisitNum": "39782", "blog_read_count": "224", "blog_time": "äºÂ 2022-08-17 22:11:11Â å‘å¸ƒ", "blog_title": "ã€Pythonã€‘å›¾ç‰‡å¤„ç†", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\c509ae840ab0413ebf827aba17c83ffe.png\"/></p>\n<blockquote>\n<p><strong>åšä¸»</strong>ï¼šğŸ‘<a href=\"https://blog.csdn.net/qq_45801904?spm=1010.2135.3001.5421\">ä¸è®¸ä»£ç ç ä¸Šçº¢</a><br/> <strong>æ¯æ—¥ä¸€è¯—å¥</strong>ï¼š<br/> ğŸ•Šï¸<br/> èŠ±å¼€èŠ±è½èŠ±ç¿©ç¿©ï¼Œ<br/> å®šæ ¼ç¾ä¸½äºç…§ç‰‡ã€‚<br/> ç…§ç‰‡å¼ å¼ å„ä¸åŒï¼Œ<br/> åŒå¼ ç…§ç‰‡ä¸åŒç°ã€‚<br/> <strong>æ¬¢è¿</strong>ï¼šğŸ‹ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€è¯„è®ºã€‚</p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><ul><li><a href=\"#PILPyCharm_18\">ä¸€ã€PILä»‹ç»ä¸å®‰è£…ï¼ˆPyCharmï¼‰</a></li><li><ul><li><a href=\"#11PIL_20\">1.1ã€PILç®€ä»‹</a></li><li><a href=\"#12PillowPyCharm_32\">1.2ã€Pillowå®‰è£…ï¼ˆPyCharmï¼‰</a></li></ul>\n</li><li><a href=\"#_40\">äºŒã€è·å–å›¾ç‰‡å±æ€§</a></li><li><ul><li><a href=\"#21_42\">2.1ã€å›¾ç‰‡å°ºå¯¸</a></li><li><a href=\"#22_57\">2.2ã€å›¾ç‰‡æ ¼å¼</a></li><li><a href=\"#23_66\">2.3ã€æŸ¥çœ‹å›¾ç‰‡æ˜¯å¦ä¸ºåªè¯»</a></li><li><a href=\"#24_76\">2.4ã€æŸ¥çœ‹å›¾ç‰‡ä¿¡æ¯</a></li><li><a href=\"#25_87\">2.5ã€å›¾ç‰‡æ¨¡å¼</a></li></ul>\n</li><li><a href=\"#_98\">ä¸‰ã€å›¾ç‰‡çš„ç¼©æ”¾</a></li><li><ul><li><a href=\"#31_107\">3.1ã€æ”¹å˜å°ºå¯¸</a></li><li><a href=\"#32_124\">3.2ã€å±€éƒ¨æ”¾å¤§</a></li><li><a href=\"#33_144\">3.3ã€æ‰¹é‡ä¿®æ”¹</a></li></ul>\n</li><li><a href=\"#_169\">å››ã€å›¾ç‰‡çš„åˆ†ç¦»ä¸åˆå¹¶</a></li><li><ul><li><a href=\"#41split_173\">4.1ã€split</a></li><li><a href=\"#42merge_189\">4.2ã€merge</a></li></ul>\n</li><li><a href=\"#_199\">äº”ã€é¢œè‰²å¤„ç†</a></li><li><ul><li><a href=\"#51getrgb_210\">5.1ã€getrgb()</a></li><li><a href=\"#52getcolor_239\">5.2ã€getcolor()</a></li></ul>\n</li><li><a href=\"#_246\">å…­ã€æ·»åŠ æ°´å°</a></li><li><ul><li><a href=\"#61ImageDraw_248\">6.1ã€ImageDraw</a></li><li><a href=\"#62ImageFont_277\">6.2ã€ImageFont</a></li><li><a href=\"#63_307\">6.3ã€æ·»åŠ å›¾ç‰‡æ°´å°</a></li></ul>\n</li><li><a href=\"#ndarray_327\">ä¸ƒã€ndarrayæ•°ç»„</a></li><li><ul><li><a href=\"#71ndarray_330\">7.1ã€ndarrayæ•°ç»„åˆ›å»ºå›¾åƒ</a></li><li><a href=\"#72ndarray_349\">7.2ã€å›¾åƒè½¬åŒ–ä¸ºndarrayæ•°ç»„</a></li></ul>\n</li><li><a href=\"#PillowGIF_370\">å…«ã€Pillowç”ŸæˆGIFå›¾</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"PILPyCharm_18\"></a>ä¸€ã€PILä»‹ç»ä¸å®‰è£…ï¼ˆPyCharmï¼‰</h2>\n<h3><a id=\"11PIL_20\"></a>1.1ã€PILç®€ä»‹</h3>\n<p>â— <strong>PIL</strong>å…¨ç§° <mark>Python Imaging Library</mark>ï¼Œæ˜¯ Python å¹³å°ä¸€ä¸ªåŠŸèƒ½éå¸¸å¼ºå¤§è€Œä¸”ç®€å•æ˜“ç”¨çš„å›¾åƒå¤„ç†åº“ã€‚éšç€pythonå‘å±•ï¼Œå‡ºç°å…¼å®¹ Python 3 çš„ç‰ˆæœ¬ï¼Œåå­—å« Pillowï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®‰è£… Pillow æ¥ä½¿ç”¨ PILã€‚</p>\n<p>â— <strong>Pillow åº“</strong>æä¾›äº†éå¸¸ä¸°å¯Œçš„åŠŸèƒ½ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š<br/> 1ã€Pillow åº“èƒ½å¤Ÿå¾ˆè½»æ¾çš„è¯»å–å’Œä¿å­˜å„ç§æ ¼å¼çš„å›¾ç‰‡<br/> 2ã€Pillow åº“æä¾›äº†ç®€æ´æ˜“ç”¨çš„ API æ¥å£ï¼Œå¯ä»¥è®©æ‚¨è½»æ¾åœ°å®Œæˆè®¸å¤šå›¾åƒå¤„ç†ä»»åŠ¡<br/> 3ã€Pillow åº“èƒ½å¤Ÿé…åˆ GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ è½¯ä»¶åŒ… Tkinter ä¸€èµ·ä½¿ç”¨<br/> 4ã€Pillow åº“ä¸­çš„ Image å¯¹è±¡èƒ½å¤Ÿä¸ NumPy ndarray æ•°ç»„å®ç°ç›¸äº’è½¬æ¢</p>\n<h3><a id=\"12PillowPyCharm_32\"></a>1.2ã€Pillowå®‰è£…ï¼ˆPyCharmï¼‰</h3>\n<p>â— æ‰“å¼€Settings<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\355d8307e80445a885813ae1a59a29dd.png\"/><br/> æ‰¾åˆ°Python Interpreterï¼Œç‚¹å‡»+å·æœç´¢pillow</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\c1fd5b7d6c6e47b2b928a98fab275e55.png\"/><br/> é€‰æ‹©ç¬¬ä¸€ä¸ªç„¶åç‚¹å‡»ä¸‹é¢çš„å®‰è£…</p>\n<h2><a id=\"_40\"></a>äºŒã€è·å–å›¾ç‰‡å±æ€§</h2>\n<h3><a id=\"21_42\"></a>2.1ã€å›¾ç‰‡å°ºå¯¸</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#æ‰“å°imageå¯¹è±¡</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#æŸ¥çœ‹å°ºå¯¸</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å®½æ˜¯%sé«˜æ˜¯%s\"</span><span class=\"token operator\">%</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span>im<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#æˆ–è€…é€šè¿‡sizeæŸ¥çœ‹</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å›¾åƒçš„å¤§å°size:\"</span><span class=\"token punctuation\">,</span>im<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\649b05fdf76944faa8f5eca6237843a4.png\"/></p>\n<h3><a id=\"22_57\"></a>2.2ã€å›¾ç‰‡æ ¼å¼</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å›¾åƒçš„æ ¼å¼:\"</span><span class=\"token punctuation\">,</span>im<span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\6f620a03639340e1b7eae1e0e5da8d94.png\"/></p>\n<h3><a id=\"23_66\"></a>2.3ã€æŸ¥çœ‹å›¾ç‰‡æ˜¯å¦ä¸ºåªè¯»</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å›¾åƒæ˜¯å¦ä¸ºåªè¯»:\"</span><span class=\"token punctuation\">,</span>im<span class=\"token punctuation\">.</span>readonly<span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\9e9f51e23e6247f583735984cd8394e6.png\"/></p>\n<h3><a id=\"24_76\"></a>2.4ã€æŸ¥çœ‹å›¾ç‰‡ä¿¡æ¯</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åŒ…æ‹¬äº†æ¯è‹±å¯¸åƒç´ ç‚¹å¤§å°å’Œæˆªå›¾è½¯ä»¶ä¿¡æ¯</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å›¾åƒä¿¡æ¯:\"</span><span class=\"token punctuation\">,</span>im<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\2ba84722586846e39982927c6aebe047.png\"/></p>\n<h3><a id=\"25_87\"></a>2.5ã€å›¾ç‰‡æ¨¡å¼</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å›¾åƒæ¨¡å¼ä¿¡æ¯:\"</span><span class=\"token punctuation\">,</span>im<span class=\"token punctuation\">.</span>mode<span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\185745f63dc34afca301dc0793651e01.png\"/></p>\n<h2><a id=\"_98\"></a>ä¸‰ã€å›¾ç‰‡çš„ç¼©æ”¾</h2>\n<p>â— åœ¨å›¾åƒå¤„ç†è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°ç¼©å°æˆ–æ”¾å¤§å›¾åƒçš„æƒ…å†µï¼ŒImage ç±»æä¾›çš„ resize() æ–¹æ³•èƒ½å¤Ÿå®ç°ä»»æ„ç¼©å°å’Œæ”¾å¤§å›¾åƒã€‚</p>\n<p>â— resize() å‡½æ•°çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"prism language-python\">resize<span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">,</span> resample<span class=\"token operator\">=</span>image<span class=\"token punctuation\">.</span>BICUBIC<span class=\"token punctuation\">,</span> box<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> reducing_gap<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"31_107\"></a>3.1ã€æ”¹å˜å°ºå¯¸</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#æ”¾å¤§å›¾ç‰‡</span>\n    image<span class=\"token operator\">=</span>im<span class=\"token punctuation\">.</span>resize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">550</span><span class=\"token punctuation\">,</span><span class=\"token number\">260</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#å°†æ–°å›¾åƒä¿å­˜è‡³æ¡Œé¢</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"æ”¾å¤§å›¾åƒçš„å­™æ‚Ÿç©º.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŸ¥çœ‹æ–°å›¾åƒçš„å°ºå¯¸\"</span><span class=\"token punctuation\">,</span>image<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> IOError<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ”¾å¤§å›¾åƒå¤±è´¥\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\e2e14c86b74240e791d14d6f486a5ccd.png\"/></p>\n<h3><a id=\"32_124\"></a>3.2ã€å±€éƒ¨æ”¾å¤§</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#é€‰æ‹©æ”¾å¤§çš„å±€éƒ¨ä½ç½®ï¼Œå¹¶é€‰æ‹©å›¾ç‰‡é‡é‡‡æ ·æ–¹å¼</span>\n    <span class=\"token comment\"># boxå››å…ƒç»„æŒ‡çš„æ˜¯åƒç´ åæ ‡ (å·¦,ä¸Š,å³,ä¸‹)</span>\n    <span class=\"token comment\">#(0,0,120,180)ï¼Œè¡¨ç¤ºä»¥åŸå›¾çš„å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼Œé€‰æ‹©å®½å’Œé«˜åˆ†åˆ«æ˜¯(120,180)çš„å›¾åƒåŒºåŸŸ</span>\n    image<span class=\"token operator\">=</span>im<span class=\"token punctuation\">.</span>resize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">550</span><span class=\"token punctuation\">,</span><span class=\"token number\">260</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>resample<span class=\"token operator\">=</span>Image<span class=\"token punctuation\">.</span>LANCZOS<span class=\"token punctuation\">,</span>box<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">120</span><span class=\"token punctuation\">,</span><span class=\"token number\">180</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    image<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#ä¿å­˜</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"å±€éƒ¨æ”¾å¤§å›¾åƒå­™æ‚Ÿç©º.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æŸ¥çœ‹æ–°å›¾åƒçš„å°ºå¯¸\"</span><span class=\"token punctuation\">,</span>image<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> IOError<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ”¾å¤§å¤±è´¥\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\1f99b642c56b4abab8e0884cad9d2e82.png\"/></p>\n<h3><a id=\"33_144\"></a>3.3ã€æ‰¹é‡ä¿®æ”¹</h3>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># æ‰¹é‡ä¿®æ”¹å›¾ç‰‡å°ºå¯¸</span>\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token comment\">#è¯»å–å›¾ç‰‡ç›®å½•</span>\nfileName <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>listdir<span class=\"token punctuation\">(</span><span class=\"token string\">'./images'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#è®¾å®šå°ºå¯¸</span>\nwidth <span class=\"token operator\">=</span> <span class=\"token number\">350</span>\nheight <span class=\"token operator\">=</span> <span class=\"token number\">350</span>\n<span class=\"token comment\"># å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºç›®å½•</span>\n<span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span><span class=\"token string\">'./images2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    os<span class=\"token punctuation\">.</span>mkdir<span class=\"token punctuation\">(</span><span class=\"token string\">'./images2'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å¾ªç¯è¯»å–æ¯ä¸€å¼ å›¾ç‰‡</span>\n<span class=\"token keyword\">for</span> img <span class=\"token keyword\">in</span> fileName<span class=\"token punctuation\">:</span>\n    old_pic <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./images/'</span> <span class=\"token operator\">+</span> img<span class=\"token punctuation\">)</span>\n    new_image <span class=\"token operator\">=</span> old_pic<span class=\"token punctuation\">.</span>resize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>BILINEAR<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span>new_image<span class=\"token punctuation\">)</span>\n    new_image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'./images/'</span><span class=\"token operator\">+</span>img<span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\48376a7d294e448aa01861654a3463d2.png\"/></p>\n<h2><a id=\"_169\"></a>å››ã€å›¾ç‰‡çš„åˆ†ç¦»ä¸åˆå¹¶</h2>\n<p>â— Image ç±»æä¾›äº†ç”¨äºåˆ†ç¦»å›¾åƒå’Œåˆå¹¶å›¾åƒçš„æ–¹æ³• split() å’Œ merge() æ–¹æ³•ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šä¸€èµ·ä½¿ç”¨ã€‚</p>\n<h3><a id=\"41split_173\"></a>4.1ã€split</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span>  Image\n\nim<span class=\"token operator\">=</span>Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#ä¿®æ”¹å›¾åƒå¤§å°ï¼Œä»¥é€‚åº”å›¾åƒå¤„ç†</span>\nimage<span class=\"token operator\">=</span>im<span class=\"token punctuation\">.</span>resize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">450</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nimage<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"./images\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#åˆ†ç¦»é¢œè‰²é€šé“ï¼Œäº§ç”Ÿä¸‰ä¸ª Imageå¯¹è±¡</span>\nr<span class=\"token punctuation\">,</span>g<span class=\"token punctuation\">,</span>b <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nr<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ng<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nb<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"42merge_189\"></a>4.2ã€merge</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'å­™æ‚Ÿç©º.jpg'</span><span class=\"token punctuation\">)</span>\nr<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">,</span> b <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nom <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>merge<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGB\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nom<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'å­™æ‚Ÿç©ºBGR.jpg'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"_199\"></a>äº”ã€é¢œè‰²å¤„ç†</h2>\n<p>â— <strong>Pillow</strong> æä¾›äº†é¢œè‰²å¤„ç†æ¨¡å— ImageColorï¼Œè¯¥æ¨¡å—æ”¯æŒä¸åŒæ ¼å¼çš„é¢œè‰²ã€‚</p>\n<p>â— <strong>ImageColor</strong> æ”¯æŒå¤šç§é¢œè‰²æ¨¡å¼çš„çš„å‘½åï¼ˆå³ä½¿ç”¨å›ºå®šçš„æ ¼å¼å¯¹é¢œå€¼è¿›è¡Œè¡¨ç¤ºï¼‰ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„ RGB è‰²å½©æ¨¡å¼ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ HSL ï¼ˆè‰²è°ƒ-é¥±å’Œåº¦-æ˜åº¦ï¼‰ã€HSB ï¼ˆåˆç§° HSVï¼Œè‰²è°ƒ-é¥±å’Œåº¦-äº®åº¦ï¼‰è‰²å½©æ¨¡å¼ã€‚<br/> â— ä¸‹é¢å¯¹ HSL åšç®€å•ä»‹ç»ï¼š<br/> <strong>H</strong>ï¼šå³ Hue è‰²è°ƒï¼Œå–å€¼èŒƒå›´ 0 -360ï¼Œå…¶ä¸­ 0 è¡¨ç¤ºâ€œredâ€ï¼Œ120 è¡¨ç¤º â€œgreenâ€ï¼Œ240 è¡¨ç¤ºâ€œblueâ€ï¼›<br/> <strong>S</strong>ï¼šå³ Saturation é¥±å’Œåº¦ï¼Œä»£è¡¨è‰²å½©çš„çº¯åº¦ï¼Œå–å€¼ 0~100%ï¼Œå…¶ä¸­ 0 ä»£è¡¨ç°è‰²ï¼ˆgryï¼‰ï¼Œ100% è¡¨ç¤ºè‰²å…‰æœ€é¥±å’Œï¼›<br/> <strong>L</strong>ï¼šå³ Lightness æ˜åº¦ï¼Œå–å€¼ä¸º 0~100%ï¼Œå…¶ä¸­ 0 è¡¨ç¤ºâ€œblackâ€é»‘è‰²ï¼Œ50% è¡¨ç¤ºæ­£å¸¸é¢œè‰²ï¼Œ100% åˆ™è¡¨ç¤ºç™½è‰²ã€‚</p>\n<p><strong>ImageColor æ¨¡å—æ¯”è¾ƒç®€å•ï¼Œåªæä¾›äº†ä¸¤ä¸ªå¸¸ç”¨æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ getrgb() å’Œ getcolor() å‡½æ•°ã€‚</strong></p>\n<h3><a id=\"51getrgb_210\"></a>5.1ã€getrgb()</h3>\n<p>é¡¾åæ€ä¹‰ï¼Œè¯¥å‡½æ•°ç”¨æ¥å¾—åˆ°é¢œè‰²çš„ RGB å€¼ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"prism language-python\">PIL<span class=\"token punctuation\">.</span>ImageColor<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span>ImageColor\n<span class=\"token comment\"># getrgb()æ–¹æ³•</span>\ncolor1<span class=\"token operator\">=</span>ImageColor<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>color1<span class=\"token punctuation\">)</span>\ncolor2<span class=\"token operator\">=</span>ImageColor<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">'#DCDCDC'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>color2<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#ä½¿ç”¨HSLæ¨¡å¼çº¢è‰²</span>\ncolor3<span class=\"token operator\">=</span>ImageColor<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">'HSL(0,100%,50%)'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>color3<span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-python\">im<span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGB\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ImageColor<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"#EEB4B4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nim<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"æ–°å»ºå›¾ç‰‡.jpg\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\a886484931c7464c9569a7c7dc7f7f53.png\"/></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\bd6c5e7740f64665a3148598f4fcd7fb.png\"/></p>\n<h3><a id=\"52getcolor_239\"></a>5.2ã€getcolor()</h3>\n<p>â— è¯¥æ–¹æ³•ä¸ getrgb() ç±»ä¼¼ï¼ŒåŒæ ·ç”¨æ¥è·å–é¢œè‰²å€¼ï¼Œä¸è¿‡å®ƒå¤šäº†ä¸€ä¸ªmodeå‚æ•°ï¼Œå› æ­¤è¯¥å‡½æ•°å¯ä»¥è·å–æŒ‡å®šè‰²å½©æ¨¡å¼çš„é¢œè‰²å€¼ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"prism language-python\">PIL<span class=\"token punctuation\">.</span>ImageColor<span class=\"token punctuation\">.</span>getcolor<span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">,</span> mode<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"_246\"></a>å…­ã€æ·»åŠ æ°´å°</h2>\n<h3><a id=\"61ImageDraw_248\"></a>6.1ã€ImageDraw</h3>\n<p>â— PIL.ImageDraw æ¨¡å—æä¾›äº†ä¸€ç³»åˆ—çš„ç»˜å›¾æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ¨¡å—å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾å½¢ï¼Œæˆ–è€…åœ¨ç°æœ‰çš„å›¾åƒä¸Šå†ç»˜åˆ¶ä¸€ä¸ªå›¾å½¢ï¼Œä»è€Œèµ·åˆ°å¯¹åŸå›¾æ³¨é‡Šå’Œä¿®é¥°çš„ä½œç”¨ã€‚<br/> â— æ ¼å¼ï¼š</p>\n<pre><code class=\"prism language-python\">draw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">)</span>\ndraw<span class=\"token punctuation\">.</span>rectangle<span class=\"token punctuation\">(</span>xy<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> outline<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>â— è¯´æ˜ï¼š<br/> 1ã€xyï¼šå…ƒç»„å‚æ•°å€¼ï¼Œä»¥å›¾åƒçš„å·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹ï¼Œè¡¨ç¤ºçŸ©å½¢å›¾çš„ä½ç½®ã€å›¾å½¢å¤§å°çš„åæ ‡åºåˆ—ï¼Œå½¢å¦‚ ((x1,y1,x2,y2))ï¼›<br/> 2ã€fillï¼šçŸ©å½¢å›¾çš„èƒŒæ™¯å¡«å……è‰²ï¼›<br/> 3ã€outlineï¼šçŸ©å½¢å›¾çš„è¾¹æ¡†çº¿æ¡é¢œè‰²ã€‚</p>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span>ImageDraw\n<span class=\"token comment\">#åˆ›å»º Image å¯¹è±¡ï¼Œå½“åšèƒŒæ™¯å›¾</span>\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">'RGB'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>color<span class=\"token operator\">=</span><span class=\"token string\">'gray'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#åˆ›å»º ImageDraw å¯¹è±¡</span>\ndraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#ä»¥å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼Œç»˜åˆ¶çŸ©å½¢ã€‚å…ƒç»„åæ ‡åºåˆ—è¡¨ç¤ºçŸ©å½¢çš„ä½ç½®ã€å¤§å°ï¼›fillè®¾ç½®å¡«å……è‰²ä¸ºçº¢è‰²ï¼Œoutlineè®¾ç½®è¾¹æ¡†çº¿ä¸ºé»‘è‰²</span>\ndraw<span class=\"token punctuation\">.</span>rectangle<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">150</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>fill<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>outline<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#æŸ¥çœ‹åŸå›¾ç‰‡</span>\nim<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#ä¿å­˜å›¾ç‰‡</span>\nim<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"æ·»åŠ çŸ©å½¢å›¾.png\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\d90e9bd4834f4519821601f9c0842d02.png\"/></p>\n<h3><a id=\"62ImageFont_277\"></a>6.2ã€ImageFont</h3>\n<p>â— PIL.ImagreFont æ¨¡å—é€šè¿‡åŠ è½½ä¸åŒæ ¼å¼çš„å­—ä½“æ–‡ä»¶ï¼Œä»è€Œåœ¨å›¾åƒä¸Šç»˜åˆ¶å‡ºä¸åŒç±»å‹çš„æ–‡å­—ï¼Œæ¯”å¦‚ TrueType å’Œ OpenType ç±»å‹çš„å­—ä½“ã€‚<br/> â— æ ¼å¼ï¼š</p>\n<pre><code class=\"prism language-python\">font <span class=\"token operator\">=</span> ImageFont<span class=\"token punctuation\">.</span>truetype<span class=\"token punctuation\">(</span>font<span class=\"token operator\">=</span><span class=\"token string\">'å­—ä½“æ–‡ä»¶è·¯å¾„'</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span>å­—ä½“å¤§å°<span class=\"token punctuation\">)</span>\nd<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span> font<span class=\"token punctuation\">,</span> fill<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>1ã€(x,y)ï¼šå›¾åƒå·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹ï¼Œ(x,y) è¡¨ç¤ºæ·»åŠ æ–‡æœ¬çš„èµ·å§‹åæ ‡ä½ç½®ï¼›<br/> 2ã€textï¼šå­—ç¬¦ä¸²æ ¼å¼ï¼Œè¦æ·»åŠ çš„æ–‡æœ¬å†…å®¹ï¼›<br/> 3ã€fontï¼šImageFont å¯¹è±¡ï¼›<br/> 4ã€fillï¼šæ–‡æœ¬å¡«å……é¢œè‰²ã€‚</p>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span>ImageFont<span class=\"token punctuation\">,</span>ImageDraw\n<span class=\"token comment\">#æ‰“å¼€å›¾ç‰‡ï¼Œè¿”å› Imageå¯¹è±¡</span>\nim <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#åˆ›å»ºç”»å¸ƒå¯¹è±¡</span>\ndraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#åŠ è½½è®¡ç®—æœºæœ¬åœ°å­—ä½“æ–‡ä»¶</span>\nfont<span class=\"token operator\">=</span>ImageFont<span class=\"token punctuation\">.</span>truetype<span class=\"token punctuation\">(</span><span class=\"token string\">'C:/Windows/Fonts/msyh.ttc'</span><span class=\"token punctuation\">,</span>size<span class=\"token operator\">=</span><span class=\"token number\">36</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#åœ¨åŸå›¾åƒä¸Šæ·»åŠ æ–‡æœ¬</span>\ndraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>xy<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>text<span class=\"token operator\">=</span><span class=\"token string\">'ä¸è®¸ä»£ç ç ä¸Šçº¢'</span><span class=\"token punctuation\">,</span>fill<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">)</span>\nim<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nim<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º222.jpg\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\22d92a3db56243c7a6f60d0799d1e337.png\"/></p>\n<h3><a id=\"63_307\"></a>6.3ã€æ·»åŠ å›¾ç‰‡æ°´å°</h3>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># æ‰“å¼€logoæ–‡ä»¶</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n\nlog_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'example3.jpg'</span><span class=\"token punctuation\">)</span>\nlog_image_w<span class=\"token punctuation\">,</span> log_image_h <span class=\"token operator\">=</span> log_image<span class=\"token punctuation\">.</span>size\n\n<span class=\"token comment\"># æ‰“å¼€ç›®æ ‡æ–‡ä»¶</span>\nret_image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'å­™æ‚Ÿç©º.jpg'</span><span class=\"token punctuation\">)</span>\nret_image_w<span class=\"token punctuation\">,</span> ret_image_h <span class=\"token operator\">=</span> ret_image<span class=\"token punctuation\">.</span>size\n\n<span class=\"token comment\"># ç²˜è´´ï¼š</span>\nimage_copy <span class=\"token operator\">=</span> ret_image<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nimage_copy<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>log_image<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>ret_image_w<span class=\"token operator\">-</span>log_image_w<span class=\"token punctuation\">,</span> ret_image_h<span class=\"token operator\">-</span>log_image_h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nimage_copy<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">'å­™æ‚Ÿç©º2log.jpg'</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h2><a id=\"ndarray_327\"></a>ä¸ƒã€ndarrayæ•°ç»„</h2>\n<p>â— ndarray æ˜¯ NumPy ä¸­çš„æ•°ç»„ç±»å‹ï¼Œä¹Ÿç§°ä¸º ndarray æ•°ç»„ï¼Œè¯¥æ•°ç»„å¯ä»¥ä¸ Pillow çš„ PIL.Image å¯¹è±¡å®ç°ç›¸äº’è½¬åŒ–ã€‚</p>\n<h3><a id=\"71ndarray_330\"></a>7.1ã€ndarrayæ•°ç»„åˆ›å»ºå›¾åƒ</h3>\n<pre><code class=\"prism language-python\"><span class=\"token comment\">#å¯¼å…¥ç›¸å…³çš„åŒ…</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token comment\">#ä½¿ç”¨numpyä¹‹å‰éœ€è¦æå‰å®‰è£…</span>\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token comment\">#åˆ›å»º 300*400çš„å›¾åƒï¼Œ3ä¸ªé¢œè‰²é€šé“</span>\narray <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>dtype<span class=\"token operator\">=</span>np<span class=\"token punctuation\">.</span>uint8<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#rgbè‰²å½©æ¨¡å¼</span>\narray<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">:</span><span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\narray<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\nimg <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>fromarray<span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span>\nimg<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nimg<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"æ•°ç»„ç”Ÿæˆå›¾åƒ.png\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\4167f0934a304b3b9e9164b903a8da9d.png\"/></p>\n<h3><a id=\"72ndarray_349\"></a>7.2ã€å›¾åƒè½¬åŒ–ä¸ºndarrayæ•°ç»„</h3>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\nimg <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\nimg<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#Imageå›¾åƒè½¬æ¢ä¸ºndarrayæ•°ç»„</span>\nimg_2 <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>img_2<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#ndarrayè½¬æ¢ä¸ºImageå›¾åƒ</span>\narr_img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>fromarray<span class=\"token punctuation\">(</span>img_2<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#æ˜¾ç¤ºå›¾ç‰‡</span>\narr_img<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#ä¿å­˜å›¾ç‰‡</span>\narr_img<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"arrå­™æ‚Ÿç©º.jpg\"</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\0b23dabd05a34ada9ac0ee100beeb17d.png\"/></p>\n<h2><a id=\"PillowGIF_370\"></a>å…«ã€Pillowç”ŸæˆGIFå›¾</h2>\n<p>â— GIFï¼ˆGraphics Interchange Formatï¼Œå›¾å½¢äº¤æ¢æ ¼å¼ï¼‰æ˜¯ä¸€ç§â€œä½å›¾â€å›¾åƒæ ¼å¼ï¼Œå®ƒä»¥.gifä½œä¸ºå›¾åƒçš„æ‰©å±•åã€‚<br/> â— GIF å›¾ç‰‡éå¸¸é€‚åˆåœ¨äº’è”ç½‘ä¸­ä½¿ç”¨ï¼Œè¿™æ˜¯å› ä¸ºå®ƒé‡‡ç”¨äº†å›¾åƒé¢„å‹ç¼©æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯çš„åº”ç”¨ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†å›¾åƒä¼ æ’­ã€åŠ è½½æ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚<br/> â— ä¸å…¶ä»–æ ¼å¼çš„å›¾ç‰‡ç›¸æ¯”ï¼ŒGIF è¿˜æœ‰ä¸€é¡¹éå¸¸é‡è¦çš„åº”ç”¨ï¼Œé‚£å°±æ˜¯ç”ŸæˆåŠ¨æ€å›¾ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒPillow èƒ½å¤Ÿå¤„ç†å¤šç§å›¾åƒæ ¼å¼ï¼ŒåŒ…æ‹¬ GIF æ ¼å¼ï¼Œå®ƒå¯ä»¥å°†é™æ€æ ¼å¼å›¾ç‰‡ï¼ˆpngã€jpgï¼‰åˆæˆä¸º GIF åŠ¨æ€å›¾ã€‚</p>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> random\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image\n<span class=\"token keyword\">def</span> <span class=\"token function\">png_to_gif</span><span class=\"token punctuation\">(</span>png_path<span class=\"token punctuation\">,</span>gif_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"pngåˆæˆgifå›¾åƒ\"\"\"</span>\n    frames <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># è¿”å›æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰é™æ€å›¾çš„åˆ—è¡¨</span>\n    png_files <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>listdir<span class=\"token punctuation\">(</span>png_path<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># æ‰“å°è¿”å›çš„åˆ—è¡¨</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>png_files<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># è¯»å–æ–‡ä»¶å†…çš„é™æ€å›¾</span>\n    <span class=\"token keyword\">for</span> frame_id <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>png_files<span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        frame <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>png_path<span class=\"token punctuation\">,</span><span class=\"token string\">'image%d.png'</span><span class=\"token operator\">%</span>frame_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        frames<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># ä»¥ç¬¬ä¸€å¼ å›¾ç‰‡ä½œä¸ºå¼€å§‹ï¼Œå°†åç»­5å¼ å›¾ç‰‡åˆå¹¶æˆ gif åŠ¨æ€å›¾</span>\n    <span class=\"token comment\"># å‚æ•°è¯´æ˜ï¼š</span>\n    <span class=\"token comment\"># save_all ä¿å­˜å›¾åƒ;transparency è®¾ç½®é€æ˜èƒŒæ™¯è‰²;duration å•ä½æ¯«ç§’ï¼ŒåŠ¨ç”»æŒç»­æ—¶é—´ï¼Œ</span>\n    <span class=\"token comment\"># loop=0 æ— é™å¾ªç¯;disposal=2 æ¢å¤åŸèƒŒæ™¯é¢œè‰²ã€‚å‚æ•°è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚é˜…å®˜æ–¹æ–‡æ¡£ï¼Œç½‘å€è§æ–‡ç« æœ«å°¾å¤„ã€‚</span>\n    frames<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>gif_name<span class=\"token punctuation\">,</span>save_all<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>append_images<span class=\"token operator\">=</span>frames<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>transparency<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>duration<span class=\"token operator\">=</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span>loop<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>disposal<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#è°ƒç”¨å‡½æ•°ï¼Œä¼ å…¥å¯¹åº”çš„å‚æ•°</span>\npng_to_gif<span class=\"token punctuation\">(</span><span class=\"token string\">\"./image\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">'t.gif'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>ğŸ‘å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«åˆ°è¿™é‡Œï¼Œå¸Œæœ›å¤§å®¶ä¸€èµ·è¿›æ­¥â€¦</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}