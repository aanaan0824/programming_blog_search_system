{"blogid": "125692784", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "100", "writerCollect": "2641", "writerComment": "2945", "writerFan": "13208", "writerGrade": "6çº§", "writerIntegral": "8318", "writerName": "æˆ‘æ˜¯ä¸€æ£µå·å¿ƒèœ", "writerProfileAdress": "writer_image\\profile_125692784.jpg", "writerRankTotal": "1646", "writerRankWeekly": "1135", "writerThumb": "2938", "writerVisitNum": "143756", "blog_read_count": "3284", "blog_time": "å·²äºÂ 2022-07-25 06:44:46Â ä¿®æ”¹", "blog_title": "å¦‚ä½•ç”¨SpringBootæ•´åˆRedisï¼ˆè¯¦ç»†è®²è§£~ï¼‰", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<hr/>\n<p><code>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å·å¿ƒèœã€‚æœ¬ç¯‡ä¸»è¦è®²è§£ç”¨SpringBootæ•´åˆRedisï¼Œå¦‚æœæ‚¨çœ‹å®Œæ–‡ç« æœ‰æ‰€æ”¶è·ï¼Œå¯ä»¥ä¸‰è¿æ”¯æŒåšä¸»å“¦~ï¼Œå˜»å˜»ã€‚</code></p>\n<hr/>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_11\">ä¸€ã€å‰è¨€</a></li><li><a href=\"#_19\">äºŒã€åŸºæœ¬ä»‹ç»</a></li><li><a href=\"#SpringDataRedis_23\">ä¸‰ã€SpringDataRedis</a></li><li><a href=\"#API_26\">å››ã€APIçš„ç®€å•è®¤è¯†</a></li><li><a href=\"#_29\">äº”ã€å¿«é€Ÿå…¥é—¨</a></li><li><ul><li><a href=\"#1_31\">1ã€å¼•å…¥ä¾èµ–</a></li><li><a href=\"#2_42\">2ã€é…ç½®æ–‡ä»¶</a></li><li><a href=\"#3_67\">3ã€ä»£ç å®è·µ</a></li></ul>\n</li><li><a href=\"#_84\">å…­ã€è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹å¼</a></li><li><ul><li><a href=\"#1JSON_86\">1ã€JSONåºåˆ—åŒ–å™¨</a></li><li><a href=\"#2String_124\">2ã€Stringåºåˆ—åŒ–å™¨</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h1><a id=\"_11\"></a>ä¸€ã€å‰è¨€</h1>\n<blockquote>\n<p>ğŸ<font color=\"#ffaa\" size=\"3px\">ä½œè€…ç®€ä»‹ï¼š</font>åœ¨æ ¡å¤§å­¦ç”Ÿä¸€æšï¼ŒJavaé¢†åŸŸæ–°æ˜Ÿåˆ›ä½œè€…ï¼ŒJavaã€Pythonæ­£åœ¨å­¦ä¹ ä¸­ï¼ŒæœŸå¾…å’Œå¤§å®¶ä¸€èµ·å­¦ä¹ ä¸€èµ·è¿›æ­¥~<br/> ğŸ’—<font color=\"ffyy\" size=\"3px\">ä¸ªäººä¸»é¡µï¼š<a href=\"https://cabbage.blog.csdn.net/\">æˆ‘æ˜¯ä¸€æ£µå·å¿ƒèœçš„ä¸ªäººä¸»é¡µ</a></font><br/> ğŸ”¶<font color=\"#ffaa\" size=\"3px\">æœ¬æ–‡ä¸“æ ï¼š<a href=\"https://blog.csdn.net/weixin_59654772/category_11578357.html?spm=1001.2014.3001.5482\">Redisç†è®ºå’Œå®æˆ˜</a></font><br/> ğŸ“•<font color=\"ff00\" size=\"3px\">è‡ªæˆ‘æé†’ï¼š</font>å¤šå­¦å¤šç»ƒå¤šæ€è€ƒï¼Œç¼–ç¨‹èƒ½åŠ›æ‰èƒ½èŠ‚èŠ‚é«˜ï¼</p>\n</blockquote>\n<ul><li>ä¸Šä¸€ç¯‡æ–‡ç« è®²è§£äº†ç”¨Jedisæ¥æ“ä½œRedisæ•°æ®åº“ï¼Œä»Šå¤©å°±æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨springbootè¿™ä¸ªæŠ€æœ¯æ¡†æ¶æ¥æ•´åˆredisï¼</li></ul>\n<h1><a id=\"_19\"></a>äºŒã€åŸºæœ¬ä»‹ç»</h1>\n<ul><li>springbootåœ¨ç°åœ¨çš„ç‰ˆæœ¬ä¸­æ“ä½œRedisæ•°æ®åº“ç”¨åˆ°äº†lettuceï¼Œè€Œä¸æ˜¯Jedisï¼Œä»–ä»¬å„æœ‰å„çš„ç‰¹ç‚¹ã€‚</li><li>Jedisä»¥Rediså‘½ä»¤ä½œä¸ºæ–¹æ³•åç§°ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œç®€å•å®ç”¨ã€‚ä½†æ˜¯Jediså®ä¾‹æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦åŸºäºè¿æ¥æ± æ¥ä½¿ç”¨ã€‚</li><li>Lettuceæ˜¯åŸºäºNettyå®ç°çš„ï¼Œæ”¯æŒåŒæ­¥ã€å¼‚æ­¥å’Œå“åº”å¼ç¼–ç¨‹æ–¹å¼ï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚æ”¯æŒRedisçš„å“¨å…µæ¨¡å¼ã€é›†ç¾¤æ¨¡å¼å’Œç®¡é“æ¨¡å¼ã€‚</li></ul>\n<h1><a id=\"SpringDataRedis_23\"></a>ä¸‰ã€SpringDataRedis</h1>\n<ul><li>åœ¨å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£äº†è§£SpringDataRedisã€‚å®ƒæ˜¯Springä¸­æ•°æ®æ“ä½œçš„æ¨¡å—ï¼ŒåŒ…å«å¯¹å„ç§æ•°æ®åº“çš„é›†æˆï¼Œå…¶ä¸­å¯¹Redisçš„é›†æˆæ¨¡å—å°±å«åšSpringDataRedisã€‚</li><li>å®ƒæä¾›äº†RedisTemplateç»Ÿä¸€APIæ¥æ“ä½œRedisã€æ”¯æŒRedisçš„<code>å‘å¸ƒè®¢é˜…æ¨¡å‹</code>ã€æ”¯æŒRedis<code>å“¨å…µå’ŒRedisé›†ç¾¤</code>ã€æ”¯æŒåŸºäº<code>JDK</code>ã€<code>JSON</code>ã€<code>å­—ç¬¦ä¸²</code>ã€Spring<code>å¯¹è±¡çš„æ•°æ®åºåˆ—åŒ–åŠååºåˆ—åŒ–</code>ç­‰ç­‰ï¼ŒåŠŸèƒ½éå¸¸çš„å¤šã€‚</li></ul>\n<h1><a id=\"API_26\"></a>å››ã€APIçš„ç®€å•è®¤è¯†</h1>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\af0600c3d67d4f1aa515367036ad82bf.png\"/></p>\n<h1><a id=\"_29\"></a>äº”ã€å¿«é€Ÿå…¥é—¨</h1>\n<h2><a id=\"1_31\"></a>1ã€å¼•å…¥ä¾èµ–</h2>\n<pre><code class=\"prism language-xml\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>org.springframework.boot<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>spring-boot-starter-data-redis<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>org.apache.commons<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>commons-pool2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span> \n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<h2><a id=\"2_42\"></a>2ã€é…ç½®æ–‡ä»¶</h2>\n<pre><code class=\"prism language-yml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">redis</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># RedisæœåŠ¡å™¨åœ°å€</span>\n    <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> 19.1.5.11\n    <span class=\"token comment\"># RedisæœåŠ¡å™¨ç«¯å£å·</span>\n    <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6379</span>\n    <span class=\"token comment\"># ä½¿ç”¨çš„æ•°æ®åº“ç´¢å¼•ï¼Œé»˜è®¤æ˜¯0</span>\n    <span class=\"token key atrule\">database</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token comment\"># è¿æ¥è¶…æ—¶æ—¶é—´</span>\n    <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1800000</span>\n     <span class=\"token comment\"># è®¾ç½®å¯†ç </span>\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"123456\"</span>\n    <span class=\"token key atrule\">lettuce</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">pool</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼Œè´Ÿæ•°è¡¨ç¤ºæ²¡æœ‰é™åˆ¶</span>\n        <span class=\"token key atrule\">max-wait</span><span class=\"token punctuation\">:</span> <span class=\"token number\">-1</span>\n        <span class=\"token comment\"># è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span>\n        <span class=\"token key atrule\">max-idle</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n        <span class=\"token comment\"># è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span>\n        <span class=\"token key atrule\">min-idle</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n        <span class=\"token comment\"># è¿æ¥æ± ä¸­æœ€å¤§è¿æ¥æ•°ï¼Œè´Ÿæ•°è¡¨ç¤ºæ²¡æœ‰é™åˆ¶</span>\n        <span class=\"token key atrule\">max-active</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>\n</code></pre>\n<h2><a id=\"3_67\"></a>3ã€ä»£ç å®è·µ</h2>\n<pre><code class=\"prism language-java\">    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">testOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å·å¿ƒèœ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> name <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//å·å¿ƒèœ</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<p><font color=\"#ff00\">é—®é¢˜å‡ºç°äº†ï¼š</font>å½“æˆ‘ä»¬ä½¿ç”¨Rediså®¢æˆ·ç«¯æŸ¥çœ‹åˆšåˆšå­˜å…¥Redisæ•°æ®åº“çš„æ•°æ®æ—¶ï¼Œç»“æœæ˜¯è¿™æ ·çš„ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\bc88990f108d4bf29ffdbd7dc783f8a5.png\"/></p>\n<p>æ˜¯å› ä¸ºåœ¨ä½¿ç”¨é»˜è®¤çš„å¯¹è±¡<code>redisTemplate</code>æ—¶ï¼Œä¼šæŠŠvalueå€¼åºåˆ—åŒ–ä¸ºbyteç±»å‹ï¼Œæ‰€ä»¥å°±å‡ºç°äº†ä¸Šå›¾çš„ç»“æœã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\810bfad2b1bd48d8abc4fb56ca7382a9.png\"/></p>\n<h1><a id=\"_84\"></a>å…­ã€è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹å¼</h1>\n<h2><a id=\"1JSON_86\"></a>1ã€JSONåºåˆ—åŒ–å™¨</h2>\n<p>é¦–å…ˆè¦ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼š</p>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RedisConfig</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">redisTemplate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisConnectionFactory</span> redisConnectionFactory<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">throws</span> <span class=\"token class-name\">UnknownHostException</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">// åˆ›å»ºæ¨¡æ¿</span>\n        <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">&gt;</span></span> redisTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RedisTemplate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// è®¾ç½®è¿æ¥å·¥å‚</span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setConnectionFactory</span><span class=\"token punctuation\">(</span>redisConnectionFactory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// è®¾ç½®åºåˆ—åŒ–å·¥å…·</span>\n        <span class=\"token class-name\">GenericJackson2JsonRedisSerializer</span> jsonRedisSerializer <span class=\"token operator\">=</span>\n                <span class=\"token keyword\">new</span> <span class=\"token class-name\">GenericJackson2JsonRedisSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// keyå’Œ hashKeyé‡‡ç”¨ stringåºåˆ—åŒ–</span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setKeySerializer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisSerializer</span><span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setHashKeySerializer</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RedisSerializer</span><span class=\"token punctuation\">.</span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// valueå’Œ hashValueé‡‡ç”¨ JSONåºåˆ—åŒ–</span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setValueSerializer</span><span class=\"token punctuation\">(</span>jsonRedisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setHashValueSerializer</span><span class=\"token punctuation\">(</span>jsonRedisSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> redisTemplate<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>å½“é…ç½®å¥½é…ç½®ç±»åï¼Œå†æ¬¡æ‰§è¡Œä¸Šæ–‡çš„ä»£ç å°±ä¸ä¼šå‡ºç°ä¸Šè¿°æƒ…å†µäº†ï¼Œä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œå½“æˆ‘ä»¬çš„keyæ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"prism language-java\">    <span class=\"token keyword\">void</span> <span class=\"token function\">testTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"person\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å·å¿ƒèœ\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\9a546dadc4a94f4a98812b9e90aea016.png\"/></p>\n<p><font color=\"#ff00\">é—®é¢˜æ˜¯ï¼š</font>ä¸ºäº†åœ¨ååºåˆ—åŒ–æ—¶çŸ¥é“å¯¹è±¡çš„ç±»å‹ï¼ŒJSONåºåˆ—åŒ–å™¨ä¼šå°†ç±»çš„classç±»å‹å†™å…¥jsonç»“æœä¸­ï¼Œå­˜å…¥Redisï¼Œä¼šå¸¦æ¥é¢å¤–çš„å†…å­˜å¼€é”€.</p>\n<h2><a id=\"2String_124\"></a>2ã€Stringåºåˆ—åŒ–å™¨</h2>\n<p>ä¸ºäº†èŠ‚çœå†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šä½¿ç”¨JSONåºåˆ—åŒ–å™¨æ¥å¤„ç†valueï¼Œè€Œæ˜¯ç»Ÿä¸€ä½¿ç”¨Stringåºåˆ—åŒ–å™¨ï¼Œè¦æ±‚åªèƒ½å­˜å‚¨Stringç±»å‹çš„keyå’Œvalueã€‚<code>å½“éœ€è¦å­˜å‚¨Javaå¯¹è±¡æ—¶ï¼Œæ‰‹åŠ¨å®Œæˆå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</code>ã€‚</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\0fc86ab86e5246f5abdf0060d19b47af.png\"/></p>\n<p>ä»£ç å®è·µï¼š</p>\n<pre><code class=\"prism language-java\">    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">StringRedisTemplate</span> redisTemplate<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// JSONå·¥å…·</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ObjectMapper</span> mapper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ObjectMapper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">testOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"å·å¿ƒèœ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">testTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">Person</span> person <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æˆ‘æ˜¯ä¸€æ£µå·å¿ƒèœ\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//  æ‰‹åŠ¨åºåˆ—åŒ–</span>\n        <span class=\"token class-name\">String</span> json <span class=\"token operator\">=</span> mapper<span class=\"token punctuation\">.</span><span class=\"token function\">writeValueAsString</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"person\"</span><span class=\"token punctuation\">,</span> json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> personJson <span class=\"token operator\">=</span> redisTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">opsForValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"person\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// ååºåˆ—åŒ–</span>\n        <span class=\"token class-name\">Person</span> person1 <span class=\"token operator\">=</span> mapper<span class=\"token punctuation\">.</span><span class=\"token function\">readValue</span><span class=\"token punctuation\">(</span>personJson<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>person1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<p>å½“æˆ‘ä»¬ä½¿ç”¨Stringåºåˆ—åŒ–å™¨æ—¶ï¼Œå°±å®Œç¾çš„è§£å†³äº†ç”¨Jsonåºåˆ—åŒ–å™¨çš„ç¼ºé™·ï¼Œè¿è¡Œç»“æœå¦‚å›¾æ‰€ç¤ºï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\203e8638d0d64ca5aab665d0d9f04dab.png\"/></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"image\\ae9f7020048e4027a218f211042a43f1.png\"/></p>\n<hr/>\n<p><code>æ„Ÿè°¢é˜…è¯»ï¼Œä¸€èµ·è¿›æ­¥ï¼Œå˜»å˜»~</code></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}