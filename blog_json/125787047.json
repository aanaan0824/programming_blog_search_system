{"blogid": "125787047", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "25", "writerCollect": "2049", "writerComment": "1518", "writerFan": "2633", "writerGrade": "6çº§", "writerIntegral": "4561", "writerName": "çŒ¿åŠ›çŒª", "writerProfileAdress": "writer_image\\profile_125787047.jpg", "writerRankTotal": "4640", "writerRankWeekly": "15864", "writerThumb": "1555", "writerVisitNum": "113010", "blog_read_count": "1249", "blog_time": "äºÂ 2022-07-15 00:06:06Â å‘å¸ƒ", "blog_title": "ã€OpenCVã€‘å¹¿å‘Šå±æ¢å›¾ æ–‡ç¨¿çŸ«æ­£ é€è§†å˜æ¢ C++ æ¡ˆä¾‹å®ç°", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1 id=\"%E7%9B%AE%E5%BD%95\">ç›®å½•</h1>\n<p id=\"%E5%89%8D%E8%A8%80-toc\" style=\"margin-left:0px;\"><a href=\"#%E5%89%8D%E8%A8%80\">å‰è¨€</a></p>\n<p id=\"%E4%B8%80%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E7%9A%84%E6%A6%82%E5%BF%B5-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%80%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E7%9A%84%E6%A6%82%E5%BF%B5\">ä¸€ã€é€è§†å˜æ¢çš„æ¦‚å¿µ</a></p>\n<p id=\"%E4%BA%8C%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%BA%8C%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86\">äºŒã€é€è§†å˜æ¢å·¥ä½œåŸç†</a></p>\n<p id=\"%E4%B8%89%E3%80%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%89%E3%80%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0\">ä¸‰ã€ç›¸å…³å‡½æ•°</a></p>\n<p id=\"1%EF%B8%8F%E2%83%A3findHomography%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#1%EF%B8%8F%E2%83%A3findHomography%E5%87%BD%E6%95%B0\">1.findHomographyå‡½æ•°</a></p>\n<p id=\"2%EF%B8%8F%E2%83%A3warpPerspective%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#2%EF%B8%8F%E2%83%A3warpPerspective%E5%87%BD%E6%95%B0\">2.warpPerspectiveå‡½æ•°</a></p>\n<p id=\"3%EF%B8%8F%E2%83%A3getPerspectiveTransform%E5%87%BD%E6%95%B0-toc\" style=\"margin-left:40px;\"><a href=\"#3%EF%B8%8F%E2%83%A3getPerspectiveTransform%E5%87%BD%E6%95%B0\">3.getPerspectiveTransformå‡½æ•°</a></p>\n<p id=\"%E5%9B%9B%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E6%A1%88%E4%BE%8B-toc\" style=\"margin-left:0px;\"><a href=\"#%E5%9B%9B%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E6%A1%88%E4%BE%8B\">å››ã€é€è§†å˜æ¢æ¡ˆä¾‹</a></p>\n<p id=\"%F0%9F%9A%80%E6%A1%88%E4%BE%8B1%EF%BC%9A%E6%96%87%E7%A8%BF%E7%9F%AB%E6%AD%A3-toc\" style=\"margin-left:40px;\"><a href=\"#%F0%9F%9A%80%E6%A1%88%E4%BE%8B1%EF%BC%9A%E6%96%87%E7%A8%BF%E7%9F%AB%E6%AD%A3\">æ¡ˆä¾‹1ï¼šæ–‡ç¨¿çŸ«æ­£</a></p>\n<p id=\"%F0%9F%9A%80%E6%A1%88%E4%BE%8B2%EF%BC%9A%E5%B9%BF%E5%91%8A%E5%B1%8F%E6%8D%A2%E5%9B%BE-toc\" style=\"margin-left:40px;\"><a href=\"#%F0%9F%9A%80%E6%A1%88%E4%BE%8B2%EF%BC%9A%E5%B9%BF%E5%91%8A%E5%B1%8F%E6%8D%A2%E5%9B%BE\">æ¡ˆä¾‹2ï¼šå¹¿å‘Šå±æ¢å›¾</a></p>\n<p id=\"%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93\">äº”ã€æ€»ç»“</a></p>\n<hr/>\n<h1 id=\"%E5%89%8D%E8%A8%80\">å‰è¨€</h1>\n<p>æœ¬æ–‡ä»¥å®ç°<span style=\"color:#be191c;\"><strong>å¹¿å‘Šå±æ¢å›¾</strong></span>ä¸ºç›®æ ‡ï¼Œå­¦ä¹ <span style=\"color:#be191c;\"><strong>OpenCVé€è§†å˜åŒ–ç›¸å…³çŸ¥è¯†</strong></span>ï¼Œæ ¸å¿ƒçš„å†…å®¹åŒ…æ‹¬ï¼š<span style=\"color:#be191c;\"><strong>OpenCVé€è§†å˜åŒ–æ¦‚å¿µ</strong></span>ã€<span style=\"color:#be191c;\"><strong>é€è§†å˜åŒ–å·¥ä½œåŸç†</strong></span>ï¼Œä»¥åŠ<strong><span style=\"color:#be191c;\">å¹¿å‘Šå±æ¢å›¾</span></strong><span style=\"color:#0d0016;\">ã€</span><strong><span style=\"color:#be191c;\">æ–‡ç¨¿çŸ«æ­£</span></strong><span style=\"color:#333333;\">çš„</span>å®ç° </p>\n<h1 id=\"%E4%B8%80%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E7%9A%84%E6%A6%82%E5%BF%B5\">ä¸€ã€é€è§†å˜æ¢çš„æ¦‚å¿µ</h1>\n<blockquote>\n<ul><li><strong>ä»¿å°„å˜æ¢</strong>ä¸<strong>é€è§†å˜æ¢</strong>åœ¨å›¾åƒè¿˜åŸã€å›¾åƒå±€éƒ¨å˜åŒ–å¤„ç†æ–¹é¢æœ‰é‡è¦æ„ä¹‰</li><li>é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨2Då¹³é¢ä¸­ï¼Œä»¿å°„å˜æ¢çš„åº”ç”¨è¾ƒå¤šï¼Œåœ¨3Då¹³é¢ä¸­ï¼Œé€è§†å˜æ¢åˆæœ‰äº†è‡ªå·±çš„ä¸€å¸­ä¹‹åœ°ï¼Œä¸¤ç§å˜æ¢åŸç†ç›¸ä¼¼ï¼Œç»“æœä¹Ÿç±»ä¼¼ï¼Œå¯é’ˆå¯¹ä¸åŒçš„åœºåˆä½¿ç”¨é€‚å½“çš„å˜æ¢</li><li><strong>ä»¿å°„å˜æ¢</strong>å’Œ<strong>é€è§†å˜æ¢</strong>çš„æ•°å­¦åŸç†ä¸éœ€æ·±ç©¶ï¼Œåœ¨åº”ç”¨å±‚é¢ï¼Œä»¿å°„å˜æ¢æ˜¯å›¾åƒåŸºäº3ä¸ªå›ºå®šé¡¶ç‚¹çš„å˜æ¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul>\n</blockquote>\n<p><img alt=\"\" height=\"247\" src=\"image\\57706cf18773498d8d2cd8fd27a8a316.png\" width=\"737\"/></p>\n<h1 id=\"%E4%BA%8C%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86\">äºŒã€é€è§†å˜æ¢å·¥ä½œåŸç†</h1>\n<ul><li><strong>é€è§†å˜æ¢ï¼š</strong>æœ¬è´¨æ˜¯å°†å›¾åƒæŠ•å½±åˆ°ä¸€ä¸ªæ–°çš„è§†å¹³é¢</li><li>å…¶é€šç”¨å˜æ¢å…¬å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul>\n<p><img alt=\"\" height=\"156\" src=\"image\\0cceba8cc9b54b2b89439d9037fc7960.png\" width=\"798\"/></p>\n<ul><li><strong>ï¼ˆuï¼Œvï¼‰</strong>ä¸ºåŸå§‹å›¾åƒåƒç´ åæ ‡ï¼Œ<strong>ï¼ˆx=xâ€™/wâ€™ï¼Œy=yâ€™/wâ€™ï¼‰</strong>ä¸ºå˜æ¢ä¹‹åçš„å›¾åƒåƒç´ åæ ‡</li><li>ç›¸å…³å…¬å¼ï¼Œæœ¬æ–‡ä¸åšè¿‡å¤šé˜è¿°ï¼Œå›¾è§£å¦‚ä¸‹ï¼š</li></ul>\n<p><img alt=\"\" height=\"451\" src=\"image\\019542404aa74e46b6ec3976da9f27d9.png\" width=\"660\"/></p>\n<ul><li><strong>ä»¿å°„å˜æ¢ï¼š</strong>å¯ä»¥ç†è§£ä¸ºé€è§†å˜æ¢çš„ç‰¹æ®Šå½¢å¼</li><li>æ•°å­¦è¡¨è¾¾å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul>\n<p> <img alt=\"\" height=\"238\" src=\"image\\3b058fd3829f41ce80333a2f44fa9f34.png\" width=\"541\"/></p>\n<ul><li>æ‰€ä»¥ï¼Œç»™å®šé€è§†å˜æ¢å¯¹åº”çš„å››å¯¹åƒç´ ç‚¹åæ ‡ï¼Œå³å¯æ±‚å¾—é€è§†å˜æ¢çŸ©é˜µ</li><li>åä¹‹ï¼Œç»™å®šé€è§†å˜æ¢çŸ©é˜µï¼Œå³å¯å¯¹å›¾åƒæˆ–åƒç´ ç‚¹åæ ‡å®Œæˆé€è§†å˜æ¢</li><li>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul>\n<p><img alt=\"\" height=\"340\" src=\"image\\087dca3c97774da5ac24bd89a356a5fa.png\" width=\"657\"/></p>\n<p> <img alt=\"\" height=\"431\" src=\"image\\749a260395d14e20ac903c9a1c45e258.png\" width=\"639\"/></p>\n<h1 id=\"%E4%B8%89%E3%80%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0\">ä¸‰ã€ç›¸å…³å‡½æ•°</h1>\n<h2 id=\"1%EF%B8%8F%E2%83%A3findHomography%E5%87%BD%E6%95%B0\">1.findHomographyå‡½æ•°</h2>\n<blockquote>\n<p><strong>ğŸ“Œå‡½æ•°åŠŸèƒ½ï¼š</strong>æ‰¾åˆ°ä¸¤ä¸ªå¹³é¢ä¹‹é—´çš„å˜æ¢çŸ©é˜µ</p>\n<p></p>\n<p><strong>ğŸ“Œå‚æ•°ï¼š</strong>å¦‚ä¸‹è¡¨æ‰€ç¤º</p>\n</blockquote>\n<p><img alt=\"\" height=\"638\" src=\"image\\7b8a039f60ce4fdf907a5f373f451f55.png\" width=\"1200\"/></p>\n<h2 id=\"2%EF%B8%8F%E2%83%A3warpPerspective%E5%87%BD%E6%95%B0\">2.warpPerspectiveå‡½æ•°</h2>\n<blockquote>\n<p><strong>ğŸ“Œå‡½æ•°åŠŸèƒ½ï¼š</strong>å¯¹å›¾åƒè¿›è¡Œé€è§†å˜æ¢ï¼Œå˜å½¢</p>\n<p></p>\n<p><strong>ğŸ“Œå‚æ•°ï¼š</strong></p>\n<ul><li>src â€“ è¾“å…¥å›¾åƒ</li><li>dst â€“ å¤§å°ä¸ºdsizeä¸”ç±»å‹ä¸srcç›¸åŒçš„è¾“å‡ºå›¾åƒ</li><li>M â€“ 3Ã—3å˜æ¢çŸ©é˜µ</li><li>dsize â€“ è¾“å‡ºå›¾åƒçš„å¤§å°</li></ul>\n</blockquote>\n<ul><li>ä¸‹å›¾ä¸­çº¢ç‚¹å³ä¸ºå›ºå®šé¡¶ç‚¹ï¼Œåœ¨å˜æ¢å…ˆåå›ºå®šé¡¶ç‚¹çš„åƒç´ å€¼ä¸å˜</li><li>å›¾åƒæ•´ä½“åˆ™æ ¹æ®å˜æ¢è§„åˆ™è¿›è¡Œå˜æ¢åŒç†ï¼Œé€è§†å˜æ¢æ˜¯å›¾åƒåŸºäº4ä¸ªå›ºå®šé¡¶ç‚¹çš„å˜æ¢</li></ul>\n<p><img alt=\"\" height=\"489\" src=\"image\\08354b88c9124cd28f33734dd53caf1c.png\" width=\"1200\"/></p>\n<h2 id=\"3%EF%B8%8F%E2%83%A3getPerspectiveTransform%E5%87%BD%E6%95%B0\">3.getPerspectiveTransformå‡½æ•°</h2>\n<ul><li><strong>C++æ–¹å¼1ï¼š</strong>Mat getPerspectiveTransform(InputArray src, InputArray dst)  </li><li><strong>C++æ–¹å¼2</strong>ï¼šMat getPerspectiveTransform(const Point2f src[], const Point2f dst[]) </li></ul>\n<blockquote>\n<p><strong>ğŸ“Œå‡½æ•°åŠŸèƒ½ï¼š</strong>æ ¹æ®æºå›¾åƒå’Œç›®æ ‡å›¾åƒä¸Šçš„å››å¯¹ç‚¹åæ ‡æ¥è®¡ç®—ä»åŸå›¾åƒé€è§†å˜æ¢åˆ°ç›®æ ‡å¤´åƒçš„é€è§†å˜æ¢çŸ©é˜µ</p>\n<p></p>\n<p><strong>ğŸ“Œå‚æ•°ï¼š</strong></p>\n<ul><li>src â€“ æºå›¾åƒä¸­å››è¾¹å½¢é¡¶ç‚¹çš„åæ ‡    </li><li>dst â€“ ç›®æ ‡å›¾åƒä¸­ç›¸åº”å››è¾¹å½¢é¡¶ç‚¹çš„åæ ‡</li></ul>\n</blockquote>\n<ul><li>è¯¥å‡½æ•°è®¡ç®—é€è§†å˜æ¢çš„3ä¹˜3çŸ©é˜µï¼Œä»¥ä¾¿å®ç°ä»¥ä¸‹è®¡ç®—ï¼š</li></ul>\n<p><img alt=\"\" height=\"343\" src=\"image\\5e95ee82adfb4a858f9a35d1e4e7fe6b.png\" width=\"957\"/></p>\n<h1 id=\"%E5%9B%9B%E3%80%81%E9%80%8F%E8%A7%86%E5%8F%98%E6%8D%A2%E6%A1%88%E4%BE%8B\">å››ã€é€è§†å˜æ¢æ¡ˆä¾‹</h1>\n<ul><li>é¦–å…ˆï¼Œå…ˆè¯•æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦å°†ä¸‹å›¾å•ç‹¬å–ä¸€å¼ å¹³é¢å‡ºæ¥ï¼ˆä¾‹å¦‚:Aï¼‰è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ </li></ul>\n<p><img alt=\"\" height=\"732\" src=\"image\\997f6477eac241e88a7e2cabc6073fe6.png\" width=\"891\"/></p>\n<h2 id=\"%F0%9F%9A%80%E6%A1%88%E4%BE%8B1%EF%BC%9A%E6%96%87%E7%A8%BF%E7%9F%AB%E6%AD%A3\">æ¡ˆä¾‹1ï¼šæ–‡ç¨¿çŸ«æ­£</h2>\n<ul><li>è¿™æ˜¯æœ¬æ¡ˆä¾‹æ‰€ç”¨åˆ°çš„å›¾ç‰‡ç´ æ</li></ul>\n<p><img alt=\"\" height=\"935\" src=\"image\\17f7317c30a145dd8aa10fdb7cbde5a8.jpeg\" width=\"1200\"/></p>\n<ul><li>å®ç°æ•ˆæœ</li></ul>\n<p><img alt=\"\" height=\"1036\" src=\"https://img-blog.csdnimg.cn/88ceb55f7f5d4612b0600a239cb32550.gif\" width=\"1200\"/></p>\n<ul><li>å…¶ä»–å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿çš„æ•ˆæœ</li></ul>\n<p><img alt=\"\" height=\"994\" src=\"image\\2978f721e3784dcda772f118377cb154.png\" width=\"1200\"/></p>\n<p><img alt=\"\" height=\"803\" src=\"image\\48464dec2d944476a3a8bcca585655e1.png\" width=\"1200\"/></p>\n<p id=\"%E6%A1%88%E4%BE%8B1%20%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\"><strong>æ¡ˆä¾‹1 å®Œæ•´ä»£ç </strong></p>\n<pre><code class=\"language-cpp\">#include &lt;iostream&gt;\n#include &lt;opencv2/opencv.hpp&gt;\nusing namespace cv;\nusing namespace std;\n\nstruct imagedata\n{\n    Mat img;//ç›®æ ‡å›¾åƒ\n    vector &lt;Point2f&gt; points;//3Dç‚¹\n};\n\n//é¼ æ ‡æ“ä½œå‡½æ•°:ç”¨äºé€‰æ‹©å››ä¸ªè§’çš„ç‚¹ï¼ˆä½¿ç”¨æ–¹æ³•æœ‰é¡ºåºçš„ï¼Œä»å·¦ä¸Šè§’é¡ºæ—¶é’ˆé€‰æ‹©ï¼Œé€‰å®Œä¹‹åå›è½¦ï¼‰\nvoid mouseHundle(int event,int x,int y,int flag,void *per)\n{\n    struct imagedata * d=(struct imagedata*)per;\n    if(event==EVENT_LBUTTONDOWN)\n    {\n        //ç¡®å®šæŒ‰ä¸‹çš„æ˜¯é¼ æ ‡å·¦é”®\n        //ç”¨åœ†å½¢æ ‡è®°ä¸€ä¸‹é¼ æ ‡æŒ‰ä¸‹å·¦é”®æ ‡è®°çš„ä½ç½®\n        circle(d-&gt;img,Point(x,y),3,Scalar(0,255,0),3,CV_AA);//åœ¨å›¾ä¸Šæ ‡è®°,åœ†å¿ƒä¸ºç‚¹å‡»çš„ä½ç½®\n        imshow(\"image\",d-&gt;img);//åŸçª—å£ä¸Šæ˜¾ç¤º\n        if(d-&gt;points.size()&lt;4)\n        {\n            d-&gt;points.push_back(Point2f(x,y));//æŠŠç‚¹å‡»çš„ç‚¹å­˜èµ·æ¥\n        }\n    }\n}\n\nvoid example_1()\n{\n    Mat image=imread(\"C:/Users/86177/Desktop/image/777.jpg\");\n    Mat result=Mat::zeros(400,500,CV_8UC1);//400*500çš„å¤§å°,ä½†æ˜¯é‡Œé¢æ²¡æœ‰ä¸œè¥¿\n\n    //å­˜æ”¾å››ä¸ªè½¬æ¢ä»¥åçš„åæ ‡\n    vector &lt;Point2f&gt;obj;\n    obj.push_back(Point2f(0,0));\n    obj.push_back(Point2f(500,0));\n    obj.push_back(Point2f(500,400));\n    obj.push_back(Point2f(0,400));//è½¬æ¢åçš„åæ ‡\n\n    imshow(\"image\",image);\n    struct imagedata data;\n    data.img=image;\n\n    setMouseCallback(\"image\",mouseHundle,&amp;data);//é¼ æ ‡å¤„ç†çš„å›è°ƒå‡½æ•°\n\n    waitKey(0);//æŒ‰ä»»æ„é”®å…³é—­å½“å‰æ˜¾ç¤ºçš„çª—å£,æ˜¾ç¤ºä¸‹ä¸€ä¸ªçª—å£\n\n    Mat res=findHomography(data.points,obj,CV_RANSAC);//åˆ©ç”¨RANSACç®—æ³•è®¡ç®—å‡ºæ¥ä¸€ä¸ªå°çŸ©é˜µ\n\n    warpPerspective(image,result,res,result.size());  //ç»“æœè½¬æ¢\n\n    imshow(\"result\",result);\n\n    waitKey(0);\n}\n\nint main(int argc, char *argv[])\n{\n    example_1();\n    return 0;\n}\n\n</code></pre>\n<h2 id=\"%F0%9F%9A%80%E6%A1%88%E4%BE%8B2%EF%BC%9A%E5%B9%BF%E5%91%8A%E5%B1%8F%E6%8D%A2%E5%9B%BE\">æ¡ˆä¾‹2ï¼šå¹¿å‘Šå±æ¢å›¾</h2>\n<ul><li>è¿™æ˜¯æœ¬æ¡ˆä¾‹æ‰€ç”¨åˆ°çš„å›¾ç‰‡ç´ æ </li></ul>\n<p><img alt=\"\" height=\"820\" src=\"image\\c3f1698d1d9843218919f4e98e646fe7.png\" width=\"1200\"/></p>\n<p><img alt=\"\" height=\"1080\" src=\"image\\92038e33fcb14189b943cd11c3cc5ac1.jpeg\" width=\"1200\"/></p>\n<ul><li>å®ç°æ•ˆæœ</li></ul>\n<p><img alt=\"\" height=\"1200\" src=\"https://img-blog.csdnimg.cn/6f45a434d25744efbe0dd9a6a8044f2c.gif\" width=\"1200\"/></p>\n<ul><li>å˜æ¢è¿‡ç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š </li></ul>\n<p><img alt=\"\" height=\"948\" src=\"image\\3f5f62ce3e664be1995cfaaa00bf3afc.png\" width=\"1200\"/></p>\n<p id=\"%E6%A1%88%E4%BE%8B2%20%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\"><strong>æ¡ˆä¾‹2 å®Œæ•´ä»£ç </strong></p>\n<pre><code class=\"language-cpp\">#include &lt;iostream&gt;\n#include &lt;opencv2/opencv.hpp&gt;\nusing namespace cv;\nusing namespace std;\n\nstruct imagedata\n{\n    Mat img;//ç›®æ ‡å›¾åƒ\n    vector &lt;Point2f&gt; points;//3Dç‚¹\n};\n\n//é¼ æ ‡æ“ä½œå‡½æ•°:ç”¨äºé€‰æ‹©å››ä¸ªè§’çš„ç‚¹ï¼ˆä½¿ç”¨æ–¹æ³•æœ‰é¡ºåºçš„ï¼Œä»å·¦ä¸Šè§’é¡ºæ—¶é’ˆé€‰æ‹©ï¼Œé€‰å®Œä¹‹åå›è½¦ï¼‰\nvoid mouseHundle(int event,int x,int y,int flag,void *ptr)\n{\n    struct imagedata * d=(struct imagedata*)ptr;\n    if(event==EVENT_LBUTTONDOWN)\n    {\n        //ç¡®å®šæŒ‰ä¸‹çš„æ˜¯é¼ æ ‡å·¦é”®\n        //ç”¨åœ†å½¢æ ‡è®°ä¸€ä¸‹é¼ æ ‡æŒ‰ä¸‹å·¦é”®æ ‡è®°çš„ä½ç½®\n        circle(d-&gt;img,Point(x,y),3,Scalar(0,255,0),3,CV_AA);//åœ¨å›¾ä¸Šæ ‡è®°,åœ†å¿ƒä¸ºç‚¹å‡»çš„ä½ç½®\n        //imshow(\"image\",d-&gt;img);//åŸçª—å£ä¸Šæ˜¾ç¤º\n        imshow(\"dst\",d-&gt;img);//åŸçª—å£ä¸Šæ˜¾ç¤º\n\n        if(d-&gt;points.size()&lt;4)//åªå­˜ä¸‹æ¥ï¼Œæœ€å…ˆç‚¹çš„å‰å››ä¸ªç‚¹\n        {\n            d-&gt;points.push_back(Point2f(x,y));//æŠŠé¼ æ ‡æ“ä½œç‚¹å‡»çš„ç‚¹å­˜èµ·æ¥\n        }\n    }\n}\n\nvoid example_2()\n{\n    Mat image1=imread(\"C:/Users/86177/Desktop/image/2222.jpg\");//å¹¿å‘Šå±æ›¿æ¢å›¾ç‰‡è·¯å¾„\n    Mat image2=imread(\"C:/Users/86177/Desktop/image/city.jpg\");//èƒŒæ™¯å›¾ç‰‡è·¯å¾„\n\n    Mat dst=image2.clone();//å…‹éš†\n\n    vector &lt;Point2f&gt;obj;\n    obj.push_back(Point2f(0,0));\n    obj.push_back(Point2f(image1.cols,0));\n    obj.push_back(Point2f(image1.cols,image1.rows));\n    obj.push_back(Point2f(0,image1.rows));//è½¬æ¢åçš„åæ ‡\n\n    imshow(\"dst\",dst);\n    struct imagedata data;\n    data.img =dst;\n\n    setMouseCallback(\"dst\",mouseHundle,&amp;data);//é¼ æ ‡å¤„ç†çš„å›è°ƒå‡½æ•°\n\n    waitKey(0);//æŒ‰ä»»æ„é”®å…³é—­å½“å‰æ˜¾ç¤ºçš„çª—å£,æ˜¾ç¤ºä¸‹ä¸€ä¸ªçª—å£\n\n    Mat res=findHomography(obj,data.points,CV_RANSAC);//åˆ©ç”¨RANSACç®—æ³•ï¼Œ3*3å˜æ¢çŸ©é˜µ\n\n    warpPerspective(image1,dst,res,dst.size());//é€è§†è½¬æ¢\n\n    imshow(\"warpPerspective\",dst);\n\n    Point pts[4];\n    for(int i=0;i&lt;4;i++)\n    {\n        pts[i]=data.points[i];\n    }\n    fillConvexPoly(image2,pts,4,Scalar(0),CV_AA);\n\n    image2+=dst;\n\n    imshow(\"final\",image2);\n\n    waitKey(0);\n}\n\nint main(int argc, char *argv[])\n{\n    example_2();\n    return 0;\n}\n\n</code></pre>\n<p> </p>\n<blockquote>\n<p><strong>PSï¼š</strong> æ¡ˆä¾‹ä»£ç ä½¿ç”¨è¯´æ˜ï¼Œéœ€è¦é€‰æ‹©å››ä¸ªç‚¹ï¼Œä¸”å¿…é¡»é¡ºæ—¶é’ˆé€‰æ‹©ï¼Œå› ä¸ºä»£ç ä¸­åªè®¾ç½®å­˜å‚¨4ä¸ªç‚¹ï¼Œè¶…å‡ºé€‰æ‹©æ— æ•ˆï¼Œé€‰æ‹©å®Œæ¯•åæŒ‰ <strong>Enter </strong>å³å¯æ˜¾ç¤ºæ•ˆæœ</p>\n</blockquote>\n<p> </p>\n<h1 id=\"%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93\">äº”ã€æ€»ç»“</h1>\n<blockquote>\n<ul><li>æœ¬æ–‡æ ¸å¿ƒå†…å®¹åŒ…æ‹¬ï¼š<span style=\"color:#be191c;\"><strong>OpenCVé€è§†å˜åŒ–æ¦‚å¿µ</strong></span>ã€<span style=\"color:#be191c;\"><strong>é€è§†å˜åŒ–å·¥ä½œåŸç†</strong></span></li><li>ä»¥<strong><span style=\"color:#0d0016;\">å¹¿å‘Šå±æ¢å›¾</span></strong><span style=\"color:#0d0016;\">ã€<strong>æ–‡ç¨¿çŸ«æ­£</strong></span><span style=\"color:#333333;\">çš„</span>å®ç°ä¸ºä¾‹å­ï¼Œè®²è§£äº†OpenCVé€è§†å˜åŒ–çš„å®æˆ˜æ¡ˆä¾‹ï¼Œæ¡ˆä¾‹å®Œæˆçš„æ•ˆæœè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼</li><li>åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå·²ç»æœ‰å¾ˆå¤šè½¯ä»¶ç”¨åˆ°äº†æˆ‘ä»¬çš„é€è§†å˜æ¢çš„çŸ¥è¯†ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬åŠå…¬æ‰«ææ–‡ä»¶æ—¶ç”¨çš„æ‰«æè½¯ä»¶ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šï¼ŒèŠ‚çœäº†æˆ‘ä»¬çš„æ—¶é—´ï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡ï¼</li></ul>\n</blockquote>\n<p> </p>\n<p><span style=\"color:#38d8f0;\"><strong><em>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ï¼å¦‚æœå¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œéº»çƒ¦ç‚¹èµå•¦ï¼æ”¶è—å•¦ï¼æ¬¢è¿å„ä½è¯„è®ºåŒºç•™è¨€</em>ï¼ï¼ !</strong></span></p>\n<p class=\"img-center\"><img alt=\"\" height=\"379\" src=\"https://img-blog.csdnimg.cn/82db194f85a945a08420abeec2bd9f38.gif\" width=\"414\"/></p>\n<p> </p>\n<p></p>\n</div>\n</div>"}