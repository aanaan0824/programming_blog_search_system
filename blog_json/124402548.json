{"blogid": "124402548", "writerAge": "码龄1年", "writerBlogNum": "424", "writerCollect": "628", "writerComment": "63", "writerFan": "1121", "writerGrade": "6级", "writerIntegral": "4614", "writerName": "dengfengling999", "writerProfileAdress": "writer_image\\profile_124402548.jpg", "writerRankTotal": "3903", "writerRankWeekly": "6137", "writerThumb": "234", "writerVisitNum": "155583", "blog_read_count": "1574", "blog_time": "于 2022-04-25 13:11:12 发布", "blog_title": "php学生信息管理：增删改查", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>简单实现学生信心的增删改查：</p>\n<p>创建数据库student和表studeninfo</p>\n<p><img alt=\"\" height=\"203\" src=\"image\\088cf443c9194918b89dbf506a10cfa7.png\" width=\"654\"/></p>\n<p>在phpstudey WWW目录下创建项目student文件夹</p>\n<p>1.首先创建coon文件夹，里面创建连接数据库的coon.php，代码如下：</p>\n<pre><code>&lt;?php\n $server='localhost';\n $username='root';\n $pwd='123456';\n $db='student';\n $conn=mysqli_connect($server,$username,$pwd,$db) or die('数据库连接失败！'.mysqli_error());\n mysqli_query($conn,'set names utf8');\n\n?&gt;</code></pre>\n<p>2.创建插入页面，insert.php,详细代码如下：</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\t&lt;meta charset=\"UTF-8\"&gt;\n\t&lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\t&lt;form method=\"post\" action=\"insert_ok.php\"&gt;\n\t\t&lt;table width=\"500px\" border=\"1\" bgcolor=\"#BBBBBB\" align=\"center\"&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td height=\"40px\"&gt;学号：\n\t\t\t\t&lt;/td&gt;\n\t\t\t\t&lt;td&gt;\n\t\t\t\t\t&lt;input type=\"text\" name=\"sno\"&gt;\n\t\t\t\t&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td height=\"40px\"&gt;姓名：\n\t\t\t\t&lt;/td&gt;\n\t\t\t\t&lt;td&gt;\n\t\t\t\t\t&lt;input type=\"text\" name=\"sname\"&gt;\n\t\t\t\t&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td&gt;年龄：\n\t\t\t\t&lt;/td&gt;\n\t\t\t\t&lt;td&gt;\n\t\t\t\t\t&lt;input type=\"text\" name=\"age\"&gt;\n\t\t\t\t&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td&gt;性别：\n\t\t\t\t&lt;/td&gt;\n\t\t\t\t&lt;td&gt;\n\t\t\t\t\t&lt;input type=\"radio\" name=\"sex\" value=\"男\"&gt;男\n\t\t\t\t\t&lt;input type=\"radio\" name=\"sex\" value=\"女\"&gt;女\n\t\t\t\t&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td colspan=\"2\" align=\"center\"&gt;\n\t\t\t\t\t&lt;input type=\"submit\" name=\"sub\" value=\"提交\"&gt;\n\t\t\t\t\t&lt;input type=\"reset\" name=\"reset\" value=\"重置\"&gt;\n\t\t\t\t&lt;/td&gt;\n\t\t\t\t\n\t\t\t&lt;/tr&gt;\n\t\t&lt;/table&gt;\n\t&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p><img alt=\"\" height=\"313\" src=\"image\\51bdd23b34774269b3368f7aec91664c.png\" width=\"1200\"/></p>\n<p>创建insert_ok.php:</p>\n<p> </p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\t&lt;meta charset=\"UTF-8\"&gt;\n\t&lt;title&gt;插入学生信息&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\t&lt;?php\n\t  include_once('coon/conn.php');\n\t  if (!($_POST['sno']&amp;&amp;$_POST['sname']&amp;&amp;$_POST['age']&amp;&amp;$_POST['sex'])) {\n\t  \techo \"输入数据不允许为空，单击&lt;a href='javascript:onclick=history.go(-1)'&gt;这里&lt;/a&gt;返回\";\n\t  }else{\n\t  \t\n\t  \t$str=\"insert into studentinfo values('\".$_POST['sno'].\"','\".$_POST['sname'].\"','\".$_POST['age'].\"','\".$_POST['sex'].\"')\";\n\t  \t$result=mysqli_query($conn, $str);\n\t  \tif($result){\n\t  \t\techo \"数据添加成功,点击&lt;a href='chakan.php'&gt;查看&lt;/a&gt;\";\n\t  \t}else{\n\t  \t\techo \"&lt;script&gt;alet('添加失败');history.go(-1);\";\n\t  \t}\n\t  }\n\t?&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p style=\"margin-left:0;text-align:justify;\">添加学生信息到数据库：</p>\n<p style=\"margin-left:0;text-align:justify;\"><img alt=\"\" height=\"324\" src=\"image\\dc6db6ac6919492aa4d9a6c6213ee5db.png\" width=\"953\"/></p>\n<p><img alt=\"\" height=\"235\" src=\"image\\5519950d5ac34ecb866b60fb975625e6.png\" width=\"865\"/> </p>\n<p> 3.查看信息页面，chakan.php，详细代码如下：</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\t&lt;meta charset=\"UTF-8\"&gt;\n\t&lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\t&lt;table width=\"760\" border=\"0\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n  \n  &lt;tr&gt;\n    &lt;td align=\"center\"&gt;&lt;table width=\"700\" border=\"0\"&gt;\n      &lt;tr&gt;\n        &lt;td width=\"10\" align=\"center\"&gt;&lt;/td&gt;\n        &lt;td width=\"50\" align=\"center\"&gt;&lt;span class=\"STYLE1\"&gt;学号&lt;/span&gt;&lt;/td&gt;\n        &lt;td width=\"252\" align=\"center\"&gt;&lt;span class=\"STYLE1\"&gt;姓名&lt;/span&gt;&lt;/td&gt;\n        &lt;td width=\"67\" align=\"center\"&gt;&lt;span class=\"STYLE1\"&gt;年龄&lt;/span&gt;&lt;/td&gt;\n        &lt;td width=\"156\" align=\"center\"&gt;&lt;span class=\"STYLE1\"&gt;性别&lt;/span&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n&lt;?php\n\tinclude_once('coon/conn.php');\n\tmysqli_query($conn,'set names utf8');\n\t$str = \"select * from studentinfo\";\n\t$result = mysqli_query($conn,$str);\n\twhile($myrow = mysqli_fetch_row($result)){\n?&gt;\n\t&lt;tr&gt;   \n        &lt;td align=\"center\"&gt;&lt;/td&gt;\n        &lt;td align=\"center\"&gt;&lt;span class=\"STYLE2\" style=\"color:blue\"&gt;&lt;?php echo $myrow[0];?&gt;&lt;/span&gt;&lt;/td&gt;\n        &lt;td align=\"center\"&gt;&lt;span class=\"STYLE2\" style=\"color:blue\"&gt;&lt;?php echo $myrow[1]; ?&gt;&lt;/span&gt;&lt;/td&gt;\n        &lt;td align=\"center\"&gt;&lt;span class=\"STYLE2\" style=\"color:blue\"&gt;&lt;?php echo $myrow[2].'岁'; ?&gt;&lt;/span&gt;&lt;/td&gt;\n        &lt;td align=\"center\"&gt;&lt;span class=\"STYLE2\" style=\"color:blue\"&gt;&lt;?php echo $myrow[3]; ?&gt;&lt;/span&gt;&lt;/td&gt;\n  \n        &lt;td align=\"center\"&gt;&lt;span class=\"STYLE2\" style=\"color:blue\"&gt;&lt;?php echo \"&lt;a href=update.php?action=update&amp;id=\".$myrow[0].\"&gt;修改&lt;/a&gt;/&lt;a href=delete.php?action=del&amp;id=\".$myrow[0].\" onclick='return del();'&gt;删除&lt;/a&gt;\" ?&gt;&lt;/span&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;?php\n}\n?&gt;\n&lt;/table&gt;\n      &lt;tr&gt;\n        &lt;td align=\"right\"&gt;&lt;span class=\"STYLE2\"&gt;&lt;?php\n          $rows = mysqli_num_rows($result);\n          echo \"查询结果为：\".$rows.'条记录';\n        ?&gt;&lt;a href=\"insert.php\"&gt;：继续添加学生信息&lt;/a&gt;&lt;/span&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n \n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p><img alt=\"\" height=\"277\" src=\"image\\7f1b383884e94a8bb0569098846f2044.png\" width=\"1200\"/></p>\n<p><img alt=\"\" height=\"217\" src=\"image\\e5d9ec222f074236904aa7fa896f3630.png\" width=\"779\"/> </p>\n<p> 4.创建更新信息页面update.php，详细代码如下：</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n\t&lt;meta charset=\"utf-8\"&gt;\n\t&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\t&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;?php   \n\tinclude_once('coon/conn.php');\n\tif ($_GET['action']=='update') {\n\t\t$str = \"select * from studentinfo where sno=\".$_GET['id'];\n\t\t$result = mysqli_query($conn,$str);\n\t\t$myrow = mysqli_fetch_row($result);\t\n\t}\n?&gt;\n&lt;table width=\"760\" border=\"0\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n  \n  &lt;tr&gt;\n    &lt;td align=\"center\"&gt;\n&lt;form name=\"update\" method=\"post\" action=\"update_ok.php\"&gt;\n\t&lt;input type=\"hidden\" name=\"action\" value=\"update\"&gt;\n\t&lt;input type=\"hidden\" name=\"id\" value=\"&lt;?php echo $myrow[0] ?&gt;\"&gt;\n\t&lt;table width = '300'align=\"center\" border=\"0\" bgcolor=\"#BBBBBB\"&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td height=\"30\" align=\"right\"&gt;姓名：&lt;/td&gt;\n\t\t\t\t&lt;td&gt;&lt;input type=\"text\" name=\"sname\" value=\"&lt;?php echo $myrow[1] ?&gt;\"&gt;&lt;/td&gt;\t\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td height=\"30\" align=\"right\"&gt;年龄：&lt;/td&gt;\n\t\t\t\t&lt;td&gt;&lt;input type=\"text\" name=\"age\" value=\"&lt;?php echo $myrow[2] ?&gt;\"&gt;&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td height=\"30\" align=\"right\"&gt;性别：&lt;/td&gt;\n\t\t\t\t&lt;td&gt;&lt;input type=\"text\" name=\"sex\" value=\"&lt;?php echo $myrow[3] ?&gt;\"&gt;&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t\t\t&lt;tr&gt;\n\t\t\t\t&lt;td colspan=\"2\" align=\"center\"&gt;&lt;input type=\"submit\" name=\"提交\" value=\"修改\"&gt;\n\t\t\t\t&lt;input type=\"reset\" name=\"reset\" value=\"重置\"&gt;&lt;/td&gt;\n\t\t\t&lt;/tr&gt;\n\t&lt;/table&gt;\n&lt;/form&gt;\n&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p style=\"margin-left:0;text-align:justify;\">创建update_ok.php:</p>\n<pre><code>&lt;?php\nheader(\"Content-type:text/html;charset=UTF-8\");\n\tinclude_once('coon/conn.php');\n\tif ($_POST['action']=='update') {\n\t\tif (!($_POST['sname'] &amp;&amp; $_POST['age']&amp;&amp; $_POST['sex'])) {\n\t\t\techo \"输入不允许为空。点击&lt;a href='javascript:onclick=history.go(-1)'&gt;这里&lt;/a&gt;返回\";\n\t\t}else{\n\t\t\t$str = \"update studentinfo set sname='\".$_POST['sname'].\"',age='\".$_POST['age'].\"',sex='\".$_POST['sex'].\"' where sno=\".$_POST['id'];\n\t\t\t$result = mysqli_query($conn,$str);\n\t\t\tif ($result) {\n\t\t\t\techo\"修改成功，点击&lt;a href='chakan.php'&gt;这里&lt;/a&gt;返回\";\n\t\t\t}else{\n\t\t\t\techo \"修改失败！\";\n\t\t\t}\n\t\t}\n\t}\n?&gt;</code></pre>\n<p>点击修改：</p>\n<p><img alt=\"\" height=\"321\" src=\"image\\ad6c7cccc9d54a89a782d6c15b8523be.png\" width=\"1200\"/></p>\n<p>修改小明的年龄为：21</p>\n<p><img alt=\"\" height=\"249\" src=\"image\\ca36733f54904baeadb148121b78a1aa.png\" width=\"607\"/> </p>\n<p><img alt=\"\" height=\"120\" src=\"image\\5fb49528fa4449f8a7aa5052829594db.png\" width=\"553\"/> </p>\n<p> <img alt=\"\" height=\"276\" src=\"image\\b0e3b35ec51541349550dea979a3c1fd.png\" width=\"901\"/></p>\n<p>5.创建删除delete.php，详细代码如下：</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\t&lt;meta charset=\"UTF-8\"&gt;\n\t&lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\t&lt;table width=\"760\" border=\"0\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n  &lt;tr&gt;\n    &lt;td align=\"center\"&gt;\n    &lt;?php\n    \tinclude_once('coon/conn.php');\n    \t//if ($_GET['action'] == 'del') {\n    \t$str = \"delete from studentinfo where sno =\".$_GET['id'];\n    \t$result = mysqli_query($conn,$str);\n    \t\tif ($result) {\n    \t\t\techo \"&lt;script&gt;alert('删除成功');location = 'chakan.php';&lt;/script&gt;\";\n    \t\t}else{\n    \t\t\techo \"删除失败！\";\n    \t\t}\n    \t//}\n    ?&gt;\n\n\n    &lt;/td&gt;\n&lt;/tr&gt;\n   \n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p> 创建delete_ok.php代码如下：</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;table width=\"760\" border=\"0\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n  \n  &lt;tr&gt;\n    &lt;td align=\"center\"&gt;\n    &lt;?php\n      include_once('coon/conn.php');\n      //if ($_GET['action'] == 'del') {\n      $str = \"delete from bookinfo where id =\".$_GET['id'];\n      $result = mysqli_query($conn,$str);\n        if ($result) {\n          echo \"&lt;script&gt;alert('删除成功');location = 'select.php';&lt;/script&gt;\";\n        }else{\n          echo \"删除失败！\";\n        }\n      //}\n    ?&gt;\n\n\n    &lt;/td&gt;\n&lt;/tr&gt;\n   \n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p style=\"margin-left:0;text-align:justify;\">点击删除小明的学生信息：</p>\n<p style=\"margin-left:0;text-align:justify;\"><img alt=\"\" height=\"232\" src=\"image\\88576fcea9534c618b4357ee80b96eb0.png\" width=\"865\"/></p>\n<p> </p>\n</div>\n</div>"}