{"blogid": "122142534", "writerAge": "码龄3年", "writerBlogNum": "280", "writerCollect": "11186", "writerComment": "17328", "writerFan": "50464", "writerGrade": "9级", "writerIntegral": "57906", "writerName": "士别三日wyx", "writerProfileAdress": "writer_image\\profile_122142534.jpg", "writerRankTotal": "54", "writerRankWeekly": "175", "writerThumb": "6210", "writerVisitNum": "4866814", "blog_read_count": "25571", "blog_time": "于 2021-12-25 14:38:51 发布", "blog_title": "Python 列表 append()函数使用详解", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p><font color=\"orange\">「作者主页」：</font><a href=\"https://blog.csdn.net/wangyuxiang946\">士别三日wyx</a></p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>append函数详解</h3>\n<ul><li><a href=\"#1__3\">1. 基本使用</a></li><li><a href=\"#2__28\">2. 任意类型元素</a></li><li><a href=\"#3__61\">3. 列表同步</a></li><li><ul><li><a href=\"#31__79\">3.1 原理剖析</a></li><li><a href=\"#32__95\">3.2 解决方案</a></li></ul>\n</li><li><a href=\"#4_appendextend_136\">4. append()与extend()的区别</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"1__3\"></a>1. 基本使用</h1>\n<p><font color=\"blue\"> append() </font>函数可以向列表末尾添加元素</p>\n<p><strong>语法</strong></p>\n<pre><code class=\"prism language-python\"><span class=\"token builtin\">list</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span> element <span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>参数</strong></p>\n<ul><li>element：任何类型的元素</li></ul>\n<p><strong>实例：向列表末尾添加一个元素</strong></p>\n<pre><code class=\"prism language-python\">name_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">]</span>\nname_list<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">'zhaoliu'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>name_list<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'zhaoliu'</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<p>需要注意的是，<font color=\"blue\"> append() </font>函数添加的元素在列表的<font color=\"red\">「末尾」</font>而不是任意位置</p>\n<h1><a id=\"2__28\"></a>2. 任意类型元素</h1>\n<p><font color=\"blue\"> append() </font>函数可以向列表末尾添加<font color=\"green\">「任意类型」</font>的元素</p>\n<p><strong>实例：添加普通类型（数值、字符串）元素</strong></p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 添加整形</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">'str'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 添加字符型</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'str'</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<p><strong>实例：添加集合类型（列表，元祖）元素</strong></p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 添加列表</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 添加元祖</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<h1><a id=\"3__61\"></a>3. 列表同步</h1>\n<p>        使用<font color=\"blue\"> append() </font>函数添加列表时，是添加列表的<font color=\"orange\">「引用地址」</font>而不是添加列表内容，当被添加的列表发生变化时，添加后的列表也会同步发生变化。</p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">]</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表list1添加列表a</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\na<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表a发生变化</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表list1也会同步变化</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<h2><a id=\"31__79\"></a>3.1 原理剖析</h2>\n<p>        从输出结果可以发现，当添加的列表发生变化时，先前添加的内容也发生了改变，这会使程序出现意料之外的问题，我们使用<font color=\"blue\"> id() </font>函数验证一下</p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">]</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表a的引用地址</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 添加到列表后的引用地址</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token number\">2992145244608</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token number\">2992145244608</span>\n</code></pre>\n<h2><a id=\"32__95\"></a>3.2 解决方案</h2>\n<p>从输出结果可以看出，问题的原因就在引用地址上面。这里补充两个概念</p>\n<ol><li>浅拷贝：拷贝这个对象的引用地址</li><li>深拷贝：拷贝对象的内容</li></ol>\n<p>使用<font color=\"blue\"> copy.deepcopy() </font>函数深拷贝列表的内容而不是列表的引用地址</p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">]</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表a的引用地址</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">id</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 添加到列表后的引用地址</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token number\">1963457096704</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token number\">1963458936640</span>\n</code></pre>\n<p>由输出结果可以确定，添加后的列表不再引用源列表的地址<br/> 使用<font color=\"green\">「深拷贝」</font>添加列表的内容而不是引用地址，从而解决列表同步的问题</p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">]</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 深拷贝列表a</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>\na<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表a发生变化</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 深拷贝列表a</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>list1<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 列表list1不再同步变化</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n</code></pre>\n<p>列表同步问题解决了</p>\n<h1><a id=\"4_appendextend_136\"></a>4. append()与extend()的区别</h1>\n<ol><li>append添加的是元素本身，而extend添加的是元素的值</li><li>append可以添加所有类型元素，而extend只能添加序列</li></ol>\n<p>比如，添加列表时，append会添加整个列表，而extend只会添加列表中的值</p>\n<pre><code class=\"prism language-python\">list1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">]</span>\nlist2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">]</span>\nlist1<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'append添加整个列表：'</span><span class=\"token punctuation\">,</span> list1<span class=\"token punctuation\">)</span>\nlist2<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'extend添加列表的值：'</span><span class=\"token punctuation\">,</span> list2<span class=\"token punctuation\">)</span>\n</code></pre>\n<p>输出：</p>\n<pre><code class=\"prism language-python\">append添加整个列表： <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nextend添加列表的值： <span class=\"token punctuation\">[</span><span class=\"token string\">'zhangsan'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lisi'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'wangwu'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n</code></pre>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}