{"blogid": "125659898", "writerAge": "码龄5年", "writerBlogNum": "9", "writerCollect": "17", "writerComment": "0", "writerFan": "2", "writerGrade": "2级", "writerIntegral": "166", "writerName": "亦靈兒", "writerProfileAdress": "writer_image\\profile_125659898.jpg", "writerRankTotal": "69950", "writerRankWeekly": "693621", "writerThumb": "11", "writerVisitNum": "8423", "blog_read_count": "933", "blog_time": "于 2022-07-07 15:25:39 发布", "blog_title": "Qt c++ 快速输出当前时间 可精确到毫秒", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"Qt_c__0\"></a>Qt c++ 快速输出当前时间，精确到毫秒</h1>\n<p>项目中我们常常需要记录时间，有的只需要大致时间，但有的需要精确到毫秒。今天就集中罗列几种常用的时间具体获取方式。</p>\n<h3><a id=\"QDateTimecurrentDateTime_4\"></a>方法一：用QDateTime::currentDateTime()函数</h3>\n<p>通过调用QDateTime::currentDateTime()函数获取当前时间，然后qDebug()输出。</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token function\">qDebug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;&lt;</span> <span class=\"token class-name\">QDateTime</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">currentDateTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy-MM-dd hh:mm:ss.zzz\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h3><a id=\"_QTimecurrentTime_13\"></a>方法二：用 QTime::currentTime()函数</h3>\n<p>通过调用QTime::currentTime()函数，通过访问结构体内小时、分钟、秒钟、毫秒的方式，实现分布输出。</p>\n<pre><code class=\"prism language-cpp\">QTime current_time <span class=\"token operator\">=</span> <span class=\"token class-name\">QTime</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">currentTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> hour <span class=\"token operator\">=</span> current_time<span class=\"token punctuation\">.</span><span class=\"token function\">hour</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">//当前的小时</span>\n<span class=\"token keyword\">int</span> minute <span class=\"token operator\">=</span> current_time<span class=\"token punctuation\">.</span><span class=\"token function\">minute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//当前的分</span>\n<span class=\"token keyword\">int</span> second <span class=\"token operator\">=</span> current_time<span class=\"token punctuation\">.</span><span class=\"token function\">second</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//当前的秒</span>\n<span class=\"token keyword\">int</span> msec <span class=\"token operator\">=</span> current_time<span class=\"token punctuation\">.</span><span class=\"token function\">msec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">//当前的毫秒</span>\n</code></pre>\n<h3><a id=\"log_25\"></a>方法三：用打log的方式</h3>\n<p>写一个实现同步记录log的类对象，来对当前程序中的进度进行具体时间和内容的输出。<br/> 特点：时间准确，且不影响主线程。log记录在本地，可以便于追溯和比对。</p>\n<p>具体实现方式，下次有空再具体记录。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}