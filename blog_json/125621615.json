{"blogid": "125621615", "writerAge": "码龄3年", "writerBlogNum": "3", "writerCollect": "10", "writerComment": "9", "writerFan": "6", "writerGrade": "1级", "writerIntegral": "55", "writerName": "Fankyt", "writerProfileAdress": "writer_image\\profile_125621615.jpg", "writerRankTotal": "130145", "writerRankWeekly": "490388", "writerThumb": "13", "writerVisitNum": "2137", "blog_read_count": "1800", "blog_time": "于 2022-07-05 15:53:21 发布", "blog_title": "vue-print-nb 实现页面打印（含分页打印）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"Web__0\"></a>Web 实现页面打印</h1>\n<h2><a id=\"_2\"></a>安装</h2>\n<blockquote>\n<p>官网地址：<a href=\"https://github.com/Power-kxLee/vue3-print-nb\"><code>https://github.com/Power-kxLee/vue3-print-nb</code></a></p>\n</blockquote>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// 安装 打印组件</span>\nnpm install vue<span class=\"token operator\">-</span>print<span class=\"token operator\">-</span>nb <span class=\"token operator\">--</span>save\n</code></pre>\n<h2><a id=\"_11\"></a>引用</h2>\n<ul><li> <p>vue2引用</p> <pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> Print <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-print-nb'</span>\n<span class=\"token comment\">// 全局引用</span>\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Print<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 或者</span>\n\n<span class=\"token comment\">// 单组件引用</span>\n<span class=\"token keyword\">import</span> print <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-print-nb'</span>\n<span class=\"token comment\">// 在自定义指令中注册</span>\n<span class=\"token literal-property property\">directives</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n    print   \n<span class=\"token punctuation\">}</span>\n</code></pre> </li><li> <p>vue3引用</p>\n<ul><li> <pre><code class=\"prism language-js\"><span class=\"token comment\">// 全局引用</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> createApp <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App.vue'</span>\n<span class=\"token keyword\">import</span> print <span class=\"token keyword\">from</span> <span class=\"token string\">'vue3-print-nb'</span>\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>print<span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#app'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 或者</span>\n\n<span class=\"token comment\">// 单组件引用</span>\n<span class=\"token keyword\">import</span> print <span class=\"token keyword\">from</span> <span class=\"token string\">'vue3-print-nb'</span>\n<span class=\"token comment\">// 在自定义指令中注册</span>\n<span class=\"token literal-property property\">directives</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n    print   \n<span class=\"token punctuation\">}</span>\n</code></pre> </li></ul> </li></ul>\n<h2><a id=\"API_52\"></a>API</h2>\n<table><thead><tr><th align=\"center\">属性</th><th align=\"center\">类型</th><th align=\"center\">默认值</th><th align=\"center\">必要</th><th align=\"center\">可选值</th><th align=\"center\">描述</th></tr></thead><tbody><tr><td align=\"center\">id</td><td align=\"center\">String</td><td align=\"center\">-</td><td align=\"center\">是</td><td align=\"center\">-</td><td align=\"center\">范围打印 ID（如果设置url则可以不设置id）</td></tr><tr><td align=\"center\">url</td><td align=\"center\">String</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">打印指定的 URL。（不允许同时设置ID</td></tr><tr><td align=\"center\">popTitle</td><td align=\"center\">String</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">默认使用浏览器标签名，为空时为undefined</td></tr><tr><td align=\"center\">standard</td><td align=\"center\">String</td><td align=\"center\">HTML5</td><td align=\"center\">否</td><td align=\"center\">html5，loose，strict</td><td align=\"center\">打印的文档类型</td></tr><tr><td align=\"center\">extraHead</td><td align=\"center\">String</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">在节点中添加 DOM 节点， 并用,(Print local range only)分隔多个节点</td></tr><tr><td align=\"center\">extraCss</td><td align=\"center\">String</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">新的 CSS 样式表， 并使用,（仅打印本地范围）分隔多个节点</td></tr><tr><td align=\"center\">openCallback</td><td align=\"center\">Function</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">调用打印工具成功回调函数</td></tr><tr><td align=\"center\">closeCallback</td><td align=\"center\">Function</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">关闭打印工具成功回调函数</td></tr><tr><td align=\"center\">beforeOpenCallback</td><td align=\"center\">Function</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">调用打印工具前的回调函数</td></tr><tr><td align=\"center\">preview</td><td align=\"center\">Boolean</td><td align=\"center\">false</td><td align=\"center\">否</td><td align=\"center\">true,false</td><td align=\"center\">预览工具</td></tr><tr><td align=\"center\">previewTitle</td><td align=\"center\">String</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">‘打印预览’</td></tr><tr><td align=\"center\">previewPrintBtnLabel</td><td align=\"center\">String</td><td align=\"center\">打印</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">打印按钮名称</td></tr><tr><td align=\"center\">previewBeforeOpenCallback</td><td align=\"center\">Function</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">预览打开前回调函数</td></tr><tr><td align=\"center\">previewOpenCallback</td><td align=\"center\">Function</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">预览打开回调函数</td></tr><tr><td align=\"center\">clickMounted</td><td align=\"center\">Function</td><td align=\"center\">-</td><td align=\"center\">否</td><td align=\"center\">-</td><td align=\"center\">点击打印按钮回调函数</td></tr></tbody></table>\n<h2><a id=\"_73\"></a>示例代码</h2>\n<ol><li> <p>全页面打印</p> <pre><code class=\"prism language-vue\">&lt;button v-print&gt;打印整个页面&lt;/button&gt;\n</code></pre> </li><li> <p>局部打印（Tip：被打印的区域需要被渲染出来并且不能被隐藏才可以打印）</p> <pre><code class=\"prism language-vue\">&lt;template&gt;\n\t&lt;div&gt;\n\t\t&lt;button v-print=\"printOption\"&gt;NB打印&lt;/button&gt;\n\t\t&lt;div id=\"nbprint\"&gt;\n\t\t\t&lt;table&gt;\n\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t&lt;th&gt;序号&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;姓名&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;年龄&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;性别&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;手机&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;邮箱&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;地址&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;工龄&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;岗位&lt;/th&gt;\n\t\t\t\t\t&lt;th&gt;薪资&lt;/th&gt;\n\t\t\t\t&lt;/tr&gt;\n\t\t\t\t&lt;tr v-for=\"(item, index) in list\" key=\"index\"&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ index + 1}}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.name }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.age }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.sex }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.phone }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.mail }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.address }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.workAge }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.jobs }}&lt;/td&gt;\n\t\t\t\t\t&lt;td&gt;{<!-- -->{ item.salary }}&lt;/td&gt;\n\t\t\t\t&lt;/tr&gt;\n\t\t\t&lt;/table&gt;\n\t\t&lt;/div&gt;\n\t&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n\texport default {\n\t\tname: \"nb-print\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tprintOption: {\n\t\t\t\t\tid: 'nbprint', // 打印元素的id 不需要携带#号\n\t\t\t\t\tpopTitle: '员工信息' // 页眉标题 默认浏览器标题 空字符串时显示undefined 使用html语言\n\t\t\t\t},\n\t\t\t\tlist: [{\n\t\t\t\t\t\tname: \"阿哒\",\n\t\t\t\t\t\tage: 26,\n\t\t\t\t\t\tsex: \"男\",\n\t\t\t\t\t\tphone: \"12345678901\",\n\t\t\t\t\t\tmail: \"mmm@mmm.com\",\n\t\t\t\t\t\taddress: \"蓝星星国马尔哈哈海岛\",\n\t\t\t\t\t\tworkAge: 2,\n\t\t\t\t\t\tjobs: \"研发\",\n\t\t\t\t\t\tsalary: \"1.8k\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"阿荣\",\n\t\t\t\t\t\tage: 24,\n\t\t\t\t\t\tsex: \"男\",\n\t\t\t\t\t\tphone: \"12345678901\",\n\t\t\t\t\t\tmail: \"mmm@mmm.com\",\n\t\t\t\t\t\taddress: \"蓝星星国马尔哈哈海岛\",\n\t\t\t\t\t\tworkAge: 1,\n\t\t\t\t\t\tjobs: \"研发\",\n\t\t\t\t\t\tsalary: \"1.8k\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"阿豪\",\n\t\t\t\t\t\tage: 26,\n\t\t\t\t\t\tsex: \"男\",\n\t\t\t\t\t\tphone: \"12345678901\",\n\t\t\t\t\t\tmail: \"mmm@mmm.com\",\n\t\t\t\t\t\taddress: \"蓝星星国马尔哈哈海岛\",\n\t\t\t\t\t\tworkAge: 5,\n\t\t\t\t\t\tjobs: \"产品\",\n\t\t\t\t\t\tsalary: \"1.8k\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"阿晨\",\n\t\t\t\t\t\tage: 29,\n\t\t\t\t\t\tsex: \"男\",\n\t\t\t\t\t\tphone: \"12345678901\",\n\t\t\t\t\t\tmail: \"mmm@mmm.com\",\n\t\t\t\t\t\taddress: \"蓝星星国马尔哈哈海岛\",\n\t\t\t\t\t\tworkAge: 9,\n\t\t\t\t\t\tjobs: \"设计\",\n\t\t\t\t\t\tsalary: \"1.8k\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"阿震\",\n\t\t\t\t\t\tage: 30,\n\t\t\t\t\t\tsex: \"男\",\n\t\t\t\t\t\tphone: \"12345678901\",\n\t\t\t\t\t\tmail: \"mmm@mmm.com\",\n\t\t\t\t\t\taddress: \"蓝星星国马尔哈哈海岛\",\n\t\t\t\t\t\tworkAge: 7,\n\t\t\t\t\t\tjobs: \"销售\",\n\t\t\t\t\t\tsalary: \"1.8k\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"阿锋\",\n\t\t\t\t\t\tage: 21,\n\t\t\t\t\t\tsex: \"男\",\n\t\t\t\t\t\tphone: \"12345678901\",\n\t\t\t\t\t\tmail: \"mmm@mmm.com\",\n\t\t\t\t\t\taddress: \"蓝星星国马尔哈哈海岛\",\n\t\t\t\t\t\tworkAge: 0.1,\n\t\t\t\t\t\tjobs: \"售后\",\n\t\t\t\t\t\tsalary: \"1.8k\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t}\n&lt;/script&gt;\n</code></pre> </li><li> <p>打印预览</p> <pre><code class=\"prism language-vue\">&lt;script&gt;\n\texport default {\n\t\tname: \"nb-print\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tprintOption: {\n\t\t\t\t\tid: 'nbprint', // 打印元素的id 不需要携带#号\n\t\t\t\t\tpreview: true, // 开启打印预览\n\t\t\t\t\tpreviewTitle: '打印预览', // 打印预览标题\n\t\t\t\t\tpopTitle: '员工信息', // 页眉标题 默认浏览器标题 空字符串时显示undefined 使用html语言\n                      // 头部文字 默认空 在节点中添加 DOM 节点， 并用,(Print local range only)分隔多个节点\n\t\t\t\t\textraHead:'https://***/***.css, https://***/***.css', \n                      // 新的 CSS 样式表， 并使用,（仅打印本地范围）分隔多个节点\n\t\t\t\t\textraCss: '&lt;meta http-equiv=\"Content-Language\"content=\"zh-cn\"/&gt;',\n\t\t\t\t\tpreviewBeforeOpenCallback: () =&gt; {\n\t\t\t\t\t\tconsole.log(\"触发打印预览打开前回调\");\n\t\t\t\t\t},\n\t\t\t\t\tpreviewOpenCallback: () =&gt; {\n\t\t\t\t\t\tconsole.log(\"触发打开打印预览回调\");\n\t\t\t\t\t},\n\t\t\t\t\tbeforeOpenCallback: () =&gt; {\n\t\t\t\t\t\tconsole.log(\"触发打印工具打开前回调\");\n\t\t\t\t\t},\n\t\t\t\t\topenCallback: () =&gt; {\n\t\t\t\t\t\tconsole.log(\"触发打开打印工具回调\");\n\t\t\t\t\t},\n\t\t\t\t\tcloseCallback: () =&gt; {\n\t\t\t\t\t\tconsole.log(\"触发关闭打印工具回调\");\n\t\t\t\t\t},\n\t\t\t\t\tclickMounted: () =&gt; {\n\t\t\t\t\t\tconsole.log(\"触发点击打印回调\");\n\t\t\t\t\t}\n\t\t\t\t}\n             }\n\t\t}\n\t}\n&lt;/script&gt;\n\n</code></pre> </li><li> <p>分页打印</p> <pre><code class=\"prism language-vue\">&lt;template&gt;\n\t&lt;div&gt;\n\t\t&lt;button v-print=\"'#nbprint'\"&gt;NB打印&lt;/button&gt;\n\t\t&lt;div id=\"nbprint\"&gt;\n             // 方法一\n             // 使用div包裹需要分页的块 使用 css属性 page-break-after:always进行分页\n\t\t\t&lt;div style=\"page-break-after:always\"&gt;这是第二页&lt;/div&gt;\n\t\t\t&lt;div style=\"page-break-after:always\"&gt;这是第二页&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;style&gt;\n     // 方法二\n     // 使用媒体查询 在打印时设置 body 和 html 的高度为auto\n     @media print {\n        @page {\n          size:  auto;\n        }\n        body, html {\n          height: auto !important;\n        }\n      }\n&lt;/style&gt;\n</code></pre> </li></ol>\n<pre><code>\n\n</code></pre>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}