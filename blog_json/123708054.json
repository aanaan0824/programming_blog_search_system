{"blogid": "123708054", "writerAge": "码龄2年", "writerBlogNum": "66", "writerCollect": "206", "writerComment": "47", "writerFan": "15", "writerGrade": "4级", "writerIntegral": "875", "writerName": "Syc1102g", "writerProfileAdress": "writer_image\\profile_123708054.jpg", "writerRankTotal": "23942", "writerRankWeekly": "8921", "writerThumb": "117", "writerVisitNum": "82476", "blog_read_count": "7249", "blog_time": "已于 2022-03-24 20:19:11 修改", "blog_title": "Keil uvision 5 安装和使用", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"Keil_uvision_5__0\"></a>Keil uvision 5 安装和使用</h2>\n<p></p>\n<div class=\"toc\">\n<h3>目录</h3>\n<ul><li><ul><li><a href=\"#Keil_uvision_5__0\">Keil uvision 5 安装和使用</a></li><li><ul><li><a href=\"#1Keil5__2\">1.Keil5 安装</a></li><li><ul><li><a href=\"#11__3\">1.1 准备资源：</a></li><li><a href=\"#12__MDK518exe_8\">1.2 安装 MDK518.exe</a></li><li><a href=\"#13__KeilSTM32F1xx_FP200pack_20\">1.3 运行 Keil.STM32F1xx_FP.2.0.0.pack</a></li><li><a href=\"#14__MDKCM518exe_24\">1.4 运行 MDKCM518.exe</a></li><li><a href=\"#15__27\">1.5 安装仿真下载器驱动程序</a></li><li><a href=\"#16__2032keil_30\">1.6 安装 2032版keil注册机</a></li><li><a href=\"#17__CH341SerSetupexeUSB_53\">1.7 安装 CH341SerSetup.exe(USB转串口驱动程序)</a></li><li><a href=\"#18__sscom5131exe_56\">1.8 配置 sscom5.13.1.exe</a></li></ul>\n</li><li><a href=\"#2Keil5__62\">2.Keil5 使用</a></li><li><ul><li><a href=\"#21__64\">2.1 打开软件</a></li><li><a href=\"#22__68\">2.2 新建工程</a></li><li><a href=\"#23__94\">2.3 创建工程文件夹</a></li><li><a href=\"#24__101\">2.4 创建文件</a></li><li><ul><li><a href=\"#241__107\">2.4.1 添加文件到工程里</a></li><li><a href=\"#242__111\">2.4.2 添加文件路径</a></li><li><a href=\"#243_HEX_117\">2.4.3 成机器可读的HEX文件</a></li></ul>\n</li><li><a href=\"#25__119\">2.5 调试</a></li><li><a href=\"#26__140\">2.6 中文注释乱码问题</a></li><li><a href=\"#27__145\">2.7 导入下载好的芯片包</a></li></ul>\n</li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<h3><a id=\"1Keil5__2\"></a>1.Keil5 安装</h3>\n<h4><a id=\"11__3\"></a>1.1 准备资源：</h4>\n<ul><li><strong>MDK518.exe(安装)</strong></li><li><strong>ARM.CMSIS.5.6.0.pack(安装)</strong></li><li><strong>STM32F1xx_DFP.2.3.0.pack(安装)</strong></li><li><strong>keygen.exe(破解器)</strong></li></ul>\n<h4><a id=\"12__MDK518exe_8\"></a>1.2 安装 MDK518.exe</h4>\n<p><strong>① 运行keil MDK V5.18文件夹中的 <font color=\"Blue\">MDK518.exe</font>。</strong><br/> ⭐️有新版可安装新版<br/> <strong>② 之后一直点下一步，修改路径，填写信息，安装。</strong><br/> <img alt=\"在这里插入图片描述\" src=\"image\\b4a70d93baca4d2c959b991e57badcb4.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\f25335fed15f4b27a13e3de75d98488e.png\"/></p>\n<p><strong>③ 安装结束时，提示你网络下载PACK，直接关闭，在第2步用自带的PACK。</strong></p>\n<h4><a id=\"13__KeilSTM32F1xx_FP200pack_20\"></a>1.3 运行 Keil.STM32F1xx_FP.2.0.0.pack</h4>\n<p>运行 <font color=\"Blue\">Keil.STM32F1xx_FP.2.0.0.pack</font> (支持STM32F1XX系列)。<br/> <strong>注</strong>： <font color=\"orange\">如果将来需要支持STM32F4XX系列，则运行 PCK文件夹中的Keil.STM32F4xx_DFP.2.7.0.pack即可(支持STM32F4XX系列)，目前不必安装。</font></p>\n<h4><a id=\"14__MDKCM518exe_24\"></a>1.4 运行 MDKCM518.exe</h4>\n<p>支持Keil4下创建的Cotex_M工程文件,安装 <font color=\"Blue\">MDKCM518.exe</font></p>\n<h4><a id=\"15__27\"></a>1.5 安装仿真下载器驱动程序</h4>\n<p>根据仿真器的型号，选择运行 J_LINK_USBDriver文件夹下面的 <font color=\"Blue\">InstallDrivers.exe</font>文件，或者运行ST_LINK官方驱动下面的 <font color=\"Blue\">dpinst_amd64.exe</font>(64位Windows系统)安装仿真下载器驱动程序。(如果报错，卸载dpinst_amd64. 之后再装 安装 dpinst_x86.exe )</p>\n<h4><a id=\"16__2032keil_30\"></a>1.6 安装 2032版keil注册机</h4>\n<center>\n<font color=\"red\"><strong>Keil 注册机破解说明</strong></font>\n</center> ① 运行keil MDK V5.18评估版只能编译联机连接几K的小程序（初级用户不必破解），如果需要几十K以上的大程序，需要破解注册。 \n<p><font color=\"orange\" face=\"楷书\">⚠️如果window10解压“2032版keil注册机及安装说明.rar”后文件夹中没有keygen.exe</font><br/> <strong>解决方案：</strong></p>\n<ol><li>关闭病毒扫描程序。如果win10系统安全中心处于病毒防护状态，需要排除一个文件夹位置不受保护，</li><li>Win10设置—&gt;安全中心—&gt;病毒和威胁防护—&gt;\"病毒和威胁防护\"设置-管理设置 —&gt;排除项-添加或删除排除项—&gt;添加排除项。最后指定一个文件夹作为不受保护的文件夹 。</li><li>然后把\"2032版keil注册机及安装说明.rar\"文件到该不受保护的文件夹，否侧解压后window10会当病毒自动删除其中的注册机程序文件 keygen.exe<br/> <img alt=\"在这里插入图片描述\" src=\"image\\41cca48299cb4b0b8a70eb82136f468a.png\"/></li></ol>\n<p>② 右击桌面<font color=\"Blue\">Keil uVision5快捷方式</font>， 以管理员身份打开运行该程序。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\df25987b76df4edeb8cdd289bd82ed3f.png\"/><br/> ③ 打开<font color=\"Blue\">FileLicense Management</font>，如图窗口。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\825e12f856c04e4fb96867751588223e.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\e6cf70412d4e4354ad2cae0c4070a4b2.png\"/><br/> ④ 解压并运行注册机程序 <font color=\"Blue\">keygen.exe</font>，弹出下图窗口，拷贝上图窗口中的CID，粘贴到下图窗口CID中，在如图所示设置Target和软件发行版本类型，最后点击Generate按钮，生成注册码。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\56f3f7d5009d4ff1b5608488353aefe5.png\"/><br/> ⑤ 拷贝上图窗口中的注册码，粘贴到\"License Managemnet\"窗口的<font color=\"Blue\">\"New License ID Code(LIC)\"</font> 文本框中，最后点击\"ADD LIC\" 按钮即可。结果如图6所示。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\920161a3f7804535b31fed7a5848780e.png\"/></p>\n<h4><a id=\"17__CH341SerSetupexeUSB_53\"></a>1.7 安装 CH341SerSetup.exe(USB转串口驱动程序)</h4>\n<p>运行 <font color=\"Blue\">CH341SerSetup.exe</font>文件，安装USB转串口驱动程序。</p>\n<h4><a id=\"18__sscom5131exe_56\"></a>1.8 配置 sscom5.13.1.exe</h4>\n<p>直接将串口调试工具 <font color=\"Blue\">sscom5.13.1.exe</font>文件拷贝到桌面上，不需要安装</p>\n<h3><a id=\"2Keil5__62\"></a>2.Keil5 使用</h3>\n<p>keil uvision5使用教程</p>\n<h4><a id=\"21__64\"></a>2.1 打开软件</h4>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\c61874f637ee48b4aa905bbd02299af0.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\1f6a7812dac845e18535cdca42efe24e.png\"/></p>\n<h4><a id=\"22__68\"></a>2.2 新建工程</h4>\n<center>\n<font color=\"red\" size=\"4\"><strong>新建工程操作步骤一览</strong></font>\n</center>\n<p>⭐️<strong>Tips</strong>：</p>\n<ul><li><strong>首先在桌面建立一个文件夹</strong></li><li><strong>打开KEIL5选择：<font color=\"Blue\">Project-&gt;New μVision project-&gt;选择建好的文件夹并命名-&gt;选择主控芯片型号-&gt;OK</font></strong></li></ul>\n<p><strong>⚠️注意：</strong> 选择芯片型号的时候，如果是<strong>51单片机</strong>，选择Generic下面的通用型，若是<strong>stm32单片机</strong>，则不建议自己建工程，直接使用工程模板即可。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\7c7514733c704f2a9d2c67a891742bba.png\"/></p>\n<center>\n<font color=\"red\" size=\"4\"><strong>新建工程操作步骤详解</strong></font>\n</center>\n<p>① 进入主界面后点击 <font color=\"Blue\">Project</font> 再选择 <font color=\"Blue\">New uVision Project</font> 创建新工程。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\3508c08c02344a0182e4309e3ebbeddf.png\"/><br/> ② 选芯片，选择工程保存位置点击保存。</p>\n<p><strong>⚠️注意：</strong> 选择芯片型号的时候，如果是<strong>51单片机</strong>，选择Generic下面的通用型，若是<strong>stm32单片机</strong>，则不建议自己建工程，直接使用工程模板即可。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\9e8f294cf6c141e1918b6e7138be62aa.png\"/></p>\n<p>选择需要的库，<strong>core</strong>和<strong>startup</strong>必选，选<strong>GPIO</strong>的话<strong>RCC</strong>和<strong>framework</strong>也必选，比起手动添加这样十分方便，且不易出错，而且有很全面的例程。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\b47c0a8de68b497688c3ad23dd74f26f.png\"/><br/> 也可以暂不选择，后续通过这里选择<br/> <img alt=\"在这里插入图片描述\" src=\"image\\2a211f91e20742b6ab89ce608544269b.png\"/></p>\n<h4><a id=\"23__94\"></a>2.3 创建工程文件夹</h4>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\2ce914ba7bfa4972af36469bc7dd5e06.png\"/><br/> 这里面可以完成文件夹的创建和后面程序文件的添加，<strong>双击</strong>文件夹名字可以重命名，其他创建。</p>\n<p><strong>⚠️注意：</strong> 这里面创建的文件夹只会在软件里面显示，而不会帮你在桌面的文件夹里面创建，所以还需要自己到桌面文件夹里面手动创建对应的文件夹。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\f392c9e5a4104014bd7d4dafe934da5b.png\"/></p>\n<h4><a id=\"24__101\"></a>2.4 创建文件</h4>\n<p>选择工具栏：<font color=\"Blue\">File-&gt;new(或者直接点击File下面的空白文件)-&gt;保存-&gt;选择User文件夹并将文件名保存为main.c</font><br/> <img alt=\"在这里插入图片描述\" src=\"image\\b75372ce6c6d4a368f0624d91a2452c7.png\"/><br/> 库文件(.h)的创建方法一样，注意后缀名。<br/> 保存之后就可以开始编写C文件了。</p>\n<h5><a id=\"241__107\"></a>2.4.1 添加文件到工程里</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\b39cd202319943c48988f6dd0788beae.png\"/></p>\n<h5><a id=\"242__111\"></a>2.4.2 添加文件路径</h5>\n<p>编写完成后，需要将文件添加到工程中去。<br/> <strong>⚠️注意：</strong> 不添加文件路径的话，软件会找不到文件所在。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\9faa76fd4dcc4e6586bfdda0524d5578.png\"/><br/> 只要是软件中能看到的文件夹，都应该有路径。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\ba959ff4ba424775aa5998b349fd7053.png\"/></p>\n<h5><a id=\"243_HEX_117\"></a>2.4.3 成机器可读的HEX文件</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\a614fc2c80494951b08e135b9cfe7bba.png\"/></p>\n<h4><a id=\"25__119\"></a>2.5 调试</h4>\n<p>点击 <font color=\"Blue\">File-&gt;魔术棒-&gt;Debug</font><br/> 选择<font color=\"Blue\">J-Link</font>调试,<strong>Utilities</strong>里选上<font color=\"Blue\">use debug driver</font></p>\n<p><strong>⚠️注意：</strong></p>\n<ul><li><font color=\"Orange\">Use simulator</font> 是虚拟调试；</li><li><font color=\"Orange\">Use J-LINK、J-TRACE Cortex</font> 是联机带板调试。</li></ul>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\8b9b8dbacb514a07aab3c8bb97aa90ae.png\"/></p>\n<p><strong>⚠️注意：</strong> 连接J-LINK之后，MDK自动升级segger（J-LINK的公司），然后说J-LINK说是CLONE的</p>\n<p><strong>解决办法：</strong><br/> ① 下载<strong>V4.34版本驱动</strong>，安装<br/> ② 将<strong>D:\\Keil_v5\\ARM\\Segger中的JLinkARM.dll</strong>替换为4.34版本就可以用了<br/> 下载频率最高可以到20Mhz。</p>\n<h4><a id=\"26__140\"></a>2.6 中文注释乱码问题</h4>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\a596c7ed26b340dda5e29be58b5e27c4.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\5d024b8dc2844dd0a9f26b92c35cc127.png\"/><br/> 其他的编辑设置也可以参照这张图配置：将tab键改为4个空格、显示代码行号等。</p>\n<h4><a id=\"27__145\"></a>2.7 导入下载好的芯片包</h4>\n<p><img alt=\"在这里插入图片描述\" src=\"image\\8232b99b4f7d4495aaf50fc66877f5ce.png\"/></p>\n<p>选择 <font color=\"Blue\">File-&gt;import-&gt;选择需要添加的芯片包</font><br/> <img alt=\"在这里插入图片描述\" src=\"image\\7525923298494c149003a701986dd44c.png\"/><br/> <font size=\"5\"><strong>其他操作</strong></font></p>\n<p><strong>缩进快捷键</strong>：选中几行代码，用快捷键Shift+Tab为同时左缩进；只按Tab键为同时右缩进。<br/> <strong>编译快捷键</strong>：F7<br/> <strong>多行注释</strong>：<a href=\"https://blog.csdn.net/zhy295006359/article/details/77417692\">多行注释</a><br/> <strong>代码补全</strong>：<a href=\"https://blog.csdn.net/w5862338/article/details/50520423\">代码补全</a></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}