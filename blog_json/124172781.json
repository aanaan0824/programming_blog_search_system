{"blogid": "124172781", "writerAge": "码龄6年", "writerBlogNum": "188", "writerCollect": "84", "writerComment": "28", "writerFan": "47", "writerGrade": "5级", "writerIntegral": "4494", "writerName": "tjg888888", "writerProfileAdress": "writer_image\\profile_124172781.jpg", "writerRankTotal": "22665", "writerRankWeekly": "228013", "writerThumb": "33", "writerVisitNum": "308445", "blog_read_count": "1438", "blog_time": "于 2022-04-14 15:24:28 发布", "blog_title": "php中使用$_ENV获取环境变量", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>第一步</p>\n<p>找到php.ini文件(一般路径是/usr/local/php/etc)</p>\n<p>第二步找到variables_order参数</p>\n<p>默认是GPCS 更改成EGPCS</p>\n<p>第三步 打开php-fpm.conf文件，设置要设置的环境变量值</p>\n<p>env[PHALPI_REDIS_AUTH]=redis密码<br/> env[PHALPI_REDIS_HOST]=redis ip<br/> env[PHALPI_REDIS_PORT]=redis 端口</p>\n<p>第四步 改完后保存退出，重启php-fpm命令</p>\n<p>systemctl restart php-fpm.service</p>\n<p>第五步 项目代码中直接使用$_ENV</p>\n<p>'REDIS_HOST' =&gt; $_ENV['PHALPI_REDIS_HOST'],<br/> 'REDIS_AUTH' =&gt; $_ENV['PHALPI_REDIS_AUTH'],<br/> 'REDIS_PORT' =&gt; $_ENV['PHALPI_REDIS_PORT'],</p>\n<p>说明 可以通过echo $_ENV['PHALPI_REDIS_HOST']输出一下看是否取到值了，取到了说明成功，至此已完</p>\n</div>\n</div>"}