{"blogid": "124500958", "writerAge": "码龄4年", "writerBlogNum": "1", "writerCollect": "0", "writerComment": "0", "writerFan": "0", "writerGrade": "1级", "writerIntegral": "10", "writerName": "北境牌王杰洛特", "writerProfileAdress": "writer_image\\profile_124500958.jpg", "writerRankTotal": "248426", "writerRankWeekly": "1335567", "writerThumb": "0", "writerVisitNum": "2581", "blog_read_count": "2581", "blog_time": "于 2022-04-29 17:59:15 发布", "blog_title": "Laravel项目安装kafka客户端", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_5\">前言</a></li><li><a href=\"#_librdkafkadev_10\">一、安装 librdkafka-dev</a></li><li><a href=\"#_rdkafka_17\">二、安装 rdkafka</a></li><li><a href=\"#composer_29\">三、composer引入</a></li><li><a href=\"#_42\">总结</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"_5\"></a>前言</h1>\n<p>Laravel版本为9.2，php环境是docker部署，镜像系统alpine3.15，使用的composer包为mateusjunges/laravel-kafka</p>\n<hr/>\n<h1><a id=\"_librdkafkadev_10\"></a>一、安装 librdkafka-dev</h1>\n<p>打开终端，进入容器内部</p>\n<pre><code class=\"prism language-bash\">apk <span class=\"token function\">add</span> librdkafka-dev\n</code></pre>\n<h1><a id=\"_rdkafka_17\"></a>二、安装 rdkafka</h1>\n<blockquote>\n<p>参考文档：https://github.com/edenhill/librdkafka#installation</p>\n</blockquote>\n<p>通过pecl来安装就好</p>\n<pre><code class=\"prism language-bash\">pecl <span class=\"token function\">install</span> rdkafka\n</code></pre>\n<p>安装完后启动该拓展，当然也可以手动把rakafka.so文件添加进php.ini</p>\n<pre><code class=\"prism language-bash\">docker-php-ext-enable rdkafka\n</code></pre>\n<h1><a id=\"composer_29\"></a>三、composer引入</h1>\n<blockquote>\n<p>参考文档：https://junges.dev/documentation/laravel-kafka/v1.7/3-installation-and-setup</p>\n</blockquote>\n<pre><code class=\"prism language-bash\"><span class=\"token comment\"># 安装</span>\n<span class=\"token function\">composer</span> require mateusjunges/laravel-kafka\n<span class=\"token comment\"># 发布配置</span>\nphp artisan vendor:publish --tag<span class=\"token operator\">=</span>laravel-kafka-config\n</code></pre>\n<hr/>\n<h1><a id=\"_42\"></a>总结</h1>\n<p>安装librdkafka-dev 和 rdkafka 的过程其实可以写在dockerfile，构建的时候直接装好。</p>\n<p>收工</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}