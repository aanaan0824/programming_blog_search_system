{"blogid": "126203283", "writerAge": "码龄1年", "writerBlogNum": "72", "writerCollect": "2610", "writerComment": "4589", "writerFan": "8349", "writerGrade": "6级", "writerIntegral": "8328", "writerName": "codeMak1r.小新", "writerProfileAdress": "writer_image\\profile_126203283.jpg", "writerRankTotal": "1737", "writerRankWeekly": "13", "writerThumb": "2774", "writerVisitNum": "208528", "blog_read_count": "9004", "blog_time": "已于 2022-08-14 21:47:19 修改", "blog_title": "【React Router v6】快速上手react-router-dom6（对比 router5）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/61fa35c822704dc1b2ec6aae1694c494.gif#pic_center\"/></p>\n<blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>😇本文目录😇</h3>\n<ul><li><a href=\"#React_Router__6__9\">React Router 6 快速上手</a></li><li><ul><li><a href=\"#1_19\">1.概述</a></li><li><a href=\"#2_31\">2.基本使用</a></li><li><a href=\"#3_93\">3.重定向</a></li><li><a href=\"#4NavLink_116\">4.NavLink高亮</a></li><li><a href=\"#5useRoutes_159\">5.useRoutes路由表</a></li><li><a href=\"#6Outlet_216\">6.嵌套路由（Outlet）</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<p><strong><font color=\"#FF7F50\">本文被专栏<a href=\"https://blog.csdn.net/svik_zy/category_11671445.html?spm=1001.2014.3001.5482\">【React–从基础到实战】</a>收录</font></strong></p>\n</blockquote>\n<blockquote>\n<p><strong><font color=\"#FF7F50\">🕹坚持创作✏️，一起学习📖，码出未来👨🏻‍💻！</font></strong><br/> <img alt=\"在这里插入图片描述\" height=\"80%\" src=\"image\\d9a55186e1bf43118f3a39b0f231307b.png\" width=\"80%\"/></p>\n</blockquote>\n<h1><a id=\"React_Router__6__9\"></a>React Router 6 快速上手</h1>\n<blockquote>\n<p>在之前的文章中，我们已经学习了react-router-dom v5的内容，在react-router-dom v6版本中，对旧版本的API以及一些组件做了些许修改。本文开始，我将带大家学习最新的react-router-dom v6版本的路由知识，<strong>并且会与v5老版本进行一些对比。</strong></p>\n<p>需要学习react-router-dom v5版本的可以点击：</p>\n<p><a href=\"https://blog.csdn.net/Svik_zy/article/details/125633293?spm=1001.2014.3001.5502\">react-router-dom入门</a></p>\n<p><a href=\"https://blog.csdn.net/Svik_zy/article/details/125676698?spm=1001.2014.3001.5502\">react-router-dom入门2</a></p>\n</blockquote>\n<h2><a id=\"1_19\"></a>1.概述</h2>\n<ol><li>React Router 以三个不同的包发布到npm上，它们分别为： \n  <ol><li>react-router：路由的核心库，提供了很多的：组件、钩子</li><li>react-router-dom：包含react-router所有内容，并添加了一些专门用于DOM的组件，例如<code>&lt;BrowserRouter&gt;</code>等</li><li>react-router-native：包括react-router所有内容，并添加一些专门用于ReactNative的API，例如<code>&lt;NativeRouter&gt;</code>等</li></ol> </li><li>与React Router 5.x版本相比，改变了什么？ \n  <ol><li>内置组件的变化：移除<code>&lt;Switch /&gt;</code>，新增<code>&lt;Routes /&gt;</code>等</li><li>语法的变化：<code>component={About}</code>变为<code>element={&lt;About /&gt;}</code>等</li><li>新增多个hook：<code>useParams</code>、<code>useNavigate</code>、<code>useMatch</code>等</li><li>官方明确推荐函数式组件！</li></ol> </li></ol>\n<h2><a id=\"2_31\"></a>2.基本使用</h2>\n<p>我们还是使用之前讲解react-router-dom@5的示例。</p>\n<p><img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/539f367d04634a2bbbbd2c2f6c29c50a.gif#pic_center\"/></p>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{<!-- --></span> Fragment <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> NavLink<span class=\"token punctuation\">,</span> Routes<span class=\"token punctuation\">,</span> Route <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n<span class=\"token keyword\">import</span> About <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/About'</span>\n<span class=\"token keyword\">import</span> Home <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/Home'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Fragment<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"row\"</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col-xs-offset-2 col-xs-8\"</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"page-header\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">&gt;</span>React Router Demo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"row\"</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col-xs-2 col-xs-offset-2\"</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"list-group\"</span><span class=\"token operator\">&gt;</span>\n    \t\t\t\t\t <span class=\"token comment\">// 编写路由链接</span>\n              <span class=\"token operator\">&lt;</span>NavLink className<span class=\"token operator\">=</span><span class=\"token string\">'list-group-item'</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span><span class=\"token operator\">&gt;</span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink <span class=\"token operator\">&gt;</span>\n              <span class=\"token operator\">&lt;</span>NavLink className<span class=\"token operator\">=</span><span class=\"token string\">'list-group-item'</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">&gt;</span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink <span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"col-xs-6\"</span><span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"panel\"</span><span class=\"token operator\">&gt;</span>\n              <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"panel-body\"</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">/* 注册路由 */</span><span class=\"token punctuation\">}</span>\n                <span class=\"token operator\">&lt;</span>Routes<span class=\"token operator\">&gt;</span>\n                  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">'/about'</span> element<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n                  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">'/home'</span> element<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token operator\">&lt;</span>Home <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n                <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Routes<span class=\"token operator\">&gt;</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Fragment<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<blockquote>\n<p>注意⚠️，在v6版本中，依旧需要将外层App组件用<span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n     \n      \n       \n        \n         &lt;\n        \n        \n         B\n        \n        \n         r\n        \n        \n         o\n        \n        \n         w\n        \n        \n         s\n        \n        \n         e\n        \n        \n         r\n        \n        \n         R\n        \n        \n         o\n        \n        \n         u\n        \n        \n         t\n        \n        \n         e\n        \n        \n         r\n        \n        \n         &gt;\n        \n       \n       \n        &lt;BrowserRouter&gt;\n       \n      \n     </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.5782em; vertical-align: -0.0391em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height: 0.7224em; vertical-align: -0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.0502em;\">B</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\" style=\"margin-right: 0.0269em;\">w</span><span class=\"mord mathnormal\" style=\"margin-right: 0.0278em;\">ser</span><span class=\"mord mathnormal\" style=\"margin-right: 0.0077em;\">R</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\" style=\"margin-right: 0.0278em;\">er</span><span class=\"mspace\" style=\"margin-right: 0.2778em;\"></span><span class=\"mrel\">&gt;</span></span></span></span></span>标签包裹起来。</p>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n<span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">&gt;</span>\n <span class=\"token operator\">&lt;</span>BrowserRouter<span class=\"token operator\">&gt;</span>\n   <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>BrowserRouter<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n</blockquote>\n<h2><a id=\"3_93\"></a>3.重定向</h2>\n<p>在react-router-dom v5版本中，我们是使用<code>Redirect</code>进行重定向的，但是在新版本中呢，删除了<code>Redirect</code>，换成了另一个叫做：<code>Navigate</code>。</p>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">// 重定向</span>\n<span class=\"token comment\">// react-router-dom v5</span>\n<span class=\"token operator\">&lt;</span>Redirect to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n  \n<span class=\"token comment\">// react-router-dom v6</span>\n<span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">'/'</span> element<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token operator\">&lt;</span>Navigate to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>值得注意的是，<code>Navigate</code>组件接收两个属性，一个是上面提到的to属性，另一个属性是<code>replace</code>。</p>\n<pre><code class=\"prism language-js\"><span class=\"token operator\">&lt;</span>Navigate to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> replace <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>我们知道，路由的跳转有两种模式，一种是<code>push</code>，<em>push会将这个url压入路由history栈顶；</em> <em>而<code>replace</code>模式会将栈顶的url替换</em> 。</p>\n<p><code>Navigate</code>组件中可以设置<code>replace</code>的值为true或者false，默认为<code>false</code>，也就是<em>重定向默认是<code>push</code>模式跳转。</em></p>\n<h2><a id=\"4NavLink_116\"></a>4.NavLink高亮</h2>\n<p>高亮样式</p>\n<pre><code class=\"prism language-css\"><span class=\"token selector\">.LinkBackColor</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> orange <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> white <span class=\"token important\">!important</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>修改高亮之前<img alt=\"在这里插入图片描述\" height=\"50%\" src=\"image\\32cdb769f1cb49a5988dbf66070768e3.png\" width=\"50%\"/></p>\n<p>修改高亮之后<img alt=\"在这里插入图片描述\" height=\"50%\" src=\"image\\08e52a93bb4948f2973659220684902b.png\" width=\"50%\"/><br/> react-router-dom v5中，实现NavLink高亮使用的是NavLink组件标签中的<code>activeClassName</code>属性。</p>\n<pre><code class=\"prism language-js\"><span class=\"token operator\">&lt;</span>NavLink activeClassName<span class=\"token operator\">=</span><span class=\"token string\">'LinkBackColor'</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"list-group-item\"</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">&gt;</span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink<span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>但是在新版本v6中，我们如果想实现NavLink高亮效果，需要将<code>className</code>属性设置为一个函数。</p>\n<pre><code class=\"prism language-js\"><span class=\"token operator\">&lt;</span>NavLink className<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n   <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{<!-- --></span> isActive <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token keyword\">return</span> isActive <span class=\"token operator\">?</span> <span class=\"token string\">\"list-group-item LinkBackColor\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"list-group-item\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">&gt;</span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink <span class=\"token operator\">&gt;</span>\n</code></pre>\n<p><strong>代码优化</strong></p>\n<p>将计算className的值封装成一个函数</p>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">computedClassName</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{<!-- --></span> isActive <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">return</span> isActive <span class=\"token operator\">?</span> <span class=\"token string\">\"list-group-item LinkBackColor\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"list-group-item\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token operator\">&lt;</span>NavLink className<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>computedClassName<span class=\"token punctuation\">}</span> to<span class=\"token operator\">=</span><span class=\"token string\">\"/home\"</span><span class=\"token operator\">&gt;</span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink <span class=\"token operator\">&gt;</span>\n</code></pre>\n<h2><a id=\"5useRoutes_159\"></a>5.useRoutes路由表</h2>\n<p>在Vue中，<code>Vue CLI</code>脚手架搭建完毕之后，项目目录中就会有一个<code>router</code>文件夹，里面就是用来存放路由表的。</p>\n<p>在react-router-dom v6版本中，也可以很轻松的把路由都中心化地维护在路由表中了。</p>\n<pre><code>src结构\n├─App.jsx\n├─index.js\n├─routes\n|   └index.js\n├─pages\n|   ├─About.jsx\n|   └Home.jsx\n</code></pre>\n<p>/routes/index.js</p>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> Navigate <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-router-dom\"</span>\n<span class=\"token keyword\">import</span> About <span class=\"token keyword\">from</span> <span class=\"token string\">\"../pages/About\"</span>\n<span class=\"token keyword\">import</span> Home <span class=\"token keyword\">from</span> <span class=\"token string\">\"../pages/Home\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/about'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">element</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/home'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">element</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Home <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">element</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Navigate to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n</code></pre>\n<p>使用路由表</p>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> NavLink<span class=\"token punctuation\">,</span> useRoutes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n<span class=\"token keyword\">import</span> routes <span class=\"token keyword\">from</span> <span class=\"token string\">'./routes'</span>\n\n<span class=\"token comment\">// 根据路由表生成对应的路由规则</span>\n<span class=\"token keyword\">const</span> element <span class=\"token operator\">=</span> <span class=\"token function\">useRoutes</span><span class=\"token punctuation\">(</span>routes<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 注册路由</span>\n<span class=\"token operator\">+</span> <span class=\"token punctuation\">{<!-- --></span>element<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">-</span> <span class=\"token operator\">&lt;</span>Routes<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">-</span>  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">'/about'</span> element<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token operator\">&lt;</span>About <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">-</span>  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">'/home'</span> element<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token operator\">&lt;</span>Home <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">-</span>  <span class=\"token operator\">&lt;</span>Route path<span class=\"token operator\">=</span><span class=\"token string\">'/'</span> element<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token operator\">&lt;</span>Navigate to<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">-</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Routes<span class=\"token operator\">&gt;</span>\n</code></pre>\n<h2><a id=\"6Outlet_216\"></a>6.嵌套路由（Outlet）</h2>\n<p><img alt=\"在这里插入图片描述\" height=\"50%\" src=\"https://img-blog.csdnimg.cn/d0d711f5499b4641ad8f04083e9a9081.gif#pic_center\" width=\"50%\"/></p>\n<p>如图所示，Message与News都是Home组件下的子路由组件，这里的/home/message与/home/news就发生了路由的嵌套。</p>\n<p>我们还是使用路由表来统一维护路由组件。</p>\n<p>首先修改路由表：</p>\n<pre><code class=\"prism language-js\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'/home'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">element</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Home <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'message'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">element</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Message <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'news'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">element</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>News <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>将嵌套的二级路由放在<code>children属性</code>中注册，这一点与<code>Vue</code>类似。</p>\n<p>Home组件：</p>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> NavLink<span class=\"token punctuation\">,</span> Outlet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Home</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">&gt;</span>Home组件内容<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>ul className<span class=\"token operator\">=</span><span class=\"token string\">\"nav nav-tabs\"</span><span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>NavLink className<span class=\"token operator\">=</span><span class=\"token string\">'list-group-item'</span> to<span class=\"token operator\">=</span><span class=\"token string\">'news'</span><span class=\"token operator\">&gt;</span>News<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>NavLink className<span class=\"token operator\">=</span><span class=\"token string\">'list-group-item'</span> to<span class=\"token operator\">=</span><span class=\"token string\">'message'</span><span class=\"token operator\">&gt;</span>Message<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavLink<span class=\"token operator\">&gt;</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">&gt;</span>\n        <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">/* 指定路由组件呈现的位置 */</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span>Outlet <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<pre><code>&lt;NavLink className='list-group-item' to='news'&gt;News&lt;/NavLink&gt;\n中的to属性有三种写法：\n1. to='news'\n2. to='./news'\n3. to='/home/news'  //这一种与react-router-dom5中一样\n</code></pre>\n<blockquote>\n<p><code>Outlet</code>组件用于指定嵌套路由组件呈现的位置，详细的说明会在后续专栏文章《总结路由API》中提到。</p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}