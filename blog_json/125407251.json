{"blogid": "125407251", "writerAge": "码龄1年", "writerBlogNum": "26", "writerCollect": "59", "writerComment": "14", "writerFan": "4575", "writerGrade": "2级", "writerIntegral": "320", "writerName": "保加利亚的风", "writerProfileAdress": "writer_image\\profile_125407251.jpg", "writerRankTotal": "48938", "writerRankWeekly": "1473", "writerThumb": "27", "writerVisitNum": "27223", "blog_read_count": "5827", "blog_time": "已于 2022-07-06 16:37:40 修改", "blog_title": "Mybatis中使用in()查询", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>这篇文章我会演示几种mybatis中使用in查询的方式。</p>\n<blockquote>\n<p><span style=\"color:#fe2c24;\"><strong>1 数组、字符串</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>2 集合</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>3 使用Myabtis-plus框架的条件构造器来实现</strong></span></p>\n</blockquote>\n<p>我们在mysql中使用in查询的方式是这样的</p>\n<p><img alt=\"\" height=\"214\" src=\"image\\945d4e3c86934f268c2c736d65cc3f55.png\" width=\"734\"/></p>\n<blockquote>\n<p> 那在mybatis中我们使用&lt;foreach&gt;标签来实现包含查询</p>\n</blockquote>\n<blockquote>\n<p><span style=\"color:#fe2c24;\"><strong>1 使用数组方式</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>Mapper：</strong></span></p>\n<p><img alt=\"\" height=\"114\" src=\"image\\d244ccd9647e4e219d5809f116033c85.png\" width=\"497\"/></p>\n<p> Mapper.xml：</p>\n<pre><code class=\"language-XML\">&lt;select id=\"studentList\" resultType=\"com.ywt.springboot.model.Student\"&gt;\n        select *\n        from student\n        where id in\n        &lt;foreach collection=\"array\" index=\"index\" item=\"item\" open=\"(\" separator=\",\" close=\")\"&gt;\n            #{item}\n        &lt;/foreach&gt;\n    &lt;/select&gt;</code></pre>\n<p></p>\n<p> <span style=\"color:#fe2c24;\"><strong>注</strong></span>：foreach中的 collection标签中为array，item是遍历ids中的每个元素，默认为item可以自定义。</p>\n<p></p>\n<p>测试类：</p>\n<p><img alt=\"\" height=\"430\" src=\"image\\10cb574d3ee44ba1bd45444242e1a6df.png\" width=\"975\"/></p>\n</blockquote>\n<blockquote>\n<p><span style=\"color:#b95514;\"><strong>我们可以使用字符串来接收参数，使用逗号分隔每个参数，然后把分隔后的参数放到集合中。</strong></span></p>\n<p> <img alt=\"\" height=\"437\" src=\"image\\2a8596d7bf39453283821ab68a2658b8.png\" width=\"758\"/></p>\n<p></p>\n</blockquote>\n<blockquote>\n<p><span style=\"color:#fe2c24;\"><strong> 2 使用List集合的方式</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>Mapper:</strong></span></p>\n<p><img alt=\"\" height=\"101\" src=\"image\\cf1e38d91b994b37baa5b4142dfcadb6.png\" width=\"499\"/></p>\n<p> Mapper.xml</p>\n<pre><code class=\"language-XML\">&lt;select id=\"studentList\" resultType=\"com.ywt.springboot.model.Student\"&gt;\n        select *\n        from student\n        where id in\n        &lt;foreach collection=\"list\" index=\"index\" item=\"item\" open=\"(\" separator=\",\" close=\")\"&gt;\n            #{item}\n        &lt;/foreach&gt;\n    &lt;/select&gt;</code></pre>\n<p> 使用list方式collection的value必须为list</p>\n<p> 测试：</p>\n<p><img alt=\"\" height=\"475\" src=\"image\\37331b723e2c4bd09462f3dc3c078120.png\" width=\"889\"/></p>\n</blockquote>\n<blockquote>\n<p>3 第三种我们使用Mybatis-plus框架的条件构造器来进行查询</p>\n<pre><code class=\"language-java\">@Test\n    void Test(){\n        QueryWrapper&lt;Student&gt; qw = new QueryWrapper&lt;&gt;();\n        qw.in(\"id\",7,9);\n        List&lt;Student&gt; students = studentMapper.selectList(qw);\n        System.out.println(students.toString());\n    }</code></pre>\n<p>条件构造器相关的方法在我另一篇博客，总结了常用的多种方法，以供大家参考：</p>\n<p><a href=\"https://blog.csdn.net/Syals/article/details/124122459?spm=1001.2014.3001.5501\" title=\"Mybatis-plus的条件构造器详细使用教程_保加利亚的风的博客-CSDN博客_mybatis构造器\">Mybatis-plus的条件构造器详细使用教程_保加利亚的风的博客-CSDN博客_mybatis构造器</a></p>\n</blockquote>\n<p> 测试结果：</p>\n<pre><code class=\"language-java\">[Student(id=7, name=蔡徐坤, age=18), Student(id=9, name=金科徐, age=18)]</code></pre>\n<p></p>\n</div>\n</div>"}