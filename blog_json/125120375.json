{"blogid": "125120375", "writerAge": "码龄2年", "writerBlogNum": "89", "writerCollect": "643", "writerComment": "723", "writerFan": "1326", "writerGrade": "5级", "writerIntegral": "2718", "writerName": "亚太地区百大最帅面孔第101名", "writerProfileAdress": "writer_image\\profile_125120375.jpg", "writerRankTotal": "6772", "writerRankWeekly": "1680", "writerThumb": "963", "writerVisitNum": "52429", "blog_read_count": "785", "blog_time": "已于 2022-06-12 08:51:43 修改", "blog_title": "MySQL数据库约束，表的设计", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>❤️Author： 老九<br/> ☕️个人博客：<a href=\"https://blog.csdn.net/partworld?type=blog\">老九的CSDN博客</a><br/> 🙏 个人名言：不可控之事 乐观面对<br/> 😍 系列专栏：MySQL通关系列</p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_6\">数据库约束</a></li><li><ul><li><a href=\"#not_null_7\">not null</a></li><li><a href=\"#unique_25\">unique</a></li><li><a href=\"#default_27\">default</a></li><li><a href=\"#primary_key__34\">primary key 主键</a></li><li><ul><li><a href=\"#auto_increment_37\">auto_increment</a></li></ul>\n</li><li><a href=\"#foreign_key__69\">foreign key 外键</a></li><li><a href=\"#check_113\">check</a></li></ul>\n</li><li><a href=\"#_128\">表的设计</a></li><li><ul><li><a href=\"#_129\">一对一</a></li><li><a href=\"#_135\">一对多</a></li><li><a href=\"#_141\">多对多</a></li><li><ul><li><a href=\"#_146\">多对多建表实例</a></li><li><a href=\"#_202\">插入数据到实例实现多对多</a></li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<h1><a id=\"_6\"></a>数据库约束</h1>\n<h2><a id=\"not_null_7\"></a>not null</h2>\n<ul><li>指定某列的存储不能为null值</li></ul>\n<pre><code class=\"prism language-sql\"> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student <span class=\"token punctuation\">(</span>id <span class=\"token keyword\">int</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span>name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.01</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> Field <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>        <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> id    <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"unique_25\"></a>unique</h2>\n<ul><li>保证某列必须有唯一的值，插入重复的值就会报错</li></ul>\n<h2><a id=\"default_27\"></a>default</h2>\n<ul><li>规定给列赋值时的默认值</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student<span class=\"token punctuation\">(</span>id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">'匿名'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"primary_key__34\"></a>primary key 主键</h2>\n<ul><li>主键约束，是not null 与unique的结合，确保某列的赋值不能为null，并且是唯一的</li></ul>\n<h3><a id=\"auto_increment_37\"></a>auto_increment</h3>\n<ul><li>自增特点：<br/> 1.如果表中没有记录，自增从1开始<br/> 2.如果有数据，从上一条记录往下自增<br/> 3.插入再删掉数据，自增的值不会重复利用，会按删掉的那条开始自增</li></ul>\n<pre><code class=\"prism language-sql\"> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student <span class=\"token punctuation\">(</span>id <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.01</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+----------------+</span>\n<span class=\"token operator\">|</span> Field <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>        <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra          <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+----------------+</span>\n<span class=\"token operator\">|</span> id    <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span> PRI <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span> <span class=\"token keyword\">auto_increment</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>                <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+----------------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> student <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token operator\">|</span> id <span class=\"token operator\">|</span> name   <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token operator\">|</span>  <span class=\"token number\">1</span> <span class=\"token operator\">|</span> 张三   <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token number\">1</span> <span class=\"token keyword\">row</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"foreign_key__69\"></a>foreign key 外键</h2>\n<ul><li>外键约束，在表一中的数据必须在表二中存在，要参照完整性准则</li><li>外键约束描述的是两张表的两个列之间的“依赖关系”</li><li>外键约束会影响表的删除，例如下面的实例的class表被关联，所以它不能被轻易删除</li></ul>\n<pre><code class=\"prism language-sql\">mysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> class <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> id <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.04</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> id <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> email <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">'unknow'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> QQ <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unique</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> classId <span class=\"token keyword\">int</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">foreign</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>classId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">references</span> class<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.03</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> class<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> Field <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>        <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> id    <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span> PRI <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.02</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> Field   <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>        <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> id      <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span> PRI <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> name    <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> email   <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> unknow  <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> QQ      <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span> UNI <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> classId <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span> MUL <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">---------+-------------+------+-----+---------+-------+</span>\n<span class=\"token number\">5</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h2><a id=\"check_113\"></a>check</h2>\n<ul><li>指定一个条件，通过条件来对值进行判定</li><li>但是mysql并不支持</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> test_user <span class=\"token punctuation\">(</span>\n   id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n   name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   sex <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   <span class=\"token keyword\">check</span> <span class=\"token punctuation\">(</span>sex <span class=\"token operator\">=</span><span class=\"token string\">'男'</span> <span class=\"token operator\">or</span> sex<span class=\"token operator\">=</span><span class=\"token string\">'女'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n<h1><a id=\"_128\"></a>表的设计</h1>\n<h2><a id=\"_129\"></a>一对一</h2>\n<ul><li>一对一设计表就比如学生表和账户表，一个账户对应到一个学生，一个学生也只有一个账户</li><li>表示方法<br/> 1.可以把这两个实体用一张表来表示<br/> 2.可以用两张表来表示，其中一张表包含了另一个表的id</li></ul>\n<h2><a id=\"_135\"></a>一对多</h2>\n<ul><li>一个学生应该处于一个班级中，一个班级可以包含多个学生</li><li>表示方法：<br/> 1.在班级表中，新增一列，表示这个班级里的学生id都有啥(mysql没有数组类型，redis可以)<br/> 2.班级表不变，学生表中，新增一列classId</li></ul>\n<h2><a id=\"_141\"></a>多对多</h2>\n<ul><li>多对多设计表就好比学生表和课程表,一个学生可以选多个课程,一个课程也可以被多个学生选择</li><li>表示方法 ：<br/> 使用一个关联表，来表示两个实体之间的关系</li></ul>\n<h3><a id=\"_146\"></a>多对多建表实例</h3>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 学生表</span>\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> test_student <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> id <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">'unknow'</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.03</span> sec<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">-- 选课表</span>\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> test_course <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> id <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token string\">'unknow'</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.02</span> sec<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">-- 成绩表</span>\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> test_score <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> studentId <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> courseId <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> score <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token keyword\">foreign</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>studentId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">references</span> test_student<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token keyword\">foreign</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>courseId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">references</span> test_course<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token keyword\">rows</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.02</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> test_student<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> Field <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>        <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> id    <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span> PRI <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> unknow  <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> test_coures<span class=\"token punctuation\">;</span>\nERROR <span class=\"token number\">1146</span> <span class=\"token punctuation\">(</span><span class=\"token number\">42</span>S02<span class=\"token punctuation\">)</span>: <span class=\"token keyword\">Table</span> <span class=\"token string\">'java_5_27.test_coures'</span> doesn't exist\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> test_course<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> Field <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>        <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> id    <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span>     <span class=\"token operator\">|</span> <span class=\"token keyword\">NO</span>   <span class=\"token operator\">|</span> PRI <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> unknow  <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-------+-------------+------+-----+---------+-------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">desc</span> test_score<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+---------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> Field     <span class=\"token operator\">|</span> <span class=\"token keyword\">Type</span>    <span class=\"token operator\">|</span> <span class=\"token boolean\">Null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Key</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">Default</span> <span class=\"token operator\">|</span> Extra <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+---------+------+-----+---------+-------+</span>\n<span class=\"token operator\">|</span> studentId <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span> MUL <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> courseId  <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span> MUL <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> score     <span class=\"token operator\">|</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> YES  <span class=\"token operator\">|</span>     <span class=\"token operator\">|</span> <span class=\"token boolean\">NULL</span>    <span class=\"token operator\">|</span>       <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+---------+------+-----+---------+-------+</span>\n<span class=\"token number\">3</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h3><a id=\"_202\"></a>插入数据到实例实现多对多</h3>\n<pre><code class=\"prism language-sql\">mysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_student <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'listen'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.01</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_course <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'数学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_student <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Faker'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_course <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'数学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_score <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_score <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_score <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> test_score <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nQuery OK<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token keyword\">row</span> affected <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> test_student<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token operator\">|</span> id <span class=\"token operator\">|</span> name   <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token operator\">|</span>  <span class=\"token number\">1</span> <span class=\"token operator\">|</span> listen <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>  <span class=\"token number\">2</span> <span class=\"token operator\">|</span> Faker  <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> test_course<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token operator\">|</span> id <span class=\"token operator\">|</span> name   <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token operator\">|</span>  <span class=\"token number\">1</span> <span class=\"token operator\">|</span> 数学   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>  <span class=\"token number\">2</span> <span class=\"token operator\">|</span> 语文   <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">----+--------+</span>\n<span class=\"token number\">2</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">&gt;</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> test_score<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+----------+-------+</span>\n<span class=\"token operator\">|</span> studentId <span class=\"token operator\">|</span> courseId <span class=\"token operator\">|</span> score <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+----------+-------+</span>\n<span class=\"token operator\">|</span>         <span class=\"token number\">1</span> <span class=\"token operator\">|</span>        <span class=\"token number\">1</span> <span class=\"token operator\">|</span>    <span class=\"token number\">90</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>         <span class=\"token number\">1</span> <span class=\"token operator\">|</span>        <span class=\"token number\">2</span> <span class=\"token operator\">|</span>    <span class=\"token number\">99</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>         <span class=\"token number\">2</span> <span class=\"token operator\">|</span>        <span class=\"token number\">1</span> <span class=\"token operator\">|</span>    <span class=\"token number\">50</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>         <span class=\"token number\">2</span> <span class=\"token operator\">|</span>        <span class=\"token number\">2</span> <span class=\"token operator\">|</span>    <span class=\"token number\">60</span> <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token comment\">-----------+----------+-------+</span>\n<span class=\"token number\">4</span> <span class=\"token keyword\">rows</span> <span class=\"token operator\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p>————————————————————————<br/> <strong><font color=\"red\"><strong>♥♥♥码字不易，大家的支持就是我坚持下去的动力♥♥♥</strong></font><br/> 版权声明：本文为CSDN博主「浦上青天」的原创文章</strong></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}