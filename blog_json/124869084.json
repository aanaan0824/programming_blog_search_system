{"blogid": "124869084", "writerAge": "码龄1年", "writerBlogNum": "2", "writerCollect": "6", "writerComment": "0", "writerFan": "3", "writerGrade": "1级", "writerIntegral": "37", "writerName": "JASON丶LI", "writerProfileAdress": "writer_image\\profile_124869084.jpg", "writerRankTotal": "152176", "writerRankWeekly": "1220181", "writerThumb": "11", "writerVisitNum": "2774", "blog_read_count": "1375", "blog_time": "已于 2022-05-21 15:14:08 修改", "blog_title": "Unity+vuforia虚拟按键连接MQTT（EMQX）实现AR+IOT（Unity C#代码实现）（一）（初步AR实现）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>最近在尝试unity识别出对应图像之后呈现出对应的呈现出对应的虚拟模型；并且出现对应的虚拟按键可供交互；unity连接上自身搭建的EMQX服务器；可发送到对应的信息到EMQX，再由ESP8266/ESP32订阅对应topic接受指令，实现对应的操作。</p>\n<p>想写篇文章来记录一下可发的流程，本来是想一篇文章全部写完的，但是发现如果挤在一篇里面篇幅会太长了，所以打算分开几篇去记录。</p>\n<p>这篇文章是第一篇，主要是简单地介绍了Unity和Vuforia的下载使用，并且实现初步的识别图片并呈现对应的3D模型。接下来几篇会介绍虚拟按键的运用以及Unity连接上EMQX并发送对应的指令。下面是这篇文章可以实现的最终效果图。</p>\n<p><img alt=\"28cf91faf3984445a2b64451080a38a7.jpeg\" src=\"image\\28cf91faf3984445a2b64451080a38a7.jpeg\"/></p>\n<p><strong>目录</strong></p>\n<p><a href=\"#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%9A\">开发环境</a></p>\n<p><a href=\"#%E6%89%8B%E6%9C%BAAndroid%E7%89%88%E6%9C%AC%EF%BC%9A\">手机Android版本</a></p>\n<p><a href=\"#%E7%A1%AC%E4%BB%B6%EF%BC%9A\">硬件</a></p>\n<p style=\"margin-left:0px;\"><a href=\"#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E4%B8%8B%E8%BD%BDUnity\">第一步：下载Unity</a></p>\n<p style=\"margin-left:0px;\"><a href=\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%8A%A0%E8%BD%BDVuforia\">第二步：加载Vuforia</a></p>\n<p style=\"margin-left:0px;\"><a href=\"#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E5%80%9F%E5%8A%A9Vuforia%E5%9C%A8Unity%E4%B8%AD%E5%AF%BC%E5%85%A5%E5%AF%B9%E5%BA%94%E5%9B%BE%E7%89%87\">第三步：借助Vuforia在Unity中导入对应图片</a></p>\n<p style=\"margin-left:0px;\"><a href=\"#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E9%80%9A%E8%BF%87Vuforia%E5%AF%BC%E5%85%A5%E5%AF%B9%E5%BA%94%E7%89%B9%E5%AE%9A%E5%9B%BE%E7%89%87\">第四步：通过Vuforia导入对应特定图片</a></p>\n<p style=\"margin-left:0px;\"><a href=\"#%C2%A0%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E5%9C%A8%E5%9B%BE%E7%89%87%E4%B8%8A%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%91%88%E7%8E%B0\"> 第五步：在图片上实现虚拟模型的呈现</a></p>\n<p style=\"margin-left:0px;\"><a href=\"#%E7%AC%AC%E5%85%AD%E6%AD%A5%EF%BC%9A%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0%E5%88%B0Android%E6%89%8B%E6%9C%BA%E4%B8%8A\">第六步：项目上传到Android手机上</a></p>\n<p style=\"margin-left:0px;\"> </p>\n<h3>开发环境</h3>\n<p>Window 10</p>\n<p>Unity2021.3.2f1c1</p>\n<p>Vuforia Engine 10.7（<em>add-vuforia-package-10-7-2.unitypackage</em>）</p>\n<h3>手机Android版本</h3>\n<p>Android12</p>\n<h3>硬件</h3>\n<p>ESP32/ESP8266</p>\n<p> </p>\n<h1><strong>第一步：下载Unity</strong></h1>\n<p><a href=\"https://learn.unity.com/\" title=\"Unity下载网站\">Unity下载网站</a></p>\n<p>点进去选个人版，下载就好，下载之后那个个人许可证可以一直申请的</p>\n<p>下载后双击打开Unity应用，编辑安装栏，下载安装相应的Unity编辑器</p>\n<p><img alt=\"7f082cf10ec246efabd480006abff9bc.png\" src=\"image\\7f082cf10ec246efabd480006abff9bc.png\"/></p>\n<p>在Unity编辑器模块里面要添加Android的模块，不然不可以开发到手机里面</p>\n<p><img alt=\"09019456c8584a77a5b7bcf93cb65fd1.png\" src=\"image\\09019456c8584a77a5b7bcf93cb65fd1.png\"/></p>\n<p> 安装完编辑器后就可以点开项目，去创建对应的项目了</p>\n<p><img alt=\"e61ff613336c4d369042b57d084af852.png\" src=\"image\\e61ff613336c4d369042b57d084af852.png\"/></p>\n<p> 上面那个“启用PlasticSCM并同意政策条款”不用勾选</p>\n<p>如果它说许可证过期的话，直接去个人那里选择管理许可证，然后创建个人许可证就好</p>\n<h1><strong>第二步：加载Vuforia</strong></h1>\n<p><a href=\"https://developer.vuforia.com/\" title=\"Vuforia官网\">Vuforia官网</a></p>\n<p>进去之后，下载选择第一个\"Add Vuforia Engine to...\",然后下载完之后会出现对应的.unitypackage后缀文件。然后直接双击点开就会自动加载进入Unity已经打开的项目里面（切记要先打开对应的Unity项目里面才可以导入）</p>\n<p style=\"text-align:center;\"><img alt=\"fe5fee7f1bdf44a58fc1589e9129753d.png\" src=\"image\\fe5fee7f1bdf44a58fc1589e9129753d.png\"/></p>\n<p><img alt=\"7fb12ad1a6c64605a55d43ce1c9f0bb0.png\" src=\"image\\7fb12ad1a6c64605a55d43ce1c9f0bb0.png\"/></p>\n<p><img alt=\"53ca2cba63044a8aa1efa899790de9c7.png\" src=\"image\\53ca2cba63044a8aa1efa899790de9c7.png\"/></p>\n<h1><strong>第三步：借助Vuforia在Unity中导入对应图片</strong></h1>\n<p>先点击log in，然后去注册Vuforia账户（邮箱注册就好）</p>\n<p>然后点击Develop,然后点击Get Basic创建一个自己的ID</p>\n<p><img alt=\"31afd0936f1a4217afe291ecb314c81d.png\" src=\"image\\31afd0936f1a4217afe291ecb314c81d.png\"/></p>\n<p><img alt=\"4a83781a3b71452faf600950a1ccc7b7.png\" src=\"image\\4a83781a3b71452faf600950a1ccc7b7.png\"/></p>\n<p> </p>\n<p><img alt=\"a7ca93b2ee4e410886407dfb13dc90d0.png\" src=\"image\\a7ca93b2ee4e410886407dfb13dc90d0.png\"/></p>\n<p><img alt=\"efd3ac3b79314acc9f4f289036561f95.png\" src=\"image\\efd3ac3b79314acc9f4f289036561f95.png\"/></p>\n<p> 记住上面那个专属的KEY，接下来要复制到Unity对应的框里面</p>\n<p><img alt=\"8969b902254242da8e2dd66f76921532.png\" src=\"image\\8969b902254242da8e2dd66f76921532.png\"/></p>\n<p> 在Unity内点击Window后点击Vuforia Configuration</p>\n<p><img alt=\"da0f6f1813bb448ca4059e8143e4b81c.png\" src=\"image\\da0f6f1813bb448ca4059e8143e4b81c.png\"/></p>\n<p> </p>\n<h1><strong>第四步：通过Vuforia导入对应特定图片</strong></h1>\n<p><img alt=\"7e9466c371684dd8a2cec79d2cd35166.png\" src=\"image\\7e9466c371684dd8a2cec79d2cd35166.png\"/></p>\n<p><img alt=\"7b34b9c57e314908ba68c702559cc465.png\" src=\"image\\7b34b9c57e314908ba68c702559cc465.png\"/></p>\n<p><img alt=\"6ea8de6682104013bf2879ab1803fcf8.png\" src=\"image\\6ea8de6682104013bf2879ab1803fcf8.png\"/></p>\n<p><img alt=\"bc7d2968da4447f5a64ebb19ee41681e.png\" src=\"image\\bc7d2968da4447f5a64ebb19ee41681e.png\"/></p>\n<p><img alt=\"e6fe335eff9344369fc0a48c8abce938.png\" src=\"image\\e6fe335eff9344369fc0a48c8abce938.png\"/></p>\n<p><img alt=\"6111391dffbd4ba1b32e85583a2969d9.png\" src=\"image\\6111391dffbd4ba1b32e85583a2969d9.png\"/></p>\n<p><img alt=\"9ad02e5af6634a999ddc503dadd6a2e9.png\" src=\"image\\9ad02e5af6634a999ddc503dadd6a2e9.png\"/></p>\n<p><img alt=\"c8ded1c8d1534b04934c68f7e1591a05.png\" src=\"image\\c8ded1c8d1534b04934c68f7e1591a05.png\"/></p>\n<p><img alt=\"44e67beb413f4bf39c726c0d966b8163.png\" src=\"image\\44e67beb413f4bf39c726c0d966b8163.png\"/></p>\n<p>然后会生成对应的.unitypackage后缀文件，然后再在已打开Unity项目的基础上打开此文件，就会自动导入到Unity项目中</p>\n<p><img alt=\"3b827b90498d4c2d92e0c2f940b469b9.png\" src=\"image\\3b827b90498d4c2d92e0c2f940b469b9.png\"/></p>\n<p> 全选然后点击import就彳亍</p>\n<h1> 第五步：在图片上实现虚拟模型的呈现</h1>\n<p>  打开Unity项目，然后在下面的文件列表找到Image Targets这个文件夹，并且将其拖动至左边的场景栏</p>\n<p><img alt=\"0108ebf45f1e40db9ade2aa591cd28e4.png\" src=\"image\\0108ebf45f1e40db9ade2aa591cd28e4.png\"/></p>\n<p>点击场景栏里面的ImageTargets文件夹设置其属性</p>\n<p>找到下面的脚本，Type选择From Datebase；Datebase选择自己刚刚在Vuforia添加的用户文件名字；最后选择对应的image</p>\n<p><img alt=\"3d61b0cca7dc43a5b9b0c5ac40710337.png\" src=\"image\\3d61b0cca7dc43a5b9b0c5ac40710337.png\"/></p>\n<p><img alt=\"3e6cc996eff14edbbd67661bc10aa324.png\" src=\"image\\3e6cc996eff14edbbd67661bc10aa324.png\"/></p>\n<p> 然后就会在场景里面出现对应的图片</p>\n<p><img alt=\"ec729f6364794a4cac4411578ec14849.png\" src=\"image\\ec729f6364794a4cac4411578ec14849.png\"/></p>\n<p>然后在左边的场景列表栏中，如下图右键创建一个Cube的3D模型</p>\n<p><img alt=\"3f73f49c7cad4c85ae8f3d1869da626f.png\" src=\"image\\3f73f49c7cad4c85ae8f3d1869da626f.png\"/></p>\n<p> 最后将Cube拖动进入ImageTargets场景文件里面，并在场景中调整图片与物体的相对位置即可在图片中呈现出对应的3D Cube模型</p>\n<p><img alt=\"4c539fd528d44261837057c803822d5b.png\" src=\"image\\4c539fd528d44261837057c803822d5b.png\"/></p>\n<p> </p>\n<h1>第六步：项目上传到Android手机上</h1>\n<p>在unity里面点击file后再点击Build Settings，然后选择Android再点击左下角的Player Settings进去设置</p>\n<p><img alt=\"9db9d202ad0d452ba5ff8bb181b0182e.png\" src=\"image\\9db9d202ad0d452ba5ff8bb181b0182e.png\"/></p>\n<p>然后在Player里面选中安卓的logo，并找到Other Setting  </p>\n<p><img alt=\"a3493129f4494dbba76dda56daf2110a.png\" src=\"image\\a3493129f4494dbba76dda56daf2110a.png\"/></p>\n<p>最后按照下图进行选择</p>\n<p><img alt=\"a7130c1896dc467b9bbfbd9c4830673e.png\" src=\"image\\a7130c1896dc467b9bbfbd9c4830673e.png\"/></p>\n<p>下一步将Android手机连接上电脑的USB插口，并且开启开发者选项</p>\n<p>第一次下载的话还有一个调试的选项，如果没有Build的按钮就先点击那个按钮，然后等一会弄完就会出现Build And Run的选项了，接下来就直接点击Build And Run的按钮就OK了。手机可能还要接收同意安装。</p>\n<p><img alt=\"4690f72fa43f4629b8927cbe64f7d33a.png\" src=\"image\\4690f72fa43f4629b8927cbe64f7d33a.png\"/></p>\n<p> 本文就介绍到这里，下一篇会介绍Unity的虚拟按键应用以及通过虚拟按键监听借助MQTT传输信息。</p>\n<p> 谢谢大家的观看！！！本人为小萌新作者，目前正在基础的海洋连滚带爬的摸索，立志成为大佬。希望发文记录一下的学习历程，如何有大哥发现出文章有问题欢迎积极提出。如果志同道合之友希望一起钻研这一方面的欢迎一起讨论，欢迎在评论区积极分享意见，如果有想和作者进一步探讨的朋友可以加我QQ：2640514807</p>\n<p><img alt=\"8cca7d18c86383d8625c016bc7cd51a1.jpg\" src=\"image\\8cca7d18c86383d8625c016bc7cd51a1.jpg\"/></p>\n<p style=\"text-align:center;\">本文为作者独立编写</p>\n<p>本BLOG上所有的原创文章未经本人许可，不得用于商业用途及传统媒体。网络媒体转载请注明出处，否则属于侵权行为。 </p>\n<p> </p>\n</div>\n</div>"}