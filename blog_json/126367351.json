{"blogid": "126367351", "writerAge": "码龄14年", "writerBlogNum": "390", "writerCollect": "2594", "writerComment": "225", "writerFan": "16472", "writerGrade": "6级", "writerIntegral": "5329", "writerName": "恒悦sunsite", "writerProfileAdress": "writer_image\\profile_126367351.jpg", "writerRankTotal": "2789", "writerRankWeekly": "611", "writerThumb": "453", "writerVisitNum": "872435", "blog_read_count": "166", "blog_time": "于 2022-09-05 08:00:00 发布", "blog_title": "Linux命令之chage命令", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"_0\"></a>一、命令简介</h1>\n<p>  系统进行等保评测的时候会检查账户密码复杂度、有效期等内容。chage用于密码的实效管理，用来修改帐号和密码的有效期。chage命令更改密码更改与上次密码更改日期之间的天数。系统使用此信息确定用户何时必须更改其密码。chage命令修改的都是/etc/shadow文件最后6项的值。<br/> <img alt=\"在这里插入图片描述\" src=\"image\\ba09d1528252464fa2f43a785172ac36.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"image\\306e0bcca5c2406a952ace81464520d0.png\"/></p>\n<h1><a id=\"_4\"></a>二、使用示例</h1>\n<h2><a id=\"1_5\"></a>1、获取命令帮助</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -h<br/> Usage: chage [options] LOGIN<br/> …</p>\n</blockquote>\n<h2><a id=\"2_9\"></a>2、查看用户密码有效期信息</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -l wuhs<br/> Last password change : Aug 24, 2022<br/> Password expires : never<br/> Password inactive : never<br/> Account expires : Aug 20, 2122<br/> Minimum number of days between password change : 0<br/> Maximum number of days between password change : 99999<br/> Number of days of warning before password expires : 7<br/> <img alt=\"在这里插入图片描述\" src=\"image\\c6576bc5500941a18bdc4847f5eff49a.png\"/></p>\n</blockquote>\n<h2><a id=\"3_19\"></a>3、设置密码最近一次修改日期为指定日期</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -d 2022-8-22 wuhs<br/> <img alt=\"在这里插入图片描述\" src=\"image\\346eb0a592b24fd2857a0e2d8021e60a.png\"/><br/> [root@s142 etc]# chage -d 0 wuhs<br/> <img alt=\"在这里插入图片描述\" src=\"image\\caf2b54c864a4ccca50b61b057d1b170.png\"/><br/> [root@s142 etc]# chage -d -1 wuhs</p>\n</blockquote>\n<h2><a id=\"4_26\"></a>4、设置账户过期时间</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -E 0 wuhs<br/> [root@s142 etc]# chage -E 2022-8-25 wuhs<br/> [root@s142 etc]# chage -E -1 wuhs<img alt=\"在这里插入图片描述\" src=\"image\\e7929042fbaf4c3997fb6bb693f6beed.png\"/></p>\n</blockquote>\n<h2><a id=\"5_30\"></a>5、设置密码过期指定天数后失效</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -I 3 wuhs</p>\n</blockquote>\n<h2><a id=\"6_32\"></a>6、设置密码修改间隔最小和最大天数</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -m 30 wuhs<br/> [root@s142 etc]# chage -M 180 wuhs<br/> [root@s142 etc]# chage -l wuhs<br/> Last password change : never<br/> Password expires : never<br/> Password inactive : never<br/> Account expires : never<br/> Minimum number of days between password change : 30<br/> Maximum number of days between password change : 180<br/> Number of days of warning before password expires : 7</p>\n</blockquote>\n<h2><a id=\"7_43\"></a>7、设置密码到期提前提醒天数</h2>\n<blockquote>\n<p>[root@s142 etc]# chage -W 3 wuhs<br/> [root@s142 etc]# chage -l wuhs<br/> Last password change : never<br/> Password expires : never<br/> Password inactive : never<br/> Account expires : never<br/> Minimum number of days between password change : 30<br/> Maximum number of days between password change : 180<br/> Number of days of warning before password expires : 3</p>\n</blockquote>\n<h1><a id=\"_53\"></a>三、使用语法及参数说明</h1>\n<h2><a id=\"1_54\"></a>1、使用语法</h2>\n<blockquote>\n<p>用法：chage [options] 账户</p>\n</blockquote>\n<h2><a id=\"2_56\"></a>2、参数说明</h2>\n<table><thead><tr><th align=\"left\">参数</th><th align=\"left\">参数说明</th></tr></thead><tbody><tr><td align=\"left\">-d, --lastday LAST_DAY</td><td align=\"left\">将最近一次密码修改时间设为“LAST_DAY”</td></tr><tr><td align=\"left\">-E, --expiredate EXPIRE_DATE</td><td align=\"left\">将帐户过期时间设为“EXPIRE_DATE” 0表示马上过期，-1表示永不过期</td></tr><tr><td align=\"left\">-h, --help</td><td align=\"left\">获取命令帮助信息</td></tr><tr><td align=\"left\">-I, --inactive INACTIVE</td><td align=\"left\">过期 INACTIVE 天数后，设定密码为失效状态</td></tr><tr><td align=\"left\">-l, --list</td><td align=\"left\">列出用户以及密码的有效期</td></tr><tr><td align=\"left\">-m, --mindays MIN_DAYS</td><td align=\"left\">将两次改变密码之间相距的最小天数设为“MIN_DAYS”</td></tr><tr><td align=\"left\">-M, --maxdays MAX_DAYS</td><td align=\"left\">密码保持有效的最大天数</td></tr><tr><td align=\"left\">-R, --root CHROOT_DIR</td><td align=\"left\">chroot 到的目录</td></tr><tr><td align=\"left\">-W, --warndays WARN_DAYS</td><td align=\"left\">密码过期前，提前收到警告信息的天数</td></tr></tbody></table>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>"}