{"blogid": "120997444", "writerAge": "码龄5年", "writerBlogNum": "174", "writerCollect": "1363", "writerComment": "268", "writerFan": "17544", "writerGrade": "5级", "writerIntegral": "3822", "writerName": "suoh's Blog", "writerProfileAdress": "writer_image\\profile_120997444.jpg", "writerRankTotal": "4758", "writerRankWeekly": "666", "writerThumb": "428", "writerVisitNum": "385408", "blog_read_count": "57675", "blog_time": "已于 2022-04-18 10:03:19 修改", "blog_title": "vue中组件的props属性（详）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"style.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p><span style=\"color:#1a439c;\"><strong>今天这篇文章，让你彻底学会props属性……</strong></span></p>\n<p><span style=\"color:#1a439c;\">props主要用于组件的传值，他的工作就是为了接收外面传过来的数据，与data、el、ref是一个级别的配置项。</span></p>\n<h3><strong><span style=\"color:#fe2c24;\"><span style=\"background-color:#fef2f0;\">问题一：那props具体是怎么使用呢？原理又是什么呢？往下看</span></span></strong></h3>\n<p><span style=\"color:#1c7331;\"><strong>1、【定义被调用组件】</strong></span>首先，我们先定义一个person组件，用于显示个人信息的组件，我们放了一个人的姓名，性别，以及年龄，定义好这个组件之后，就可以等待其他组件进行调用。那么既然别的组件可以调用，我们就需要再定义一个props属性，用于接收别的组件传进来的值。</p>\n<p><img alt=\"\" height=\"520\" src=\"image\\faa06eb9fddc494391e2de34d9c5bd8e.png\" width=\"829\"/></p>\n<blockquote>\n<p> <span style=\"color:#fe2c24;\"><strong>注意：</strong></span><span style=\"color:#ff9900;\">组件中name、sex、age都是一个prop，将三个属性放到一起，就是props，这就是props的由来，是prop的复数形式，代表多个prop属性的集合。</span></p>\n</blockquote>\n<p><span style=\"color:#1c7331;\"><strong> 2、【调用组件】</strong></span>此时我们再定义一个info组件，用于展示这个人的基本信息，进行对person组价的调用实现信息的展示，分为下图四个步骤进行调用。并传入参数</p>\n<p><img alt=\"\" height=\"358\" src=\"image\\7a7f5badd123484dbe5db17fe3451749.png\" width=\"886\"/></p>\n<p><span style=\"color:#1c7331;\"><strong> 3、【看效果】</strong></span>传入成功。</p>\n<p><img alt=\"\" height=\"240\" src=\"image\\eaccebca8422409ea385bc0926a425a1.png\" width=\"281\"/></p>\n<h3><span style=\"color:#fe2c24;\"><strong><span style=\"background-color:#fef2f0;\"> 问题二：那如果我们想给年龄加1岁，怎么实现？</span></strong></span></h3>\n<p>我们可能会直接这样加1</p>\n<p><img alt=\"\" height=\"199\" src=\"image\\c701adfc1f7344f792185017a3345519.png\" width=\"481\"/></p>\n<p> 看效果是否能实现，变成19，看下图显然是不正确的。因为你传入的年龄是个字符串18，所以加1只会在18后面进行拼接。</p>\n<p><img alt=\"\" height=\"219\" src=\"image\\2d2148796ffa4f35998d34389302c2b2.png\" width=\"226\"/></p>\n<p><span style=\"color:#4da8ee;\"><strong><span style=\"background-color:#fff5e6;\"> 然后有的人说，那传数字，怎么传数字呢？很简单，一个符号搞定。</span></strong></span></p>\n<p>我们只需要在<strong><span style=\"color:#956fe7;\">age前面加上冒号</span></strong> ：他就会只识别双引号里面的东西18 ，否则识别的是双引号18</p>\n<p><img alt=\"\" height=\"84\" src=\"image\\34ff58802b6e4429bad3532f01f51b90.png\" width=\"557\"/></p>\n<p> 看下效果，此时就成功了。</p>\n<p><img alt=\"\" height=\"196\" src=\"image\\7a606eaab6194113a2321a9b5e59d141.png\" width=\"193\"/></p>\n<h3><span style=\"color:#fe2c24;\"><strong><span style=\"background-color:#fef2f0;\"> 问题三：对于年龄这一类型，我们最希望拿到的是什么数据类型？肯定是数字类型，但是有人非要传字符串类型，就会影响我们对年龄的计算，比如上面的加1……那么我们如何限制类型呢？</span></strong></span></h3>\n<p> 这时候props不能再用[]去定义，<span style=\"color:#956fe7;\"><strong>需要用{}</strong></span>，因为限制类型时，props就是作为一个对象去使用；</p>\n<p>下面就是我们将三个属性分别做了限制。</p>\n<p><img alt=\"\" height=\"491\" src=\"image\\c33c737b3aaa492a9406e12d1e404d36.png\" width=\"449\"/></p>\n<p> 我们把年龄做了number类型限制后，再传入字符串18，看有什么变化？</p>\n<p><img alt=\"\" height=\"69\" src=\"image\\9cb75a099e2a4f23a62595e6a2d493cf.png\" width=\"540\"/></p>\n<p> 此时发现控制台，会报错，显示age的数据类型不匹配。</p>\n<p><img alt=\"\" height=\"100\" src=\"image\\52775304d4f34101a0ddbc1ca406cc38.png\" width=\"967\"/></p>\n<p> 虽然不影响展示，但是会报错。这可以给我们提供一个明确的提示。方便我们规范的传入数据。</p>\n<p> <img alt=\"\" height=\"188\" src=\"image\\608d7b349e4946f0928b7f979b63fa9f.png\" width=\"185\"/></p>\n<h3><strong><span style=\"color:#fe2c24;\"><span style=\"background-color:#fef2f0;\"> 问题四：可以限制类型，那是不是也可以限制是否必传呢？</span></span></strong></h3>\n<p><strong><span style=\"color:#1c7331;\"> 答：当然可以。</span></strong></p>\n<p>假设姓名必传，其他非必传。</p>\n<p><span style=\"color:#1c7331;\"><strong>类型属性：</strong></span><span style=\"color:#fe2c24;\"><strong>type:xx</strong></span></p>\n<p><span style=\"color:#1c7331;\"><strong>必传属性：</strong></span><span style=\"color:#fe2c24;\"><strong>required：true</strong></span></p>\n<p><span style=\"color:#1c7331;\"><strong>默认属性：</strong></span><span style=\"color:#fe2c24;\"><strong>default：xx</strong></span></p>\n<p><img alt=\"\" height=\"328\" src=\"image\\9ad941b4ab8d4f9bb486167e040c5792.png\" width=\"275\"/></p>\n<p> name必传，那么我们不传试试，年龄不传默认18</p>\n<p><img alt=\"\" height=\"40\" src=\"image\\f8e3d1186c21472e8fa0d752943e9d14.png\" width=\"332\"/></p>\n<p> 结果，控制台同样报错，提示，name是必传属性。年龄我们没传，也成功展示的是默认值，19是因为一开始对年龄进行了加1操作，这样我们就成功对属性进行了限制。</p>\n<p><img alt=\"\" height=\"182\" src=\"image\\cc185c3e6fae4e5e8a13b231ccb1c351.png\" width=\"185\"/></p>\n<p> <img alt=\"\" height=\"111\" src=\"image\\ed097684b6b64f168ada8c7cbe3f8c76.png\" width=\"544\"/></p>\n<blockquote>\n<p><span style=\"background-color:#e7fafa;\">对以上总结：</span></p>\n<p><span style=\"background-color:#e7fafa;\">props在接收数据的同时，对数据进行了<strong><span style=\"color:#4da8ee;\">类型限制+默认值的指定+必要性的限制</span></strong></span></p>\n</blockquote>\n<h3><span style=\"color:#fe2c24;\"><strong><span style=\"background-color:#fef2f0;\">问题五：props接收的属性值可以修改吗？</span></strong></span></h3>\n<p><span style=\"color:#1c7331;\"><strong>答：不可以</strong></span></p>\n<p>我们添加一个button，以及点击事件</p>\n<p><img alt=\"\" height=\"163\" src=\"image\\1f43e5d1fcd54ebba7387ac81c2994c2.png\" width=\"648\"/></p>\n<p> 注意：我们要访问props里面的属性值，通过this.即可找到</p>\n<p> <img alt=\"\" height=\"119\" src=\"image\\b5a4b825416d46f88455de1b70d86b5b.png\" width=\"266\"/></p>\n<p> 查看结果，发现页面可以显示，但是控制台报错，因此它是不可修改的</p>\n<p><img alt=\"\" height=\"258\" src=\"image\\bb0ee1f995ca482cab10266108e35fb6.png\" width=\"199\"/></p>\n<p><img alt=\"\" height=\"131\" src=\"image\\42dcfe03c62147ea940f2d86b41c5d03.png\" width=\"584\"/></p>\n<h3><strong><span style=\"color:#fe2c24;\"><span style=\"background-color:#fef2f0;\"> 问题六：必须要修改props属性值，怎么办？</span></span></strong></h3>\n<p><strong><span style=\"color:#1c7331;\"> 答：通过data去间接修改</span></strong></p>\n<p>我们在data里面重新定义一个变量去接收props属性。这个变量最好不要重名，<span style=\"color:#956fe7;\"><strong>重名</strong></span>的话，优先获取props属性值，<span style=\"color:#956fe7;\"><strong>优先级props&gt;data</strong></span>。然后我们在操作或者html绑定值的时候，都去操作data里面新定义的变量</p>\n<p><img alt=\"\" height=\"518\" src=\"image\\e6d2db520ecc48c287cfb1d24ef090c4.png\" width=\"564\"/></p>\n<p> 此时可以看到，修改成功，也没有报错：</p>\n<p><img alt=\"\" height=\"246\" src=\"image\\ff4e15fa1c044195a43a398c8c3cb8cc.png\" width=\"718\"/></p>\n<h3><strong><span style=\"color:#fe2c24;\"><span style=\"background-color:#fef2f0;\"> 总结：配置项props</span></span></strong></h3>\n<p><span style=\"color:#1c7331;\"><strong>-------让组件接收外部传来的数据</strong></span></p>\n<p><span style=\"color:#1c7331;\"><strong> 接收数据三种方式：</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>（1）<span style=\"background-color:#f9eda6;\">只接收：</span>props: ['name','age','sex']</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>（2）<span style=\"background-color:#f9eda6;\">接收并限制类型：</span>props: { \"name\":Number }</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>（3）<span style=\"background-color:#f9eda6;\">限制类型、限制必要性指定默认值：</span></strong></span></p>\n<pre><code>    props:{\n        \"name\":{\n            type:String,\n            required:true\n        },\n        \"age\":{\n            type:Number,\n            default:18\n        },\n        \"sex\":{\n            type:String,\n            default:'男'\n        },\n    },</code></pre>\n<p><strong><span style=\"color:#1c7331;\"><span style=\"background-color:#edf6e8;\">注意：props是只读的，vue底层会检测你对props的修改，如果进行了修改，控制台会报错，必须修改，就复制一份到data中，通过data去修改数据。</span></span></strong></p>\n<h1></h1>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/img_convert/dbbdd87de5b58bd4d03533accb008240.gif\"/></p>\n</div>\n</div>"}