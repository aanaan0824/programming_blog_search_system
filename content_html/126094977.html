<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><ul><li><a href="#_1__3">⛳️ 1 行代码的由来</a></li><li><a href="#__9">⛳️ 列表推导式</a></li><li><a href="#__21">⛳️ 合并字典</a></li><li><a href="#__52">⛳️ 列表去重</a></li><li><a href="#__64">⛳️ 一行代码交换变量值</a></li><li><a href="#__print__85">⛳️ 利用 print 输出日志到文件</a></li><li><a href="#__93">⛳️ 转置矩阵</a></li><li><a href="#__110">⛳️ 一行丧心病狂的代码</a></li></ul>
</li></ul>
</div>
<p></p>
<h2><a id="_1__3"></a>⛳️ 1 行代码的由来</h2>
<p>都说 Python 简单快捷，那本篇博客就为大家带来一些实用的 Python 技巧，而且仅需要 1 行代码，就可以解决一些小问题。</p>
<p>所有的 1 行代码，全部依据标准的 Python 语言规范实现。</p>
<h2><a id="__9"></a>⛳️ 列表推导式</h2>
<p>生成器语法绝对是 Python 带给我们的优质语法糖，它可以基于现有的列表创建一个新的列表，而且语法格式简单。</p>
<pre><code class="prism language-python">students <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦大"</span><span class="token punctuation">,</span><span class="token string">"大橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"梦想橡皮擦"</span><span class="token punctuation">]</span>
new_students <span class="token operator">=</span> <span class="token punctuation">[</span>name <span class="token keyword">for</span> name <span class="token keyword">in</span> students <span class="token keyword">if</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"橡皮"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_students<span class="token punctuation">)</span>
</code></pre>
<p>上述代码的第二行，在原有列表中过滤出全新的列表，而且语法简单，基于该语法结构，还有字典推导式，集合推导式相关知识点，都可以使用 1 行代码完成目标需求，可以学习来。</p>
<h2><a id="__21"></a>⛳️ 合并字典</h2>
<p>在 Python 实战中，有时需要将两个字典进行合并，最常用的是使用 <code>update()</code> 方法，或者 <code>merge()</code> 函数，当然也有工程师使用刚刚提及的字典推导式实现，那有没有更加简洁的写法呢？可以看下述代码</p>
<pre><code class="prism language-python">my_dict_1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token string">'红色'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token string">'绿色'</span><span class="token punctuation">}</span>
my_dict_2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token string">'蓝色'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">:</span> <span class="token string">'黄色'</span><span class="token punctuation">}</span>
merged_dict <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">**</span>my_dict_1<span class="token punctuation">,</span> <span class="token operator">**</span>my_dict_2<span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>merged_dict<span class="token punctuation">)</span>
</code></pre>
<p>其中 <code>**</code> 符号是解包运算符，即将字典中的内容拆解，解包之后就可以参照上述代码使用 <code>{}</code> 合并字典，当然也可以直接使用 <code>dict()</code> 函数进行合并</p>
<pre><code class="prism language-python">my_dict_1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token string">'红色'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token string">'绿色'</span><span class="token punctuation">}</span>
my_dict_2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token string">'蓝色'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">:</span> <span class="token string">'黄色'</span><span class="token punctuation">}</span>
merged_dict <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token operator">**</span>my_dict_1<span class="token punctuation">,</span> <span class="token operator">**</span>my_dict_2<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>merged_dict<span class="token punctuation">)</span>
</code></pre>
<p>如果你一时没有转换过来，那可以使用下述代码进行转换，即使用元素拼接技巧，先将字典转换为 list，然后连接。</p>
<pre><code class="prism language-python">my_dict_1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token string">'红色'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token string">'绿色'</span><span class="token punctuation">}</span>
my_dict_2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token string">'蓝色'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">:</span> <span class="token string">'黄色'</span><span class="token punctuation">}</span>
merged_dict <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>my_dict_1<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">list</span><span class="token punctuation">(</span>my_dict_2<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>merged_dict<span class="token punctuation">)</span>
</code></pre>
<h2><a id="__52"></a>⛳️ 列表去重</h2>
<p>在实战中，也会碰到列表去重的情况，如果列表数据量不大，可以直接使用 <code>set()</code> 函数去重，即利用集合不允许包含重复值这一特性。</p>
<pre><code class="prism language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦大"</span><span class="token punctuation">,</span><span class="token string">"大橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"梦想橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦大"</span><span class="token punctuation">,</span><span class="token string">"大橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"梦想橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦大"</span><span class="token punctuation">,</span><span class="token string">"大橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"梦想橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"橡皮擦大"</span><span class="token punctuation">,</span><span class="token string">"大橡皮擦"</span><span class="token punctuation">,</span><span class="token string">"梦想橡皮擦"</span><span class="token punctuation">]</span>

un_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>un_list<span class="token punctuation">)</span>
</code></pre>
<h2><a id="__64"></a>⛳️ 一行代码交换变量值</h2>
<p>这也是 Python 中的语法糖了，在做排序类算法时经常碰到，使用一行代码进行变量值的交换。</p>
<pre><code class="prism language-python">a <span class="token operator">=</span> <span class="token number">1</span>
b <span class="token operator">=</span> <span class="token number">2</span>
a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
</code></pre>
<p>在此基础上，可以扩展到更多变量，此时还会衍生出另一个一行代码知识点，即一行代码为多个变量赋值，示例代码如下所示：</p>
<pre><code class="prism language-python">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span>
<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>c<span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>d<span class="token punctuation">,</span> c<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
</code></pre>
<h2><a id="__print__85"></a>⛳️ 利用 print 输出日志到文件</h2>
<p>编写代码经常要测试输出结果，因此会大量的使用到 print 函数，而这些结果默认会输出到控制台，关闭程序运行之后，结果就消失了，实践中，可以利用一下 print 函数的第二个参数，实现将输出写入到文件中。</p>
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'ca.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2><a id="__93"></a>⛳️ 转置矩阵</h2>
<p>对矩阵进行转置，也可以使用一行代码实现。</p>
<pre><code class="prism language-python">old_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>old_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>但上述代码会将列表转换成元组，如果不希望该情况出现，可以使用下述代码，依旧是一行。</p>
<pre><code class="prism language-python">old_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>old_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h2><a id="__110"></a>⛳️ 一行丧心病狂的代码</h2>
<p>除了正常的操作外，在 Python 中还能实现一些神奇的操作，例如下述代码：</p>
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>可以输入单行代码，然后直接输出结果！</p>
<p>该代码最佳的实践是一行代码实现一个计算器。</p>
<blockquote>
<p>📢📢📢📢📢📢<br/> 💗 你正在阅读 <strong>【梦想橡皮擦】</strong> 的博客<br/> 👍 阅读完毕，可以点点小手赞一下<br/> 🌻 发现错误，直接评论区中指正吧<br/> 📆 橡皮擦的第 <font color="red">709</font> 篇原创博客</p>
</blockquote>
<blockquote>
<p>从订购之日起，案例 5 年内保证更新</p>
</blockquote>
<ul><li><a href="https://blog.csdn.net/hihell/category_11079529.html">⭐️ Python 爬虫 120，点击订购 ⭐️ </a></li><li><a href="https://blog.csdn.net/hihell/category_9280209.html">⭐️ 爬虫 100 例教程，点击订购 ⭐️ </a></li></ul>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>