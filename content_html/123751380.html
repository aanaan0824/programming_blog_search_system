<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-kimbie-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#1OpenCVContribPython_10">1.安装OpenCV-Contrib-Python库</a></li><li><a href="#2_20">2.读取图片文件像素值数组</a></li><li><a href="#3_48">3.显示图像</a></li><li><ul><li><a href="#cv2imshow_51">①cv2.imshow()</a></li><li><a href="#cv2waitKey_61">②cv2.waitKey()</a></li><li><a href="#cvdestoryAllWindows_75">③cv.destoryAllWindows()</a></li></ul>
</li><li><a href="#4__imwrite_94">4. 保存图像 imwrite()</a></li><li><a href="#5_108">5.获取图像的属性</a></li></ul>
</div>
<p></p>
<p>ʚʕ̯•͡˔•̯᷅ʔɞ<br/> 🍹<strong>欢迎各路大佬来到小啾主页指点</strong>☀️欢迎大家前来学习OpenCV图像处理基本操作 - Open_CV系列博文，我是侯小啾。<br/> ✨<strong>博客主页：<a href="https://skylarkprogramming.blog.csdn.net/">云雀编程小窝</a></strong> 🌹꧔ꦿ<br/> 🌹꧔ꦿ博文如有帮助，还请给个<strong>点赞 + 关注 + 收藏</strong>✨<br/>             <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/cb71c1556ec1478ea93e34098bdfbfac.gif"/><br/> 如有疑问欢迎随时在评论区交流。☀️</p>
<hr/>
<h1><a id="1OpenCVContribPython_10"></a>1.安装OpenCV-Contrib-Python库</h1>
<p>OpenCV-Contrib-Python除了包含我们使用的OpenCV相关功能外，还包含了Numpy。</p>
<ul><li>直接安装</li></ul>
<blockquote>
<p>pip install opencv-contrib-python</p>
</blockquote>
<p>从清华镜像安装OpenCV-Contrib-Python库</p>
<blockquote>
<p>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencv-contrib-python</p>
</blockquote>
<h1><a id="2_20"></a>2.读取图片文件像素值数组</h1>
<p>首先导入cv2模块<br/> 导入命令如下：</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
</code></pre>
<p>再就是，准备一张名为pic的图片放在同目录下，如下（忽略水印）：</p>
<p>     <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3da0c436087f4ad0924c34737bdec4f7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5L6v5bCP5ZW-,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>然后读取并打印像素的数组：</p>
<pre><code class="prism language-python">image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pic.jpg"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre>
<p>           <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a17f4648cb674d2b8119001314789048.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5L6v5bCP5ZW-,size_19,color_FFFFFF,t_70,g_se,x_16"/></p>
<hr/>
<ul><li>需要注意的是，如果指定路径，这里的路径中不能有中文，否则会读不到数据，产生警告。如下所示：</li></ul>
<pre><code class="prism language-python"><span class="token comment"># 读取图像，打印像素值数组</span>
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"D:/中文/pic.jpg"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a81df6c8005e4fc3ad048a58c83115db.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5L6v5bCP5ZW-,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<hr/>
<h1><a id="3_48"></a>3.显示图像</h1>
<p>要将上边读取到的像素数组作为图像显示出来，需要以下三个方法结合使用：</p>
<hr/>
<h2><a id="cv2imshow_51"></a>①cv2.imshow()</h2>
<blockquote>
<p>cv2.imshow(winname,mat)</p>
</blockquote>
<p>imshow方法用于显示图像，</p>
<ul><li>其中参数winname表示显示图像的窗口的名称，是一个字符串，且不能有中文。</li><li>ma参数t即 一个 像素数组对象。</li></ul>
<p><strong>imshow()方法显示的图像窗口，会在程序运行结束时，或使用destoryAllWindows()手动将窗口销毁为止 停止显示。</strong><br/> 仅仅一个cv2.show()方法并不能满足我们对图像展示的需求。要想控制图像显示的时间，还需要使用到cv2.waitKet()和destoryAllWindows()方法。</p>
<hr/>
<h2><a id="cv2waitKey_61"></a>②cv2.waitKey()</h2>
<blockquote>
<p>cv2.waitKey(delay)</p>
</blockquote>
<p>waitKey()用于控制图像显示的时间。</p>
<ul><li> <p>参数delay是一个数值，指延迟的时间。单位为毫秒。在这个时间内如果键盘被点击，则计时结束。否则就等到时间满足。<br/> 如果delay为0，则无限期地等待。直到键盘按键事件发生为止。</p> </li><li> <p>官方的解释：<br/> 函数waitKey无限期地等待一个key事件，或者等待dela毫秒，当它为正时。由于操作系统在切换线程之间有一个最小的时间间隔，该函数不会完全延迟毫秒，它将至少延迟毫秒，这取决于当时计算机上运行的其他程序。它返回按键的代码，如果在指定时间之前没有按键，则返回-1。要检查按键但不等待，请使用pollKey。</p> </li></ul>
<p>关于waitKey()与time.sleep()都有延时功能，<br/> 经过测试可以发现在这里使用time.sleep()的话，显示的只是窗口，而无图像。使用waitKet()才能显示图像。</p>
<hr/>
<h2><a id="cvdestoryAllWindows_75"></a>③cv.destoryAllWindows()</h2>
<blockquote>
<p>cv.destoryAllWindows()<br/> cv.destoryAllWindows()用于关闭当前程序显示的所有窗口。（当然，不包括咱的pycharm窗口）</p>
</blockquote>
<hr/>
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2

image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pic.jpg"</span><span class="token punctuation">)</span> 
cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"cat"</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>  <span class="token comment"># 窗口名为“cat”</span>
cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>  <span class="token comment"># 延迟10000毫秒（1秒=1000毫秒。也即10秒）</span>
cv2<span class="token punctuation">.</span>destroyAllWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 销毁窗口</span>
</code></pre>
<p>     <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/09d95c48de574ef5aa14b65aa206ab5f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5L6v5bCP5ZW-,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 如果没有cv2.destroyAllWindows()窗口销毁命令，窗口似乎也会自动销毁。<br/> 这是因为没有该命令是，则窗口会在程序运行结束时自动销毁。<br/> 在这个例子中感觉不到细微差别，cv2.destroyAllWindows()显得可有可无。<br/> 如果把cv2.destroyAllWindows()去掉，换为time.sleep()，则窗口会在显示cv2.waitKey(10000)的10秒后，继续等待后续程序time.sleep()执行完毕(10秒)，总计约20秒。这样就便于理解cv2.destroyAllWindows()的意义了。</p>
<hr/>
<h1><a id="4__imwrite_94"></a>4. 保存图像 imwrite()</h1>
<p>OpenCV提供了专门的图像保存方法imwrite()</p>
<blockquote>
<p>imwrite(filename,img)</p>
</blockquote>
<ul><li>filename为保存文件目录</li><li>img为像 素数组对象</li></ul>
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2
image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pic.jpg"</span><span class="token punctuation">)</span>  
cv2<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">"new_pic.jpg"</span><span class="token punctuation">,</span> image<span class="token punctuation">)</span>
</code></pre>
<p>保存成功，执行结果可自行测试。</p>
<hr/>
<h1><a id="5_108"></a>5.获取图像的属性</h1>
<p>获取图像的属性，没有专门的方法，其实也就是查看像素数组的属性（即numpy数组的属性）。</p>
<p>只是当其应用于表示像素时，其具有了超出数组本身的意义。</p>
<p>常用的有</p>
<ul><li>shape,彩色图像的数组是一个三维数组，可以表示为(a,b,3)。a表示竖直方向上的像素通道数量（垂直像素），b表示水平方向上的像素通道数量（水平像素），3表示每个像素有三个色彩通道。<br/> 灰度图像的像素数组是一个二维数组(a,b)，a表示垂直像素，b表示水平像素。灰度图像的每个像素有一个色彩通道。</li><li>size,表示图片具有的色彩通道个数。<br/> 对彩色图像，像素数量为a×b，色彩通道个数为a×b×3。<br/> 对灰度图像，像素数量和色彩通道数都为a×b。</li><li>dtype,图像数据类型，为unit类型（非负类型）。</li></ul>
<hr/>
<p>查看彩色图像的属性：</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2

image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pic.jpg"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"shape ="</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"size ="</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"dtype ="</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4a1fd2cca6e74ab1bc391185fdbf681c.png"/><br/> 如图，可以看出是一个shape为(700,700,3)的三维数组。</p>
<hr/>
<p>查看灰度图像的属性</p>
<pre><code class="prism language-python">image <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"pic.jpg"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"shape ="</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"size ="</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"dtype ="</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/57a5c5161afe4d01aa791cd5f8a3dc3f.png"/><br/> 如图，可以看出是一个shape为(700,700)的二维数组。</p>
<hr/>
<p>本次分享就到这里，感谢大家的支持！</p>
<hr/>
<blockquote>
<p><font size="4">🌹꧔ꦿ本系列blog传送门：<br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123751380">OpenCV图像处理基本操作 【Python-Open_CV系列（一）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123754294">OpenCV像素处理基本操作 【Python-Open_CV系列（二）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123758373">OpenCV之 BGR、GRAY、HSV色彩空间&amp;色彩通道专题 【Python-Open_CV系列（三）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123765258">OpenCV绘制图像与文字(可作为脚手架代码)(python) 【Python-Open_CV系列（四）】</a><br/>  <br/> ✨<a href="https://blog.csdn.net/weixin_48964486/article/details/123779863?spm=1001.2014.3001.5501">OpenCV图像几何变换专题(缩放、翻转、仿射变换及透视)【python-Open_CV系列（五）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123795345">基于梵·高《向日葵》的 图像阈值处理专题（二值处理、反二值处理、截断处理、自适应处理及Otsu方法）【Python-Open_CV系列（六）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123807064">OpenCV基本功 之 图像的掩模、运算 &amp; 合并专题 -小啾带学【Python-Open_CV系列（七）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123833104">《三英战吕布》 - 图像模板匹配 【Python-Open_CV系列（八）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123851477">OpenCV滤波器 龙门石窟篇【Python-Open_CV系列（九）】(均值滤波器、中值滤波器、高斯滤波器、双边滤波器)</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123870336">Open_CV形态学运算专题 （腐蚀&amp;膨胀、开&amp;闭运算、梯度运算、顶帽运算黑帽运算 ）【Python-Open_CV系列（十）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123882663">霍夫变换看不懂？小啾带你串一遍：OpenCV图形检测专题 这样学最简单【Python-Open_CV系列（十一）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123915086">小啾带你开天眼 之 开启py-OpenCV摄像头及视频处理【Python-Open_CV系列（十二）】</a><br/>  <br/> ✨<a href="https://skylarkprogramming.blog.csdn.net/article/details/123954611">小啾带你开天眼 之 人脸检测与识别(以及华强、皇叔、高祖配墨镜特效)【Python-Open_CV系列（十三）】</a></font></p>
</blockquote>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>