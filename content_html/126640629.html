<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-kimbie-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p><font color="orange" size="5">ä¸­ç§‹å‘³çš„å¯è§†åŒ–å¤§å± ã€ä»¥python+pyechartsä¸ºå·¥å…·ã€‘ åˆ†ææœˆé¥¼é¾™å¤´è‚¡ä»·æ•°æ®<br/> </font></p>
<div class="toc">
<h3>æ–‡ç« ç›®å½•</h3>
<ul><li><a href="#1_3">1.å•¾è¨€å•¾è¯­</a></li><li><a href="#2__17">2. è·å–æ•°æ®</a></li><li><a href="#3__58">3. ç»˜åˆ¶å›¾çº¿</a></li><li><a href="#4__141">4. æ·»åŠ ä¸­ç§‹ä¸»é¢˜</a></li><li><a href="#5__169">5. ä¸­ç§‹å¿«ä¹!</a></li></ul>
</div>
<p></p>
<h1><a id="1_3"></a>1.å•¾è¨€å•¾è¯­</h1>
<p><font color="6699ff" size="4">ä»Šå¹´çš„ä¸­ç§‹èŠ‚åˆè¦åˆ°å•¦ï¼Œå°å•¾åœ¨æ¬¡ç¥å¤§å®¶<br/> â€ƒ<br/> â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ<font color="ffff00" size="5">ä¸­ç§‹å¿«ä¹</font>ï¼Œ<font color="cc0000" size="5">é˜–å®¶å›¢åœ†</font>ï¼Œ<font color="ff0033" size="5">ç”Ÿæ´»å¹¸ç¦ç¾æ»¡</font>ï¼Œ<font color="#FFBBFF" size="5">æœªæ¥ä¸€ç‰‡å¦é€”ï¼</font><br/> â€ƒ<br/> æœˆé¥¼ï¼Œä½œä¸ºä¸­ç§‹èŠ‚çš„çµé­‚å…ƒç´ ä¹‹ä¸€ï¼Œæˆ‘ä»¬å¤šæ•°äººéƒ½æ˜¯ä»æ¶ˆè´¹è€…çš„è§†è§’å°½äº«å…¶ç¾å‘³ã€‚<br/> æœ¬æœŸBlogä¸­ï¼Œå°å•¾å°†å›´ç»•ä¸­ç§‹ä¸»é¢˜ï¼Œä½¿ç”¨pythonçš„pyechartsåº“ï¼Œä»æœˆé¥¼ç”Ÿäº§è€…çš„è§†è§’ï¼Œä¸ºå¤§å®¶å‘ˆç°å‡ºæœˆé¥¼é¾™å¤´ä¼ä¸šâ€”â€”å¹¿å·é…’å®¶ è¿‘ä¸€ä¸ªæœˆçš„è‚¡ä»·è¡Œæƒ…ã€‚<br/> â€ƒ<br/> </font></p>
<div class="csdn-video-box">
<iframe allowfullscreen="true" data-mediaembed="csdn" id="8VW5UlKw-1662009934552" src="https://live.csdn.net/v/embed/235971"></iframe>
<p> </p>
</div>
<p></p>
<hr/>
<p><font color="brown" size="4">â€ƒ<br/> é¦–å…ˆæˆ‘ä»¬å‡†å¤‡ä»¥ä¸‹å›¾ç‰‡(pic1.jpg)ï¼Œä½œä¸ºç½‘é¡µèƒŒæ™¯ã€‚<br/> <img alt="ABCD" src="https://img-blog.csdnimg.cn/44f48ca36e2c446788518e64f0481d7f.jpeg"/></font></p>
<hr/>
<h1><a id="2__17"></a>2. è·å–æ•°æ®</h1>
<p><font color="purple" size="4">åšå¯è§†åŒ–ï¼Œç¬¬ä¸€æ­¥è¦è§£å†³çš„å°±æ˜¯æ•°æ®é—®é¢˜ã€‚<br/> <font color="brown" size="4">è¿™é‡Œä½¿ç”¨tushareæ¥å£è·å–å¹¿ä¸œé…’å®¶çš„è‚¡ä»·æ•°æ®ã€‚å¹¶ä¿å­˜ä¸ºcsvæ•°æ®æ–‡ä»¶ã€‚å¹¿å·é…’å®¶çš„è‚¡ç¥¨ä»£ç ä¸ºâ€™603043.SHâ€™ã€‚<br/> ä»£ç å¦‚ä¸‹ï¼š</font></font></p>
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> tushare <span class="token keyword">as</span> ts
<span class="token keyword">from</span> pyecharts <span class="token keyword">import</span> options <span class="token keyword">as</span> opts
<span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>charts <span class="token keyword">import</span> Page
<span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>charts <span class="token keyword">import</span> Line
<span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>charts <span class="token keyword">import</span> Kline

<span class="token comment"># è¾“å…¥æ‚¨çš„turshareæ¥å£</span>
token <span class="token operator">=</span> <span class="token string">'Your token'</span>
pro <span class="token operator">=</span> ts<span class="token punctuation">.</span>pro_api<span class="token punctuation">(</span>token<span class="token punctuation">)</span>


<span class="token comment"># å®šä¹‰è·å–æ•°æ®å‡½æ•°</span>
<span class="token keyword">def</span> <span class="token function">get_data</span><span class="token punctuation">(</span>tscode<span class="token punctuation">)</span><span class="token punctuation">:</span>
    df <span class="token operator">=</span> pro<span class="token punctuation">.</span>daily<span class="token punctuation">(</span>ts_code<span class="token operator">=</span>tscode<span class="token punctuation">)</span>
    df <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'trade_date'</span><span class="token punctuation">,</span> <span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token string">'low'</span><span class="token punctuation">,</span> <span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'vol'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
        <span class="token string">'trade_date'</span><span class="token punctuation">:</span> <span class="token string">'Date'</span><span class="token punctuation">,</span>
        <span class="token string">'open'</span><span class="token punctuation">:</span> <span class="token string">'Open'</span><span class="token punctuation">,</span>
        <span class="token string">'high'</span><span class="token punctuation">:</span> <span class="token string">'High'</span><span class="token punctuation">,</span>
        <span class="token string">'low'</span><span class="token punctuation">:</span> <span class="token string">'Low'</span><span class="token punctuation">,</span>
        <span class="token string">'close'</span><span class="token punctuation">:</span> <span class="token string">'Close'</span><span class="token punctuation">,</span>
        <span class="token string">'vol'</span><span class="token punctuation">:</span> <span class="token string">'Volume'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
        inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    df<span class="token punctuation">[</span><span class="token string">'Date'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'Date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Date'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    df <span class="token operator">=</span> df<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> df
 
get_data<span class="token punctuation">(</span><span class="token string">'603043.SH'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">"å¹¿å·é…’å®¶æ—¥çº¿æ•°æ®.csv"</span><span class="token punctuation">)</span>
</code></pre>
<p><font color="brown" size="4">ä¿å­˜çš„æ•°æ®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br/> â€ƒâ€ƒâ€ƒ<img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/aba78e2538ba417e84fcfea593a1845f.png"/></font></p>
<hr/>
<h1><a id="3__58"></a>3. ç»˜åˆ¶å›¾çº¿</h1>
<p><font size="4">æ‹¿åˆ°æ•°æ®åï¼Œå°±å¯ä»¥è¿›è¡Œç»˜å›¾äº†ã€‚æˆ‘ä»¬è¦ç»˜åˆ¶çš„æ˜¯ä¸€å¹…æŠ˜çº¿å›¾å’Œä¸€å¹…èœ¡çƒ›å›¾ã€‚å…¶ä¸­æŠ˜çº¿å›¾åŒ…å«8æœˆä»½äº¤æ˜“æ—¥çš„æ”¶ç›˜ä»·æ•°æ®ï¼Œä»¥åŠ5æ—¥ç§»åŠ¨å¹³å‡çº¿å’Œ10æ—¥ç§»åŠ¨å¹³å‡çº¿ã€‚èœ¡çƒ›å›¾ä¹Ÿé‡‡ç”¨åˆšåˆšè¿‡å»çš„å…«æœˆä»½çš„æ•°æ®è¿›è¡Œç»˜åˆ¶ã€‚<br/> â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ<img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/f9d8225c11fe42508a5bd938f8d99e24.png"/></font></p>
<pre><code class="prism language-python"><span class="token comment"># è¯»å–æ•°æ®</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"å¹¿å·é…’å®¶æ—¥çº¿æ•°æ®.csv"</span><span class="token punctuation">)</span>

<span class="token comment"># è®¾ç½®ç´¢å¼•ï¼Œå°†å­—ç¬¦ä¸²æ ¼å¼çš„æ—¥æœŸè½¬åŒ–ä¸ºæ—¶é—´åºåˆ—çš„å½¢å¼ï¼Œè¿™æ ·å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šæ–¹ä¾¿æˆ‘ä»¬ç´¢å¼•</span>
df<span class="token punctuation">.</span>index <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">.</span>Date<span class="token punctuation">)</span>

<span class="token comment"># æå–æ”¶ç›˜ä»·</span>
Close <span class="token operator">=</span> df<span class="token punctuation">.</span>Close

<span class="token comment"># æ±‚å–5æ—¥ç®€å•ç§»åŠ¨å¹³å‡æ•°</span>
Sma5 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> index<span class="token operator">=</span>Close<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Close<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    Sma5<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span>Close<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># æ±‚å–10æ—¥ç®€å•ç§»åŠ¨å¹³å‡æ•°</span>
Sma10 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> index<span class="token operator">=</span>Close<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>Close<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    Sma10<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span>Close<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>


<span class="token comment"># ç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œå³5æ—¥ç§»åŠ¨å¹³å‡ï¼Œå’Œ10æ—¥ç§»åŠ¨å¹³å‡</span>
line <span class="token operator">=</span> <span class="token punctuation">(</span>
    Line<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span>
                                        height<span class="token operator">=</span><span class="token string">'800px'</span><span class="token punctuation">,</span>
                                        chart_id<span class="token operator">=</span><span class="token string">'1'</span>
                                        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>df<span class="token punctuation">.</span>Date<span class="token punctuation">[</span><span class="token string">'2022-8'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">"æ”¶ç›˜ä»·"</span><span class="token punctuation">,</span> Close<span class="token punctuation">[</span><span class="token string">'2022-8'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">"äº”æ—¥ç§»åŠ¨å¹³å‡çº¿"</span><span class="token punctuation">,</span> Sma5<span class="token punctuation">[</span><span class="token string">'2022-8'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">"åæ—¥ç§»åŠ¨å¹³å‡çº¿"</span><span class="token punctuation">,</span> Sma10<span class="token punctuation">[</span><span class="token string">'2022-8'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># å…¨å±€é…ç½®é¡¹å†…å®¹</span>
    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"å¹¿å·é…’å®¶2022å¹´8æœˆæ”¶ç›˜æ•°æ®æŠ˜çº¿å›¾"</span><span class="token punctuation">,</span> subtitle<span class="token operator">=</span><span class="token string">"é™„5&amp;10æ—¥MAVå›¾"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     yaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>min_<span class="token operator">=</span><span class="token string">'dataMin'</span><span class="token punctuation">)</span>
                     <span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_series_opts<span class="token punctuation">(</span>
        linestyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>LineStyleOpts<span class="token punctuation">(</span>
            width<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span>
            opacity<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token punctuation">)</span>


<span class="token comment"># ç»˜åˆ¶èœ¡çƒ›å›¾</span>
<span class="token comment"># è¿™é‡Œéœ€è¦æŠŠæ•°æ®è½¬åŒ–ä¸º[[],[],...,[]]çš„å½¢å¼ è€Œä¸”ï¼Œä¸€å®šè¦æ³¨æ„ï¼Œpyechartsè¦æ±‚çš„æ•°æ®é¡ºåºæ˜¯ï¼šå¼€ æ”¶ ä½ é«˜ã€‚</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'2022-8'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Open'</span><span class="token punctuation">,</span> <span class="token string">'Close'</span><span class="token punctuation">,</span> <span class="token string">'Low'</span><span class="token punctuation">,</span> <span class="token string">'High'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">]</span>

kline <span class="token operator">=</span> <span class="token punctuation">(</span>
    Kline<span class="token punctuation">(</span>init_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>InitOpts<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token string">'1000px'</span><span class="token punctuation">,</span>
                                    height<span class="token operator">=</span><span class="token string">'800px'</span><span class="token punctuation">,</span>
                                    chart_id<span class="token operator">=</span><span class="token string">'2'</span><span class="token punctuation">,</span>
                                    page_title<span class="token operator">=</span><span class="token string">"å¹¿å·é…’å®¶"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_xaxis<span class="token punctuation">(</span>df<span class="token punctuation">.</span>Date<span class="token punctuation">[</span><span class="token string">'2022-8'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>add_yaxis<span class="token punctuation">(</span><span class="token string">"å¹¿å·é…’å®¶"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>set_global_opts<span class="token punctuation">(</span>
        xaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>is_scale<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        yaxis_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AxisOpts<span class="token punctuation">(</span>
            is_scale<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
            splitarea_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>SplitAreaOpts<span class="token punctuation">(</span>
                is_show<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> areastyle_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>AreaStyleOpts<span class="token punctuation">(</span>opacity<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        datazoom_opts<span class="token operator">=</span><span class="token punctuation">[</span>opts<span class="token punctuation">.</span>DataZoomOpts<span class="token punctuation">(</span>pos_bottom<span class="token operator">=</span><span class="token string">"-2%"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        title_opts<span class="token operator">=</span>opts<span class="token punctuation">.</span>TitleOpts<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"å¹¿å·é…’å®¶èœ¡çƒ›å›¾"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>


<span class="token comment"># é¡ºåºå¤šå›¾</span>
page <span class="token operator">=</span> Page<span class="token punctuation">(</span>layout<span class="token operator">=</span>Page<span class="token punctuation">.</span>DraggablePageLayout<span class="token punctuation">)</span>
page<span class="token punctuation">.</span>add<span class="token punctuation">(</span>
    line<span class="token punctuation">,</span>
    kline
<span class="token punctuation">)</span>

page<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">'render.html'</span><span class="token punctuation">)</span>
</code></pre>
<p><font color="brown" size="4">ç¨‹åºä¼šè¾“å‡ºä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œæˆ‘ä»¬å°†å…¶æ‰“å¼€åé‡Œè¾¹çš„å›¾è¡¨æ˜¯æŒ‰é¡ºåºä»ä¸Šå‘ä¸‹æ’åˆ—çš„ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥å¯¹å…¶ä¸­çš„å›¾ç‰‡ä½ç½®è¿›è¡Œæ‹–æ‹½ï¼Œæ‹–æ‹½åˆ°é¢„æœŸçš„ä½ç½®ï¼Œå¦‚å›¾æ‰€ç¤ºä¸ºä¾‹ã€‚ç„¶åç‚¹å‡»å·¦ä¸Šè§’çš„<code>Save Config</code>ï¼Œå³å¯å¾—åˆ°ä¸€ä¸ªåä¸ºchart_config.jsonçš„jsonæ–‡ä»¶ï¼Œåœ¨å·¦ä¸‹è§’ä½ç½®å¤„ã€‚å…·ä½“å¦‚å›¾æ‰€ç¤ºï¼š<br/> <img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/4b1c86c6d43a4bdeb36ee6343e436531.jpeg"/></font></p>
<hr/>
<h1><a id="4__141"></a>4. æ·»åŠ ä¸­ç§‹ä¸»é¢˜</h1>
<p><font color="orange" size="4">æ¥ä¸‹æ¥æˆ‘ä»¬çš„<code>pic1.jpg</code>å›¾åƒæ–‡ä»¶å°±æ´¾ä¸Šç”¨åœºå•¦ã€‚æ–‡ä»¶chart_config.jsonåŒ…å«äº†æˆ‘ä»¬éœ€è¦çš„å›¾åƒçš„ä½ç½®ä¿¡æ¯ã€‚å°†<code>pic1.jpg</code>å’Œ<code>chart_config.json</code>ï¼Œä»¥åŠåˆšåˆšç”Ÿæˆçš„<code>render.html</code>æ–‡ä»¶,éƒ½æ”¾åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œå†åˆ›å»ºä¸€ä¸ªpyæ–‡ä»¶ï¼Œå¹¶åœ¨é‡Œè¾¹ç¼–è¾‘ä»£ç ï¼š</font></p>
<pre><code class="prism language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">from</span> pyecharts<span class="token punctuation">.</span>charts <span class="token keyword">import</span> Page

Page<span class="token punctuation">.</span>save_resize_html<span class="token punctuation">(</span><span class="token string">"render.html"</span><span class="token punctuation">,</span> cfg_file<span class="token operator">=</span><span class="token string">"chart_config.json"</span><span class="token punctuation">,</span> dest<span class="token operator">=</span><span class="token string">"mycharts_demo.html"</span><span class="token punctuation">)</span>


<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"mycharts_demo.html"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> html<span class="token punctuation">:</span>
    html_bf <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">'lxml'</span><span class="token punctuation">)</span>
    body <span class="token operator">=</span> html_bf<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span>
    body<span class="token punctuation">[</span><span class="token string">"style"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"background-image: url(pic1.jpg)"</span>  <span class="token comment"># èƒŒæ™¯é¢œè‰²</span>
    html_new <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>html_bf<span class="token punctuation">)</span>
    html<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    html<span class="token punctuation">.</span>truncate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    html<span class="token punctuation">.</span>write<span class="token punctuation">(</span>html_new<span class="token punctuation">)</span>
</code></pre>
<p><font color="orange" size="4">æ‰§è¡Œä»£ç ï¼Œå³å¾—åˆ°äº†æœ€ç»ˆçš„"mycharts_demo.html"æ–‡ä»¶ã€‚<br/> ç•Œé¢æ•ˆæœå¦‚ä¸‹ï¼ŒåŠ¨æ€çš„æ•ˆæœå¯ä»¥ä»ä¸Šè¾¹è§†é¢‘ä¸­æŸ¥çœ‹ã€‚<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/d36fa4d98e624dfbb22afc84af8ffd78.png"/><br/> <font color="brown" size="4">å¯ä»¥çœ‹åˆ°ï¼Œä¸­ç§‹èŠ‚å‰å¤•ï¼Œå› è®¢å•æ¿€å¢ï¼Œæœˆé¥¼é¾™å¤´çš„è‚¡ä»·æœ‰ä¸€å®šçš„æ‹‰å‡è¶‹åŠ¿ï¼Œä½†æ˜¯å—å½“å‰å¤šæ–¹é¢å› ç´ æ‰€è‡´çš„ä¸åˆ©å¸‚åœºç¯å¢ƒå½±å“ï¼Œå¹¿å·é…’å®¶çš„è‚¡ä»·å‡ºç°å¤§å¹…æ³¢åŠ¨ï¼Œå‘ˆç°å‡ºä¸€ç§ææ…Œçš„æƒ…ç»ªã€‚<br/> â€ƒ<br/> ä½†æ ¹æ®å‡çº¿ç­–ç•¥ï¼Œåæ—¥ç§»åŠ¨å¹³å‡çº¿çŸ­æš‚è¶…è¿‡äº”æ—¥å‡çº¿åï¼Œåˆè¢«äº”æ—¥ç§»åŠ¨å¹³å‡çº¿å¿«é€Ÿçªç ´ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼Œé‡Šæ”¾å‡ºäº†åˆ©å¥½ä¿¡å·ã€‚<br/> â€ƒ<br/> <font color="purple">å“ˆå“ˆå“ˆï¼Œè‚¡å¸‚æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ï¼Œè¿˜æ˜¯ä»£ç é¦™ã€‚</font></font></font></p>
<hr/>
<h1><a id="5__169"></a>5. ä¸­ç§‹å¿«ä¹!</h1>
<p><font color="ff0033" size="4">æœ¬æ¬¡åˆ†äº«åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œåœ¨ä»Šåçš„åšå®¢ä¸­ï¼Œå°å•¾è¿˜ä¼šåŠªåŠ›å‘ˆç°å‡ºæ›´å¤šç²¾å½©å†…å®¹ï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒï¼<br/> â€ƒ<br/> <font color="orange" size="5"><em>ç¥ å¤§ å®¶</em>ï¼š<br/> â€ƒ<br/> â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ<font color="orange" face="STCAIYUN" size="10"><em>ä¸­ç§‹å¿«ä¹ï¼</em><br/> â€ƒ</font></font></font></p>
<p>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ<img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/5da714ff56c64b10a3fffccb459df956.jpeg"/></p>
<hr/>
<p><font size="5">ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿ğŸŒ¹ê§”ê¦¿</font></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>