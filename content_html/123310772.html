<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h1><a id="selenium_0"></a>自动化测试——selenium（环境部署和元素定位篇）</h1>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#selenium_0">自动化测试——selenium（环境部署和元素定位篇）</a></li><li><ul><li><a href="#web_17">一、web自动化环境部署</a></li><li><ul><li><a href="#11_selenium_19">1.1 selenium安装</a></li><li><a href="#12__55">1.2 浏览器驱动获取</a></li><li><a href="#13__67">1.3 浏览器驱动安装</a></li></ul>
</li><li><a href="#web_73">二、web自动化的基本代码</a></li><li><a href="#_106">三、八大元素定位</a></li><li><ul><li><a href="#31_id_144">3.1 id定位方法</a></li><li><a href="#32_name_188">3.2 name定位方法</a></li><li><a href="#33_class_name__241">3.3 class_name 方法</a></li><li><a href="#34_tag_name__292">3.4 tag_name 方法</a></li><li><a href="#35_link_text_323">3.5 link_text</a></li><li><a href="#36_partial_link_text_356">3.6 partial_link_text</a></li><li><a href="#37__373">3.7 定位一组元素的方法</a></li><li><a href="#38_xpath__451">3.8 xpath ☆</a></li><li><ul><li><a href="#381__460">3.8.1 获取路径策略</a></li><li><a href="#382__486">3.8.2 利用元素属性策略</a></li><li><a href="#383_xpath__562">3.8.3 xpath 扩展</a></li></ul>
</li><li><a href="#39_css__596">3.9 css定位 ☆</a></li><li><ul><li><a href="#391_css__665">3.9.1 css的扩展方法 ☆</a></li></ul>
</li></ul>
</li></ul>
</li></ul>
</div>
<p></p>
<pre><code class="prism language-yacas">一、什么是selenium？
   &gt; 一个web自动化测试工具；
二、主流的自动化工具：
   &gt; QTP:收费 支持（支持web、桌面软件自动化）
   &gt; selenium:免费，开源 只支持web项目
   &gt; Robot frameword: 基于Python扩展关键字驱动自动化工具

</code></pre>
<p>注意：要是用selenium自动化工具，要先下载安装selenium</p>
<h2><a id="web_17"></a>一、web自动化环境部署</h2>
<h3><a id="11_selenium_19"></a>1.1 selenium安装</h3>
<p>1、安装</p>
<p>在cmd 直接输入 ：pip install selenium</p>
<p>2、卸载：</p>
<p>在cmd输入：pip uninstall selenium</p>
<p>3、查看：</p>
<p>pip show selenium 或者 pip list</p>
<blockquote>
<p>pip 是python中包管理工具（可安装，可卸载，查看python工具），使用pip的时候必须联网</p>
</blockquote>
<p>有的输入 pip install selenium 会提示出现 ‘pip’ 不是内部或外部命令，也不是可运行的程序或批处理文件。产生这个原因python环境内部没有 pip 路径，则需要我们收到导入</p>
<p>​ 解决方法：</p>
<p>​ 1、找到我们python工具中的pip所在文件夹，复制其路径</p>
<p><img alt="image-20220304215358062" src="https://img-blog.csdnimg.cn/img_convert/457385da8cbd256c690e3e39baf27d10.png"/></p>
<p>2、右键，点击我的电脑 选择属性，点击高级系统设置，再点击环境变量</p>
<p><img alt="image-20220304215808652" src="https://img-blog.csdnimg.cn/img_convert/69b0b2a244a1619dc46262bc837ecf09.png"/></p>
<p>3、点击环境变量后，找到Path然后编辑，把复制上的路径粘贴进去就可以了。</p>
<p><img alt="image-20220304220128221" src="https://img-blog.csdnimg.cn/img_convert/a8cd17b02168e974d82496653eff3edf.png"/></p>
<h3><a id="12__55"></a>1.2 浏览器驱动获取</h3>
<p>这里有多种浏览器，但是很多浏览器都是用的，谷歌，火狐，Edge中的内核，在这里讲的就是最具有代表性的谷歌浏览器</p>
<pre><code class="prism language-yacas">获取谷歌浏览器的驱动地址：http://chromedriver.storage.googleapis.com/index.html
</code></pre>
<p>1）、获取浏览器的版本一定要选本地电脑谷歌浏览器版本号一样，<mark>注意：这里可能有些版本驱动地址没有一模一样的，但是可以选择用 . 号隔开的前三位必须相同，第四位可以选最接近你浏览器版本的那个数.</mark> 后面一步的是有，这里只有win32位，但是不影响，64位也能用这个驱动，但是显示的是64位，那么32位就不能用了，这里选择对应操作系统就可以了。</p>
<p><img alt="image-20220304222749608" src="https://img-blog.csdnimg.cn/img_convert/ee087d25de377fac10e937ab77d4e685.png"/></p>
<h3><a id="13__67"></a>1.3 浏览器驱动安装</h3>
<p>下载好驱动压缩包过后，解压得到 <code>chromedriver.exe</code> 驱动程序把他放进Python解释器根目录下，就ok了</p>
<p><img alt="image-20220304224444965" src="https://img-blog.csdnimg.cn/img_convert/001d9574670320bdb7f4835fda23830a.png"/></p>
<h2><a id="web_73"></a>二、web自动化的基本代码</h2>
<pre><code class="prism language-yacas">步骤：
1、导包
2、实例化浏览器对象
3、打开网页
4、时间轴观察效果
5、关闭网页
</code></pre>
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
web 自动化基本代码
"""</span>
<span class="token comment"># 1、导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 2、实例化浏览器对象：类名（）</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 3、打开网页包含协议头</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>

<span class="token comment"># 4、时间轴观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 5、关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
<h2><a id="_106"></a>三、八大元素定位</h2>
<p>1、为什么要使用元素定位？</p>
<p>​ 计算机无法向人一样，所见即所得，因此需要通过元素定位来指定计算机所定位的元素来进行操作</p>
<p>2、定位工具：</p>
<p>​ 1）、谷歌使用 <code>F12</code> 进入开发者工具</p>
<p>​ 2）、右键点击<code>检查</code>进入开发者工具</p>
<p><img alt="image-20220305112919211" src="https://img-blog.csdnimg.cn/img_convert/f363c4d580ca22549e0bbbf79537dd92.png"/></p>
<p><img alt="" src="image\c052abe2309a1b7dd6b0b69931ddccbf.png"/></p>
<p>3、定位元素是依赖于什么？</p>
<p>​ 标签名、属性、层级、路径</p>
<pre><code class="prism language-yacas">定位方式：
1、id
2、name
3、class_name(使用的是class属性进行定位)
4、teg_name (标签名称)
5、link_text(定位超链接 a 标签)
6、partial_link_text(定位超链接 a 标签 包含关系)
7、xpath (路径)
8、css (元素选择器)
</code></pre>
<blockquote>
<p>注意：这是 selenium 框架中提供的八大元素定位方法，只要能够定位目标元素，用哪一种都无所谓，最常用的是 id ，xpath，css</p>
</blockquote>
<h3><a id="31_id_144"></a>3.1 id定位方法</h3>
<p>说明：通过元素的id属性定位，id一般情况下在当前页面中是唯一。</p>
<p>提示：元素必须要有id属性。</p>
<pre><code class="prism language-python"><span class="token comment"># 语法：</span>
find_element_by_id（元素value）
</code></pre>
<pre><code class="prism language-yacas">1、元素定位：首先调用find_element_by_id（元素value）获得元素定位
2、调用send_keys来填写内容
3、通过⽬标元素的 id 属性值定位, 由于 id 值一般是唯一的,因此当元素存在 id 属性值时, 优先使用 id 方法定位元素
</code></pre>
<pre><code class="prism language-python"><span class="token comment"># 元素定位：首先调用find_element_by_id（元素value）获得元素定位</span>

<span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>

<span class="token comment"># 需求</span>
driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'kw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3><a id="32_name_188"></a>3.2 name定位方法</h3>
<p>说明：通过元素的name属性来定位， name一般名称为重复</p>
<p>提示：元素必须要有name属性</p>
<blockquote>
<pre><code class="prism language-yacas">1、name方法：由于元素的 name 属性值可能存在重复, 必须确定其能够代表⽬标元素唯⼀性之后, ⽅可使⽤
2、当页⾯面内有多个元素的特征值是相同的时候, 定位元素的⽅法执⾏时,默认只会获取第⼀个符合要求的特征对应的元素
3、因此, 定位元素时需要尽量保证使⽤的特征值能够代表⽬标元素在当前⻚页⾯内的唯⼀性!否则定不了位，添加在第一个定位的位置
</code></pre>
</blockquote>
<p><mark>name 的定位方法不是唯一的，默认只会获取第⼀个符合要求的特征对应的元素，在确认他是第一个符合要求的特征对应的元素，即可使用。</mark></p>
<p>错误示范：</p>
<p><img alt="image-20220305141536639" src="https://img-blog.csdnimg.cn/img_convert/14dfcd61bfc8dc271933e7addb76b7fe.png"/></p>
<p>所以要精准找到在确认他是第一个符合要求的特征对应的元素，方可用这个方法。</p>
<pre><code class="prism language-python">driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">'name的值'</span><span class="token punctuation">)</span>
</code></pre>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'file:///D:/%E6%A1%8C%E9%9D%A2/page/%E6%B3%A8%E5%86%8CA.html'</span><span class="token punctuation">)</span>

<span class="token comment"># 需求</span>
username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">'userA'</span><span class="token punctuation">)</span>
username<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>
password <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">'passwordA'</span><span class="token punctuation">)</span>
password<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'12123'</span><span class="token punctuation">)</span>

<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
<h3><a id="33_class_name__241"></a>3.3 class_name 方法</h3>
<p>说明：通过元素的class属性来定位，class属性一般为多个值。</p>
<p>提示：元素必须要有class属性</p>
<blockquote>
<p>注意：</p>
<p>1、方法名是class_name ,但是我们找的是class属性</p>
<p>2、如果元素的 class 属性值存在多个值, 在 class_name 方法使用时, 只能使⽤其中的任意⼀一个</p>
</blockquote>
<pre><code class="prism language-python"><span class="token comment"># 语法</span>
driver<span class="token punctuation">.</span>find_element_by_class_name
</code></pre>
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
class_name 方法:方法名是 class_name, 但要找元素的 class 属性值
"""</span>

<span class="token comment"># 1、导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep

<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
<span class="token comment"># 2、实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 3、打开网页</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'file:///D:/%E6%A1%8C%E9%9D%A2/page/%E6%B3%A8%E5%86%8CA.html'</span><span class="token punctuation">)</span>

tel <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">'telA'</span><span class="token punctuation">)</span>
tel<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'18611111111'</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">"""
如果元素的 class 属性值存在多个值, 在 class_name ⽅法使用时, 只
能使用其中的任意⼀个
"""</span>
<span class="token comment"># mail = driver.find_element_by_class_name('emailA dzyxA') # 错误写法</span>
<span class="token comment"># mail = driver.find_element_by_class_name('emailA') # 正确写法</span>
mail <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">'dzyxA'</span><span class="token punctuation">)</span> <span class="token comment"># 正确写法</span>

mail<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'123@qq.com'</span><span class="token punctuation">)</span>

<span class="token comment"># 4、观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 5、关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3><a id="34_tag_name__292"></a>3.4 tag_name 方法</h3>
<p>说明：通过元素的标签名称来定位，标签名(查看元素时尖括号(&lt;)紧挨着的单词或字母就是标签名) (标签名也就是元素名)</p>
<pre><code class="prism language-python"><span class="token comment"># 语法</span>
driver<span class="token punctuation">.</span>find_element_by_tag_name<span class="token punctuation">(</span><span class="token string">"标签名"</span><span class="token punctuation">)</span>
</code></pre>
<p>tag_name 方法：由于存在大量标签，并且重复性更高，因此必须确定其能够代表目标元素唯一性之后，方可以使用；如果页面中存在多个相同标签，默认返回第一个标签元素。</p>
<p><font color="blue" size="3">注意：一般标签重复性过高，要精确定位，都不会选择tag_name !</font></p>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'file:///D:/%E6%A1%8C%E9%9D%A2/page/%E6%B3%A8%E5%86%8CA.html'</span><span class="token punctuation">)</span>
<span class="token comment"># 需求</span>
username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_tag_name<span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
username<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span>
<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3><a id="35_link_text_323"></a>3.5 link_text</h3>
<p>说明：定位超链接标签</p>
<p>注意：1、只能使用精准匹配(a标签的全部文本内容)</p>
<p>​ <font color="red" size="3">2、该⽅法只针对超链接元素(a 标签),并且需要输入超链接的全部⽂本信息 </font></p>
<p>点击方法：元素对象 .click()</p>
<pre><code class="prism language-python"><span class="token comment"># 语法：</span>
driver<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span><span class="token string">'文本内容'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>
<span class="token comment"># 需求</span>
username <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span><span class="token string">'新闻'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
<h3><a id="36_partial_link_text_356"></a>3.6 partial_link_text</h3>
<p>说明：定位超链接标签</p>
<p>注意：<br/> 1. 可以使用精准或模糊匹配，如果使用模糊匹配最好使用能代表唯一的关键词<br/> 2. 如果有多个值，默认返回第一个值</p>
<pre><code class="prism language-python"><span class="token comment"># 语法</span>
driver<span class="token punctuation">.</span>find_element_by_partial_link_text<span class="token punctuation">(</span><span class="token string">'模糊匹配'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="image-20220305151649190" src="https://img-blog.csdnimg.cn/img_convert/8718fcc74459388df521b3b65983ac19.png"/></p>
<h3><a id="37__373"></a>3.7 定位一组元素的方法</h3>
<p>​ 通常我们定义元素方法的是 <code>driver.find_element_by_xxx</code>,但是也有 <code>driver.find_elements_by_xxx</code>这种element后面带s，表示执行结果返回的是列表类型，里面的数据是多个元素对象。</p>
<blockquote>
<p>说明：1、我们可以获取列表<code>下标</code>获取对应的目标元素</p>
<p>​ 2、其他元素定位方法也可以实行定义一组元素</p>
<p>​ 3、使用标签名定位操作</p>
</blockquote>
<pre><code class="prism language-python"><span class="token comment"># 语法</span>
driver<span class="token punctuation">.</span>find_elements_by_xxx
</code></pre>
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
id 列表定位
"""</span>

<span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'file:///D:/%E6%A1%8C%E9%9D%A2/page/%E6%B3%A8%E5%86%8CA.html'</span><span class="token punctuation">)</span>
<span class="token comment"># 需求</span>
element <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_elements_by_id<span class="token punctuation">(</span><span class="token string">'AAA'</span><span class="token punctuation">)</span>
element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span>
element<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span>
<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
使用标签名进行定位
"""</span>
<span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'file:///D:/%E6%A1%8C%E9%9D%A2/page/%E6%B3%A8%E5%86%8CA.html'</span><span class="token punctuation">)</span>
<span class="token comment"># 需求</span>
new_els <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_elements_by_tag_name<span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
new_els<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span>
new_els<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span>
<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<hr/>
<p>总结：</p>
<p>1、id，name，class，都是依赖于元素这三个对应的属性，如果元素没有这个三个属性，定位方法不能使用；</p>
<p>2、link_text, partial_link_text: 只适合超链接定位</p>
<p>3、tag_name: 只能找页面唯一元素，或者 页面中多个相同元素中的第一个元素</p>
<hr/>
<h3><a id="38_xpath__451"></a>3.8 xpath ☆</h3>
<p>说明：Xpath策略有多种，无论使用哪一种策略（方法），定位的方法都是同一个，不同策略只决定方法的参数的写法</p>
<pre><code class="prism language-python"><span class="token comment"># Xpath 定位方法：</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'Xpath的策略'</span><span class="token punctuation">)</span>
</code></pre>
<h4><a id="381__460"></a>3.8.1 获取路径策略</h4>
<p>1、什么是Xpath定位：</p>
<p>​ 基于元素的路径定位</p>
<p>2、Xpath常用的定位策略：</p>
<ul><li>绝对路径：从最外层元素到指定元素之间所有经过元素层级的路径 ，绝对路径是以<code>/html</code>根节点开始，使用 <code>/</code> 来分割元素层级 
  <ul><li>语法：<code>/html/body/div/fieldset/form/p[1]/input</code> （可能会有多个p标签，所以也是用索引的方式定位，是从一开始以便读者看懂）</li></ul> </li></ul>
<blockquote>
<p>绝对路径对页⾯结构要求比较严格，不建议使⽤！！！！</p>
</blockquote>
<ul><li>相对路径：匹配任意层级的元素，不限制元素的位置 ，相对路径是以 <code>//</code> 开始， <code>//</code> 跟元素名称，不知元素名称可以使用*代替。 
  <ul><li>语法：<code>//input</code> 或者 <code>//*</code></li></ul> </li></ul>
<blockquote>
<p>推荐使用相对路径！！</p>
</blockquote>
<p>3、直接获取路径值。</p>
<p><img alt="image-20220305201208255" src="https://img-blog.csdnimg.cn/img_convert/9ed0d6fc23cb2b4fae1100d936c9a04b.png"/></p>
<h4><a id="382__486"></a>3.8.2 利用元素属性策略</h4>
<p>1、路径结合属性</p>
<p>该方法可以使用目标元素的任意一个属性和属性值(需要保证唯⼀性)</p>
<pre><code class="prism language-python"><span class="token comment"># 语法1：//标签名[@属性名='属性值']</span>
<span class="token comment"># 语法2：//*[@属性名='属性值']</span>
</code></pre>
<blockquote>
<p>注意: 1、使用 XPath 策略, 需要在浏览器⼯具中根据策略语法, 组装策略值,验证后再放入代码中使用</p>
<pre><code>   2、⽬标元素的有些属性和属性值, 可能存在多个相同特征的元素, 需要注意唯一性 
</code></pre>
</blockquote>
<p>2、路径结合逻辑(多个属性)</p>
<p>解决的是单个属性和属性值无法定位元素唯一性的问题。</p>
<pre><code class="prism language-python"><span class="token comment"># 语法： //*[@属性1="属性值1" and @属性2="属性值2"]</span>
</code></pre>
<blockquote>
<p>注意：多个属性可有由 多个 and 链接，每一个属性前面都要有 @ 开头，可以根据需求使用更多属性值</p>
</blockquote>
<p>3、层级和属性结合策略</p>
<p>目标元素⽆法直接定位, 可以考虑先定位其父层级或祖辈层级, 再获取目标元素</p>
<pre><code class="prism language-python"><span class="token comment"># 语法：//*[@id='父级id属性值']/input    （⽗层级定位策略/目标元素定位策略）</span>
</code></pre>
<p>代码实现：</p>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>
<span class="token comment"># 需求</span>
<span class="token comment"># 1、相对路径</span>
ele <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="kw"]'</span><span class="token punctuation">)</span>
ele<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 2、绝对路径</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[1]/div[2]/div[5]/div[1]/div/form/span[1]/input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 3、路径结合属性  语法1：//标签名[@属性名='属性值']</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//input[@id='kw']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>
<span class="token comment"># 语法2： //*[@属性名='属性值']</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[@id='kw']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 4、路径结合逻辑(多个属性)</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[@id='kw' and @name ='wd']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 5、层级和属性结合策略</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[@id='s_kw_wrap']/input"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 观察效果</span>
sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h4><a id="383_xpath__562"></a>3.8.3 xpath 扩展</h4>
<pre><code class="prism language-yacas">1. //*[text()='文本信息'] # 定位文本值等于XXX的元素  
	提示：一般适合 p标签，a标签 
2. //*[contains(@属性,'属性值的部分内容')] # 定位属性包含xxx的元素 【重点】
	提示：contains为关键字，不可更改。 
3. //*[starts-with(@属性,'属性值的开头部分')] # 定位属性以xxx开头的元素
	提示：starts-with为关键字不可更改
</code></pre>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>

<span class="token comment"># 需求</span>
<span class="token comment"># driver.find_element_by_xpath("//*[text()='新闻']").click()</span>
<span class="token comment"># driver.find_element_by_xpath("//*[contains(@autocomplete,'f')]").send_keys('易烊千玺')</span>
driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[starts-with(@autocomplete,'o')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3><a id="39_css__596"></a>3.9 css定位 ☆</h3>
<p>通过 css 的选择器语法定位元素</p>
<blockquote>
<p>1、Selenium框架官方推荐使用 css ，因为定位效率高于xpath</p>
<p>2、 CSS一种标记语言，焦点：数据的样式。控制元素的显示样式，就必须先找到元素，在css标记语言中找元素使用css选择器；</p>
<p>3、css的选择策略也有很多，但是无论选择哪一种选择策略都是用的同一种定位方法</p>
</blockquote>
<pre><code class="prism language-python"><span class="token comment"># 方法：</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'css策略'</span><span class="token punctuation">)</span>
</code></pre>
<pre><code class="prism language-yacas">常用策略：
1、id 选择器
	语法：#id属性值
2、class 选择器
	语法：.class属性值（如果使⽤具有多个值的 class 属性,则需要传入全部的属性值 语法：[class="全部属性值"]）
3、属性选择器
	语法1：[属性名=“属性值”]
	语法2：标签名[属性名=“属性值”]
4、标签选择器
	语法：标签名 如input，button
5、层级选择器
	父子层级关系：父层级策略 &gt; 子层级策略 （也可以使用空格连接上下层级策略）
	祖辈后代层级关系：祖辈策略 后代策略
	提示：&gt;与空格的区别，大于号必须为子元素，空格则不用。
</code></pre>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>

<span class="token comment"># 需求</span>
<span class="token comment"># 语法id：#id属性值</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'#kw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 语法class：.class属性值 如: '.talA'</span>
<span class="token comment"># 语法class有多个属性值的时候：[class="全部属性值"]</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'[class="s_ipt"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 语法属性选择器</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'input[id="kw"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'[name="wd"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 语法层级选择器</span>
<span class="token comment"># 父层级策略 &gt; 子层级策略</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'#s_kw_wrap&gt;input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">'#form input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h4><a id="391_css__665"></a>3.9.1 css的扩展方法 ☆</h4>
<pre><code class="prism language-yacas">1. [属性^='开头的字母'] # 获取指定属性以指定字母开头的元素
2. [属性$='结束的字母'] # 获取指定属性以指定字母结束的元素
3. [属性*='包含的字母'] # 获取指定属性包含指定字母的元素
</code></pre>
<pre><code class="prism language-python"><span class="token comment"># 导包</span>
<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep
<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver

<span class="token comment"># 实例化浏览器对象</span>
driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 打开网址url</span>
driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>
<span class="token comment"># 需求</span>
<span class="token comment"># 语法1：[属性^='开头的字母'] # 获取指定属性以指定字母开头的元素</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">"[class^='s_i']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 语法2：[属性$='结束的字母'] # 获取指定属性以指定字母结束的元素</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">"[class$='pt']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

<span class="token comment"># 语法3：[属性*='包含的字母'] # 获取指定属性包含指定字母的元素</span>
driver<span class="token punctuation">.</span>find_element_by_css_selector<span class="token punctuation">(</span><span class="token string">"[autocomplete*='f']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'易烊千玺'</span><span class="token punctuation">)</span>

sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 关闭网页</span>
driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>
<p>也可以直接自动生成css的路径，跟xpath步骤一样：</p>
<p><img alt="image-20220306145505762" src="https://img-blog.csdnimg.cn/img_convert/5c0a028cafb31c1d78c9e6720c5347e6.png"/></p>
<hr/>
<p>​ 这篇帖子就到这里了，这里只介绍了selenium中的八大元素定位，后面还有很多内容，就留着下一篇帖子见面吧😁😁😁铁汁们，觉得笔者写的不错的可以点个赞哟❤🧡💛💚💙💜🤎🖤🤍💟，收藏关注呗，你们支持就是我写博客最大的动力！！！！</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>