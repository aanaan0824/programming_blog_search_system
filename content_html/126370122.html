<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#_8">💨更多相关知识👇</a></li><li><ul><li><a href="#_46">一、依赖注入</a></li><li><ul><li><a href="#Autowired_53">🍂@Autowired注解</a></li><li><a href="#PostConstructAutowiredPostConstruct_104">⚡扩展@PostConstruct的使用（@Autowired，构造方法，@PostConstruct的执行顺序）⚡</a></li><li><ul><li><a href="#_124">⚡扩展问题演示与解决</a></li><li><a href="#Autowired_177">⭐@Autowired注解演示</a></li></ul>
</li><li><a href="#_Qualifier_222">🍂 @Qualifier注解</a></li><li><ul><li><a href="#Qualifier_251">⭐@Qualifier注解演示</a></li></ul>
</li><li><a href="#_Value_298">🍂 @Value注解</a></li><li><ul><li><a href="#Value_334">⭐@Value注解演示</a></li></ul>
</li></ul>
</li><li><a href="#PropertySourceproperties_386">二、PropertySource注解加载properties文件</a></li><li><ul><li><a href="#_416">⭐代码演示</a></li></ul>
</li><li><a href="#_475">三、第三方资源配置管理</a></li><li><ul><li><a href="#_Bean_bean_483">🍁使用 @Bean注解 配置第三方资源bean</a></li><li><ul><li><a href="#_544">⭐代码演示</a></li></ul>
</li><li><a href="#__610">🍁 将独立的配置类加入核心配置</a></li><li><ul><li><a href="#_634">⭐导入式代码演示</a></li><li><a href="#_707">⭐扫描式代码演示</a></li></ul>
</li><li><a href="#__778">🍁 简单类型与引用类型依赖注入</a></li><li><ul><li><a href="#_792">⭐代码演示</a></li></ul>
</li></ul>
</li><li><a href="#XML____849">四、XML配置 和 注解配置的 区别</a></li></ul>
</li><li><a href="#KJJK_855">作者：KJ.JK</a></li></ul>
</div>
<p></p>
<h1><a id="_8"></a>💨更多相关知识👇</h1>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/126197853?spm=1001.2014.3001.5502">Spring中的创建对象的三种方式、第三方资源配置管理详细描述及使用（XML版完结篇）</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/126074954">Spring中的bean的配置、作用范围、生命周期详细描述及使用（XML版上篇）</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/126111088?spm=1001.2014.3001.5502">Spring中的依赖注入、setter与构造器注入、自动装配与集合注入详细描述及使用（XML版中篇）</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125882818">异常处理与解决方案详解上篇</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125882855">异常处理与解决方案详解下篇</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125919963">Math类与System类的常用方法使用</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125376882">JavaEE中的静态方法定义、方法重载要求、return作用详解</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125833781">List接口的常用方法，精华总结</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125375899">JavaEE中的Stream流的常用方法</a></strong></p>
<p><strong>💖<a href="https://sars2025.blog.csdn.net/article/details/125374965">JavaEE中的Stream流知识点使用，精华总结，一文直接上手</a></strong></p>
<hr/>
<blockquote>
<p>🌈 🌈 🌈 🌈 🌈 🌈 🌈 🌈 🌈 🌈 🌈 🌈 🌈<br/>  <br/> <strong>🍂个人博客首页：</strong> <a href="https://blog.csdn.net/m0_47384542?type=blog">KJ.JK</a><br/>  <br/> <strong>欢迎大家点赞👍收藏💖评论💬关注🔒</strong><br/>  <br/> <strong>💖源码获取 | 💻学习交流 | 🤝商务合作 | 💨私信作者</strong><br/>  <br/> <strong>💨推荐一款实用的模拟面试、刷题练习算法的神器、适用于所有的程序猿👉<a href="https://www.nowcoder.com/link/pc_csdncpt_kjjk_java">点击开始免费刷题，跟着博主走上巅峰💪</a></strong></p>
</blockquote>
<hr/>
<h2><a id="_46"></a>一、依赖注入</h2>
<hr/>
<h3><a id="Autowired_53"></a>🍂@Autowired注解</h3>
<pre><code class="prism language-java">               <span class="token operator">*</span> 使用 <span class="token string">"@Autowired注解"</span>开启<span class="token string">"自动装配模式"</span>  <span class="token punctuation">(</span>默认按类型注入<span class="token punctuation">,</span>如果有多个类型相同的按名称<span class="token punctuation">)</span>
                   
               <span class="token operator">*</span> <span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token operator">:</span> 找不到就算了<span class="token punctuation">(</span>会报错<span class="token punctuation">)</span>
                   
               <span class="token operator">*</span> 直接加在成员变量上使用
                   
                   <span class="token annotation punctuation">@Service</span>
                   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>
                       
                      <span class="token annotation punctuation">@Autowired</span>
                      <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>
                       
                       
                      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBookDao</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span> bookDao<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>      <span class="token comment">//set方法可以省略</span>
                          <span class="token keyword">this</span><span class="token punctuation">.</span>bookDao <span class="token operator">=</span> bookDao<span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>
                       
                       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                           bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                       <span class="token punctuation">}</span>
                   <span class="token punctuation">}</span>

               
               
<span class="token comment">/*

 注意:
 
  自动装配基于反射设计创建对象并"暴力反射"对应属性为私有属性初始化数据，因此"无需提供setter方法"
  
  自动装配建议使用无参构造方法创建对象(默认)

   执行顺序:
   
          构造方法执行 -&gt;  @Autowired注解执行注入
          
            注意:如果一个类里面用到了静态代码块先初始化一些数据，而这些数据里面有一些代码又需要注入，这个时候如果有@Autowired为这些数据进行注入，会出现空指针异常，这个时候需要使用@PostConstruct注解(JDK8及以前有)

*/</span>
</code></pre>
<hr/>
<h3><a id="PostConstructAutowiredPostConstruct_104"></a>⚡扩展@PostConstruct的使用（@Autowired，构造方法，@PostConstruct的执行顺序）⚡</h3>
<pre><code class="prism language-java">        <span class="token string">"场景:当我们一个类里面有@Autowired注解注入对象,有构造方法,构造方法里面对象需要用@Autowired注解进行注入,这个时候会出现这个对象注入不成功为null,出现空指针异常,这个时候就需要@PostConstruct注解"</span>      
            
            
            
         <span class="token string">"@PostConstruct只有JDK8及以前有"</span>
            
<span class="token comment">/*
   静态代码块也是一样的道理
*/</span>
</code></pre>
<hr/>
<h4><a id="_124"></a>⚡扩展问题演示与解决</h4>
<pre><code class="prism language-java"><span class="token string">"问题:"</span>
    
   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AbService</span> abService<span class="token punctuation">;</span>

    <span class="token keyword">public</span>  <span class="token class-name">AbController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        abService<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//这里其实是为null,因为构造方法会先执行,然后再执行@Autowired,就会导致这个对象没有被注入报错</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    
<span class="token string">"解决:"</span>
    
 <span class="token comment">/*
    把代码放出构造方法外面,并里面在@Autowired注入对象后使用即可
 */</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbController</span>  <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AbService</span> abService<span class="token punctuation">;</span>

    <span class="token keyword">public</span>  <span class="token class-name">AbController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@PostConstruct</span>  <span class="token comment">//@PostConstruct注解来完成初始化, @PostConstruct注解的方法将会在abService注入完成后被自动调用</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        abService<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">/*

  执行顺序 :
     
        构造方法 -&gt; @Autowired -&gt;  @PostConstruct
   
*/</span>
</code></pre>
<hr/>
<h4><a id="Autowired_177"></a>⭐@Autowired注解演示</h4>
<pre><code class="prism language-java">
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token comment">// @Component // 默认id为类名首字母小写: bookServiceImpl</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// 自动装配,使用暴力反射,不需要提供set方法</span>
    <span class="token comment">// 默认是按照类型装配, 如果有多个,按照名字注入</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>

<span class="token comment">//    public void setBookDao(BookDao bookDao) {<!-- --></span>
<span class="token comment">//</span>
<span class="token comment">//        this.bookDao = bookDao;</span>
<span class="token comment">//    }</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/11efe4c2ad3247b4ac266ed28d909e39.png"/></p>
<hr/>
<h3><a id="_Qualifier_222"></a>🍂 @Qualifier注解</h3>
<pre><code class="prism language-java">                      <span class="token operator">*</span> 使用<span class="token string">"@Qualifier注解"</span>开启<span class="token string">"指定名称"</span>装配bean
                          
                      <span class="token operator">*</span> 直接在成员变量上面使用
                          
                          <span class="token annotation punctuation">@Service</span>
                          <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>
                              <span class="token annotation punctuation">@Autowired</span>
                              <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span>
                              <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>

                          
<span class="token comment">/*

注意:
    @Qualifier注解无法单独使用，必须依赖@Autowired注解使用

*/</span>
</code></pre>
<hr/>
<h4><a id="Qualifier_251"></a>⭐@Qualifier注解演示</h4>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token comment">// @Component // 默认id为类名首字母小写: bookServiceImpl</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// 自动装配,使用暴力反射,不需要提供set方法</span>
    <span class="token comment">// 默认是按照类型装配, 如果有多个,按照名字注入,如果名字对不上,指定名称注入s</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"bookDao2"</span><span class="token punctuation">)</span> <span class="token comment">// 指定自动装配 bookDao2, 必须要配合 @Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>

<span class="token comment">//    public void setBookDao(BookDao bookDao) {<!-- --></span>
<span class="token comment">//</span>
<span class="token comment">//        this.bookDao = bookDao;</span>
<span class="token comment">//    }</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/66f83ee18c1a493094881c09195a3df1.png"/></p>
<hr/>
<h3><a id="_Value_298"></a>🍂 @Value注解</h3>
<pre><code class="prism language-java">         <span class="token operator">*</span> <span class="token string">"用法1:"</span>
             
                   使用 <span class="token string">"@Value注解"</span> 实现<span class="token string">"简单类型  (8种基本数据类型+String) 注入"</span>
                   
                   <span class="token operator">*</span> 直接在成员变量上使用即可<span class="token punctuation">(</span>记得配置对应的基包扫描<span class="token punctuation">)</span>
                       
                         <span class="token annotation punctuation">@Component</span>
                         <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookUtils</span> <span class="token punctuation">{<!-- --></span>
                             <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"100"</span><span class="token punctuation">)</span>
                             <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNum<span class="token punctuation">;</span>
                         <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

         <span class="token operator">*</span> <span class="token string">"用法2:      $:注入配置属性"</span>
                  
                    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${tag}"</span><span class="token punctuation">)</span>
                    <span class="token keyword">private</span> <span class="token class-name">String</span> tag<span class="token punctuation">;</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

         <span class="token operator">*</span> <span class="token string">"用法3:        #表达式值"</span>
             
             
                    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#{T(java.lang.Math).random()*1000.0}"</span><span class="token punctuation">)</span>
                    <span class="token keyword">private</span> <span class="token keyword">double</span> randomNumber<span class="token punctuation">;</span>              
</code></pre>
<hr/>
<h4><a id="Value_334"></a>⭐@Value注解演示</h4>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookUtils</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"mysql"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> databaseName<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"100"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNumber<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"BookUtils{"</span> <span class="token operator">+</span>
                <span class="token string">"databaseName='"</span> <span class="token operator">+</span> databaseName <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", connectionNumber="</span> <span class="token operator">+</span> connectionNumber <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/67fb59166e6144fbac6c640fdbe1a5c7.png"/></p>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/f6eef6b8be9f4d3291d929f4de1e13dc.png"/></p>
<hr/>
<h2><a id="PropertySourceproperties_386"></a>二、PropertySource注解加载properties文件</h2>
<hr/>
<pre><code class="prism language-java">                     <span class="token operator">*</span> 使用 <span class="token string">"@PropertySource注解"</span> 加载properties文件
                         
                     <span class="token operator">*</span> 使用el表达式可获取文件里面对应的值<span class="token operator">:</span> $<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
                     
                     <span class="token operator">*</span> 例子 <span class="token operator">:</span>
                             <span class="token annotation punctuation">@Configuration</span>                                                    
                             <span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.itheima"</span><span class="token punctuation">)</span>
                             <span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">)</span>
                               <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>
                              
                               <span class="token punctuation">}</span>


<span class="token comment">/*
  
注意:
  
  路径仅支持单一文件配置，多文件请使用数组格式配置，不允许使用通配符*

 
*/</span>
</code></pre>
<hr/>
<h3><a id="_416"></a>⭐代码演示</h3>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookUtils</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${user.username}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> databaseName<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${user.connectionNum}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNumber<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"BookUtils{"</span> <span class="token operator">+</span>
                <span class="token string">"databaseName='"</span> <span class="token operator">+</span> databaseName <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", connectionNumber="</span> <span class="token operator">+</span> connectionNumber <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Spring的配置类, 相当于applicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 基包扫描</span>

<span class="token comment">//@PropertySource注解加载properties文件</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>


</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/86c419b590b04ab2ac45c1c393859c9a.png"/></p>
<hr/>
<h2><a id="_475"></a>三、第三方资源配置管理</h2>
<hr/>
<h3><a id="_Bean_bean_483"></a>🍁使用 @Bean注解 配置第三方资源bean</h3>
<pre><code class="prism language-java">          <span class="token operator">*</span> <span class="token string">"@Bean注解"</span>的作用<span class="token operator">:</span>
                
                         <span class="token number">1.</span><span class="token string">"放在方法上"</span>
                         
                         <span class="token number">2.</span><span class="token string">"将方法的返回值放到Spring容器中"</span>
                         
                         <span class="token number">3.</span>可以指定对象的id，如果没有指定默认是<span class="token string">"方法名字"</span>
                         
                         <span class="token number">4.</span>如果方法有参数，它会从容器中按类型匹配的方式获取，并且传入
                             
          <span class="token operator">*</span> <span class="token string">"@Bean注解的属性"</span><span class="token operator">:</span>                  
                             
               value<span class="token operator">:</span> bean别名和name是相互依赖关联的，value<span class="token punctuation">,</span>name如果都使用的话值必须要一致<span class="token punctuation">;</span>

                name<span class="token operator">:</span> bean名称，<span class="token string">"如果不写会默认为注解的方法名称"</span><span class="token punctuation">;</span>

            autowire<span class="token operator">:</span>自定装配默认是不开启的，建议尽量不要开启，因为自动装配不能装配基本数据类型、字符串、数组等，
                          这是自动装配设计的局限性，并且自动装配不如依赖注入精确；
                     
           initMethod<span class="token operator">:</span> bean的初始化之前的执行方法，该参数一般不怎么用，因为完全可以在代码中实现<span class="token punctuation">;</span>

          destroyMethod<span class="token operator">:</span>默认使用javaConfig配置的bean，如果存在close或者shutdown方法，
                        则在bean销毁时会自动执行该方法，如果你不想执行该方法，则添加<span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>destroyMethod<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
                        来防止出发销毁方法

                             
                             
                             
                             
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>                             
                         
          <span class="token operator">*</span> 例子<span class="token operator">:</span>

             <span class="token annotation punctuation">@Configuration</span>

             <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token annotation punctuation">@Bean</span>           <span class="token comment">// 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
                                 <span class="token comment">//直接拿方法名,不用变化</span>
                 <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                     <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
                     ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
             <span class="token punctuation">}</span>

</code></pre>
<hr/>
<h4><a id="_544"></a>⭐代码演示</h4>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Spring的配置类, 相当于applicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 基包扫描</span>

<span class="token comment">//@PropertySource注解加载properties文件</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>




<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span> <span class="token comment">// 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
                <span class="token comment">//直接拿方法名,不用变化</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db?userSSL=false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    
<span class="token comment">//测试类</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{<!-- --></span>


        <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span>
                <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"conn = "</span> <span class="token operator">+</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>    

</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/dd222d612cb940f6b0b678c59754a444.png"/></p>
<hr/>
<h3><a id="__610"></a>🍁 将独立的配置类加入核心配置</h3>
<pre><code class="prism language-java">                <span class="token operator">*</span> 方式一<span class="token operator">:</span> 导入式 <span class="token punctuation">(</span>使用<span class="token string">"@Import注解手动加入配置类到核心配置"</span>，此注解只能添加一次，<span class="token string">"多个数据请用数组格式"</span><span class="token punctuation">)</span>
                
                     步骤<span class="token operator">:</span> 配置类什么都不用做<span class="token punctuation">,</span>核心配置类直接使用<span class="token annotation punctuation">@Import</span>注解导入该配置类即可
                         
                            如<span class="token operator">:</span> <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyBatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                
                <span class="token operator">*</span> 方式二<span class="token operator">:</span> 扫描式 <span class="token punctuation">(</span>使用<span class="token annotation punctuation">@ComponentScan</span>注解扫描配置类所在的包，加载对应的配置类信息<span class="token punctuation">)</span>
                         
                     步骤<span class="token operator">:</span> 
                           <span class="token number">1.</span>配置类需要配置<span class="token string">"@Configuration注解"</span>
                               
                           <span class="token number">2.</span>核心配置类使用<span class="token string">"@ComponentScan注解扫描配置类所在的包,带它上车"</span>

</code></pre>
<hr/>
<h4><a id="_634"></a>⭐导入式代码演示</h4>
<pre><code class="prism language-java"><span class="token comment">// Jdbc相关的配置类</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BookService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{<!-- --></span>


    <span class="token comment">// @Bean: 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span> <span class="token comment">// 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
               <span class="token comment">// 直接拿方法名,不用变化</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db?userSSL=false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token comment">//核心配置类</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Spring的配置类, 相当于applicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 基包扫描</span>


<span class="token comment">//@PropertySource注解加载properties文件</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>



<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// 方式一(推荐): @Import: 导入其他类,成为配置类</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>


<span class="token punctuation">}</span>



</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/1718572fdbd64429ae0021d00a0ce45d.png"/></p>
<hr/>
<h4><a id="_707"></a>⭐扫描式代码演示</h4>
<pre><code class="prism language-java"><span class="token comment">// Jdbc相关的配置类</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BookService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// 方式二: 扫描式, 1.让这个类成为配置类 2.扫描这个包</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{<!-- --></span>



    <span class="token comment">// @Bean: 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span> <span class="token comment">// 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
               <span class="token comment">// 直接拿方法名,不用变化</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db?userSSL=false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token comment">//核心配置类</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Spring的配置类, 相当于applicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span>  <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.config"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 基包扫描</span>


<span class="token comment">//@PropertySource注解加载properties文件</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>


<span class="token punctuation">}</span>



</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/ffff7b69df98444f8a6b5f3d2d00c4aa.png"/></p>
<hr/>
<h3><a id="__778"></a>🍁 简单类型与引用类型依赖注入</h3>
<pre><code class="prism language-java">           <span class="token operator">*</span> 使用<span class="token string">"@Value注解"</span> 进行简单类型注入
           
           <span class="token operator">*</span> 引用类型注入只需要为bean定义方法设置形参即可，容器会根据类型自动装配对象
</code></pre>
<hr/>
<h4><a id="_792"></a>⭐代码演示</h4>
<pre><code class="prism language-java"><span class="token comment">// Jdbc相关的配置类</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BookService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.driver}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.url}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.username}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.password}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token comment">// @Bean: 创建第三方Bean,并且放到IoC容器中, 没有取id,使用方法名作为id</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span>      <span class="token comment">// id叫ds</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token class-name">BookService</span> service<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 假设方法需要参数, IoC容器会自动帮我们注入这个参数</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/1fcd38500474462d8d52d1c484e3ec9f.png"/></p>
<hr/>
<h2><a id="XML____849"></a>四、XML配置 和 注解配置的 区别</h2>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/97ada59acee04b51981281804011905b.png"/></p>
<hr/>
<h1><a id="KJJK_855"></a>作者：KJ.JK</h1>
<p>文章对你有所帮助的话，欢迎给个赞或者 star，你的支持是对作者最大的鼓励，不足之处可以在评论区多多指正，交流学习</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>