<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>æ–‡ç« ç›®å½•</h3>
<ul><li><a href="#_8">ğŸ’¨æ›´å¤šç›¸å…³çŸ¥è¯†ğŸ‘‡</a></li><li><ul><li><a href="#_46">ä¸€ã€ä¾èµ–æ³¨å…¥</a></li><li><ul><li><a href="#Autowired_53">ğŸ‚@Autowiredæ³¨è§£</a></li><li><a href="#PostConstructAutowiredPostConstruct_104">âš¡æ‰©å±•@PostConstructçš„ä½¿ç”¨ï¼ˆ@Autowiredï¼Œæ„é€ æ–¹æ³•ï¼Œ@PostConstructçš„æ‰§è¡Œé¡ºåºï¼‰âš¡</a></li><li><ul><li><a href="#_124">âš¡æ‰©å±•é—®é¢˜æ¼”ç¤ºä¸è§£å†³</a></li><li><a href="#Autowired_177">â­@Autowiredæ³¨è§£æ¼”ç¤º</a></li></ul>
</li><li><a href="#_Qualifier_222">ğŸ‚ @Qualifieræ³¨è§£</a></li><li><ul><li><a href="#Qualifier_251">â­@Qualifieræ³¨è§£æ¼”ç¤º</a></li></ul>
</li><li><a href="#_Value_298">ğŸ‚ @Valueæ³¨è§£</a></li><li><ul><li><a href="#Value_334">â­@Valueæ³¨è§£æ¼”ç¤º</a></li></ul>
</li></ul>
</li><li><a href="#PropertySourceproperties_386">äºŒã€PropertySourceæ³¨è§£åŠ è½½propertiesæ–‡ä»¶</a></li><li><ul><li><a href="#_416">â­ä»£ç æ¼”ç¤º</a></li></ul>
</li><li><a href="#_475">ä¸‰ã€ç¬¬ä¸‰æ–¹èµ„æºé…ç½®ç®¡ç†</a></li><li><ul><li><a href="#_Bean_bean_483">ğŸä½¿ç”¨ @Beanæ³¨è§£ é…ç½®ç¬¬ä¸‰æ–¹èµ„æºbean</a></li><li><ul><li><a href="#_544">â­ä»£ç æ¼”ç¤º</a></li></ul>
</li><li><a href="#__610">ğŸ å°†ç‹¬ç«‹çš„é…ç½®ç±»åŠ å…¥æ ¸å¿ƒé…ç½®</a></li><li><ul><li><a href="#_634">â­å¯¼å…¥å¼ä»£ç æ¼”ç¤º</a></li><li><a href="#_707">â­æ‰«æå¼ä»£ç æ¼”ç¤º</a></li></ul>
</li><li><a href="#__778">ğŸ ç®€å•ç±»å‹ä¸å¼•ç”¨ç±»å‹ä¾èµ–æ³¨å…¥</a></li><li><ul><li><a href="#_792">â­ä»£ç æ¼”ç¤º</a></li></ul>
</li></ul>
</li><li><a href="#XML____849">å››ã€XMLé…ç½® å’Œ æ³¨è§£é…ç½®çš„ åŒºåˆ«</a></li></ul>
</li><li><a href="#KJJK_855">ä½œè€…ï¼šKJ.JK</a></li></ul>
</div>
<p></p>
<h1><a id="_8"></a>ğŸ’¨æ›´å¤šç›¸å…³çŸ¥è¯†ğŸ‘‡</h1>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/126197853?spm=1001.2014.3001.5502">Springä¸­çš„åˆ›å»ºå¯¹è±¡çš„ä¸‰ç§æ–¹å¼ã€ç¬¬ä¸‰æ–¹èµ„æºé…ç½®ç®¡ç†è¯¦ç»†æè¿°åŠä½¿ç”¨ï¼ˆXMLç‰ˆå®Œç»“ç¯‡ï¼‰</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/126074954">Springä¸­çš„beançš„é…ç½®ã€ä½œç”¨èŒƒå›´ã€ç”Ÿå‘½å‘¨æœŸè¯¦ç»†æè¿°åŠä½¿ç”¨ï¼ˆXMLç‰ˆä¸Šç¯‡ï¼‰</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/126111088?spm=1001.2014.3001.5502">Springä¸­çš„ä¾èµ–æ³¨å…¥ã€setterä¸æ„é€ å™¨æ³¨å…¥ã€è‡ªåŠ¨è£…é…ä¸é›†åˆæ³¨å…¥è¯¦ç»†æè¿°åŠä½¿ç”¨ï¼ˆXMLç‰ˆä¸­ç¯‡ï¼‰</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125882818">å¼‚å¸¸å¤„ç†ä¸è§£å†³æ–¹æ¡ˆè¯¦è§£ä¸Šç¯‡</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125882855">å¼‚å¸¸å¤„ç†ä¸è§£å†³æ–¹æ¡ˆè¯¦è§£ä¸‹ç¯‡</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125919963">Mathç±»ä¸Systemç±»çš„å¸¸ç”¨æ–¹æ³•ä½¿ç”¨</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125376882">JavaEEä¸­çš„é™æ€æ–¹æ³•å®šä¹‰ã€æ–¹æ³•é‡è½½è¦æ±‚ã€returnä½œç”¨è¯¦è§£</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125833781">Listæ¥å£çš„å¸¸ç”¨æ–¹æ³•ï¼Œç²¾åæ€»ç»“</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125375899">JavaEEä¸­çš„Streamæµçš„å¸¸ç”¨æ–¹æ³•</a></strong></p>
<p><strong>ğŸ’–<a href="https://sars2025.blog.csdn.net/article/details/125374965">JavaEEä¸­çš„StreamæµçŸ¥è¯†ç‚¹ä½¿ç”¨ï¼Œç²¾åæ€»ç»“ï¼Œä¸€æ–‡ç›´æ¥ä¸Šæ‰‹</a></strong></p>
<hr/>
<blockquote>
<p>ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ<br/>  <br/> <strong>ğŸ‚ä¸ªäººåšå®¢é¦–é¡µï¼š</strong> <a href="https://blog.csdn.net/m0_47384542?type=blog">KJ.JK</a><br/>  <br/> <strong>æ¬¢è¿å¤§å®¶ç‚¹èµğŸ‘æ”¶è—ğŸ’–è¯„è®ºğŸ’¬å…³æ³¨ğŸ”’</strong><br/>  <br/> <strong>ğŸ’–æºç è·å– | ğŸ’»å­¦ä¹ äº¤æµ | ğŸ¤å•†åŠ¡åˆä½œ | ğŸ’¨ç§ä¿¡ä½œè€…</strong><br/>  <br/> <strong>ğŸ’¨æ¨èä¸€æ¬¾å®ç”¨çš„æ¨¡æ‹Ÿé¢è¯•ã€åˆ·é¢˜ç»ƒä¹ ç®—æ³•çš„ç¥å™¨ã€é€‚ç”¨äºæ‰€æœ‰çš„ç¨‹åºçŒ¿ğŸ‘‰<a href="https://www.nowcoder.com/link/pc_csdncpt_kjjk_java">ç‚¹å‡»å¼€å§‹å…è´¹åˆ·é¢˜ï¼Œè·Ÿç€åšä¸»èµ°ä¸Šå·…å³°ğŸ’ª</a></strong></p>
</blockquote>
<hr/>
<h2><a id="_46"></a>ä¸€ã€ä¾èµ–æ³¨å…¥</h2>
<hr/>
<h3><a id="Autowired_53"></a>ğŸ‚@Autowiredæ³¨è§£</h3>
<pre><code class="prism language-java">               <span class="token operator">*</span> ä½¿ç”¨ <span class="token string">"@Autowiredæ³¨è§£"</span>å¼€å¯<span class="token string">"è‡ªåŠ¨è£…é…æ¨¡å¼"</span>  <span class="token punctuation">(</span>é»˜è®¤æŒ‰ç±»å‹æ³¨å…¥<span class="token punctuation">,</span>å¦‚æœæœ‰å¤šä¸ªç±»å‹ç›¸åŒçš„æŒ‰åç§°<span class="token punctuation">)</span>
                   
               <span class="token operator">*</span> <span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token operator">:</span> æ‰¾ä¸åˆ°å°±ç®—äº†<span class="token punctuation">(</span>ä¼šæŠ¥é”™<span class="token punctuation">)</span>
                   
               <span class="token operator">*</span> ç›´æ¥åŠ åœ¨æˆå‘˜å˜é‡ä¸Šä½¿ç”¨
                   
                   <span class="token annotation punctuation">@Service</span>
                   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>
                       
                      <span class="token annotation punctuation">@Autowired</span>
                      <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>
                       
                       
                      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBookDao</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span> bookDao<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>      <span class="token comment">//setæ–¹æ³•å¯ä»¥çœç•¥</span>
                          <span class="token keyword">this</span><span class="token punctuation">.</span>bookDao <span class="token operator">=</span> bookDao<span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>
                       
                       <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                           bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                       <span class="token punctuation">}</span>
                   <span class="token punctuation">}</span>

               
               
<span class="token comment">/*

 æ³¨æ„:
 
  è‡ªåŠ¨è£…é…åŸºäºåå°„è®¾è®¡åˆ›å»ºå¯¹è±¡å¹¶"æš´åŠ›åå°„"å¯¹åº”å±æ€§ä¸ºç§æœ‰å±æ€§åˆå§‹åŒ–æ•°æ®ï¼Œå› æ­¤"æ— éœ€æä¾›setteræ–¹æ³•"
  
  è‡ªåŠ¨è£…é…å»ºè®®ä½¿ç”¨æ— å‚æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡(é»˜è®¤)

   æ‰§è¡Œé¡ºåº:
   
          æ„é€ æ–¹æ³•æ‰§è¡Œ -&gt;  @Autowiredæ³¨è§£æ‰§è¡Œæ³¨å…¥
          
            æ³¨æ„:å¦‚æœä¸€ä¸ªç±»é‡Œé¢ç”¨åˆ°äº†é™æ€ä»£ç å—å…ˆåˆå§‹åŒ–ä¸€äº›æ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®é‡Œé¢æœ‰ä¸€äº›ä»£ç åˆéœ€è¦æ³¨å…¥ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœæœ‰@Autowiredä¸ºè¿™äº›æ•°æ®è¿›è¡Œæ³¨å…¥ï¼Œä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨@PostConstructæ³¨è§£(JDK8åŠä»¥å‰æœ‰)

*/</span>
</code></pre>
<hr/>
<h3><a id="PostConstructAutowiredPostConstruct_104"></a>âš¡æ‰©å±•@PostConstructçš„ä½¿ç”¨ï¼ˆ@Autowiredï¼Œæ„é€ æ–¹æ³•ï¼Œ@PostConstructçš„æ‰§è¡Œé¡ºåºï¼‰âš¡</h3>
<pre><code class="prism language-java">        <span class="token string">"åœºæ™¯:å½“æˆ‘ä»¬ä¸€ä¸ªç±»é‡Œé¢æœ‰@Autowiredæ³¨è§£æ³¨å…¥å¯¹è±¡,æœ‰æ„é€ æ–¹æ³•,æ„é€ æ–¹æ³•é‡Œé¢å¯¹è±¡éœ€è¦ç”¨@Autowiredæ³¨è§£è¿›è¡Œæ³¨å…¥,è¿™ä¸ªæ—¶å€™ä¼šå‡ºç°è¿™ä¸ªå¯¹è±¡æ³¨å…¥ä¸æˆåŠŸä¸ºnull,å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸,è¿™ä¸ªæ—¶å€™å°±éœ€è¦@PostConstructæ³¨è§£"</span>      
            
            
            
         <span class="token string">"@PostConstructåªæœ‰JDK8åŠä»¥å‰æœ‰"</span>
            
<span class="token comment">/*
   é™æ€ä»£ç å—ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†
*/</span>
</code></pre>
<hr/>
<h4><a id="_124"></a>âš¡æ‰©å±•é—®é¢˜æ¼”ç¤ºä¸è§£å†³</h4>
<pre><code class="prism language-java"><span class="token string">"é—®é¢˜:"</span>
    
   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AbService</span> abService<span class="token punctuation">;</span>

    <span class="token keyword">public</span>  <span class="token class-name">AbController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        abService<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//è¿™é‡Œå…¶å®æ˜¯ä¸ºnull,å› ä¸ºæ„é€ æ–¹æ³•ä¼šå…ˆæ‰§è¡Œ,ç„¶åå†æ‰§è¡Œ@Autowired,å°±ä¼šå¯¼è‡´è¿™ä¸ªå¯¹è±¡æ²¡æœ‰è¢«æ³¨å…¥æŠ¥é”™</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    
<span class="token string">"è§£å†³:"</span>
    
 <span class="token comment">/*
    æŠŠä»£ç æ”¾å‡ºæ„é€ æ–¹æ³•å¤–é¢,å¹¶é‡Œé¢åœ¨@Autowiredæ³¨å…¥å¯¹è±¡åä½¿ç”¨å³å¯
 */</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AbController</span>  <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AbService</span> abService<span class="token punctuation">;</span>

    <span class="token keyword">public</span>  <span class="token class-name">AbController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@PostConstruct</span>  <span class="token comment">//@PostConstructæ³¨è§£æ¥å®Œæˆåˆå§‹åŒ–, @PostConstructæ³¨è§£çš„æ–¹æ³•å°†ä¼šåœ¨abServiceæ³¨å…¥å®Œæˆåè¢«è‡ªåŠ¨è°ƒç”¨</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        abService<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">/*

  æ‰§è¡Œé¡ºåº :
     
        æ„é€ æ–¹æ³• -&gt; @Autowired -&gt;  @PostConstruct
   
*/</span>
</code></pre>
<hr/>
<h4><a id="Autowired_177"></a>â­@Autowiredæ³¨è§£æ¼”ç¤º</h4>
<pre><code class="prism language-java">
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token comment">// @Component // é»˜è®¤idä¸ºç±»åé¦–å­—æ¯å°å†™: bookServiceImpl</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// è‡ªåŠ¨è£…é…,ä½¿ç”¨æš´åŠ›åå°„,ä¸éœ€è¦æä¾›setæ–¹æ³•</span>
    <span class="token comment">// é»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹è£…é…, å¦‚æœæœ‰å¤šä¸ª,æŒ‰ç…§åå­—æ³¨å…¥</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>

<span class="token comment">//    public void setBookDao(BookDao bookDao) {<!-- --></span>
<span class="token comment">//</span>
<span class="token comment">//        this.bookDao = bookDao;</span>
<span class="token comment">//    }</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/11efe4c2ad3247b4ac266ed28d909e39.png"/></p>
<hr/>
<h3><a id="_Qualifier_222"></a>ğŸ‚ @Qualifieræ³¨è§£</h3>
<pre><code class="prism language-java">                      <span class="token operator">*</span> ä½¿ç”¨<span class="token string">"@Qualifieræ³¨è§£"</span>å¼€å¯<span class="token string">"æŒ‡å®šåç§°"</span>è£…é…bean
                          
                      <span class="token operator">*</span> ç›´æ¥åœ¨æˆå‘˜å˜é‡ä¸Šé¢ä½¿ç”¨
                          
                          <span class="token annotation punctuation">@Service</span>
                          <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>
                              <span class="token annotation punctuation">@Autowired</span>
                              <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"bookDao"</span><span class="token punctuation">)</span>
                              <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>

                          
<span class="token comment">/*

æ³¨æ„:
    @Qualifieræ³¨è§£æ— æ³•å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»ä¾èµ–@Autowiredæ³¨è§£ä½¿ç”¨

*/</span>
</code></pre>
<hr/>
<h4><a id="Qualifier_251"></a>â­@Qualifieræ³¨è§£æ¼”ç¤º</h4>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Qualifier</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>
<span class="token comment">// @Component // é»˜è®¤idä¸ºç±»åé¦–å­—æ¯å°å†™: bookServiceImpl</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// è‡ªåŠ¨è£…é…,ä½¿ç”¨æš´åŠ›åå°„,ä¸éœ€è¦æä¾›setæ–¹æ³•</span>
    <span class="token comment">// é»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹è£…é…, å¦‚æœæœ‰å¤šä¸ª,æŒ‰ç…§åå­—æ³¨å…¥,å¦‚æœåå­—å¯¹ä¸ä¸Š,æŒ‡å®šåç§°æ³¨å…¥s</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"bookDao2"</span><span class="token punctuation">)</span> <span class="token comment">// æŒ‡å®šè‡ªåŠ¨è£…é… bookDao2, å¿…é¡»è¦é…åˆ @Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>

<span class="token comment">//    public void setBookDao(BookDao bookDao) {<!-- --></span>
<span class="token comment">//</span>
<span class="token comment">//        this.bookDao = bookDao;</span>
<span class="token comment">//    }</span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"book service save ..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/66f83ee18c1a493094881c09195a3df1.png"/></p>
<hr/>
<h3><a id="_Value_298"></a>ğŸ‚ @Valueæ³¨è§£</h3>
<pre><code class="prism language-java">         <span class="token operator">*</span> <span class="token string">"ç”¨æ³•1:"</span>
             
                   ä½¿ç”¨ <span class="token string">"@Valueæ³¨è§£"</span> å®ç°<span class="token string">"ç®€å•ç±»å‹  (8ç§åŸºæœ¬æ•°æ®ç±»å‹+String) æ³¨å…¥"</span>
                   
                   <span class="token operator">*</span> ç›´æ¥åœ¨æˆå‘˜å˜é‡ä¸Šä½¿ç”¨å³å¯<span class="token punctuation">(</span>è®°å¾—é…ç½®å¯¹åº”çš„åŸºåŒ…æ‰«æ<span class="token punctuation">)</span>
                       
                         <span class="token annotation punctuation">@Component</span>
                         <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookUtils</span> <span class="token punctuation">{<!-- --></span>
                             <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"100"</span><span class="token punctuation">)</span>
                             <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNum<span class="token punctuation">;</span>
                         <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

         <span class="token operator">*</span> <span class="token string">"ç”¨æ³•2:      $:æ³¨å…¥é…ç½®å±æ€§"</span>
                  
                    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${tag}"</span><span class="token punctuation">)</span>
                    <span class="token keyword">private</span> <span class="token class-name">String</span> tag<span class="token punctuation">;</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

         <span class="token operator">*</span> <span class="token string">"ç”¨æ³•3:        #è¡¨è¾¾å¼å€¼"</span>
             
             
                    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#{T(java.lang.Math).random()*1000.0}"</span><span class="token punctuation">)</span>
                    <span class="token keyword">private</span> <span class="token keyword">double</span> randomNumber<span class="token punctuation">;</span>              
</code></pre>
<hr/>
<h4><a id="Value_334"></a>â­@Valueæ³¨è§£æ¼”ç¤º</h4>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookUtils</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"mysql"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> databaseName<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"100"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNumber<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"BookUtils{"</span> <span class="token operator">+</span>
                <span class="token string">"databaseName='"</span> <span class="token operator">+</span> databaseName <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", connectionNumber="</span> <span class="token operator">+</span> connectionNumber <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/67fb59166e6144fbac6c640fdbe1a5c7.png"/></p>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/f6eef6b8be9f4d3291d929f4de1e13dc.png"/></p>
<hr/>
<h2><a id="PropertySourceproperties_386"></a>äºŒã€PropertySourceæ³¨è§£åŠ è½½propertiesæ–‡ä»¶</h2>
<hr/>
<pre><code class="prism language-java">                     <span class="token operator">*</span> ä½¿ç”¨ <span class="token string">"@PropertySourceæ³¨è§£"</span> åŠ è½½propertiesæ–‡ä»¶
                         
                     <span class="token operator">*</span> ä½¿ç”¨elè¡¨è¾¾å¼å¯è·å–æ–‡ä»¶é‡Œé¢å¯¹åº”çš„å€¼<span class="token operator">:</span> $<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
                     
                     <span class="token operator">*</span> ä¾‹å­ <span class="token operator">:</span>
                             <span class="token annotation punctuation">@Configuration</span>                                                    
                             <span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.itheima"</span><span class="token punctuation">)</span>
                             <span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">)</span>
                               <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>
                              
                               <span class="token punctuation">}</span>


<span class="token comment">/*
  
æ³¨æ„:
  
  è·¯å¾„ä»…æ”¯æŒå•ä¸€æ–‡ä»¶é…ç½®ï¼Œå¤šæ–‡ä»¶è¯·ä½¿ç”¨æ•°ç»„æ ¼å¼é…ç½®ï¼Œä¸å…è®¸ä½¿ç”¨é€šé…ç¬¦*

 
*/</span>
</code></pre>
<hr/>
<h3><a id="_416"></a>â­ä»£ç æ¼”ç¤º</h3>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookUtils</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${user.username}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> databaseName<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${user.connectionNum}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> connectionNumber<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"BookUtils{"</span> <span class="token operator">+</span>
                <span class="token string">"databaseName='"</span> <span class="token operator">+</span> databaseName <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", connectionNumber="</span> <span class="token operator">+</span> connectionNumber <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Springçš„é…ç½®ç±», ç›¸å½“äºapplicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// åŸºåŒ…æ‰«æ</span>

<span class="token comment">//@PropertySourceæ³¨è§£åŠ è½½propertiesæ–‡ä»¶</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>


</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/86c419b590b04ab2ac45c1c393859c9a.png"/></p>
<hr/>
<h2><a id="_475"></a>ä¸‰ã€ç¬¬ä¸‰æ–¹èµ„æºé…ç½®ç®¡ç†</h2>
<hr/>
<h3><a id="_Bean_bean_483"></a>ğŸä½¿ç”¨ @Beanæ³¨è§£ é…ç½®ç¬¬ä¸‰æ–¹èµ„æºbean</h3>
<pre><code class="prism language-java">          <span class="token operator">*</span> <span class="token string">"@Beanæ³¨è§£"</span>çš„ä½œç”¨<span class="token operator">:</span>
                
                         <span class="token number">1.</span><span class="token string">"æ”¾åœ¨æ–¹æ³•ä¸Š"</span>
                         
                         <span class="token number">2.</span><span class="token string">"å°†æ–¹æ³•çš„è¿”å›å€¼æ”¾åˆ°Springå®¹å™¨ä¸­"</span>
                         
                         <span class="token number">3.</span>å¯ä»¥æŒ‡å®šå¯¹è±¡çš„idï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤æ˜¯<span class="token string">"æ–¹æ³•åå­—"</span>
                         
                         <span class="token number">4.</span>å¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œå®ƒä¼šä»å®¹å™¨ä¸­æŒ‰ç±»å‹åŒ¹é…çš„æ–¹å¼è·å–ï¼Œå¹¶ä¸”ä¼ å…¥
                             
          <span class="token operator">*</span> <span class="token string">"@Beanæ³¨è§£çš„å±æ€§"</span><span class="token operator">:</span>                  
                             
               value<span class="token operator">:</span> beanåˆ«åå’Œnameæ˜¯ç›¸äº’ä¾èµ–å…³è”çš„ï¼Œvalue<span class="token punctuation">,</span>nameå¦‚æœéƒ½ä½¿ç”¨çš„è¯å€¼å¿…é¡»è¦ä¸€è‡´<span class="token punctuation">;</span>

                name<span class="token operator">:</span> beanåç§°ï¼Œ<span class="token string">"å¦‚æœä¸å†™ä¼šé»˜è®¤ä¸ºæ³¨è§£çš„æ–¹æ³•åç§°"</span><span class="token punctuation">;</span>

            autowire<span class="token operator">:</span>è‡ªå®šè£…é…é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œå»ºè®®å°½é‡ä¸è¦å¼€å¯ï¼Œå› ä¸ºè‡ªåŠ¨è£…é…ä¸èƒ½è£…é…åŸºæœ¬æ•°æ®ç±»å‹ã€å­—ç¬¦ä¸²ã€æ•°ç»„ç­‰ï¼Œ
                          è¿™æ˜¯è‡ªåŠ¨è£…é…è®¾è®¡çš„å±€é™æ€§ï¼Œå¹¶ä¸”è‡ªåŠ¨è£…é…ä¸å¦‚ä¾èµ–æ³¨å…¥ç²¾ç¡®ï¼›
                     
           initMethod<span class="token operator">:</span> beançš„åˆå§‹åŒ–ä¹‹å‰çš„æ‰§è¡Œæ–¹æ³•ï¼Œè¯¥å‚æ•°ä¸€èˆ¬ä¸æ€ä¹ˆç”¨ï¼Œå› ä¸ºå®Œå…¨å¯ä»¥åœ¨ä»£ç ä¸­å®ç°<span class="token punctuation">;</span>

          destroyMethod<span class="token operator">:</span>é»˜è®¤ä½¿ç”¨javaConfigé…ç½®çš„beanï¼Œå¦‚æœå­˜åœ¨closeæˆ–è€…shutdownæ–¹æ³•ï¼Œ
                        åˆ™åœ¨beané”€æ¯æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå¦‚æœä½ ä¸æƒ³æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œåˆ™æ·»åŠ <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>destroyMethod<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
                        æ¥é˜²æ­¢å‡ºå‘é”€æ¯æ–¹æ³•

                             
                             
                             
                             
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>                             
                         
          <span class="token operator">*</span> ä¾‹å­<span class="token operator">:</span>

             <span class="token annotation punctuation">@Configuration</span>

             <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token annotation punctuation">@Bean</span>           <span class="token comment">// åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
                                 <span class="token comment">//ç›´æ¥æ‹¿æ–¹æ³•å,ä¸ç”¨å˜åŒ–</span>
                 <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                     <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
                     ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                     <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
             <span class="token punctuation">}</span>

</code></pre>
<hr/>
<h4><a id="_544"></a>â­ä»£ç æ¼”ç¤º</h4>
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Springçš„é…ç½®ç±», ç›¸å½“äºapplicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// åŸºåŒ…æ‰«æ</span>

<span class="token comment">//@PropertySourceæ³¨è§£åŠ è½½propertiesæ–‡ä»¶</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>




<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
                <span class="token comment">//ç›´æ¥æ‹¿æ–¹æ³•å,ä¸ç”¨å˜åŒ–</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db?userSSL=false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
    
<span class="token comment">//æµ‹è¯•ç±»</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{<!-- --></span>


        <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span>
                <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"conn = "</span> <span class="token operator">+</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>    

</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/dd222d612cb940f6b0b678c59754a444.png"/></p>
<hr/>
<h3><a id="__610"></a>ğŸ å°†ç‹¬ç«‹çš„é…ç½®ç±»åŠ å…¥æ ¸å¿ƒé…ç½®</h3>
<pre><code class="prism language-java">                <span class="token operator">*</span> æ–¹å¼ä¸€<span class="token operator">:</span> å¯¼å…¥å¼ <span class="token punctuation">(</span>ä½¿ç”¨<span class="token string">"@Importæ³¨è§£æ‰‹åŠ¨åŠ å…¥é…ç½®ç±»åˆ°æ ¸å¿ƒé…ç½®"</span>ï¼Œæ­¤æ³¨è§£åªèƒ½æ·»åŠ ä¸€æ¬¡ï¼Œ<span class="token string">"å¤šä¸ªæ•°æ®è¯·ç”¨æ•°ç»„æ ¼å¼"</span><span class="token punctuation">)</span>
                
                     æ­¥éª¤<span class="token operator">:</span> é…ç½®ç±»ä»€ä¹ˆéƒ½ä¸ç”¨åš<span class="token punctuation">,</span>æ ¸å¿ƒé…ç½®ç±»ç›´æ¥ä½¿ç”¨<span class="token annotation punctuation">@Import</span>æ³¨è§£å¯¼å…¥è¯¥é…ç½®ç±»å³å¯
                         
                            å¦‚<span class="token operator">:</span> <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyBatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                
                <span class="token operator">*</span> æ–¹å¼äºŒ<span class="token operator">:</span> æ‰«æå¼ <span class="token punctuation">(</span>ä½¿ç”¨<span class="token annotation punctuation">@ComponentScan</span>æ³¨è§£æ‰«æé…ç½®ç±»æ‰€åœ¨çš„åŒ…ï¼ŒåŠ è½½å¯¹åº”çš„é…ç½®ç±»ä¿¡æ¯<span class="token punctuation">)</span>
                         
                     æ­¥éª¤<span class="token operator">:</span> 
                           <span class="token number">1.</span>é…ç½®ç±»éœ€è¦é…ç½®<span class="token string">"@Configurationæ³¨è§£"</span>
                               
                           <span class="token number">2.</span>æ ¸å¿ƒé…ç½®ç±»ä½¿ç”¨<span class="token string">"@ComponentScanæ³¨è§£æ‰«æé…ç½®ç±»æ‰€åœ¨çš„åŒ…,å¸¦å®ƒä¸Šè½¦"</span>

</code></pre>
<hr/>
<h4><a id="_634"></a>â­å¯¼å…¥å¼ä»£ç æ¼”ç¤º</h4>
<pre><code class="prism language-java"><span class="token comment">// Jdbcç›¸å…³çš„é…ç½®ç±»</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BookService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{<!-- --></span>


    <span class="token comment">// @Bean: åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
               <span class="token comment">// ç›´æ¥æ‹¿æ–¹æ³•å,ä¸ç”¨å˜åŒ–</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db?userSSL=false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token comment">//æ ¸å¿ƒé…ç½®ç±»</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Springçš„é…ç½®ç±», ç›¸å½“äºapplicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// åŸºåŒ…æ‰«æ</span>


<span class="token comment">//@PropertySourceæ³¨è§£åŠ è½½propertiesæ–‡ä»¶</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>



<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// æ–¹å¼ä¸€(æ¨è): @Import: å¯¼å…¥å…¶ä»–ç±»,æˆä¸ºé…ç½®ç±»</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>


<span class="token punctuation">}</span>



</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/1718572fdbd64429ae0021d00a0ce45d.png"/></p>
<hr/>
<h4><a id="_707"></a>â­æ‰«æå¼ä»£ç æ¼”ç¤º</h4>
<pre><code class="prism language-java"><span class="token comment">// Jdbcç›¸å…³çš„é…ç½®ç±»</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BookService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// æ–¹å¼äºŒ: æ‰«æå¼, 1.è®©è¿™ä¸ªç±»æˆä¸ºé…ç½®ç±» 2.æ‰«æè¿™ä¸ªåŒ…</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{<!-- --></span>



    <span class="token comment">// @Bean: åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
               <span class="token comment">// ç›´æ¥æ‹¿æ–¹æ³•å,ä¸ç”¨å˜åŒ–</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/spring_db?userSSL=false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>

<span class="token comment">//æ ¸å¿ƒé…ç½®ç±»</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// Springçš„é…ç½®ç±», ç›¸å½“äºapplicationContext.xml</span>

<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"com.itheima.dao"</span><span class="token punctuation">,</span>  <span class="token string">"com.itheima.service"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.util"</span><span class="token punctuation">,</span> <span class="token string">"com.itheima.config"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// åŸºåŒ…æ‰«æ</span>


<span class="token comment">//@PropertySourceæ³¨è§£åŠ è½½propertiesæ–‡ä»¶</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"classpath:user.properties"</span><span class="token punctuation">,</span> <span class="token string">"classpath:jdbc.properties"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{<!-- --></span>


<span class="token punctuation">}</span>



</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/ffff7b69df98444f8a6b5f3d2d00c4aa.png"/></p>
<hr/>
<h3><a id="__778"></a>ğŸ ç®€å•ç±»å‹ä¸å¼•ç”¨ç±»å‹ä¾èµ–æ³¨å…¥</h3>
<pre><code class="prism language-java">           <span class="token operator">*</span> ä½¿ç”¨<span class="token string">"@Valueæ³¨è§£"</span> è¿›è¡Œç®€å•ç±»å‹æ³¨å…¥
           
           <span class="token operator">*</span> å¼•ç”¨ç±»å‹æ³¨å…¥åªéœ€è¦ä¸ºbeanå®šä¹‰æ–¹æ³•è®¾ç½®å½¢å‚å³å¯ï¼Œå®¹å™¨ä¼šæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…å¯¹è±¡
</code></pre>
<hr/>
<h4><a id="_792"></a>â­ä»£ç æ¼”ç¤º</h4>
<pre><code class="prism language-java"><span class="token comment">// Jdbcç›¸å…³çš„é…ç½®ç±»</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">BookService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.driver}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.url}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.username}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${jdbc.password}"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token comment">// @Bean: åˆ›å»ºç¬¬ä¸‰æ–¹Bean,å¹¶ä¸”æ”¾åˆ°IoCå®¹å™¨ä¸­, æ²¡æœ‰å–id,ä½¿ç”¨æ–¹æ³•åä½œä¸ºid</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">"ds"</span><span class="token punctuation">)</span>      <span class="token comment">// idå«ds</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token class-name">BookService</span> service<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å‡è®¾æ–¹æ³•éœ€è¦å‚æ•°, IoCå®¹å™¨ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ³¨å…¥è¿™ä¸ªå‚æ•°</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/1fcd38500474462d8d52d1c484e3ec9f.png"/></p>
<hr/>
<h2><a id="XML____849"></a>å››ã€XMLé…ç½® å’Œ æ³¨è§£é…ç½®çš„ åŒºåˆ«</h2>
<p><img alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/97ada59acee04b51981281804011905b.png"/></p>
<hr/>
<h1><a id="KJJK_855"></a>ä½œè€…ï¼šKJ.JK</h1>
<p>æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ç»™ä¸ªèµæˆ–è€… starï¼Œä½ çš„æ”¯æŒæ˜¯å¯¹ä½œè€…æœ€å¤§çš„é¼“åŠ±ï¼Œä¸è¶³ä¹‹å¤„å¯ä»¥åœ¨è¯„è®ºåŒºå¤šå¤šæŒ‡æ­£ï¼Œäº¤æµå­¦ä¹ </p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>