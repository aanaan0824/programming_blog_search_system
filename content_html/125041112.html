<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/d6e44db871074f95b5d9a4fa154fa45e.gif"/></p>
<p></p>
<p>功能介绍：</p>
<p>[c#]一键设置popo猫回收站工具含源码</p>
<p>在抖音上看到挺好玩的，设置popo猫回收站图标，回收站内没有文件时嘴巴是张开的，当回收站内放置文件时嘴巴是闭合的。</p>
<p><strong>其实功能实现很简单，准备两个新的素材图标文件，通过修改注册表值将素材文件的路径写入进去即可。</strong></p>
<p><strong><strong>一键设置</strong>popo猫回收站工具含源码.主要的功能实现：</strong></p>
<p><strong>1、将素材文件复制到c盘根目录</strong></p>
<p><strong>2、修改注册表的相关键值，将素材文件的路径写入进去</strong></p>
<p><strong>3、在注册表内重新写入原先的键值，恢复回收站默认图标</strong></p>
<p>主要源码：</p>
<p>拷贝文件到另一个文件夹下功能实现代码：</p>
<pre><code class="language-cs">public void CopyToFile(string sourceName, string folderPath)
        {
            //例子：
            //源文件路径
            //string sourceName = @"D:\Source\Test.txt";
            //目标路径:项目下的NewTest文件夹,(如果没有就创建该文件夹)
            //string folderPath = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "NewTest");

            if (!Directory.Exists(folderPath))
            {
                Directory.CreateDirectory(folderPath);
            }

            //当前文件如果不用新的文件名，那么就用原文件文件名
            string fileName = Path.GetFileName(sourceName);
            //这里可以给文件换个新名字，如下：
            //string fileName = string.Format("{0}.{1}", "newFileText", "txt");

            //目标整体路径
            string targetPath = Path.Combine(folderPath, fileName);

            //Copy到新文件下
            FileInfo file = new FileInfo(sourceName);
            if (file.Exists)
            {
                //true 为覆盖已存在的同名文件，false 为不覆盖
                file.CopyTo(targetPath, true);
            }
        }</code></pre>
<p>修改注册表键值实现popo猫图标功能实现代码：</p>
<pre><code class="language-cs">
if (radioButton1.Checked == true)
            {
                //将素材文件复制到c盘根目录
                CopyToFile(strExePath + @"\popo1close.dll", @"C:\");  
                CopyToFile(strExePath + @"\popo1open.dll", @"C:\");

                //修改注册表更换回收站图标
                RegistryKey key = Registry.CurrentUser;
                RegistryKey software = key.OpenSubKey(@"Software\Microsoft\Windows\CurrentVersion\Explorer\CLSID\{645FF040-5081-101B-9F08-00AA002F954E}\DefaultIcon", true);
                software.SetValue("full", @"C:\popo1close.dll");
                software.SetValue("empty", @"C:\popo1open.dll");
                software.SetValue("(默认)", @"C:\popo1open.dll");
                key.Close();

                MessageBox.Show("popo猫回收站1设置成功!");
            }
            else if (radioButton2.Checked == true)
            {
                //将素材文件复制到c盘根目录
                CopyToFile(strExePath + @"\popo2close.dll", @"C:\");
                CopyToFile(strExePath + @"\popo2open.dll", @"C:\");              
                
                //修改注册表更换回收站图标
                RegistryKey key = Registry.CurrentUser;
                RegistryKey software = key.OpenSubKey(@"Software\Microsoft\Windows\CurrentVersion\Explorer\CLSID\{645FF040-5081-101B-9F08-00AA002F954E}\DefaultIcon", true);
                software.SetValue("full", @"C:\popo2close.dll");
                software.SetValue("empty", @"C:\popo2open.dll");
                software.SetValue("(默认)", @"C:\popo2open.dll");
                key.Close();

                MessageBox.Show("popo猫回收站2设置成功!");
            }</code></pre>
<p>有分的来这下：<a href="https://download.csdn.net/download/huamuxiansen/85497825" title="[c#]一键设置popo猫回收站工具含源码-C#文档类资源-CSDN下载">[c#]一键设置popo猫回收站工具含源码-C#文档类资源-CSDN下载</a></p>
<p>没分的来这下：</p>
<p>https://pan.baidu.com/s/1IU1Iz5hHqeGwZG9RQZqUFg</p>
<p>提取码：i5za</p>
</div>
</div>