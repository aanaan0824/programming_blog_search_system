<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<p id="main-toc"><strong>ğŸ¤ç›®å½•ğŸ¤</strong></p>
<p id="%E4%B8%80.%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-toc" style="margin-left:0px;"><a href="https://blog.csdn.net/m0_62218217/article/details/125149381?spm=1001.2014.3001.5501#t0" title="ğŸ’–">ğŸ’–</a><a href="#%E4%B8%80.%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">ä¸€. å‡†å¤‡å·¥ä½œ</a></p>
<p id="1)%20%E5%88%9B%E5%BB%BA%20web%20%E9%A1%B9%E7%9B%AE-toc" style="margin-left:40px;">ğŸ’<a href="#1%29%20%E5%88%9B%E5%BB%BA%20web%20%E9%A1%B9%E7%9B%AE">1) åˆ›å»º web é¡¹ç›®</a></p>
<p id="2)%20%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;">ğŸ’<a href="#2%29%20%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">2) åˆ›å»ºç›®å½•ç»“æ„</a></p>
<p id="3)%20%E9%85%8D%E7%BD%AE%20pom.xml-toc" style="margin-left:40px;">ğŸ’<a href="#3%29%20%E9%85%8D%E7%BD%AE%20pom.xml">3) é…ç½® pom.xml</a></p>
<p id="%E4%BA%8C.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="https://blog.csdn.net/m0_62218217/article/details/125149381?spm=1001.2014.3001.5501#t0" title="ğŸ’–">ğŸ’–</a><a href="#%E4%BA%8C.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81">äºŒ. æ•°æ®åº“æ“ä½œä»£ç </a></p>
<p id="1.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;">ğŸ’<a href="#1.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1">1. æ•°æ®åº“è®¾è®¡</a></p>
<p id="1.1%20ER%E5%9B%BE-toc" style="margin-left:80px;"><a href="#1.1%20ER%E5%9B%BE">1.1 ERå›¾</a></p>
<p id="1.2%C2%A0ER%E5%9B%BE%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E5%B9%B6%E4%BC%98%E5%8C%96-toc" style="margin-left:80px;"><a href="#1.2%C2%A0ER%E5%9B%BE%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E5%B9%B6%E4%BC%98%E5%8C%96">1.2 ERå›¾è½¬åŒ–ä¸ºå…³ç³»æ¨¡å‹å¹¶ä¼˜åŒ–</a></p>
<p id="1.3%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%2F%E8%A1%A8%E7%BB%93%E6%9E%84-toc" style="margin-left:80px;"><a href="#1.3%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%2F%E8%A1%A8%E7%BB%93%E6%9E%84">1.3 åˆ›å»ºæ•°æ®åº“/è¡¨ç»“æ„</a></p>
<p id="2.%20%E5%B0%81%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:40px;">ğŸ’<a href="#2.%20%E5%B0%81%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93">2. å°è£…æ•°æ®åº“</a></p>
<p id="%C2%A01.%C2%A0%20DBUtil%20%E7%B1%BB%EF%BC%88JDBC%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89-toc" style="margin-left:80px;"><a href="#%C2%A01.%C2%A0%20DBUtil%20%E7%B1%BB%EF%BC%88JDBC%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89">1.  DBUtil ç±»ï¼ˆJDBCè¿æ¥æ•°æ®åº“ï¼‰</a></p>
<p id="2.%20%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB-toc" style="margin-left:80px;"><a href="#2.%20%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB">2. åˆ›å»ºå®ä½“ç±»</a></p>
<p id="2.1%20User-toc" style="margin-left:80px;"><a href="#2.1%20User">        </a><a href="#2.1%20User">2.1 User</a></p>
<p id="2.2%20Section-toc" style="margin-left:80px;"><a href="#2.2%20Section">        </a><a href="#2.2%20Section">2.2 Section</a></p>
<p id="2.3%20Topic-toc" style="margin-left:80px;"><a href="#2.3%20Topic">        </a><a href="#2.3%20Topic">2.3 Topic</a></p>
<p id="2.4%20Reply-toc" style="margin-left:80px;"><a href="#2.4%20Reply">        </a><a href="#2.4%20Reply">2.4 Reply</a></p>
<p id="2.5%20Key-toc" style="margin-left:80px;"><a href="#2.5%20Key">        </a><a href="#2.5%20Key">2.5 Key</a></p>
<p id="3.%20%E5%B0%81%E8%A3%85%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E7%B1%BB-toc" style="margin-left:80px;"><a href="#3.%20%E5%B0%81%E8%A3%85%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E7%B1%BB">3. å°è£…å¯¹æ•°æ®åº“çš„å¢åˆ æŸ¥æ”¹ç±»</a></p>
<p id="3.1%20UserDao-toc" style="margin-left:80px;"><a href="#3.1%20UserDao">        </a><a href="#3.1%20UserDao">3.1 UserDao</a></p>
<p id="3.2%20SectionDao-toc" style="margin-left:80px;"><a href="#3.2%20SectionDao">        </a><a href="#3.2%20SectionDao">3.2 SectionDao</a></p>
<p id="3.3%20TopicDao-toc" style="margin-left:80px;"><a href="#3.3%20TopicDao">        </a><a href="#3.3%20TopicDao">3.3 TopicDao</a></p>
<p id="3.4%20ReplyDao-toc" style="margin-left:80px;"><a href="#3.4%20ReplyDao">        </a><a href="#3.4%20ReplyDao">3.4 ReplyDao</a></p>
<p id="3.5%20KeyDao-toc" style="margin-left:80px;"><a href="#3.5%20KeyDao">        </a><a href="#3.5%20KeyDao">3.5 KeyDao</a></p>
<p id="%E4%B8%89.%20%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:0px;"><a href="https://blog.csdn.net/m0_62218217/article/details/125149381?spm=1001.2014.3001.5501#t0" title="ğŸ’–">ğŸ’–</a><a href="#%E4%B8%89.%20%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">ä¸‰. çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="0.%20%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2-toc" style="margin-left:40px;">ğŸ’<a href="#0.%20%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2">0. å‰ç«¯é¡µé¢</a></p>
<p id="1.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%88%97%E8%A1%A8%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#1.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%88%97%E8%A1%A8%E9%A1%B5">1. å®ç°è®ºå›åˆ—è¡¨é¡µ</a></p>
<p id="1.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#1.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">1.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="1.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#1.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">1.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="1.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#1.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">1.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="2.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E4%B8%BB%E8%B4%B4%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#2.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E4%B8%BB%E8%B4%B4%E9%A1%B5">2. å®ç°è®ºå›ä¸»è´´é¡µ</a></p>
<p id="2.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#2.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">2.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="2.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#2.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">2.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="2.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#2.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">2.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="3.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%9B%9E%E5%A4%8D%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#3.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%9B%9E%E5%A4%8D%E9%A1%B5">3. å®ç°è®ºå›å›å¤é¡µ</a></p>
<p id="3.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#3.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">3.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="3.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#3.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">3.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="3.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#3.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">3.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="4.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#4.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B5">4. å®ç°è®ºå›ä¸ªäººä¸­å¿ƒé¡µ</a></p>
<p id="4.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#4.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">4.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="4.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#4.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">4.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="4.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#4.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">4.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="5.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%8F%91%E5%B8%83%E5%B8%96%E5%AD%90%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#5.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%8F%91%E5%B8%83%E5%B8%96%E5%AD%90%E9%A1%B5">5. å®ç°è®ºå›å‘å¸ƒå¸–å­é¡µ</a></p>
<p id="5.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#5.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">5.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="5.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#5.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">5.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="%C2%A05.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#%C2%A05.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81"> 5.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="6.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E7%99%BB%E5%BD%95%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#6.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E7%99%BB%E5%BD%95%E9%A1%B5">6. å®ç°è®ºå›ç™»å½•é¡µ</a></p>
<p id="6.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#6.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">6.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="6.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#6.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">6.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="6.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#6.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">6.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="7.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E6%B3%A8%E5%86%8C%E9%A1%B5-toc" style="margin-left:40px;">ğŸ’<a href="#7.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E6%B3%A8%E5%86%8C%E9%A1%B5">7. å®ç°è®ºå›æ³¨å†Œé¡µ</a></p>
<p id="7.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#7.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">7.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</a></p>
<p id="7.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#7.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">7.2 å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<p id="7.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#7.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">7.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </a></p>
<p id="8.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E6%B3%A8%E9%94%80-toc" style="margin-left:40px;">ğŸ’<a href="#8.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E6%B3%A8%E9%94%80">8. å®ç°è®ºå›æ³¨é”€</a></p>
<p id="8.1%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#8.1%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">8.1å®ç°æœåŠ¡å™¨ä»£ç </a></p>
<hr id="hr-toc"/>
<p>ã€å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<strong>çˆ±å¹²é¥­çš„çŒ¿</strong>ï¼Œå¦‚æœå–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œ<strong>ç‚¹ä¸ªèµ</strong>ğŸ‘ï¼Œ<strong>å…³æ³¨ä¸€ä¸‹å§ï¼Œ</strong>åç»­ä¼šæŒç»­åˆ†äº«å…¶ä»–é¡¹ç›®çš„ç›¸å…³æ“ä½œå’ŒLinuxç›¸å…³çŸ¥è¯†<strong>ã€‘</strong></p>
<p>ä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a class="link-info" href="https://blog.csdn.net/m0_62218217/article/details/125149381?spm=1001.2014.3001.5501" title="ã€Šå‰ç«¯é¡¹ç›® - è®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ˆçº¯é¡µé¢ï¼‰ã€‹">ã€Šå‰ç«¯é¡¹ç›® - è®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ˆçº¯é¡µé¢ï¼‰ã€‹</a></p>
<p>æœ¬ç¯‡æ–‡ç« ä»‹ç»çš„ã€Šè®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‹æºç é“¾æ¥æ”¾åœ¨æ–‡ç« æœ«å°¾äº†ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ã€‚</p>
<hr/>
<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å®Œæˆäº†è®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿçš„å‰ç«¯é¡µé¢ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åŸºäºæ¨¡æ¿çš„æ–¹å¼ï¼Œé€šè¿‡æœåŠ¡å™¨æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œç„¶åç›´æ¥è¿”å›å®Œæ•´çš„é¡µé¢ç»™æµè§ˆå™¨ã€‚</p>
<p>ç›®å‰æ¯”è¾ƒä¸»æµçš„å¼€å‘æ–¹å¼æ˜¯â€œå‰åç«¯åˆ†ç¦»â€çš„æ–¹å¼ï¼Œåœ¨è¿™ç§æ–¹å¼ä¸‹æœåŠ¡ç«¯ä¸å…³æ³¨é¡µé¢çš„å†…å®¹ï¼Œè€Œæ˜¯ç½‘é¡µæä¾›çš„æ•°æ®ã€‚</p>
<p>ç½‘é¡µå¯ä»¥é€šè¿‡ajaxçš„æ–¹å¼å’ŒæœåŠ¡å™¨ä¹‹é—´äº¤äº’æ•°æ®ï¼Œç½‘é¡µæ‹¿åˆ°æ•°æ®ä¹‹åå†æ ¹æ®æ•°æ®çš„å†…å®¹æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚</p>
<p><img alt="" height="525" src="image\eeb774c3ba184995a5eee0fb4bdd9327.png" width="1200"/></p>
<blockquote>
<div>
  æ­¤ç¯‡æ–‡ç« ä»…å±•ç¤ºé‡è¦ä»£ç æ€è·¯è¿‡ç¨‹ï¼Œé¡¹ç›®æºç åœ¨ gitee ä¸­
 </div>
<div></div>
<div>
  é“¾æ¥ï¼š
  <a class="link-info" href="https://gitee.com/hao-min-chen/forum_management_information_system" title="ã€Šè®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‹">ã€Šè®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‹</a>
</div>
</blockquote>
<p><strong>æ•ˆæœå±•ç¤º</strong></p>
<p>è®ºå›åˆ—è¡¨é¡µï¼š</p>
<p><img alt="" height="1034" src="image\e3ce1ce3fd754666a30d5354c84905f7.png" width="1200"/></p>
<p>è®ºå›ä¸»è´´é¡µï¼š</p>
<p><img alt="" height="1034" src="image\e33722d7846648a9b4d103f6f4108655.png" width="1200"/></p>
<p>è®ºå›å›å¸–é¡µï¼š</p>
<p><img alt="" height="1034" src="image\0644dac1d2a84193a27ddfa79a5cf3aa.png" width="1200"/></p>
<p>ç”¨æˆ·å†™å¸–å­é¡µï¼š</p>
<p><img alt="" height="1034" src="image\e191811354ee4a43b9c5eb25a2013a94.png" width="1200"/></p>
<p>ç”¨æˆ·ä¸ªäººä¿¡æ¯é¡µï¼š</p>
<p><img alt="" height="1034" src="image\9ee4e6934a8a40a08b43f7405956868e.png" width="1200"/></p>
<p>è®ºå›ç™»å½•é¡µï¼š<img alt="" height="1034" src="image\a271d23ed7104f82a040122fced79d9a.png" width="1200"/></p>
<p> è®ºå›æ³¨å†Œé¡µï¼š</p>
<p><img alt="" height="1034" src="image\4d5f08305fba406fabba1e0df121fc3f.png" width="1200"/></p>
<hr/>
<p> </p>
<h1 id="%E4%B8%80.%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span style="color:#333333;"><strong>ä¸€. å‡†å¤‡å·¥ä½œ</strong></span></h1>
<div></div>
<h2 id="1)%20%E5%88%9B%E5%BB%BA%20web%20%E9%A1%B9%E7%9B%AE"><span style="color:#333333;">1) </span><span style="color:#333333;">åˆ›å»º</span><span style="color:#333333;"> web </span><span style="color:#333333;">é¡¹ç›®</span></h2>
<div></div>
<h2 id="2)%20%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span style="color:#333333;">2) </span><span style="color:#333333;">åˆ›å»ºç›®å½•ç»“æ„</span></h2>
<div></div>
<div>
<img alt="" height="1200" src="image\ce54c399cef2439e8201b2195c582bfb.png" width="330"/>
</div>
<p></p>
<h2 id="3)%20%E9%85%8D%E7%BD%AE%20pom.xml"><span style="color:#333333;">3) </span><span style="color:#333333;">é…ç½®</span><span style="color:#333333;"> pom.xml </span></h2>
<div></div>
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;org.example&lt;/groupId&gt;
    &lt;artifactId&gt;forum-inforation-management-system&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    
    &lt;!-- æŒ‡å®šæœ€ç»ˆ war åŒ…çš„åç§° --&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;!-- åŠ å…¥ servlet ä¾èµ– --&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;3.1.0&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.49&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;version&gt;2.12.4&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;version&gt;1.18.20&lt;/version&gt;
            &lt;scope&gt;compile&lt;/scope&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;


&lt;/project&gt;</code></pre>
<div></div>
<hr/>
<h1 id="%E4%BA%8C.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81">äºŒ. æ•°æ®åº“æ“ä½œä»£ç </h1>
<h2 id="1.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1">1. æ•°æ®åº“è®¾è®¡</h2>
<h3 id="1.1%20ER%E5%9B%BE">1.1 ERå›¾</h3>
<div>
<img alt="" height="1137" src="image\1a1e27dfd00b4a738ce63840af5f9216.png" width="859"/>
</div>
<p style="margin-left:.0001pt;text-align:left;"></p>
<h3 id="1.2%C2%A0ER%E5%9B%BE%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E5%B9%B6%E4%BC%98%E5%8C%96" style="margin-left:.0001pt;text-align:left;"><span style="color:#000000;"><strong><span style="color:#000000;"><strong>1.2 ERå›¾è½¬åŒ–ä¸ºå…³ç³»</strong></span></strong><strong><span style="color:#000000;"><strong>æ¨¡å‹å¹¶ä¼˜åŒ–</strong></span></strong></span></h3>
<blockquote>
<ol><li style="text-align:left;"><span style="color:#000000;"><span style="color:#000000;">ç®¡ç†å‘˜ä¿¡æ¯è¡¨</span><span style="color:#000000;">ï¼ˆ</span><u><span style="color:#000000;"><u>ç®¡ç†å‘˜ç¼–å·</u></span></u><span style="color:#000000;">ï¼Œç®¡ç†å‘˜åç§°ï¼Œç®¡ç†å‘˜å¯†ç </span><span style="color:#000000;">ï¼‰</span></span></li><li style="text-align:left;"><span style="color:#000000;"><span style="color:#000000;">ç”¨æˆ·ä¿¡æ¯è¡¨</span><span style="color:#000000;">ï¼ˆ</span><u><span style="color:#000000;"><u>ç”¨æˆ·ç¼–å·</u></span></u><span style="color:#000000;">ï¼Œç”¨æˆ·åç§°ï¼Œç”¨æˆ·å¯†ç ï¼Œç”¨æˆ·ç”Ÿæ—¥ï¼Œç”¨æˆ·æ€§åˆ«ï¼Œç”¨æˆ·æ€§åˆ«ï¼Œç”¨æˆ·ç”Ÿæ—¥ï¼Œç”¨æˆ·èŒä¸šï¼Œç”¨æˆ·çˆ±å¥½ï¼Œç”¨æˆ·å¸–å­æ•°ï¼Œç”¨æˆ·ç­‰çº§ï¼Œç”¨æˆ·æ³¨å†Œæ—¥æœŸ</span><span style="color:#000000;">ï¼‰</span></span></li><li style="text-align:left;"><span style="color:#000000;"><span style="color:#000000;">ç‰ˆ</span><span style="color:#000000;">å—ä¿¡æ¯è¡¨</span><span style="color:#000000;">ï¼ˆ</span><u><span style="color:#000000;"><u>ç‰ˆå—ç¼–å·ï¼Œç‰ˆä¸»ç¼–å·</u></span></u><span style="color:#000000;">ï¼Œç‰ˆå—åç§°ï¼Œç‰ˆå—è¯´æ˜ï¼Œç‰ˆå—ç‚¹å‡»æ¬¡æ•°ï¼Œç‰ˆå—ä¸»é¢˜æ•°</span><span style="color:#000000;">ï¼‰</span></span></li><li style="text-align:left;"><span style="color:#000000;"><span style="color:#000000;">ä¸»è´´ä¿¡æ¯è¡¨</span><span style="color:#000000;">ï¼ˆ</span><u><span style="color:#000000;"><u>ä¸»è´´ç¼–å·</u></span></u><u><span style="color:#000000;"><u>ï¼Œ</u></span></u><u><span style="color:#000000;"><u>ä¸»è´´æ¿å—ç¼–å·</u></span></u><u><span style="color:#000000;"><u>ï¼Œ</u></span></u><u><span style="color:#000000;"><u>ä¸»è´´ç”¨æˆ·ç¼–å·</u></span></u><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">ä¸»è´´å›å¤æ¬¡æ•°</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">ä¸»è´´æ ‡é¢˜</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">ä¸»è´´å†…å®¹</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">ä¸»è´´æ—¶é—´</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">ä¸»è´´å›å¤æ¬¡æ•°ï¼Œ</span><span style="color:#000000;">ä¸»è´´ç‚¹å‡»æ¬¡æ•°</span><span style="color:#000000;">ï¼‰</span></span></li><li style="text-align:left;"><span style="color:#000000;"><span style="color:#000000;">å›å¤è´´ä¿¡æ¯è¡¨</span><span style="color:#000000;">ï¼ˆ</span><u><span style="color:#000000;"><u>å›å¸–ç¼–å·</u></span></u><u><span style="color:#000000;"><u>ï¼Œ</u></span></u><u><span style="color:#000000;"><u>å›å¸–ä¸»é¢˜å¸–å­ç¼–å·</u></span></u><u><span style="color:#000000;"><u>ï¼Œ</u></span></u><u><span style="color:#000000;"><u>å›å¸–çš„ç”¨æˆ·ç¼–å·</u></span></u><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">å›å¸–æ ‡é¢˜</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">å›å¸–å†…å®¹</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">å›å¸–æ—¶é—´</span><span style="color:#000000;">ï¼Œ</span><span style="color:#000000;">å›å¸–ç‚¹å‡»æ¬¡æ•°</span><span style="color:#000000;">ï¼‰</span></span></li></ol>
</blockquote>
<div>
<h3 id="1.3%20%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%2F%E8%A1%A8%E7%BB%93%E6%9E%84"><strong>1.3 åˆ›å»ºæ•°æ®åº“/è¡¨ç»“æ„</strong></h3>
<blockquote>
<div>
   æ ¹æ®åœ¨ERå›¾ä¸­çš„å®ä½“ï¼Œåˆ›å»ºåº“è¡¨ç»“æ„
  </div>
</blockquote>
<blockquote>
<div>
   db.sql
  </div>
</blockquote>
<div>
<pre><code class="language-sql">-- åˆ›å»ºæ•°æ®åº“
if exit forum_management_information_system1 drop database `forum_management_information_system1`;
CREATE SCHEMA `forum_management_information_system1` DEFAULT CHARACTER SET utf8 ;

-- åˆ›å»ºç®¡ç†å‘˜ä¿¡æ¯è¡¨
CREATE TABLE `admin` (
  `adminID` int NOT NULL AUTO_INCREMENT COMMENT 'ç®¡ç†å‘˜ç¼–å·',
  `adminName` varchar(20) NOT NULL COMMENT 'ç®¡ç†å‘˜åç§°',
  `adminPassword` varchar(20) NOT NULL COMMENT 'ç®¡ç†å‘˜å¯†ç ',
  PRIMARY KEY (`adminID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COMMENT='ç®¡ç†å‘˜ä¿¡æ¯è¡¨';

-- åˆ›å»ºç”¨æˆ·ä¿¡æ¯è¡¨
CREATE TABLE `user` (
  `uID` int NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·ç¼–å·',
  `userName` varchar(20) NOT NULL COMMENT 'ç”¨æˆ·æ˜µç§°',
  `userPassword` varchar(20) NOT NULL COMMENT 'ç”¨æˆ·å¯†ç ',
  `userSex` varchar(20) NOT NULL COMMENT 'ç”¨æˆ·æ€§åˆ«',
  `userAge` int NOT NULL COMMENT 'ç”¨æˆ·ç”Ÿæ—¥',
  `userOccupation` varchar(20) NOT NULL COMMENT 'ç”¨æˆ·èŒä¸š',
  `userHobby` varchar(20) NOT NULL COMMENT 'ç”¨æˆ·çˆ±å¥½',
  `userPoint` int NOT NULL DEFAULT '0' COMMENT 'ç”¨æˆ·ç§¯åˆ†',
  `userClass` int NOT NULL DEFAULT '0' COMMENT 'ç”¨æˆ·ç­‰çº§',
  `userRegister` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'ç”¨æˆ·æ³¨å†Œæ—¶é—´',
  PRIMARY KEY (`uID`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb3 COMMENT='ç”¨æˆ·ä¿¡æ¯è¡¨';

-- æ¿å—ä¿¡æ¯è¡¨
CREATE TABLE `section` (
  `sID` int NOT NULL AUTO_INCREMENT COMMENT 'æ¿å—ç¼–å·',
  `uID` int NOT NULL COMMENT 'ç‰ˆä¸»ç¼–å·ï¼ˆç”¨æˆ·ç¼–å·ï¼‰',
  `sName` varchar(50) NOT NULL COMMENT 'æ¿å—åç§°',
  `sStatement` text NOT NULL COMMENT 'æ¿å—è¯´æ˜',
  `sClickCount` int NOT NULL DEFAULT '0' COMMENT 'æ¿å—ç‚¹å‡»æ¬¡æ•°',
  `sTopicCount` int NOT NULL DEFAULT '0' COMMENT 'æ¿å—ä¸»é¢˜æ•°',
  PRIMARY KEY (`sID`),
  KEY `s_uID_idx` (`uID`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb3 COMMENT='æ¿å—ä¿¡æ¯è¡¨';

-- ä¸»è´´ä¿¡æ¯è¡¨
CREATE TABLE `topic` (
  `tID` int NOT NULL AUTO_INCREMENT COMMENT 'ä¸»è´´ç¼–å·',
  `sID` int NOT NULL COMMENT 'ä¸»è´´æ¿å—ç¼–å·',
  `uID` int NOT NULL COMMENT 'ä¸»è´´ç”¨æˆ·ç¼–å·',
  `tTopic` varchar(20) NOT NULL COMMENT 'ä¸»è´´æ ‡é¢˜',
  `tContent` text NOT NULL COMMENT 'ä¸»è´´å†…å®¹',
  `tTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'ä¸»è´´æ—¶é—´',
  `tReplyCount` int NOT NULL DEFAULT '0' COMMENT 'ä¸»è´´å›å¤æ¬¡æ•°',
  `tClickCount` int NOT NULL DEFAULT '0' COMMENT 'ä¸»è´´ç‚¹å‡»æ¬¡æ•°',
  PRIMARY KEY (`tID`),
  KEY `t_uID_idx` (`uID`),
  KEY `t_sID_idx` (`sID`),
  CONSTRAINT `t_sID` FOREIGN KEY (`sID`) REFERENCES `section` (`sID`),
  CONSTRAINT `t_uID` FOREIGN KEY (`uID`) REFERENCES `user` (`uID`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb3 COMMENT='ä¸»è´´ä¿¡æ¯è¡¨';

-- å›å¤è´´ä¿¡æ¯è¡¨
CREATE TABLE `reply` (
  `rID` int NOT NULL AUTO_INCREMENT COMMENT 'å›å¸–ç¼–å·',
  `tID` int NOT NULL COMMENT 'å›å¸–ä¸»é¢˜å¸–å­ç¼–å·ï¼ˆä¸»è´´ä¿¡æ¯è¡¨ï¼‰',
  `uID` int NOT NULL COMMENT 'å›å¸–çš„ç”¨æˆ·ç¼–å·',
  `rTopic` varchar(20) NOT NULL DEFAULT 'å›å¸–' COMMENT 'å›å¸–æ ‡é¢˜',
  `rContent` text NOT NULL COMMENT 'å›å¸–å†…å®¹',
  `rTime` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'å›å¸–æ—¶é—´',
  `rClickCount` int NOT NULL DEFAULT '0' COMMENT 'å›å¸–ç‚¹å‡»æ¬¡æ•°',
  PRIMARY KEY (`rID`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8mb3 COMMENT='å›å¤è´´ä¿¡æ¯è¡¨';

-- åˆå§‹æ•°æ® ï¼ˆå¢åŠ ä¸€ä¸ªç”¨æˆ·ï¼‰
INSERT INTO `forum_management_information_system1`.`user` (`userName`, `userPassword`, `userSex`, `userAge`, `userOccupation`, `userHobby`) VALUES ('ç®¡ç†å‘˜', '123456', 'ç”·', '18', 'ç®¡ç†å‘˜', 'ä½ çŒœ');

-- åˆå§‹åŒ–æ¿å—æ•°æ®
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'ç½‘æ˜“äº‘', 'å°æ—¶å€™æ•å¤´ä¸Šå…¨æ˜¯å£æ°´ï¼Œé•¿å¤§åæ•å¤´ä¸Šå…¨æ˜¯æ³ªæ°´ï¼›å°æ—¶å€™å¾®ç¬‘æ˜¯ä¸€ä¸ªå¿ƒæƒ…ï¼Œé•¿å¤§åå¾®ç¬‘æ˜¯ä¸€ç§è¡¨æƒ…ï¼›å°æ—¶å€™å“­ç€å“­ç€å°±ç¬‘äº†ï¼Œé•¿å¤§åç¬‘ç€ç¬‘ç€å°±å“­äº†ã€‚æˆ‘ä»¬ç»ˆäºåˆ°äº†å°æ—¶å€™æœ€ç¾¡æ…•çš„å¹´é¾„ï¼Œä½†å´æ²¡æœ‰æˆä¸ºå°æ—¶å€™æœ€æƒ³æˆä¸ºçš„äººã€‚â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Šå½“æˆ‘å·²ä¸å†é‚£ä¹ˆå¹´è½»ã€‹');
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'ç å†œ', 'ç å†œCoding Peasant(s)ï¼šå¯ä»¥æŒ‡åœ¨ç¨‹åºè®¾è®¡æŸä¸ªä¸“ä¸šé¢†åŸŸä¸­çš„ä¸“ä¸šäººå£«ï¼Œæˆ–æ˜¯ä»äº‹è½¯ä½“æ’°å†™ï¼Œç¨‹åºå¼€å‘ã€ç»´æŠ¤çš„ä¸“ä¸šäººå‘˜ã€‚ä½†ä¸€èˆ¬Coderç‰¹æŒ‡è¿›è¡Œç¼–å†™ä»£ç çš„ç¼–ç å‘˜ã€‚');
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'ç”µå½±', 'ç”µå½±ï¼Œä¹Ÿè¢«ç§°ä¸ºè¿åŠ¨ç”»é¢æˆ–åŠ¨æ€ç”»é¢ï¼Œå³â€œæ˜ ç”»â€ï¼Œæ˜¯ä½œå“è§†è§‰è‰ºæœ¯å½¢å¼ï¼Œé€šè¿‡ä½¿ç”¨ç§»åŠ¨å›¾åƒæ¥è¡¨è¾¾æ²Ÿé€šæ€æƒ³ï¼Œæ•…äº‹ï¼Œè®¤çŸ¥ï¼Œæƒ…æ„Ÿï¼Œä»·å€¼è§‚ï¼Œæˆ–å„ç±»å¤§æ°”æ¨¡æ‹Ÿä½“éªŒã€‚è¿™äº›å›¾åƒé€šå¸¸ä¼´éšç€å£°éŸ³ï¼Œå¾ˆå°‘æœ‰å…¶ä»–æ„Ÿå®˜åˆºæ¿€ã€‚ â€œç”µå½±â€ä¸€è¯æ˜¯ç”µå½±æ‘„å½±çš„ç¼©å†™ï¼Œé€šå¸¸ç”¨äºæŒ‡ä»£ç”µå½±åˆ¶ä½œå’Œç”µå½±ä¸šï¼Œä»¥åŠç”±æ­¤äº§ç”Ÿçš„è‰ºæœ¯å½¢å¼ã€‚');
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'ä½“è‚²', 'ï¼ˆ physical education ï¼Œç¼©å†™ PE æˆ– P.E. ï¼‰ï¼Œæ˜¯ä¸€ç§å¤æ‚çš„ç¤¾ä¼šæ–‡åŒ–ç°è±¡ï¼Œå®ƒæ˜¯ä¸€ç§ä»¥èº«ä½“ä¸æ™ºåŠ›æ´»åŠ¨ä¸ºåŸºæœ¬æ‰‹æ®µï¼Œæ ¹æ®äººä½“ç”Ÿé•¿å‘è‚²ã€æŠ€èƒ½å½¢æˆå’Œæœºèƒ½æé«˜ç­‰è§„å¾‹ï¼Œè¾¾åˆ°ä¿ƒè¿›å…¨é¢å‘è‚²ã€æé«˜èº«ä½“ç´ è´¨ä¸å…¨é¢æ•™è‚²æ°´å¹³ã€å¢å¼ºä½“è´¨ä¸æé«˜è¿åŠ¨èƒ½åŠ›ã€æ”¹å–„ç”Ÿæ´»æ–¹å¼ä¸æé«˜ç”Ÿæ´»è´¨é‡çš„ä¸€ç§æœ‰æ„è¯†ã€æœ‰ç›®çš„ã€æœ‰ç»„ç»‡çš„ç¤¾ä¼šæ´»åŠ¨ã€‚');
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'æ¸¸æˆ', 'æ¸¸æˆï¼ˆè‹±æ–‡: Gameï¼‰æ˜¯æ‰€æœ‰å“ºä¹³ç±»åŠ¨ç‰©ï¼Œç‰¹åˆ«æ˜¯çµé•¿ç±»åŠ¨ç‰©å­¦ä¹ ç”Ÿå­˜çš„ç¬¬ä¸€æ­¥ã€‚å®ƒæ˜¯ä¸€ç§åŸºäºç‰©è´¨éœ€æ±‚æ»¡è¶³ä¹‹ä¸Šçš„ï¼Œåœ¨ä¸€äº›ç‰¹å®šæ—¶é—´ã€ç©ºé—´èŒƒå›´å†…éµå¾ªæŸç§ç‰¹å®šè§„åˆ™çš„ï¼Œè¿½æ±‚ç²¾ç¥ä¸–ç•Œéœ€æ±‚æ»¡è¶³çš„ç¤¾ä¼šè¡Œä¸ºæ–¹å¼ï¼Œä½†åŒæ—¶è¿™ç§è¡Œä¸ºæ–¹å¼ä¹Ÿæ˜¯å“ºä¹³ç±»åŠ¨ç‰©æˆ–è€…çµé•¿ç±»åŠ¨ç‰©æ‰€éœ€çš„ä¸€ç§é™å‹å‡æ’çš„æ–¹å¼ï¼Œä¸ç®¡æ˜¯åœ¨å‡ºç”Ÿå¹¼å¹´æœŸï¼Œæˆ–è€…å‘è‚²æœŸï¼Œæˆç†ŸæœŸéƒ½ä¼šéœ€è¦çš„ä¸€ç§è¡Œä¸ºæ–¹å¼ã€‚');
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'æ—…è¡Œ', 'â€œæ—…â€æ˜¯æ—…è¡Œï¼Œå¤–å‡ºï¼Œå³ä¸ºäº†å®ç°æŸä¸€ç›®çš„è€Œåœ¨ç©ºé—´ä¸Šä»ç”²åœ°åˆ°ä¹™åœ°çš„è¡Œè¿›è¿‡ç¨‹ï¼›â€œæ¸¸â€æ˜¯å¤–å‡ºæ¸¸è§ˆã€è§‚å…‰ã€å¨±ä¹ï¼Œå³ä¸ºè¾¾åˆ°è¿™äº›ç›®çš„æ‰€ä½œçš„æ—…è¡Œã€‚äºŒè€…åˆèµ·æ¥å³æ—…æ¸¸ã€‚æ‰€ä»¥ï¼Œæ—…è¡Œåé‡äºè¡Œï¼Œæ—…æ¸¸ä¸ä½†æœ‰â€œè¡Œâ€ï¼Œä¸”æœ‰è§‚å…‰ã€å¨±ä¹å«ä¹‰ã€‚');
INSERT INTO `forum_management_information_system1`.`section` (`uID`, `sName`, `sStatement`) VALUES ('1', 'æ˜æ˜Ÿ', ' (æ‹¼éŸ³mÃ­ng xÄ«ngï¼Œæ³¨éŸ³ã„‡ã„§ã„¥ËŠ ã„’ã„§ã„¥)æ±‰è¯­ è¯è¯­ ï¼Œå¤ä¹¦ä¸ŠæŒ‡é‡‘æ˜Ÿï¼›æ—§æ—¶æŒ‡ äº¤é™… åœºä¸­æœ‰åçš„å¥³å­ï¼›ç°æŒ‡åœ¨æŸä¸ªé¢†åŸŸå†…æœ‰ä¸€å®šå½±å“åŠ›çš„äººç‰©ã€‚ æ³›æŒ‡æœ‰åçš„ æ¼”å‘˜ ã€ æ­Œæ‰‹ ã€ è‰ºäºº ã€ è¿åŠ¨å‘˜ ç­‰ã€‚');
</code></pre>
</div>
<h2 id="2.%20%E5%B0%81%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93"><strong>2. å°è£…æ•°æ®åº“</strong></h2>
<div>
<h3 id="%C2%A01.%C2%A0%20DBUtil%20%E7%B1%BB%EF%BC%88JDBC%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89"><span style="color:#333333;"> 1.  DBUtil ç±»ï¼ˆJDBCè¿æ¥æ•°æ®åº“ï¼‰</span></h3>
<div>
<img alt="" height="43" src="image\3cbdb915a0de40b5ace204f6f917c1d8.png" width="230"/>
</div>
<div>
<pre><code class="language-java">package forum.util;

import com.mysql.jdbc.jdbc2.optional.MysqlDataSource;
import lombok.SneakyThrows;

import javax.sql.DataSource;
import java.sql.Connection;

/**
 * @author haomin
 * @date 2022/06/29 17:23
 **/
public class DBUtil {
    private static final DataSource dataSource;

    static {
        MysqlDataSource mysqlDataSource = new MysqlDataSource();
        // æ•°æ®åº“è·¯å¾„è¦æ­£ç¡®
        mysqlDataSource.setUrl("jdbc:mysql:///forum_management_information_system1?characterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=Asia/Shanghai");
        mysqlDataSource.setUser("root");
        mysqlDataSource.setPassword("123456");
        dataSource = mysqlDataSource;
    }

    @SneakyThrows
    public static Connection connection() {
        return dataSource.getConnection();
    }

}</code></pre>
</div>
<h3 id="2.%20%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB">2. åˆ›å»ºå®ä½“ç±»</h3>
</div>
<div>
<img alt="" height="180" src="image\b9434b1171f74fd88ed0a66ecd2547a0.png" width="229"/>
</div>
<blockquote>
<div>
<span style="color:#333333;">ä¸€èˆ¬æ”¾å¯¹è±¡çš„ç›®å½•å‘½åä¸ºmodelï¼Œæ ¹æ®modelç›®å½•ï¼Œå…¶ä¸­å­˜æ”¾çš„éƒ½æ˜¯å„ç§å¯¹è±¡ï¼Œä¾‹å¦‚</span>
<span style="color:#333333;"> User ç±»ã€Topic ç±»ã€Reply ç±»ã€‚</span>
</div>
</blockquote>
<blockquote>
<div>
<strong><span style="color:#333333;">ä½¿ç”¨@Dataæ³¨è§£åœ¨ç±»ä¸Šæ—¶ï¼Œä¸ç”¨å†æ‰‹åŠ¨æ·»åŠ get/setç­‰æ–¹æ³•äº†ï¼Œç®€åŒ–ä»£ç </span></strong>
</div>
</blockquote>
<h3 id="2.1%20User">2.1 User</h3>
<div>
<pre><code class="language-java">package forum.model;

import lombok.Data;

// ä½¿ç”¨@Dataæ³¨è§£åœ¨ç±»ä¸Šæ—¶ï¼Œä¸ç”¨å†æ‰‹åŠ¨æ·»åŠ get/setç­‰æ–¹æ³•äº†ï¼Œç®€åŒ–ä»£ç 
@Data
public class User {
    public Integer uID;
    public String username;
    public String password;
    public String userSex;
    public Integer userAge;
    public String userOccupation;
    public String userHobby;
    public Integer userPoint;
    public Integer userClass;
    public String userRegister;
}</code></pre>
<h3 id="2.2%20Section">2.2 Section</h3>
<pre><code class="language-java">package forum.model;

import lombok.Data;

@Data
public class Section {
    public Integer sID;
    public Integer uID;
    public String sName;
    public String sStatement;
    public Integer sClickCount;
    public Integer sTopicCount;
}</code></pre>
<h3 id="2.3%20Topic">2.3 Topic</h3>
<pre><code class="language-java">package forum.model;

import com.fasterxml.jackson.annotation.JsonFormat;
import lombok.Data;

import java.util.Date;

@Data
public class Topic {
    public Integer tID;
    public Integer sID;
    public Integer uID;
    public String username;
    public String tTopic;
    public String tContent;
    //@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    public String tTime;
    public Integer tReplyCount;
    public Integer tClickCount;
}</code></pre>
<h3 id="2.4%20Reply">2.4 Reply</h3>
<pre><code class="language-java">package forum.model;

import com.fasterxml.jackson.annotation.JsonFormat;

import java.util.Date;

public class Reply {
    public Integer rID;
    public Integer tID;
    public Integer uID;
    public String username;
    public String rTopic;
    public String rContent;
    public String rTime;
    public Integer rClickCount;
}</code></pre>
<h3 id="2.5%20Key">2.5 Key</h3>
<blockquote>
<p>ä¸ºå®ç°ä¸€ä¸ªæœç´¢åŠŸèƒ½ï¼Œæ–°å»ºäº†ä¸€ä¸ªKeywordå®ä½“</p>
</blockquote>
<pre><code class="language-java">package forum.model;

import lombok.Data;

@Data
public class Keyword {
    public String keyword;
}</code></pre>
<h3 id="3.%20%E5%B0%81%E8%A3%85%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E7%B1%BB">3. å°è£…å¯¹æ•°æ®åº“çš„å¢åˆ æŸ¥æ”¹ç±»</h3>
<p><img alt="" height="120" src="image\05ba8ec6dcd8470ab45a8f97df8903c6.png" width="230"/></p>
</div>
<blockquote>
<div>
<span style="color:#333333;">ä¸€èˆ¬æ”¾æ•°æ®åº“å¢åˆ æŸ¥æ”¹çš„ç›®å½•å‘½åä¸ºdaoï¼Œæ ¹æ®daoç›®å½•ï¼Œå…¶ä¸­å­˜æ”¾çš„éƒ½æ˜¯å„ç§æ•°æ®åº“å¢åˆ æŸ¥æ”¹æ–¹æ³•ç±»ï¼Œä¾‹å¦‚ UserDao ç±»</span>
<span style="color:#333333;">, SectionDao </span>
<span style="color:#333333;">ç±»ã€‚</span>
</div>
</blockquote>
<div></div>
<div></div>
<h3 id="3.1%20UserDao"><span style="color:#333333;">3.1 UserDao</span></h3>
<div>
<pre><code class="language-java">package forum.dao;

import forum.model.User;
import forum.util.DBUtil;
import lombok.SneakyThrows;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

/**
 * @author haomin
 * @date 2022/06/29 17:22
 **/

// ä»æ•°æ®åº“æŸ¥æ‰¾useræ•°æ®çš„æ–¹æ³•ç±»
public class UserDao {

    // ç”¨æˆ·å¸–å­æ•°
    @SneakyThrows
    public int selectPointCountByUid(int uid){
        String sql = "select count(*) from topic where uID = ?";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,uid);
                try (ResultSet rs = ps.executeQuery()){
                    rs.next();
                    int count = rs.getInt("count(*)");
                    updatePointCountByUid(uid,count);
                    return count;
                }
            }
        }
    }

    // æ›´æ–°ä¸»è´´å›å¤æ•°
    @SneakyThrows
    public void updatePointCountByUid(int uID, int count) {
        String sql = "update user set userPoint = ? where uID = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,count);
                ps.setInt(2,uID);

                ps.executeUpdate();
            }
        }
    }

    // ç”¨æˆ·ç­‰çº§
    public int selectClassCountByUid(int uid){
        int point = new UserDao().selectPointCountByUid(uid);
        int classCount = 0;
        if(point == 0){
            classCount = 0;
        }else if(point &lt; 5){
            classCount = 1;
        }else if(point &lt; 15){
            classCount = 2;
        }else if(point &lt; 30){
            classCount = 3;
        }else {
            classCount = 4;
        }
        updateClassCountByUid(uid,classCount);
        return classCount;
    }

    @SneakyThrows
    private void updateClassCountByUid(int uID, int classCount) {
        String sql = "update user set userClass = ? where uID = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,classCount);
                ps.setInt(2,uID);

                ps.executeUpdate();
            }
        }

    }

    // æŸ¥è¯¢ç”¨æˆ·ByUsernameAndPassword
    @SneakyThrows
    public User selectOneByUsernameAndPassword(String username,String password){
        String sql = "select uID, userSex, userAge,userOccupation, userHobby, userPoint, userClass, userRegister from user where userName = ? and userPassword = ?";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setString(1,username);
                ps.setString(2,password);

                System.out.println("DEBUG: " + ps);
                try (ResultSet rs = ps.executeQuery()){
                    if(!rs.next()){
                        return null;
                    }

                    User user = new User();
                    user.uID = rs.getInt("uID");
                    user.username = username;
                    user.password = password;
                    user.userSex = rs.getString("userSex");
                    user.userAge = rs.getInt("userAge");
                    user.userOccupation = rs.getString("userOccupation");
                    user.userHobby = rs.getString("userHobby");
                    user.userPoint = rs.getInt("userPoint");
                    user.userClass = rs.getInt("userClass");
                    String Time = rs.getString("userRegister");
                    user.userRegister = Time.substring(0,Time.length()-5);

                    return user;
                }
            }
        }
    }

    // æŸ¥è¯¢ç”¨æˆ·åByUid
    @SneakyThrows
    public String selectUserNameByUid(int uid){
        String sql = "select username from user where uID = ?";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,uid);
                try (ResultSet rs = ps.executeQuery()){
                    if(!rs.next()){
                        return null;
                    }
                    String username = rs.getString("username");

                    return username;
                }
            }
        }
    }

    // æ–°å»ºç”¨æˆ·
    @SneakyThrows
    public User insert(String username, String password, String sex, int age, String occupation, String hobby) {
        String sql = "insert into user (username,userPassword,userSex,userAge,userOccupation,userHobby) values (?, ?, ?, ?, ?, ?)";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setString(1,username);
                ps.setString(2,password);
                ps.setString(3,sex);
                ps.setInt(4,age);
                ps.setString(5,occupation);
                ps.setString(6,hobby);

                ps.executeUpdate();
                System.out.println("æ–°å»ºç”¨æˆ·å®Œæˆ");
                return new UserDao().selectOneByUsernameAndPassword(username,password);
            }
        }
    }
}</code></pre>
<h3 id="3.2%20SectionDao">3.2 SectionDao</h3>
<pre><code class="language-java">package forum.dao;

import forum.model.Section;
import forum.util.DBUtil;
import lombok.SneakyThrows;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;

/**
 * @author haomin
 * @date 2022/06/30 11:32
 **/
public class SectionDao {

    // å¾—åˆ°æ¿å—é›†åˆByUid
    @SneakyThrows
    public List&lt;Section&gt; selectListByUid(){
        List&lt;Section&gt; list = new ArrayList&lt;&gt;();
        String sql = "select sID, uID, sName, sStatement, sClickCount, sTopicCount from section;";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)){
                System.out.println("DEBUG: " + ps);
                try (ResultSet rs = ps.executeQuery()){
                    while (rs.next()){
                        Section section = new Section();
                        section.sID = rs.getInt("sID");
                        section.uID = rs.getInt("uID");
                        section.sName = rs.getString("sName");
                        section.sStatement = rs.getString("sStatement");
                        section.sClickCount = rs.getInt("sClickCount");
                        section.sTopicCount = new TopicDao().sTopicCount(section.sID);

                        list.add(section);
                    }
                }
            }
        }
        return list;
    }

    // å¾—åˆ°æ¿å—é›†åˆByKeyWord
    @SneakyThrows
    public List&lt;Section&gt; selectSectionListByKeyword(String keyword) {
        List&lt;Section&gt; list = new ArrayList&lt;&gt;();
        String sql = "select * from section where sName like ?;";

        System.out.println(sql);
        try (Connection c = DBUtil.connection()) {
            System.out.println(sql);

            try (PreparedStatement ps = c.prepareStatement(sql)){
                System.out.println(sql);
                String key = "%"+keyword+"%";
                ps.setString(1,key);
                System.out.println(sql);

                try (ResultSet rs = ps.executeQuery()){
                    while (rs.next()){
                        Section section = new Section();
                        section.sID = rs.getInt("sID");
                        section.uID = rs.getInt("uID");
                        section.sName = rs.getString("sName");
                        section.sStatement = rs.getString("sStatement");
                        section.sClickCount = rs.getInt("sClickCount");
                        section.sTopicCount = new TopicDao().sTopicCount(section.sID);

                        list.add(section);
                    }
                }
            }
        }
        return list;
    }

    // æ›´æ–°æµè§ˆæ¬¡æ•°
    @SneakyThrows
    public void update(int sid) {
        String sql = "update section set sClickCount = sClickCount+1 where sid = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,sid);

                ps.executeUpdate();
            }
        }
    }
}</code></pre>
<h3 id="3.3%20TopicDao">3.3 TopicDao</h3>
<pre><code class="language-java">package forum.dao;

import forum.model.Section;
import forum.model.Topic;
import forum.model.User;
import forum.util.DBUtil;
import lombok.SneakyThrows;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;

/**
 * @author haomin
 * @date 2022/06/30 16:38
 **/
public class TopicDao {

    // æŸ¥è¯¢æ¿å—å¸–å­æ•°
    @SneakyThrows
    public int sTopicCount(Integer sID) {
        String sql = "select count(*) from topic where sID = ?";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,sID);
                try (ResultSet rs = ps.executeQuery()){
                    rs.next();
                    int count = rs.getInt("count(*)");

                    updateSTopicCount(sID, count);
                    return count;
                }
            }
        }
    }

    // æ›´æ–°æ¿å—å¸–å­æ•°
    @SneakyThrows
    public void updateSTopicCount(int sID, int count) {
        String sql = "update section set sTopicCount = ? where sID = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,count);
                ps.setInt(2,sID);

                ps.executeUpdate();
            }
        }
    }

    // å¾—åˆ°ä¸»è´´é›†åˆBySid
    @SneakyThrows
    public List&lt;Topic&gt; selectListByUid(int sid){
        List&lt;Topic&gt; list = new ArrayList&lt;&gt;();
        String sql = "select tID, uID, tTopic, tContent, tTime, tReplyCount, tClickCount from topic where sID = ? order by tTime desc";
        try(Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,sid);
                System.out.println("DEBUG: " + ps);
                try (ResultSet rs = ps.executeQuery()){
                    while (rs.next()){
                        Topic topic = new Topic();
                        topic.tID = rs.getInt("tID");
                        topic.sID = sid;
                        topic.uID = rs.getInt("uID");
                        topic.username = new UserDao().selectUserNameByUid(topic.uID);
                        topic.tTopic = rs.getString("tTopic");
                        topic.tContent = rs.getString("tContent");
                        String Time = rs.getString("tTime");
                        topic.tTime = Time.substring(0,Time.length()-5);

                        topic.tReplyCount = new ReplyDao().tReplyCount(topic.tID);
                        topic.tClickCount = rs.getInt("tClickCount");

                        list.add(topic);
                    }
                }
            }
        }
        return list;
    }

    // å¾—åˆ°ä¸»è´´é›†åˆByKeyword
    @SneakyThrows
    public List&lt;Topic&gt; selectTopicListByKeyword(String keyword) {
        List&lt;Topic&gt; list = new ArrayList&lt;&gt;();
        String sql = "select * from topic where tTopic like ?;";

        System.out.println(sql);
        try (Connection c = DBUtil.connection()) {
            System.out.println(sql);

            try (PreparedStatement ps = c.prepareStatement(sql)){
                System.out.println(sql);
                String key = "%"+keyword+"%";
                ps.setString(1,key);
                System.out.println(sql);

                try (ResultSet rs = ps.executeQuery()){
                    while (rs.next()){
                        Topic topic = new Topic();
                        topic.tID = rs.getInt("tID");
                        topic.sID = rs.getInt("sId");
                        topic.uID = rs.getInt("uID");
                        topic.username = new UserDao().selectUserNameByUid(topic.uID);
                        topic.tTopic = rs.getString("tTopic");
                        topic.tContent = rs.getString("tContent");
                        String Time = rs.getString("tTime");
                        topic.tTime = Time.substring(0,Time.length()-5);

                        topic.tReplyCount = new ReplyDao().tReplyCount(topic.tID);
                        topic.tClickCount = rs.getInt("tClickCount");

                        list.add(topic);
                    }
                }
            }
        }

        return list;
    }

    // æŸ¥è¯¢ä¸€ä¸ªä¸»è´´ByTid
    @SneakyThrows
    public Topic selectTopicByTid(int tid) {
        String sql = "select sID, uID, tTopic, tContent, tTime, tReplyCount, tClickCount from topic where tID = ?";
        try(Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,tid);

                System.out.println("DEBUG: " + ps);
                try (ResultSet rs = ps.executeQuery()){
                    rs.next();

                    Topic topic = new Topic();
                    topic.tID = tid;
                    topic.sID = rs.getInt("sID");
                    topic.uID = rs.getInt("uID");
                    topic.username = new UserDao().selectUserNameByUid(topic.uID);
                    topic.tTopic = rs.getString("tTopic");
                    topic.tContent = rs.getString("tContent");
                    String Time = rs.getString("tTime");
                    topic.tTime = Time.substring(0,Time.length()-5);

                    topic.tReplyCount = new ReplyDao().tReplyCount(topic.tID);
                    topic.tClickCount = rs.getInt("tClickCount");

                    return topic;
                }
            }
        }
    }

    // æ’å…¥ä¸»è´´
    @SneakyThrows
    public void insert(int sid, Integer uID, String title, String content) {
        String sql = "insert into topic (sID, uID, tTopic, tContent) values (?, ?, ?, ?)";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,sid);
                ps.setInt(2,uID);
                ps.setString(3,title);
                ps.setString(4,content);

                ps.executeUpdate();
                System.out.println("æ’å…¥å®Œæˆ");
            }
        }
    }

    // æ›´æ–°ä¸»è´´æµè§ˆæ¬¡æ•°
    @SneakyThrows
    public void update(int tid) {
        String sql = "update topic set tClickCount = tClickCount+1 where tid = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,tid);

                ps.executeUpdate();
            }
        }
    }


}</code></pre>
<h3 id="3.4%20ReplyDao">3.4 ReplyDao</h3>
<pre><code class="language-java">package forum.dao;

import forum.model.Reply;
import forum.util.DBUtil;
import lombok.SneakyThrows;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;

/**
 * @author haomin
 * @date 2022/06/30 16:38
 **/
public class ReplyDao {

    // æŸ¥è¯¢ä¸»è´´å›å¤æ•°
    @SneakyThrows
    public int tReplyCount(int tid){
        try (Connection c = DBUtil.connection()){
            String sql = "select count(*) from reply where tID = ?;";
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,tid);
                try (ResultSet rs = ps.executeQuery()){
                    rs.next();
                    int count = rs.getInt("count(*)");
                    updateTReplyCount(tid,count);
                    return count;
                }
            }
        }
    }

    // æ›´æ–°ä¸»è´´å›å¤æ•°
    @SneakyThrows
    public void updateTReplyCount(int tID, int count) {
        String sql = "update topic set tReplyCount = ? where tID = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,count);
                ps.setInt(2,tID);

                ps.executeUpdate();
            }
        }
    }

    // æ ¹æ®tidæŸ¥è¯¢æ‰€æœ‰å›å¤
    @SneakyThrows
    public List&lt;Reply&gt; selectListByTid(int tid){
        List&lt;Reply&gt; list = new ArrayList&lt;&gt;();
        String sql = "select rID, uID, rTopic, rContent, rTime, rClickCount from reply where tid = ? order by rTime desc";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,tid);
                System.out.println("DEBUG: " + ps);

                try (ResultSet rs = ps.executeQuery()){
                    while (rs.next()){
                        Reply reply = new Reply();
                        reply.rID = rs.getInt("rID");
                        reply.tID = tid;
                        reply.uID = rs.getInt("uID");
                        reply.username = new UserDao().selectUserNameByUid(reply.uID);
                        reply.rTopic = rs.getString("rTopic");
                        reply.rContent = rs.getString("rContent");
                        String Time = rs.getString("rTime");
                        reply.rTime = Time.substring(0,Time.length()-5);
                        reply.rClickCount = rs.getInt("rClickCount");

                        list.add(reply);
                    }
                }

            }
        }
        return list;
    }

    // æ’å…¥ä¸»è´´
    @SneakyThrows
    public void insert(int tid, Integer uID, String content) {
        try (Connection c = DBUtil.connection()){
            String sql = "insert into reply (tID,uID,rContent) values (?,?,?)";
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setInt(1,tid);
                ps.setInt(2,uID);
                ps.setString(3,content);

                ps.executeUpdate();
                System.out.println("æ’å…¥å®Œæˆ");
            }
        }
    }
}</code></pre>
<h3 id="3.5%20KeyDao">3.5 KeyDao</h3>
<pre><code class="language-java">package forum.dao;

import forum.model.Keyword;
import forum.util.DBUtil;
import lombok.SneakyThrows;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

/**
 * @author haomin
 * @date 2022/07/04 10:11
 **/

public class KeyDao {

    // æ’å…¥æŸ¥è¯¢çš„å…³é”®å­—
    @SneakyThrows
    public void insertKey (String keyword){
        String sql = "INSERT INTO `forum_management_information_system`.`key` (`keyword`) VALUES (?);";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.setString(1,keyword);

                ps.executeUpdate();
                System.out.println("æ’å…¥å®Œæˆ");
            }
        }
    }

    // æ›´æ–°ä¸»è´´å›å¤æ•°
    @SneakyThrows
    public void updateTReplyCount(int tID, int count) {
        String sql = "update topic set tReplyCount = ? where tID = ?";
        try (Connection c = DBUtil.connection()) {
            try (PreparedStatement ps = c.prepareStatement(sql)) {
                ps.setInt(1,count);
                ps.setInt(2,tID);

                ps.executeUpdate();
            }
        }
    }

    // æŸ¥è¯¢æ˜¯å¦å­˜åœ¨å…³é”®å­—
    @SneakyThrows
    public String selectKey () {
        String sql = "select keyword from forum_management_information_system.key;";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                try (ResultSet rs = ps.executeQuery()){
                    if(rs.next()){
                        String keyword = rs.getString("keyword");
                        return keyword;
                    }else {
                        return null;
                    }

                }
            }
        }
    }

    // åˆ é™¤å…³é”®å­—
    @SneakyThrows
    public void deleteKey () {
        String sql = "DELETE FROM `forum_management_information_system`.`key` WHERE (1 = 1);";
        try (Connection c = DBUtil.connection()){
            try (PreparedStatement ps = c.prepareStatement(sql)){
                ps.executeUpdate();
            }
        }
    }
}</code></pre>
</div>
</div>
<hr/>
<h1 id="%E4%B8%89.%20%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">ä¸‰. çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h1>
<h2 id="0.%20%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2">0. å‰ç«¯é¡µé¢</h2>
<blockquote>
<p>å…ˆæŠŠå‰ç«¯é¡µé¢æ‹·è´åˆ°å½“å‰é¡¹ç›®</p>
</blockquote>
<p><img alt="" height="290" src="image\aa9bd69c56e543f9a804a65ccc3fc68d.png" width="272"/></p>
<blockquote>
<p>å‰ç«¯é¡µé¢å¯è§äºä¸Šä¸€ç¯‡åšå®¢ï¼š<a class="link-info" href="https://blog.csdn.net/m0_62218217/article/details/125149381?spm=1001.2014.3001.5501" title="ã€Šå‰ç«¯é¡¹ç›® - è®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ˆçº¯é¡µé¢ï¼‰ã€‹">ã€Šå‰ç«¯é¡¹ç›® - è®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ˆçº¯é¡µé¢ï¼‰ã€‹</a></p>
</blockquote>
<h2 id="1.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%88%97%E8%A1%A8%E9%A1%B5">1. å®ç°è®ºå›åˆ—è¡¨é¡µ</h2>
<h3 id="1.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">1.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<pre><code>{
  "currentUser" : {
    "uID" : 17,
    "username" : "å¼ ä¸‰",
    "password" : "123",
    "userSex" : "ç”·",
    "userAge" : 18,
    "userOccupation" : "å¤§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ",
    "userHobby" : "æ•²ä»£ç ",
    "userPoint" : 1,
    "userClass" : 1,
    "userRegister" : "2022-07-08 15:01",
    "uid" : 17
  },
  "pointCount" : 1,
  "classCount" : 1,
  "sectionList" : [ {
    "sID" : 12,
    "uID" : 1,
    "sName" : "ç½‘æ˜“äº‘",
    "sStatement" : "å°æ—¶å€™æ•å¤´ä¸Šå…¨æ˜¯å£æ°´ï¼Œé•¿å¤§åæ•å¤´ä¸Šå…¨æ˜¯æ³ªæ°´ï¼›å°æ—¶å€™å¾®ç¬‘æ˜¯ä¸€ä¸ªå¿ƒæƒ…ï¼Œé•¿å¤§åå¾®ç¬‘æ˜¯ä¸€ç§è¡¨æƒ…ï¼›å°æ—¶å€™å“­ç€å“­ç€å°±ç¬‘äº†ï¼Œé•¿å¤§åç¬‘ç€ç¬‘ç€å°±å“­äº†ã€‚æˆ‘ä»¬ç»ˆäºåˆ°äº†å°æ—¶å€™æœ€ç¾¡æ…•çš„å¹´é¾„ï¼Œä½†å´æ²¡æœ‰æˆä¸ºå°æ—¶å€™æœ€æƒ³æˆä¸ºçš„äººã€‚â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Šå½“æˆ‘å·²ä¸å†é‚£ä¹ˆå¹´è½»ã€‹",
    "sClickCount" : 2,
    "sTopicCount" : 3,
    "uid" : 1,
    "sname" : "ç½‘æ˜“äº‘",
    "sclickCount" : 2,
    "sstatement" : "å°æ—¶å€™æ•å¤´ä¸Šå…¨æ˜¯å£æ°´ï¼Œé•¿å¤§åæ•å¤´ä¸Šå…¨æ˜¯æ³ªæ°´ï¼›å°æ—¶å€™å¾®ç¬‘æ˜¯ä¸€ä¸ªå¿ƒæƒ…ï¼Œé•¿å¤§åå¾®ç¬‘æ˜¯ä¸€ç§è¡¨æƒ…ï¼›å°æ—¶å€™å“­ç€å“­ç€å°±ç¬‘äº†ï¼Œé•¿å¤§åç¬‘ç€ç¬‘ç€å°±å“­äº†ã€‚æˆ‘ä»¬ç»ˆäºåˆ°äº†å°æ—¶å€™æœ€ç¾¡æ…•çš„å¹´é¾„ï¼Œä½†å´æ²¡æœ‰æˆä¸ºå°æ—¶å€™æœ€æƒ³æˆä¸ºçš„äººã€‚â€”â€”ç½‘æ˜“äº‘éŸ³ä¹çƒ­è¯„ã€Šå½“æˆ‘å·²ä¸å†é‚£ä¹ˆå¹´è½»ã€‹"
    "sid" : 12,
    "stopicCount" : 3
  }, ...]
  "topicList" : null
}</code></pre>
<h3 id="1.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">1.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import com.fasterxml.jackson.databind.ObjectMapper;
import forum.dao.KeyDao;
import forum.model.Keyword;
import forum.model.SectionListResult;
import forum.model.User;
import forum.service.SectionService;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/06/30 11:21
 **/

@WebServlet("/section-list.json")
public class SectionListJsonServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        User currentUser = null;
        Keyword key = null;
        System.out.println("å¼€å§‹");

        HttpSession session = req.getSession(false);
        if(session != null){
            currentUser = (User) session.getAttribute("currentUser");
        }
        String keyword = new KeyDao().selectKey();

        SectionService sectionService = new SectionService();
        SectionListResult result = null;
        if(keyword == null) {
            result = sectionService.sectionListResult(currentUser);
            System.out.println("æ‰§è¡Œç¬¬ä¸€ä¸ª");
        }else {
            System.out.println(keyword);
            result = sectionService.sectionListResult(currentUser,keyword);
            System.out.println("æ‰§è¡Œç¬¬äºŒä¸ª");

        }

        ObjectMapper objectMapper = new ObjectMapper();
        String jsonString = objectMapper.writeValueAsString(result);

        resp.setCharacterEncoding("utf-8");
        resp.setContentType("application/json");
        resp.getWriter().printf(jsonString);
    }
}</code></pre>
<h3 id="1.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">1.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-javascript">// 1. request /json/article_list.json
// 2. update dom tree
function renderAuthor(currentUser) {
    document.querySelector('.author-username').textContent = currentUser.username
    document.querySelector('.author-userSex').textContent = currentUser.userSex
    document.querySelector('.author-userAge').textContent = currentUser.userAge
    document.querySelector('.author-userOccupation').textContent = currentUser.userOccupation
    document.querySelector('.author-userHobby').textContent = "çˆ±å¥½ï¼š" + currentUser.userHobby
}

function renderCount(pointCount, classCount) {
    document.querySelector('.author-userPoint').textContent = pointCount
    document.querySelector('.author-userClass').textContent = classCount
}

function renderSectionList(sectionList, topicList) {
    console.log(sectionList)
    var container = document.querySelector('.section')
    console.log(container)

    for (var i in sectionList) {
        var section = sectionList[i]
        console.log(section)

        var html = `&lt;li&gt;` +
             `&lt;div class="æ¿å—ä¿¡æ¯"&gt;` +
                ` &lt;h3 class="æ¿å—åç§°"&gt;${section.sName}&lt;/h3&gt;` +
                 `&lt;div class="ç‰ˆä¸»"&gt;ç‰ˆå—ID: &lt;span class="ç‰ˆä¸»åç§°"&gt;${section.sID}&lt;/span&gt;&lt;/div&gt;` +
                `&lt;p class="æ¿å—è¯´æ˜"&gt;${section.sStatement}&lt;/p&gt;` +

                ` &lt;div class="ç‚¹å‡»"&gt;` +
                     `&lt;div class="æ•°é‡"&gt;` +
                        ` &lt;div&gt;æµè§ˆé‡&lt;/div&gt;` +
                        ` &lt;div&gt;${section.sClickCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                     `&lt;div&gt;` +
                         `&lt;div&gt;ä¸»è´´æ•°&lt;/div&gt;` +
                         `&lt;div&gt;${section.sTopicCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                 `&lt;/div&gt;` +

                 `&lt;div class="æŸ¥çœ‹è¯¦æƒ…"&gt;` +
                     `&lt;a href="detail.html?sid=${section.sID}" target="_self"&gt;æŸ¥çœ‹è¯¦æƒ…&gt;&gt;&lt;/a&gt;` +
                 `&lt;/div&gt;` +

             `&lt;/div&gt;&lt;/li&gt;`


        container.innerHTML += html
    }
}

function renderTopicList(topicList) {
    console.log(topicList)
    var container = document.querySelector('.topic')
    console.log(container)

    for (var i in topicList) {
        var topic = topicList[i]
        console.log(topic)


        var html = `&lt;li&gt;` +
             `&lt;div class="æ¿å—ä¿¡æ¯"&gt;` +
                 `&lt;h3 class="æ¿å—åç§°"&gt;${topic.tTopic}&lt;/h3&gt;` +
                ` &lt;p class="ä¸»è´´æ—¶é—´"&gt;${topic.tTime}&lt;/p&gt;` +

                ` &lt;div class="ç‰ˆä¸»"&gt;è´´ä¸»: &lt;span class="ç‰ˆä¸»åç§°"&gt;${topic.username}&lt;/span&gt;&lt;/div&gt;` +

                ` &lt;p class="æ¿å—è¯´æ˜"&gt;${topic.tContent}&lt;/p&gt;` +

                ` &lt;div class="ç‚¹å‡»"&gt;` +
                   `  &lt;div class="æ•°é‡"&gt;` +
                         `&lt;div&gt;æµè§ˆé‡&lt;/div&gt;` +
                        ` &lt;div&gt;${topic.tClickCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                     `&lt;div&gt;` +
                         `&lt;div&gt;å›å¤&lt;/div&gt;` +
                         `&lt;div&gt;${topic.tReplyCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                ` &lt;/div&gt;` +

                `&lt;div class="æŸ¥çœ‹å›å¤" style="display: block; margin: 10px auto 0 auto; align-items: center;
                text-align: center;color: black;user-select: none;cursor: pointer;"&gt;` +
                  `&lt;a href="reply.html?tid=${topic.tID}" target="_self" style="color: black;text-decoration:
                  none;font-size: 13px;"&gt;æŸ¥çœ‹å›å¤&gt;&gt;&lt;/a&gt;` +
                `&lt;/div&gt;` +
             `&lt;/div&gt;&lt;/li&gt;`


        container.innerHTML += html
    }
}

var xhr = new XMLHttpRequest()
xhr.open('get', '/section-list.json')
xhr.onload = function() {
    //alert(this.responseText);
    var data = JSON.parse(this.responseText)
    if(!data.currentUser){
        // é‡å®šå‘
        // location = '/login.html'
        location.assign('/login.html')
        return
    }

    renderAuthor(data.currentUser)
    renderCount(data.pointCount, data.classCount)
    renderSectionList(data.sectionList)
    renderTopicList(data.topicList)
}
xhr.send()</code></pre>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\ae735586d35a4fdc8fdfc5d42f39aabb.png" width="1200"/></p>
<h2 id="2.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E4%B8%BB%E8%B4%B4%E9%A1%B5">2. å®ç°è®ºå›ä¸»è´´é¡µ</h2>
<h3 id="2.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">2.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<pre><code>{
  "currentUser" : {
    "uID" : 17,
    "username" : "å¼ ä¸‰",
    "password" : "123",
    "userSex" : "ç”·",
    "userAge" : 18,
    "userOccupation" : "å¤§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ",
    "userHobby" : "æ•²ä»£ç ",
    "userPoint" : 1,
    "userClass" : 1,
    "userRegister" : "2022-07-08 15:01",
    "uid" : 17
  },
  "pointCount" : 1,
  "classCount" : 1,
  "topicList" : [ {
    "tID" : 16,
    "sID" : 12,
    "uID" : 11,
    "username" : "ç®¡ç†å‘˜",
    "tTopic" : "çªƒå–å¤©ä¸Šä¸‰åˆ†æ™¯",
    "tContent" : "å°ç‹ç‹¸æƒ³å»äººé—´å¾ˆä¹…äº†ï¼Œä¸´è¡Œä¹‹å‰ï¼Œå¥¹çš„å§¥å§¥èµ å¥¹äº†ä¸€ä»¶å®ç‰©èŠ™è“‰é¢ã€‚ å°ç‹ç‹¸å¾—äº†è¿™èŠ™è“‰é¢ï¼Œæ¬¢å–œæäº†ï¼Œå¥¹æ‘¸äº†æ‘¸èŠ™è“‰é¢é“ï¼šâ€œå§¥å§¥ï¼Œæˆ‘å¾—äº†èŠ™è“‰é¢ä¹Ÿèƒ½è¡Œèµ°äººä¸–å—ï¼Ÿâ€ â€œæ˜¯å•Šï¼Œåªè¦ä½ æˆ´ä¸ŠèŠ™è“‰é¢ï¼Œè¿™ä¸–ä¸Šä»»ä½•äººçš„è„¸ï¼Œéƒ½å¯ä»¥å¹»åŒ–ï¼Œå¯ä½ æ˜¯å¦–ï¼Œå°±ç®—æœ‰äº†èŠ™è“‰é¢ï¼Œä¹Ÿå¾—å­¦ä¸–äººçš„å§¿æ€ã€‚â€ å°ç‹ç‹¸æ‹¿ç€èŠ™è“‰é¢æ€ç´¢åŠå¤©ï¼Œ",
    "tTime" : "2022-07-08 13:50",
    "tReplyCount" : 4,
    "tClickCount" : 4,
    "uid" : 11,
    "treplyCount" : 4,
    "tclickCount" : 4,
    "ttime" : "2022-07-08 13:50",
    "tid" : 16,
    "tcontent" : "å°ç‹ç‹¸æƒ³å»äººé—´å¾ˆä¹…äº†ï¼Œä¸´è¡Œä¹‹å‰ï¼Œå¥¹çš„å§¥å§¥èµ å¥¹äº†ä¸€ä»¶å®ç‰©èŠ™è“‰é¢ã€‚ å°ç‹ç‹¸å¾—äº†è¿™èŠ™è“‰é¢ï¼Œæ¬¢å–œæäº†ï¼Œå¥¹æ‘¸äº†æ‘¸èŠ™è“‰é¢é“ï¼šâ€œå§¥å§¥ï¼Œæˆ‘å¾—äº†èŠ™è“‰é¢ä¹Ÿèƒ½è¡Œèµ°äººä¸–å—ï¼Ÿâ€ â€œæ˜¯å•Šï¼Œåªè¦ä½ æˆ´ä¸ŠèŠ™è“‰é¢ï¼Œè¿™ä¸–ä¸Šä»»ä½•äººçš„è„¸ï¼Œéƒ½å¯ä»¥å¹»åŒ–ï¼Œå¯ä½ æ˜¯å¦–ï¼Œå°±ç®—æœ‰äº†èŠ™è“‰é¢ï¼Œä¹Ÿå¾—å­¦ä¸–äººçš„å§¿æ€ã€‚â€ å°ç‹ç‹¸æ‹¿ç€èŠ™è“‰é¢æ€ç´¢åŠå¤©ï¼Œ",
    "ttopic" : "çªƒå–å¤©ä¸Šä¸‰åˆ†æ™¯",
    "sid" : 12
  },...]
}</code></pre>
<h3 id="2.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">2.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import com.fasterxml.jackson.databind.ObjectMapper;
import forum.dao.KeyDao;
import forum.model.Keyword;
import forum.model.SectionListResult;
import forum.model.User;
import forum.service.SectionService;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/06/30 11:21
 **/

@WebServlet("/section-list.json")
public class SectionListJsonServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        User currentUser = null;
        Keyword key = null;
        System.out.println("å¼€å§‹");

        HttpSession session = req.getSession(false);
        if(session != null){
            currentUser = (User) session.getAttribute("currentUser");
        }
        String keyword = new KeyDao().selectKey();

        SectionService sectionService = new SectionService();
        SectionListResult result = null;
        if(keyword == null) {
            result = sectionService.sectionListResult(currentUser);
            System.out.println("æ‰§è¡Œç¬¬ä¸€ä¸ª");
        }else {
            System.out.println(keyword);
            result = sectionService.sectionListResult(currentUser,keyword);
            System.out.println("æ‰§è¡Œç¬¬äºŒä¸ª");

        }

        ObjectMapper objectMapper = new ObjectMapper();
        String jsonString = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(result);

        resp.setCharacterEncoding("utf-8");
        resp.setContentType("application/json");
        resp.getWriter().printf(jsonString);
    }
}</code></pre>
<h3 id="2.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">2.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-javascript">// 1. request /json/article_list.json
// 2. update dom tree
function renderAuthor(currentUser) {
    document.querySelector('.author-username').textContent = currentUser.username
    document.querySelector('.author-userSex').textContent = currentUser.userSex
    document.querySelector('.author-userAge').textContent = currentUser.userAge
    document.querySelector('.author-userOccupation').textContent = currentUser.userOccupation
    document.querySelector('.author-userHobby').textContent = "çˆ±å¥½ï¼š" + currentUser.userHobby
}

function renderCount(pointCount, classCount) {
    document.querySelector('.author-userPoint').textContent = pointCount
    document.querySelector('.author-userClass').textContent = classCount
}

function renderTopicList(topicList) {
    console.log(topicList)
    var container = document.querySelector('.topic')
    console.log(container)

    for (var i in topicList) {
        var topic = topicList[i]
        console.log(topic)


        var html = `&lt;li&gt;` +
             `&lt;div class="æ¿å—ä¿¡æ¯"&gt;` +
                 `&lt;h3 class="æ¿å—åç§°"&gt;${topic.tTopic}&lt;/h3&gt;` +
                ` &lt;p class="ä¸»è´´æ—¶é—´"&gt;${topic.tTime}&lt;/p&gt;` +

                ` &lt;div class="ç‰ˆä¸»"&gt;è´´ä¸»: &lt;span class="ç‰ˆä¸»åç§°"&gt;${topic.username}&lt;/span&gt;&lt;/div&gt;` +

                ` &lt;p class="æ¿å—è¯´æ˜"&gt;${topic.tContent}&lt;/p&gt;` +

                ` &lt;div class="ç‚¹å‡»"&gt;` +
                   `  &lt;div class="æ•°é‡"&gt;` +
                         `&lt;div&gt;æµè§ˆé‡&lt;/div&gt;` +
                        ` &lt;div&gt;${topic.tClickCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                     `&lt;div&gt;` +
                         `&lt;div&gt;å›å¤&lt;/div&gt;` +
                         `&lt;div&gt;${topic.tReplyCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                ` &lt;/div&gt;` +

                `&lt;div class="æŸ¥çœ‹å›å¤" style="display: block; margin: 10px auto 0 auto; align-items: center;
                text-align: center;color: black;user-select: none;cursor: pointer;"&gt;` +
                  `&lt;a href="reply.html?tid=${topic.tID}" target="_self" style="color: black;text-decoration:
                  none;font-size: 13px;"&gt;æŸ¥çœ‹å›å¤&gt;&gt;&lt;/a&gt;` +
                `&lt;/div&gt;` +
             `&lt;/div&gt;&lt;/li&gt;`


        container.innerHTML += html
    }
}

var xhr = new XMLHttpRequest()
xhr.open('get', '/topic-list.json' + location.search)

xhr.onload = function() {
    // æ‰“å° jsonå†…å®¹
    alert(this.responseText);
    console.log(this.responseText)
    var data = JSON.parse(this.responseText)
    if(!data.currentUser){
        // é‡å®šå‘
        // location = '/login.html'
        location.assign('/login.html')
        return
    }

    renderAuthor(data.currentUser)
    renderCount(data.pointCount, data.classCount)
    renderTopicList(data.topicList)

}
xhr.send()</code></pre>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\6b3e3083675e40a080c9ce3abcf6acae.png" width="1200"/></p>
<h2 id="3.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%9B%9E%E5%A4%8D%E9%A1%B5">3. å®ç°è®ºå›å›å¤é¡µ</h2>
<h3 id="3.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">3.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<pre><code>{
  "currentUser" : {
    "uID" : 17,
    "username" : "å¼ ä¸‰",
    "password" : "123",
    "userSex" : "ç”·",
    "userAge" : 18,
    "userOccupation" : "å¤§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ",
    "userHobby" : "æ•²ä»£ç ",
    "userPoint" : 1,
    "userClass" : 1,
    "userRegister" : "2022-07-08 15:01",
    "uid" : 17
  },
  "pointCount" : 1,
  "classCount" : 1,
  "replyList" : [ {
    "rID" : 39,
    "tID" : 16,
    "uID" : 17,
    "username" : "å¼ ä¸‰",
    "rTopic" : "å›å¸–",
    "rContent" : "hello word",
    "rTime" : "2022-07-08 15:04",
    "rClickCount" : 0
  }, {
    "rID" : 32,
    "tID" : 16,
    "uID" : 11,
    "username" : "ç®¡ç†å‘˜",
    "rTopic" : "å›å¸–",
    "rContent" : "æœ‰äº›äººä¸ºäº†ä¸Šå‰æ’è¿å°Šä¸¥éƒ½ä¸è¦äº†ï¼Œæ‚¨æ€ä¹ˆçœ‹å‘¢ï¼Ÿçˆ¶äº²ï¼Ÿ",
    "rTime" : "2022-07-08 13:54",
    "rClickCount" : 0
  }],
  "tid" : 16,
  "topic" : {
    "tID" : 16,
    "sID" : 12,
    "uID" : 11,
    "username" : "ç®¡ç†å‘˜",
    "tTopic" : "çªƒå–å¤©ä¸Šä¸‰åˆ†æ™¯",
    "tContent" : "å°ç‹ç‹¸æƒ³å»äººé—´å¾ˆä¹…äº†ï¼Œä¸´è¡Œä¹‹å‰ï¼Œå¥¹çš„å§¥å§¥èµ å¥¹äº†ä¸€ä»¶å®ç‰©èŠ™è“‰é¢ã€‚ å°ç‹ç‹¸å¾—äº†è¿™èŠ™è“‰é¢ï¼Œæ¬¢å–œæäº†ï¼Œå¥¹æ‘¸äº†æ‘¸èŠ™è“‰é¢é“ï¼šâ€œå§¥å§¥ï¼Œæˆ‘å¾—äº†èŠ™è“‰é¢ä¹Ÿèƒ½è¡Œèµ°äººä¸–å—ï¼Ÿâ€ â€œæ˜¯å•Šï¼Œåªè¦ä½ æˆ´ä¸ŠèŠ™è“‰é¢ï¼Œè¿™ä¸–ä¸Šä»»ä½•äººçš„è„¸ï¼Œéƒ½å¯ä»¥å¹»åŒ–ï¼Œå¯ä½ æ˜¯å¦–ï¼Œå°±ç®—æœ‰äº†èŠ™è“‰é¢ï¼Œä¹Ÿå¾—å­¦ä¸–äººçš„å§¿æ€ã€‚â€ å°ç‹ç‹¸æ‹¿ç€èŠ™è“‰é¢æ€ç´¢åŠå¤©ï¼Œ",
    "tTime" : "2022-07-08 13:50",
    "tReplyCount" : 4,
    "tClickCount" : 6,
    "uid" : 11,
    "treplyCount" : 4,
    "tclickCount" : 6,
    "ttime" : "2022-07-08 13:50",
    "tid" : 16,
    "tcontent" : "å°ç‹ç‹¸æƒ³å»äººé—´å¾ˆä¹…äº†ï¼Œä¸´è¡Œä¹‹å‰ï¼Œå¥¹çš„å§¥å§¥èµ å¥¹äº†ä¸€ä»¶å®ç‰©èŠ™è“‰é¢ã€‚ å°ç‹ç‹¸å¾—äº†è¿™èŠ™è“‰é¢ï¼Œæ¬¢å–œæäº†ï¼Œå¥¹æ‘¸äº†æ‘¸èŠ™è“‰é¢é“ï¼šâ€œå§¥å§¥ï¼Œæˆ‘å¾—äº†èŠ™è“‰é¢ä¹Ÿèƒ½è¡Œèµ°äººä¸–å—ï¼Ÿâ€ â€œæ˜¯å•Šï¼Œåªè¦ä½ æˆ´ä¸ŠèŠ™è“‰é¢ï¼Œè¿™ä¸–ä¸Šä»»ä½•äººçš„è„¸ï¼Œéƒ½å¯ä»¥å¹»åŒ–ï¼Œå¯ä½ æ˜¯å¦–ï¼Œå°±ç®—æœ‰äº†èŠ™è“‰é¢ï¼Œä¹Ÿå¾—å­¦ä¸–äººçš„å§¿æ€ã€‚â€ å°ç‹ç‹¸æ‹¿ç€èŠ™è“‰é¢æ€ç´¢åŠå¤©ï¼Œ",
    "ttopic" : "çªƒå–å¤©ä¸Šä¸‰åˆ†æ™¯",
    "sid" : 12
  }
}</code></pre>
<h3 id="3.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">3.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import com.fasterxml.jackson.databind.ObjectMapper;
import forum.dao.TopicDao;
import forum.model.ReplyListResult;
import forum.model.User;
import forum.service.ReplyService;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/07/01 17:05
 **/

@WebServlet("/reply-list.json")
public class ReplyListServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding("utf-8");
        String tidString = req.getParameter("tid");
        int tid = Integer.parseInt(tidString);

        User currentUser = null;
        HttpSession session = req.getSession(false);
        if(session != null){
            currentUser = (User)session.getAttribute("currentUser");
        }

        // æµè§ˆä¸€æ¬¡å›å¸–é¡µé¢ï¼Œæµè§ˆæ¬¡æ•°åŠ 1
        new TopicDao().update(tid);

        ReplyService replyService = new ReplyService();
        ReplyListResult result = replyService.replyListResult(currentUser,tid);
        result.tid = tid;


        ObjectMapper objectMapper = new ObjectMapper();
        String jsonString = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(result);

        resp.setCharacterEncoding("utf-8");
        resp.setContentType("application/json");
        resp.getWriter().println(jsonString);
    }
}</code></pre>
<h3 id="3.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">3.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-javascript">function renderAuthor(currentUser) {
    document.querySelector('.author-username').textContent = currentUser.username
    document.querySelector('.author-userSex').textContent = currentUser.userSex
    document.querySelector('.author-userAge').textContent = currentUser.userAge
    document.querySelector('.author-userOccupation').textContent = currentUser.userOccupation
    document.querySelector('.author-userHobby').textContent = "çˆ±å¥½ï¼š" + currentUser.userHobby
}

function renderCount(pointCount, classCount) {
    document.querySelector('.author-userPoint').textContent = pointCount
    document.querySelector('.author-userClass').textContent = classCount
}

function renderDefineTid(tid){
    document.querySelector('.tid').value = tid;
}

function renderReplyList(topic,replyList){
    console.log(replyList)
    var container = document.querySelector('.reply')
    console.log(container)

    // ä¸»è´´
    var html = `&lt;li&gt;` +
         `&lt;div class="æ¿å—ä¿¡æ¯1"&gt;` +

             `&lt;h3 class="æ¿å—åç§°"&gt;${topic.tTopic}&lt;/h3&gt;` +
            ` &lt;p class="ä¸»è´´æ—¶é—´"&gt;${topic.tTime}&lt;/p&gt;` +

            ` &lt;div class="ç‰ˆä¸»"&gt;è´´ä¸»: &lt;span class="ç‰ˆä¸»åç§°"&gt;${topic.username}&lt;/span&gt;&lt;/div&gt;` +

            ` &lt;p class="æ¿å—è¯´æ˜"&gt;${topic.tContent}&lt;/p&gt;` +

                ` &lt;div class="ç‚¹å‡»"&gt;` +
                   `  &lt;div class="æ•°é‡"&gt;` +
                         `&lt;div&gt;æµè§ˆé‡&lt;/div&gt;` +
                        ` &lt;div&gt;${topic.tClickCount}&lt;/div&gt;` +
                     `&lt;/div&gt;` +
                ` &lt;/div&gt;` +

         `&lt;/div&gt;&lt;/li&gt;`


    container.innerHTML += html


    //å›å¸–
    for(var i in replyList){
        var reply = replyList[i]
        console.log(reply)

        var html = `&lt;li&gt;` +
                     `&lt;div class="æ¿å—ä¿¡æ¯"&gt;` +
                         `&lt;h3 class="æ¿å—åç§°"&gt;${reply.rTopic}&lt;/h3&gt;` +
                        ` &lt;p class="ä¸»è´´æ—¶é—´"&gt;${reply.rTime}&lt;/p&gt;` +

                        ` &lt;div class="ç‰ˆä¸»"&gt;&lt;span class="ç‰ˆä¸»åç§°"&gt;${reply.username}&lt;/span&gt;&lt;/div&gt;` +
                        ` &lt;p class="æ¿å—è¯´æ˜"&gt;${reply.rContent}&lt;/p&gt;` +


                        /*` &lt;div class="ç‚¹å‡»"&gt;` +
                           `  &lt;div class="æ•°é‡"&gt;` +
                                 `&lt;div&gt;ç‚¹å‡»æ¬¡æ•°&lt;/div&gt;` +
                                ` &lt;div&gt;100&lt;/div&gt;` +
                             `&lt;/div&gt;` +
                        ` &lt;/div&gt;` +*/
                     `&lt;/div&gt;&lt;/li&gt;`

                container.innerHTML += html
    }
}

var xhr = new XMLHttpRequest()
xhr.open('get','/reply-list.json' + location.search)

xhr.onload = function() {
    //alert(this.responseText);
    console.log(this.responseText)
    var data = JSON.parse(this.responseText)
    if(!data.currentUser){
        location.assign('/login.html')
        return
    }

    renderAuthor(data.currentUser)
    renderCount(data.pointCount, data.classCount)
    renderReplyList(data.topic,data.replyList)
    renderDefineTid(data.tid)
}
xhr.send()
</code></pre>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\4db69086a9d540f8bb98b933d5942e4a.png" width="1200"/></p>
<h2 id="4.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83%E9%A1%B5">4. å®ç°è®ºå›ä¸ªäººä¸­å¿ƒé¡µ</h2>
<h3 id="4.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">4.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<blockquote>
<p>ä¸ªäººä¸­å¿ƒçš„jsonæ•°æ®æ¥è‡ªäº/section-list.json</p>
</blockquote>
<pre><code>{
  "currentUser" : {
    "uID" : 17,
    "username" : "å¼ ä¸‰",
    "password" : "123",
    "userSex" : "ç”·",
    "userAge" : 18,
    "userOccupation" : "å¤§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ",
    "userHobby" : "æ•²ä»£ç ",
    "userPoint" : 1,
    "userClass" : 1,
    "userRegister" : "2022-07-08 15:01",
    "uid" : 17
  }
}</code></pre>
<h3 id="4.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">4.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<blockquote>
<p>ä¸ªäººä¸­å¿ƒçš„æœåŠ¡å™¨ä»£ç æ¥è‡ªäº/section-list.jsonï¼Œå’Œåˆ—è¡¨é¡µæœåŠ¡å™¨ä»£ç ç›¸åŒï¼Œå†æ¬¡ä¸åœ¨èµ˜è¿°ã€‚</p>
</blockquote>
<h3 id="4.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">4.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-javascript">function renderAuthor(currentUser) {
    document.querySelector('.author-username').value = currentUser.username
    document.querySelector('.author-userSex').value = currentUser.userSex
    document.querySelector('.author-userAge').value = currentUser.userAge
    document.querySelector('.author-userOccupation').value = currentUser.userOccupation
    document.querySelector('.author-userHobby').value = currentUser.userHobby
    document.querySelector('.author-userPoint').value = currentUser.userPoint
    document.querySelector('.author-userClass').value = currentUser.userClass
    document.querySelector('.author-userRegister').value = currentUser.userRegister
}

var xhr = new XMLHttpRequest()
xhr.open('get', '/section-list.json')
xhr.onload = function() {
    //alert(this.responseText);
    var data = JSON.parse(this.responseText)
    if(!data.currentUser){
        // é‡å®šå‘
        // location = '/login.html'
        location.assign('/login.html')
        return
    }

    renderAuthor(data.currentUser)
}
xhr.send()</code></pre>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\c80cc16534a9480c818716fdc71d963b.png" width="1200"/></p>
<h2 id="5.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E5%8F%91%E5%B8%83%E5%B8%96%E5%AD%90%E9%A1%B5">5. å®ç°è®ºå›å‘å¸ƒå¸–å­é¡µ</h2>
<h3 id="5.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">5.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<pre><code>[è¯·æ±‚] post /editor.do</code></pre>
<h3 id="5.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">5.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import forum.dao.TopicDao;
import forum.model.User;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/07/01 19:30
 **/

@WebServlet("/editor.do")
public class EditorDoServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding("utf-8");
        String title = req.getParameter("title");
        String sidString = req.getParameter("type");
        int sid = Integer.parseInt(sidString);
        String content = req.getParameter("editor-markdown-doc");

        User currentUser = null;
        HttpSession session = req.getSession(false);
        if (session != null) {
            currentUser = (User) session.getAttribute("currentUser");
        }

        if (currentUser == null) {
            // è¯´æ˜æ²¡æœ‰ç™»å½•
            resp.sendRedirect("/login.html");
            return;
        }

        TopicDao topicDao = new TopicDao();
        topicDao.insert(sid,currentUser.uID,title,content);

        // é‡å®šå‘åˆ°æ–‡ç« è¯¦æƒ…é¡µ
        resp.sendRedirect("/detail.html?sid=" + sid);
    }
}</code></pre>
<h3 id="%C2%A05.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81"> 5.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;å†™å¸–å­&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/navigation bar.css"&gt;
    &lt;link rel="stylesheet" href="css/editor.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="å¯¼èˆªæ "&gt;
        &lt;div class="left-logo"&gt;
            &lt;div class="logo"&gt;&lt;img src="img/ç³»ç»Ÿå›¾æ ‡.png" width="45"&gt;&lt;/div&gt;
            &lt;p&gt;è®ºå›ç®¡ç†ä¿¡æ¯ç³»ç»Ÿ&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="å ä½"&gt;&lt;/div&gt;

        &lt;div class="right-function"&gt;
            &lt;a href="center.html"&gt;ä¸ªäººä¸­å¿ƒ&lt;/a&gt;
            &lt;a href="list.html"&gt;ä¸»é¡µ&lt;/a&gt;
            &lt;a href="editor.html"&gt;å†™å¸–å­&lt;/a&gt;
            &lt;a href="logout" target="_self"&gt;æ³¨é”€&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="blog-edit-container"&gt;
        &lt;form method="post" action="/editor.do"&gt;
            &lt;div class="title"&gt;
                &lt;input type="text" placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä¸»è´´æ ‡é¢˜" id="title" name="title"&gt;
                &lt;input type="text" placeholder="æ¿å—ç¼–å·" id="type" name="type" style="    height: 40px;
    width: 80px;

    text-indent: 10px;
    border-radius: 10px;
    outline: none;
    border: none;
    background-color:rgba(255, 255, 255, 0.8);"&gt;

                &lt;button id="submit"&gt;å‘å¸ƒå¸–å­&lt;/button&gt;
            &lt;/div&gt;


        &lt;div id="editor" class="ç¼–è¾‘å™¨"&gt;&lt;/div&gt;
        &lt;link rel="stylesheet" href="editor.md/css/editormd.min.css" /&gt;
        &lt;script src="js/jquery.min.js"&gt;&lt;/script&gt;
        &lt;script src="editor.md/lib/marked.min.js"&gt;&lt;/script&gt;
        &lt;script src="editor.md/lib/prettify.min.js"&gt;&lt;/script&gt;
        &lt;script src="editor.md/editormd.js"&gt;&lt;/script&gt;


        &lt;/form&gt;
    &lt;/div&gt;

    &lt;script&gt;
        var content = '# åœ¨è¿™é‡Œå†™ä¸‹ä¸€ç¯‡å¸–å­ ##';
        var config = {
            // è¿™é‡Œçš„å°ºå¯¸å¿…é¡»åœ¨è¿™é‡Œè®¾ç½®. è®¾ç½®æ ·å¼ä¼šè¢« editormd è‡ªåŠ¨è¦†ç›–æ‰.
            width: "100%",
            // é«˜åº¦ 100% æ„æ€æ˜¯å’Œçˆ¶å…ƒç´ ä¸€æ ·é«˜. è¦åœ¨çˆ¶å…ƒç´ çš„åŸºç¡€ä¸Šå»æ‰æ ‡é¢˜ç¼–è¾‘åŒºçš„é«˜åº¦
            height: "100vh",
            // ç¼–è¾‘å™¨ä¸­çš„åˆå§‹å†…å®¹
            markdown: content,
            // æŒ‡å®š editor.md ä¾èµ–çš„æ’ä»¶è·¯å¾„
            path: "editor.md/lib/"
        };
        editormd("editor", config);

    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="1034" src="image\1aebb51767b64e908ce74b6e6678b594.png" width="1200"/></h2>
<h2 id="6.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E7%99%BB%E5%BD%95%E9%A1%B5">6. å®ç°è®ºå›ç™»å½•é¡µ</h2>
<h3 id="6.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">6.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<pre><code>[è¯·æ±‚] post /login.do</code></pre>
<h3 id="6.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">6.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import forum.dao.UserDao;
import forum.model.User;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/06/29 17:18
 **/

@WebServlet("/login.do")
public class LoginDoServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding("utf-8");
        String username = req.getParameter("username");
        String password = req.getParameter("password");
        System.out.println("DEBUG: username = " + username);
        System.out.println("DEBUG: password = " + password);

        UserDao userDao = new UserDao();
        User user = userDao.selectOneByUsernameAndPassword(username,password);
        if(user == null){
            resp.sendRedirect("/login.html");
            return;
        }

        System.out.println(user);

        HttpSession session = req.getSession();
        session.setAttribute("currentUser",user);

        resp.sendRedirect("/");
    }
}</code></pre>
<h3 id="6.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">6.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ç™»å½•&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/navigation bar.css"&gt;
    &lt;link rel="stylesheet" href="css/login.css"&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;div class="å¯¼èˆªæ "&gt;
        &lt;div class="left-logo"&gt;
            &lt;div class="logo"&gt;&lt;img src="img/ç³»ç»Ÿå›¾æ ‡.png" width="45"&gt;&lt;/div&gt;
            &lt;p&gt;è®ºå›ç®¡ç†ä¿¡æ¯ç³»ç»Ÿ&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="å ä½"&gt;&lt;/div&gt;

        &lt;div class="right-function"&gt;
            &lt;span class="center"&gt;&lt;/span&gt;
            &lt;a href="list.html"&gt;ä¸»é¡µ&lt;/a&gt;
            &lt;a href="editor.html" target="_blank"&gt;å†™å¸–å­&lt;/a&gt;
            &lt;a href="logon.html"&gt;æ³¨å†Œ&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="ä¸»ä½“åŒº"&gt;
        &lt;div class="ç™»å½•æ¡†"&gt;
            &lt;form action="/login.do" method="post"&gt;
                &lt;h2&gt;ç™»å½•&lt;/h2&gt;
                &lt;div&gt;
                    &lt;span&gt;ç”¨æˆ·å&lt;/span&gt;
                    &lt;input type="text" class="text" name="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span&gt;å¯†ç &lt;/span&gt;
                    &lt;input type="password" class="text" name="password" placeholder="è¯·è¾“å…¥å¯†ç "&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;button class="æäº¤"&gt;ç™»å½•&lt;/button&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<blockquote>
<p> å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\a2c8752b4d0b402cb61e3dcdc8b6dfd3.png" width="1200"/></p>
<h2 id="7.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E6%B3%A8%E5%86%8C%E9%A1%B5">7. å®ç°è®ºå›æ³¨å†Œé¡µ</h2>
<h3 id="7.1%E7%BA%A6%E5%AE%9A%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3">7.1çº¦å®šå‰åç«¯äº¤äº’æ¥å£</h3>
<pre><code>[è¯·æ±‚] post /logon.do</code></pre>
<h3 id="7.2%20%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">7.2 å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import forum.dao.UserDao;
import forum.model.User;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/07/03 08:34
 **/
@WebServlet("/logon.do")
public class LogonDoServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding("utf-8");
        String username = req.getParameter("username");
        String sex = req.getParameter("sex");
        String age = req.getParameter("age");
        String occupation = req.getParameter("occupation");
        String hobby = req.getParameter("hobby");
        String password1 = req.getParameter("password1");
        String password2 = req.getParameter("password2");

        UserDao userDao = new UserDao();
        User user = userDao.insert(username,password1,sex,Integer.parseInt(password1),occupation,hobby);

        HttpSession session = req.getSession();
        session.setAttribute("currentUser",user);

        resp.sendRedirect("/");

    }
}</code></pre>
<h3 id="7.3%20%E7%BC%96%E5%86%99%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81">7.3 ç¼–å†™å®¢æˆ·ç«¯ä»£ç </h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;æ³¨å†Œ&lt;/title&gt;
    &lt;link rel="stylesheet" href="css/navigation bar.css"&gt;
    &lt;link rel="stylesheet" href="css/logon.css"&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;div class="å¯¼èˆªæ "&gt;
        &lt;div class="left-logo"&gt;
            &lt;div class="logo"&gt;&lt;img src="img/ç³»ç»Ÿå›¾æ ‡.png" width="45"&gt;&lt;/div&gt;
            &lt;p&gt;è®ºå›ç®¡ç†ä¿¡æ¯ç³»ç»Ÿ&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="å ä½"&gt;&lt;/div&gt;

        &lt;div class="right-function"&gt;
            &lt;span class="center"&gt;&lt;/span&gt;
            &lt;a href="list.html"&gt;ä¸»é¡µ&lt;/a&gt;
            &lt;a href="editor.html" target="_blank"&gt;å†™å¸–å­&lt;/a&gt;
            &lt;a href="login.html"&gt;ç™»å½•&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="ä¸»ä½“åŒº"&gt;
        &lt;div class="æ³¨å†Œæ¡†"&gt;
            &lt;form action="/logon.do" method="post"&gt;
                &lt;h2&gt;æ³¨å†Œ&lt;/h2&gt;
                &lt;div&gt;
                    &lt;span&gt;æ˜µç§°&lt;/span&gt;
                    &lt;input type="text" class="text" placeholder="è¯·è¾“å…¥æ˜µç§°" name="username"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span&gt;å¹´é¾„&lt;/span&gt;
                    &lt;input type="text" class="text" placeholder="è¯·è¾“å…¥å¹´é¾„" name="age"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span&gt;æ€§åˆ«&lt;/span&gt;
                    &lt;input type="text" class="text" placeholder="è¯·è¾“å…¥æ€§åˆ«  ç”·|å¥³" name="sex"&gt;

                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span&gt;çˆ±å¥½&lt;/span&gt;
                    &lt;input type="text" class="text" placeholder="è¯·è¾“å…¥çˆ±å¥½" name="hobby"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span&gt;èŒä¸š&lt;/span&gt;
                    &lt;input type="text" class="text" placeholder="è¯·è¾“å…¥èŒä¸š" name="occupation"&gt;
                &lt;/div&gt;
&lt;!--                &lt;div&gt;--&gt;
&lt;!--                    &lt;span&gt;Email&lt;/span&gt;--&gt;
&lt;!--                    &lt;input type="text" class="text" placeholder="è¯·è¾“å…¥Email" name="email"&gt;--&gt;
&lt;!--                &lt;/div&gt;--&gt;
                &lt;div&gt;
                    &lt;span&gt;å¯†ç &lt;/span&gt;
                    &lt;input type="password" class="text" placeholder="è¯·è¾“å…¥å¯†ç " name="password1"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span&gt;å†æ¬¡ç¡®è®¤å¯†ç &lt;/span&gt;
                    &lt;input type="password" class="text" placeholder="è¯·å†æ¬¡ç¡®è®¤å¯†ç " name="password2"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;button class="æäº¤"&gt;æ³¨å†Œ&lt;/button&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\97ab83440d524c26ac056e3cb97b7dd0.png" width="1200"/></p>
<h2 id="8.%20%E5%AE%9E%E7%8E%B0%E8%AE%BA%E5%9D%9B%E6%B3%A8%E9%94%80">8. å®ç°è®ºå›æ³¨é”€</h2>
<h3 id="8.1%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81">8.1å®ç°æœåŠ¡å™¨ä»£ç </h3>
<pre><code class="language-java">package forum.servlet;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.IOException;

@WebServlet("/logout")
public class LogoutServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        HttpSession session = req.getSession(false);
        if (session != null) {
            session.removeAttribute("currentUser");
        }

        resp.sendRedirect("/");
    }
}
</code></pre>
<pre><code class="language-java">package forum.servlet;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

/**
 * @author haomin
 * @date 2022/06/30 08:43
 **/

@WebServlet("")
public class IndexServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        resp.sendRedirect("/list.html");
    }
}</code></pre>
<blockquote>
<p>é‡å®šå‘åˆ°è®ºå›ä¸»é¡µï¼Œä½†æ˜¯æœåŠ¡å™¨å‘ç°æ²¡æœ‰ç”¨æˆ·ç™»å½•ï¼Œç»§è€Œé‡å®šå‘åˆ°ç”¨æˆ·ç™»å½•é¡µã€‚</p>
</blockquote>
<blockquote>
<p>å®ç°æ•ˆæœï¼š</p>
</blockquote>
<p><img alt="" height="1034" src="image\731bc58aaa6245228732054bd258413c.png" width="1200"/></p>
<blockquote>
<p> è®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿä¸»è¦é‡ç‚¹å°±ä»‹ç»åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœæƒ³çœ‹çœ‹é¡¹ç›®æºç ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œï¼š<a class="link-info" href="https://gitee.com/hao-min-chen/forum_management_information_system" title="ã€Šè®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‹">ã€Šè®ºå›ä¿¡æ¯ç®¡ç†ç³»ç»Ÿã€‹</a></p>
</blockquote>
<blockquote>
<p>å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹èµåŠ å…³æ³¨å§ï¼Œæˆ–è€…å¦‚æœä½ å¯¹ä¸æ–‡ç« æœ‰ä»€ä¹ˆå›°æƒ‘ï¼Œå¯ä»¥ç§ä¿¡æˆ‘ã€‚</p>
<p>ğŸ“ğŸ“ğŸ“ </p>
</blockquote>
</div>
</div>