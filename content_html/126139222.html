<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<p><img alt="" height="289" src="image\de5da860de4441a387a38567d74b7ca8.png" width="1200"/></p>
<blockquote>
<p><span style="color:#ed7976;"><strong>本案例源码链接（非VIP可私聊获取）：</strong></span><a class="has-card" href="https://download.csdn.net/download/weixin_52212950/86286910" title="https://download.csdn.net/download/weixin_52212950/86286910"><span class="link-card-box"><span class="link-title">https://download.csdn.net/download/weixin_52212950/86286910</span><span class="link-link"><img alt="" class="link-link-icon" src="image\icon-default.png"/>https://download.csdn.net/download/weixin_52212950/86286910</span></span></a></p>
</blockquote>
<blockquote>
<p><span style="color:#333333;"><strong>文章导读： </strong></span> </p>
<p>         这篇文章实现一个小案例：在购物平台选商品时我们经常会输价格区间，然后筛选出在这个区间内的商品，其实有JavaScript基础我们就已经能实现了，利用循环判断等知识。但是这篇文章是新方法 forEach，filter，some 的使用实现，可以让我们的实现更轻松。</p>
<p><img alt="" height="864" src="image\a64f8b3534be4d9c813d1234e164d1a1.png" width="1200"/></p>
</blockquote>
<h3 id="main-toc"><strong>文章目录：</strong></h3>
<p id="%E4%B8%80%EF%BC%9A%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA-toc" style="margin-left:0px;"><a href="#%E4%B8%80%EF%BC%9A%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA">一：效果展示</a></p>
<p id="%C2%A0%E4%BA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90"> 二：功能实现分析</a></p>
<p id="2.1%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#2.1%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE">2.1 页面渲染数据</a></p>
<p id="2.2%C2%A0%E6%A0%B9%E6%8D%AE%E4%BB%B7%E6%A0%BC%E5%8C%BA%E9%97%B4%E6%9F%A5%E6%89%BE-toc" style="margin-left:40px;"><a href="#2.2%C2%A0%E6%A0%B9%E6%8D%AE%E4%BB%B7%E6%A0%BC%E5%8C%BA%E9%97%B4%E6%9F%A5%E6%89%BE">2.2 根据价格区间查找</a></p>
<p id="2.3%C2%A0%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E7%BB%93%E6%9E%9C%E5%87%86%E7%A1%AE%E6%9F%A5%E6%89%BE-toc" style="margin-left:40px;"><a href="#2.3%C2%A0%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E7%BB%93%E6%9E%9C%E5%87%86%E7%A1%AE%E6%9F%A5%E6%89%BE">2.3 根据输入结果准确查找</a></p>
<p id="%C2%A0%E4%B8%89%EF%BC%9A%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%89%EF%BC%9A%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"> 三：完整代码</a></p>
<hr/>
<h1 id="%E4%B8%80%EF%BC%9A%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span style="color:#4da8ee;">一：效果展示</span></h1>
<blockquote>
<p><span style="color:#be191c;"><strong>页面基本效果</strong></span></p>
</blockquote>
<p><img alt="" height="1031" src="image\64e82c2a4f974987a7fde3f5c7e708a6.png" width="1200"/></p>
<blockquote>
<p><span style="color:#be191c;"><strong> 根据价格区间搜索</strong></span></p>
</blockquote>
<p><img alt="" height="1033" src="image\23e95716fee5401fa5146b2eadd8c5af.png" width="1200"/></p>
<blockquote>
<p><span style="color:#be191c;"><strong> 根据车辆名称搜索</strong></span></p>
</blockquote>
<p><img alt="" height="1030" src="image\07d84dc007ef436d8648de2ec1c7a75f.png" width="1200"/></p>
<hr/>
<h1 id="%C2%A0%E4%BA%8C%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%E5%88%86%E6%9E%90"><span style="color:#4da8ee;"> 二：功能实现分析</span></h1>
<h2 id="2.1%20%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E6%95%B0%E6%8D%AE"><span style="color:#b95514;">2.1 页面渲染数据</span></h2>
<blockquote>
<p><span style="color:#333333;">我们的数据存放格式为数组放对象，在写入大量数据后要将其渲染到页面的主表格中，我们可以使用 forEach 方法来实现，每次迭代都会执行一次基础的创建行，添加行的操作</span></p>
<hr/>
<p><span style="color:#1c7331;"><strong>实现过程：</strong></span></p>
<ul><li><span style="color:#b95514;">遍历开始，首先轮到的是数组第一个元素，即第一个车辆的数据，然后创建行tr，给行tr添加内容，内容中直接将车辆信息的编号id，名称name，价格price写入，然后再在tbody内加上创建好的行</span></li><li><span style="color:#ad720d;">再轮到下一个车辆的数据，在创建行等操作，直到所有车辆信息全部添加进去结束</span></li></ul>
</blockquote>
<pre><code class="language-javascript">car.forEach(function(value,index,arr){
            var tr=document.createElement('tr');
            tr.innerHTML='&lt;td&gt;'+value.id+'&lt;/td&gt;&lt;td&gt;'+value.name+'&lt;/td&gt;&lt;td&gt;'+value.price+'&lt;/td&gt;'
            tbody.appendChild(tr)
        })</code></pre>
<hr/>
<h2 id="2.2%C2%A0%E6%A0%B9%E6%8D%AE%E4%BB%B7%E6%A0%BC%E5%8C%BA%E9%97%B4%E6%9F%A5%E6%89%BE"><span style="color:#b95514;">2.2 根据价格区间查找</span></h2>
<blockquote>
<p>既然是筛选数据，那自然是选择我们的 filter 方法了，为了不让表格数据每次搜索完后上一次的数据还保留，所以每次点击后先清空右侧表格内的数据再去执行筛选。filter 返回的是一个新数组，所以需要一个新定义的数组去接收。筛选过后再使用 forEach 将新数组渲染到右侧的搜错结果表格即可</p>
</blockquote>
<pre><code class="language-javascript">select1.addEventListener('click',function(){
            rtbody.innerHTML=''
            var newcar=car.filter(function(value,index,arr){
                return value.price&gt;=start.value&amp;&amp;value.price&lt;=end.value;
            })
            // console.log(newcar);
            newcar.forEach(function(value,index,arr){
                var tr=document.createElement('tr');
                tr.innerHTML='&lt;td class="righttd"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'
                rtbody.appendChild(tr)
            })
        })</code></pre>
<hr/>
<h2 id="2.3%C2%A0%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E7%BB%93%E6%9E%9C%E5%87%86%E7%A1%AE%E6%9F%A5%E6%89%BE"><span style="color:#b95514;"><strong>2.3 根据输入结果准确查找</strong></span></h2>
<blockquote>
<p>在大批数据中要准确查找某个信息时，使用 some 方法比较合适，因为 some 一旦查找到就会停止遍历，数据量大时可以节省效率，很明显我们这个功能也要让其返回一个符合条件的新数组，但是some返回的结果是一个布尔值，所以此处我们需要自定义数组，然后去用 push 方法将复合查找要求的数据添加到新数组里，并且一旦查找到就让其 返回 ture 终止循环遍历</p>
</blockquote>
<pre><code class="language-javascript">select2.addEventListener('click',function(){
        rtbody.innerHTML=''
        newarr=[]
        car.some(function(value,index,arr){
            if(value.name==name1.value){
                newarr.push(value)
                return true;
            }
        })
            newarr.forEach(function(value,index,arr){
                var tr=document.createElement('tr');
                tr.innerHTML='&lt;td class="righttd"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'
                rtbody.appendChild(tr)
            })
    })</code></pre>
<hr/>
<h1 id="%C2%A0%E4%B8%89%EF%BC%9A%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span style="color:#4da8ee;"> 三：完整代码</span></h1>
<pre><code class="language-javascript">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        *{
            margin: 0;
            padding: 0;
        }
        .outbox{
           position: absolute;
            width: 1200px;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            border-top: 1px solid black;
            border-left: 1px solid black;
            border-right: 2.2px solid black;
            border-bottom: 2.2px solid black;
        }
        .leftbox{
            float: left;
            width: 900px;
            /* height: 600px; */
            box-sizing: border-box;
            border-top: 1.4px solid black;
            border-left: 1.4px solid black;
            border-right: 5px solid black;
        }
        .rightbox{
            float: left;
            width: 298px;
            border-top: 1.5px solid black;
        }
        .top{
            position: relative;
            width: 898px;
            height: 120px;
            border-bottom: 1.4px solid black;
            background-color: rgb(219, 219, 219);
            box-sizing: border-box;
        }
        .bottom{
            padding-top: 28px;
            width: 898px;
            padding-bottom: 28px;
            background-color: rgb(244, 244, 244);
        }
        table{
            margin: 0 auto;
            width: 835px; 
            border: 1.4px solid black;
        }
        thead tr{
            width: 835px;
            height: 40px;
            border: 1.4px solid black;
            background-color: rgb(208, 241, 255);
        }
        tbody tr{
            width: 835px;
            height: 50px;
            border: 1.4px solid black;
            background-color: rgb(255, 239, 239);
        }
        td{
            width: 278px;
            border: 1.4px solid black;
            text-align: center;
            font-weight: bold;
            font-size: 17px;
            letter-spacing: 3px;
        }
        .price{
            position: absolute;
            top: 22px;
            left: 37px;
            letter-spacing: 2px;
            font-size: 18px;
            font-weight: 500;
        }
        .start,.end{
            padding-left: 6px;
            width: 100px;
            height: 30px;
            outline: none;
            font-size: 20px;
        }
        .pricebox{
            position: absolute;
            top: 19px;
            left: 325px;
            letter-spacing: 2px;
            font-size: 18px;
            font-weight: 800;
        }
        .select1{
            position: absolute;
            width: 170px;
            height: 37px;
            top: 17px;
            right: 115px;
            font-size: 14.5px;
            letter-spacing: 2px;
            background-color: rgb(255, 226, 154);

            border: 1px solid black;
        }

        .name-p{
            position: absolute;
            bottom: 22px;
            left: 94px;
            letter-spacing: 2px;
            font-size: 18px;
            font-weight: 500;
        }
        .name{
            position: absolute;
            bottom: 16px;
            left: 325px;
            letter-spacing: 2px;
            font-size: 18px;
            width: 235px;
            height: 30px;
            outline: none;
            padding-left: 6px;
        }
        .select2{
            position: absolute;
            width: 170px;
            height: 37px;
            bottom: 15px;
            right: 115px;
            font-size: 14.5px;
            letter-spacing: 2px;
            background-color: rgb(255, 226, 154);

            border: 1px solid black;
        }
        .select1:hover{
            background-color: rgb(255, 210, 95);
        }
        .select2:hover{
            background-color: rgb(255, 214, 110);
        }
        .rtable{
            margin: 0 auto;
            width: 240px;
            margin-top: 40px;
            margin-bottom: 40px;
        }
        .rthead .rtr{
            width: 240px;
            height: 40px;
            border: 1.4px solid black;
            background-color: rgb(208, 241, 255);
        }
        .rtbody .rtr{
            width: 240px;
            height: 40px;
            border: 1.4px solid black;
            background-color: rgb(255, 201, 114);
        }
        .rtd{
            width: 240px;
            border: 1.4px solid black;
            text-align: center;
            font-weight: bold;
            font-size: 17px;
            letter-spacing: 3px;
        }
        .righttd{
            width: 240px;
            border: 1.4px solid black;
            text-align: center;
            font-weight: bold;
            font-size: 17px;
            letter-spacing: 3px;
            background-color: rgb(255, 234, 206);
        }
        .clear{
            width: 85px;
            height: 85px;
            position: absolute;
            top: 16px;
            right: 13px;
            border: 1px solid black;
            font-weight: 400;
            font-size: 15px;
            background-color: #fff;
        }
        .clear:hover{
            background-color: rgb(247, 247, 247);
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="outbox"&gt;
        &lt;div class="leftbox"&gt;
            &lt;div class="top"&gt;
                &lt;button class="clear"&gt;清空查询&lt;/button&gt;
               &lt;p class="price"&gt;您要查询的价格区间为(万元):&lt;/p&gt;
               &lt;div class="pricebox"&gt;
                   &lt;input type="text" class="start"&gt; ~ &lt;input type="text" class="end"&gt;
               &lt;/div&gt;
               &lt;input type="button" class="select1" value="从价格区间查询"&gt;
               &lt;p class="name-p"&gt;您要查询的车辆名称为:&lt;/p&gt;
                   &lt;input type="text" class="name"&gt;
               &lt;input type="button" class="select2" value="从车辆名称查询"&gt;
            &lt;/div&gt;
            &lt;div class="bottom"&gt;
               &lt;table cellspacing="0" style="border-collapse: collapse;"&gt;
                   &lt;thead&gt;
                       &lt;tr&gt;
                           &lt;td&gt;汽车编号&lt;/td&gt;
                           &lt;td&gt;汽车名称&lt;/td&gt;
                           &lt;td&gt;汽车售价(万元)&lt;/td&gt;
                       &lt;/tr&gt;
                   &lt;/thead&gt;
                   &lt;tbody&gt;
                   &lt;/tbody&gt;
               &lt;/table&gt;
            &lt;/div&gt;
       &lt;/div&gt;
       &lt;div class="rightbox"&gt;
        &lt;table cellspacing="0" style="border-collapse: collapse;" class="rtable"&gt;
            &lt;thead class="rthead"&gt;
                &lt;tr class="rtr"&gt;
                    &lt;td class="rtd"&gt;查询结果&lt;/td&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody class="rtbody"&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
       &lt;/div&gt;
    &lt;/div&gt;
    
     &lt;script&gt;
        var car=[
            {
                'id':1000001,
                'name':'奥迪A6 Avent',
                'price':46
            },
            {
                'id':1000002,
                'name':'奥迪A6 allroad',
                'price':52
            },
            {
                'id':1000003,
                'name':'奥迪RS6',
                'price':145
            },{
                'id':1000004,
                'name':'奥迪RS7',
                'price':154
            },
            {
                'id':1000005,
                'name':'奥迪A7L',
                'price':82
            },
            {
                'id':1000006,
                'name':'GTR R32',
                'price':140
            },
            {
                'id':1000007,
                'name':'GTR R33',
                'price':101
            },
            {
                'id':1000008,
                'name':'GTR R34',
                'price':180
            },
            {
                'id':1000009,
                'name':'GTR R35',
                'price':160
            }
        ]
        var tbody=document.querySelector('tbody');
        var rtbody=document.querySelector('.rtbody');
        var start=document.querySelector('.start');
        var end=document.querySelector('.end');
        var select1=document.querySelector('.select1');
        var clear=document.querySelector('.clear');
        var select2=document.querySelector('.select2');
        var name1=document.querySelector('.name');
        clear.addEventListener('click',function(){
            window.location.reload()
        })
        car.forEach(function(value,index,arr){
            var tr=document.createElement('tr');
            tr.innerHTML='&lt;td&gt;'+value.id+'&lt;/td&gt;&lt;td&gt;'+value.name+'&lt;/td&gt;&lt;td&gt;'+value.price+'&lt;/td&gt;'
            tbody.appendChild(tr)
        })
        select1.addEventListener('click',function(){
            rtbody.innerHTML=''
            var newcar=car.filter(function(value,index,arr){
                return value.price&gt;=start.value&amp;&amp;value.price&lt;=end.value;
            })
            // console.log(newcar);
            newcar.forEach(function(value,index,arr){
                var tr=document.createElement('tr');
                tr.innerHTML='&lt;td class="righttd"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'
                rtbody.appendChild(tr)
            })
        })
    select2.addEventListener('click',function(){
        rtbody.innerHTML=''
        newarr=[]
        car.some(function(value,index,arr){
            if(value.name==name1.value){
                newarr.push(value)
                return true;
            }
        })
            newarr.forEach(function(value,index,arr){
                var tr=document.createElement('tr');
                tr.innerHTML='&lt;td class="righttd"&gt;'+value.name+'  :'+value.price+'万'+'&lt;/rd&gt;'
                rtbody.appendChild(tr)
            })
    })
     &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p></p>
</div>
</div>