<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h2><a id="_0"></a>简介:</h2>
<blockquote>
<p>   <code>内网穿透到公网</code>想必大家应该都知道啥意思吧!由于我们自己的网络环境是局域网,同一个局域网的设备可以相互访问,前提是关闭了防火墙哦,现在我们的项目部署在本地只能局域网的设备可以访问到,那如何给朋友装B呢?辛辛苦苦写的项目没办法给朋友访问到,说再多这个功能怎么怎么样,还不如让他直接访问你项目来的直接</p>
</blockquote>
<h2><a id="_2"></a>原理:</h2>
<blockquote>
<p>    那么内网穿透工具就要用起来,工具可以代理你本地ip和端口,然后通过工具提供的域名进行访问到本地项目.</p>
</blockquote>
<h2><a id="cpolar_5"></a>映射工具(cpolar)</h2>
<h3><a id="1_6"></a>1.注册</h3>
<p><img alt="在这里插入图片描述" src="image\231b3c3e687043f992b4b1a78c416315.png"/><br/> <strong>点击免费使用</strong>:</p>
<blockquote>
<p>创建cpolar用户信息</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="image\2a5a55c749034c50b9ea99d7fb6d3716.png"/></p>
<h3><a id="20_13"></a>2.选择0元套餐</h3>
<p>创建成功后,会叫我们选择套餐那么肯定要0元白嫖啦<br/> <img alt="在这里插入图片描述" src="image\485e4ba518884c38943acb52ff415f18.png"/></p>
<blockquote>
<p><strong><code>注意</code></strong>:由于是<code>0元白嫖</code>的所以他给我们的<code>域名</code>地址<code>是随机的</code>,但是<code>只要不把程序关了</code>,那么启动后<code>分配的域名就可以一直使用</code></p>
</blockquote>
<p><img alt="在这里插入图片描述" src="image\e7687919cf9a405bb369e82cb5dde382.png"/><br/> <strong>然后确认套餐</strong></p>
<h3><a id="3cpolar_20"></a>3.下载cpolar客户端</h3>
<p>不同的设备,需要下载指定的安装包<br/> <img alt="在这里插入图片描述" src="image\f9a58bae7d234322954e3bf6adf845ca.png"/><br/> <code>windows</code>设备安装,点击下载</p>
<p><img alt="在这里插入图片描述" src="image\ead9b49a701d479bb44bbf9ec1270820.png"/><br/> 下载完成后会有安装包</p>
<p><img alt="在这里插入图片描述" src="image\c3e8bf3c3b704f7caecf940f83f4b371.png"/></p>
<blockquote>
<p>安装步鄹:</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="image\ed1277617c2641f488f7d20e406d9f0a.png"/><br/> <img alt="在这里插入图片描述" src="image\d667560c7ebf45b3bfd3cf3abf0891fa.png"/><img alt="在这里插入图片描述" src="image\03b0361d99f04598bc811a5b97eeefa8.png"/><br/> <img alt="在这里插入图片描述" src="image\3ef92d88994041ddb234985e80643ede.png"/><br/> 等待安装就可以:<br/> <img alt="在这里插入图片描述" src="image\194ba3ab0dac4c59817a00843ecf5384.png"/></p>
<blockquote>
<p>到这里就完成了</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="image\0beddb9eb7324994b7f668bb52f4de25.png"/></p>
<h3><a id="4windows_39"></a>4.如何使用(windows版)</h3>
<h3><a id="_41"></a><strong>方式一:</strong></h3>
<blockquote>
<p>如何使用<code>windows版</code>呢?看过来我们接着跟着走,写的教程必须让你看到会为止…</p>
</blockquote>
<p><strong><code>注意：如果方式一失效,那就使用方式二的教程启动软件</code></strong></p>
<p>安装完成后,我们进入到自己安装的路径下:<br/> 里面包含一个文件和一个可执行程序:<br/> <img alt="在这里插入图片描述" src="image\5c2f8c75b21a4d80bdd2b640b923d2ae.png"/><br/> 我们进入<code>assets</code>目录里面,双击<code>webui</code>会打开一个网页<br/> <img alt="在这里插入图片描述" src="image\dcab747b29194c0e9a2a0aaf54c61bf6.png"/></p>
<h4><a id="_53"></a>登录后台:</h4>
<p>填写前面注册的<code>账号</code>和<code>密码</code>登录<br/> <img alt="在这里插入图片描述" src="image\ab33be27eff141128d5b6d499ba7045e.png"/><br/> 登录完成后会进入控制台<br/> <img alt="在这里插入图片描述" src="image\bc1371a088074769a5286ae7559624b0.png"/></p>
<h4><a id="_58"></a>隧道管理</h4>
<p>我们点击<code>隧道管理</code>:<br/> 看图设置配置</p>
<p><img alt="在这里插入图片描述" src="image\b3fa548b96f1436eb42ff07cd53a6803.png"/><br/> 创建成功后可以在隧道列表里面查看,<br/> 可以对隧道进行操作开启或者关闭等</p>
<p><img alt="在这里插入图片描述" src="image\5217908033994480bcfdc5bfa102269c.png"/></p>
<h4><a id="_67"></a>查看公网域名</h4>
<blockquote>
<p>那创建成功并且启用了隧道怎么看公网域名呢?</p>
</blockquote>
<p>点击状态,在线隧道列表,里面查看自己创建隧道对应的公网域名,可以看出我们前面只创建了http协议的隧道但是他们自动给我们创建了https的隧道<br/> <img alt="在这里插入图片描述" src="image\e07e75206faf4a88a6a1aff981dc1d00.png"/><br/> 接下来我们做演示,可以看出我前面创建的隧道指向我本地项目是5200端口的程序,那我搞个SpringBoot项目做演示</p>
<h3><a id="_74"></a>方式二:</h3>
<blockquote>
<p>如何使用<code>windows版</code>呢?看过来我们接着跟着走,写的教程必须让你看到会为止…</p>
</blockquote>
<p>安装完成后,我们进入到自己安装的路径下:<br/> <img alt="在这里插入图片描述" src="image\9ceb2c2d803c4a75b99465cbabb5206e.png"/></p>
<h4><a id="_81"></a>配置客户端密钥</h4>
<p>双击运行<code>cpolar.exe</code><br/> 会跳出命令窗口<br/> <img alt="在这里插入图片描述" src="image\945a1f29dbfd4820827a8f829143bc28.png"/><br/> 现在需要<code>客户端绑定服务端密钥</code><br/> <img alt="在这里插入图片描述" src="image\f9012704754b4ffba6c0ca5eb4f757c9.png"/><br/> 在前面的黑窗口运行命令</p>
<pre><code class="prism language-go">cpolar authtoken 自己的密钥
</code></pre>
<p><img alt="在这里插入图片描述" src="image\52a2c4f1b99d47adbd1a99cdb9eb0b5c.png"/><br/> <code>cpolar</code>配置文件信息<br/> <img alt="在这里插入图片描述" src="image\2cb64cddfce349ffbd7247afc698f2d7.png"/></p>
<h4><a id="_95"></a>设置映射的端口</h4>
<p>现在我要<code>映射</code>我<code>本地的端口</code>是<code>5200</code>的项目,那么命令是这样的</p>
<blockquote>
<p>cpolar 协议 需要映射的端口</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="image\17c07c6d1c3440cd983ebefe0b67bbda.png"/></p>
<p>回车后界面刷新<br/> <img alt="在这里插入图片描述" src="image\d7fe7080943241df852f91919a5aaa7c.png"/><br/> 里面有http/https的公网域名映射本地的5200项目</p>
<blockquote>
<p>需要注意的是<code>ctrl+c</code>是退出映射</p>
</blockquote>
<p>那我们怎么复制呢,那么长输入错误也访问不了,那么你们可以在黑框右键,然后可以点击<code>标记</code>,在按住shift键后在移动左右键选择需要的信息<br/> <img alt="在这里插入图片描述" src="image\4b4ab144d3cb4dd0bbf9d9041f7f04e3.png"/><br/> 然后在<code>ctrl+c</code>复制域名,就不会退出映射软件了</p>
<blockquote>
<p>演示:</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="image\5237207261b34b33b5ccd4507aa7ddc5.png"/></p>
<h3><a id="5_116"></a>5.本地项目运行演示</h3>
<blockquote>
<p>       我这边以SpringBoot做了个内网穿透测试的Demo,我在里面添加了用于请求的接口信息,由于我这个没有前端什么的所以直接访问也没办法看,于是我就写了get请求的接口,这样就可以用工具提供的域名通过浏览器访问了.</p>
</blockquote>
<h4><a id="_119"></a>接口信息:</h4>
<p>接口需要注意的是:返回的数据浏览器解析会乱码哦</p>
<pre><code class="prism language-go">        <span class="token comment">//设置响应编码</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"content-type"</span><span class="token punctuation">,</span><span class="token string">"text/html;charset = UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="image\facc7887ec454d0f88f779cc823f9be7.png"/></p>
<p>启动项目:</p>
<p>由于我这边设置了路径所以需要在端口后面拼接路径然后在拼接前面的访问路径才能访问<br/> <img alt="在这里插入图片描述" src="image\0439ab14baee4cd38441a73dd445f28d.png"/></p>
<h4><a id="_136"></a>使用浏览器访问本地项目:</h4>
<p>由于我程序里面设置了<code>上下文路径</code> context path <code>'/love'</code>所以端口后面需要拼接这个路径<br/> 访问地址:<code>http://localhost:5200/love/intranetTest?msg=浏览器访问本地项目</code><br/> 本地访问正常打印出来证明项目没有问题.<br/> <img alt="在这里插入图片描述" src="image\2a7cb40d524a4bc1b9040c0a30cfe04e.png"/></p>
<h4><a id="____143"></a>通过 工具提供的域名 访问 本地项目:</h4>
<p><img alt="在这里插入图片描述" src="image\703a3d3a8ce94b47acb05405b658c270.png"/><br/> 复制<code>公网域名</code>: <code>http://7c94d4b7.cpolar.io</code><br/> <code>本地访问的地址</code>:<code>http://localhost:5200/love/intranetTest</code><br/> <code>最终替换后地址</code>:<code>http://7c94d4b7.cpolar.io/love/intranetTest</code><br/> <strong>浏览器访问</strong>:<br/> <code>http://7c94d4b7.cpolar.io/love/intranetTest?msg=通过工具完成内网穿透</code><br/> <img alt="在这里插入图片描述" src="image\aa01a47b462a44a5b3ede4fb1bc82170.png"/><br/> 到这这里就完成了内网穿透的教程了,如果对你有帮助,一键三连,一起加油!!!</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>