<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#font_color03a9f4_3"><font color="#03a9f4">邻接矩阵存储图的广度优先遍历过程分析</font></a></li><li><a href="#font_color03a9f4C_29"><font color="#03a9f4">C语言实现队列编程</font></a></li><li><a href="#font_color03a9f4_135"><font color="#03a9f4">程序中加入图的处理函数</font></a></li><li><a href="#font_color03a9f4_205"><font color="#03a9f4">结果的再次分析</font></a></li><li><a href="#font_color03a9f4C_214"><font color="#03a9f4">C#语言实现图的广度优先遍历、并显示广度优先遍历生成树</font></a></li><li><a href="#font_color03a9f4JavaScript_339"><font color="#03a9f4">JavaScript语言实现图的广度优先遍历、并显示广度优先遍历生成树</font></a></li></ul>
</div>
<p></p>
<hr/>
<h1><a id="font_color03a9f4_3"></a><font color="#03a9f4">邻接矩阵存储图的广度优先遍历过程分析</font></h1>
<p>对图1这样的无向图，要写成邻接矩阵，则就是下面的式子<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609233814923.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609233955322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/>一般要计算这样的问题，画成表格来处理是相当方便的事情，实际中计算机处理问题，也根本不知道所谓矩阵是什么，所以画成表格很容易帮助我们完成后面的编程任务。在我们前面介绍的内容中，有不少是借助着表格完成计算任务的，如Huffman树。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234019175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/><br/> 为了记录那些顶点是已经走过的，还要设计一个表来标记已经走过的顶点，在开始，我们假设未走过的是0，走过的是1，于是有：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234043796.png#pic_center"/><br/> 对广度优先遍历，还需要补充一个队列、来记录一个顶点可以抵达到的其他顶点。</p>
<p>广度优先遍历过程如下：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234103849.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/><br/> <strong>结果分析</strong></p>
<p>从上面的过程可以看出：仅仅就顶点访问到的次序而言，图1的广度优先遍历结果是：</p>
<pre><code class="prism language-c">V1<span class="token operator">-&gt;</span>V2<span class="token operator">-&gt;</span>V3<span class="token operator">&gt;</span>V4<span class="token operator">-&gt;</span>V5<span class="token operator">-&gt;</span>V6<span class="token operator">-&gt;</span><span class="token number">7</span><span class="token operator">-&gt;</span>V8
</code></pre>
<p>但实际执行过程中我们可以发现：所谓图的广度优先遍历、其结果应该是一个树：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234143774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/><br/> 在C语言中，显示这个结果并不容易，所以大多C语言的教材中并不会给出这样的结果。</p>
<h1><a id="font_color03a9f4C_29"></a><font color="#03a9f4">C语言实现队列编程</font></h1>
<p>根据上面的分析，我们可以知道：要广度优先遍历图，首先要一个队列系统。</p>
<p>队列在C语言上只能自己构造，好在我们前面有链表、有顺序表，我们可以复制过来一个链表程序构造一个队列，于是从链表程序中复制过来b5.c或者b6.c即可，我们分析队列的ADT可知，最需要的队列功能需求是：</p>
<p>QueueInit()、EnQueue、DeQueue()、QueueEmpty()这4个函数，于是有以下队列定义：</p>
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">Queue</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">LinkedList</span> <span class="token operator">*</span> LinkQueue<span class="token punctuation">;</span>
	<span class="token keyword">int</span> Count<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>由于我们已经确定使用链表做队列，所以队列实际就是链表的换名包装，所以我们可以理解为队列就是链表的另一种应用，表3的程序就是这样的做法，所以对队列的初始化，就是：</p>
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span> <span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>
	q<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Queue</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	q<span class="token operator">-&gt;</span>LinkQueue<span class="token operator">=</span><span class="token function">LinkedListInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	q<span class="token operator">-&gt;</span>Count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> 
	<span class="token keyword">return</span> q<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>有了队列的初始化，则进入队列、实际相当于给这个链表追加一条记录，就是Append()的另类包装：</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span>Q<span class="token punctuation">,</span><span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>E<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>E<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token function">Append</span><span class="token punctuation">(</span>Q<span class="token operator">-&gt;</span>LinkQueue<span class="token punctuation">,</span>E<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Q<span class="token operator">-&gt;</span>Count<span class="token operator">++</span><span class="token punctuation">;</span> 
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>注意数据出队列，出队列总是把链表中第一个结点的数据给出来、并删除第一个结点，所以出队列就是：</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span>Q<span class="token punctuation">,</span><span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>E<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>pE<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>E<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
	pE<span class="token operator">=</span><span class="token function">LinkedListGet</span><span class="token punctuation">(</span>Q<span class="token operator">-&gt;</span>LinkQueue<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">ElemCopy</span><span class="token punctuation">(</span>pE<span class="token punctuation">,</span>E<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">LinkedListDel</span><span class="token punctuation">(</span>Q<span class="token operator">-&gt;</span>LinkQueue<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	Q<span class="token operator">-&gt;</span>Count<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>出队列函数总是把第一个结点删除掉，注意队列完全可能数据出完后再次有数据进入队列，则原来的结点删除函数有Bug，这在程序开发中很正常，修改后就是：</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">LinkedListDel</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">LinkedList</span> <span class="token operator">*</span>L<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token operator">*</span>p0<span class="token punctuation">,</span><span class="token operator">*</span>p1<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">||</span>n<span class="token operator">&gt;</span>L<span class="token operator">-&gt;</span>Count<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
	p0<span class="token operator">=</span>L<span class="token operator">-&gt;</span>Head<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> 
		p0<span class="token operator">=</span>p0<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	p1<span class="token operator">=</span>p0<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	p0<span class="token operator">-&gt;</span>next<span class="token operator">=</span>p1<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	L<span class="token operator">-&gt;</span>Count<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>L<span class="token operator">-&gt;</span>Count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> L<span class="token operator">-&gt;</span>Tail<span class="token operator">=</span>L<span class="token operator">-&gt;</span>Head<span class="token punctuation">;</span>  
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>修改的这个链表结点函数、仅仅加了第14行，在过去，所以结点删除后，最后的尾巴结点指针Tail所指的存储空间被释放，导致这个指针变量不可用，现在在结点个数为0的情况下，再次让尾结点指向头结点，保证下次进入链表的数据依然正确。</p>
<p>而判断队列是否为空则相对简单的多，就是：</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span>Q<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Q<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>Q<span class="token operator">-&gt;</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre>
<p>补充main()函数，测试多批次进入队列、出队列，全部程序见B0.c</p>
<p>在我们的图遍历应用中，我们对队列的数据仅仅要求一个整数即可，而这个程序进出队列的数据有三列数据，为加强该程序可靠行，修改ElemType()，就是：</p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">ElemCopy</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>s<span class="token punctuation">,</span><span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>d<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	d<span class="token operator">-&gt;</span>sNo<span class="token operator">=</span>s<span class="token operator">-&gt;</span>sNo<span class="token punctuation">;</span>
	<span class="token comment">//strcpy(d-&gt;sName,s-&gt;sName);</span>
	<span class="token comment">//d-&gt;sAge=s-&gt;sAge;  </span>
<span class="token punctuation">}</span>

</code></pre>
<p>在一个系统中，类似这样的修改很正常，使用已有的程序完成自己的工作，会大大加快编程的进度，使得编程工作更加流畅。<br/> 而这一切都需要自己有足够的积累，有这个积累后完成这样的工作才有基础，所谓技术水平，就是不断积累的过程。</p>
<p>下面，在图的处理中会再次体现这样的过程。</p>
<h1><a id="font_color03a9f4_135"></a><font color="#03a9f4">程序中加入图的处理函数</font></h1>
<p>我们的队列系统完成后，记着再复制一个文件，加入图的邻接矩阵读数据程序，我们这里这个程序名称是b1.c。对邻接矩阵数据的读取、并构造图的过程，在深度优先遍历程序中已完成，所以直接复制过来即可，回顾广度优先遍历算法，就是把第一个顶点先无条件装进队列，所以编写遍历BFSM函数如下：</p>
<pre><code class="prism language-c">四、程序中加入图的处理函数
我们的队列系统完成后，记着再复制一个文件，加入图的邻接矩阵读数据程序，我们这里这个程序名称是b1<span class="token punctuation">.</span>c。对邻接矩阵数据的读取、并构造图的过程，在深度优先遍历程序中已完成，所以直接复制过来即可，回顾广度优先遍历算法，就是把第一个顶点先无条件装进队列，所以编写遍历BFSM函数如下：
<span class="token keyword">void</span> <span class="token function">BFSM</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Graph</span> <span class="token operator">*</span>G<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">,</span>n<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span>Q<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>p<span class="token punctuation">,</span>E<span class="token punctuation">,</span>e<span class="token punctuation">;</span>
	Q<span class="token operator">=</span><span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	E<span class="token punctuation">.</span>sNo<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>           <span class="token comment">// 设置0进队列</span>
	<span class="token function">EnQueue</span><span class="token punctuation">(</span>Q<span class="token punctuation">,</span><span class="token operator">&amp;</span>E<span class="token punctuation">)</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>Visited<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>     <span class="token comment">// 设置0号顶点已被访问</span>
	p<span class="token operator">=</span><span class="token operator">&amp;</span>e<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//待补充</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>从第11行开始，则进入真正的遍历。</p>
<p>有这么个函数后，我们可以补充main()的测试函数就是：</p>
<pre><code class="prism language-c"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">Graph</span> <span class="token operator">*</span>G<span class="token punctuation">;</span>
	G<span class="token operator">=</span><span class="token function">GraphCreat</span><span class="token punctuation">(</span><span class="token string">"p176G719.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">BFSM</span><span class="token punctuation">(</span>G<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>main()很短，也很简单，如有不明白的回顾下深度优先遍历函数。</p>
<p>回顾一下：就是队列Q里出队列，然后找与该顶点相连的所有顶点、在进队列，就是：</p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">BFSM</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">Graph</span> <span class="token operator">*</span>G<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">,</span>n<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token operator">*</span>Q<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">ElemType</span> <span class="token operator">*</span>p<span class="token punctuation">,</span>E<span class="token punctuation">,</span>e<span class="token punctuation">;</span>
	Q<span class="token operator">=</span><span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	E<span class="token punctuation">.</span>sNo<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">EnQueue</span><span class="token punctuation">(</span>Q<span class="token punctuation">,</span><span class="token operator">&amp;</span>E<span class="token punctuation">)</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>Visited<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> 
	p<span class="token operator">=</span><span class="token operator">&amp;</span>e<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span>Q<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">DeQueue</span><span class="token punctuation">(</span>Q<span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
		n<span class="token operator">=</span>p<span class="token operator">-&gt;</span>sNo<span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>G<span class="token operator">-&gt;</span>pV<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>G<span class="token operator">-&gt;</span>pA<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>G<span class="token operator">-&gt;</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				G<span class="token operator">-&gt;</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> 
				E<span class="token punctuation">.</span>sNo<span class="token operator">=</span>i<span class="token punctuation">;</span>
				<span class="token function">EnQueue</span><span class="token punctuation">(</span>Q<span class="token punctuation">,</span><span class="token operator">&amp;</span>E<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>运行这个程序、就会打印出这个图的广度优先遍历结果。</p>
<h1><a id="font_color03a9f4_205"></a><font color="#03a9f4">结果的再次分析</font></h1>
<p>有了这个函数后，构造main()开始从第0个顶点遍历图1，就是：</p>
<p>进一步测试该函数，按图1的数据仔细分析下它的执行过程，如有图的连接分量不为1，则会在第一个连接分量遍历完成后终止。如下图4，在B1.C中是无法全部遍历完成的。这个图的文件在G4.TXT，修改表23中第5行，从G4.TXT中读数据，则会发现这个程序仅仅遍历了A、B、C、D，而没有到达过E、F、G这三个顶点。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234436449.png#pic_center"/><br/> 这个图该如何遍历呢？请同学们自己修改程序，完成这个图的遍历。<br/> 广度优先遍历到此结束。</p>
<h1><a id="font_color03a9f4C_214"></a><font color="#03a9f4">C#语言实现图的广度优先遍历、并显示广度优先遍历生成树</font></h1>
<p>在C#文件夹中可以找到“Graph0.cs”，这个文件中包含着深度优先遍历、广度优先遍历等程序中的所有图类程序，现在，我们就要在这个类中补充新的方法。<br/> 首先复制这个类到Graph.cs，然后用C#建立一个Windows应用程序，然后在资源管理器中添加这个类，这个类和在深度优先遍历中的类完全一致，但去掉了命名空间说明，这样，这个类就可以使用在其他工程中了。</p>
<p>首先是再次熟悉这个类中的变量定义：</p>
<pre><code class="prism language-csharp"><span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span> A         <span class="token comment">//邻接矩阵</span>
<span class="token keyword">private</span> <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> V       <span class="token comment">//顶点矩阵</span>
<span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> Visited    <span class="token comment">//顶点访问表</span>
<span class="token keyword">private</span> TreeNode<span class="token punctuation">[</span><span class="token punctuation">]</span> T     <span class="token comment">//遍历生成树</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> num          <span class="token comment">//顶点个数</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> ConnComp     <span class="token comment">//连通分量</span>
</code></pre>
<p>找到这个类中的最后一个方法：DSFTraverse()，然后开始在这个方法后补充新方法：DFS()，由于算法和C语言完全一致，此处算法问题不在介绍。</p>
<pre><code class="prism language-c">private <span class="token keyword">void</span> <span class="token function">BFS</span><span class="token punctuation">(</span><span class="token keyword">int</span> N<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> n<span class="token punctuation">;</span>
            Queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> Q <span class="token operator">=</span> new Queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Visited<span class="token punctuation">[</span>N<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
            <span class="token keyword">while</span> <span class="token punctuation">(</span>Q<span class="token punctuation">.</span>Count <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                n <span class="token operator">=</span> Q<span class="token punctuation">.</span><span class="token function">Dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>n<span class="token punctuation">,</span> i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        T<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span>Nodes<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>T<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                        Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
                        Q<span class="token punctuation">.</span><span class="token function">Enqueue</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>这个方法可以从第N个顶点开始遍历，同前面涉及的问题一样，考虑到多次遍历、以及多连通分量的图，我们还要补充下面的方法：</p>
<pre><code class="prism language-c">        public <span class="token keyword">int</span> <span class="token function">BFSTraverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> i<span class="token punctuation">;</span>
            ConnComp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                T<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> new <span class="token function">TreeNode</span><span class="token punctuation">(</span>V<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">BFS</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    ConnComp<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token keyword">return</span> ConnComp<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

</code></pre>
<p>补充完类Graph中两个方法补充后、就可以进行界面设计，设计界面如下：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234606669.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/><br/> 根据图1的界面设计，则广度优先遍历程序中连通分量为1的图在button1下，于是有：</p>
<pre><code class="prism language-csharp"><span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">button1_Click</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">EventArgs</span> e<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
            <span class="token class-name"><span class="token keyword">int</span></span> m<span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span></span> A <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span>
                         <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> V <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"V1"</span><span class="token punctuation">,</span> <span class="token string">"V2"</span><span class="token punctuation">,</span> <span class="token string">"V3"</span><span class="token punctuation">,</span> <span class="token string">"V4"</span><span class="token punctuation">,</span> <span class="token string">"V5"</span><span class="token punctuation">,</span> <span class="token string">"V6"</span><span class="token punctuation">,</span> <span class="token string">"V7"</span><span class="token punctuation">,</span> <span class="token string">"V8"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token class-name">Graph</span> G <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Graph</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            G<span class="token punctuation">.</span>Arc <span class="token operator">=</span> A<span class="token punctuation">;</span> G<span class="token punctuation">.</span>Vertex <span class="token operator">=</span> V<span class="token punctuation">;</span>
            m <span class="token operator">=</span> G<span class="token punctuation">.</span><span class="token function">BFSTraverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            treeView1<span class="token punctuation">.</span>Nodes<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            treeView1<span class="token punctuation">.</span>Nodes<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>DFSResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
            textBox1<span class="token punctuation">.</span>Text <span class="token operator">=</span> <span class="token string">"该图连接分量为"</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>

</code></pre>
<p>由于类设计中、广泛使用了原有的代码，所以这段程序看起来和深度优先遍历的测试代码差别很小。同理，在有多个连通分量的情况下，在button2下的代码是：</p>
<pre><code class="prism language-csharp">        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">button2_Click</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> sender<span class="token punctuation">,</span> <span class="token class-name">EventArgs</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token class-name"><span class="token keyword">int</span></span> m<span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">]</span></span> A <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span>
                       <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> V <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">,</span> <span class="token string">"G"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token class-name">Graph</span> G <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Graph</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            G<span class="token punctuation">.</span>Arc <span class="token operator">=</span> A<span class="token punctuation">;</span> G<span class="token punctuation">.</span>Vertex <span class="token operator">=</span> V<span class="token punctuation">;</span>
            m <span class="token operator">=</span> G<span class="token punctuation">.</span><span class="token function">BFSTraverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            treeView1<span class="token punctuation">.</span>Nodes<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            G<span class="token punctuation">.</span><span class="token function">AddInTreeView</span><span class="token punctuation">(</span>treeView1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            textBox1<span class="token punctuation">.</span>Text <span class="token operator">=</span> <span class="token string">"该图连接分量为"</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

</code></pre>
<p>请自行补充button3下的代码。</p>
<p>程序运行结果就是：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234658433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/>图的广度优先遍历到此结束。通过上述编程我们可以发现：大量使用已有的代码，可以大大简化编程的复杂程度。</p>
<p>问题：</p>
<blockquote>
<p>我们在C#的程序中、并没有使用类似C语言那样的技术：在数据文件中保存图的数据，这首先是基于我们对C#的使用方式造成的，C#最重要的应用场合是连接数据库服务器和前端的用户浏览器，这个场合下C#提供一个正确的运算类就足够了，其数据要来自于数据库，而结果要给到浏览器上的程序。浏览器下的程序就是JavaScript，这样的情况下C#不做数据文件读取、而要做的是数据库上数据读取，至于送到JavaScript，这个对C#、就要通过一种叫WebService的技术，而在JavaScript上、则要用到一种叫Ajax技术读写这些数据，而这些都是下学期的重要实验任务。</p>
</blockquote>
<h1><a id="font_color03a9f4JavaScript_339"></a><font color="#03a9f4">JavaScript语言实现图的广度优先遍历、并显示广度优先遍历生成树</font></h1>
<p>对JavaScript而言，是没有队列类的，尽管数组的类型直接泛型，但仅有栈而无队列。我们需要最低代价完成一个队列系统，所以要再次查看JavaScript数组的所有方法和属性：</p>
<p>其中：FF: Firefox, IE: Internet Explorer</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234814495.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/><br/> 而这个对象提供的属性，则如下表：FF: Firefox, IE: Internet Explorer</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609234848919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70"/><br/> 回顾栈和队列的差异，一个是先进后出、一个是先进先出，查找上述数组的方法，有个方法是reverse()，含义是颠倒数组元素的次序，很显然：</p>
<p>如果进队列是数组的push()操作，那么出队列则就是颠倒数组次序、然后pop()操作，有这个思路，按这个算法构造队列类就是：</p>
<pre><code class="prism language-javascript">		<span class="token keyword">function</span> <span class="token function">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">EnQueue</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">E</span></span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token constant">E</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">DeQueue</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> <span class="token constant">E</span><span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token constant">E</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token constant">E</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">Count</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">Q</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

</code></pre>
<p>一定注意这个类的第13行，颠倒次序出栈后一定要再次颠倒这个数组的次序，保证进栈数据的次序。这样，我们就用最小代价完成了一个队列系统，然后补充多次进出队列的测试网页，就是：</p>
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"Content-Type"</span> content<span class="token operator">=</span><span class="token string">"text/html; charset=gb2312"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>一个调用Ext类库的模板页面<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"Queue.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"ext-3.0.0/adapter/ext/ext-base.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"ext-3.0.0/ext-all.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
   		<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> type<span class="token operator">=</span><span class="token string">"text/css"</span> href<span class="token operator">=</span><span class="token string">"ext-3.0.0/resources/css/ext-all.css"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>  
	<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>body bgcolor<span class="token operator">=</span><span class="token string">"#FFFFFF"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"hello"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">&gt;</span>
		<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">var</span> <span class="token constant">Q</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'&lt;br&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
	     <span class="token punctuation">}</span>
 	Ext<span class="token punctuation">.</span><span class="token function">onReady</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre>
<p>注意第5行一定要引用Queue.js这个文件，否则程序无法运行。</p>
<p><strong>补充广度优先遍历程序</strong></p>
<p>根据广度优先遍历的算法、以及表1的队列对象，不难写出广度优先遍历程序，但写以前我们要回顾深度优先遍历函数的入口参数：</p>
<blockquote>
<p>A[][]: 邻接矩阵<br/> vCount: 顶点个数<br/> m: 进入遍历的顶点编号<br/> Visited[] :顶点访问状态表<br/> T[]: Ext.tree.TreeNode对象数组，遍历结果树</p>
</blockquote>
<p>我们回顾这些的原因是：我们新的遍历函数、也要尽量和旧的方法使用的参数一致，这样就对后续的编程提供了大量的方便。如果意义相近的方法、其函数入口参数差异很大、这样对后续的编程造成很多困惑。</p>
<pre><code class="prism language-javascript"><span class="token comment">//A[][]:     邻接矩阵</span>
<span class="token comment">//vCount:    顶点个数</span>
<span class="token comment">//m:         进入遍历的顶点编号</span>
<span class="token comment">//Visited[] :顶点访问状态表</span>
<span class="token comment">//T[]:       Ext.tree.TreeNode对象数组，遍历结果树</span>
<span class="token keyword">function</span> <span class="token constant">BFS</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">A</span><span class="token punctuation">,</span>vCount<span class="token punctuation">,</span>m<span class="token punctuation">,</span>Visited<span class="token punctuation">,</span><span class="token constant">T</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span>n<span class="token punctuation">;</span>
		<span class="token keyword">var</span> <span class="token constant">Q</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Visited<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
                n <span class="token operator">=</span> <span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        	        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>vCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                	    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	                    <span class="token punctuation">{<!-- --></span>
        	                <span class="token constant">T</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	                        Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
	                        <span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	                    <span class="token punctuation">}</span>			
			<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>表3 JavaScript语言图的广度优先遍历，见工程B0.html</p>
<p>该函数算法不在介绍，程序原理和C、C#没什么差别。</p>
<p><strong>从深度优先遍历网页补充广度优先遍历程序</strong></p>
<p>从深度优先遍历网页G8.html复制文件到B0.html，在F3区域的邻接矩阵编辑窗口补充命令按钮“广度优先遍历”，就是表4.<br/> 对这个表中的程序，注意是一个程序框架，而不是全部。现在就要在合适的位置补充广度优先遍历的初始化程序。</p>
<pre><code class="prism language-javascript"><span class="token keyword">var</span> grid<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ext<span class="token punctuation">.</span>grid<span class="token punctuation">.</span>EditorGridPanel</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			renderTo<span class="token operator">:</span><span class="token string">"GRID"</span><span class="token punctuation">,</span>
			title<span class="token operator">:</span><span class="token string">"图的邻接矩阵编辑"</span><span class="token punctuation">,</span>
			height<span class="token operator">:</span><span class="token number">400</span><span class="token punctuation">,</span>
			width<span class="token operator">:</span><span class="token number">400</span><span class="token punctuation">,</span>
			cm<span class="token operator">:</span>colM<span class="token punctuation">,</span>
			store<span class="token operator">:</span>gstore<span class="token punctuation">,</span>
			tbar<span class="token operator">:</span> <span class="token punctuation">[</span> 
			<span class="token punctuation">{<!-- --></span> 
			text<span class="token operator">:</span> <span class="token string">"深度优先遍历图"</span><span class="token punctuation">,</span>   
			<span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span> 
					<span class="token comment">//已有的深度遍历代码</span>
					<span class="token punctuation">}</span> 
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{<!-- --></span>
			text<span class="token operator">:</span><span class="token string">"广度优先遍历图"</span><span class="token punctuation">,</span>
			<span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span>
			          <span class="token comment">//以下写进遍历的代码</span>
					<span class="token punctuation">}</span> 
			<span class="token punctuation">}</span>
			<span class="token punctuation">]</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
<p>注意表4，其第20行就是补充广度优先遍历程序的地方，这程序本质就是给BFS()准备合适的数据、并初始化、然后调用BFS()函数，所以这地方和深度优先遍历的代码是一致的，于是有：</p>
<pre><code class="prism language-javascript">text<span class="token operator">:</span><span class="token string">"广度优先遍历图"</span><span class="token punctuation">,</span>
<span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token comment">//以下写进遍历的代码</span>
		<span class="token keyword">var</span> m<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> n<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'row'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> Visited<span class="token operator">=</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> <span class="token constant">A</span><span class="token operator">=</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token constant">A</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ext<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span>vstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>text<span class="token operator">:</span>vstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'V'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> r<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'row'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> c<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'col'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> v<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token constant">A</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">var</span> Concom<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> 
				<span class="token punctuation">{<!-- --></span>
				<span class="token constant">BFS</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span>i<span class="token punctuation">,</span>Visited<span class="token punctuation">,</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Concom<span class="token operator">++</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">var</span> <span class="token constant">TR</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ext<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span><span class="token number">10000</span><span class="token punctuation">,</span>text<span class="token operator">:</span><span class="token string">'广度优先遍历树，连通分量'</span><span class="token operator">+</span>Concom<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span>
							<span class="token constant">TR</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		treeView1<span class="token punctuation">.</span><span class="token function">setRootNode</span><span class="token punctuation">(</span><span class="token constant">TR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

</code></pre>
<p>和前面深度优先遍历的程序完全一致，仅仅是调用了不同的遍历函数。</p>
<p><strong>遍历网页的进一步修改和完善：构造图类</strong></p>
<p>从B0.html这个网页程序看，首先在两个遍历的命令按钮程序上有大量重复代码，其次是有关图的计算，其邻接矩阵、顶点矩阵、顶点访问状态矩阵、遍历函数等都是分离的变量和函数，而没有构成一个类、从而也就没有图的对象，这样对后续的编程也造成很多不利。</p>
<p>为此，我们要构造一个JavaScript的图类，整体参照C#。</p>
<p>对任何一个语言的类编程而言，都存在数据如何进入对象、以及数据如何从对象里给出这两个基本问题，在使用Ext过程中，我们熟悉了大量的Ext对象属性获得方法，那么我们这里也将按同样的方法来构造类，详细的介绍参见json教程。以下类名称是Graph，其中G是属性参数：</p>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>Visited<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"Content-Type"</span> content<span class="token operator">=</span><span class="token string">"text/html; charset=gb2312"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>一个调用Ext类库的模板页面<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"G0.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"ext-3.0.0/adapter/ext/ext-base.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"ext-3.0.0/ext-all.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
   		<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> type<span class="token operator">=</span><span class="token string">"text/css"</span> href<span class="token operator">=</span><span class="token string">"ext-3.0.0/resources/css/ext-all.css"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>  
	<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>body bgcolor<span class="token operator">=</span><span class="token string">"#FFFFFF"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"hello"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">&gt;</span>
		<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">var</span> <span class="token constant">G</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			      <span class="token constant">A</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token constant">V</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>Visited<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
			      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	     <span class="token punctuation">}</span>
 	     Ext<span class="token punctuation">.</span><span class="token function">onReady</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre>
<p>注意第16行，其中构造函数的参数里：</p>
<pre><code class="prism language-csharp"><span class="token punctuation">{<!-- --></span>A<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token named-parameter punctuation">V</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string character">'A'</span><span class="token punctuation">,</span><span class="token string character">'B'</span><span class="token punctuation">,</span><span class="token string character">'C'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token named-parameter punctuation">Visited</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre>
<p>整体构成对象G，进入类后，进入表5程序后，由第3到第5行的程序赋值给对象相应的属性。再次参照表5程序，其中的this，对应在表6的程序是G，广义上，实例化的对象就是表5中的this。</p>
<p>有了上述分析，我们就可以在表5的程序中加入一个公共方法，用来获得属性中V数组的内容，代码就是：</p>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>Visited<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">VName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>这样写的方法类似是C#中的public void VName()，这样的写法可以在实例对象中引用这样方法，如：</p>
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"Content-Type"</span> content<span class="token operator">=</span><span class="token string">"text/html; charset=gb2312"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>一个调用Ext类库的模板页面<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"G1.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"ext-3.0.0/adapter/ext/ext-base.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  		<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"ext-3.0.0/ext-all.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
   		<span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> type<span class="token operator">=</span><span class="token string">"text/css"</span> href<span class="token operator">=</span><span class="token string">"ext-3.0.0/resources/css/ext-all.css"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>  
	<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>body bgcolor<span class="token operator">=</span><span class="token string">"#FFFFFF"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">&gt;</span>
	<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	 <span class="token keyword">var</span> <span class="token constant">G</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			      <span class="token constant">A</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			      <span class="token constant">V</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			Visited<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			    num<span class="token operator">:</span><span class="token number">3</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">G</span><span class="token punctuation">.</span><span class="token function">VName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 	Ext<span class="token punctuation">.</span><span class="token function">onReady</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre>
<p>上述过程完成后，可以加入一个求V数组中每行平均值的方法，涉及到求平均值，首先我们需要一个求指定行和的函数，这个函数定义成私有的，如同表9的程序中的Sum()，私有函数定义和普通的JavaScript函数完全一致。</p>
<p>但在实际使用中，错误首先在第17行，表示this.num是没有定义。</p>
<p>造成这样的结果，主要是私有的函数Sum()并不包含在对象中，这点和C#是完全不一样，所以私有函数中要引用对象的数据，要首先获得该对象的实例，就是要有这样的方法：</p>
<pre><code class="prism language-javascript"><span class="token keyword">var</span> Ob<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
…
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>Ob<span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
…
<span class="token punctuation">}</span>

</code></pre>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>Visited<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">VName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">var</span> s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token comment">//私有方法中错误引用对象数据</span>
	s<span class="token operator">+=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">AVG</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> s<span class="token punctuation">;</span>
	s<span class="token operator">=</span><span class="token function">Sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>Visited<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">VName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">var</span> s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token comment">//私有方法中错误引用对象数据</span>
	s<span class="token operator">+=</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">AVG</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> s<span class="token punctuation">;</span>
	s<span class="token operator">=</span><span class="token function">Sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>Visited<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Ob<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token comment">//公共方法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">VName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token comment">//私有方法</span>
<span class="token keyword">function</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">var</span> s<span class="token punctuation">,</span>i<span class="token punctuation">;</span>
s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>Ob<span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	s<span class="token operator">+=</span>Ob<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//公共方法</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">AVG</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> a<span class="token punctuation">;</span>
	a<span class="token operator">=</span><span class="token function">Sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>	
	<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>通过上述实验过程，则有两个遍历方法的图类就是：</p>
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">G</span></span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>Visited<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Ob<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token comment">//私有方法：深度优先遍历</span>
<span class="token keyword">function</span> <span class="token constant">DFS</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">var</span> i<span class="token punctuation">;</span>
Ob<span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>Ob<span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Ob<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>Ob<span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
		Ob<span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>Ob<span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">DFS</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//公共方法：深度优先遍历、以及初始化</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">DSFTraverse</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">,</span>Comcon<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">==</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ext<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span>i<span class="token punctuation">,</span>text<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token constant">DFS</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>Comcon<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
	<span class="token keyword">return</span> Comcon<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token comment">//私有方法：广度优先遍历</span>
<span class="token keyword">function</span> <span class="token constant">BFS</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">,</span>n<span class="token punctuation">;</span>
	<span class="token keyword">var</span> <span class="token constant">Q</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Ob<span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
	        n <span class="token operator">=</span> <span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">DeQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>Ob<span class="token punctuation">.</span>num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
               	    <span class="token keyword">if</span> <span class="token punctuation">(</span>Ob<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> Ob<span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	            <span class="token punctuation">{<!-- --></span>
                        Ob<span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>Ob<span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	                Ob<span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
	                <span class="token constant">Q</span><span class="token punctuation">.</span><span class="token function">EnQueue</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	            <span class="token punctuation">}</span>			
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//公共方法：深度优先遍历、以及初始化</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">BSFTraverse</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i<span class="token punctuation">,</span>Comcon<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">==</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ext<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span>i<span class="token punctuation">,</span>text<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
			<span class="token constant">BFS</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
			Comcon<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
	<span class="token keyword">return</span> Comcon<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token comment">//获得遍历结果树，适应多个连接分量情况下。</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getTree</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre>
<p>有了上述图类后，则相应的界面上“深度优先遍历”按钮下的相应程序就是：</p>
<pre><code class="prism language-javascript">text<span class="token operator">:</span> <span class="token string">"深度优先遍历图"</span><span class="token punctuation">,</span>   
<span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>   
<span class="token comment">//以下写进遍历的代码</span>
	<span class="token keyword">var</span> m<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> n<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'row'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> Visited<span class="token operator">=</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> <span class="token constant">A</span><span class="token operator">=</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		Visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token constant">A</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token comment">//获得邻接矩阵数据							</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">var</span> r<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'row'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> c<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'col'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> v<span class="token operator">=</span>gstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'Value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token constant">A</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>v<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token comment">//获得邻接矩阵数据							</span>
	<span class="token keyword">var</span> <span class="token constant">V</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//获得顶点名称</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>vstore<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token constant">V</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>vstore<span class="token punctuation">.</span><span class="token function">getAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'V'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//用变量给对象各个属性赋值</span>
	<span class="token keyword">var</span> <span class="token constant">G</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
				<span class="token constant">A</span><span class="token operator">:</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">V</span><span class="token operator">:</span><span class="token constant">V</span><span class="token punctuation">,</span><span class="token constant">T</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">,</span>num<span class="token operator">:</span>n<span class="token punctuation">,</span>Visited<span class="token operator">:</span>Visited
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				
	m<span class="token operator">=</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token function">DSFTraverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> <span class="token constant">TR</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ext<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>id<span class="token operator">:</span><span class="token number">10000</span><span class="token punctuation">,</span>text<span class="token operator">:</span><span class="token string">'深度优先遍历树，连通分量'</span><span class="token operator">+</span>m<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token constant">TR</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token constant">G</span><span class="token punctuation">.</span><span class="token function">getTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					
	treeView1<span class="token punctuation">.</span><span class="token function">setRootNode</span><span class="token punctuation">(</span><span class="token constant">TR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   

</code></pre>
<p>上面仅仅给出深度优先遍历的响应程序，广度优先遍历的代码同上述过程基本一样，仅仅是在第32行处为：m=G.BSFTraverse();</p>
<p>到此，JavaScript的两种遍历全部完成，这里，图的数据来自Ext.data.ArrayStore对象，目前是常数定义或者控件输入，以后还要加入Ajax方法、从C#读远程数据库的数据，这都是下学期的任务了。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210609235747287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x1Y2t5NTEyMjI=,size_16,color_FFFFFF,t_70#pic_center"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>