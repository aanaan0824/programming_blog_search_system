<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h2><a id="CIDE1073741819_0xC0000005_0"></a>C++使用IDE运行程序，程序结果正确，但显示进程已结束,退出代码-1073741819 (0xC0000005)</h2>
<p>解决办法过程：</p>
<ol><li>网上有的说是金山词霸，但是本人电脑未装金山词霸。排除此方案。</li><li>继续所搜解决办法：查询到错误代码含义：<code>错误代码0xC0000005在Microsoft Windows中表示“访问冲突”，这相当于Linux的“分段错误”。</code></li><li>根据猜想是否为访问越界：</li><li>然后对程序错误的部分进行按行debug。</li><li>最终发现为<code>vector</code>访问越界。具体情景如下：</li><li>错误相关代码：</li></ol>
<pre><code class="prism language-cpp">   vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>B<span class="token punctuation">{<!-- --></span>id<span class="token punctuation">,</span> <span class="token function">get_Mark_str</span><span class="token punctuation">(</span>records<span class="token punctuation">[</span><span class="token operator">++</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
   cout <span class="token operator">&lt;&lt;</span><span class="token string">"B.size -3: "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"; B[B.size()-3]: "</span> <span class="token operator">&lt;&lt;</span> B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">";B[B.size()-3] == [: "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"["</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span> B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"["</span> <span class="token function">and</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"["</span>  <span class="token operator">or</span> B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
            
</code></pre>
<p>首先初始化了<code>vector</code>，且初始大小为<code>2</code>；<br/> 然后在if语句中：我用<code>B[B.size()-3]</code>进行了对vector的访问。导致访问结果未定义<br/> 有两种访问结果：<br/> 1.程序成功运行：</p>
<pre><code class="prism language-cpp">B<span class="token punctuation">.</span>size <span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> <span class="token number">18446744073709551615</span><span class="token punctuation">;</span> B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">;</span>B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token operator">:</span> <span class="token number">0</span>
  进程已结束<span class="token punctuation">,</span>退出代码<span class="token number">0</span>
</code></pre>
<p>2.程序错误退出：可以看到错误退出是因为，<code>B[B.size()-3]</code> 访问为定义，<br/> 与第一种情况对比发现，在程序在对<code>B[B.size()-3]</code>取值时，发生<code>未定义行为</code>。<br/> 其结果不能正确与 <code>"["</code>作比较。</p>
<pre><code class="prism language-cpp">B<span class="token punctuation">.</span>size <span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> <span class="token number">18446744073709551615</span><span class="token punctuation">;</span> B<span class="token punctuation">[</span>B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">:</span>
进程已结束<span class="token punctuation">,</span>退出代码<span class="token operator">-</span><span class="token number">1073741819</span> <span class="token punctuation">(</span><span class="token number">0xC0000005</span><span class="token punctuation">)</span>
</code></pre>
<p>综上问题出在对vector的访问越界上：<br/> 解决办法：访问前进行<code>vector</code>大小确认，或用<code>.at()</code>进行访问，因为<code>.at()</code>语法在访问<code>vector</code>时会进行越界检查，而<code>[]</code>不会进行越界检查，</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>