<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p>MySQL数据库增删改查（基础操作命令详解）<br/> </p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#MySQL_5">一、MySQL数据库管理（基本命令）</a></li><li><ul><li><a href="#_22">（一）、查看数据库结构</a></li><li><a href="#_71">（二）、创建及删除数据库和表</a></li><li><a href="#_115">（三）、管理表中的数据记录</a></li><li><a href="#_188">（四）、修改表名和表结构</a></li><li><a href="#_260">（五）、数据表高级操作</a></li><li><a href="#_433">（六）、数据库用户管理</a></li><li><a href="#_528">（七）、数据库用户授权</a></li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="MySQL_5"></a>一、MySQL数据库管理（基本命令）</h1>
<p>数据库–&gt;数据表–&gt;行（记录）：用来描述一个对象的信息<br/> 列（字段）：用来描述对象的一个属性</p>
<pre><code class="prism language-sql">常用的数据类型：
<span class="token keyword">int</span> ：整型
<span class="token keyword">float</span> ：单精度浮点	<span class="token number">4</span>字节<span class="token number">32</span>位
<span class="token keyword">double</span> ：双精度浮点	<span class="token number">8</span>字节<span class="token number">64</span>位
<span class="token keyword">char</span> ：固定长度的字符类型
<span class="token keyword">varchar</span> ：可变长度的字符类型
<span class="token keyword">text</span> ：文本
image ：图片
<span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> ：<span class="token number">5</span>个有效长度数字，小数点后面有<span class="token number">2</span>位
</code></pre>
<h2><a id="_22"></a>（一）、查看数据库结构</h2>
<pre><code class="prism language-sql"><span class="token number">1</span>、查看当前服务器中的数据库
<span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span>						<span class="token comment">#大小写不区分，分号“;”表示结束</span>
</code></pre>
<pre><code class="prism language-sql">mysqladmin <span class="token operator">-</span>u root <span class="token operator">-</span>p password <span class="token string">"abc123"</span> 

<span class="token comment">#给root账号设置密码为abc123，提示输入的是原始密码（为空）</span>

mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p

<span class="token comment">#授权远程登录</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220637434.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">2</span>．查看数据库中包含的表
<span class="token keyword">USE</span> 数据库名<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220652411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">3</span>．查看表的结构（字段）
<span class="token keyword">USE</span> 数据库名<span class="token punctuation">;</span>
<span class="token keyword">DESCRIBE</span> <span class="token punctuation">[</span>数据库名<span class="token punctuation">.</span><span class="token punctuation">]</span>表名<span class="token punctuation">;</span>
可缩写成：<span class="token keyword">DESC</span> 表名<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220702120.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p><mark>SQL语句：</mark></p>
<p>SQL语句用于维护管理数据库，包括数据查询、数据更新、访问控制、对象管理等功能。</p>
<p><mark>SQL语言分类：</mark><br/> DDL：数据定义语言，用于创建数据库对象，如库、表、索引等<br/> DML：数据操纵语言，用于对表中的数据进行管理<br/> DQL：数据查询语言，用于从数据表中查找符合条件的数据记录<br/> DCL：数据控制语言，用于设置或者更改数据库用户或角色权限</p>
<h2><a id="_71"></a>（二）、创建及删除数据库和表</h2>
<pre><code class="prism language-sql"><span class="token number">1</span>、创建新的数据库
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> 数据库名<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220739770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">2</span>．创建新的表
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名 <span class="token punctuation">(</span>字段<span class="token number">1</span> 数据类型<span class="token punctuation">,</span>字段<span class="token number">2</span> 数据类型<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>主键名<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#主键一般选择能代表唯一性的字段不允许取空值（NULL），一个表只能有一个主键。</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> CW<span class="token punctuation">;</span>
<span class="token keyword">USE</span> CW<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> MM <span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>age <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>，sex<span class="token punctuation">,</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DESC</span> CW<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220808299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">3</span>．删除指定的数据表
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>数据库名<span class="token punctuation">.</span><span class="token punctuation">]</span>表名<span class="token punctuation">;</span>				<span class="token comment">#如不用USE进入库中，则需加上数据库名</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2021012522081694.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">4</span>．删除指定的数据库
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> 数据库名<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220831998.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_115"></a>（三）、管理表中的数据记录</h2>
<pre><code class="prism language-sql"><span class="token number">1</span>．向数据表中插入新的数据记录
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名<span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span>字段<span class="token number">2</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span>字段<span class="token number">1</span>的值<span class="token punctuation">,</span>字段<span class="token number">2</span>的值<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

例：
<span class="token keyword">insert</span> <span class="token keyword">into</span> CW <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> CW <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'刘德华'</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>两种方法都可以</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> CW<span class="token punctuation">;</span>					<span class="token comment">#查询表的数据记录</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220900510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2021012522090455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">2</span>．查询数据记录
<span class="token keyword">SELECT</span> 字段名<span class="token number">1</span><span class="token punctuation">,</span>字段名<span class="token number">2</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件表达式<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> CW<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age <span class="token keyword">FROM</span> CW <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">select</span> name <span class="token keyword">from</span> CW\G					<span class="token comment">#以列表方式竖向显示</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> CW <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">;</span>				<span class="token comment">#只显示头2行</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> CW <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>			<span class="token comment">#显示第2行后的前3行</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2021012522092777.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220930835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">3</span>．修改、更新数据表中的数据记录
<span class="token keyword">UPDATE</span> 表名 <span class="token keyword">SET</span> 字段名<span class="token number">1</span><span class="token operator">=</span>字段值<span class="token number">1</span><span class="token punctuation">[</span><span class="token punctuation">,</span>字段名<span class="token number">2</span><span class="token operator">=</span>字段值<span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件表达式<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">UPDATE</span> CW <span class="token keyword">SET</span> age<span class="token operator">=</span><span class="token number">25</span> <span class="token keyword">WHERE</span> name<span class="token operator">=</span><span class="token string">'张三'</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> CW <span class="token keyword">SET</span> name<span class="token operator">=</span><span class="token string">'李小龙'</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125220959929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221004910.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">4</span>．在数据表中删除指定的数据记录
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span> 条件表达式<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> CW <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221020299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_188"></a>（四）、修改表名和表结构</h2>
<pre><code class="prism language-sql"><span class="token number">1</span>．修改表名
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 旧表名 <span class="token keyword">RENAME</span> 新表名<span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> CW <span class="token keyword">RENAME</span> MM<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> MM <span class="token keyword">RENAME</span> CW<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221034372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">2</span>．扩展表结构（增加字段）
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> address <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">'地址不详'</span><span class="token punctuation">;</span>
<span class="token comment">#default '地址不详'：表示此字段设置默认值 地址不详；可与 NOT NULL 配合使用</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221051948.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221057828.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">3</span>．修改字段（列）名，添加唯一键
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE 旧列名 新列名 数据类型 <span class="token punctuation">[</span><span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> C	MM CHANGE name user_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">;</span>
<span class="token comment">#CHANGE可修改字段名、数据类型、约束等所有项。</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221130599.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">4</span>．删除字段
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> 字段名<span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">例：
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> KY08 <span class="token keyword">DROP</span> address<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221146873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>案例扩展：</p>
<pre><code class="prism language-sql"><span class="token keyword">use</span> kgc<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> info <span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> zerofill <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>				<span class="token comment">#指定主键的第二种方式</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
cardid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
hobby <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>#if not exists：表示检测要创建的表是否已存在，如果不存在就继续创建<br/> #int(4) zerofill：表示若数值不满4位数，则前面用“0”填充，例0001<br/> #auto_increment：表示此字段为自增长字段，即每条记录自动递增1，默认从1开始递增；自增长字段数据不可以重复；自增长字段必须是主键；如添加的记录数据没有指定此字段的值且添加失败也会自动递增一次<br/> #unique key：表示此字段唯一键约束，此字段数据不可以重复；一张表中只能有一个主键, 但是一张表中可以有多个唯一键<br/> #not null：表示此字段不允许为NULL</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221210880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_260"></a>（五）、数据表高级操作</h2>
<pre><code class="prism language-sql"><span class="token number">1</span>．克隆表，将数据表的数据记录生成到新的表中
方法一：
<span class="token keyword">create</span> <span class="token keyword">table</span> test01 <span class="token operator">like</span> info<span class="token punctuation">;</span>				<span class="token comment">#通过 LIKE 方法，复制 KY08 表结构生成 test01 表</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> test01 <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> info<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221253783.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221258833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql">方法二：
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> test02 <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> test02\G					<span class="token comment">#获取数据表的表结构、索引等信息</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> test02<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2021012522131398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">2</span>．清空表，删除表内的所有数据
方法一：
<span class="token keyword">delete</span> <span class="token keyword">from</span> test01<span class="token punctuation">;</span>
<span class="token comment">#DELETE清空表后，返回的结果内有删除的记录条目；DELETE工作时是一行一行的删除记录数据的；如果表中有自增长字段，使用DELETE FROM 删除所有记录后，再次新添加的记录会从原来最大的记录 ID 后面继续自增写入记录。</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221325891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql">方法二：
<span class="token keyword">truncate</span> <span class="token keyword">table</span> test01<span class="token punctuation">;</span>
<span class="token comment">#TRUNCATE 清空表后，没有返回被删除的条目；TRUNCATE 工作时是将表结构按原样重新建立，因此在速度上 TRUNCATE 会比 DELETE 清空表快；使用 TRUNCATE TABLE 清空表内数据后，ID 会从 1 开始重新记录。</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221340399.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>3．创建临时表<br/> 临时表创建成功之后，使用SHOW TABLES命令是看不到创建的临时表的，临时表会在连接退出后被销毁。 如果在退出连接之前，也可以可执行增删改查等操作，比如使用 DROP TABLE 语句手动直接删除临时表。</p>
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> <span class="token keyword">TABLE</span> 表名 <span class="token punctuation">(</span>字段<span class="token number">1</span> 数据类型<span class="token punctuation">,</span>字段<span class="token number">2</span> 数据类型<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>主键名<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>例：</p>
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">temporary</span> <span class="token keyword">table</span> test03 <span class="token punctuation">(</span>
id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> zerofill <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
cardid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
hobby <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> test03 <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">123456</span><span class="token punctuation">,</span><span class="token string">'running'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test03<span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">quit
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> test03<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221416311.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221419808.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>4．创建外键约束</p>
<p>外键的定义:如果同一个属性字段x在表一中是主键，而在表二中不是主键，则字段x称为表二的外键。</p>
<p>主键表和外键表的理解:<br/> （1）以公共关键字作主键的表为主键表(父表、主表)<br/> （2）以公共关键字作外键的表为外键表（从表、外表）<br/> 注意:与外键关联的主表的字段必须设置为主键。要求从表不能是临时表，主从表的字段具备相同的数据类型、字符长度和约束。<br/> #创建主表test04</p>
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> test04<span class="token punctuation">(</span>hobid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> hobname <span class="token keyword">varchar</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>#创建从表test05</p>
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> test05 <span class="token punctuation">(</span>id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">,</span>age <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>hobid <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>#为主表test04添加一个主键约束。主键名建议以"PK_“开头。</p>
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> test04 <span class="token keyword">add</span> <span class="token keyword">constraint</span> PK_hobid <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>hobid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>#为从表test05表添加外键，并将 test05表的 hobid字段和 test04表的 hobid字段建立外键关联。外键名建议以"FK_"开头。</p>
<pre><code class="prism language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> test05 <span class="token keyword">add</span> <span class="token keyword">constraint</span> FK_hob <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>hobid<span class="token punctuation">)</span> <span class="token keyword">references</span> test04 <span class="token punctuation">(</span>hobid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">desc</span> test05<span class="token punctuation">;</span>
</code></pre>
<p>#插入新的数据记录时，要先主表再从表</p>
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> test04 <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'runing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> test05 <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>#删除数据记录时，要先从从表再主表，也就是说删除主键表必须先删除其他与之关联的表。</p>
<pre><code class="prism language-sql"><span class="token keyword">drop</span> <span class="token keyword">tables</span> test05<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">tables</span> test04<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221443735.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token comment">#查看和删除外键约束</span>
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> test05<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> test05 <span class="token keyword">drop</span> foregin <span class="token keyword">key</span> FK_hob<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> test05 <span class="token keyword">drop</span> <span class="token keyword">key</span> FK_hob<span class="token punctuation">;</span>
<span class="token keyword">desc</span> test05<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221508757.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210125221517512.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p><mark>MySQL中6种常见的约束：</mark></p>
<pre><code class="prism language-sql">主键约束（<span class="token keyword">primary</span> <span class="token keyword">key</span>）
外键约束（<span class="token keyword">foreign</span> <span class="token keyword">key</span>）
非空约束（<span class="token operator">not</span> <span class="token boolean">null</span>）
唯一性约束（<span class="token keyword">unique</span> <span class="token punctuation">[</span><span class="token keyword">key</span><span class="token operator">|</span><span class="token keyword">index</span><span class="token punctuation">]</span>）
默认值约束（<span class="token keyword">default</span>）
自增约束（<span class="token keyword">auto_increment</span>）
</code></pre>
<h2><a id="_433"></a>（六）、数据库用户管理</h2>
<p>1．新建用户<br/> CREATE USER ‘用户名’@‘来源地址’ [IDENTIFIED BY [PASSWORD] ‘密码’];</p>
<p>‘用户名’：指定将创建的用户名<br/> ‘来源地址’：指定新创建的用户可在哪些主机上登录，可使用IP地址、网段、主机名的形式，本地用户可用localhost，允许任意主机登录可用通配符%<br/> ‘密码’：若使用明文密码，直接输入’密码’，插入到数据库时由Mysql自动加密；<br/> 若使用加密密码，需要先使用SELECT PASSWORD(‘密码’); 获取密文，再在语句中添加 PASSWORD ‘密文’;<br/> 若省略“IDENTIFIED BY”部分，则用户的密码将为空（不建议使用）</p>
<p>2．查看用户信息<br/> #创建后的用户保存在 mysql 数据库的 user 表里</p>
<pre><code class="prism language-sql"><span class="token keyword">USE</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token keyword">User</span><span class="token punctuation">,</span>authentication_string<span class="token punctuation">,</span>Host <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144545434.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144549478.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>3．重命名用户</p>
<pre><code class="prism language-sql"><span class="token keyword">RENAME</span> <span class="token keyword">USER</span> <span class="token string">'zhangsan'</span>@'localhost<span class="token string">' TO '</span>lisi<span class="token string">'@'</span>localhost'<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144558830.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>4．删除用户</p>
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">'lisi'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144609435.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>5．修改当前登录用户密码</p>
<pre><code class="prism language-sql"><span class="token keyword">SET</span> PASSWORD <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'abc123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144617529.png"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144620880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>6．修改其他用户密码</p>
<pre><code class="prism language-sql"><span class="token keyword">SET</span> PASSWORD <span class="token keyword">FOR</span> <span class="token string">'user1'</span>@'localhost<span class="token string">' = PASSWORD('</span>abc123'<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>7．忘记 root 密码的解决办法</p>
<pre><code class="prism language-sql">（<span class="token number">1</span>）修改 <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf 配置文件，不使用密码直接登录到 mysql
vim <span class="token operator">/</span>etc<span class="token operator">/</span>my<span class="token punctuation">.</span>cnf
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
skip<span class="token operator">-</span><span class="token keyword">grant</span><span class="token operator">-</span><span class="token keyword">tables</span>					<span class="token comment">#添加，使登录mysql不使用授权表</span>

systemctl restart mysqld

mysql								<span class="token comment">#直接登录</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144635240.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144638373.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<p>（2）使用 update 修改 root 密码，刷新数据库</p>
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">SET</span> AUTHENTICATION_STRING <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'abc123'</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>

FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
quit

mysql <span class="token operator">-</span>u root <span class="token operator">-</span>pabc123
</code></pre>
<p>注意：最后再把 /etc/my.cnf 配置文件里的 skip-grant-tables 删除，并重启 mysql 服务。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144649525.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_528"></a>（七）、数据库用户授权</h2>
<p>1．授予权限<br/> GRANT语句：专门用来设置数据库用户的访问权限。当指定的用户名不存在时，GRANT语句将会创建新的用户；当指定的用户名存在时，GRANT 语句用于修改用户信息。</p>
<p>GRANT 权限列表 ON 数据库名.表名 TO ‘用户名’@‘来源地址’ [IDENTIFIED BY ‘密码’];</p>
<p>#权限列表：用于列出授权使用的各种数据库操作，以逗号进行分隔，如“select,insert,update”。使用“all”表示所有权限，可授权执行任何操作。<br/> #数据库名.表名：用于指定授权操作的数据库和表的名称，其中可以使用通配符“<em>”。例如，使用“kgc.</em>”表示授权操作的对象为 kgc数据库中的所有表。<br/> #‘用户名@来源地址’：用于指定用户名称和允许访问的客户机地址，即谁能连接、能从哪里连接。来源地址可以是域名、IP 地址，还可以使用“%”通配符，表示某个区域或网段内的所有地址，如“%.kgc.com”、“192.168.80.%”等。<br/> #IDENTIFIED BY：用于设置用户连接数据库时所使用的密码字符串。在新建用户时，若省略“IDENTIFIED BY”部分， 则用户的密码将为空。</p>
<pre><code class="prism language-sql"><span class="token comment">#允许用户chenwei 在本地查询 kgc 数据库中 所有表的数据记录，但禁止查询其他数据库中的表的记录。</span>
<span class="token keyword">GRANT</span> <span class="token keyword">select</span> <span class="token keyword">ON</span> cw<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'chenwei'</span>@'localhost<span class="token string">' IDENTIFIED BY '</span><span class="token number">123456</span>'<span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">mysql <span class="token operator">-</span>u chenwei <span class="token operator">-</span>p123456
<span class="token keyword">use</span> cw<span class="token punctuation">;</span>
<span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> info<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144713946.png"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144717760.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144721100.png"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144724319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token comment">#允许用户 mm 在所有终端远程连接 mysql ，并拥有所有权限。</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token punctuation">[</span><span class="token keyword">PRIVILEGES</span><span class="token punctuation">]</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'mm'</span>@'<span class="token operator">%</span><span class="token string">' IDENTIFIED BY '</span><span class="token number">123456</span>'<span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql">flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
quit
</code></pre>
<pre><code class="prism language-sql"><span class="token number">2</span>．查看权限
<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> 用户名@来源地址<span class="token punctuation">;</span>
</code></pre>
<p>例：</p>
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">'lisi'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144752273.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token number">3</span>．撤销权限
<span class="token keyword">REVOKE</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">FROM</span> 用户名@来源地址<span class="token punctuation">;</span>
</code></pre>
<p>例：</p>
<pre><code class="prism language-sql"><span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token keyword">FROM</span> <span class="token string">'lisi'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">'lisi'</span><span class="token variable">@'%'</span><span class="token punctuation">;</span>
<span class="token comment">#USAGE权限只能用于数据库登陆，不能执行任何操作；USAGE权限不能被回收，即 REVOKE 不能删除用户。</span>

flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210126144809748.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTU3Mzc3MQ==,size_16,color_FFFFFF,t_70"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>