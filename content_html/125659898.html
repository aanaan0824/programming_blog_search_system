<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h1><a id="Qt_c__0"></a>Qt c++ 快速输出当前时间，精确到毫秒</h1>
<p>项目中我们常常需要记录时间，有的只需要大致时间，但有的需要精确到毫秒。今天就集中罗列几种常用的时间具体获取方式。</p>
<h3><a id="QDateTimecurrentDateTime_4"></a>方法一：用QDateTime::currentDateTime()函数</h3>
<p>通过调用QDateTime::currentDateTime()函数获取当前时间，然后qDebug()输出。</p>
<pre><code class="prism language-cpp"><span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss.zzz"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_QTimecurrentTime_13"></a>方法二：用 QTime::currentTime()函数</h3>
<p>通过调用QTime::currentTime()函数，通过访问结构体内小时、分钟、秒钟、毫秒的方式，实现分布输出。</p>
<pre><code class="prism language-cpp">QTime current_time <span class="token operator">=</span> <span class="token class-name">QTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> hour <span class="token operator">=</span> current_time<span class="token punctuation">.</span><span class="token function">hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//当前的小时</span>
<span class="token keyword">int</span> minute <span class="token operator">=</span> current_time<span class="token punctuation">.</span><span class="token function">minute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//当前的分</span>
<span class="token keyword">int</span> second <span class="token operator">=</span> current_time<span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//当前的秒</span>
<span class="token keyword">int</span> msec <span class="token operator">=</span> current_time<span class="token punctuation">.</span><span class="token function">msec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//当前的毫秒</span>
</code></pre>
<h3><a id="log_25"></a>方法三：用打log的方式</h3>
<p>写一个实现同步记录log的类对象，来对当前程序中的进度进行具体时间和内容的输出。<br/> 特点：时间准确，且不影响主线程。log记录在本地，可以便于追溯和比对。</p>
<p>具体实现方式，下次有空再具体记录。</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>