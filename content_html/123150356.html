<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>C++map和set的介绍及使用</h3>
<ul><li><a href="#_3">零、前言</a></li><li><a href="#_7">一、关联式容器</a></li><li><a href="#_24">二、键值对</a></li><li><a href="#Cset_51">三、C++中的set</a></li><li><ul><li><a href="#1set_53">1、set的介绍</a></li><li><a href="#2set_73">2、set的使用</a></li></ul>
</li><li><a href="#Cmultiset_211">四、C++中的multiset</a></li><li><a href="#Cmap_237">五、C++中的map</a></li><li><ul><li><a href="#1map_239">1、map的介绍</a></li><li><a href="#2map_257">2、map的使用</a></li></ul>
</li><li><a href="#Cmultimap_435">六、C++中的multimap</a></li></ul>
</div>
<p></p>
<h1><a id="_3"></a>零、前言</h1>
<blockquote>
<p>本章主要讲解C++中的一个关联式容器map和set的介绍及其使用</p>
</blockquote>
<h1><a id="_7"></a>一、关联式容器</h1>
<ul><li>容器分类：</li></ul>
<blockquote>
<ol><li> <p>序列式容器：初阶阶段中学习过STL中的部分容器，如：vector、list、deque等，这些容器统称为序列式容器，因为其底层为线性序列的数据结构，里面存储的是元素本身</p> </li><li> <p>关联式容器：关联式容器也是用来存储数据的，与序列式容器不同的是，其里面存储的是&lt;key, value&gt;结构的键值对（保存映射关系），在数据检索时比序列式容器效率更高</p> </li></ol>
</blockquote>
<blockquote>
<p>根据应用场景的不同，STL总共实现了两种不同结构的关联式式容器：树型结构与哈希结构</p>
</blockquote>
<ul><li>关联式容器：</li></ul>
<table><thead><tr><th>关联式容器</th><th>容器结构</th><th>底层实现</th></tr></thead><tbody><tr><td>set、map、multiset、multimap</td><td>树型结构</td><td>平衡搜索树（红黑树）</td></tr><tr><td>unordered_set、unordered_map、unordered_multiset、unordered_multimap</td><td>哈希结构</td><td>哈希表，哈希桶</td></tr></tbody></table>
<h1><a id="_24"></a>二、键值对</h1>
<ul><li>概念：</li></ul>
<blockquote>
<p>用来表示具有一一对应关系的一种结构，该结构中一般只包含两个成员变量key和value，key代表键值，value表示与key对应的信息</p>
</blockquote>
<ul><li>示例：</li></ul>
<blockquote>
<p>现在要建立一个英汉互译的字典，那该字典中必然有英文单词与其对应的中文含义，而且，英文单词与其中文含义是一一对应的关系，即通过该应该单词，在词典中就可以找到与其对应的中文含义</p>
</blockquote>
<ul><li>SGI-STL中关于键值对的定义：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">pair</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">typedef</span> T1 first_type<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> T2 second_type<span class="token punctuation">;</span>
T1 first<span class="token punctuation">;</span>
T2 second<span class="token punctuation">;</span>
<span class="token function">pair</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token function">T1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token function">T2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token function">pair</span><span class="token punctuation">(</span><span class="token keyword">const</span> T1<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> T2<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">first</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">second</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h1><a id="Cset_51"></a>三、C++中的set</h1>
<h2><a id="1set_53"></a>1、set的介绍</h2>
<ul><li>概念：</li></ul>
<blockquote>
<ol><li> <p>set是按照一定次序存储元素的容器，这种次序使用set的迭代器遍历set中的元素，可以得到有序序列</p> <p>注：与map/multimap不同，map/multimap中存储的是真正的键值对&lt;key, value&gt;，set中只放value，但在底层实际存放的是由&lt;value, value&gt;构成的键值对</p> </li><li> <p>在set中，元素的value也标识它(value就是key，类型为T)，set中插入元素时，只需要插入value即可，不需要构造键值对，并且每个value必须是唯一的（可以使用set进行去重）</p> <p>注：set中的元素不能在容器中修改(元素总是const，修改无法保证数据的次序)，但是可以从容器中插入或删除它们</p> </li><li> <p>在内部，set中的元素总是按照其内部比较对象(类型比较)所指示的特定严格弱排序准则进行排序注：默认按照小于来比较，中序遍历后为升序序列</p> </li><li> <p>set容器通过key访问单个元素的速度通常比unordered_set容器慢，但它们允许根据顺序对子集进行直接迭代</p> </li><li> <p>set在底层是用二叉搜索树(红黑树)实现的</p> <p>注：接近完全二叉树，查找的时间复杂度为logN</p> </li></ol>
</blockquote>
<h2><a id="2set_73"></a>2、set的使用</h2>
<ul><li>set的模板参数列表：</li></ul>
<img alt="image-20220224194135975" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271439143.png"/>
<ul><li>解释：</li></ul>
<blockquote>
<ol><li> <p>T: set中存放元素的类型，实际在底层存储&lt;value, value&gt;的键值对</p> </li><li> <p>Compare：比较方法，set中元素默认按照小于来比较（中序遍历为升序）</p> </li><li> <p>Alloc：set中元素空间的管理方式，使用STL提供的空间配置器管理</p> </li></ol>
</blockquote>
<blockquote>
<p>注意：在使用set时，需要包含头文件set</p>
</blockquote>
<ul><li>set的构造：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能介绍</th></tr></thead><tbody><tr><td>set (const Compare&amp; comp = Compare());</td><td>构造空的set</td></tr><tr><td>set (InputIterator first, InputIterator last, const Compare&amp; comp = Compare());</td><td>用[first, last)区间 中的元素构造set</td></tr><tr><td>set ( const set&lt;Key,Compare&gt;&amp; x);</td><td>set的拷贝构造</td></tr></tbody></table>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testset1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> set1<span class="token punctuation">;</span><span class="token comment">//空构造</span>
	<span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set2</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> num<span class="token operator">+</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对于数组使用原生指针构造</span>
	set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set3</span><span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拷贝构造</span>
	<span class="token comment">// 范围for打印，从打印结果中可以看出：set可去重</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> set3<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<img alt="image-20220224201435145" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271439451.png"/>
<ul><li>set的迭代器：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能介绍</th></tr></thead><tbody><tr><td>iterator begin()</td><td>返回set中起始位置元素的迭代器</td></tr><tr><td>iterator end()</td><td>返回set中最后一个元素后面的迭代器</td></tr><tr><td>const_iterator cbegin() const</td><td>返回set中起始位置元素的const迭代器</td></tr><tr><td>const_iterator cend() const</td><td>返回set中最后一个元素后面的const迭代器</td></tr><tr><td>reverse_iterator rbegin()</td><td>返回set第一个元素的反向迭代器，即end</td></tr><tr><td>reverse_iterator rend()</td><td>返回set最后一个元素下一个位置的反向迭代器，即 rbegin</td></tr><tr><td>const_reverse_iterator crbegin() const</td><td>返回set第一个元素的反向const迭代器，即cend</td></tr><tr><td>const_reverse_iterator crend() const</td><td>返回set最后一个元素下一个位置的反向const迭代器， 即crbegin</td></tr></tbody></table>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testset2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set1</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> num <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//对于数组使用原生指针构造</span>
	<span class="token comment">// 范围for打印，从打印结果中可以看出：set可去重</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> set1<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//迭代器正向遍历</span>
	<span class="token keyword">auto</span> it1 <span class="token operator">=</span> set1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it1 <span class="token operator">!=</span> set1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it1 <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		it1<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//迭代器反向遍历</span>
	<span class="token keyword">auto</span> it2 <span class="token operator">=</span> set1<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it2 <span class="token operator">!=</span> set1<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it2 <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		it2<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<p><img alt="image-20220224202010972" src="https://img-blog.csdnimg.cn/img_convert/864febe76333757ede9f7792322bedb8.png"/></p>
<ul><li>set的容量：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能介绍</th></tr></thead><tbody><tr><td>bool empty ( ) const</td><td>检测set是否为空，空返回true，否则返回true</td></tr><tr><td>size_type size() const</td><td>返回set中有效元素的个数</td></tr></tbody></table>
<ul><li>set修改操作：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能介绍</th></tr></thead><tbody><tr><td>pair&lt;iterator,bool&gt; insert ( const value_type&amp; x )</td><td>在set中插入元素x，实际插入的是&lt;x, x&gt;构成的键值对， 如果插入成功，返回&lt;该元素在set中的位置，true&gt;,如果 插入失败，说明x在set中已经存在，返回&lt;x在set中的位 置，false&gt;</td></tr><tr><td>void erase ( iterator position )</td><td>删除set中position位置上的元素</td></tr><tr><td>size_type erase ( const key_type&amp; x )</td><td>删除set中值为x的元素，返回删除的元素的个数</td></tr><tr><td>void erase ( iterator first, iterator last )</td><td>删除set中[first, last)区间中的元素</td></tr><tr><td>void swap ( set&lt;Key,Compare,Allocator&gt;&amp; st );</td><td>交换set中的元素</td></tr><tr><td>void clear ( )</td><td>将set中的元素清空</td></tr><tr><td>iterator find ( const key_type&amp; x ) const</td><td>返回set中值为x的元素的位置</td></tr><tr><td>size_type count ( const key_type&amp; x ) const</td><td>返回set中值为x的元素的个数</td></tr></tbody></table>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testset3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> set<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> e <span class="token operator">:</span> num<span class="token punctuation">)</span><span class="token comment">//插入</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">auto</span> ret<span class="token operator">=</span>set<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">.</span>second <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
			cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">"插入失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> set<span class="token punctuation">)</span><span class="token comment">//遍历</span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"count 5:"</span> <span class="token operator">&lt;&lt;</span> set<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	set<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> set<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<p><img alt="image-20220224202852151" src="https://img-blog.csdnimg.cn/img_convert/f48e7a17255c796fa7880b715a9c91fd.png"/></p>
<h1><a id="Cmultiset_211"></a>四、C++中的multiset</h1>
<ul><li>multiset的介绍：</li></ul>
<blockquote>
<p>multiset容器与set容器实现和接口基本一致，唯一区别就是，multiset允许键值冗余，即multiset容器当中存储的元素是可以重复的</p>
</blockquote>
<blockquote>
<p>注意：对于find来说multiset返回底层搜索树中序的第一个键值为key的元素的迭代器</p>
</blockquote>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">TestMSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">// 允许键值冗余</span>
	multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">s</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> array <span class="token operator">+</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> s<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<img alt="image-20220224210117951" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271439718.png"/>
<h1><a id="Cmap_237"></a>五、C++中的map</h1>
<h2><a id="1map_239"></a>1、map的介绍</h2>
<ul><li>概念：</li></ul>
<blockquote>
<ol><li> <p>map是关联容器，它按照特定的次序(按照key来比较)存储由键值key和值value组合而成的元素</p> </li><li> <p>在map中，键值key通常用于排序和惟一地标识元素，而值value中存储与此键值key关联的内容。键值key和值value的类型可能不同，并且在map的内部，key与value通过成员类型value_type绑定在一起，为其取别名称为pair:typedef pair value_type;</p> </li><li> <p>在内部map中的元素总是按照键值key进行比较排序以及查找</p> </li><li> <p>map中通过键值访问单个元素的速度通常比unordered_map容器慢，但map允许根据顺序对元素进行直接迭代(即对map中的元素进行迭代时，可以得到一个有序的序列)</p> </li><li> <p>map支持下标访问符，即在[]中放入key，就可以找到与key对应的value（这里是在insert上的一个封装）</p> </li><li> <p>map通常被实现为二叉搜索树(更准确的说：平衡二叉搜索树(红黑树)</p> </li></ol>
</blockquote>
<blockquote>
<p>注：set和map基本差不多，但是set是k模型，而map是kv模型，这导致在部分地方又有些不一样</p>
</blockquote>
<h2><a id="2map_257"></a>2、map的使用</h2>
<ul><li>map的模板参数说明:</li></ul>
<img alt="image-20220224203234819" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271439590.png"/>
<ul><li>解释：</li></ul>
<blockquote>
<ol><li> <p>key: 键值对中key的类型</p> </li><li> <p>T： 键值对中value的类型</p> </li><li> <p>Compare: 比较器的类型，map中的元素是按照key来比较的，缺省情况下按照小于来比较，一般情况<br/> 下(内置类型元素)该参数不需要传递，如果无法比较时(自定义类型)，需要用户自己显式传递比较规则<br/> (一般情况下按照函数指针或者仿函数来传递)</p> </li><li> <p>Alloc：通过空间配置器来申请底层空间，不需要用户传递，除非用户不想使用标准库提供的空间配置器</p> </li></ol>
</blockquote>
<blockquote>
<p>注意：在使用map时，需要包含头文件map</p>
</blockquote>
<ul><li>map的构造：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能介绍</th></tr></thead><tbody><tr><td>map (K,V);</td><td>构造空的map</td></tr><tr><td>map (InputIterator first, InputIterator last, const Compare&amp; comp = Compare());</td><td>用[first, last)区间 中的元素构造map</td></tr><tr><td>map ( const map&lt;Key,Value,Compare&gt;&amp; x);</td><td>map的拷贝构造</td></tr></tbody></table>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testmap1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> map1<span class="token punctuation">;</span><span class="token comment">//空构造</span>
	<span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> num<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		map1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">map2</span><span class="token punctuation">(</span>map1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>map1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//迭代区间构造</span>
	map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">map3</span><span class="token punctuation">(</span>map2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拷贝构造</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> map3<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<p><img alt="image-20220224223634665" src="https://img-blog.csdnimg.cn/img_convert/b4653a1bde01c52cb3ac4ec6d0e5b7a9.png"/></p>
<ul><li>map的迭代器：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能介绍</th></tr></thead><tbody><tr><td>begin()和end()</td><td>begin:首元素的位置，end最后一个元素的下一个位置</td></tr><tr><td>cbegin()和cend()</td><td>与begin和end意义相同，但cbegin和cend所指向的元素不能修改</td></tr><tr><td>rbegin()和rend()</td><td>反向迭代器，rbegin在end位置，rend在begin位置，其++和–操作与 begin和end操作移动相反</td></tr><tr><td>crbegin()和crend()</td><td>与rbegin和rend位置相同，操作相同，但crbegin和crend所指向的元 素不能修改</td></tr></tbody></table>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testmap2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> map1<span class="token punctuation">;</span><span class="token comment">//空构造</span>
	<span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> num<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//map1.insert(pair&lt;int,int&gt;(e, e));</span>
		map1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//等同于</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//迭代器正向遍历</span>
	<span class="token keyword">auto</span> it1 <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it1 <span class="token operator">!=</span> map1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//cout &lt;&lt; (*it1).first &lt;&lt; ":"&lt;&lt;(*it1).second&lt;&lt;endl;</span>
		cout <span class="token operator">&lt;&lt;</span> it1<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span><span class="token operator">&lt;&lt;</span>it1<span class="token operator">-&gt;</span>second<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//等同于</span>
		it1<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//迭代器反向遍历</span>
	<span class="token keyword">auto</span> it2 <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it2 <span class="token operator">!=</span> map1<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> it2<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it2<span class="token operator">-&gt;</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//等同于</span>
		it2<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<img alt="image-20220224224158470" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271439567.png"/>
<ul><li>map的容量与元素访问：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能简介</th></tr></thead><tbody><tr><td>bool empty ( ) const</td><td>检测map中的元素是否为空，是返回true，否则 返回false</td></tr><tr><td>size_type size() const</td><td>返回map中有效元素的个数</td></tr><tr><td>mapped_type&amp; operator[] (const key_type&amp; k)</td><td>返回key对应的value</td></tr></tbody></table>
<ul><li>operator[]的使用：</li></ul>
<p><img alt="image-20220224224704417" src="https://img-blog.csdnimg.cn/img_convert/a0ab7538506b4b166d924c0aaa45ff9a.png"/></p>
<ul><li>解释：</li></ul>
<blockquote>
<p>在元素访问时，operator[]通过key找到与key对应的value然后返回其引用，当key不存在时，operator[]用默认value与key构造键值对然后插入，返回该默认value</p>
</blockquote>
<ul><li>示例：做统计</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testmap3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> countmap<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> arr<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		countmap<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token comment">//当不存在对应key则插入键值pair(e,int()),这里的int()即是0 返回0再++</span>
		<span class="token comment">//当存在对应key则返回对应的value，再++</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">auto</span> it1 <span class="token operator">=</span> countmap<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it1 <span class="token operator">!=</span> countmap<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//cout &lt;&lt; (*it1).first &lt;&lt; ":"&lt;&lt;(*it1).second&lt;&lt;endl;</span>
		cout <span class="token operator">&lt;&lt;</span> it1<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> it1<span class="token operator">-&gt;</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//等同于</span>
		it1<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<img alt="image-20220224234833679" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271438131.png"/>
<ul><li>map中元素的修改：</li></ul>
<table><thead><tr><th>函数声明</th><th>功能简介</th></tr></thead><tbody><tr><td>pair&lt;iterator,bool&gt; insert ( const value_type&amp; x )</td><td>在map中插入键值对x，注意x是一个键值对，返回值 也是键值对：iterator代表新插入元素的位置，bool代 表释放插入成功</td></tr><tr><td>void erase ( iterator position )</td><td>删除position位置上的元素</td></tr><tr><td>size_type erase ( const key_type&amp; x )</td><td>删除键值为x的元素</td></tr><tr><td>void erase ( iterator first, iterator last )</td><td>删除[first, last)区间中的元素</td></tr><tr><td>void swap ( map&lt;Key,T,Compare,Allocator&gt;&amp; mp )</td><td>交换两个map中的元素</td></tr><tr><td>void clear ( )</td><td>将map中的元素清空</td></tr><tr><td>iterator find ( const key_type&amp; x )</td><td>在map中插入key为x的元素，找到返回该元素的位置 的迭代器，否则返回end</td></tr><tr><td>const_iterator find ( const key_type&amp; x ) const</td><td>在map中插入key为x的元素，找到返回该元素的位置 的const迭代器，否则返回cend</td></tr><tr><td>size_type count ( const key_type&amp; x ) const</td><td>返回key为x的键值在map中的个数，注意map中key 是唯一的，因此该函数的返回值要么为0，要么为1，因 此也可以用该函数来检测一个key是否在map中</td></tr></tbody></table>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testmap4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> map<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> e <span class="token operator">:</span> num<span class="token punctuation">)</span><span class="token comment">//插入</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">auto</span> ret <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">.</span>second <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
			cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">"插入失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> map<span class="token punctuation">)</span><span class="token comment">//遍历</span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"count 5:"</span> <span class="token operator">&lt;&lt;</span> map<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	map<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> map<span class="token punctuation">)</span><span class="token comment">//遍历</span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<img alt="image-20220225101953757" src="https://typoracole.oss-cn-guangzhou.aliyuncs.com/blogimage-master/blogimage-master/https_/gitee.com/zheng-guijun/blogimage/202202271438158.png"/>
<h1><a id="Cmultimap_435"></a>六、C++中的multimap</h1>
<ul><li>multimap的介绍：</li></ul>
<blockquote>
<p>multimap容器与map容器的底层实现以及成员函数的接口都是基本一致，区别是multimap允许键值冗余，即multimap容器当中存储的元素是可以重复的</p>
</blockquote>
<ul><li>注意：</li></ul>
<blockquote>
<ol><li> <p>对于find来说multimap返回底层搜索树中序的第一个键值为key的元素的迭代器</p> </li><li> <p>由于multimap容器允许键值冗余，调用[ ]运算符重载函数时，应该返回键值为key的哪一个元素的value的引用存在歧义，因此在multimap容器当中没有实现[ ]运算符重载函数</p> </li></ol>
</blockquote>
<ul><li>示例：</li></ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">testMmap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> string<span class="token operator">&gt;</span> mm<span class="token punctuation">;</span>
	<span class="token comment">//允许键值冗余</span>
	mm<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mm<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"double"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mm<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mm<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"second"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mm<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"one"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mm<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> mm<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//从第一个2找起，遍历到最后一个</span>
	<span class="token keyword">auto</span> pos <span class="token operator">=</span> mm<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> mm<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> pos<span class="token operator">-&gt;</span>first <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-&gt;</span>first <span class="token operator">&lt;&lt;</span> <span class="token string">":"</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-&gt;</span>second <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		pos<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>结果：</li></ul>
<p><img alt="image-20220225103601191" src="https://img-blog.csdnimg.cn/img_convert/08f4a12726792f31e88e0b038def0062.png"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>