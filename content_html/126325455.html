<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<blockquote>
<p>ğŸ“ä¸ªäººä¸»é¡µï¼š<a href="https://blog.csdn.net/Javascript_tsj?type=blog" title="ä¸ªäººä¸»é¡µ">ä¸ªäººä¸»é¡µ</a></p>
<p>ğŸ’ç³»åˆ—ä¸“æ ï¼š<a href="https://blog.csdn.net/javascript_tsj/category_11957185.html?spm=1001.2014.3001.5482" title="SSMæ¡†æ¶">SSMæ¡†æ¶</a></p>
<p>ğŸ’¬æ¨èä¸€æ¬¾æ¨¡æ‹Ÿé¢è¯•ã€åˆ·é¢˜ç¥å™¨ï¼Œä»åŸºç¡€åˆ°å¤§å‚é¢è¯•é¢˜ğŸ‘‰<a href="https://www.nowcoder.com/link/pc_csdncpt_xbb_java" title="ç‚¹å‡»è·³è½¬åˆ·é¢˜ç½‘ç«™è¿›è¡Œæ³¨å†Œå­¦ä¹ ">ç‚¹å‡»è·³è½¬åˆ·é¢˜ç½‘ç«™è¿›è¡Œæ³¨å†Œå­¦ä¹ </a></p>
</blockquote>
<p id="main-toc"><strong>ç›®å½•</strong></p>
<p id="-toc" style="margin-left:40px;"></p>
<p id="1.%E5%88%9B%E5%BB%BAsqlSession%E5%B7%A5%E5%85%B7%E7%B1%BB-toc" style="margin-left:40px;"><a href="#1.%E5%88%9B%E5%BB%BAsqlSession%E5%B7%A5%E5%85%B7%E7%B1%BB">1.åˆ›å»ºsqlSessionå·¥å…·ç±»</a></p>
<p id="2.%E6%B5%8B%E8%AF%95%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#2.%E6%B5%8B%E8%AF%95%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD">2.æµ‹è¯•ä¿®æ”¹åŠŸèƒ½</a></p>
<p id="3.%E6%B5%8B%E8%AF%95%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#3.%E6%B5%8B%E8%AF%95%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD">3.æµ‹è¯•åˆ é™¤åŠŸèƒ½</a></p>
<p id="%C2%A04.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#%C2%A04.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD"> 4.æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½</a></p>
<hr id="hr-toc"/>
<p></p>
<h2 id="1.%E5%88%9B%E5%BB%BAsqlSession%E5%B7%A5%E5%85%B7%E7%B1%BB"><span style="color:#4da8ee;">1.åˆ›å»ºsqlSessionå·¥å…·ç±»</span></h2>
<p>åœ¨<a href="https://so.csdn.net/so/search?q=MyBatis&amp;spm=1001.2101.3001.7020" title="MyBatis">MyBatis</a> ä½¿ç”¨ä¸­ï¼Œå¦‚æœæ¯ä¸ªæ–¹æ³•æ‰§è¡Œæ—¶éƒ½éœ€è¦è¯»å–é…ç½®æ–‡ä»¶ï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶çš„ä¿¡æ¯æ„å»ºSqlSessionFactoryå¯¹è±¡ï¼Œç„¶ååˆ›å»ºSqlSession å¯¹è±¡ï¼Œ<strong><span style="background-color:#ffd900;">è¿™ä¼šå¯¼è‡´ç±»å¤§é‡çš„é‡å¤ä»£ç ã€‚ä¸ºäº†ç®€åŒ–å¼€å‘ï¼Œéœ€è¦å°†é‡å¤ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»ä¸­</span></strong>ã€‚å¦‚ä¸‹ï¼š</p>
<p><img alt="" height="826" src="image\b47f0008a4ce4978ba0c2da62649bd1e.png" width="1200"/></p>
<p></p>
<pre><code class="language-java">package com.atguigu.mybatis.utils;

import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;

import java.io.IOException;
import java.io.InputStream;

public class SqlSessionUtils {

    public SqlSession getSqlSession() {
        SqlSession sqlSession = null;
        {
            try {
                InputStream  is = Resources.getResourceAsStream("mybatis-config.xml");
                SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
                SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
                sqlSession = sqlSessionFactory.openSession(true);
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return sqlSession;
    }




}
</code></pre>
<p></p>
<blockquote>
<p>åé¢çš„<strong> ä¿®æ”¹ åˆ é™¤ æŸ¥è¯¢ </strong>åªæ˜¯ç®€å•æµ‹è¯•ï¼ŒåæœŸä¼šä¼˜åŒ–ã€‚</p>
</blockquote>
<h2 id="2.%E6%B5%8B%E8%AF%95%E4%BF%AE%E6%94%B9%E5%8A%9F%E8%83%BD"><span style="color:#4da8ee;">2.æµ‹è¯•ä¿®æ”¹åŠŸèƒ½</span></h2>
<p><img alt="" height="550" src="image\bf8077e405c343cd95ea9bf5d32d0fa9.png" width="1200"/></p>
<p></p>
<pre><code>public interface UserMapper {

    /**  ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ */
    void updateUser();

}</code></pre>
<p><img alt="" height="654" src="image\f23f8be23d154a95a8215227a3b9cea9.png" width="1200"/></p>
<p></p>
<blockquote>
<p>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;<br/> &lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;<br/> &lt;mapper namespace="com.atguigu.mybatis.mapper.UserMapper"&gt;<br/>    <br/>     &lt;update id="updateUser"&gt;<br/> -- ç°åœ¨åªæ˜¯æµ‹è¯•,åæœŸä¼šä¼˜åŒ–<br/> update t_user set username='root',password='root' where id=2;<br/>     &lt;/update&gt;<br/> &lt;/mapper&gt;</p>
</blockquote>
<p></p>
<p><img alt="" height="639" src="image\c93912f0942d49d3a164ed613c60e0b9.png" width="1200"/></p>
<p></p>
<pre><code class="language-java">public class MybatisTest {
    @Test
    public void test() {
        SqlSessionUtils sqlSessionUtils = new SqlSessionUtils();
        SqlSession sqlSession = sqlSessionUtils.getSqlSession();


    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);

     userMapper.updateUser();
     sqlSession.close();


    }

}</code></pre>
<p><strong>è¿è¡Œå:</strong></p>
<p><img alt="" height="368" src="image\148beacc7ef746c7811b378863340190.png" width="1200"/></p>
<p> <img alt="" height="254" src="image\e336fbd744a84aa8ba073055b828487a.png" width="967"/></p>
<p></p>
<p></p>
<h2 id="3.%E6%B5%8B%E8%AF%95%E5%88%A0%E9%99%A4%E5%8A%9F%E8%83%BD"><span style="color:#4da8ee;">3.æµ‹è¯•åˆ é™¤åŠŸèƒ½</span></h2>
<pre><code class="language-java">public interface UserMapper {


    /**  åˆ é™¤ç”¨æˆ·ä¿¡æ¯ */
    void deleteUser();

}</code></pre>
<blockquote>
 &lt;delete id="deleteUser"&gt; delete from t_user where id=3; &lt;/delete&gt;
</blockquote>
<p></p>
<pre><code class="language-java">public class MybatisTest {
    @Test
    public void test() {
        SqlSessionUtils sqlSessionUtils = new SqlSessionUtils();
        SqlSession sqlSession = sqlSessionUtils.getSqlSession();


    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);

     userMapper.deleteUser();
     sqlSession.close();


    }

}</code></pre>
<p> <img alt="" height="245" src="image\b703594549e844cea147b316244776c0.png" width="1065"/></p>
<p><img alt="" height="244" src="image\4766991f05a7448f9aef99cd2324254c.png" width="923"/></p>
<h2 id="%C2%A04.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2%E5%8A%9F%E8%83%BD"><span style="color:#4da8ee;"> 4.æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½</span></h2>
<p></p>
<pre><code class="language-java">public interface UserMapper {

    /**  æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ */
    List&lt;User&gt; getAllUser();

}</code></pre>
<blockquote>
<div>
<span style="color:#777777;">æ³¨æ„ï¼š </span>
</div>
<div>
<span style="color:#777777;">æŸ¥è¯¢çš„æ ‡ç­¾</span>
<span style="color:#777777;">select</span>
<span style="color:#777777;">å¿…é¡»è®¾ç½®å±æ€§</span>
<span style="color:#777777;">resultType</span>
<span style="color:#777777;">æˆ–</span>
<span style="color:#777777;">resultMap</span>
<span style="color:#777777;">ï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³» </span>
</div>
<div>
<strong><span style="color:#777777;"><span style="background-color:#ffd900;">resultType</span></span></strong>
<span style="color:#777777;"><strong><span style="background-color:#ffd900;">ï¼š</span></strong>è‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ </span>
</div>
<div>
<strong><span style="color:#777777;"><span style="background-color:#ffd900;">resultMap</span></span></strong>
<span style="color:#777777;"><strong><span style="background-color:#ffd900;">ï¼š</span></strong>è‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</span>
</div>
</blockquote>
<blockquote>
<p>    &lt;select id="getAllUser" resultType="com.atguigu.mybatis.pojo.User"&gt;</p>
<p>        select * from t_user;<br/>     &lt;/select&gt;</p>
</blockquote>
<pre><code class="language-java">public class MybatisTest {
    @Test
    public void test() {
        SqlSessionUtils sqlSessionUtils = new SqlSessionUtils();
        SqlSession sqlSession = sqlSessionUtils.getSqlSession();


    UserMapper userMapper = sqlSession.getMapper(UserMapper.class);

        List&lt;User&gt; allUser = userMapper.getAllUser();
        allUser.forEach(System.out::println);
        sqlSession.close();


    }

}</code></pre>
<p> <img alt="" height="241" src="image\63ea789e200544f5ad675a5b5f585f93.png" width="1040"/></p>
<p> <img alt="" height="166" src="image\f8a11b2fbe484e3594b36c8857bd6d9b.png" width="684"/></p>
<p></p>
<p></p>
</div>
</div>