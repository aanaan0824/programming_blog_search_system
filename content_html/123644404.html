<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atelier-sulphurpool-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#_1">前言</a></li><li><a href="#_13">一、求字符串长度函数</a></li><li><ul><li><a href="#1strlen_14">1.strlen()</a></li></ul>
</li><li><a href="#_161">二、长度不受限制的字符串函数</a></li><li><ul><li><a href="#1strcpy_162">1.strcpy()</a></li><li><a href="#2strcat_257">2.strcat()</a></li><li><a href="#3strcmp_345">3.strcmp()</a></li></ul>
</li><li><a href="#_421">三、长度受限制的字符串函数</a></li><li><ul><li><a href="#1strncpy_422">1.strncpy()</a></li><li><a href="#2strncat_488">2.strncat()</a></li><li><a href="#3strncmp_551">3.strncmp()</a></li></ul>
</li><li><a href="#_593">四、字符串查找函数</a></li><li><ul><li><a href="#1strstr_594">1.strstr()</a></li><li><a href="#2strtok_642">2.strtok()</a></li><li><a href="#3strerror_696">3.strerror()</a></li><li><a href="#4perror_747">4.perror()</a></li></ul>
</li><li><a href="#_779">五、字符函数</a></li><li><ul><li><a href="#1_780">1.字符分类函数</a></li><li><a href="#2_811">2.字符转换函数</a></li></ul>
</li><li><a href="#_831">六、内存操作函数</a></li><li><ul><li><a href="#1memcpy_833">1.memcpy()</a></li><li><a href="#2memmove_957">2.memmove()</a></li><li><a href="#3memcmp_1070">3.memcmp()</a></li><li><a href="#4memset_1117">4.memset()</a></li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="_1"></a>前言</h1>
<ul><li><font color="red" size="3">C语言本身是没有字符串类型的</font>，字符串通常放在 <mark>常量字符串</mark> 中或者 <mark>字符数组</mark> 中。那C语言中是如何对字符和字符串进行操作的呢？这得学习本章要介绍的字符串函数。</li><li><mark>字符串常量</mark> 适用于那些对它不做修改的字符串函数。</li><li>字符串函数和内存操作函数是<mark>面试中极为常见</mark>的一类题，我们不仅要学习它，还应该会模拟实现，这也是本章的内容。</li></ul>
<p>如：腾讯面试题(下面会学习)</p>
<blockquote>
<p>Memcpy和memmove的区别；</p>
</blockquote>
<hr/>
<h1><a id="_13"></a>一、求字符串长度函数</h1>
<h2><a id="1strlen_14"></a>1.strlen()</h2>
<p>头文件： &lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token class-name">size_t</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//求字符串长度函数</span>
</code></pre>
<p>说明：计算字符串 str的长度，直到空结束字符(<code>'\0'</code>)，但不包括空结束字符(<code>'\0'</code>)。<br/> 参数str：要计算长度的字符串。<br/> 返回值：返回字符串的长度，类型为无符号<code>(unsigned)</code>。</p>
<p><strong>💬实例演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcd"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>💯答案：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d7522d841db34bfba26cf4b96ac669d4.png"/><br/> <strong>🔑解释：</strong></p>
<ul><li>arr1数组在内存中存储的是 <code>a b c d \0</code>；arr2数组在内存中存储的是 <code>a b c d</code>。两者区别在于有无 <strong><code>\0</code></strong></li><li><code>strlen()</code>函数在计算字符串长度时，直到 <code>\0</code> (不计 <code>\0</code> )<br/> 所以arr1的长度是4；而arr2，由于\0的位置未知，则打印出一个随机值</li></ul>
<hr/>
<p><strong>❗❗易错点</strong><br/> <strong>💬 代码1：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"abcde"</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&gt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&lt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%u\n"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>💯答案：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/eebc9a336e67450b9b6be3423cb4615c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>小朋友你是否有很多问号：这这这不是3 - 5 = -2嘛！？这不是 &lt; 0吗？<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a2069a6db9d449d7a686c04fb640cfe3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p><strong>🔍分析：</strong><br/> <code>strlen()</code>函数返回无符号整型数，3 - 5 底层下以补码来计算：</p>
<pre><code class="prism language-c"><span class="token number">3</span><span class="token operator">-</span><span class="token number">5</span>等价于<span class="token number">3</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token number">00000000</span> <span class="token number">00000000</span> <span class="token number">00000000</span> <span class="token number">00000011</span> <span class="token operator">-</span>   <span class="token number">3</span>的补码
<span class="token number">11111111</span> <span class="token number">11111111</span> <span class="token number">11111111</span> <span class="token number">11111011</span> <span class="token operator">-</span>  <span class="token operator">-</span><span class="token number">5</span>的补码
<span class="token number">11111111</span> <span class="token number">11111111</span> <span class="token number">11111111</span> <span class="token number">11111110</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token operator">-</span><span class="token number">5</span>的补码
<span class="token number">11111111</span> <span class="token number">11111111</span> <span class="token number">11111111</span> <span class="token number">11111110</span> <span class="token operator">-</span>  <span class="token operator">-</span><span class="token number">2</span>的补码
<span class="token number">0</span>x ff       ff       ff       fe       <span class="token operator">-</span><span class="token number">2</span>的<span class="token number">16</span>进制
</code></pre>
<ul><li>无符号数 - 无符号数还是无符号数</li><li><code>0xfffffffe</code>用带符号整数的意义来解释是-2；用无符号数的意义来解释是一个很大的数字4294967294</li><li>若想得到正常逻辑的结果，需要对其强制类型转换：<code>(int)strlen("abc") - (int)strlen("abcde")</code></li></ul>
<hr/>
<p><strong>💬 代码2：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d828a77422664421bcd987c588fc6d8d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> <strong>🔍分析：</strong><br/> <code>strlen()</code>实参和形参类型不兼容，在此会把整型变量a看作为地址，会造成非法访问。正确的是实参为字符串常量。</p>
<p><strong>🔱总结：</strong></p>
<ul><li>对于<code>strlen()</code>，返回值是无符号整型，返回的是字符串 <code>\0</code> 前的字符个数(不含 <code>\0</code>)</li><li>对于传给<code>strlen()</code>的字符串，字符串应以 <code>\0</code> 结尾，否则会返回随机值(因为 <code>\0</code> 位置未知)；实参应为字符串，实质传递的是字符串首字符的地址</li></ul>
<hr/>
<p><strong>⚡ 模拟实现strlen()函数：</strong><br/> 有三种方法实现：</p>
<ol><li>计数器</li><li>指针－指针</li><li>递归</li></ol>
<p>首先，我们应该了解strlen()函数，才能模仿它写出来，照葫芦画瓢：</p>
<ul><li><code>my_strlen()</code>返回值是size_t</li><li><code>my_strlen()</code>仅是求字符串长度，不可对字符串进行修改，因此形参用<code>const</code>来修饰</li><li><code>assert(str);</code>对str进行断言，防止访问空指针造成安全问题(程序崩溃)</li></ul>
<p>1️⃣计数器版本：</p>
<pre><code class="prism language-c"><span class="token class-name">size_t</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
		str<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>2️⃣指针－指针的结果是两指针之间的元素个数：</p>
<pre><code class="prism language-c"><span class="token class-name">size_t</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> begin <span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> str <span class="token operator">-</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>3️⃣递归版本：</p>
<pre><code class="prism language-c"><span class="token class-name">size_t</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h1><a id="_161"></a>二、长度不受限制的字符串函数</h1>
<h2><a id="1strcpy_162"></a>1.strcpy()</h2>
<p>头文件：<code>&lt;string.h&gt;</code></p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字符串拷贝函数</span>
</code></pre>
<p>说明：把 <strong>src</strong> 所指向的字符串(含 <code>'\0'</code>)复制到 <strong>dest</strong> ，第一个 <code>'\0'</code> 是拷贝的结束标志。<br/> ❗注意：如果目标数组<strong>dest</strong>不够大，而源字符串<strong>src</strong>的长度又太长，可能会造成缓冲溢出的情况。<br/> 参数<strong>dest</strong>：指向用于存储复制内容的目标数组；<br/> 参数<strong>src</strong>：要复制的字符串。<br/> 返回值 ：返回一个指向最终的目标字符串<strong>dest</strong>的字符型指针。</p>
<p><strong>💬 代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"hello csdn!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> 将源字符串拷贝到目标数组<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/11cf008a3c6f4deb87b5bbb499473709.png"/><br/> <strong>📌注意事项：</strong><br/> ①拷贝是以第一个\0为结束标志<br/> ②目标空间要足够大，以装得下源字符串<br/> ③目标空间可变</p>
<p>1️⃣拷贝是以第一个\0为结束标志</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"##########"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"ab\0cd\0ef\0"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ab</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/020fc42b723346b2956ad29dde125ba2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 2️⃣目标空间要足够大，以装得下源字符串</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"#####"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hhhhhhha"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/da8ce1d2ee664995bb42f3824ab872f5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 3️⃣目标空间可变</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token string">"########"</span><span class="token punctuation">;</span><span class="token comment">//"########"在常量区，不可修改</span>
	<span class="token comment">//or const char p[] = "########";//const修饰，不可改变</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"csdn"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/bcbc218bd77543cd9216bbfc4d5359cf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<hr/>
<p><strong>⚡模拟实现strcpy()函数：</strong><br/> 所谓的拷贝，不就是将字符串里的字符一个个复制粘贴吗？别忘了这可是我们最拿手的操作😏<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0452270f4ff84a8a9be41f2d060812c6.png"/><br/> 我们知道：<br/> <code>strcpy()</code>返回char* ；源字符串src不可修改；拷贝是以第一个\0为结束标志 。</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//断言,防止访问空指针</span>
	<span class="token keyword">char</span><span class="token operator">*</span> begin <span class="token operator">=</span> dest<span class="token punctuation">;</span><span class="token comment">//begin记录首字符的地址</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//后置++</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"csdn!"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//csdn!</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h2><a id="2strcat_257"></a>2.strcat()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字符串追加函数</span>
</code></pre>
<p>说明：把 src 所指向的字符串<strong>追加</strong>到 dest 所指向的字符串的结尾。<br/> 参数：</p>
<ul><li>dest：指向一个目标数组，该数组包含一个C字符串，且足够容纳追加后的字符串。</li><li>src：指向要追加的字符串，该字符串不会覆盖目标字符串。</li></ul>
<p>返回值：返回一个指向最终的目标字符串 dest 的指针。<br/> <strong>💬 代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"CSDN!"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"YES"</span><span class="token punctuation">;</span>
	<span class="token function">strcat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀 运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/089b7703f47b49a084c2c439c8323ec3.png"/><br/> 从监视中，可以看到：strcat将源字符串(包括\0)，追加至目标字符串的结尾并覆盖掉目标空间的\0<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/bced50bc715e4934ba6e7a2c24dc18b6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p><strong>📌注意事项：</strong><br/> ①源字符串必须以\0结尾<br/> ②源字符串不能追加给自己<br/> ③目标空间必须足够大，以确保能够存放源字符串 src<br/> ④目标空间必须可变，即目标空间 src 不可以被 const 修饰</p>
<p>1️⃣源字符串必须以\0结尾<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d7dcbbf9339f4214aebe490005df8c5d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>分析：源字符串不以\0结尾，导致非法访问</p>
<p>2️⃣源字符串不能追加给自己<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4f485662129a48ceaf7a02c00d14bd02.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 监视：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/566ba07a039145a593169293091d8827.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 可以看出strcat在疯狂地呐喊这"CSDN!"，直到断气！<br/> emmm正经点，就是strcat会一直往arr1追加"CSDN!"，直到越界非法访问。</p>
<p>老规矩，我们用图来解释：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/53ad4ccbc18b4c3a8e34ee6fb3f1f6a8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> arr1给自己追加字符串时，会将字符串中的\0覆盖掉(第一个!后的\0被覆盖)，导致没有\0追加上去，造成死循环直到越界非法访问。<img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/6fe0d3985f25403d8bcd332135cd1ed1.gif"/></p>
<hr/>
<p><strong>⚡模拟实现strcat()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>src <span class="token operator">&amp;&amp;</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> begin <span class="token operator">=</span> dest<span class="token punctuation">;</span><span class="token comment">//记录目标字符串的起始地址</span>
	<span class="token comment">//找到dest中的\0</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		dest<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//到此，dest指向\0，开始追加</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"CSDN!"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"YES"</span><span class="token punctuation">;</span>
	<span class="token function">my_strcat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p><strong>🚀 运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6f0eed9221074a5894cdec21a88cf2d7.png"/></p>
<hr/>
<h2><a id="3strcmp_345"></a>3.strcmp()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字符串比较函数</span>
</code></pre>
<p>说明：两个字符串自左向右逐个字符相比（按 <mark>ASCII</mark> 值大小相比较），从第一对字符比起，若相等则比较下一对，直到遇到不同的字符或 \0 才停止<br/> 参数：</p>
<ul><li>str1：要进行比较的第一个字符串</li><li>str2：要进行比较的第二个字符串</li></ul>
<p>返回值：</p>
<ul><li>str1 小于 str2，返回负数</li><li>str1 大于 str2，返回整数</li><li>str1 等于 str2，返回 0</li></ul>
<p><strong>💬代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token string">"abcd"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p2 <span class="token operator">=</span> <span class="token string">"abxy"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀 运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d3ce0daf2b3c4bcbbe649853336e7c7e.png"/><br/> <strong>🔍分析：</strong> 比较c和x，c(ASCII) &lt; x(ASCII)，返回负数-1</p>
<hr/>
<p>📌注意事项：<br/> ①str1和str2都要以 \0 作为字符串的结尾，否则会造成越界非法访问。<br/> ②根据编译器的不同，返回的结果也不同。在 VS2019 中，大于返回 1，等于返回 0，小于返回 -1。但在 Linux-gcc 中，大于返回正数，等于返回0，小于返回负数。<br/> 因此有下面建议：</p>
<pre><code class="prism language-c"><span class="token comment">// 不推荐 ❌</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 &gt; p2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 == p2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 &lt; p2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 推荐 ✅</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 &gt; p2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 == p2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 &lt; p2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<p><strong>⚡ 模拟实现strcmp()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">)</span><span class="token comment">//仅比较不修改，都用const</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str1 <span class="token operator">&amp;&amp;</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//防止访问空指针</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token operator">*</span>str2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token comment">//遇 \0 则停止</span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		str1<span class="token operator">++</span><span class="token punctuation">;</span>
		str2<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>str1 <span class="token operator">-</span> <span class="token operator">*</span>str2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h1><a id="_421"></a>三、长度受限制的字符串函数</h1>
<h2><a id="1strncpy_422"></a>1.strncpy()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strncpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定长度的字符串拷贝函数</span>
</code></pre>
<p>说明：strncpy函数把 src 所指向的字符串复制到 dest，最多复制 n 个字符（遇到中间的\0停止，会小于n）。</p>
<p>📌注意事项：<br/> ①当 src 的长度小于 n 时，dest 的剩余部分将用 \0 填充。<br/> ②目标空间必须足够大，以确保能够存放源字符串 src。<br/> ③目标空间必须可变，即目标空间 src 不可以被 const 修饰。</p>
<p>1️⃣当 src 的长度小于 n 时，dest 的剩余部分将用 \0 填充。</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"xyz"</span><span class="token punctuation">;</span>
	<span class="token function">strncpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3 &lt; 5</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1712ac0493704c7dbb906daaaeebfc3b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 2️⃣3️⃣略(上面已讲)</p>
<hr/>
<p><strong>⚡模拟实现strncpy()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strncpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> begin <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		dest<span class="token operator">++</span><span class="token punctuation">;</span>
		src<span class="token operator">++</span><span class="token punctuation">;</span>
		n<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"xyz"</span><span class="token punctuation">;</span>
	<span class="token function">my_strncpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3 &lt; 5</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀 运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ae95af2d05c9448baa7a8e3453c79ca0.png"/></p>
<hr/>
<h2><a id="2strncat_488"></a>2.strncat()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strncat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定长度的字符串追加函数</span>
</code></pre>
<p>说明：源字符串最多追加n个字符到目标空间。<br/> <strong>💬代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"CSDN!\0xxxx"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"YES"</span><span class="token punctuation">;</span>
	<span class="token function">strncat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>①n大于源字符串，追加至源字符串的 \0 停止追加；<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a8c65f38a3ac4563958ee96a2d6d89de.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>②n小于源字符串，追加完主动补 \0。</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"CSDN!\0xxxx"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"YES"</span><span class="token punctuation">;</span>
	<span class="token function">strncat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3a2acf2840ec4612b81a76864a7e3585.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> <strong>📌注意事项：</strong> 与strcat不同的是：字符串可通过strncat给自己追加，因为追加完会补 \0</p>
<hr/>
<p><strong>⚡模拟实现strncat()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strncat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> begin <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token comment">//找出dest的 \0</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token punctuation">)</span>
		dest<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token comment">//追加</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">*</span>dest<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		n<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token comment">//n小于源字符串补0</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h2><a id="3strncmp_551"></a>3.strncmp()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">strncmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定长度的字符串比较函数</span>
</code></pre>
<p>说明：把 str1 和 str2 进行比较(按 <mark>ASCII</mark> 值大小)，最多比较前 n 个字符。</p>
<p><strong>💬 代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p2 <span class="token operator">=</span> <span class="token string">"abxyz"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strncmp</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/deea9bded263482c96eefda1b39bffaa.png"/></p>
<hr/>
<p><strong>⚡ 模拟实现strncmp()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_strncmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str1 <span class="token operator">&amp;&amp;</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token operator">*</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		str1<span class="token operator">++</span><span class="token punctuation">;</span>
		str2<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>str1 <span class="token operator">-</span> <span class="token operator">*</span>str2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h1><a id="_593"></a>四、字符串查找函数</h1>
<h2><a id="1strstr_594"></a>1.strstr()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strstr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> string<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> substring<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字符串查找子串函数</span>
</code></pre>
<p>说明：字符串 string 中查找第一次出现字符串 substring 的位置，不包含终止符 ‘\0’。该函数返回在 string 中第一次出现 substring 字符串的位置，若未找到则返回 NULL。</p>
<hr/>
<p><strong>⚡ 模拟实现strstr()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strstr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str1 <span class="token operator">&amp;&amp;</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str2 <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token comment">//子串为空，返回NULL</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span><span class="token operator">*</span> s1<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> s2<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> cp <span class="token operator">=</span> str1<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>cp <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s1 <span class="token operator">=</span> cp<span class="token punctuation">;</span>
		s2 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>s1 <span class="token operator">==</span> <span class="token operator">*</span>s2 <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s1 <span class="token operator">!=</span> <span class="token string">'\0'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>s2 <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			s1<span class="token operator">++</span><span class="token punctuation">;</span>
			s2<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s2 <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> cp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		cp<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p><strong>📚拓展：</strong><br/> KMP算法 - 在字符串中查找子字符串的一种算法</p>
</blockquote>
<hr/>
<h2><a id="2strtok_642"></a>2.strtok()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> delim<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//分割字符串函数</span>
</code></pre>
<p>说明：将字符串 str 分解为一组字符串，delim 为分隔符集合。<br/> 原理：找到分隔符，并用 ‘\0’ 代替，即字符串的结束符。<br/> 参数：</p>
<ul><li>str：一个或多个<mark>分隔符</mark>和<mark>标记</mark>组成的字符串。</li><li>delim：包含<mark>分隔符</mark>的 C 字符串。</li></ul>
<blockquote>
<p>解释分隔符和标记：<br/> <code>. | - @</code>等等称为分隔符；<br/> 对于www<code>.</code>csdn<code>.</code>net，由分隔符 <code>.</code> 所分割出来的子字符串被称为标记,如www，csdn，net</p>
</blockquote>
<p>返回值：从 str 开头开始的一个个被分割的串的指针，当没有被分割的串时则返回NULL。</p>
<hr/>
<p><strong>📌注意事项：</strong><br/> ①这是调用一次strtok的结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6767b614fcf0426bb57ed1e920d01feb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> ②想要完整分割字符串，则要配合循环使用。因为stryok函数会自己保存指针，所以在下一次调用时，只需要给它传一个NULL即可。<br/> ③strtok函数会修改源字符串。我们一般会对源字符串拷贝一份，并让拷贝出来的去被切割（让替罪羊去送死）。<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9afa5cd13ebf4ebb8e0f18d79aa57932.png"/></p>
<hr/>
<p><strong>💬 正确使用：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> web<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"www.csdn.com"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> delim <span class="token operator">=</span> <span class="token string">".@"</span><span class="token punctuation">;</span><span class="token comment">//分隔符集合</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>web<span class="token punctuation">,</span> delim<span class="token punctuation">)</span><span class="token punctuation">;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> p <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> delim<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//证明源字符串被修改</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>web<span class="token punctuation">)</span><span class="token operator">/</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>web<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> web<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/7b5d7f3294404d88b8c22e285e0edce3.png"/></p>
<hr/>
<h2><a id="3strerror_696"></a>3.strerror()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strerror</span><span class="token punctuation">(</span><span class="token keyword">int</span> errnum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字符串报错函数</span>
</code></pre>
<p>说明： 从内部数组中搜索错误号 errnum，返回一个指向错误消息字符串的指针。strerror 生成的错误字符串取决于开发平台和编译器。<br/> 参数：errnum – 错误号，通常是errno<br/> 使用：errno是一个全局的错误码变量，当C语言的库函数在执行过程中发生错误，就会把对于的错误码赋值到errno中，通过调用strerror函数就可以把错误信息打印出来。</p>
<hr/>
<p><strong>📌注意事项：</strong> 使用errno需要呼叫头文件&lt;errno.h&gt;</p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;errno.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>errno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c83741e291044a0da8356ba4b861b0fd.png"/></p>
<p>常使用的场景在文件操作（后面会学习，关注我不迷路~😏）</p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;errno.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> pf <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>pf <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>errno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"open file successfully"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>pf<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
	pf <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h2><a id="4perror_747"></a>4.perror()</h2>
<p>头文件：&lt;stdio.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">perror</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出报错信息函数</span>
</code></pre>
<p>说明：perror()用来将上一个函数发生错误的原因输出到标准设备 (stderr) 。首先输出字符串 str，后跟一个冒号，然后是一个空格。</p>
<p>联系：此错误原因依照全局变量 error 的值来决定要输出的字符串，perror函数只是将你输入的一些信息和现在的error所对应的错误一起输出。</p>
<p><strong>💬 代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string.h&gt;</span></span>
<span class="token comment">//不需要#include&lt;errno.h&gt;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> pf <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>pf <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fopen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"open file successfully"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>pf<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
	pf <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🔱总结：</strong> 在C语言编程中，通常使用perror()来输出错误信息，用strerror(errno)来获取错误信息。error是错误码，不同的错误码对应这不同的错误信息。</p>
<hr/>
<h1><a id="_779"></a>五、字符函数</h1>
<h2><a id="1_780"></a>1.字符分类函数</h2>
<table><thead><tr><th align="left">函数</th><th align="left">如果它的参数符合下列条件就返回真</th></tr></thead><tbody><tr><td align="left">iscntrl</td><td align="left">任何控制字符</td></tr><tr><td align="left">isspace</td><td align="left">空白字符：空格‘ ’，换页‘\f’，换行’\n’，回车’\r’，制表符’\t’，或垂直制表符’\v’</td></tr><tr><td align="left">isdigit</td><td align="left">十进制数字0 ~ 9</td></tr><tr><td align="left">isxdigit</td><td align="left">十六进制数字，包括所有十进制数字，小写字母a ~ f,大写字母A ~ F</td></tr><tr><td align="left">islower</td><td align="left">小写字母a ~ z</td></tr><tr><td align="left">isupper</td><td align="left">大写字母A ~ Z</td></tr><tr><td align="left">isalpha</td><td align="left">字母a ~ z或A ~ Z</td></tr><tr><td align="left">isalnum</td><td align="left">字母或数字a ~ z，A ~ Z或0 ~ 9</td></tr><tr><td align="left">ispunct</td><td align="left">标点符号，任何不属于数字或字母的图像字符（可打印符号）</td></tr><tr><td align="left">isgraph</td><td align="left">任何图像字符</td></tr><tr><td align="left">isprint</td><td align="left">任何可打印字符，包括图像字符和空白字符</td></tr></tbody></table>
<p><strong>💬isupper使用：</strong></p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctype.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> ch1 <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">isupper</span><span class="token punctuation">(</span>ch1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 判断ch1是否为大写</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h2><a id="2_811"></a>2.字符转换函数</h2>
<p>字符转换函数</p>
<table><thead><tr><th align="left">函数</th><th align="left">功能</th></tr></thead><tbody><tr><td align="left">tolower</td><td align="left">大写转小写</td></tr><tr><td align="left">toupper</td><td align="left">小写转大写</td></tr></tbody></table>
<p><strong>💬tolower函数使用：</strong></p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctype.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">tolower</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 大写转小写</span>
	<span class="token function">putchar</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//h</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h1><a id="_831"></a>六、内存操作函数</h1>
<h2><a id="1memcpy_833"></a>1.memcpy()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">memcpy</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//内存拷贝函数</span>
</code></pre>
<p>说明：从源存储区 str2 复制 n 个<mark>字节</mark>到目标存储区 str1，并返回一个指向目标存储区 str1 的指针。</p>
<p><strong>💬代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token comment">// 将字符串复制到数组 dest 中</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> <span class="token keyword">char</span> src<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"www.casdn.net"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> dest<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token function">memcpy</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> src<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"dest = %s\n"</span><span class="token punctuation">,</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<p><strong>📌注意事项：</strong><br/> ①memcpy函数的参数1，参数2都是void* 型，void*又称通用类型。<br/> ②与strcpy函数不同，memcpy函数遇到 ‘\0’ 不会停止。<br/> ③若源空间和目标空间有重叠，则拷贝时会覆盖源字符串内容。</p>
<p>1️⃣memcpy函数的参数1，参数2都是void* 型，void*又称通用类型。<br/> 用结构体类型来测试</p>
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">Stu</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">Stu</span> arr1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">Stu</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">"lisi"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function">memcpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"name:%s\nage:%d\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6fa01c1701a54207bafd122c02d705ea.png"/><br/> 2️⃣与strcpy函数不同，memcpy函数遇到 ‘\0’ 不会停止。</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abc\0def"</span><span class="token punctuation">;</span>

	<span class="token function">memcpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6bdd6267815e4a568e5c02552b2243b5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> memcpy没有停止标志，它会一个个字节搬运。<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6e82fc49867241eb83daa5a84da1c7d4.png"/></p>
<p>3️⃣若源空间和目标空间有重叠，则拷贝时会覆盖源字符串内容。</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">memcpy</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/aede9d6e988249d6b412eeeae0b30a3d.png"/><br/> 我们画图分析：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/69a25579a8cd4798ba0f4ca2f58ab36d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 我们看到的结果是编译器对memcpy函数优化后的结果。且C标准并不要求memcpy完成发生内存重叠的内容拷贝，但编译器也可能对其进行优化。对内存重叠的内容进行拷贝时，可以使用memmove函数。</p>
<hr/>
<p><strong>⚡ 模拟实现memcpy函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">my_memcpy</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">void</span><span class="token operator">*</span> begin <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
		dest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">my_memcpy</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/30f490fd9ce248ff948f8ebd6f8330c1.png"/><br/> 运行结果也验证了上图中memcpy函数实际上的结果。</p>
<hr/>
<h2><a id="2memmove_957"></a>2.memmove()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">memmove</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//内存移动函数</span>
</code></pre>
<p>说明：将 str2 源区域的前 n 个字节拷贝到 str1 目标区域中。<br/> 如果目标区域和源区域有重叠的话，memmove() 能够保证源串在被覆盖之前将重叠区域的字节拷贝到目标区域中，但复制后源区域的内容会被更改。</p>
<p><strong>📌注意事项：</strong><br/> ①与memcpy() 不同， memmove() 函数处理的源区域和目标区域是可以重叠的。</p>
<p>C语言标准要求：memcpy() 用来处理不重叠的内存拷贝，而 memmove() 用来处理重叠内存的拷贝。</p>
<p>我就纳闷了，memmove() 既可以拷贝不重叠的数据，又可以拷贝重叠的数据，那我要你memcpy() 有何用？<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/099bdb1d2301478a87a9806ff3191424.png"/><br/> <strong>💬代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">memmove</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/eef43cd577df4d00ae9fbc237a1e8c9d.png"/></p>
<hr/>
<p><strong>⚡模拟实现memmove()函数：</strong><br/> 1.首先要清楚，memmove()函数要在memcpy()函数的基础上考虑数据重叠的情况。<br/> 2.那数据重叠是有几种呢？该如何保护源串在覆盖之前不被修改？</p>
<p>我们用图说话：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9e5b44fc943f4b548dba535333d24c30.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 画图后，思路就清晰很多了。</p>
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">my_memmove</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> begin <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>dest <span class="token operator">&gt;</span> src<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//从后往前</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//从前往后</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
			<span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>验证：<br/> ①dest &lt;= src</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">my_memmove</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f0ed5cce996547ceb67bac0986a027fc.png"/></p>
<p>②dest &gt; src</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">my_memmove</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6282809715df43cb8b9a89053762d6d5.png"/></p>
<hr/>
<h2><a id="3memcmp_1070"></a>3.memcmp()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">memcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//内存比较函数</span>
</code></pre>
<p>说明：将存储区 str1 和存储区 str2 的前 n 个字节进行比较。</p>
<p>返回值：</p>
<ul><li>str1 小于 str2，返回负数</li><li>str1 大于 str2，返回正数</li><li>str1 等于 str2，返回 0</li></ul>
<p><strong>📌注意事项：</strong><br/> 与strcmp() 不同，memcmp() 遇到 \0 不会停止比较。</p>
<hr/>
<p><strong>⚡模拟实现memcmp()函数：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_memcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> str2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str1 <span class="token operator">&amp;&amp;</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str1 <span class="token operator">==</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str1 <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str2 <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str1 <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str2<span class="token punctuation">;</span>
	<span class="token comment">//unsigned char*保证运算结果的符号正确(指针 - 指针内容)</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> arr1 <span class="token operator">=</span> <span class="token string">"\0abc"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> arr2 <span class="token operator">=</span> <span class="token string">"\0abx"</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">my_memcmp</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/620cf42b56424616b7e48e60f1812f8d.png"/></p>
<hr/>
<h2><a id="4memset_1117"></a>4.memset()</h2>
<p>头文件：&lt;string.h&gt;</p>
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">memset</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//内存初始化函数</span>
</code></pre>
<p>说明：复制字符 c（一个无符号字符）到 str 所指向的字符串的前 n 个字节。<br/> <strong>📌注意事项：</strong><br/> 参数c以 int 形式传递，但是函数在填充内存块时是使用该值的无符号字符形式。</p>
<p><strong>💬 代码演示：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//共40字节</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将前20个字节全部设置为1</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b3b69eeff8104a35833a7289704893df.png"/></p>
<hr/>
<p><strong>⚡模拟实现memset()函数：</strong><br/> 思路：将c转化为无符号字符(1个字节)逐个拷贝。</p>
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">my_memset</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">void</span><span class="token operator">*</span> begin <span class="token operator">=</span> str<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>c<span class="token punctuation">;</span> 
		<span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>str <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> begin<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//共40字节</span>
	<span class="token function">my_memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将前20个字节全部设置为1</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>🚀运行结果：</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2eb5ea481c7a4cc9810d7071601f20ac.png"/><br/> <strong>写文和制图不易，恳请各位铁汁们点赞收藏评论加关注，你们的支持是我坚持的动力~</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/379e08f25ff5459695ce08d9b81cd5ff.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aSn54yp54yp77yB,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> <strong>……未完待续</strong></p>
<p><em><strong>📚参考资料：</strong></em><br/> <a href="https://www.runoob.com/cprogramming/c-tutorial.html">【C语言教程 | 菜鸟教程】</a></p>
<blockquote>
<p>✒️ 笔者：陈汉新</p>
<p>📅 更新： 2022.3.24</p>
<p>❌ 勘误： 暂无</p>
<p>📣 声明：由于作者水平有限，本文错误之处在所难免，敬请读者指正！</p>
</blockquote>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>