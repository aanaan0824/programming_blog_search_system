<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<ul><li>MySQL 是<code>最流行的关系型数据库管理系统</code>，在 WEB 应用方面 MySQL 是最好的 RDBMS(Relational Database Management System：关系数据库管理系统)应用软件之一</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1d08d8edcc7c432cb36ec517d5d859b0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p></p>
<div class="toc">
<h3>MySQL实战文章目录</h3>
<ul><li><a href="#MySQL___14">MySQL必会知识点梳理 (必看)</a></li><li><a href="#_33">【介绍】</a></li><li><ul><li><a href="#_37">什么是数据库</a></li><li><a href="#MySQL_43">MySQL数据库</a></li><li><a href="#RDBMS__59">RDBMS 术语</a></li><li><a href="#_81">数据库表的存储位置</a></li></ul>
</li><li><a href="#_102">【数据类型】</a></li><li><ul><li><a href="#__106">一. 整数类型</a></li><li><a href="#__114">二. 小数类型</a></li><li><a href="#__122">三. 字符串</a></li><li><a href="#__129">四. 日期类型</a></li><li><a href="#__137">五. 复合类型</a></li><li><a href="#__142">六. 二进制类型</a></li></ul>
</li><li><a href="#_155">【约束】</a></li><li><ul><li><a href="#_not_null_158">一. 非空约束(not null)</a></li><li><a href="#_unique_167">二. 唯一性约束(unique)</a></li><li><a href="#_primary_key_PK_178">三. 主键约束(primary key) PK</a></li><li><a href="#_foreign_key_FK_190">四. 外键约束(foreign key) FK</a></li><li><a href="#__Default_198">五. 默认值约束 (Default)</a></li><li><a href="#_AUTO_INCREMENT_205">六. 自增约束(AUTO_INCREMENT)</a></li></ul>
</li><li><a href="#_223">【常用命令】</a></li><li><ul><li><a href="#_224">登录数据库相关命令</a></li><li><ul><li><a href="#__226">一. 启动服务</a></li><li><a href="#__233">二. 关闭服务</a></li><li><a href="#_MySQL_241">三. 链接MySQL</a></li><li><a href="#__249">四. 退出数据库</a></li></ul>
</li><li><a href="#DDLData_Definition_Languages_262">DDL（Data Definition Languages）语句：即数据库定义语句</a></li><li><ul><li><a href="#_270">数据库相关操作</a></li><li><ul><li><a href="#__276">一. 创建数据库</a></li><li><a href="#__287">二. 查看已经存在的数据库</a></li><li><a href="#__304">三. 选择数据库</a></li><li><a href="#__315">四. 查看数据库中的表</a></li><li><a href="#__326">五. 删除数据库</a></li><li><a href="#__338">六. 设置表的类型</a></li><li><ul><li><a href="#1_mysql_354">1. 查看mysql所支持的引擎类型</a></li><li><a href="#2__363">2. 查看默认引擎</a></li></ul>
</li></ul>
</li><li><a href="#_376">数据库表相关操作</a></li><li><ul><li><a href="#__381">一. 创建表</a></li><li><a href="#__398">二. 查看表定义</a></li><li><a href="#__416">三. 删除表</a></li><li><a href="#___424">四. 修改表 (重要)</a></li><li><ul><li><a href="#1__427">1. 修改表类型</a></li><li><a href="#2__435">2. 增加表字段</a></li><li><a href="#3__443">3. 删除表字段</a></li><li><a href="#4__451">4. 字段改名</a></li><li><a href="#5__463">5. 修改字段排列顺序</a></li><li><a href="#6_485">6.表名修改</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#DMLData_Manipulation_Language_496">DML（Data Manipulation Language）语句：即数据操纵语句</a></li><li><ul><li><a href="#_INSERT_499">一. 添加数据：INSERT</a></li><li><ul><li><a href="#1__503">1. 插入单条数据（常用）</a></li><li><a href="#2__519">2. 插入单条数据</a></li><li><a href="#3__529">3. 插入多条数据</a></li><li><a href="#4__548">4. 表数据复制</a></li></ul>
</li><li><a href="#_UPDATE_561">二. 更新数据：UPDATE</a></li><li><ul><li><a href="#1__568">1. 修改一条数据的某个字段</a></li><li><a href="#2__580">2. 修改多个字段为同一的值</a></li><li><a href="#3_case_when_589">3. 使用case when实现批量更新</a></li></ul>
</li><li><a href="#_DELETE_615">三. 删除数据：DELETE</a></li><li><ul><li><a href="#1__619">1. 删除指定数据</a></li><li><a href="#2__633">2. 删除表中全部数据</a></li></ul>
</li></ul>
</li><li><a href="#DQLData_Query_Language_652">DQL（Data Query Language）语句：即数据查询语句</a></li><li><ul><li><a href="#_wherer__656">一. wherer 条件语句</a></li><li><a href="#_as__737">二. as 取别名</a></li><li><a href="#_distinct__752">三. distinct 去除重复记录</a></li><li><a href="#_group_by__777">四. group by 分组</a></li><li><ul><li><a href="#1__785">1. 单个字段分组</a></li><li><a href="#2__790">2. 多个字段分组</a></li></ul>
</li><li><a href="#_having__799">五. having 过滤</a></li><li><a href="#_order_by__813">六. order by 排序</a></li><li><ul><li><a href="#1__821">1. 一个字段，降序（从大到小）</a></li><li><a href="#2__826">2. 多个字段</a></li></ul>
</li><li><a href="#limit__838">limit 分页</a></li><li><a href="#_875">子查询</a></li><li><ul><li><a href="#1_in__900">1. in 关键字子查询</a></li><li><a href="#exists__934">exists 关键字子查询</a></li></ul>
</li><li><a href="#_941">多表查询</a></li><li><ul><li><a href="#1__943">1. 笛卡尔积查询</a></li><li><a href="#2__947">2. 内连接查询</a></li><li><a href="#3__960">3. 左外连接查询</a></li><li><a href="#4__971">4. 右外连接查询</a></li></ul>
</li></ul>
</li><li><a href="#DCLData_Control_Language_979">DCL（Data Control Language）语句：即数据控制语句</a></li><li><ul><li><a href="#_983">关键字</a></li><li><a href="#_988">查看用户权限</a></li><li><a href="#GRANT_1005">GRANT语句</a></li><li><ul><li><a href="#_1009">格式语法</a></li><li><a href="#priv_type_1067">权限类型(priv_type)</a></li><li><ul><li><a href="#_1073">授予数据库权限类型</a></li></ul>
</li><li><a href="#_1099">授予表权限类型</a></li><li><ul><li><a href="#_1120">授予列(字段)权限类型</a></li><li><a href="#_1126">授予创建和删除用户的权限</a></li></ul>
</li><li><a href="#ON_1134">ON</a></li><li><a href="#object_type_1146">对象类型(object_type)</a></li><li><a href="#priv_level_1152">权限级别(priv_level)</a></li><li><a href="#user_1165">被授权的用户(user)</a></li><li><a href="#auth_option_1197">身份验证方式(auth_option)</a></li><li><a href="#tls_option_1201">加密连接(tls_option)</a></li><li><a href="#resource_option_1205">用户资源限制(resource_option)</a></li><li><a href="#_1221">权限生效</a></li></ul>
</li><li><a href="#REVOKE_1233">REVOKE语句</a></li><li><ul><li><a href="#_1237">语法格式</a></li></ul>
</li></ul>
</li><li><a href="#TCLTransaction_Control_Language_1269">TCL（Transaction Control Language）语句：事务控制语句</a></li><li><ul><li><a href="#_1293">事务的使用步骤</a></li><li><ul><li><a href="#_1295">开启事务</a></li><li><a href="#_1301">提交事务</a></li><li><a href="#_1308">回滚事务</a></li><li><a href="#_1315">查看当前的事务隔离级别</a></li><li><a href="#_1321">设置当前连接事务的隔离级别</a></li><li><a href="#_1326">设置数据库系统的全局的隔离级别</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#_1334">【常用函数】</a></li><li><ul><li><a href="#__1350">一. 数学函数</a></li><li><ul><li><a href="#1_ABSnumber_1353">1. ABS(number)</a></li><li><a href="#2_PI_1371">2. PI()</a></li><li><a href="#3_SQRTx_1378">3. SQRT(x)</a></li><li><a href="#4_MODxy_1381">4. MOD(x,y)</a></li><li><a href="#5_CEILxCEILINGx_1384">5. CEIL(x)、CEILING(x)</a></li><li><a href="#6_FLOORx_1388">6. FLOOR(x)</a></li><li><a href="#7_FLOORx_1391">7. FLOOR(x)</a></li><li><a href="#8_ROUNDxROUNDxy_1394">8. ROUND(x)、ROUND(x,y)</a></li><li><a href="#9_POWxyPOWERxy_1406">9. POW(x,y)和、POWER(x,y)</a></li><li><a href="#10_EXPx_1409">10. EXP(x)</a></li><li><a href="#11_LOGx_1412">11. LOG(x)</a></li><li><a href="#12_LOG10x_1414">12. LOG10(x)</a></li><li><a href="#13_RADIANSx_1418">13. RADIANS(x)</a></li><li><a href="#14_DEGREESx_1421">14. DEGREES(x)</a></li><li><a href="#15_SINxASINx_1424">15. SIN(x)、ASIN(x)</a></li><li><a href="#16_COSxACOSx_1427">16. COS(x)、ACOS(x)</a></li><li><a href="#17_TANxATANx_1430">17. TAN(x)、ATAN(x)</a></li><li><a href="#18_COTx_1433">18. COT(x)</a></li></ul>
</li><li><a href="#__1437">二. 字符串函数</a></li><li><ul><li><a href="#1_CHAR_LENGTHstr_1439">1. CHAR_LENGTH(str)</a></li><li><a href="#2_CONCATs1s2_1449">2. CONCAT(s1,s2，...)</a></li><li><a href="#3_CONCAT_WSxs1s2_1458">3. CONCAT_WS(x,s1,s2,...)</a></li><li><a href="#4_INSERTs1xlens2_1468">4. INSERT(s1,x,len,s2)</a></li><li><a href="#5_LOWERstrLCASEstrUPPERstrUCASEstr_1479">5. LOWER(str)和LCASE(str)、UPPER(str)和UCASE(str)</a></li><li><a href="#6_LEFTsnRIGHTsn_1493">6. LEFT(s,n)、RIGHT(s,n)</a></li><li><a href="#7_LPADs1lens2RPADs1lens2_1504">7. LPAD(s1,len,s2)、RPAD(s1,len,s2)</a></li><li><a href="#8_LTRIMsRTRIMs_1514">8. LTRIM(s)、RTRIM(s)</a></li><li><a href="#9_TRIMs_1524">9. TRIM(s)</a></li><li><a href="#10_TRIMs1_FROM_s_1534">10. TRIM(s1 FROM s)</a></li><li><a href="#11_REPEATsn_1537">11. REPEAT(s,n)</a></li><li><a href="#12_SPACEn_1546">12. SPACE(n)</a></li><li><a href="#13_REPLACEss1s2_1556">13. REPLACE(s,s1,s2)</a></li><li><a href="#14_STRCMPs1s2_1559">14. STRCMP(s1,s2)</a></li><li><a href="#15_SUBSTRINGsnlenMIDsnlen_1576">15. SUBSTRING(s,n,len)、MID(s,n,len)</a></li><li><a href="#16_LOCATEstr1strPOSITIONstr1_IN_strINSTRstrstr1_1591">16. LOCATE(str1,str)、POSITION(str1 IN str)、INSTR(str,str1)</a></li><li><a href="#17_REVERSEs_1602">17. REVERSE(s)</a></li><li><a href="#18_ELTNstr1str2str3str4_1612">18. ELT(N,str1,str2,str3,str4,...)</a></li></ul>
</li><li><a href="#__1622">三. 日期和时间函数</a></li><li><ul><li><a href="#1_CURDATECURRENT_DATE_1628">1. CURDATE()、CURRENT_DATE()</a></li><li><a href="#2_CURRENT_TIMESTAMPLOCALTIMENOWSYSDATE_1632">2. CURRENT_TIMESTAMP()、LOCALTIME()、NOW()、SYSDATE()</a></li><li><a href="#3_UNIX_TIMESTAMPUNIX_TIMESTAMPdate_1659">3. UNIX_TIMESTAMP()、UNIX_TIMESTAMP(date)</a></li><li><a href="#4_FROM_UNIXTIMEdate_1670">4. FROM_UNIXTIME(date)</a></li><li><a href="#5_UTC_DATEUTC_TIME_1674">5. UTC_DATE()和UTC_TIME()</a></li><li><a href="#6_MONTHdateMONTHNAMEdate_1690">6. MONTH(date)和MONTHNAME(date)</a></li><li><a href="#7_DAYNAMEdDAYOFWEEKdWEEKDAYd_1708">7. DAYNAME(d)、DAYOFWEEK(d)、WEEKDAY(d)</a></li><li><a href="#8_WEEKd_1712">8. WEEK(d)</a></li><li><a href="#9_DAYOFYEARdDAYOFMONTHd_1723">9. DAYOFYEAR(d)、DAYOFMONTH(d)</a></li><li><a href="#10_YEARdateQUARTERdateMINUTEtimeSECONDtime_1739">10. YEAR(date)、QUARTER(date)、MINUTE(time)、SECOND(time)</a></li><li><a href="#11_EXTRACEtype_FROM_date_1766">11. EXTRACE(type FROM date)</a></li><li><a href="#12_TIME_TO_SECtime_1770">12. TIME_TO_SEC(time)</a></li><li><a href="#13_SEC_TO_TIME_1780">13. SEC_TO_TIME()</a></li><li><a href="#14_DATE_ADDdateINTERVAL_expr_typeADD_DATEdateINTERVAL_expr_type_1791">14. DATE_ADD(date,INTERVAL expr type)、ADD_DATE(date,INTERVAL expr type)</a></li><li><a href="#15_DATE_SUBdateINTERVAL_expr_typeSUBDATEdateINTERVAL_expr_type_1795">15. DATE_SUB(date,INTERVAL expr type)、SUBDATE(date,INTERVAL expr type)</a></li><li><a href="#16_ADDTIMEdateexprSUBTIMEdateexpr_1799">16. ADDTIME(date,expr)、SUBTIME(date,expr)</a></li></ul>
</li><li><a href="#__1807">四. 条件判断函数</a></li><li><ul><li><a href="#1_IFexprv1v2_1808">1. IF(expr,v1,v2)</a></li><li><a href="#2_IFNULLv1v2_1812">2. IFNULL(v1,v2)</a></li><li><a href="#3_CASE_expr_WHEN_v1_THEN_r1_WHEN_v2_THEN_v2_ELSE_rn_END_1816">3. CASE expr WHEN v1 THEN r1 [WHEN v2 THEN v2] [ELSE rn] END</a></li></ul>
</li><li><a href="#__1821">五. 系统信息函数</a></li><li><ul><li><a href="#1_VERSION_1823">1. VERSION()</a></li><li><a href="#2_CONNECTION_ID_1836">2. CONNECTION_ID()</a></li><li><a href="#3_USERCURRENT_USERSYSTEM_USERSESSION_USER_1848">3. USER()、CURRENT_USER()、SYSTEM_USER()、SESSION_USER()</a></li><li><a href="#4_CHARSETstr_1880">4. CHARSET(str)</a></li><li><a href="#5_COLLATION_1892">5. COLLATION()</a></li></ul>
</li><li><a href="#__1904">六. 加密函数</a></li><li><ul><li><a href="#1_PASSWORDstr_1906">1. PASSWORD(str)</a></li><li><a href="#2_MD5str_1917">2. MD5(str)</a></li><li><a href="#3_ENCODEstr_pswd_str_1929">3. ENCODE(str, pswd_str)</a></li><li><a href="#4_DECODEcrypt_strpswd_str_1941">4. DECODE(crypt_str,pswd_str)</a></li></ul>
</li><li><a href="#__1953">七. 其他函数</a></li><li><ul><li><a href="#1_FORMATxn_1956">1. FORMAT(x,n)</a></li><li><a href="#2_CONVNfrom_baseto_base_1967">2. CONV(N,from_base,to_base)</a></li><li><a href="#3_INET_ATONexpr_1971">3. INET_ATON(expr)</a></li><li><a href="#4_INET_NTOAexpr_1975">4. INET_NTOA(expr)</a></li><li><a href="#5_BENCHMARKcountexpr_1979">5. BENCHMARK(count,expr)</a></li><li><a href="#6_CONVERTstr_USING_charset_1984">6. CONVERT(str USING charset)</a></li></ul>
</li></ul>
</li><li><a href="#SQL_1995">【SQL实战练习】</a></li><li><ul><li><a href="#_1999">创建数据库</a></li><li><a href="#_2002">创建表（并初始化数据）</a></li><li><a href="#_2075">表结构</a></li><li><a href="#_2111">习题</a></li><li><ul><li><a href="#1_0102_2125">1. 查询"01"课程比"02"课程成绩高的学生的信息及课程分数</a></li><li><a href="#2_0102_2144">2. 查询"01"课程比"02"课程成绩低的学生的信息及课程分数</a></li><li><a href="#3_60_2163">3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩</a></li><li><a href="#4_60_2183">4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩</a></li><li><a href="#5__2211">5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩</a></li><li><a href="#6__2227">6. 查询"流"姓老师的数量</a></li><li><a href="#7__2235">7. 查询学过"流浪法师"老师授课的同学的信息</a></li><li><a href="#8__2249">8. 查询没学过"张三"老师授课的同学的信息</a></li><li><a href="#9_0102_2298">9. 查询学过编号为"01"并且也学过编号为"02"的课程的同学的信息</a></li><li><a href="#10_0102_2369">10. 查询学过编号为"01"但是没有学过编号为"02"的课程的同学的信息</a></li><li><a href="#11__2396">11. 查询没有学全所有课程的同学的信息</a></li><li><a href="#12_01_2457">12. 查询至少有一门课与学号为"01"的同学所学相同的同学的信息</a></li><li><a href="#13_01_2472">13. 查询和"01"号的同学学习的课程完全相同的其他同学的信息</a></li><li><a href="#14__2498">14. 查询没学过"邪恶小法师"老师讲授的任一门课程的学生姓名</a></li><li><a href="#15__2518">15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩</a></li><li><a href="#16_0160_2548">16. 检索"01"课程分数小于60，按分数降序排列的学生信息</a></li><li><a href="#17__2576">17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩</a></li><li><a href="#18__2629">18. 查询各科成绩最高分、最低分和平均分：</a></li><li><a href="#19__2721">19. 按各科成绩进行排序，并显示排名(实现不完全)</a></li><li><a href="#20__2793">20. 查询学生的总成绩并进行排名</a></li><li><a href="#21__2811">21. 查询不同老师所教不同课程平均分从高到低显示</a></li><li><a href="#22_23_2831">22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩</a></li><li><a href="#23_1008585707060060_2898">23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比</a></li><li><a href="#24__2977">24. 查询学生平均成绩及其名次</a></li><li><a href="#25__3002">25. 查询各科成绩前三名的记录</a></li><li><a href="#26__3071">26. 查询每门课程被选修的学生数</a></li><li><a href="#27__3091">27. 查询出只有两门课程的全部学生的学号和姓名</a></li><li><a href="#28__3109">28. 查询男生、女生人数</a></li><li><a href="#29__3118">29. 查询名字中含有"德"字的学生信息</a></li><li><a href="#30__3126">30. 查询同名同性学生名单，并统计同名人数</a></li><li><a href="#31_1990_3136">31. 查询1990年出生的学生名单</a></li><li><a href="#32__3144">32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</a></li><li><a href="#33_85_3165">33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩</a></li><li><a href="#34_60_3184">34. 查询课程名称为"数学"，且分数低于60的学生姓名和分数</a></li><li><a href="#35__3200">35. 查询所有学生的课程及分数情况</a></li><li><a href="#36_70_3217">36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数</a></li><li><a href="#37__3245">37. 查询不及格的课程</a></li><li><a href="#38_0180_3264">38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名</a></li><li><a href="#39__3281">39. 求每门课程的学生人数</a></li><li><a href="#40__3300">40. 查询选修"死亡歌颂者"老师所授课程的学生中，成绩最高的学生信息及其成绩</a></li><li><a href="#41__3320">41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩</a></li><li><a href="#42__3350">42. 查询每门功成绩最好的前两名</a></li><li><a href="#43_5_3433">43. 统计每门课程的学生选修人数（超过5人的课程才统计）</a></li><li><a href="#44__3458">44. 检索至少选修两门课程的学生学号</a></li><li><a href="#45__3475">45. 查询选修了全部课程的学生信息</a></li><li><a href="#46__3498">46. 查询各学生的年龄</a></li><li><a href="#47__3514">47. 查询本周过生日的学生</a></li><li><a href="#48__3531">48. 查询下周过生日的学生</a></li><li><a href="#49__3548">49. 查询本月过生日的学生</a></li><li><a href="#50__3564">50. 查询下月过生日的学生</a></li></ul>
</li></ul>
</li><li><a href="#_3597">【阿里巴巴开发手册】</a></li></ul>
</div>
<p></p>
<hr color="#000000" size='1"'/>
<h1><a id="MySQL___14"></a>MySQL必会知识点梳理 (必看)</h1>
<ul><li><strong>MySQL面试题链接：<a href="https://blog.csdn.net/weixin_45692705/article/details/119343669?spm=1001.2014.3001.5501">精品MySQL面试题，备战八月99%必问！过不了面试算我的</a></strong></li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4bdea1132530427e8b3554a2e2b47294.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p><strong>评论区评论要资料三个字即可获得MySQL全套资料 ！</strong></p>
<hr color="#000000" size='1"'/>
<h1><a id="_33"></a>【介绍】</h1>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/img_convert/954039e049910d6579e1d32ba995b7ad.png"/></p>
<h2><a id="_37"></a>什么是数据库</h2>
<ul><li>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库。</li><li>每个数据库都有一个或多个不同的 API 用于创建，访问，管理，搜索和复制所保存的数据。</li><li>我们也可以将数据存储在文件中，但是在文件中读写数据速度相对较慢。所以，现在我们使用关系型数据库管理系统（RDBMS）来存储和管理大数据量。所谓的关系型数据库，是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。</li></ul>
<h2><a id="MySQL_43"></a>MySQL数据库</h2>
<blockquote>
<p>MySQL 是一个关系型数据库管理系统，由瑞典 MySQL AB 公司开发，目前属于 Oracle 公司。MySQL 是一种关联数据库管理系统，关联数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。</p>
</blockquote>
<ul><li>MySQL 是开源的，目前隶属于 Oracle 旗下产品。</li><li>MySQL 支持大型的数据库。可以处理拥有上千万条记录的大型数据库。</li><li>MySQL 使用标准的 SQL 数据语言形式。</li><li>MySQL 可以运行于多个系统上，并且支持多种语言。这些编程语言包括 C、C++、Python、Java、Perl、PHP、Eiffel、Ruby 和 Tcl 等。</li><li>MySQL 对PHP有很好的支持，PHP 是目前最流行的 Web 开发语言。</li><li>MySQL 支持大型数据库，支持 5000 万条记录的数据仓库，32 位系统表文件最大可支持 4GB，64 位系统支持最大的表文件为8TB。</li><li>MySQL 是可以定制的，采用了 GPL 协议，你可以修改源码来开发自己的 MySQL 系统。</li></ul>
<h2><a id="RDBMS__59"></a>RDBMS 术语</h2>
<blockquote>
<p>在我们开始学习MySQL 数据库前，让我们先了解下RDBMS的一些术语</p>
</blockquote>
<ul><li>数据库: 数据库是一些关联表的集合。</li><li>数据表: 表是数据的矩阵。在一个数据库中的表看起来像一个简单的电子表格。</li><li>列: 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据。</li><li>行：一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据。</li><li>冗余：存储两倍数据，冗余降低了性能，但提高了数据的安全性。</li><li>主键：主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据。</li><li>外键：外键用于关联两个表。</li><li>复合键：复合键（组合键）将多个列作为一个索引键，一般用于复合索引。</li><li>索引：使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录。</li><li>参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性。</li></ul>
<blockquote>
<p>MySQL 为关系型数据库(Relational Database Management System), 这种所谓的<code>关系型</code>可以理解为<code>表格</code>的概念, 一个关系型数据库由一个或数个表格组成, 如图所示的一个表格</p>
</blockquote>
<h2><a id="_81"></a>数据库表的存储位置</h2>
<blockquote>
<p>MySQL数据表以文件方式存放在磁盘中：</p>
</blockquote>
<ol><li>包括表文件、数据文件以及数据库的选项文件</li><li>位置：MySQL安装目录\data下存放数据表。目录名对应数据库名，该目录下文件名对应数据表</li></ol>
<p><strong>注：</strong></p>
<p><code>InnoDB</code>类型数据表只有一个*. frm文件，以及上一级目录的ibdata1文件<br/> <code>MylSAM</code>类型数据表对应三个文件：</p>
<ol><li>*. frm —— 表结构定义文件</li><li>*. MYD —— 数据文件</li><li>*. MYI —— 索引文件</li></ol>
<p><font color="red">存储位置：因操作系统而异，可查my.ini</font></p>
<hr color="#000000" size='1"'/>
<h1><a id="_102"></a>【数据类型】</h1>
<ul><li>MySQL提供的数据类型包括数值类型（整数类型和小数类型）、字符串类型、日期类型、复合类型（复合类型包括enum类型和set类型）以及二进制类型 。</li></ul>
<h2><a id="__106"></a>一. 整数类型</h2>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4672264710334b75b873400c694824bc.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>整数类型的数，默认情况下既可以表示正整数又可以表示负整数（此时称为有符号数）。如果只希望表示零和正整数，可以使用无符号关键字“unsigned”对整数类型进行修饰。</li><li>各个类别存储空间及取值范围。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c9a0e383d2154fa690fe36e3e0cd5c36.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="__114"></a>二. 小数类型</h2>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b340d38bd1c7430e85d5f449920af39e.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li> <p>decimal(length, precision)用于表示精度确定（小数点后数字的位数确定）的小数类型，length决定了该小数的最大位数，precision用于设置精度（小数点后数字的位数）。</p> </li><li> <p>例如： decimal (5,2)表示小数取值范围：999.99～999.99 decimal (5,0)表示： -99999～99999的整数。</p> </li><li> <p>各个类别存储空间及取值范围。</p> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ffaee357193f4dddba9287f189f2d113.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="__122"></a>三. 字符串</h2>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a1f9265fd0f4492e8037962e9cded270.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>char()与varchar(): 例如对于简体中文字符集gbk的字符串而言，varchar(255)表示可以存储255个汉字，而每个汉字占用两个字节的存储空间。假如这个字符串没有那么多汉字，例如仅仅包含一个‘中’字，那么varchar(255)仅仅占用1个字符（两个字节）的储存空间；而char(255)则必须占用255个字符长度的存储空间，哪怕里面只存储一个汉字。</li><li>各个类别存储空间及取值范围。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/08b9e591ef9a4939bdb28caac0f9e340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="__129"></a>四. 日期类型</h2>
<ul><li>date表示日期，默认格式为‘YYYY-MM-DD’； time表示时间，格式为‘HH:ii:ss’； year表示年份； datetime与timestamp是日期和时间的混合类型，格式为’YYYY-MM-DD HH:ii:ss’。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8b1dfde80d2d415db59240682d88a016.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li><li>datetime与timestamp都是日期和时间的混合类型，区别在于： 表示的取值范围不同，datetime的取值范围远远大于timestamp的取值范围。 将NULL插入timestamp字段后，该字段的值实际上是MySQL服务器当前的日期和时间。 同一个timestamp类型的日期或时间，不同的时区，显示结果不同。</li><li>各个类别存储空间及取值范围。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e4b520c7104349b7a8c7dc26e29d8161.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="__137"></a>五. 复合类型</h2>
<ul><li>MySQL 支持两种复合数据类型：enum枚举类型和set集合类型。 enum类型的字段类似于单选按钮的功能，一个enum类型的数据最多可以包含65535个元素。 set 类型的字段类似于复选框的功能，一个set类型的数据最多可以包含64个元素。</li></ul>
<h2><a id="__142"></a>六. 二进制类型</h2>
<ul><li>二进制类型的字段主要用于存储由‘0’和‘1’组成的字符串，因此从某种意义上将，二进制类型的数据是一种特殊格式的字符串。</li><li>二进制类型与字符串类型的区别在于：字符串类型的数据按字符为单位进行存储，因此存在多种字符集、多种字符序；而二进制类型的数据按字节为单位进行存储，仅存在二进制字符集binary。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8893e04e9e4a4525913ee8f9d498285b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<hr color="#000000" size='1"'/>
<h1><a id="_155"></a>【约束】</h1>
<ul><li>约束是一种限制，它通过对表的行或列的数据做出限制，来确保表的数据的完整性、唯一性。下面文章就来给大家介绍一下6种mysql常见的约束，希望对大家有所帮助。</li></ul>
<h2><a id="_not_null_158"></a>一. 非空约束(not null)</h2>
<ul><li> <p>非空约束用于确保当前列的值不为空值，非空约束只能出现在表对象的列上。</p> </li><li> <p>Null类型特征：所有的类型的值都可以是null，包括int、float 等数据类型</p> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f3e5d6604b524ce8aef15fb405c6553c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_unique_167"></a>二. 唯一性约束(unique)</h2>
<ul><li>唯一约束是指定table的列或列组合不能重复，保证数据的唯一性。</li><li>唯一约束不允许出现重复的值，但是可以为多个null。</li><li>同一个表可以有多个唯一约束，多个列组合的约束。</li><li>在创建唯一约束时，如果不给唯一约束名称，就默认和列名相同。</li><li>唯一约束不仅可以在一个表内创建，而且可以同时多表创建组合唯一约束。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3f0ff2876176474fa04f5a14cce677ed.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_primary_key_PK_178"></a>三. 主键约束(primary key) PK</h2>
<ul><li> <p>主键约束相当于 唯一约束 + 非空约束 的组合，主键约束列不允许重复，也不允许出现空值。</p> </li><li> <p>每个表最多只允许一个主键，建立主键约束可以在列级别创建，也可以在表级别创建。</p> </li><li> <p>当创建主键的约束时，系统默认会在所在的列和列组合上建立对应的唯一索引。</p> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8d0cd7d7c03f427ba314e37f87ffb929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_foreign_key_FK_190"></a>四. 外键约束(foreign key) FK</h2>
<ul><li> <p>外键约束是用来加强两个表（主表和从表）的一列或多列数据之间的连接的，可以保证一个或两个表之间的参照完整性，外键是构建于一个表的两个字段或是两个表的两个字段之间的参照关系。</p> </li><li> <p>创建外键约束的顺序是先定义主表的主键，然后定义从表的外键。也就是说只有主表的主键才能被从表用来作为外键使用，被约束的从表中的列可以不是主键，主表限制了从表更新和插入的操作。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b3fe5727f84d4cc091f1192fb4557ec0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p> </li></ul>
<h2><a id="__Default_198"></a>五. 默认值约束 (Default)</h2>
<ul><li>若在表中定义了默认值约束，用户在插入新的数据行时，如果该行没有指定数据，那么系统将默认值赋给该列，如果我们不设置默认值，系统默认为NULL。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d72aea4d63814588ac939259ef07e69f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_AUTO_INCREMENT_205"></a>六. 自增约束(AUTO_INCREMENT)</h2>
<ul><li> <p>自增约束(AUTO_INCREMENT)可以约束任何一个字段，该字段不一定是PRIMARY KEY字段，也就是说自增的字段并不等于主键字段。</p> </li><li> <p>但是PRIMARY_KEY约束的主键字段，一定是自增字段，即PRIMARY_KEY 要与AUTO_INCREMENT一起作用于同一个字段。</p> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ba78411f14a64e98943c6770dd95d9c2.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p>当插入第一条记录时，自增字段没有给定一个具体值，可以写成DEFAULT/NULL，那么以后插入字段的时候，该自增字段就是从1开始，没插入一条记录，该自增字段的值增加1。当插入第一条记录时，给自增字段一个具体值，那么以后插入的记录在此自增字段上的值，就在第一条记录该自增字段的值的基础上每次增加1。也可以在插入记录的时候，不指定自增字段，而是指定其余字段进行插入记录的操作。</p>
<hr color="#000000" size='1"'/>
<h1><a id="_223"></a>【常用命令】</h1>
<h2><a id="_224"></a>登录数据库相关命令</h2>
<h3><a id="__226"></a>一. 启动服务</h3>
<p>语法：</p>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> net stop mysql
</code></pre>
<h3><a id="__233"></a>二. 关闭服务</h3>
<p>语法：</p>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> net start mysql
</code></pre>
<h3><a id="_MySQL_241"></a>三. 链接MySQL</h3>
<ul><li>语法：<code>mysql -u用户名 -p密码</code>;</li></ul>
<pre><code class="prism language-shell">root@243ecf24bd0a:/ mysql -uroot -p123456<span class="token punctuation">;</span>
</code></pre>
<ul><li>在以上命令行中，mysql 代表客户端命令，-u 后面跟连接的数据库用户，-p 表示需要输入密码。如果数据库设置正常，并输入正确的密码，将看到上面一段欢迎界面和一个 mysql&gt;提示符。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ed219eb883da4bb8937e7deed1aa694c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li></ul>
<h3><a id="__249"></a>四. 退出数据库</h3>
<ul><li>语法：<code>quit</code></li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> quit
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e5e9c07eaefa49e29ee523ee0676c0e3.png"/></li></ul>
<hr color="#000000" size='1"'/>
<h2><a id="DDLData_Definition_Languages_262"></a>DDL（Data Definition Languages）语句：即数据库定义语句</h2>
<blockquote>
<p>对于数据库而言实际上每一张表都表示是一个数据库的对象，而数据库对象指的就是DDL定义的所有操作，例如：表，视图，索引，序列，约束等等，都属于对象的操作，所以表的建立就是对象的建立，而对象的操作主要分为以下三类语法</p>
</blockquote>
<ul><li>创建对象：CREATE 对象名称;</li><li>删除对象：DROP 对象名称;</li><li>修改对象：ALTER 对象名称;</li></ul>
<h3><a id="_270"></a>数据库相关操作</h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f15b87b081ce4f0d938ca1b76e03f2e7.gif#pic_center"/></p>
<h4><a id="__276"></a>一. 创建数据库</h4>
<ul><li>语法：<code>create database 数据库名字</code>;</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> create database sqltest<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/eafc5281bb574243a3f086a31b6f8e5c.png"/></li></ul>
<h4><a id="__287"></a>二. 查看已经存在的数据库</h4>
<ul><li>语法：<code>show databases</code>;</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/73f05f84b5e24eb381f380dc9784cb83.png"/></li></ul>
<p>可以发现，在上面的列表中除了刚刚创建的 mzc-test，sqltest，外，还有另外 4 个数据库，它们都是安装MySQL 时系统自动创建的，其各自功能如下。</p>
<ol><li>information_schema：主要存储了系统中的一些数据库对象信息。比如用户表信息、列信息、权限信息、字符集信息、分区信息等。</li><li>cluster：存储了系统的集群信息。</li><li>mysql：存储了系统的用户权限信息。</li><li>test：系统自动创建的测试数据库，任何用户都可以使用。</li></ol>
<h4><a id="__304"></a>三. 选择数据库</h4>
<ul><li>语法：<code>use 数据库名</code>;</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> use mzc-test<span class="token punctuation">;</span>
</code></pre>
<ul><li>返回<code>Database changed</code>代表我们已经选择 sqltest 数据库，后续所有操作将在 sqltest 数据库上执行。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/95bcb35d5acb40e98ef4d1d6f6d0c64d.png"/></li><li>有些人可能会问到，连接以后怎么退出。其实，不用退出来，use 数据库后，使用show databases就能查询所有数据库，如果想跳到其他数据库，用use 其他数据库名字。</li></ul>
<h4><a id="__315"></a>四. 查看数据库中的表</h4>
<ul><li>语法：show <code>tables</code>;</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2f3976d4973f4f55b17f462ec15b72df.png"/></li></ul>
<h4><a id="__326"></a>五. 删除数据库</h4>
<ul><li>语法：<code>drop database 数据库名称</code>;</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> drop database mzc-test<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/28cd147f278d465cb89cc5d9021d9ea6.png"/></li><li>注意：删除时，最好用 `` 符号把表明括起来</li></ul>
<h4><a id="__338"></a>六. 设置表的类型</h4>
<ul><li>MySQL的数据表类型：<code>MyISAM</code>、<code>InnoDB</code>、HEAP、 BOB、CSV等</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2181dae5b0a046cab1f8355ef81fa039.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/><br/> 语法：</p>
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
	<span class="token comment">#省略代码</span>
）<span class="token keyword">ENGINE</span><span class="token operator">=</span> <span class="token keyword">InnoDB</span><span class="token punctuation">;</span>
</code></pre>
<p>适用场景：</p>
<pre><code>1. 使用MyISAM：节约空间及响应速度快；不需事务，空间小，以查询访问为主
2. 使用InnoDB：安全性，事务处理及多用户操作数据表；多删除、更新操作，安全性高，事务处理及并发控制
</code></pre>
<h5><a id="1_mysql_354"></a>1. 查看mysql所支持的引擎类型</h5>
<p>语法：</p>
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> ENGINES
</code></pre>
<p>结果：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c99eb52469624d90939bb5f615173aa8.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h5><a id="2__363"></a>2. 查看默认引擎</h5>
<p>语法：</p>
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'storage_engine'</span><span class="token punctuation">;</span>
</code></pre>
<p>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/988a3bfc75b1473ca3dc197130b8cff7.png"/></p>
<hr color="#000000" size='1"'/>
<h3><a id="_376"></a>数据库表相关操作</h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/60b7fe5091904a14aecdc32b79929aa2.gif#pic_center"/></p>
<h4><a id="__381"></a>一. 创建表</h4>
<p>语法：<code>create table 表名 {列名,数据类型,约束条件};</code></p>
<pre><code class="prism language-shell">CREATE TABLE <span class="token variable"><span class="token variable">`</span>Student<span class="token variable">`</span></span><span class="token punctuation">(</span>
	<span class="token variable"><span class="token variable">`</span>s_id<span class="token variable">`</span></span> VARCHAR<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>,
	<span class="token variable"><span class="token variable">`</span>s_name<span class="token variable">`</span></span> VARCHAR<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> NOT NULL DEFAULT <span class="token string">''</span>,
	<span class="token variable"><span class="token variable">`</span>s_birth<span class="token variable">`</span></span> VARCHAR<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> NOT NULL DEFAULT <span class="token string">''</span>,
	<span class="token variable"><span class="token variable">`</span>s_sex<span class="token variable">`</span></span> VARCHAR<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> NOT NULL DEFAULT <span class="token string">''</span>,
	PRIMARY KEY<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>s_id<span class="token variable">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>结果<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/58f111836ea84134ac9d67f65c728bda.png"/></li></ul>
<p>注意：表名还请遵守数据库的命名规则，这条数据后面要进行删除，所以首字母为大写。</p>
<h4><a id="__398"></a>二. 查看表定义</h4>
<ul><li>语法：<code>desc 表名</code></li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> desc Student<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0ff854714afb4e6b9a859e98cef55d66.png"/></li><li>虽然 desc 命令可以查看表定义，但是其输出的信息还是不够全面，为了查看更全面的表定义信息，有时就需要通过查看创建表的 SQL 语句来得到，可以使用如下命令实现</li><li>语法：<code>show create table 表名 \G;</code></li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> show create table Student <span class="token punctuation">\</span>G<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e2ab9e77231a44baad0a51c20d6e550b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li><li>从上面表的创建 SQL 语句中，除了可以看到表定义以外，还可以看到表的engine（存储引擎）和charset（字符集）等信息。<code>\G</code>选项的含义是使得记录能够按照字段竖着排列，对于内容比较长的记录更易于显示。</li></ul>
<h4><a id="__416"></a>三. 删除表</h4>
<ul><li>语法：<code>drop table 表名</code></li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> drop table Student<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2409c00136ea481294b62aa6c478389b.png"/></p>
<h4><a id="___424"></a>四. 修改表 (重要)</h4>
<ul><li>对于已经创建好的表，尤其是已经有大量数据的表，如果需要对表做一些结构上的改变，我们可以先将表删除（drop），然后再按照新的表定义重建表。这样做没有问题，但是必然要做一些额外的工作，比如数据的重新加载。而且，如果有服务在访问表，也会对服务产生影响。因此，在大多数情况下，表结构的更改一般都使用 alter table语句，以下是一些常用的命令。</li></ul>
<h5><a id="1__427"></a>1. 修改表类型</h5>
<ul><li>语法：<code>ALTER TABLE 表名 MODIFY [COLUMN] column_definition [FIRST | AFTER col_name]</code></li><li>例如，修改表 student 的 s_name 字段定义，将 varchar(20)改为 varchar(30)</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table Student modify s_name varchar<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/94968663b88c44eeb62cc1d35e0b2aa7.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li></ul>
<h5><a id="2__435"></a>2. 增加表字段</h5>
<ul><li>语法：<code>ALTER TABLE 表名 ADD [COLUMN] [FIRST | AFTER col_name];</code></li><li>例如，表 student 上新增加字段 s_test，类型为 int(3)</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table student <span class="token function">add</span> <span class="token function">column</span> s_test int<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/df997c4a64ea49c5a57348fb51313a19.png"/></li></ul>
<h5><a id="3__443"></a>3. 删除表字段</h5>
<ul><li>语法：<code>ALTER TABLE 表名 DROP [COLUMN] col_name</code></li><li>例如，将字段 s_test 删除掉</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table Student drop <span class="token function">column</span> s_test<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/74afa84ea422434b9cc4844f504f9b37.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li></ul>
<h5><a id="4__451"></a>4. 字段改名</h5>
<ul><li>语法：<code>ALTER TABLE 表名 CHANGE [COLUMN] old_col_name column_definition [FIRST|AFTER col_name]</code></li><li>例如，将 s_sex 改名为 s_sex1，同时修改字段类型为 int(4)</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table Student change s_sex s_sex1 int<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/76a28a1dc8a845919a49dee8f2eb8e99.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li></ul>
<p>注意：change 和 modify 都可以修改表的定义，不同的是 change 后面需要写两次列名，不方便。但是 change 的优点是可以修改列名称，modify 则不能。</p>
<h5><a id="5__463"></a>5. 修改字段排列顺序</h5>
<ul><li> <p>前面介绍的的字段增加和修改语法（ADD/CNAHGE/MODIFY）中，都有一个可选项first|after column_name，这个选项可以用来修改字段在表中的位置，默认 ADD 增加的新字段是加在表的最后位置，而 CHANGE/MODIFY 默认都不会改变字段的位置。</p> </li><li> <p>例如，将新增的字段 s_test 加在 s_id 之后</p> </li><li> <p>语法：<code>alter table 表名 add 列名 数据类型 after 列名;</code></p> </li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table Student <span class="token function">add</span> s_test <span class="token function">date</span> after s_id<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fcc52c86f50c4e0988cab7be12d52d4a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li><li>修改已有字段 s_name，将它放在最前面</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table Student modify s_name varchar<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> default <span class="token string">''</span> first<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/66f566832b95427f9d02c1bd9ccf6a84.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li></ul>
<p>注意：CHANGE/FIRST|AFTER COLUMN 这些关键字都属于 MySQL 在标准 SQL 上的扩展，在其他数据库上不一定适用。</p>
<h5><a id="6_485"></a>6.表名修改</h5>
<ul><li>语法：<code>ALTER TABLE 表名 RENAME [TO] new_tablename</code></li><li>例如，将表 Student 改名为 student</li></ul>
<pre><code class="prism language-shell">mysql<span class="token operator">&gt;</span> alter table Student <span class="token function">rename</span> student<span class="token punctuation">;</span>
</code></pre>
<ul><li>结果：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2773e6372c3f4d969a4192b4a2c2a563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></li></ul>
<hr color="#000000" size='1"'/>
<h2><a id="DMLData_Manipulation_Language_496"></a>DML（Data Manipulation Language）语句：即数据操纵语句</h2>
<ul><li>用于操作数据库对象中所包含的数据</li></ul>
<h3><a id="_INSERT_499"></a>一. 添加数据：INSERT</h3>
<p>Insert 语句用于向数据库中插入数据</p>
<h4><a id="1__503"></a>1. 插入单条数据（常用）</h4>
<p>语法：<code>insert into 表名(列名1,列名2,...) values(值1,值2,...)</code></p>
<p>特点：</p>
<ul><li>插入值的类型要与列的类型一致或兼容。插入NULL可实现为列插入NULL值。列的顺序可以调换。列数和值的个数必须一致。可省略列名，默认所有列，并且列的顺序和表中列的顺序一致。</li></ul>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token comment">-- 插入学生表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student<span class="token punctuation">(</span>s_id<span class="token punctuation">,</span>s_name<span class="token punctuation">,</span>s_birth<span class="token punctuation">,</span>s_sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'赵信'</span> <span class="token punctuation">,</span> <span class="token string">'1990-01-01'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/cc0737e6d4e142f4bfb5dad1e973ac95.png"/></p>
<h4><a id="2__519"></a>2. 插入单条数据</h4>
<p>语法：<code>INSERT INTO 表名 SET 列名 = 值，列名 = 值</code></p>
<ul><li>这种方式每次只能插入一行数据，每列的值通过赋值列表制定。</li></ul>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student <span class="token keyword">SET</span> s_id<span class="token operator">=</span><span class="token string">'02'</span><span class="token punctuation">,</span>s_name<span class="token operator">=</span><span class="token string">'德莱厄斯'</span><span class="token punctuation">,</span>s_birth<span class="token operator">=</span><span class="token string">'1990-01-01'</span><span class="token punctuation">,</span>s_sex<span class="token operator">=</span><span class="token string">'男'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/26c40bdc8d0a480db047204ba07a761c.png"/></p>
<h4><a id="3__529"></a>3. 插入多条数据</h4>
<p>语法：<code>insert into 表名 values(值1,值2,值3),(值4,值5,值6),(值7,值8,值9);</code></p>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'03'</span><span class="token punctuation">,</span><span class="token string">'艾希'</span><span class="token punctuation">,</span><span class="token string">'1990-01-01'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'04'</span><span class="token punctuation">,</span><span class="token string">'德莱文'</span><span class="token punctuation">,</span><span class="token string">'1990-08-06'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'05'</span><span class="token punctuation">,</span><span class="token string">'俄洛依'</span><span class="token punctuation">,</span><span class="token string">'1991-12-01'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b2114cc9e64b4c25ac61135bddde5742.png"/></p>
<blockquote>
<p>上面的例子中，值1,值2,值3),(值4,值5,值6),(值7,值8,值9) 即为 Value List，其中每个括号内部的数据表示一行数据，这个例子中插入了三行数据。Insert 语句也可以只给部分列插入数据，这种情况下，需要在 Value List 之前加上 ColumnName List，</p>
</blockquote>
<p>例如：</p>
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student<span class="token punctuation">(</span>s_name<span class="token punctuation">,</span>s_sex<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'艾希'</span><span class="token punctuation">,</span><span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'德莱文'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>每行数据只指定了 s_name 和 s_sex 这两列的值，其他列的值会设为 Null。</li></ul>
<h4><a id="4__548"></a>4. 表数据复制</h4>
<p>语法：INSERT INTO 表名 SELECT * from 表名;</p>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> student <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> student1<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6ed545aab17e4277a643edc89245b188.png"/>注意：</p>
<ul><li>两个表的字段需要一直，并尽量保证要新增的表中没有数据</li></ul>
<h3><a id="_UPDATE_561"></a>二. 更新数据：UPDATE</h3>
<p>Update 语句一共有两种语法，分别用于更新单表数据和多表数据。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/28b77e7ce41f4b23832613ed70f5ecbe.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li><code>注意：没有 WHERE 条件的 UPDATE 会更新所有值！</code></li></ul>
<h4><a id="1__568"></a>1. 修改一条数据的某个字段</h4>
<p>语法：<code>UPDATE 表名 SET 字段名 =值 where 字段名=值</code></p>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> student <span class="token keyword">SET</span> s_name <span class="token operator">=</span><span class="token string">'张三'</span> <span class="token keyword">WHERE</span> s_id <span class="token operator">=</span><span class="token string">'01'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f3ecb27e165b4b0a8e037657fd0c8973.png"/></p>
<h4><a id="2__580"></a>2. 修改多个字段为同一的值</h4>
<p>语法：<code>UPDATE 表名 SET 字段名= 值 WHERE 字段名 in ('值1','值2','值3');</code></p>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> student <span class="token keyword">SET</span> s_name <span class="token operator">=</span> <span class="token string">'李四'</span> <span class="token keyword">WHERE</span> s_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'01'</span><span class="token punctuation">,</span><span class="token string">'02'</span><span class="token punctuation">,</span><span class="token string">'03'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/81fc907de8bb4c17a001a13cfa4b1e17.png"/></p>
<h4><a id="3_case_when_589"></a>3. 使用case when实现批量更新</h4>
<p>语法：<code>update 表名 set 字段名 = case 字段名 when 值1 then '值' when 值2 then '值' when 值3 then '值' end where s_id in (值1,值2,值3)</code></p>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">update</span> student <span class="token keyword">set</span> s_name <span class="token operator">=</span> <span class="token keyword">case</span> s_id <span class="token keyword">when</span> <span class="token number">01</span> <span class="token keyword">then</span> <span class="token string">'小王'</span> <span class="token keyword">when</span> <span class="token number">02</span> <span class="token keyword">then</span> <span class="token string">'小周'</span> <span class="token keyword">when</span> <span class="token number">03</span> <span class="token keyword">then</span> <span class="token string">'老周'</span> <span class="token keyword">end</span> <span class="token keyword">where</span> s_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">01</span><span class="token punctuation">,</span><span class="token number">02</span><span class="token punctuation">,</span><span class="token number">03</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0aa2f860468d449bb1fb240550bcb83a.png"/></p>
<ul><li>这句sql的意思是，更新 s_name 字段，如果 s_id 的值为 01 则 s_name 的值为 小王，s_id = 02 则 s_name = 小周，如果s_id =03 则 s_name 的值为 老周。</li><li>这里的where部分不影响代码的执行，但是会提高sql执行的效率。确保sql语句仅执行需要修改的行数，这里只有3条数据进行更新，而where子句确保只有3行数据执行。</li></ul>
<p>案例 2：</p>
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> student <span class="token keyword">SET</span> s_birth <span class="token operator">=</span> <span class="token keyword">CASE</span> s_name
	<span class="token keyword">WHEN</span> <span class="token string">'小王'</span> <span class="token keyword">THEN</span>
		<span class="token string">'2019-01-20'</span>
	<span class="token keyword">WHEN</span> <span class="token string">'小周'</span> <span class="token keyword">THEN</span>
		<span class="token string">'2019-01-22'</span>
<span class="token keyword">END</span> <span class="token keyword">WHERE</span> s_name <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'小王'</span><span class="token punctuation">,</span><span class="token string">'小周'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a6e7eb3292144e74bbf2f92d7e0d8310.png"/></p>
<h3><a id="_DELETE_615"></a>三. 删除数据：DELETE</h3>
<ul><li>数据库一旦删除数据，它就会永远消失。 因此，在执行DELETE语句之前，应该先备份数据库，以防万一要找回删除过的数据。</li></ul>
<h4><a id="1__619"></a>1. 删除指定数据</h4>
<p>语法：<code>DELETE FROM 表名 WHERE 列名=值</code></p>
<ul><li>注意：删除的时候如果不指定where条件，则保留数据表结构，删除全部数据行，有主外键关系的都删不了</li></ul>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_id<span class="token operator">=</span><span class="token string">'09'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f53d6a06ef8a41c781b71e8f4e4452ea.png"/>与 SELECT 语句不同的是，<code>DELETE 语句中不能使用 GROUP BY、 HAVING 和 ORDER BY 三类子句，而只能使用WHERE 子句。</code>原因很简单， GROUP BY 和 HAVING 是从表中选取数据时用来改变抽取数据形式的， 而 ORDER BY 是用来指定取得结果显示顺序的。因此，在删除表中数据 时它们都起不到什么作用。`</p>
<h4><a id="2__633"></a>2. 删除表中全部数据</h4>
<p>语法：<code>TRUNCATE 表名;</code></p>
<ul><li> <p>注意：全部删除，内存无痕迹，如果有自增会重新开始编号。</p> </li><li> <p>与 DELETE 不同的是，TRUNCATE 只能删除表中的全部数据，而不能通过 WHERE 子句指定条件来删除部分数据。也正是因为它不能具体地控制删除对象， 所以其处理速度比 DELETE 要快得多。实际上，DELETE 语句在 DML 语句中也 属于处理时间比较长的，因此需要删除全部数据行时，使用 TRUNCATE 可以缩短 执行时间。</p> </li></ul>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">TRUNCATE</span> student1<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c027235fd6bc404b80744a085b7ecddd.png"/></p>
<hr color="#000000" size='1"'/>
<h2><a id="DQLData_Query_Language_652"></a>DQL（Data Query Language）语句：即数据查询语句</h2>
<ul><li>查询数据库中的记录，关键字 SELECT，<strong>这块内容非常重要！</strong></li></ul>
<h3><a id="_wherer__656"></a>一. wherer 条件语句</h3>
<p>语法：<code>select 列名 from 表名 where 列名 =值</code></p>
<p>where的作用：</p>
<ol><li>用于检索数据表中符合条件的记录</li><li>搜索条件可由一个或多个逻辑表达式组成，结果一般为真或假</li></ol>
<p><strong>搜索条件的组成：</strong></p>
<ul><li>算数运算符</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f2f094c59f4a442eb114b662fbb77008.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>逻辑操作符（操作符有两种写法）<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/66df9e8856414ddeb28f6b1f198ad3de.png"/></li><li>比较运算符</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d494a96213ce4a7eaa3ceb75575fda00.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p>注意：<code>数值数据类型的记录之间才能进行算术运算，相同数据类型的数据之间才能进行比较。</code></p>
<blockquote>
<p><strong>表数据</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6d314527cf7b49dea82afa129de25908.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
</blockquote>
<p>案例 1（AND）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">=</span><span class="token string">'小王'</span> <span class="token operator">AND</span> s_sex<span class="token operator">=</span><span class="token string">'男'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0eafa04ce0b046838413f2b118501334.png"/><br/> 案例 2（OR）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">=</span><span class="token string">'崔丝塔娜'</span> <span class="token operator">OR</span> s_sex<span class="token operator">=</span><span class="token string">'男'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/11a73b5670a24309911643dc1aaca875.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p>案例 3（NOT）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> <span class="token operator">NOT</span> s_name <span class="token operator">=</span><span class="token string">'崔丝塔娜'</span> 
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/cd621969ff214d75b4ac45902f5c70c3.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/><br/> 案例 4（IS NULL）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/23ac7490a01a4d5297333d2bdc21a11b.png"/><br/> 案例 5（IS NOT NULL）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/90695dd631f94537a06142512be14be0.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/><br/> 案例 6（BETWEEN）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_birth <span class="token operator">BETWEEN</span> <span class="token string">'2019-01-20'</span> <span class="token operator">AND</span> <span class="token string">'2019-01-22'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c5f7d9ec460d4b13ba2374273a4beff5.png"/></p>
<p>案例 7（LINK）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">LIKE</span> <span class="token string">'小%'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2ef87a755b5e4f708e53495cf1b16d77.png"/></p>
<p>案例 8（IN）：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'小王'</span><span class="token punctuation">,</span><span class="token string">'小周'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2b9fc03c60444a5cb59f32acfd420370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="_as__737"></a>二. as 取别名</h3>
<ul><li>表里的名字没有变，只影响了查询出来的结果</li></ul>
<p>案例：</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> s_name <span class="token keyword">as</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">FROM</span> student 
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1f442275ab194b72a7689b01fbd1fb99.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>使用as也可以为表取别名 <strong>（作用：单表查询意义不大，但是当多个表的时候取别名就好操作，当不同的表里有相同名字的列的时候区分就会好区分）</strong></li></ul>
<h3><a id="_distinct__752"></a>三. distinct 去除重复记录</h3>
<ul><li>注意：当查询结果中所有字段全都相同时 才算重复的记录</li></ul>
<p>案例</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fbae5772fb744a79adc1adc43aee4d77.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p><strong>指定字段</strong></p>
<ol><li>星号表示所有字段</li><li>手动指定需要查询的字段</li></ol>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> s_name<span class="token punctuation">,</span>s_birth <span class="token keyword">FROM</span> student
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3afe0916f1f84530948fd55a33e6285a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ol start="3"><li>还可也是四则运算</li><li>聚合函数</li></ol>
<h3><a id="_group_by__777"></a>四. group by 分组</h3>
<ul><li>group by的意思是根据by对数据按照哪个字段进行分组，或者是哪几个字段进行分组。</li></ul>
<p>语法：</p>
<pre><code class="prism language-sql"><span class="token keyword">select</span> 字段名 <span class="token keyword">from</span> 表名 <span class="token keyword">group</span> <span class="token keyword">by</span> 字段名称<span class="token punctuation">;</span>
</code></pre>
<h4><a id="1__785"></a>1. 单个字段分组</h4>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">FROM</span> student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s_sex<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/890e8b1fef52458c926ae286fc032d07.png"/></p>
<h4><a id="2__790"></a>2. 多个字段分组</h4>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> s_name<span class="token punctuation">,</span>s_sex<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s_name<span class="token punctuation">,</span>s_sex<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f6b31c834872470f8416047532692aa6.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>注意：多个字段进行分组时，需要将s_name和s_sex看成一个整体，只要是s_name和s_sex相同的可以分成一组；如果只是s_sex相同，s_sex不同就不是一组。</li></ul>
<h3><a id="_having__799"></a>五. having 过滤</h3>
<ul><li>HAVING 子句对 GROUP BY 子句设置条件的方式与 WHERE 和 SELECT 的交互方式类似。WHERE 搜索条件在进行分组操作之前应用；而 HAVING 搜索条件在进行分组操作之后应用。HAVING 语法与 WHERE 语法类似，但 HAVING 可以包含聚合函数。HAVING 子句可以引用选择列表中显示的任意项。</li></ul>
<p>我们如果要查询男生或者女生，人数大于4的性别</p>
<pre><code class="prism language-sql">
<span class="token keyword">SELECT</span> s_sex <span class="token keyword">as</span> 性别<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>s_id<span class="token punctuation">)</span> <span class="token keyword">AS</span> 人数 <span class="token keyword">FROM</span> student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s_sex <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>s_id<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">4</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/666914d0b8ee4899902a785c57a77b53.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="_order_by__813"></a>六. order by 排序</h3>
<ul><li>根据某个字段排序，默认升序(从小到大)</li></ul>
<p>语法：</p>
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名 <span class="token keyword">order</span> <span class="token keyword">by</span> 字段名<span class="token punctuation">;</span>
</code></pre>
<h4><a id="1__821"></a>1. 一个字段，降序（从大到小）</h4>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> s_id <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/845119940241447e9041c8e4180803cc.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h4><a id="2__826"></a>2. 多个字段</h4>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> s_id <span class="token keyword">DESC</span><span class="token punctuation">,</span> s_birth <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f750c5745edb49659815fb190b578b0d.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>多个字段 第一个相同在按照第二个 asc 表示升序</li></ul>
<h3><a id="limit__838"></a>limit 分页</h3>
<ul><li>用于限制要显示的记录数量</li></ul>
<p>语法1:</p>
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> table_name <span class="token keyword">limit</span> 个数<span class="token punctuation">;</span>
</code></pre>
<p>语法2:</p>
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> table_name <span class="token keyword">limit</span> 起始位置<span class="token punctuation">,</span>个数<span class="token punctuation">;</span>
</code></pre>
<p>案例：</p>
<ul><li>查询前三条数据</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">LIMIT</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/caa9275fa8e0476384a95fed9f289ce6.png"/></p>
<ul><li>从第三条开始 查询3条</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">LIMIT</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/caaa4bd61f584abd92ac1c35a758f564.png"/></p>
<p>注意：<code>起始位置 从0开始</code></p>
<blockquote>
<p>经典的使用场景:分页显示</p>
</blockquote>
<ol><li>每一页显示的条数 a = 3</li><li>明确当前页数 b = 2</li><li>计算起始位置 c = (b-1) * a</li></ol>
<h3><a id="_875"></a>子查询</h3>
<ul><li>将一个查询语句的结果作为另一个查询语句的条件或是数据来源，​ 当我们一次性查不到想要数据时就需要使用子查询。</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	score 
<span class="token keyword">WHERE</span>
	s_id <span class="token operator">=</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		s_id 
	<span class="token keyword">FROM</span>
		student 
<span class="token keyword">WHERE</span>
	s_name <span class="token operator">=</span> <span class="token string">'赵信'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8610d0e67a424359aec6a5768b107267.png"/></p>
<h4><a id="1_in__900"></a>1. in 关键字子查询</h4>
<ul><li>当内层查询 (括号内的) 结果会有多个结果时, 不能使用 = 必须是in ,另外子查询必须只能包含一列数据</li></ul>
<p>子查询的思路:</p>
<ol><li>要分析 查到最终的数据 到底有哪些步骤</li><li>根据步骤写出对应的sql语句</li><li>把上一个步骤的sql语句丢到下一个sql语句中作为条件</li></ol>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	score 
<span class="token keyword">WHERE</span>
	s_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		s_id 
	<span class="token keyword">FROM</span>
		student 
<span class="token keyword">WHERE</span>
	s_sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/695a8cadfe7246488a6d5b19c3ee470d.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h4><a id="exists__934"></a>exists 关键字子查询</h4>
<ul><li>当内层查询 有结果时 外层才会执行</li></ul>
<h3><a id="_941"></a>多表查询</h3>
<h4><a id="1__943"></a>1. 笛卡尔积查询</h4>
<ul><li>笛卡尔积查询的结果会出现大量的错误数据即,数据关联关系错误,并且会产生重复的字段信息 !</li></ul>
<h4><a id="2__947"></a>2. 内连接查询</h4>
<ul><li>本质上就是笛卡尔积查询，inner可以省略。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/55ea38eec2914c2abdf62d57701a9eb4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p>语法:</p>
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span>  表<span class="token number">1</span> <span class="token keyword">inner</span> <span class="token keyword">join</span> 表<span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="3__960"></a>3. 左外连接查询</h4>
<ul><li>左边的表无论是否能够匹配都要完整显示，右边的仅展示匹配上的记录</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6f13463d6f8947bebc4a4c41cd41b341.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>注意: <code>在外连接查询中不能使用where 关键字 必须使用on专门来做表的对应关系</code></li></ul>
<h4><a id="4__971"></a>4. 右外连接查询</h4>
<ul><li>右边的表无论是否能够匹配都要完整显示，左边的仅展示匹配上的记录</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a09cbedbf5e749289b7850802ae06ba9.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<hr color="#000000" size='1"'/>
<h2><a id="DCLData_Control_Language_979"></a>DCL（Data Control Language）语句：即数据控制语句</h2>
<ul><li>DCL(Data Control Language)语句：数据控制语句，用于控制不同数据段直接的许可和访问级别的语句。这些语句定义了数据库、表、字段、用户的访问权限和安全级别。</li></ul>
<h3><a id="_983"></a>关键字</h3>
<ul><li><strong>GRANT</strong></li><li><strong>REVOKE</strong></li></ul>
<h3><a id="_988"></a>查看用户权限</h3>
<p>当成功创建用户账户后，还不能执行任何操作，需要为该用户分配适当的访问权限。可以使用<code>SHOW GRANTS FOR</code>语句来查询用户的权限。</p>
<p>例如：</p>
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> test<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------+</span>
<span class="token operator">|</span> Grants <span class="token keyword">for</span> test@<span class="token operator">%</span>                         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------+</span>
<span class="token operator">|</span> <span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'test'</span><span class="token variable">@'%'</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre>
<h3><a id="GRANT_1005"></a>GRANT语句</h3>
<ul><li>对于新建的MySQL用户，必须给它授权，可以用GRANT语句来实现对新建用户的授权。</li></ul>
<h4><a id="_1009"></a>格式语法</h4>
<pre><code class="prism language-sql"><span class="token keyword">GRANT</span>
    priv_type <span class="token punctuation">[</span><span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">[</span><span class="token punctuation">,</span> priv_type <span class="token punctuation">[</span><span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">ON</span> <span class="token punctuation">[</span>object_type<span class="token punctuation">]</span> priv_level
    <span class="token keyword">TO</span> <span class="token keyword">user</span> <span class="token punctuation">[</span>auth_option<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span> <span class="token punctuation">[</span>auth_option<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">[</span><span class="token keyword">REQUIRE</span> {NONE <span class="token operator">|</span> tls_option <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">AND</span><span class="token punctuation">]</span> tls_option<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>}<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">WITH</span> {<!-- --><span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span> <span class="token operator">|</span> resource_option} <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>

<span class="token keyword">GRANT</span> PROXY <span class="token keyword">ON</span> <span class="token keyword">user</span>
    <span class="token keyword">TO</span> <span class="token keyword">user</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">[</span><span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">]</span>

object_type: {
    <span class="token keyword">TABLE</span>
  <span class="token operator">|</span> <span class="token keyword">FUNCTION</span>
  <span class="token operator">|</span> <span class="token keyword">PROCEDURE</span>
}

priv_level: {
    <span class="token operator">*</span>
  <span class="token operator">|</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span>
  <span class="token operator">|</span> db_name<span class="token punctuation">.</span><span class="token operator">*</span>
  <span class="token operator">|</span> db_name<span class="token punctuation">.</span>tbl_name
  <span class="token operator">|</span> tbl_name
  <span class="token operator">|</span> db_name<span class="token punctuation">.</span>routine_name
}

<span class="token keyword">user</span>:
    <span class="token punctuation">(</span>see Section <span class="token number">6.2</span><span class="token number">.4</span><span class="token punctuation">,</span> “Specifying Account Names”<span class="token punctuation">)</span>

auth_option: {
    IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'auth_string'</span>
  <span class="token operator">|</span> IDENTIFIED <span class="token keyword">WITH</span> auth_plugin
  <span class="token operator">|</span> IDENTIFIED <span class="token keyword">WITH</span> auth_plugin <span class="token keyword">BY</span> <span class="token string">'auth_string'</span>
  <span class="token operator">|</span> IDENTIFIED <span class="token keyword">WITH</span> auth_plugin <span class="token keyword">AS</span> <span class="token string">'auth_string'</span>
  <span class="token operator">|</span> IDENTIFIED <span class="token keyword">BY</span> PASSWORD <span class="token string">'auth_string'</span>
}

tls_option: {
    SSL
  <span class="token operator">|</span> X509
  <span class="token operator">|</span> CIPHER <span class="token string">'cipher'</span>
  <span class="token operator">|</span> ISSUER <span class="token string">'issuer'</span>
  <span class="token operator">|</span> SUBJECT <span class="token string">'subject'</span>
}

resource_option: {
  <span class="token operator">|</span> MAX_QUERIES_PER_HOUR count
  <span class="token operator">|</span> MAX_UPDATES_PER_HOUR count
  <span class="token operator">|</span> MAX_CONNECTIONS_PER_HOUR count
  <span class="token operator">|</span> MAX_USER_CONNECTIONS count
}
</code></pre>
<h4><a id="priv_type_1067"></a>权限类型(priv_type)</h4>
<ul><li>授权的权限类型一般可以分为数据库、表、列、用户。</li></ul>
<h5><a id="_1073"></a>授予数据库权限类型</h5>
<p>授予数据库权限时，<code>priv_type</code>可以指定为以下值：</p>
<ul><li>SELECT：表示授予用户可以使用 SELECT 语句访问特定数据库中所有表和视图的权限。</li><li>INSERT：表示授予用户可以使用 INSERT 语句向特定数据库中所有表添加数据行的权限。</li><li>DELETE：表示授予用户可以使用 DELETE 语句删除特定数据库中所有表的数据行的权限。</li><li>UPDATE：表示授予用户可以使用 UPDATE 语句更新特定数据库中所有数据表的值的权限。</li><li>REFERENCES：表示授予用户可以创建指向特定的数据库中的表外键的权限。</li><li>CREATE：表示授权用户可以使用 CREATE TABLE 语句在特定数据库中创建新表的权限。</li><li>ALTER：表示授予用户可以使用 ALTER TABLE 语句修改特定数据库中所有数据表的权限。</li><li>SHOW VIEW：表示授予用户可以查看特定数据库中已有视图的视图定义的权限。</li><li>CREATE ROUTINE：表示授予用户可以为特定的数据库创建存储过程和存储函数的权限。</li><li>ALTER ROUTINE：表示授予用户可以更新和删除数据库中已有的存储过程和存储函数的权限。</li><li>INDEX：表示授予用户可以在特定数据库中的所有数据表上定义和删除索引的权限。</li><li>DROP：表示授予用户可以删除特定数据库中所有表和视图的权限。</li><li>CREATE TEMPORARY TABLES：表示授予用户可以在特定数据库中创建临时表的权限。</li><li>CREATE VIEW：表示授予用户可以在特定数据库中创建新的视图的权限。</li><li>EXECUTE ROUTINE：表示授予用户可以调用特定数据库的存储过程和存储函数的权限。</li><li>LOCK TABLES：表示授予用户可以锁定特定数据库的已有数据表的权限。</li><li>SHOW DATABASES：表示授权可以使用SHOW DATABASES语句查看所有已有的数据库的定义的权限。</li><li>ALL或ALL PRIVILEGES：表示以上所有权限。</li></ul>
<h4><a id="_1099"></a>授予表权限类型</h4>
<p>授予表权限时，<code>priv_type</code>可以指定为以下值：</p>
<ul><li>SELECT：授予用户可以使用 SELECT 语句进行访问特定表的权限。</li><li>INSERT：授予用户可以使用 INSERT 语句向一个特定表中添加数据行的权限。</li><li>DELETE：授予用户可以使用 DELETE 语句从一个特定表中删除数据行的权限。</li><li>DROP：授予用户可以删除数据表的权限。</li><li>UPDATE：授予用户可以使用 UPDATE 语句更新特定数据表的权限。</li><li>ALTER：授予用户可以使用 ALTER TABLE 语句修改数据表的权限。</li><li>REFERENCES：授予用户可以创建一个外键来参照特定数据表的权限。</li><li>CREATE：授予用户可以使用特定的名字创建一个数据表的权限。</li><li>INDEX：授予用户可以在表上定义索引的权限。</li><li>ALL或ALL PRIVILEGES：所有的权限名。</li></ul>
<h5><a id="_1120"></a>授予列(字段)权限类型</h5>
<ul><li>授予列(字段)权限时，<code>priv_type</code>的值只能指定为SELECT、INSERT和UPDATE，同时权限的后面需要加上列名列表(column-list)。</li></ul>
<h5><a id="_1126"></a>授予创建和删除用户的权限</h5>
<ul><li>授予列(字段)权限时，<code>priv_type</code>的值指定为CREATE USER权限，具备创建用户、删除用户、重命名用户和撤消所有特权，而且是全局的。</li></ul>
<h4><a id="ON_1134"></a>ON</h4>
<ul><li>有ON，是授予权限，无ON，是授予角色。如：</li></ul>
<pre><code class="prism language-sql"><span class="token comment">-- 授予数据库db1的所有权限给指定账户</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> db1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">'user1'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
<span class="token comment">-- 授予角色给指定的账户</span>
<span class="token keyword">GRANT</span> <span class="token string">'role1'</span><span class="token punctuation">,</span> <span class="token string">'role2'</span> <span class="token keyword">TO</span> <span class="token string">'user1'</span><span class="token variable">@'localhost'</span><span class="token punctuation">,</span> <span class="token string">'user2'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="object_type_1146"></a>对象类型(object_type)</h4>
<ul><li>在ON关键字后给出要授予权限的object_type，通常object_type可以是数据库名、表名等。</li></ul>
<h4><a id="priv_level_1152"></a>权限级别(priv_level)</h4>
<p>指定权限级别的值有以下几类格式：</p>
<ul><li>*：表示当前数据库中的所有表。</li><li><em>.</em>：表示所有数据库中的所有表。</li><li>db_name.*：表示某个数据库中的所有表，db_name指定数据库名。</li><li>db_name.tbl_name：表示某个数据库中的某个表或视图，db_name指定数据库名，tbl_name指定表名或视图名。</li><li>tbl_name：表示某个表或视图，tbl_name指定表名或视图名。</li><li>db_name.routine_name：表示某个数据库中的某个存储过程或函数，routine_name指定存储过程名或函数名。</li></ul>
<h4><a id="user_1165"></a>被授权的用户(user)</h4>
<pre><code class="prism language-sql"><span class="token string">'user_name'</span><span class="token variable">@'host_name'</span>
</code></pre>
<ul><li>Tips：'host_name’用于适应从任意主机访问数据库而设置的，可以指定某个地址或地址段访问。</li><li>可以同时授权多个用户。</li></ul>
<p>user表中host列的默认值</p>
<table><thead><tr><th>host</th><th>说明</th></tr></thead><tbody><tr><td>%</td><td>匹配所有主机</td></tr><tr><td>localhost</td><td>localhost不会被解析成IP地址，直接通过UNIXsocket连接</td></tr><tr><td>127.0.0.1</td><td>会通过TCP/IP协议连接，并且只能在本机访问</td></tr><tr><td>::1</td><td>::1就是兼容支持ipv6的，表示同ipv4的127.0.0.1</td></tr></tbody></table>
<p>host_name格式有以下几种：</p>
<ul><li>使用%模糊匹配，符合匹配条件的主机可以访问该数据库实例，例如192.168.2.%或%.test.com；</li><li>使用localhost、127.0.0.1、::1及服务器名等，只能在本机访问；</li><li>使用ip地址或地址段形式，仅允许该ip或ip地址段的主机访问该数据库实例，例如192.168.2.1或192.168.2.0/24或192.168.2.0/255.255.255.0；</li><li>省略即默认为%。</li></ul>
<h4><a id="auth_option_1197"></a>身份验证方式(auth_option)</h4>
<ul><li>auth_option为可选字段，可以指定密码以及认证插件(mysql_native_password、sha256_password、caching_sha2_password)。</li></ul>
<h4><a id="tls_option_1201"></a>加密连接(tls_option)</h4>
<ul><li>tls_option为可选的，一般是用来加密连接。</li></ul>
<h4><a id="resource_option_1205"></a>用户资源限制(resource_option)</h4>
<ul><li>resource_option为可选的，一般是用来指定最大连接数等。</li></ul>
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>MAX_QUERIES_PER_HOUR count</td><td>每小时最大查询数</td></tr><tr><td>MAX_UPDATES_PER_HOUR count</td><td>每小时最大更新数</td></tr><tr><td>MAX_CONNECTIONS_PER_HOUR count</td><td>每小时连接次数</td></tr><tr><td>MAX_USER_CONNECTIONS count</td><td>用户最大连接数</td></tr></tbody></table>
<h4><a id="_1221"></a>权限生效</h4>
<ul><li>若要权限生效，需要执行以下语句：</li></ul>
<pre><code class="prism language-sql">FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="REVOKE_1233"></a>REVOKE语句</h3>
<ul><li>REVOKE语句主要用于撤销权限。</li></ul>
<h4><a id="_1237"></a>语法格式</h4>
<ul><li><code>REVOKE</code>语法和<code>GRANT</code>语句的语法格式相似，但具有相反的效果</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">REVOKE</span>
    priv_type <span class="token punctuation">[</span><span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">[</span><span class="token punctuation">,</span> priv_type <span class="token punctuation">[</span><span class="token punctuation">(</span>column_list<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">ON</span> <span class="token punctuation">[</span>object_type<span class="token punctuation">]</span> priv_level
    <span class="token keyword">FROM</span> <span class="token keyword">user</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">REVOKE</span> <span class="token keyword">ALL</span> <span class="token punctuation">[</span><span class="token keyword">PRIVILEGES</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span>
    <span class="token keyword">FROM</span> <span class="token keyword">user</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">REVOKE</span> PROXY <span class="token keyword">ON</span> <span class="token keyword">user</span>
    <span class="token keyword">FROM</span> <span class="token keyword">user</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<ul><li>若要使用REVOKE语句，必须拥有MySQL数据库的全局CREATE USER权限或UPDATE权限;</li><li>第一种语法格式用于回收指定用户的某些特定的权限，第二种回收指定用户的所有权限；</li></ul>
<hr color="#000000" size='1"'/>
<h2><a id="TCLTransaction_Control_Language_1269"></a>TCL（Transaction Control Language）语句：事务控制语句</h2>
<p><strong>什么是事物？</strong></p>
<ul><li>一个或一组sql语句组成一个执行单元，这个执行单元要么全部执行，要么全部不执行</li></ul>
<p><strong>事务的ACID属性</strong></p>
<ul><li> <p>原子性：事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生</p> </li><li> <p>一致性：事务必须使数据库从一个一致性状态变换到另外一个一致性状态</p> </li><li> <p>隔离性：一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰</p> </li><li> <p>持久性：一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响</p> </li></ul>
<p><strong>分类</strong></p>
<ul><li> <p>隐式事务：事务没有明显的开启和结束的标记(比如insert，update，delete语句)</p> </li><li> <p>显式事务：事务具有明显的开启和结束的标记(autocommit变量设置为0)</p> </li></ul>
<h3><a id="_1293"></a>事务的使用步骤</h3>
<h4><a id="_1295"></a>开启事务</h4>
<ul><li>默认开启事务</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
</code></pre>
<h4><a id="_1301"></a>提交事务</h4>
<pre><code class="prism language-sql"><span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_1308"></a>回滚事务</h4>
<pre><code class="prism language-sql"><span class="token keyword">ROLLBACK</span> <span class="token punctuation">;</span>
</code></pre>
<h4><a id="_1315"></a>查看当前的事务隔离级别</h4>
<pre><code class="prism language-sql"><span class="token keyword">select</span> @<span class="token variable">@tx_isolation</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_1321"></a>设置当前连接事务的隔离级别</h4>
<pre><code class="prism language-sql"><span class="token keyword">set</span> <span class="token keyword">session</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> <span class="token keyword">read</span> <span class="token keyword">uncommitted</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_1326"></a>设置数据库系统的全局的隔离级别</h4>
<pre><code class="prism language-sql"><span class="token keyword">set</span> <span class="token keyword">global</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> <span class="token keyword">read</span> <span class="token keyword">committed</span> <span class="token punctuation">;</span>
</code></pre>
<hr color="#000000" size='1"'/>
<h1><a id="_1334"></a>【常用函数】</h1>
<ul><li>MySQL提供了众多功能强大、方便易用的函数，使用这些函数，可以极大地提高用户对于数据库的管理效率，从而更加灵活地满足不同用户的需求。本文将MySQL的函数分类并汇总，以便以后用到的时候可以随时查看。</li></ul>
<p>(这里使用 Navicat Premium 15 工具进行演示)</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/87caf7415ffd4a50b2c035de378a8413.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p><em>因为内容太多了这里只演示一些常用的</em><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3fc4bf79c8eb47d48c94d36333ab175a.gif#pic_center"/></p>
<h2><a id="__1350"></a>一. 数学函数</h2>
<p>对数值型的数据进行指定的数学运算，如abs()函数可以获得给定数值的绝对值，round()函数可以对给定的数值进行四舍五入。</p>
<h3><a id="1_ABSnumber_1353"></a>1. ABS(number)</h3>
<ul><li>作用：返回 number 的绝对值</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
 ABS<span class="token punctuation">(</span>s_score<span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	score<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6cadf07104e24fe5b7b4315ae1bb00d6.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/998d03dea4d74686b6f59ea57d593fe9.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li> <p><code>ABS(-86) 返回：86</code></p> </li><li> <p>number 参数可以是任意有效的数值表达式。如果 number 包含 Null，则返回 Null；如果是未初始化变量，则返回 0。</p> </li></ul>
<h3><a id="2_PI_1371"></a>2. PI()</h3>
<ul><li> <p><code>例1：pi() 返回：3.141592653589793</code></p> </li><li> <p><code>例2：pi(2) 返回：6.283185307179586</code></p> </li><li> <p>作用：计算圆周率及其倍数</p> </li></ul>
<h3><a id="3_SQRTx_1378"></a>3. SQRT(x)</h3>
<ul><li>作用：返回非负数的x的二次方根</li></ul>
<h3><a id="4_MODxy_1381"></a>4. MOD(x,y)</h3>
<ul><li>作用：返回x被y除后的余数</li></ul>
<h3><a id="5_CEILxCEILINGx_1384"></a>5. CEIL(x)、CEILING(x)</h3>
<ul><li>作用：返回不小于x的最小整数</li></ul>
<h3><a id="6_FLOORx_1388"></a>6. FLOOR(x)</h3>
<ul><li>作用：返回不大于x的最大整数</li></ul>
<h3><a id="7_FLOORx_1391"></a>7. FLOOR(x)</h3>
<ul><li>作用：返回不大于x的最大整数</li></ul>
<h3><a id="8_ROUNDxROUNDxy_1394"></a>8. ROUND(x)、ROUND(x,y)</h3>
<ul><li>作用：前者返回最接近于x的整数，即对x进行四舍五入；后者返回最接近x的数，其值保留到小数点后面y位，若y为负值，则将保留到x到小数点左边y位</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">345222.9</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/602b47635e254481a156bf045ea3b6a6.png"/></p>
<ul><li>参数说明： numberExp 需要进行截取的数据 nExp 整数，用于指定需要进行截取的位置，&gt;0：从小数点往右位移nExp个位数， &lt;0：从小数点往左</li></ul>
<p>nExp个位数 =0：表示当前小数点的位置</p>
<h3><a id="9_POWxyPOWERxy_1406"></a>9. POW(x,y)和、POWER(x,y)</h3>
<ul><li>作用：返回x的y次乘方的值</li></ul>
<h3><a id="10_EXPx_1409"></a>10. EXP(x)</h3>
<ul><li>作用：返回e的x乘方后的值</li></ul>
<h3><a id="11_LOGx_1412"></a>11. LOG(x)</h3>
<ul><li>作用：返回x的自然对数，x相对于基数e的对数</li></ul>
<h3><a id="12_LOG10x_1414"></a>12. LOG10(x)</h3>
<ul><li>作用：返回x的基数为10的对数</li></ul>
<h3><a id="13_RADIANSx_1418"></a>13. RADIANS(x)</h3>
<ul><li>作用：返回x由角度转化为弧度的值</li></ul>
<h3><a id="14_DEGREESx_1421"></a>14. DEGREES(x)</h3>
<ul><li>作用：返回x由弧度转化为角度的值</li></ul>
<h3><a id="15_SINxASINx_1424"></a>15. SIN(x)、ASIN(x)</h3>
<ul><li>作用：前者返回x的正弦，其中x为给定的弧度值；后者返回x的反正弦值，x为正弦</li></ul>
<h3><a id="16_COSxACOSx_1427"></a>16. COS(x)、ACOS(x)</h3>
<ul><li>作用：前者返回x的余弦，其中x为给定的弧度值；后者返回x的反余弦值，x为余弦</li></ul>
<h3><a id="17_TANxATANx_1430"></a>17. TAN(x)、ATAN(x)</h3>
<ul><li>作用：前者返回x的正切，其中x为给定的弧度值；后者返回x的反正切值，x为正切</li></ul>
<h3><a id="18_COTx_1433"></a>18. COT(x)</h3>
<ul><li>作用：返回给定弧度值x的余切</li></ul>
<h2><a id="__1437"></a>二. 字符串函数</h2>
<h3><a id="1_CHAR_LENGTHstr_1439"></a>1. CHAR_LENGTH(str)</h3>
<ul><li>作用：计算字符串字符个数</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> CHAR_LENGTH<span class="token punctuation">(</span><span class="token string">'这是一个十二个字的字符串'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1a7643e3a9e2473ebcc6cc197ddc847e.png"/></p>
<h3><a id="2_CONCATs1s2_1449"></a>2. CONCAT(s1,s2，…)</h3>
<ul><li>作用：返回连接参数产生的字符串，一个或多个待拼接的内容，任意一个为NULL则返回值为NULL</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'拼接'</span><span class="token punctuation">,</span><span class="token string">'测试'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5bf70d552d7544378760d172b2ebbbef.png"/></p>
<h3><a id="3_CONCAT_WSxs1s2_1458"></a>3. CONCAT_WS(x,s1,s2,…)</h3>
<ul><li>作用：返回多个字符串拼接之后的字符串，每个字符串之间有一个x</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> CONCAT_WS<span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">,</span><span class="token string">'测试'</span><span class="token punctuation">,</span><span class="token string">'拼接'</span><span class="token punctuation">,</span><span class="token string">'WS'</span><span class="token punctuation">)</span> 
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2d028c963f2644bda52859b473d0d8f0.png"/></p>
<h3><a id="4_INSERTs1xlens2_1468"></a>4. INSERT(s1,x,len,s2)</h3>
<ul><li>作用：返回字符串s1，其子字符串起始于位置x，被字符串s2取代len个字符</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">INSERT</span><span class="token punctuation">(</span><span class="token string">'测试字符串替换'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'牛'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/dcc86c26d71d4e50b9db799cf3e1fc53.png"/></p>
<h3><a id="5_LOWERstrLCASEstrUPPERstrUCASEstr_1479"></a>5. LOWER(str)和LCASE(str)、UPPER(str)和UCASE(str)</h3>
<ul><li>作用：前两者将str中的字母全部转换成小写，后两者将字符串中的字母全部转换成大写</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'JHGYTUGHJGG'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">LCASE</span><span class="token punctuation">(</span><span class="token string">'HKJHKJHKJHKJ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e941fbd3b6ee4567b3c8d239c3bc9b88.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'aaaaaa'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">UCASE</span><span class="token punctuation">(</span><span class="token string">'vvvvv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c5ba7e4cda9b473184c2242c7a85bd7a.png"/></p>
<h3><a id="6_LEFTsnRIGHTsn_1493"></a>6. LEFT(s,n)、RIGHT(s,n)</h3>
<ul><li>作用：前者返回字符串s从最左边开始的n个字符，后者返回字符串s从最右边开始的n个字符</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">LEFT</span><span class="token punctuation">(</span><span class="token string">'左边开始'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">RIGHT</span><span class="token punctuation">(</span><span class="token string">'右边开始'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6c1381dfedce4d1eb40919059dffad69.png"/></p>
<h3><a id="7_LPADs1lens2RPADs1lens2_1504"></a>7. LPAD(s1,len,s2)、RPAD(s1,len,s2)</h3>
<ul><li>作用：前者返回s1，其左边由字符串s2填补到len字符长度，假如s1的长度大于len，则返回值被缩短至len字符；前者返回s1，其右边由字符串s2填补到len字符长度，假如s1的长度大于len，则返回值被缩短至len字符</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">LEFT</span><span class="token punctuation">(</span><span class="token string">'左边开始'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">RIGHT</span><span class="token punctuation">(</span><span class="token string">'右边开始'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/446c2f7dedc345cd9ce28dadfa02c198.png"/></p>
<h3><a id="8_LTRIMsRTRIMs_1514"></a>8. LTRIM(s)、RTRIM(s)</h3>
<ul><li>作用：前者返回字符串s，其左边所有空格被删除；后者返回字符串s，其右边所有空格被删除</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> LTRIM<span class="token punctuation">(</span><span class="token string">'       左边开始'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>RTRIM<span class="token punctuation">(</span><span class="token string">'    右边开始         '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1772b5d7231d449f9a291e1d6cd80a45.png"/></p>
<h3><a id="9_TRIMs_1524"></a>9. TRIM(s)</h3>
<ul><li>作用：返回字符串s删除了两边空格之后的字符串</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">' 是是 '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/30601d6e89584bad83816c781df75551.png"/></p>
<h3><a id="10_TRIMs1_FROM_s_1534"></a>10. TRIM(s1 FROM s)</h3>
<ul><li>作用：删除字符串s两端所有子字符串s1，未指定s1的情况下则默认删除空格</li></ul>
<h3><a id="11_REPEATsn_1537"></a>11. REPEAT(s,n)</h3>
<ul><li>作用：返回一个由重复字符串s组成的字符串，字符串s的数目等于n</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">REPEAT</span><span class="token punctuation">(</span><span class="token string">'测试'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f4283e94edfc49d39aec633851efffd5.png"/></p>
<h3><a id="12_SPACEn_1546"></a>12. SPACE(n)</h3>
<ul><li>作用：返回一个由n个空格组成的字符串</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> SPACE<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/21814d2a9db24d0db563afeba1e0e06f.png"/></p>
<h3><a id="13_REPLACEss1s2_1556"></a>13. REPLACE(s,s1,s2)</h3>
<ul><li>作用：返回一个字符串，用字符串s2替代字符串s中所有的字符串s1</li></ul>
<h3><a id="14_STRCMPs1s2_1559"></a>14. STRCMP(s1,s2)</h3>
<ul><li>作用：若s1和s2中所有的字符串都相同，则返回0；根据当前分类次序，第一个参数小于第二个则返回-1，其他情况返回1</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> STRCMP<span class="token punctuation">(</span><span class="token string">'我我我'</span><span class="token punctuation">,</span><span class="token string">'我我我'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c3f75f58392c4f30b5bdeb7e3a7289c0.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> STRCMP<span class="token punctuation">(</span><span class="token string">'我我我'</span><span class="token punctuation">,</span><span class="token string">'是是是'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4383e02348aa4ad5996fd9d061551751.png"/></p>
<h3><a id="15_SUBSTRINGsnlenMIDsnlen_1576"></a>15. SUBSTRING(s,n,len)、MID(s,n,len)</h3>
<ul><li>作用：两个函数作用相同，从字符串s中返回一个第n个字符开始、长度为len的字符串</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> SUBSTRING<span class="token punctuation">(</span><span class="token string">'测试测试'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4b8ea2c00da1413f9002f36182b505d1.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">MID</span><span class="token punctuation">(</span><span class="token string">'测试测试'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4f24022b4da74e299a2dd3b118f42c4b.png"/></p>
<h3><a id="16_LOCATEstr1strPOSITIONstr1_IN_strINSTRstrstr1_1591"></a>16. LOCATE(str1,str)、POSITION(str1 IN str)、INSTR(str,str1)</h3>
<ul><li>作用：三个函数作用相同，返回子字符串str1在字符串str中的开始位置（从第几个字符开始）</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> LOCATE<span class="token punctuation">(</span><span class="token string">'字'</span><span class="token punctuation">,</span><span class="token string">'获取字符串的位置'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a080a19b3f08417180d85c6b6cc4b6eb.png"/></p>
<h3><a id="17_REVERSEs_1602"></a>17. REVERSE(s)</h3>
<ul><li>作用：将字符串s反转</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> REVERSE<span class="token punctuation">(</span><span class="token string">'字符串反转'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d50310f57e3346efbca5f01dafb5cfa0.png"/></p>
<h3><a id="18_ELTNstr1str2str3str4_1612"></a>18. ELT(N,str1,str2,str3,str4,…)</h3>
<ul><li>作用：返回第N个字符串</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> ELT<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'字符串反转'</span><span class="token punctuation">,</span><span class="token string">'sssss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0f25494edecb470093e7d17aedb3a0aa.png"/></p>
<h2><a id="__1622"></a>三. 日期和时间函数</h2>
<p><em>当前时间</em><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a37a099993a447a9840e7495e28a9ad9.png"/></p>
<h3><a id="1_CURDATECURRENT_DATE_1628"></a>1. CURDATE()、CURRENT_DATE()</h3>
<ul><li>作用：将当前日期按照"YYYY-MM-DD"或者"YYYYMMDD"格式的值返回，具体格式根据函数用在字符串或是数字语境中而定</li></ul>
<h3><a id="2_CURRENT_TIMESTAMPLOCALTIMENOWSYSDATE_1632"></a>2. CURRENT_TIMESTAMP()、LOCALTIME()、NOW()、SYSDATE()</h3>
<ul><li>作用：这四个函数作用相同，返回当前日期和时间值，格式为"YYYY_MM-DD HH:MM:SS"或"YYYYMMDDHHMMSS"，具体格式根据函数用在字符串或数字语境中而定</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ded5b8ae1d4c4a40b28ce18cb3c89078.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> LOCALTIME<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f429f4851e5f4ff3bd0062447f7bc54f.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e474f8bfcddb4e5bbe342061da69d817.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> SYSDATE<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2234c86e346046c5a7cb834cbbf8bcdf.png"/></p>
<h3><a id="3_UNIX_TIMESTAMPUNIX_TIMESTAMPdate_1659"></a>3. UNIX_TIMESTAMP()、UNIX_TIMESTAMP(date)</h3>
<ul><li>作用：前者返回一个格林尼治标准时间1970-01-01 00:00:00到现在的秒数，后者返回一个格林尼治标准时间1970-01-01 00:00:00到指定时间的秒数</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> UNIX_TIMESTAMP<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/af3e89a5a90d4ec187e6f6a986bdf453.png"/></p>
<h3><a id="4_FROM_UNIXTIMEdate_1670"></a>4. FROM_UNIXTIME(date)</h3>
<ul><li>作用：和UNIX_TIMESTAMP互为反函数，把UNIX时间戳转换为普通格式的时间</li></ul>
<h3><a id="5_UTC_DATEUTC_TIME_1674"></a>5. UTC_DATE()和UTC_TIME()</h3>
<ul><li>前者返回当前UTC（世界标准时间）日期值，其格式为"YYYY-MM-DD"或"YYYYMMDD"，后者返回当前UTC时间值，其格式为"YYYY-MM-DD"或"YYYYMMDD"。具体使用哪种取决于函数用在字符串还是数字语境中</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> UTC_DATE<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f2f6d4cc08c94919a73da94de6e72eee.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> UTC_TIME<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/895993dde96e4ed0bea9a58e44dfb4c8.png"/></p>
<h3><a id="6_MONTHdateMONTHNAMEdate_1690"></a>6. MONTH(date)和MONTHNAME(date)</h3>
<ul><li>作用：前者返回指定日期中的月份，后者返回指定日期中的月份的名称</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/aa014ca701b745aa830c36f9c732bc2d.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> MONTHNAME<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/79ddb6cdb4d9401bba0ae24ed75e80df.png"/></p>
<h3><a id="7_DAYNAMEdDAYOFWEEKdWEEKDAYd_1708"></a>7. DAYNAME(d)、DAYOFWEEK(d)、WEEKDAY(d)</h3>
<ul><li>作用：DAYNAME(d)返回d对应的工作日的英文名称，如Sunday、Monday等；DAYOFWEEK(d)返回的对应一周中的索引，1表示周日、2表示周一；WEEKDAY(d)表示d对应的工作日索引，0表示周一，1表示周二</li></ul>
<h3><a id="8_WEEKd_1712"></a>8. WEEK(d)</h3>
<ul><li>计算日期d是一年中的第几周</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> WEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8037d67f871e4503bd90729ff4359d18.png"/></p>
<h3><a id="9_DAYOFYEARdDAYOFMONTHd_1723"></a>9. DAYOFYEAR(d)、DAYOFMONTH(d)</h3>
<ul><li>作用：前者返回d是一年中的第几天，后者返回d是一月中的第几天</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> DAYOFYEAR<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5d7dd09d0e4a45888473bea4e10afc19.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> DAYOFMONTH<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b66b065304e74db7b8cf6fc883732c1a.png"/></p>
<h3><a id="10_YEARdateQUARTERdateMINUTEtimeSECONDtime_1739"></a>10. YEAR(date)、QUARTER(date)、MINUTE(time)、SECOND(time)</h3>
<ul><li>作用： YEAR(date)返回指定日期对应的年份，范围是<code>1970~2069</code>；QUARTER(date)返回date对应一年中的季度，范围是<code>1~4</code>；MINUTE(time)返回time对应的分钟数，范围是<code>0~59</code>；SECOND(time)返回制定时间的秒值</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0a73e72f8b9d4eb48f9e98ff6267d0bf.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> QUARTER<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2131cb741c8042a4b88e902e695ede09.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">MINUTE</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f34b774b7cce4e5bb43e39dfa096cec6.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">SECOND</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6b34137858084608bf359ddc7b2e422e.png"/></p>
<h3><a id="11_EXTRACEtype_FROM_date_1766"></a>11. EXTRACE(type FROM date)</h3>
<ul><li>作用：从日期中提取一部分，type可以是YEAR、YEAR_MONTH、DAY_HOUR、DAY_MICROSECOND、DAY_MINUTE、DAY_SECOND</li></ul>
<h3><a id="12_TIME_TO_SECtime_1770"></a>12. TIME_TO_SEC(time)</h3>
<ul><li>作用：返回以转换为秒的time参数，转换公式为"3600<em>小时 + 60</em>分钟 + 秒"</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> TIME_TO_SEC<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ed1f98799b134bbcb2dfcc3af1114a42.png"/></p>
<h3><a id="13_SEC_TO_TIME_1780"></a>13. SEC_TO_TIME()</h3>
<ul><li>作用：和TIME_TO_SEC(time)互为反函数，将秒值转换为时间格式</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> SEC_TO_TIME<span class="token punctuation">(</span><span class="token number">530</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/350f3b43c9884779b7c72b70c4093d37.png"/></p>
<h3><a id="14_DATE_ADDdateINTERVAL_expr_typeADD_DATEdateINTERVAL_expr_type_1791"></a>14. DATE_ADD(date,INTERVAL expr type)、ADD_DATE(date,INTERVAL expr type)</h3>
<ul><li>作用：返回将起始时间加上expr type之后的时间，比如DATE_ADD(‘2010-12-31 23:59:59’, INTERVAL 1 SECOND)表示的就是把第一个时间加1秒</li></ul>
<h3><a id="15_DATE_SUBdateINTERVAL_expr_typeSUBDATEdateINTERVAL_expr_type_1795"></a>15. DATE_SUB(date,INTERVAL expr type)、SUBDATE(date,INTERVAL expr type)</h3>
<ul><li>作用：返回将起始时间减去expr type之后的时间</li></ul>
<h3><a id="16_ADDTIMEdateexprSUBTIMEdateexpr_1799"></a>16. ADDTIME(date,expr)、SUBTIME(date,expr)</h3>
<ul><li>作用：前者进行date的时间加操作，后者进行date的时间减操作</li></ul>
<h2><a id="__1807"></a>四. 条件判断函数</h2>
<h3><a id="1_IFexprv1v2_1808"></a>1. IF(expr,v1,v2)</h3>
<ul><li>作用：如果expr是TRUE则返回v1，否则返回v2</li></ul>
<h3><a id="2_IFNULLv1v2_1812"></a>2. IFNULL(v1,v2)</h3>
<ul><li>作用：如果v1不为NULL，则返回v1，否则返回v2</li></ul>
<h3><a id="3_CASE_expr_WHEN_v1_THEN_r1_WHEN_v2_THEN_v2_ELSE_rn_END_1816"></a>3. CASE expr WHEN v1 THEN r1 [WHEN v2 THEN v2] [ELSE rn] END</h3>
<ul><li>作用：如果expr等于某个vn，则返回对应位置THEN后面的结果，如果与所有值都不想等，则返回ELSE后面的rn</li></ul>
<h2><a id="__1821"></a>五. 系统信息函数</h2>
<h3><a id="1_VERSION_1823"></a>1. VERSION()</h3>
<ul><li>作用：查看MySQL版本号</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e4da87a383d447b1a574146e98a4dc3e.png"/></p>
<h3><a id="2_CONNECTION_ID_1836"></a>2. CONNECTION_ID()</h3>
<ul><li>作用：查看当前用户的连接数</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> CONNECTION_ID<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20a6700ba7394f18a6b877d65f706154.png"/></p>
<h3><a id="3_USERCURRENT_USERSYSTEM_USERSESSION_USER_1848"></a>3. USER()、CURRENT_USER()、SYSTEM_USER()、SESSION_USER()</h3>
<ul><li>作用：查看当前被MySQL服务器验证的用户名和主机的组合，一般这几个函数的返回值是相同的</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0c8471716cf941998460a657edf32501.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">CURRENT_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c6da3feb11184d9791fe0c5d2fb0e4c4.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">SYSTEM_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9f524e0c8f904690b5901f419dc07c9e.png"/></p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">SESSION_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/bffc0cce25ef47e7b9c6afb553a0f766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="4_CHARSETstr_1880"></a>4. CHARSET(str)</h3>
<ul><li>作用：查看字符串str使用的字符集</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">CHARSET</span><span class="token punctuation">(</span><span class="token number">555</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/cb0654f72acd4db8aa3f7a625861458c.png"/></p>
<h3><a id="5_COLLATION_1892"></a>5. COLLATION()</h3>
<ul><li>作用：查看字符串排列方式</li></ul>
<pre><code class="prism language-sql">
<span class="token keyword">SELECT</span> COLLATION<span class="token punctuation">(</span><span class="token string">'sssfddsfds'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/44af017007fd44d086b91f4df77ca662.png"/></p>
<h2><a id="__1904"></a>六. 加密函数</h2>
<h3><a id="1_PASSWORDstr_1906"></a>1. PASSWORD(str)</h3>
<ul><li>作用：从原明文密码str计算并返回加密后的字符串密码，注意这个函数的加密是单向的（不可逆），因此不应将它应用在个人的应用程序中而应该只在MySQL服务器的鉴定系统中使用</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'mima'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/cfaef03a7f184fc689296f32b2b9f5b9.png"/></p>
<h3><a id="2_MD5str_1917"></a>2. MD5(str)</h3>
<ul><li>作用：为字符串算出一个MD5 128比特校验和，改值以32位十六进制数字的二进制字符串形式返回</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> MD5<span class="token punctuation">(</span><span class="token string">'mima'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/99e4fc00c7e140b59d97c4e9036494a1.png"/></p>
<h3><a id="3_ENCODEstr_pswd_str_1929"></a>3. ENCODE(str, pswd_str)</h3>
<ul><li>作用：使用pswd_str作为密码，加密str</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> ENCODE<span class="token punctuation">(</span><span class="token string">'fdfdz'</span><span class="token punctuation">,</span><span class="token string">'mima'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0c41ce4455864accb008001f4120bb46.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="4_DECODEcrypt_strpswd_str_1941"></a>4. DECODE(crypt_str,pswd_str)</h3>
<ul><li>作用：使用pswd_str作为密码，解密加密字符串crypt_str，crypt_str是由ENCODE函数返回的字符串</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> DECODE<span class="token punctuation">(</span><span class="token string">'fdfdz'</span><span class="token punctuation">,</span><span class="token string">'mima'</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/03c1c54104114674804bf096af5969c9.png"/></p>
<h2><a id="__1953"></a>七. 其他函数</h2>
<h3><a id="1_FORMATxn_1956"></a>1. FORMAT(x,n)</h3>
<ul><li>作用：将数字x格式化，并以四舍五入的方式保留小数点后n位，结果以字符串形式返回</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">446.454</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a9fca31470374884996657433eb90595.png"/></p>
<h3><a id="2_CONVNfrom_baseto_base_1967"></a>2. CONV(N,from_base,to_base)</h3>
<ul><li>作用：不同进制数之间的转换，返回值为数值N的字符串表示，由from_base进制转换为to_base进制</li></ul>
<h3><a id="3_INET_ATONexpr_1971"></a>3. INET_ATON(expr)</h3>
<ul><li>作用：给出一个作为字符串的网络地址的点地址表示，返回一个代表该地址数值的整数，地址可以使4或8比特</li></ul>
<h3><a id="4_INET_NTOAexpr_1975"></a>4. INET_NTOA(expr)</h3>
<ul><li>作用：给定一个数字网络地址（4或8比特），返回作为字符串的该地址的点地址表示</li></ul>
<h3><a id="5_BENCHMARKcountexpr_1979"></a>5. BENCHMARK(count,expr)</h3>
<ul><li>作用：重复执行count次表达式expr，它可以用于计算MySQL处理表达式的速度，结果值通常是0（0只是表示很快，并不是没有速度）。</li><li>另一个作用是用它在MySQL客户端内部报告语句执行的时间</li></ul>
<h3><a id="6_CONVERTstr_USING_charset_1984"></a>6. CONVERT(str USING charset)</h3>
<ul><li>作用：使用字符集charset表示字符串str</li></ul>
<p>更多用法还请参考：<a href="http://www.geezn.com/documents/gez/help/117555-1355219868404378.html">http://www.geezn.com/documents/gez/help/117555-1355219868404378.html</a></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fbacd2b6f4f44005b7e98d42372c7861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h1><a id="SQL_1995"></a>【SQL实战练习】</h1>
<ul><li>题目来自互联网，建议每道题都在本地敲一遍巩固记忆 ！</li></ul>
<h2><a id="_1999"></a>创建数据库</h2>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/aa54242663664a1184216e9b88db6e8a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h2><a id="_2002"></a>创建表（并初始化数据）</h2>
<pre><code class="prism language-sql"><span class="token comment">-- 学生表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>student<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>s_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_birth<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_sex<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>s_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 课程表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>course<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>c_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>c_name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>t_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>c_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 教师表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>teacher<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>t_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>t_name<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>t_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 成绩表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>score<span class="token punctuation">`</span><span class="token punctuation">(</span>
<span class="token punctuation">`</span>s_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>c_id<span class="token punctuation">`</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">`</span>s_score<span class="token punctuation">`</span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span><span class="token punctuation">`</span>s_id<span class="token punctuation">`</span><span class="token punctuation">,</span><span class="token punctuation">`</span>c_id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 插入学生表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'赵信'</span> <span class="token punctuation">,</span> <span class="token string">'1990-01-01'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'德莱厄斯'</span> <span class="token punctuation">,</span> <span class="token string">'1990-12-21'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'艾希'</span> <span class="token punctuation">,</span> <span class="token string">'1990-05-20'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'德莱文'</span> <span class="token punctuation">,</span> <span class="token string">'1990-08-06'</span> <span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'俄洛依'</span> <span class="token punctuation">,</span> <span class="token string">'1991-12-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'光辉女郎'</span> <span class="token punctuation">,</span> <span class="token string">'1992-03-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'崔丝塔娜'</span> <span class="token punctuation">,</span> <span class="token string">'1989-07-01'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'08'</span> <span class="token punctuation">,</span> <span class="token string">'安妮'</span> <span class="token punctuation">,</span> <span class="token string">'1990-01-20'</span> <span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 课程表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'语文'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'数学'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'英语'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 教师表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'死亡歌颂者'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'流浪法师'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'邪恶小法师'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 成绩表测试数据</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'04'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'05'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'01'</span> <span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'06'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'02'</span> <span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> score <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">'07'</span> <span class="token punctuation">,</span> <span class="token string">'03'</span> <span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2><a id="_2075"></a>表结构</h2>
<ul><li>这里建的表主要用于sql语句的练习，所以并没有遵守一些规范。下面让我们来看看相关的表结构吧</li></ul>
<p><strong>学生表（student）</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1503861c9c77405b8e083b6b0595ec55.png"/></p>
<ul><li><code>s_id = 学生编号，s_name = 学生姓名，s_birth = 出生年月，s_sex = 学生性别</code></li></ul>
<p><strong>课程表（course）</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0c221e9384264e68b0e4760069daa733.png"/></p>
<ul><li><code>c_id = 课程编号，c_name = 课程名称，t_id = 教师编号</code></li></ul>
<p><strong>教师表（teacher）</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/cece47274e3145c2859d7f25e1246b75.png"/></p>
<ul><li><code>t_id = 教师编号，t_name = 教师姓名</code></li></ul>
<p><strong>成绩表（score）</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/22c6f01a00374a48b5f6880764865f3a.png"/></p>
<ul><li><code>s_id = 学生编号，c_id = 课程编号，s_score = 分数</code></li></ul>
<h2><a id="_2111"></a>习题</h2>
<ul><li>开始之前我们先来看看四张表中的数据。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/99fe938a9fa44a1fa2e5ef922c5420ba.png"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9b0f4f851899495ebd9e73a5ed752ee8.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0ea368756f5944ff8c3bab6a202ecb96.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/7544084d59f74803a068583f2c510393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="1_0102_2125"></a>1. 查询"01"课程比"02"课程成绩高的学生的信息及课程分数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>s_score <span class="token keyword">AS</span> <span class="token string">'语文'</span><span class="token punctuation">,</span>
	sc2<span class="token punctuation">.</span>s_score <span class="token string">'数学'</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ed35a1a92c954a7da0db2b7e005ace4b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="2_0102_2144"></a>2. 查询"01"课程比"02"课程成绩低的学生的信息及课程分数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>s_score <span class="token keyword">AS</span> 数学<span class="token punctuation">,</span>
	s2<span class="token punctuation">.</span>s_score <span class="token keyword">AS</span> 语文 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score s <span class="token keyword">ON</span> s<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> s<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score s2 <span class="token keyword">ON</span> s2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> s2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
<span class="token keyword">WHERE</span>
	s<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span> s2<span class="token punctuation">.</span>s_score
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c81e1b5d4cb648309ef7af9188dc7e27.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="3_60_2163"></a>3. 查询平均成绩大于等于60分的同学的学生编号和学生姓名和平均成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id <span class="token keyword">AS</span> <span class="token string">'学生编号'</span><span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name <span class="token keyword">AS</span> <span class="token string">'学生姓名'</span><span class="token punctuation">,</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> avgScore 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score s <span class="token keyword">ON</span> st<span class="token punctuation">.</span>s_id <span class="token operator">=</span> s<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	avgScore <span class="token operator">&gt;=</span> <span class="token number">60</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d40e8352558144abb70b2ed8b62d3b76.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="4_60_2183"></a>4. 查询平均成绩小于60分的同学的学生编号和学生姓名和平均成绩</h3>
<ul><li>(包括有成绩的和无成绩的)</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id <span class="token keyword">AS</span> <span class="token string">'学生编号'</span><span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name <span class="token keyword">AS</span> <span class="token string">'学生姓名'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>
	<span class="token keyword">CASE</span>
			
			<span class="token keyword">WHEN</span> <span class="token function">ROUND</span><span class="token punctuation">(</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span>
			<span class="token number">0</span> <span class="token keyword">ELSE</span> <span class="token function">ROUND</span><span class="token punctuation">(</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span> 
		<span class="token keyword">END</span> 
		<span class="token punctuation">)</span> 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> st<span class="token punctuation">.</span>s_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>s_id 
	<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
		st<span class="token punctuation">.</span>s_id 
	<span class="token keyword">HAVING</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span><span class="token operator">&lt;</span> <span class="token number">60</span> 
	<span class="token operator">OR</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5ba40851785d487ea6bfc324017c083b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="5__2211"></a>5. 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id <span class="token keyword">AS</span> <span class="token string">'学生编号'</span><span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name <span class="token keyword">AS</span> <span class="token string">'学生姓名'</span><span class="token punctuation">,</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>c_id <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'选课总数'</span><span class="token punctuation">,</span>
	<span class="token function">sum</span><span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> sc<span class="token punctuation">.</span>s_score <span class="token keyword">END</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'总成绩'</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> st<span class="token punctuation">.</span>s_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2be40b7b279b48beadbba9516c62b79b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="6__2227"></a>6. 查询"流"姓老师的数量</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>t_id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> teacher <span class="token keyword">WHERE</span> t_name <span class="token operator">LIKE</span> <span class="token string">'流%'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/755f943200384ed7b982f18a78d23ac6.png"/></p>
<h3><a id="7__2235"></a>7. 查询学过"流浪法师"老师授课的同学的信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course cs <span class="token keyword">ON</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> teacher tc <span class="token keyword">ON</span> tc<span class="token punctuation">.</span>t_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>t_id 
	<span class="token keyword">WHERE</span> tc<span class="token punctuation">.</span>t_name <span class="token operator">=</span> <span class="token string">'流浪法师'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b9f30c4b1e194dccbf41a4fdbab3d094.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="8__2249"></a>8. 查询没学过"张三"老师授课的同学的信息</h3>
<pre><code class="prism language-sql"><span class="token comment">-- 查询流浪法师教的课</span>
<span class="token keyword">SELECT</span>
	cs<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	course cs
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> teacher tc <span class="token keyword">ON</span> tc<span class="token punctuation">.</span>t_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>t_id 
<span class="token keyword">WHERE</span>
	tc<span class="token punctuation">.</span>t_name <span class="token operator">=</span> <span class="token string">'流浪法师'</span>



<span class="token comment">-- 查询有流浪法师课程成绩的学生id</span>
<span class="token keyword">SELECT</span>
	sc<span class="token punctuation">.</span>s_id 
<span class="token keyword">FROM</span>
	score sc 
<span class="token keyword">WHERE</span>
	sc<span class="token punctuation">.</span>c_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		cs<span class="token punctuation">.</span>c_id 
	<span class="token keyword">FROM</span>
		course cs
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> teacher tc <span class="token keyword">ON</span> tc<span class="token punctuation">.</span>t_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>t_id 
	<span class="token keyword">WHERE</span>
	tc<span class="token punctuation">.</span>t_name <span class="token operator">=</span> <span class="token string">'流浪法师'</span><span class="token punctuation">)</span>



<span class="token comment">-- 取反，查询没有学过流浪法师课程的同学信息</span>
<span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st 
<span class="token keyword">WHERE</span>
	st<span class="token punctuation">.</span>s_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		sc<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		score sc 
	<span class="token keyword">WHERE</span>
	sc<span class="token punctuation">.</span>c_id <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> cs<span class="token punctuation">.</span>c_id <span class="token keyword">FROM</span> course cs <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> teacher tc <span class="token keyword">ON</span> tc<span class="token punctuation">.</span>t_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>t_id <span class="token keyword">WHERE</span> tc<span class="token punctuation">.</span>t_name <span class="token operator">=</span> <span class="token string">'流浪法师'</span> <span class="token punctuation">)</span> 
	<span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/bfc3df5291fe4daa9c7ffae37edffb34.png"/></p>
<h3><a id="9_0102_2298"></a>9. 查询学过编号为"01"并且也学过编号为"02"的课程的同学的信息</h3>
<ul><li>方法 1</li></ul>
<pre><code class="prism language-sql"><span class="token comment">-- 查询学过编号为01课程的同学id</span>
<span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs <span class="token keyword">ON</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
	<span class="token operator">AND</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span><span class="token punctuation">;</span>
	
	

<span class="token comment">-- 查询学过编号为02课程的同学id</span>
<span class="token keyword">SELECT</span>
	st2<span class="token punctuation">.</span>s_id 
<span class="token keyword">FROM</span>
	student st2
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st2<span class="token punctuation">.</span>s_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs2 <span class="token keyword">ON</span> cs2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc2<span class="token punctuation">.</span>c_id 
	<span class="token operator">AND</span> cs2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span><span class="token punctuation">;</span>
	
	

<span class="token comment">-- 查询学过编号为"01"并且也学过编号为"02"的课程的同学的信息</span>
<span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs <span class="token keyword">ON</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
<span class="token keyword">WHERE</span>
	st<span class="token punctuation">.</span>s_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st2<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		student st2
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st2<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs2 <span class="token keyword">ON</span> cs2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc2<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> cs2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b0de35338ddb41c297853e16415b799c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>方法 2</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student a<span class="token punctuation">,</span>
	score b<span class="token punctuation">,</span>
	score c 
<span class="token keyword">WHERE</span>
	a<span class="token punctuation">.</span>s_id <span class="token operator">=</span> b<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> a<span class="token punctuation">.</span>s_id <span class="token operator">=</span> c<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> b<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b0de35338ddb41c297853e16415b799c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="10_0102_2369"></a>10. 查询学过编号为"01"但是没有学过编号为"02"的课程的同学的信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs <span class="token keyword">ON</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
	<span class="token operator">AND</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
<span class="token keyword">WHERE</span>
	st<span class="token punctuation">.</span>s_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs <span class="token keyword">ON</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1512bc3e14a148a0b150fbb0a1a10e30.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="11__2396"></a>11. 查询没有学全所有课程的同学的信息</h3>
<ul><li>方法 1</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student 
<span class="token keyword">WHERE</span>
	s_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
		<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token keyword">WHERE</span>
		st<span class="token punctuation">.</span>s_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			st<span class="token punctuation">.</span>s_id 
		<span class="token keyword">FROM</span>
			student st
			<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
			<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
		<span class="token keyword">WHERE</span>
			st<span class="token punctuation">.</span>s_id 
		<span class="token punctuation">)</span> 
		<span class="token operator">AND</span> st<span class="token punctuation">.</span>s_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			st<span class="token punctuation">.</span>s_id 
		<span class="token keyword">FROM</span>
			student st
			<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
			<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'03'</span> 
		<span class="token keyword">WHERE</span>
			st<span class="token punctuation">.</span>s_id 
		<span class="token punctuation">)</span> 
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8041a58830fc4c408549b0ff58e83f60.png"/></p>
<ul><li>方法 2</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student a
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score b <span class="token keyword">ON</span> a<span class="token punctuation">.</span>s_id <span class="token operator">=</span> b<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	a<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> b<span class="token punctuation">.</span>c_id <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'3'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8041a58830fc4c408549b0ff58e83f60.png"/></p>
<h3><a id="12_01_2457"></a>12. 查询至少有一门课与学号为"01"的同学所学相同的同学的信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">WHERE</span>
	sc<span class="token punctuation">.</span>c_id <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> sc2<span class="token punctuation">.</span>c_id <span class="token keyword">FROM</span> student st2 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st2<span class="token punctuation">.</span>s_id <span class="token keyword">WHERE</span> st2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> <span class="token string">'01'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/93079ce0ebef4b2393d052c6e0c9ed5f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="13_01_2472"></a>13. 查询和"01"号的同学学习的课程完全相同的其他同学的信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	GROUP_CONCAT<span class="token punctuation">(</span> sc<span class="token punctuation">.</span>c_id <span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		GROUP_CONCAT<span class="token punctuation">(</span> sc2<span class="token punctuation">.</span>c_id <span class="token punctuation">)</span> 
	<span class="token keyword">FROM</span>
		student st2
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st2<span class="token punctuation">.</span>s_id 
	<span class="token keyword">WHERE</span>
		st2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/71e23426fcbb4f20815aab7d415fd310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="14__2498"></a>14. 查询没学过"邪恶小法师"老师讲授的任一门课程的学生姓名</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student 
<span class="token keyword">WHERE</span>
	s_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		sc<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		score sc
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course cs <span class="token keyword">ON</span> cs<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> teacher t <span class="token keyword">ON</span> t<span class="token punctuation">.</span>t_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>t_id 
	<span class="token operator">AND</span> t<span class="token punctuation">.</span>t_name <span class="token operator">=</span> <span class="token string">'邪恶小法师'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/060ccf91bfea404cbef40c5991e5a1d3.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="15__2518"></a>15. 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id <span class="token keyword">AS</span> <span class="token string">'学号'</span><span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name <span class="token keyword">AS</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'平均成绩'</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">WHERE</span>
	sc<span class="token punctuation">.</span>s_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		sc<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		score sc 
	<span class="token keyword">WHERE</span>
		sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span> <span class="token number">60</span> 
		<span class="token operator">OR</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">IS</span> <span class="token boolean">NULL</span> 
	<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_id 
	<span class="token keyword">HAVING</span>
		<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token operator">&gt;=</span> <span class="token number">2</span> 
	<span class="token punctuation">)</span> 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/393799bbd8e54effbfb4b9de125f6640.png"/></p>
<h3><a id="16_0160_2548"></a>16. 检索"01"课程分数小于60，按分数降序排列的学生信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span> <span class="token string">'60'</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span><span class="token punctuation">;</span>
	
	
<span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">WHERE</span>
	sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span> <span class="token string">'60'</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/83da236ada9540b9bb0d9c0237f2366e.png"/></p>
<h3><a id="17__2576"></a>17. 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩</h3>
<ul><li>方法 1</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc4<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'平均分'</span><span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>s_score <span class="token keyword">AS</span> <span class="token string">'语文'</span><span class="token punctuation">,</span>
	sc2<span class="token punctuation">.</span>s_score <span class="token keyword">AS</span> <span class="token string">'数学'</span><span class="token punctuation">,</span>
	sc3<span class="token punctuation">.</span>s_score <span class="token keyword">AS</span> <span class="token string">'英语'</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc3 <span class="token keyword">ON</span> sc3<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc3<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'03'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc4 <span class="token keyword">ON</span> sc4<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc4<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0b8be12869ba43d984ca7a379135bf93.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<ul><li>方法 2</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc4<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc4<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">END</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'平均分'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> sc<span class="token punctuation">.</span>s_score <span class="token keyword">END</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'语文'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> sc2<span class="token punctuation">.</span>s_score <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> sc2<span class="token punctuation">.</span>s_score <span class="token keyword">END</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'数学'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> sc3<span class="token punctuation">.</span>s_score <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> sc3<span class="token punctuation">.</span>s_score <span class="token keyword">END</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'英语'</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc3 <span class="token keyword">ON</span> sc3<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc3<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'03'</span>
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc4 <span class="token keyword">ON</span> sc4<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc4<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5688db7698f14d8d93486bb9ada52d95.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="18__2629"></a>18. 查询各科成绩最高分、最低分和平均分：</h3>
<ul><li>以如下形式显示：课程ID，课程name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率</li><li>及格为&gt;=60，中等为：70-80，优良为：80-90，优秀为：&gt;=90</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	cs<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	cs<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	<span class="token function">MAX</span><span class="token punctuation">(</span> sc1<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'最高分'</span><span class="token punctuation">,</span>
	<span class="token function">MIN</span><span class="token punctuation">(</span> sc2<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'最低分'</span><span class="token punctuation">,</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc3<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'平均分'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			s_score <span class="token operator">&gt;=</span> <span class="token number">60</span> 
			<span class="token operator">AND</span> c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'及格率'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			s_score <span class="token operator">&gt;=</span> <span class="token number">70</span> 
			<span class="token operator">AND</span> s_score <span class="token operator">&lt;</span> <span class="token number">80</span> 
			<span class="token operator">AND</span> c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'中等率'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			s_score <span class="token operator">&gt;=</span> <span class="token number">80</span> 
			<span class="token operator">AND</span> s_score <span class="token operator">&lt;</span> <span class="token number">90</span> 
			<span class="token operator">AND</span> c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'优良率'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			s_score <span class="token operator">&gt;=</span> <span class="token number">90</span> 
			<span class="token operator">AND</span> c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> s_id <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score 
		<span class="token keyword">WHERE</span>
			c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'优秀率'</span> 
<span class="token keyword">FROM</span>
	course cs
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc1 <span class="token keyword">ON</span> sc1<span class="token punctuation">.</span>c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc3 <span class="token keyword">ON</span> sc3<span class="token punctuation">.</span>c_id <span class="token operator">=</span> cs<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	cs<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/23838babb2cf47489e6e855843eac53d.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="19__2721"></a>19. 按各科成绩进行排序，并显示排名(实现不完全)</h3>
<ul><li>mysql没有rank函数</li><li>加@score是为了防止用union all 后打乱了顺序</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	c1<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	c1<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c1<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	<span class="token variable">@score</span> :<span class="token operator">=</span> c1<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span>
	<span class="token variable">@i</span> :<span class="token operator">=</span> <span class="token variable">@i</span> <span class="token operator">+</span> <span class="token number">1</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span><span class="token operator">*</span> 
	<span class="token keyword">FROM</span>
		course c
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
	<span class="token keyword">WHERE</span>
		c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">"01"</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
	<span class="token punctuation">)</span> c1<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token variable">@i</span> :<span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">)</span> a <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	c2<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	c2<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c2<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	c2<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span>
	<span class="token variable">@ii</span> :<span class="token operator">=</span> <span class="token variable">@ii</span> <span class="token operator">+</span> <span class="token number">1</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span><span class="token operator">*</span> 
	<span class="token keyword">FROM</span>
		course c
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
	<span class="token keyword">WHERE</span>
		c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">"02"</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
	<span class="token punctuation">)</span> c2<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token variable">@ii</span> :<span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">)</span> aa <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	c3<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	c3<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c3<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	c3<span class="token punctuation">.</span>s_score<span class="token punctuation">,</span>
	<span class="token variable">@iii</span> :<span class="token operator">=</span> <span class="token variable">@iii</span> <span class="token operator">+</span> <span class="token number">1</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span><span class="token operator">*</span> 
	<span class="token keyword">FROM</span>
		course c
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
	<span class="token keyword">WHERE</span>
		c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">"03"</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
	<span class="token punctuation">)</span> c3<span class="token punctuation">;</span>

<span class="token keyword">SET</span> <span class="token variable">@iii</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1144b16c68764a99a1703ea2dccd7a3f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="20__2793"></a>20. 查询学生的总成绩并进行排名</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token function">sum</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> <span class="token function">SUM</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">END</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> st<span class="token punctuation">.</span>s_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	<span class="token function">SUM</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">DESC</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f7b92b0829ce4d0cab3ab9e6fa3b8d76.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="21__2811"></a>21. 查询不同老师所教不同课程平均分从高到低显示</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	t<span class="token punctuation">.</span>t_id<span class="token punctuation">,</span>
	t<span class="token punctuation">.</span>t_name<span class="token punctuation">,</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	teacher t
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>t_id <span class="token operator">=</span> t<span class="token punctuation">.</span>t_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	t<span class="token punctuation">.</span>t_id 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">DESC</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6c36531204174ab79005321cb453a53d.png"/></p>
<h3><a id="22_23_2831"></a>22. 查询所有课程的成绩第2名到第3名的学生信息及该课程成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token number">2</span> 
	<span class="token punctuation">)</span> a <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	b<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token number">2</span> 
	<span class="token punctuation">)</span> b <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'03'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token number">2</span> 
	<span class="token punctuation">)</span> c<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c8e471e4980842388c0b8a9daa316f41.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="23_1008585707060060_2898"></a>23. 统计各科成绩各分数段人数：课程编号,课程名称,[100-85],[85-70],[70-60],[0-60]及所占百分比</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
	<span class="token keyword">FROM</span>
		score sc 
	<span class="token keyword">WHERE</span>
		sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;</span> <span class="token number">80</span> 
		<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
	<span class="token keyword">FROM</span>
		score sc 
	<span class="token keyword">WHERE</span>
		sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
	<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'100-85'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score sc 
		<span class="token keyword">WHERE</span>
			sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
			<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;=</span> <span class="token number">85</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;</span> <span class="token number">70</span> 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score sc 
		<span class="token keyword">WHERE</span>
			sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'85-70'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score sc 
		<span class="token keyword">WHERE</span>
			sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
			<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;=</span> <span class="token number">70</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;</span> <span class="token number">60</span> 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score sc 
		<span class="token keyword">WHERE</span>
			sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'70-60'</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score sc 
		<span class="token keyword">WHERE</span>
			sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
			<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;=</span> <span class="token number">60</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;=</span> <span class="token number">0</span> 
			<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span>
			<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
		<span class="token keyword">FROM</span>
			score sc 
		<span class="token keyword">WHERE</span>
			sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
		<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">'85-70'</span> 
<span class="token keyword">FROM</span>
	course c 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	c<span class="token punctuation">.</span>c_id 
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1a3891a301414e599518b497f00fe812.png"/></p>
<h3><a id="24__2977"></a>24. 查询学生平均成绩及其名次</h3>
<pre><code class="prism language-sql"><span class="token keyword">SET</span> <span class="token variable">@i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	<span class="token variable">@i</span> :<span class="token operator">=</span> <span class="token variable">@i</span> <span class="token operator">+</span> <span class="token number">1</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		<span class="token function">round</span><span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token keyword">AS</span> agvScore 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
		st<span class="token punctuation">.</span>s_id 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		agvScore <span class="token keyword">DESC</span> 
	<span class="token punctuation">)</span> a
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3b4a8d71fad841ff8d3c61a2218124c5.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="25__3002"></a>25. 查询各科成绩前三名的记录</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token number">3</span> 
	<span class="token punctuation">)</span> a <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	b<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token number">3</span> 
	<span class="token punctuation">)</span> b <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'03'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token number">3</span> 
	<span class="token punctuation">)</span> c
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/077fa80313d644949d94c7f056da8213.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="26__3071"></a>26. 查询每门课程被选修的学生数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	course c
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> student st <span class="token keyword">ON</span> st<span class="token punctuation">.</span>s_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	c<span class="token punctuation">.</span>c_id
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/72b5920a123c4cadb5f5d80a9466796e.png"/></p>
<h3><a id="27__3091"></a>27. 查询出只有两门课程的全部学生的学号和姓名</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2017f196335f45c4adaef13d14898ce7.png"/></p>
<h3><a id="28__3109"></a>28. 查询男生、女生人数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> s_sex<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> s_sex
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4ff2b38904894a929f6dcd382bc80d0f.png"/></p>
<h3><a id="29__3118"></a>29. 查询名字中含有"德"字的学生信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> s_name <span class="token operator">LIKE</span> <span class="token string">'%德%'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/32ec816e45cb47f08d55a9d16d41d2d7.png"/></p>
<h3><a id="30__3126"></a>30. 查询同名同性学生名单，并统计同名人数</h3>
<pre><code class="prism language-sql"><span class="token keyword">select</span> st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_sex<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student st <span class="token keyword">group</span> <span class="token keyword">by</span> st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_sex <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/47093ceb41164544848e975a1185263b.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="31_1990_3136"></a>31. 查询1990年出生的学生名单</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> student st <span class="token keyword">WHERE</span> st<span class="token punctuation">.</span>s_birth <span class="token operator">LIKE</span> <span class="token string">'1990%'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/28e1a946195b46d9a19b3fadacb30675.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="32__3144"></a>32. 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c_name<span class="token punctuation">,</span>
	<span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">AS</span> scoreAvg 
<span class="token keyword">FROM</span>
	course c
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	c<span class="token punctuation">.</span>c_id 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	scoreAvg <span class="token keyword">DESC</span><span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_id <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/24c485125f0449338393c344620d9e81.png"/></p>
<h3><a id="33_85_3165"></a>33. 查询平均成绩大于等于85的所有学生的学号、姓名和平均成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token keyword">THEN</span> <span class="token number">0</span> <span class="token keyword">ELSE</span> <span class="token function">AVG</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token keyword">END</span> <span class="token punctuation">)</span> scoreAvg 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	scoreAvg <span class="token operator">&gt;</span> <span class="token string">'85'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b7278687b5794e7787108972a7fff0cb.png"/></p>
<h3><a id="34_60_3184"></a>34. 查询课程名称为"数学"，且分数低于60的学生姓名和分数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span> <span class="token number">60</span>
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
	<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_name <span class="token operator">=</span> <span class="token string">'数学'</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/abcd5d870ef844258756ac00a1105220.png"/></p>
<h3><a id="35__3200"></a>35. 查询所有学生的课程及分数情况</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	<span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_name<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/916e023816ed42ea841bf385e7400342.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="36_70_3217"></a>36. 查询任何一门课程成绩在70分以上的姓名、课程名称和分数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>sc<span class="token punctuation">.</span>s_score 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
<span class="token keyword">WHERE</span>
	st<span class="token punctuation">.</span>s_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st2<span class="token punctuation">.</span>s_id 
	<span class="token keyword">FROM</span>
		student st2
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st2<span class="token punctuation">.</span>s_id 
	<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
		st2<span class="token punctuation">.</span>s_id 
	<span class="token keyword">HAVING</span>
		<span class="token function">MIN</span><span class="token punctuation">(</span> sc2<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span><span class="token operator">&gt;=</span> <span class="token number">70</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	st2<span class="token punctuation">.</span>s_id 
	<span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/74de22c390cd43938014f19286fbaa66.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="37__3245"></a>37. 查询不及格的课程</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>s_score 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&lt;</span> <span class="token number">60</span>
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fba95ee750ed45929c77c000cb710a74.png"/></p>
<h3><a id="38_0180_3264"></a>38. 查询课程编号为01且课程成绩在80分以上的学生的学号和姓名</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>s_score 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token operator">AND</span> sc<span class="token punctuation">.</span>s_score <span class="token operator">&gt;=</span> <span class="token number">80</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4422f73d076b4feba28ec86078eb1057.png"/></p>
<h3><a id="39__3281"></a>39. 求每门课程的学生人数</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	course c
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>c_id <span class="token operator">=</span> c<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	c<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e58272ef494540dd8ed04aec0a5c03c4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="40__3300"></a>40. 查询选修"死亡歌颂者"老师所授课程的学生中，成绩最高的学生信息及其成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>s_score 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> teacher t <span class="token keyword">ON</span> t<span class="token punctuation">.</span>t_id <span class="token operator">=</span> c<span class="token punctuation">.</span>t_id 
	<span class="token operator">AND</span> t<span class="token punctuation">.</span>t_name <span class="token operator">=</span> <span class="token string">'死亡歌颂者'</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
	<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8ca25507a1c043a9bcb2b2fb3407f665.png"/></p>
<h3><a id="41__3320"></a>41. 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	sc<span class="token punctuation">.</span>s_score 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
<span class="token keyword">WHERE</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
	<span class="token keyword">FROM</span>
		student st2
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc2 <span class="token keyword">ON</span> sc2<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st2<span class="token punctuation">.</span>s_id
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c2 <span class="token keyword">ON</span> c2<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc2<span class="token punctuation">.</span>c_id 
	<span class="token keyword">WHERE</span>
		sc<span class="token punctuation">.</span>s_score <span class="token operator">=</span> sc2<span class="token punctuation">.</span>s_score 
	<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">!=</span> c2<span class="token punctuation">.</span>c_id 
	<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2f8bc9d664b24e92a7de116eda95ffd1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="42__3350"></a>42. 查询每门功成绩最好的前两名</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'01'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token number">2</span> 
	<span class="token punctuation">)</span> a <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	b<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'02'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token number">2</span> 
	<span class="token punctuation">)</span> b <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		st<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_name<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>c_name<span class="token punctuation">,</span>
		sc<span class="token punctuation">.</span>s_score 
	<span class="token keyword">FROM</span>
		student st
		<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id
		<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
		<span class="token operator">AND</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> <span class="token string">'03'</span> 
	<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
		sc<span class="token punctuation">.</span>s_score <span class="token keyword">DESC</span> 
		<span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token number">2</span> 
	<span class="token punctuation">)</span> c<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/effd88d642f54893a2fae58b6900ae1a.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p>写法 2</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	a<span class="token punctuation">.</span>s_id<span class="token punctuation">,</span>
	a<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	a<span class="token punctuation">.</span>s_score 
<span class="token keyword">FROM</span>
	score a 
<span class="token keyword">WHERE</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">FROM</span> score b <span class="token keyword">WHERE</span> b<span class="token punctuation">.</span>c_id <span class="token operator">=</span> a<span class="token punctuation">.</span>c_id <span class="token operator">AND</span> b<span class="token punctuation">.</span>s_score <span class="token operator">&gt;</span> a<span class="token punctuation">.</span>s_score <span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">2</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	a<span class="token punctuation">.</span>c_id<span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d8be49657bfa4828b57896875af9dee4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="43_5_3433"></a>43. 统计每门课程的学生选修人数（超过5人的课程才统计）</h3>
<ul><li>要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列</li></ul>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span>c_id<span class="token punctuation">,</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	score sc
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> c<span class="token punctuation">.</span>c_id <span class="token operator">=</span> sc<span class="token punctuation">.</span>c_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	c<span class="token punctuation">.</span>c_id 
<span class="token keyword">HAVING</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">5</span> 
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">DESC</span><span class="token punctuation">,</span>
	c<span class="token punctuation">.</span>c_id <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/7baa3c0dc97a436c8d77cd0e3c5830ab.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="44__3458"></a>44. 检索至少选修两门课程的学生学号</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0492f350435f4b98a2e4d51aba6a3d5f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="45__3475"></a>45. 查询选修了全部课程的学生信息</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> score sc <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>s_id <span class="token operator">=</span> st<span class="token punctuation">.</span>s_id 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	st<span class="token punctuation">.</span>s_id 
<span class="token keyword">HAVING</span>
	<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span>
		<span class="token function">COUNT</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	course<span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9a3a8bef835648bd9ba9bf1eff27097f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="46__3498"></a>46. 查询各学生的年龄</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	TIMESTAMPDIFF<span class="token punctuation">(</span>
		<span class="token keyword">YEAR</span><span class="token punctuation">,</span>
		st<span class="token punctuation">.</span>s_birth<span class="token punctuation">,</span>
	<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token keyword">FROM</span>
	student st
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ce1c628556a34ed9a98aa9304ff82e68.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<h3><a id="47__3514"></a>47. 查询本周过生日的学生</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st 
<span class="token keyword">WHERE</span>
	WEEK <span class="token punctuation">(</span>
	<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> WEEK <span class="token punctuation">(</span>
	DATE_FORMAT<span class="token punctuation">(</span> st<span class="token punctuation">.</span>s_birth<span class="token punctuation">,</span> <span class="token string">'%Y%m%d'</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b7a1997fbe954fce98050434c956fa73.png"/></p>
<h3><a id="48__3531"></a>48. 查询下周过生日的学生</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st 
<span class="token keyword">WHERE</span>
	WEEK <span class="token punctuation">(</span>
		<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> WEEK <span class="token punctuation">(</span>
	DATE_FORMAT<span class="token punctuation">(</span> st<span class="token punctuation">.</span>s_birth<span class="token punctuation">,</span> <span class="token string">'%Y%m%d'</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d62ab74216b44a969917970fcaed62a6.png"/></p>
<h3><a id="49__3548"></a>49. 查询本月过生日的学生</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st 
<span class="token keyword">WHERE</span>
	<span class="token keyword">MONTH</span> <span class="token punctuation">(</span>
	<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token keyword">MONTH</span> <span class="token punctuation">(</span>
	DATE_FORMAT<span class="token punctuation">(</span> st<span class="token punctuation">.</span>s_birth<span class="token punctuation">,</span> <span class="token string">'%Y%m%d'</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2d5d90ae468b4d00a026627ea5f3891d.png"/></p>
<h3><a id="50__3564"></a>50. 查询下月过生日的学生</h3>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> 
<span class="token keyword">FROM</span>
	student st 
<span class="token keyword">WHERE</span>
	<span class="token keyword">MONTH</span> <span class="token punctuation">(</span>
		TIMESTAMPADD<span class="token punctuation">(</span>
			<span class="token keyword">MONTH</span><span class="token punctuation">,</span>
			<span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token keyword">MONTH</span> <span class="token punctuation">(</span>
	DATE_FORMAT<span class="token punctuation">(</span> st<span class="token punctuation">.</span>s_birth<span class="token punctuation">,</span> <span class="token string">'%Y%m%d'</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b885e7bc8d4e4ffe86af68ad7afa6bc0.png"/></p>
<hr color="#000000" size='1"'/>
<h1><a id="_3597"></a>【阿里巴巴开发手册】</h1>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f29529ffbb374ff0800ba28a06f59884.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTY5MjcwNQ==,size_16,color_FFFFFF,t_70"/></p>
<p><strong>点击预览在线版: <a href="https://files-cdn.cnblogs.com/files/han-1034683568/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C%E7%BB%88%E6%9E%81%E7%89%88v1.3.0.pdf">阿里巴巴开发手册</a></strong></p>
<hr color="#000000" size='1"'/>
<p><strong>内容偏向基础适合各个阶段人员的学习与巩固，如果对您还有些帮助希望给博主点个赞<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4fe5d43e5b2244bd849e91cf439a7521.png"/>支持一下，感谢！</strong></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>