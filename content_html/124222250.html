<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-kimbie-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>🥪目录</h3>
<ul><li><a href="#__3">🎊 写在前面</a></li><li><ul><li><a href="#__397_28">🎄 题目 397.整数替换</a></li><li><a href="#___116__99">🎄 题目 116. 填充每一个节点的下一个右侧节点指针</a></li><li><a href="#__117__II_245">🎄 题目 117. 填充每个节点的下一个右侧节点指针 II</a></li><li><a href="#___29__349">🎄 题目 29. 两数相除</a></li><li><a href="#__10__434">🎄 题目 10. 正则表达式匹配</a></li></ul>
</li><li><a href="#_570">💗写在最后</a></li></ul>
</div>
<p></p>
<blockquote>
<h1><a id="__3"></a>🎊 写在前面</h1>
<p><font color="green"><strong>Hello朋友们😋，我是秋刀鱼🐟，一只活跃于Java区与算法区的新人博主~</strong></font><br/> <font color="#028090"><strong>欢迎大家加入高校算法学习社区🏰： https://bbs.csdn.net/forums/Suanfa，社区里大佬云集，大家互相交流学习！</strong></font><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4364c57a11af49e5bb6d4a28da3e7852.gif#pic_center"/></p>
<hr/>
<p><font color="cornflowerblue"><strong>近一周刷了很多道题，基本上每天都会做上几道LeetCode的算法题，也是总结了很多知识点。这篇文章呢就是跟大家分享一下好题😁，我将其按照从难到易分为：<font color="red">虎级（简单题）、鬼级（常规题）、龙级（难题）、神级（过难题）</font>，友友们可以按照难度自行刷题哦😋。如果觉得博主写的还不错的话可以关注支持一下：</strong></font><br/> <br/></p>
<div align="center">
<font color="#6795b5"><strong><a href="https://blog.csdn.net/qq_51439643?type=blog">🎉🎉主页：秋刀鱼与猫</a>🎉🎉</strong></font>
</div>
<div align="center">
<strong><font color="#E55934"> 🎉🎉期待你的支持与关注~🎉🎉</font></strong>
</div>
</blockquote>
<hr/>
<p><strong>本期出场嘉宾：<font color="#6eb791">战栗的龙卷</font>（龙卷妹妹一生推！）</strong></p>
<p><img alt="" src="image\09b0c1a17cd64dbba9b3153f69f73226.png"/></p>
<img alt="img" src="https://pic1.zhimg.com/80/v2-83c9fe98a8e1459237f184f0de7f2374_720w.jpg?source=1940ef5c" width="1400px"/>
<h2><a id="__397_28"></a>🎄 题目 397.整数替换</h2>
<blockquote>
<p><font size="5"><strong>题目难度：虎级</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/e06165eca09aafa110fa54579d0e4428.png"/>
</div>
<p><font color="cornflowerblue" size="5"><strong>题目描述</strong></font><br/> <br/><br/> <strong><font color="cornflowerblue" size="4"><a href="https://leetcode-cn.com/problems/integer-replacement/">前去迎战🌠</a></font></strong></p>
<p><img alt="" src="image\d2aa74fc90ba00d15c4d33dd14c579bc.png"/></p>
</blockquote>
<blockquote>
<p><font color="#6eb791" size="4"><strong>来自龙卷的提醒：</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/f6643d46f9334b5b8aea7a9a48b17238.png" width="200px"/>
</div>
<p><strong><font color="#6eb791">本题可以使用搜索算法搭配剪枝来解决，但这样时间复杂度会很高。试着寻找更优的操作策略来降低时间复杂度吧。</font></strong></p>
</blockquote>
<center>
<img src="image\v2-65bfd3151300dff5dc6321369d9fc566_720w.jpg"/>
</center>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>解题分析</strong></font><br/> <br/></p>
<p><strong>本题的核心思路是：<font color="red">贪心算法</font>。</strong></p>
<p>对于整数<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         N
        
       
       
        N
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span></span></span></span></span>,判断我们可以从<strong>二进制</strong>的角度进行分析：<strong>给定起始值 n，求解将其变为(000…0001)2 的最小步数</strong>。</p>
</blockquote>
<blockquote>
<p>题目中两种操作方式，一种是奇数时 +1 或 -1 的方式，另一种是偶数时 /2 的方式。就按照值的减小速度来看，一定是使用 /2 的方式值下降速度会更快。<font color="cornflowerblue"><strong>因此在每一次操作时，尽可能让执行一次操作后的值为一个偶数一定是最优解</strong>。</font></p>
</blockquote>
<blockquote>
<p>对于奇数操作来说，都能得到一个偶数，是选择 <code>+1</code> 还是 <code>-1</code> 操作呢？<font color="orange"><strong>因为偶数的二进制末尾为0，因此为了尽可能多地获得偶数，就按照能在末尾提供0的数量来选择操作，越多的末尾0代表着下几次的操作能操作更多的偶数：</strong></font></p>
<ul><li><strong>对于 <code>+1</code> 操作而言：最低位必然为 1，此时如果次低位为 0 的话， <code>+1</code> 相当于将最低位和次低位交换；如果次低位为 1 的话，<code>+1</code> 操作将将「从最低位开始，连续一段的 11」进行消除（置零），并在连续一段的高一位添加一个 1；</strong></li><li><strong>对于 <code>-1</code> 操作而言：最低位必然为 1，其作用是将最低位的 1 进行消除。</strong></li></ul>
<p><strong><font color="orange">因此，对于 x 为奇数所能执行的两种操作，<code>+1</code> 能够消除连续一段的 1，只要次低位为 1（存在连续段），应当优先使用 <code>+1</code> 操作，但需要注意边界<span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           x
          
          
           =
          
          
           3
          
         
         
          x=3
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>时的情况（此时选择 <code>-1</code> 操作）。</font></strong></p>
</blockquote>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>代码(Java代码）</strong></font></p>
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">integerReplacement</span><span class="token punctuation">(</span><span class="token keyword">int</span> _n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//防止因为Integer.MAX_VALUE+1溢出</span>
        <span class="token keyword">long</span> n <span class="token operator">=</span> _n<span class="token punctuation">;</span>
        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                n <span class="token operator">&gt;&gt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> n<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">else</span> n<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ans<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<img alt="img" src="https://pic1.zhimg.com/80/v2-83c9fe98a8e1459237f184f0de7f2374_720w.jpg?source=1940ef5c" width="1400px"/>
<h2><a id="___116__99"></a>🎄 题目 116. 填充每一个节点的下一个右侧节点指针</h2>
<blockquote>
<p><font size="5"><strong>题目难度：虎级</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/e06165eca09aafa110fa54579d0e4428.png"/>
</div>
<hr/>
<p><font color="cornflowerblue" size="5"><strong>题目描述</strong></font><br/> <br/><br/> <strong><font color="cornflowerblue" size="4"><a href="https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node/">前去迎战🌠</a></font></strong></p>
<p><img alt="image-20220416130249316" src="https://img-blog.csdnimg.cn/img_convert/c81823e248f7d4814be4fc279620066b.png"/></p>
<p><strong>提示：</strong></p>
<ul><li>树中节点的数量在 <code>[0, 212 - 1]</code> 范围内</li><li><code>-1000 &lt;= node.val &lt;= 1000</code></li></ul>
<p><strong>进阶：</strong></p>
<ul><li>你只能使用常量级额外空间。</li><li>使用递归解题也符合要求，本题中递归程序占用的栈空间不算做额外的空间复杂度。</li></ul>
</blockquote>
<blockquote>
<p><font color="#6eb791" size="4"><strong>来自龙卷的提醒：</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/f91be2d313d84741813719c1cffdac95.png" width="180px"/>
</div>
<p><strong><font color="#6eb791">注意二叉树是完美二叉树，那么为了将每一层的结点 next 指针相连接，最简单的方法只需要遍历每一层结点修改指针，用二叉树的层序遍历就能解决。</font></strong></p>
<p><font color="#6eb791"><strong>但如果还需要考虑只能使用常数级的额外空间（不考虑递归栈空间），那么就需要试着借助 next 指针求解。</strong></font></p>
</blockquote>
<center>
<img src="image\v2-65bfd3151300dff5dc6321369d9fc566_720w.jpg"/>
</center>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>解题分析 - 普通版</strong></font><br/> <br/><br/> 听完龙卷的一顿分析，大致的思路已经出来了。首先每一层结点 next 指向其右侧节点，只需要使用二叉树的层序遍历方式，每一层每一层遍历二叉树。从左到右顺序遍历每一层，因此先遍历到的结点 next 指向后遍历到的结点，最后一个结点的 next 指针为空。这样一来这道题就算是解决了，代码如下：</p>
<pre><code class="prism language-c++">class Solution {
    public Node connect(Node root) {
        if (root == null) {
            return root;
        }
        // 初始化队列同时将第一层节点加入队列中，即根节点
        Queue&lt;Node&gt; queue = new LinkedList&lt;Node&gt;(); 
        queue.add(root);
        // 外层的 while 循环迭代的是层数
        while (!queue.isEmpty()) {
            // 记录当前队列大小
            int size = queue.size();
            // 遍历这一层的所有节点
            for (int i = 0; i &lt; size; i++) {
                // 从队首取出元素
                Node node = queue.poll();
                // 连接
                if (i &lt; size - 1) {
                    node.next = queue.peek();
                }
                // 拓展下一层节点
                if (node.left != null) {
                    queue.add(node.left);
                }
                if (node.right != null) {
                    queue.add(node.right);
                }
            }
        }
        // 返回根节点
        return root;
    }
}
</code></pre>
</blockquote>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>解题分析 - 进阶</strong></font></p>
<p>但是上述的代码并不满足进阶情况，因为空间复杂度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         O
        
        
         (
        
        
         N
        
        
         )
        
       
       
        O(N)
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mclose">)</span></span></span></span></span> 不符合要求。需要进一步考虑优化策略。</p>
<p>既然不能存储使用额外空间存储，为了实现类似于层序遍历的操作，解题方法的核心是使用已经建立的 next 指针。</p>
<p>现在逐步开始分析操作过程，</p>
<p><strong>（1）、操作根节点</strong></p>
<p><img alt="image-20220416133957660" src="https://img-blog.csdnimg.cn/img_convert/a902ffb73f8420ead025817124b8b1c2.png"/></p>
<p>如上图所示，遍历到的结点为根节点，此时根节点能获取到其子节点的情况。可直接修改其子节点的 next 指针，也就是执行 <code>root.left.next = root.right</code>。而 3 号结点右侧没有新元素，因此其 next 指向空。</p>
</blockquote>
<blockquote>
<p><strong>（2）、操作 2 号结点：</strong></p>
<p><img alt="image-20220416134327557" src="https://img-blog.csdnimg.cn/img_convert/2b29f945abd5b63eabe541f30f50ad94.png"/></p>
<p>如上图所示，因为 2 号结点的两个子节点均存在，因此 2 号结点左侧结点的 next 指针一定指向 2 号结点右侧节点，因此可以直接修改。执行 <code>root.left.next = root.right</code>。</p>
<p>而对于 2 号结点的右侧节点，因此 2 号结点的 next 指针在上一层中已经被修改，也就是说 2 号所属的这一层借助 next 指针可以使用层序遍历！而 2 号右侧节点 5 号的 next 值为 2 号 next 指针所指结点 3 号的左侧元素。也就是执行 <code>root.right.next = root.next.left</code>，但执行之前需要判断 2 号结点的 next 元素是否存在。</p>
<p><img alt="image-20220416135345313" src="https://img-blog.csdnimg.cn/img_convert/f03ca5d64293fd7d05349d5420dd11ec.png"/></p>
</blockquote>
<blockquote>
<p><strong>（3）、继续遍历本层后续结点</strong></p>
<p>现在 2 号元素已经处理完毕，因为 next 指针保证了 2 号这一层能够层序遍历，因此继续遍历 2 号右侧的下一个元素直到遍历元素 next 为空。遍历结束后下面这层的 next 指针也已经确定，同样可以使用层序遍历，继续遍历下一层来确定下下层的next…，最终所有结点的next都能确定完成！</p>
<img alt="image-20220416135452693" src="https://pic-1307682369.cos.ap-beijing.myqcloud.com/picGo/img/image-20220416135452693.png"/>
<p><strong><font color="orange">总结一下就是：使用上一层的 next 完成本层的遍历确定下一层的 next ，使用 left 或 right 指针从根向下遍历每一层。</font></strong></p>
</blockquote>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>代码</strong></font></p>
<pre><code class="prism language-c++">class Solution {
    public:
    Node* connect(Node* root) {
        if (root == nullptr) {
            return root;
        }
        // 从根节点开始
        Node* leftmost = root;
        while (leftmost-&gt;left != nullptr) {
            // 遍历这一层节点组织成的链表，为下一层的节点更新 next 指针
            Node* head = leftmost;
            while (head != nullptr) {
                // 连接左结点
                head-&gt;left-&gt;next = head-&gt;right;
                // 连接右节点，需要判断 next是否为空
                if (head-&gt;next != nullptr) {
                    head-&gt;right-&gt;next = head-&gt;next-&gt;left;
                }
                // 指针向后移动
                head = head-&gt;next;
            }
            // 去下一层的最左的节点
            leftmost = leftmost-&gt;left;
        }
        return root;
    }
};
</code></pre>
</blockquote>
<img alt="img" src="https://pic1.zhimg.com/80/v2-83c9fe98a8e1459237f184f0de7f2374_720w.jpg?source=1940ef5c" width="1400px"/>
<h2><a id="__117__II_245"></a>🎄 题目 117. 填充每个节点的下一个右侧节点指针 II</h2>
<blockquote>
<p><font size="5"><strong>题目等级：鬼级！</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/7bd51ba0ec55bdeda54d81f2850a4e8f.png"/>
</div>
<hr/>
<p><font color="cornflowerblue" size="5"><strong>题目描述</strong></font><br/> <br/><br/> <strong><font color="cornflowerblue" size="4"><a href="https://leetcode-cn.com/problems/populating-next-right-pointers-in-each-node-ii/">前去迎战🌠</a></font></strong></p>
<p><img alt="" src="image\cec539ca26e46488ebde62798bc965d3.png"/></p>
</blockquote>
<blockquote>
<p><font color="#6eb791" size="4"><strong>来自龙卷的提醒：</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/117c2117a86c4812b70daf52535e8cf1.png" width="200px"/>
</div>
<p><strong><font color="#6eb791">与上一题不同的地方在于，二叉树从完美二叉树变为了普通二叉树，该变化不影响解题思路，但需要注意遍历时处理的逻辑发生了改变。</font></strong></p>
<p><strong><font color="#6eb791">因为是完美二叉树，因此能够快速获取下一个结点所在的位置。而在这道题中，各个结点的位置关系都是未知的，怎么处理更好呢？</font></strong></p>
</blockquote>
<center>
<img src="image\v2-65bfd3151300dff5dc6321369d9fc566_720w.jpg"/>
</center>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>解题分析</strong></font></p>
<p>还是上一题的思路，用上一层的结点确定下一层的 next 指向，只不过不是完美二叉树所以处理的逻辑需要考虑。</p>
<p>如下图所示，当前遍历的结点是 2 号结点，需要处理 4 号的 next 指向：</p>
<p><img alt="image-20220416211609992" src="https://img-blog.csdnimg.cn/img_convert/c7ee84c251a99c777ab9a96a71c9e739.png"/></p>
<p>因为 2 号结点这一层的 next 指针已经处理完毕，因此找到 4 的 next 指向的方法是，从当前 2 号结点开始向右遍历这一层所有结点，找到拥有子节点的结点返回其左侧子节点，就是 4 号结点的 next 指向。</p>
<p><img alt="image-20220416212241755" src="https://img-blog.csdnimg.cn/img_convert/bb57addeda330b5aaa962cdf80feb8d9.png"/></p>
<p>例如从 2 号结点开始向右查找到 3 号结点，3号结点存在右子节点不存在左子节点，因此返回其右子节点。</p>
<p>此遍历的逻辑封装为函数：<code>getNext(Node *tmp)</code>，返回 tmp 结点这层所有右侧的第一个偏左侧的孩子，如果没有返回为空。</p>
</blockquote>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>代码</strong></font><br/> <br/></p>
<pre><code class="prism language-c++">class Solution {
   public:
   Node* getNext(Node* tmp){
       if (tmp == nullptr){
           return nullptr;
       }
       if(tmp-&gt;left != nullptr){
           return tmp-&gt;left;
       }
       if (tmp-&gt;right != nullptr){
           return tmp-&gt;right;
       }
       if (tmp-&gt;next != nullptr){
           return getNext(tmp-&gt;next);
       }
       return nullptr;
   }
   Node* connect(Node* root) {
       if (root == nullptr) {
           return root;
       }
       // 从根节点开始
       Node* leftmost = root;
       while (getNext(leftmost) != nullptr) {
           // 遍历这一层节点组织成的链表，为下一层的节点更新 next 指针
           Node* head = leftmost;
           while (head != nullptr) {
               if (head-&gt;left == nullptr &amp;&amp; head-&gt;right == nullptr){
                   head = head-&gt;next;
                   continue;
               }
               if (head-&gt;left == nullptr){
                   head-&gt;right-&gt;next = getNext(head-&gt;next);
               }else if(head-&gt;right == nullptr){
                   head-&gt;left-&gt;next = getNext(head-&gt;next);
               }else{
                   head-&gt;left-&gt;next = head-&gt;right;
                   head-&gt;right-&gt;next = getNext(head-&gt;next);
               }
               // 指针向后移动
               head = head-&gt;next;
           }  
           // 去下一层的最左的节点
           leftmost = getNext(leftmost);
       }
       return root;
   }
};
</code></pre>
</blockquote>
<img alt="img" src="https://pic1.zhimg.com/80/v2-83c9fe98a8e1459237f184f0de7f2374_720w.jpg?source=1940ef5c" width="1400px"/>
<h2><a id="___29__349"></a>🎄 题目 29. 两数相除</h2>
<blockquote>
<p><font size="5"><strong>题目难度：鬼级！</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/2fd68a5ea11739ae62241aef39585548.png"/>
</div>
<p><font color="cornflowerblue" size="5"><strong>题目描述</strong></font><br/> <br/><br/> <strong><font color="cornflowerblue" size="4"><a href="https://leetcode-cn.com/problems/divide-two-integers/">🌠前去迎战</a></font></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/df9c9bd8effa4a90a3fc9bdc130dc575.png"/></p>
</blockquote>
<center>
<img src="image\v2-65bfd3151300dff5dc6321369d9fc566_720w.jpg"/>
</center>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>解题分析</strong></font><br/> <br/></p>
<p>本题禁止使用乘法、除法、取余运算，要求实现 32 为有符号整数的除法运算。</p>
<p>为了实现除法运算，最简单的方式就是将去被除数不断地减除数，直到被除数的值小于除数的值停止，减去除数的次数就是返回的结果值。但是这样代码运行时间会很长，时间上不允许。</p>
</blockquote>
<blockquote>
<p><font color="crown"><strong>倍乘法介绍</strong></font></p>
<p>我们这里可以考虑使用【倍增乘法】来实现，所谓倍增乘法，简单理解就是每次用被除数减去$[除数的最大\cdot <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          2
         
         
          x
         
        
       
       
        2^x
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.664392em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.664392em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span></span></span></span>]$，这样可以极大地增加处理的速度。</p>
<p>假如给定的值为30，除数为4,使用倍乘法的过程如下：</p>
<ul><li>计算<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          4
         
         
          ×
         
         
          
           2
          
          
           x
          
         
         
          &lt;
         
         
          =
         
         
          30
         
        
        
         4\times2^x&lt;=30
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.703492em; vertical-align: -0.0391em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.664392em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span><span class="mord">0</span></span></span></span></span>的 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
        
        
         x
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span></span></span></span></span> 的最大值，计算得 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
         
          =
         
         
          2
         
        
        
         x = 2
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> ，执行 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          30
         
         
          −
         
         
          4
         
         
          ×
         
         
          
           2
          
          
           2
          
         
         
          =
         
         
          14
         
        
        
         30 - 4\times2^2 = 14
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mord">4</span></span></span></span></span> ，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          r
         
         
          e
         
         
          s
         
         
          +
         
         
          =
         
         
          
           2
          
          
           2
          
         
        
        
         res + = 2^2
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>。</li><li>计算<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          4
         
         
          ×
         
         
          
           2
          
          
           x
          
         
         
          &lt;
         
         
          =
         
         
          14
         
        
        
         4\times2^x &lt;= 14
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.703492em; vertical-align: -0.0391em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.664392em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mord">4</span></span></span></span></span>的 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
        
        
         x
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span></span></span></span></span> 的最大值，计算值 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
         
          =
         
         
          1
         
        
        
         x=1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> ，执行 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          14
         
         
          −
         
         
          4
         
         
          ×
         
         
          
           2
          
          
           1
          
         
         
          =
         
         
          6
         
        
        
         14-4\times2^1=6
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">6</span></span></span></span></span> ，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          r
         
         
          e
         
         
          s
         
         
          +
         
         
          =
         
         
          
           2
          
          
           1
          
         
        
        
         res+=2^1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>。</li><li>计算<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          4
         
         
          ×
         
         
          
           2
          
          
           x
          
         
         
          &lt;
         
         
          =
         
         
          6
         
        
        
         4\times2^x &lt;= 6
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.703492em; vertical-align: -0.0391em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.664392em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">6</span></span></span></span></span>的 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
        
        
         x
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span></span></span></span></span> 的最大值，计算值 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
         
          =
         
         
          0
         
        
        
         x=0
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> ，执行 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          6
         
         
          −
         
         
          4
         
         
          ×
         
         
          
           2
          
          
           0
          
         
         
          =
         
         
          2
         
        
        
         6-4\times2^0=2
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> ，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          r
         
         
          e
         
         
          s
         
         
          +
         
         
          =
         
         
          
           2
          
          
           0
          
         
        
        
         res+=2^0
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>。</li><li>最后 2 小于 4，退出返回 res 即为结果值。</li></ul>
</blockquote>
<blockquote>
<p><font color="crown"><strong>考虑越界情况</strong></font></p>
<p>因为数值范围固定为<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         [
        
        
         −
        
        
         
          2
         
         
          31
         
        
        
         ,
        
        
         
          2
         
         
          31
         
        
        
         −
        
        
         1
        
        
         ]
        
       
       
        [-2^{31},2^{31}-1]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.06411em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>。有符号数最大值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          2
         
         
          31
         
        
        
         −
        
        
         1
        
       
       
        2^{31}-1
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.897438em; vertical-align: -0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，有符号数的最小值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         −
        
        
         
          2
         
         
          31
         
        
       
       
        -2^{31}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.897438em; vertical-align: -0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span>。因为被除数与除数均是有符号数，因此结果值出现越界的情况只有可能是，除数为 <strong>INT_MIN</strong> 、被除数为-1，此时结果为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          2
         
         
          31
         
        
       
       
        2^{31}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span> 越界。因此程序第一步优先判断结果是否越界，即：</p>
<pre><code class="prism language-c++">if (a == INT_MIN &amp;&amp; b == -1) 
    return INT_MAX;
</code></pre>
<p><strong><font color="orange">题目中限制环境只能使用 <code>int</code> 型变量，因此在使用被乘法计算时，也有可能出现越界这点也需要单独判断。</font></strong></p>
<p>在32进制负数的个数比正数数量多1，因此将正数转换为负数来处理就能够解决除数与被除数越界的问题。同时使用倍乘法进行判断时， <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         x
        
       
       
        x
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">x</span></span></span></span></span> 增大一倍之前，需要判断其值是否大于 <code>INT_MAX/2</code>，如果大于此值继续扩大一倍就会导致越界，因此直接返回<code>INT_MIN</code>。</p>
</blockquote>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>代码</strong></font></p>
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> INT_MIN <span class="token operator">=</span> Integer<span class="token punctuation">.</span>MIN_VALUE<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> INT_MAX <span class="token operator">=</span> Integer<span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> M <span class="token operator">=</span> INT_MIN <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> INT_MIN <span class="token operator">&amp;&amp;</span> b <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> INT_MAX<span class="token punctuation">;</span>
        <span class="token comment">// 判断符号位</span>
        <span class="token keyword">int</span> sign <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>b <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> a <span class="token operator">=</span> <span class="token operator">-</span>a<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> b <span class="token operator">=</span> <span class="token operator">-</span>b<span class="token punctuation">;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;=</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> value <span class="token operator">=</span> b<span class="token punctuation">;</span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>value <span class="token operator">&gt;=</span> M <span class="token operator">&amp;&amp;</span> a <span class="token operator">&lt;=</span> value <span class="token operator">+</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                value <span class="token operator">+=</span> value<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> INT_MAX <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> INT_MIN<span class="token punctuation">;</span>
                x <span class="token operator">+=</span> x<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            a <span class="token operator">-=</span> value<span class="token punctuation">;</span>
            res <span class="token operator">+=</span> x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sign <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> res <span class="token operator">:</span> <span class="token operator">-</span>res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<img alt="img" src="https://pic1.zhimg.com/80/v2-83c9fe98a8e1459237f184f0de7f2374_720w.jpg?source=1940ef5c" width="1400px"/>
<h2><a id="__10__434"></a>🎄 题目 10. 正则表达式匹配</h2>
<blockquote>
<p><font size="5"><strong>题目难度：龍级！</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/9e643a76e891c28a20283a8318e35cd7.png"/>
</div>
<hr/>
<p><font color="cornflowerblue" size="5"><strong>题目描述</strong></font><br/> <br/><br/> <strong><font color="cornflowerblue" size="4"><a href="https://leetcode-cn.com/problems/regular-expression-matching/">前去迎战🌠</a></font></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/48ded3fef8f34b318a565b8e646fa531.png"/></p>
</blockquote>
<blockquote>
<p><font color="#6eb791" size="4"><strong>来自龙卷的提醒：</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/794c161746c940c2845c1f1bc7678cbe.png" width="200px"/>
</div>
<p><strong><font color="#6eb791">龍级的题目，终于有意思起来了 ✪ ω ✪</font></strong></p>
<p><font color="#6eb791"> <strong>不难发现 s 串与 p 串的内容匹配，可以根据之前的状态推导而来，可以尝试使用动态规划推导状态转移方程解决。</strong> </font></p>
</blockquote>
<center>
<img src="image\v2-65bfd3151300dff5dc6321369d9fc566_720w.jpg"/>
</center>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>解题分析</strong></font></p>
<p><strong><font color="orange">定义状态</font></strong></p>
<p>对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
       
       
        s
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span></span></span></span></span> 串中的字母想象为背包的总重量，对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
       
       
        p
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span></span> 中的字母想象为能够拿取的商品。可以定义布尔类型数组 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         ]
        
        
         [
        
        
         j
        
        
         ]
        
       
       
        dp[i][j]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span> 存储对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
       
       
        s
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span></span></span></span></span> 串中<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         [
        
        
         0
        
        
         ,
        
        
         j
        
        
         −
        
        
         1
        
        
         ]
        
       
       
        [0,j-1]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span> 位置字符与 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
       
       
        p
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span></span> 串中 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         [
        
        
         0
        
        
         ,
        
        
         i
        
        
         −
        
        
         1
        
        
         ]
        
       
       
        [0,i-1]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span> 位置字符串的匹配情况。<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         +
        
        
         1
        
        
         ]
        
        
         [
        
        
         j
        
        
         +
        
        
         1
        
        
         ]
        
       
       
        dp[i+1][j+1]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span> 存储对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
       
       
        s
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span></span></span></span></span> 的<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         [
        
        
         0
        
        
         ,
        
        
         j
        
        
         ]
        
       
       
        [0,j]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span> 子串与 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
       
       
        p
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span></span> 的 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         [
        
        
         0
        
        
         ,
        
        
         i
        
        
         ]
        
       
       
        [0,i]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span> 子串的匹配情况。</p>
</blockquote>
<blockquote>
<p><strong><font color="orange">状态初始化</font></strong></p>
<ul><li><span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          0
         
         
          ]
         
         
          [
         
         
          0
         
         
          ]
         
        
        
         dp[0][0]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span></span> 则表示 s 与 p 均为空串时匹配状态，自然是能够匹配其值为true。</li><li>对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          p
         
        
        
         p
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span></span> 为空串， <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          s
         
        
        
         s
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span></span></span></span></span> 为非空串的情况，一定无法匹配，因此初始化为 false，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          0
         
         
          ]
         
         
          [
         
         
          1
         
         
          ,
         
         
          2
         
         
          ,
         
         
          3
         
         
          ,
         
         
          .
         
         
          .
         
         
          .
         
         
          n
         
         
          ]
         
         
          =
         
         
          f
         
         
          a
         
         
          l
         
         
          s
         
         
          e
         
        
        
         dp[0][1,2,3,...n]=false
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span></span></li><li>对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          s
         
        
        
         s
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span></span></span></span></span> 为空串， <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          p
         
        
        
         p
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span></span> 为非空串的情况，因为<code>*</code>能代表任意个包括 0 个字符，因此两串可能存在匹配，需要单独处理。</li></ul>
</blockquote>
<blockquote>
<p><strong><font color="orange">状态转移</font></strong></p>
<p>索引 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         i
        
        
         ,
        
        
         j
        
       
       
        i,j
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span> 分别遍历 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
        
         ,
        
        
         s
        
       
       
        p,s
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">s</span></span></span></span></span> 串，分别有下面几种情况来讨论：</p>
<p><strong><font color="blue">情况一：相同字符匹配，即<span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           p
          
          
           [
          
          
           i
          
          
           ]
          
          
           =
          
          
           =
          
          
           s
          
          
           [
          
          
           j
          
          
           ]
          
          
           或
          
          
           s
          
          
           [
          
          
           j
          
          
           ]
          
          
           =
          
          
           
            =
           
           
            ′
           
          
          
           
            .
           
           
            ′
           
          
         
         
          p[i] == s[j] 或 s[j] == '.'
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mord cjk_fallback">或</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.751892em; vertical-align: 0em;"></span><span class="mrel"><span class="mrel">=</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.751892em; vertical-align: 0em;"></span><span class="mord"><span class="mord">.</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span>，如下图所示：</font></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/84394a3dbb33427681a14ef6498f603c.png"/></p>
<p>两位字符相同时，当前状态取决于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         i
        
        
         ,
        
        
         j
        
       
       
        i,j
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span> 前一位的状态，即：<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         +
        
        
         1
        
        
         ]
        
        
         [
        
        
         j
        
        
         +
        
        
         1
        
        
         ]
        
        
         ∣
        
        
         =
        
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         ]
        
        
         [
        
        
         j
        
        
         ]
        
       
       
        dp[i+1][j+1] |= dp[i][j]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span></p>
<p><strong><font color="blue">情况二：通配符<code>*</code>匹配，即<span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           p
          
          
           [
          
          
           i
          
          
           ]
          
          
           =
          
          
           
            =
           
           
            ′
           
          
          
           
            ∗
           
           
            ′
           
          
         
         
          p[i]=='*'
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.751892em; vertical-align: 0em;"></span><span class="mrel"><span class="mrel">=</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.751892em; vertical-align: 0em;"></span><span class="mord"><span class="mbin">∗</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span>，如下图所示：</font></strong>*</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/14df62dd49fa4e9d903491244fca534d.png"/></p>
<p>因为通配符<code>*</code>可以匹配任意次数，因此需要分拿取次数而定：</p>
<ul><li><font color="purple"><strong>匹配方式一：统配符匹配 0 个字符。</strong></font></li></ul>
<p>如下图所示，直接忽略通配符与统配符前一个字符 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
        
         r
        
        
         e
        
       
       
        pre
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span></span></span></span></span> ， 此时<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         +
        
        
         1
        
        
         ]
        
        
         [
        
        
         j
        
        
         +
        
        
         1
        
        
         ]
        
        
         ∣
        
        
         =
        
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         −
        
        
         1
        
        
         ]
        
        
         [
        
        
         j
        
        
         +
        
        
         1
        
        
         ]
        
       
       
        dp[i+1][j+1] |= dp[i - 1][j + 1]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0ad2bd6bb42e47b282d0d3c823b8c8f4.png"/></p>
<ul><li><font color="purple"><strong>匹配方式二：通配符匹配 n 次（n &gt; 0）</strong></font></li></ul>
<p>既然通配符匹配字符，那么要求 S 串中的对应的位置需要有连续的字符 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
        
         r
        
        
         e
        
       
       
        pre
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span></span></span></span></span> 。那么定义一个变量存储 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         j
        
       
       
        j
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span> 的位置，从右向左扫描 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         [
        
        
         j
        
        
         ]
        
       
       
        s[j]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span> 的值是否与 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         p
        
        
         r
        
        
         e
        
       
       
        pre
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span></span></span></span></span> 相同，如果相同则代表通配符可以进行一次匹配操作；否则停止扫描。</p>
<p>此时使用循环变量<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         i
        
        
         d
        
        
         x
        
       
       
        idx
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span></span></span></span></span> ，判断<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         s
        
        
         [
        
        
         i
        
        
         d
        
        
         x
        
        
         ]
        
        
         =
        
        
         =
        
        
         p
        
        
         r
        
        
         e
        
       
       
        s[idx] == pre
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">e</span></span></span></span></span> ，相同则执行 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         +
        
        
         1
        
        
         ]
        
        
         [
        
        
         j
        
        
         +
        
        
         1
        
        
         ]
        
        
         ∣
        
        
         =
        
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         −
        
        
         1
        
        
         ]
        
        
         [
        
        
         i
        
        
         d
        
        
         x
        
        
         ]
        
       
       
        dp[i + 1][j + 1] |= dp[i - 1][idx]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">x</span><span class="mclose">]</span></span></span></span></span></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4ab11ab028d146c5b6e9ae10a9b0ee45.png"/></p>
<ul><li><font color="purple"><strong>其余情况</strong></font></li></ul>
<p>无法匹配也无法统配，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         i
        
        
         +
        
        
         1
        
        
         ]
        
        
         [
        
        
         j
        
        
         +
        
        
         1
        
        
         ]
        
        
         =
        
        
         f
        
        
         a
        
        
         l
        
        
         s
        
        
         e
        
       
       
        dp[i+1][j+1]=false
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span></span></p>
</blockquote>
<blockquote>
<p><strong><font color="orange">返回结果</font></strong></p>
<p>最终，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         d
        
        
         p
        
        
         [
        
        
         p
        
        
         .
        
        
         l
        
        
         e
        
        
         n
        
        
         g
        
        
         t
        
        
         h
        
        
         ]
        
        
         [
        
        
         s
        
        
         .
        
        
         l
        
        
         e
        
        
         n
        
        
         g
        
        
         t
        
        
         h
        
        
         ]
        
       
       
        dp[p.length][s.length]
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">p</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mord">.</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mclose">]</span></span></span></span></span> 存储的值就是两串的正则表达式匹配情况，直接将其返回。</p>
</blockquote>
<blockquote>
<p><font color="cornflowerblue" size="5"><strong>代码(Java代码）</strong></font></p>
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 判断传入字符是否匹配</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">,</span> <span class="token keyword">char</span> a<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> c <span class="token operator">==</span> a <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'.'</span> <span class="token operator">||</span> a <span class="token operator">==</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isMatch</span><span class="token punctuation">(</span>String s<span class="token punctuation">,</span> String p<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> sLen <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> pLen <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">boolean</span><span class="token punctuation">[</span>pLen <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>sLen <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// 开始初始化</span>
        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> find <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pLen<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> c <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Character<span class="token punctuation">.</span><span class="token function">isAlphabetic</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>find<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                find <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                find <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 记录上一个字符，用于 * 匹配</span>
        <span class="token keyword">char</span> pre <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pLen<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> c <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sLen<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">char</span> t <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// *</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token string">'*'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 一次都不拿</span>
                    dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    <span class="token comment">// 拿取 n 次</span>
                    <span class="token keyword">int</span> idx <span class="token operator">=</span> j<span class="token punctuation">;</span>
                    <span class="token keyword">while</span> <span class="token punctuation">(</span>idx <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">,</span> pre<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
                        <span class="token operator">--</span>idx<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// 能够匹配(字母或'.')</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">equals</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|=</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            pre <span class="token operator">=</span> c<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>pLen<span class="token punctuation">]</span><span class="token punctuation">[</span>sLen<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h1><a id="_570"></a>💗写在最后</h1>
<p><strong>好了今天LeetCode好题分享就到这里结束了，最后就用泰戈尔一句诗来收尾吧：</strong></p>
<blockquote>
<p><strong><font color="#028090">不用徘徊采花保存，只管往前走去，前途上百花自会盛开</font></strong></p>
</blockquote>
<p><strong>感谢你的阅读🧡</strong></p>
<hr/>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/4f906c3a8ff943e5ba16b3f48b3e91ce.png"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>