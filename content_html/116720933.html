<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<h2>string详解</h2>
<p>string不是基本数据类型，是C++中对char封装成的类，所以C语言中没有string。</p>
<p>String类是不可变的，对String类的任何改变，都是返回一个新的String类对象。</p>
<p>头文件：  #include&lt;string&gt;</p>
<h3>构造函数</h3>
<pre><code>string s1();   //s1为空
string s2("hello");
string s3(4,'w');    //s3="wwww";
string s4("12345",1,3);   //s4="234";

//不能直接string s('w');</code></pre>
<h3>string初始化</h3>
<pre><code>//拷贝赋值
string s1;
s1 = "Hello";  // s1 = "Hello"
s2 = 'K';  // s2 = "K”


//利用assign函数
string s1("12345"), s2;
s3.assign(s1);  // s3 = s1
s2.assign(s1, 1, 2);  // s2 = "23"，即 s1 的子串(1, 2)
s2.assign(4, 'K');  // s2 = "KKKK"
s2.assign("abcde", 2, 3);  // s2 = "cde"，即 "abcde" 的子串(2, 3)

//利用+
string s;
s+=a[i];

//利用substr函数
string s1,s2;
s1="hello";
s2=s1.substr(0,3);   //s2="hel";</code></pre>
<hr/>
<h2>string 函数用法</h2>
<h3>append（）函数</h3>
<p>除了可以使用<code>+</code>和<code>+=</code>运算符对 string 对象执行字符串的连接操作外，string 类还有 append 成员函数，可以用来向字符串后面添加内容。append 成员函数返回对象自身的引用。</p>
<pre><code>string s1("123"), s2("abc");  //以下操作为平行操作
s1.append(s2);  // s1 = "123abc"
s1.append(s2, 1, 2);  // s1 = "123bc"
s1.append(3, 'K');  // s1 = "123KKK"
s1.append("ABCDE", 2, 3);  // s1 = "123CDE"，添加 "ABCDE" 的子串(2, 3)</code></pre>
<h3>compare()函数</h3>
<p> 用于比较字符串。compare 成员函数有以下返回值：</p>
<ul><li>-1 表示当前的字符串小；</li><li> 0 表示两个字符串相等；</li><li>1 表示另一个字符串小。</li></ul>
<p><span style="color:#fe2c24;"><strong>compare()比较时逐字符比较的，一旦能比较出结果，就不再比较了。</strong></span></p>
<pre><code>    string s1="abandon";
    string s2="about";
    int b=s1.compare(s2);//直接比较，s1小于s2，故返回-1
    cout&lt;&lt;b&lt;&lt;endl;

    int c=s1.compare(2,4,s2);//s1下标为2的字符a开始的4个字符ando和s2进行比较。ando大于s2故返回1
    cout&lt;&lt;c&lt;&lt;endl;

    int d=s1.compare(2,4,s2,1,3);
    cout&lt;&lt;d&lt;&lt;endl;//s1下标为2的字符a开始的4个字符ando和s2下标为1的字符b开始的3个字符bou比较。前者小，故返回-1。

    string s3="abc";
    string s4="abc";
    int e=s3.compare(s4);//相等返回0
    cout&lt;&lt;e&lt;&lt;endl;
</code></pre>
<h3>swap()交换string对象的内容</h3>
<pre><code>string s1("hello");
string s2("hi");
s1.swap(s2);</code></pre>
<h3>find()函数 返回子串的下标位置</h3>
<pre><code>/*
string的find()函数用于找出字母在字符串中的位置。

find(str,position)

find()的两个参数：

str：是要找的元素

position：字符串中的某个位置，表示从从这个位置开始的字符串中找指定元素。

可以不填第二个参数，默认从字符串的开头进行查找。

返回值为目标字符的位置，当没有找到目标字符时返回npos。
*/

string s = "hello world!";
cout &lt;&lt; s.find("e") &lt;&lt; endl;   // 1

string s = "hello world!";
if (s.find("a") == s.npos) {
    cout &lt;&lt; "404 not found" &lt;&lt; endl;
}

string s = "hello world!";
cout &lt;&lt; s.find("l",5) &lt;&lt; endl;   //9

//找到目标字符在字符串中第一次出现和最后一次出现的位置 
string s = "hello world!";
cout &lt;&lt; "first time occur in s:"&lt;&lt;s.find_first_of("l") &lt;&lt; endl;    // 2
cout &lt;&lt; "last time occur in s:" &lt;&lt; s.find_last_of("l") &lt;&lt; endl;    // 9

//反向查找
string s = "hello world!";
cout &lt;&lt; s.rfind("l") &lt;&lt; endl;</code></pre>
<h3>C++string中的insert()函数用法详解</h3>
<p><strong>C++string中的insert()插入函数</strong><br/> basic_string&amp; insert (size_type pos, const basic_string&amp; str);<br/><strong><span style="color:#3399ea;">在原串下标为pos的字符前插入字符串str</span></strong></p>
<p>basic_string&amp; insert (size_type pos, const basic_string&amp; str, size_type pos1, size_type n);<br/><span style="color:#3399ea;"><strong>str从下标为pos1开始数的n个字符插在原串下标为pos的字符前</strong></span></p>
<p>basic_string&amp; insert (size_type pos, size_type n, char c);<br/><span style="color:#3399ea;"><strong>在原串下标为pos的字符前插入n个字符c</strong></span></p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
int main()
{
    string str="hello";
    string s="Hahah";
    str.insert(1,s);//在原串下标为1的字符e前插入字符串s
    cout&lt;&lt;str&lt;&lt;endl;        // "Hhelloahah"

    string str1="hello";
    char c='w';
    str1.insert(4,5,c);//在原串下标为4的字符o前插入5个字符c
    cout&lt;&lt;str1&lt;&lt;endl;            //  helloccccco

    string str2="hello";
    string s2="weakhaha";
    str2.insert(0,s2,1,3);//将字符串s2从下标为1的e开始数3个字符，分别是eak，插入原串的下标为0的字符h前
    cout&lt;&lt;str2&lt;&lt;endl;            // eakhello

    return 0;
}
</code></pre>
<h3>substr()用法</h3>
<p><span style="background-color:#a2e043;">substr(pos,n)   </span>            </p>
<p>返回一个string，包含从pos开始的n个字符的拷贝</p>
<p>pos默认值是0，n的默认值是size（）-pos，即不加参数会默认拷贝整个string</p>
<p>若pos的值超过string的大小，则substr函数会抛出一个out_of_range异常</p>
<p>若pos+n的值超过了string的大小，则substr会调整n的值，只拷贝到string的末尾</p>
<pre><code class="language-cpp">#include&lt;string&gt;
#include&lt;iostream&gt;
using namespace std;
int main()
{
　　string s("12345asdf");
　　string a = s.substr(0,5);     //获得字符串s中从第0位开始的长度为5的字符串
　　cout &lt;&lt; a &lt;&lt; endl;
}

//a为 12345</code></pre>
<p><strong>一个经典用法</strong></p>
<pre><code>（s+s).substr(n,s.size());

/*  string s="abcdefg";
    将前n个字符移动到尾部
    例如 移动前2个字符
    ss="cdefgab";
*/</code></pre>
<h3>replace() 函数 对string对象中的子串进行替换，返回值为对象自身的引用</h3>
<pre><code>//用str替换指定字符串从起始位置pos开始长度为len的字符 
string&amp; replace (size_t pos, size_t len, const string&amp; str); 
string s="12345";
s=s.replace(2,3,"aa");   //s="12aa";



//用str替换 迭代器起始位置 和 结束位置 的字符 
string&amp; replace (const_iterator i1, const_iterator i2, const string&amp; str);

string s="12345";
s=s.replace(s.begin(),s.begin()+3,"aaa");  //s="aaa45";

string s1("Real Steel");
s1.replace(1, 3, "123456", 2, 4);  //用 "123456" 的子串(2,4) 替换 s1 的子串(1,3)
cout &lt;&lt; s1 &lt;&lt; endl;  //输出 R3456 Steel

string s2("Harry Potter");
s2.replace(2, 3, 5, '0');  //用 5 个 '0' 替换子串(2,3)
cout &lt;&lt; s2 &lt;&lt; endl;  //输出 HaOOOOO Potter

int n = s2.find("OOOOO");  //查找子串 "00000" 的位置，n=2
s2.replace(n, 5, "XXX");  //将子串(n,5)替换为"XXX"
cout &lt;&lt; s2 &lt; &lt; endl;  //输出 HaXXX Potter</code></pre>
<h3>to_string()函数 把数值类型如int、double、long等转化为string</h3>
<pre><code>int a = 4;
double b = 3.14;
string str1, str2;
str1 = to_string(a);
str2 = to_string(b);
cout &lt;&lt; str1 &lt;&lt; endl;
cout &lt;&lt; str2 &lt;&lt; endl;</code></pre>
<h3>stoi() 和atoi() 函数将字符串转化为int型</h3>
<p><strong>区别是stoi的形参是const string*，而atoi的形参是const char*。c_str()的作用是将const string*转化为const char*</strong></p>
<pre><code>string s1("1234567");
char* s2 = "1234567";

int a = stoi(s1);
int b = atoi(s2);
int c = atoi(s1.c_str());
cout &lt;&lt; a &lt;&lt; endl;
cout &lt;&lt; b &lt;&lt; endl;
cout &lt;&lt; c &lt;&lt; endl;</code></pre>
<h3>reverse（）函数 翻转字符串</h3>
<pre><code>string s="12345";
reverse(str.begin(),str.end());

reverse(str.begin(),str.begin()+3);</code></pre>
<p>assign()函数 常用于赋值</p>
<pre><code>/*
C++ string assign()赋值常用方法

函数assign()常用在给string类变量赋值.

常用方法有:
*/
string str1="hello";

//1,直接用另一个字符串赋值.

 str2.assign(str1);    //即用str1给str2赋值.  "hello"

//2,用另一个字符串的一个子串赋值
 
str3.assign(str1, 2, 3);         //"ll0"

//3,用一个字符串的前一段子串赋值;

str4.assign("World", 5);     //"Worl"

//4,用几个相同的字符,赋值.

str5.assign(10, 'c');          //"cccccccccc"</code></pre>
<p></p>
</div>
</div>