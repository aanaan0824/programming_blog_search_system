<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/02b723ccb11543a38336e4bf82aa149a.webp#pic_center"/></p>
<p><strong>💛 前情提要💛</strong></p>
<p>本章节是<code>数据结构</code>的<code>堆</code>的相关知识~</p>
<p>接下来我们即将进入一个全新的空间，对代码有一个全新的视角~</p>
<p>以下的内容一定会让你对<code>数据结构</code>有一个颠覆性的认识哦！！！</p>
<p>❗以下内容以<code>C语言</code>的方式实现，对于<code>数据结构</code>来说最重要的是<code>思想</code>哦❗</p>
<p><font color="gray" size="3"><strong>以下内容干货满满，跟上步伐吧~</strong></font></p>
<hr color="#000000" size='1"'/>
<p><strong>作者介绍：</strong></p>
<blockquote>
<p>🎓 <strong>作者：</strong> 热爱编程不起眼的小人物🐐<br/> 🔎<strong>作者的Gitee：</strong><a href="https://gitee.com/Dream_Y-ocean">代码仓库</a><br/> 📌<strong>系列文章&amp;专栏推荐：</strong> <a href="https://blog.csdn.net/qq_62817113/category_11605818.html?spm=1001.2014.3001.5482">《刷题特辑》</a>、 <a href="https://blog.csdn.net/qq_62817113/category_11534485.html">《C语言学习专栏》</a>、<a href="https://blog.csdn.net/qq_62817113/category_11755379.html?spm=1001.2014.3001.5482">《数据结构_初阶》</a></p>
<p>📒<strong>我和大家一样都是初次踏入这个美妙的“元”宇宙🌏 希望在输出知识的同时，也能与大家共同进步、无限进步</strong>🌟</p>
</blockquote>
<hr color="#000000" size='1"'/>
<blockquote>
<p></p>
<div class="toc">
<h3>📌导航小助手📌</h3>
<ul><li><a href="#_36">💡本章重点</a></li><li><a href="#bb_52"><b>🍞一.</b>堆的概念</a></li><li><ul><li><a href="#bb_56"><b>🥐Ⅰ.</b>什么是堆</a></li><li><a href="#bb_78"><b>🥯Ⅱ.</b>总结</a></li></ul>
</li><li><a href="#bb_89"><b>🍞二.</b>堆</a></li><li><ul><li><a href="#bb_92"><b>🥐Ⅰ.</b>性质</a></li></ul>
</li><li><a href="#bb_144"><b>🍞三.</b>堆接口实现</a></li><li><ul><li><a href="#bb_166"><b>🥐Ⅰ.</b>初始化堆（建堆）</a></li><li><a href="#bb_312"><b>🥐Ⅱ.</b>入堆操作</a></li><li><a href="#bb_403"><b>🥐Ⅲ.</b>删除堆顶数据</a></li><li><a href="#bb_449"><b>🥐Ⅳ.</b>取堆顶数据</a></li><li><a href="#bbNULL_478"><b>🥐Ⅴ.</b>判断堆是否为NULL</a></li><li><a href="#bb_506"><b>🥐Ⅵ.</b>获取堆内数据的个数</a></li><li><a href="#bb_529"><b>🥐Ⅶ.</b>堆的销毁</a></li><li><a href="#bb_555"><b>🥯Ⅷ.</b>总结</a></li></ul>
</li><li><a href="#_565">🫓总结</a></li></ul>
</div>
<p></p>
</blockquote>
<hr color="#000000" size='1"'/>
<h1><a id="_36"></a>💡本章重点</h1>
<ul><li> <p>堆的概念</p> </li><li> <p>堆的结构&amp;实现</p> </li><li> <p>向上调整&amp;向下调整重要算法思想</p> </li></ul>
<hr color="#000000" size='1"'/>
<h1><a id="bb_52"></a><b>🍞一.</b>堆的概念</h1>
<br/>
<h2><a id="bb_56"></a><b>🥐Ⅰ.</b>什么是堆</h2>
<ul><li> <p>堆总是一颗<code>完全二叉树</code>【<code>满二叉树</code>为特殊的完全二叉树】</p> </li><li> <p>堆又称为二叉树的顺序结构</p>
<ul><li> <p>因为普通的二叉树不适合用数组来存储，可能会造成大量的空间浪费</p> </li><li> <p>而完全二叉树用顺序结构存储是完全嵌合的，不会存在空间浪费</p> </li></ul> </li></ul>
<blockquote>
<p><img alt="这里是引用" src="https://img-blog.csdnimg.cn/b25e6eeb2e2449dc8847070ed18a04a5.png"/></p>
</blockquote>
<p>❗<strong>综上：</strong></p>
<ul><li> <p>堆的逻辑结构为<code>完全二叉树</code></p> </li><li> <p>堆的物理结构为<code>数组</code></p> </li></ul>
<h2><a id="bb_78"></a><b>🥯Ⅱ.</b>总结</h2>
<p>✨综上：就是堆的概念啦~</p>
<p>➡️简单来说：堆为二叉树的顺序结构</p>
<p>【后续我们还会学习二叉树的<code>链式结构</code>哦~】</p>
<hr color="#000000" size='1"'/>
<h1><a id="bb_89"></a><b>🍞二.</b>堆</h1>
<br/>
<h2><a id="bb_92"></a><b>🥐Ⅰ.</b>性质</h2>
<p>💡<strong>在堆中：</strong> 某个节点的值总是不大于或不小于其父节点的值</p>
<ul><li><code>大根堆</code>：即当每个父亲结点的值总是<code>≥</code>孩子结点的值</li></ul>
<blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/67a8d6232f6f47a4be27eca3dde9a508.png"/></p>
</blockquote>
<ul><li><code>小根堆</code>：即当每个父亲结点的值总是<code>≤</code>孩子结点的值</li></ul>
<blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/bf98e7b68ca340419a21bb9d2071b6c2.png"/></p>
</blockquote>
<p>❗<strong>特别注意：</strong></p>
<ul><li> <p><code>小根堆</code>的堆顶数据【即最上面的结点的值】：一定是整个完全二叉树中值最小的结点</p> </li><li> <p><code>大根堆</code>的堆顶数据【即最上面的结点的值】：一定是整个完全二叉树中值最大的结点</p> </li><li> <p>若不满足上述条件，则表明不属于<code>大根堆</code>或<code>小根堆</code>中的任意一个，也就是说此<code>完全二叉树</code>不是<code>堆</code></p> </li></ul>
<p>【虽然根结点的值一定是全部结点的值中<code>最大</code>或<code>最小</code>的，但<code>大根堆</code>、<code>小根堆</code>并不代表说数组元素是按照<code>降序</code>、<code>升序</code>排放的，这两者没有任何关系】</p>
<p>➡️<strong>重要规律：</strong></p>
<p>通过数组的特性<code>随机访问</code>，如何用<code>下标</code>去找到父亲结点or孩子结点</p>
<ul><li> <p>假设某一个父亲结点下标为<code>parent</code></p> </li><li class="task-list-item"> <p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"/> 所以此父亲结点的<code>左孩子</code>结点为：<code>leftchild = parent*2 + 1</code></p> </li><li class="task-list-item"> <p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"/> 所以此父亲结点的<code>右孩子</code>结点为：<code>leftchild = parent*2 + 2</code></p> </li><li class="task-list-item"> <p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"/> 所以：我们可以通过<code>+1</code>、<code>+2</code>的下标调整找到<code>左孩子</code>、<code>右孩子</code></p> </li><li> <p>那此时我们就可以反推出：<code>parent = （child - 1）/ 2</code></p> </li><li class="task-list-item"> <p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"/> 这是因为计算的是<code>整型计算</code>，即使是<code>右孩子</code>去用此算式虽然计算出来的下标是带有小数的，但下标的类型为<code>整型</code>，就会自动抹去小数，那此时的整数也就为<code>右孩子</code>的父亲结点的下标了</p> </li><li class="task-list-item"> <p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"/> 所以：我们就可以用一条算式去求得左、右孩子的父亲结点的下标了，无需用两条算式</p> </li></ul>
<p>✨<strong>综上：</strong></p>
<ul><li>我们便用<code>顺序结构</code>去实现<code>堆</code></li></ul>
<p>❗所以下面我们开始实现<code>堆的接口</code></p>
<hr color="#000000" size='1"'/>
<h1><a id="bb_144"></a><b>🍞三.</b>堆接口实现</h1>
<blockquote>
<p>对于数据结构的接口实现，一般围绕<code>增</code>、<code>删</code>、<code>查</code>、<code>改</code>的内容</p>
</blockquote>
<p>💡<strong>如下的实现围绕此原码进行：</strong> 以下以建<code>大根堆</code>为例</p>
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> HPDataYtpe<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Heap</span>
<span class="token punctuation">{<!-- --></span>
	HPDataYtpe <span class="token operator">*</span>a<span class="token punctuation">;</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment">//记录目前数组内有几个数据</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>HP<span class="token punctuation">;</span>
</code></pre>
<h2><a id="bb_166"></a><b>🥐Ⅰ.</b>初始化堆（建堆）</h2>
<p>👉<strong>简单来说：</strong></p>
<ul><li>拿一个数组的全部元素进行建堆，即对此数组的逻辑结构变为<code>大堆</code></li></ul>
<p>➡️<strong>实现：</strong></p>
<ul><li> <p>1️⃣先将原先数组的内容全部拷贝至新创建的堆中</p> </li><li> <p>2️⃣将此堆里的元素排序进行调整，建为 <code>大堆</code></p> </li></ul>
<p>🔥<strong>重点：</strong> 如何调整为<code>大堆</code> - 也就是<code>建堆</code></p>
<blockquote>
<p>1.首先：我们假设要建堆的数组的元素除了根节点不满足<code>大堆</code>，左右子树都满足<code>大堆</code>的情况<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3a7bac9c70d5447abbe9d855eeb0b24c.png"/></p>
<hr/>
<p>2.思路：此时我们就需要将值为<code>2</code>的结点进行向下比较，最终放到适合的位置，从而使整个堆满足<code>大堆</code>的要求<br/> <br/></p>
<p>👉<strong>向下调整算法：</strong> 当左右子树都为<code>大堆</code>或<code>小堆</code>的时候，便可通过此算法调整根结点的位置，使整棵树满足<code>大堆</code>或<code>小堆</code>【我们这里本质操控的是<code>数组</code>】</p>
<ul><li> <p>1️⃣先将值为<code>2</code>的结点（父亲结点）的左、右孩子比较值的大小，因为是要建大堆，所以选出左右孩子中的较大值</p> </li><li> <p>2️⃣比较父亲结点与左右孩子中的较大值哪个值更大，若孩子节点的值大于父亲节点，则交换调整，并将原来孩子的位置当成父亲（因为前面已经交换位置了），继续重复调整下去，直至父亲结点走到<code>叶子结点</code>，说明父亲结点已经走到树的最后一层，完成调整了</p> </li><li> <p>3️⃣若当孩子结点的值小于父亲结点，说明此时父亲结点处在的位置再往下已经满足<code>大堆</code>的要求，就可以停止调整了<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/609e726b6d8b4163999bf3a30ee5ff15.gif#pic_center"/></p> </li></ul>
<hr/>
<p>❗<strong>特别注意：</strong></p>
<ul><li>比较孩子结点的时候，有可能只有左孩子结点，没有右孩子结点的时候（就如上述情况），不可访问右孩子结点，即需要防止数组越界【<code>child + 1 &lt; n</code>】</li></ul>
</blockquote>
<p><strong>✊综上：向下调整算法的代码实现</strong>【时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        l
       
       
        o
       
       
        g
       
       
        N
       
       
        )
       
      
      
       O(logN)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span>】</p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">ADjustDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> 
	<span class="token comment">//当 孩子的下标 超出 数组的范围，则说明不存在</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//1.选出左右孩子中，较小的一个</span>
		<span class="token comment">//child -- 左孩子下标；child+1 -- 右孩子下标</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//想象的时候：默认左孩子是比右孩子小</span>
			<span class="token comment">//如果大的话，child就走到右孩子下标处</span>
			child<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//2.交换</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//满足的情况</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>❓当左右子树都不是<code>大堆</code>时候，怎么办</p>
<ul><li> <p>上述仅用于左右子树都满足 <code>大堆</code>或<code>小堆</code>的情况，我们现在对于一个结点数值都是随机摆放的完全二叉树，是不能直接运用<code>向下调整算法</code>进行建堆的</p> </li><li> <p>那此时我们便可以创造条件：<strong>从后往前建堆</strong></p> </li></ul>
<blockquote>
<p>➡️<strong>思路：</strong></p>
<ul><li> <p>1️⃣找到完全二叉树中最后一个结点的父亲结点</p> </li><li> <p>2️⃣判断此父亲结点与其孩子结点构成的局部二叉树是否是我们想要的<code>大堆</code>，若不满足，则向下调整使这个局部的二叉树满足</p> </li><li> <p>3️⃣调整完后，父亲结点对应的下标<code>--</code>【即往前找上一个结点】，再重复步骤2️⃣，直至调整为我们上面举的例子，最终调整最后一次后，这个完全二叉树便为<code>大堆</code><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3af753fbaf4d4368b59a8c1f61593c1d.gif#pic_center"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/97845441b3714bb3959699dfb9e04d8c.gif#pic_center"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2e97d942fe404660b8e0079d66ceac04.gif#pic_center"/><br/> 👉这样，便正真建成了一个<code>大堆</code></p> </li></ul>
</blockquote>
<p><strong>✊综上：建堆的代码实现</strong>【时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        O
       
       
        (
       
       
        N
       
       
        )
       
      
      
       O(N)
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span>】</p>
<pre><code class="prism language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">AdjustDown</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> php<span class="token operator">-&gt;</span>size<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>❗<strong>特别注意：</strong></p>
<ul><li> <p><code>a</code>表示需要建堆的数组的首元素地址</p> </li><li> <p><code>n</code>为数组的<code>a</code>的元素个数</p> </li></ul>
<p><strong>1️⃣建堆的函数声明：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapInit</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">,</span>HPDataYtpe<span class="token operator">*</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣建堆函数的实现：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapInit</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">,</span> HPDataYtpe<span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>

	php<span class="token operator">-&gt;</span>a <span class="token operator">=</span> <span class="token punctuation">(</span>HPDataYtpe<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HPDataYtpe<span class="token punctuation">)</span><span class="token operator">*</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"malloc fail\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//1.拷贝</span>
	<span class="token function">memcpy</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HPDataYtpe<span class="token punctuation">)</span><span class="token operator">*</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	php<span class="token operator">-&gt;</span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>
	php<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> n<span class="token punctuation">;</span>

	<span class="token comment">//2.建堆</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">AdjustDown</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> php<span class="token operator">-&gt;</span>size<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bb_312"></a><b>🥐Ⅱ.</b>入堆操作</h2>
<p>👉<strong>简单来说：</strong> 对堆插入一个数据</p>
<p>➡️<strong>实现：</strong> 即对数组尾插一个数据</p>
<p>❗<strong>特别注意：</strong></p>
<ul><li> <p>并不是插入堆就直接满足<code>大堆</code>，需要将刚插进来的数据经过比较放到能使整棵树满足<code>大堆</code>的位置，此时就涉及另外一个算法：<strong>向上调整算法</strong></p>
<ul><li> <p>对插入的数据进行向上调整，仅会对插入数据所在的路径产生影响，并不像<strong>向下调整算法</strong>会影响到整棵树</p> </li><li> <p>因为我们插入进来的时候，完全二叉树已经满足<code>大堆</code>【即父亲结点的值<code>≥</code>孩子结点的值】，所以向上调整算法将<code>插入的结点</code>直接与<code>父亲结点</code>的值进行比较即可（无需与自己的兄弟结点比较）</p>
<ul><li> <p>若<code>大于</code>父亲结点的值，则不满足<code>大堆</code>，需要将插入进来的结点与其父亲结点交换，并继续向上与新的父亲结点进行比较</p> </li><li> <p>直至插入的结点已经到达<code>根部</code>【即数组下标为<code>0</code>处】 ，就结束调整，表示已到达合适的位置</p> </li><li> <p>若<code>小于</code>父亲结点的值，则表明此时也已满足<code>大堆</code>，插入进来的结点已经到达合适的位置了</p> </li></ul> </li></ul> </li></ul>
<p><strong>✊综上：向上调整代码实现</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">Adjustup</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> child<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">//等于0的时候就中止 </span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">&gt;</span> a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
			parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>👉<strong>Eg：</strong> 假如现在对堆插入一个值为<code>10</code>的结点</p>
<p>✊<strong>动图示例：</strong></p>
<blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fdb943f53c044b3c8c7dc1eef33c789e.gif#pic_center"/></p>
</blockquote>
<p><strong>1️⃣入堆的函数声明：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapPush</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">,</span> HPDataYtpe<span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣入堆函数的实现：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapPush</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">,</span> HPDataYtpe<span class="token operator">*</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//满了</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>size <span class="token operator">==</span> php<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//增容</span>
		HPDataYtpe<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token function">realloc</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> php<span class="token operator">-&gt;</span>capacity <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>HPDataYtpe<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"realloc fail\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		php<span class="token operator">-&gt;</span>a <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		php<span class="token operator">-&gt;</span>capacity <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	php<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>php<span class="token operator">-&gt;</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
	php<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>

	<span class="token comment">//向上调整算法</span>
	<span class="token function">Adjustup</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> php<span class="token operator">-&gt;</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bb_403"></a><b>🥐Ⅲ.</b>删除堆顶数据</h2>
<p>👉<strong>简单来说：</strong> 对堆顶删除一个元素</p>
<p>➡️<strong>实现：</strong> 即删除数组的第一个元素</p>
<p>❗<strong>特别注意：</strong></p>
<ul><li> <p>如果直接删除堆顶的数据的，那就需要后面的整体数据往前挪动【<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          O
         
         
          (
         
         
          N
         
         
          )
         
        
        
         O(N)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span>】，并树的结构也发生改变，需要重新建堆【<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          O
         
         
          (
         
         
          N
         
         
          )
         
        
        
         O(N)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span>】，才能再次满足堆为<code>大堆</code></p> </li><li> <p>那我们此时就可以先将<code>堆顶</code>和<code>堆尾</code>的值交换，并删除末尾的元素（因为已经交换了，所以到达删除<code>堆顶</code>元素的目的），最后再建堆一次即可【这样就比上面的方法少执行了<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          O
         
         
          (
         
         
          N
         
         
          )
         
        
        
         O(N)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span>次】</p> </li></ul>
<p>✊<strong>动图示例：</strong></p>
<blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/afe9773ad0374ceb98496b694311ed70.gif#pic_center"/></p>
</blockquote>
<p><strong>1️⃣出栈的函数声明：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapPop</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣出栈函数的实现：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HeapPop</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">Swap</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>php<span class="token operator">-&gt;</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> php<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 交换到末尾后，删掉末尾数据【原堆顶】</span>
	php<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span>

	<span class="token function">AdjustDown</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> php<span class="token operator">-&gt;</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bb_449"></a><b>🥐Ⅳ.</b>取堆顶数据</h2>
<p>👉<strong>简单来说：</strong> 返回堆顶的数据</p>
<p>➡️<strong>实现：</strong> 即返回一个顺序表中第一个数据</p>
<p>❗<strong>特别注意：</strong></p>
<ul><li>需要判断顺序表此时是否为<code>NULL</code>（空表），如果是则不能返回了</li></ul>
<p><strong>1️⃣返回堆顶数据的函数声明：</strong></p>
<pre><code class="prism language-c">HPDataYtpe <span class="token function">HeapTop</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣返回堆顶数据函数的实现：</strong></p>
<pre><code class="prism language-c">HPDataYtpe <span class="token function">HeapTop</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> php<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bbNULL_478"></a><b>🥐Ⅴ.</b>判断堆是否为NULL</h2>
<p>👉<strong>简单来说：</strong> 就是判断<code>size</code>是否为0</p>
<p>➡️<strong>实现：</strong> 因为<code>size</code>表示的是堆内的数据个数</p>
<ul><li> <p>size为0，堆就为<code>空</code></p> </li><li> <p>否则，堆为<code>非空</code></p> </li></ul>
<p><strong>1️⃣判断堆是否为NULL的函数声明：</strong></p>
<pre><code class="prism language-c">bool <span class="token function">HeapEmpty</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣判断堆是否为NULL函数的实现：</strong></p>
<pre><code class="prism language-c">bool <span class="token function">HeapEmpty</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> php<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bb_506"></a><b>🥐Ⅵ.</b>获取堆内数据的个数</h2>
<p>👉<strong>简单来说：</strong> 返回堆内数据个数</p>
<p>➡️<strong>实现：</strong> 返回<code>size</code>即可</p>
<p><strong>1️⃣返回堆内数据个数的函数声明：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">HeapSize</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣返回堆内数据个数函数的实现：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">HeapSize</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> php<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bb_529"></a><b>🥐Ⅶ.</b>堆的销毁</h2>
<p>👉<strong>简单来说：</strong> 对堆进行空间释放</p>
<p>➡️<strong>实现：</strong> 与顺序表的销毁操作一样</p>
<p><strong>1️⃣堆的销毁的函数声明：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span>  <span class="token function">HeapDestroy</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>2️⃣堆的销毁函数的实现：</strong></p>
<pre><code class="prism language-c"><span class="token keyword">void</span>  <span class="token function">HeapDestroy</span><span class="token punctuation">(</span>HP<span class="token operator">*</span> php<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>php<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>php<span class="token operator">-&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	php<span class="token operator">-&gt;</span>a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

	php<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> php<span class="token operator">-&gt;</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="bb_555"></a><b>🥯Ⅷ.</b>总结</h2>
<p>✨综上：就是堆的接口实现的内容啦~</p>
<p>➡️相信大家对<code>堆</code>有不一样的看法了吧🧡</p>
<hr color="#000000" size='1"'/>
<h1><a id="_565"></a>🫓总结</h1>
<p>综上，我们基本了解了数据结构中的 <font color="#FF69B4"><strong>“堆”</strong> </font> 🍭 <font color="black">的知识啦~~</font></p>
<p>恭喜你的内功又双叒叕得到了提高！！！</p>
<p>感谢你们的阅读😆</p>
<p>后续还会继续更新💓，欢迎持续关注📌哟~</p>
<p>💫<strong>如果有错误❌，欢迎指正呀</strong>💫</p>
<p><strong>✨如果觉得收获满满，可以点点赞👍支持一下哟~✨</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a60f92c6d6124df2b7d2113a59f3a9e1.webp#pic_center"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>