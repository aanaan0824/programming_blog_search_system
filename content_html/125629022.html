<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<p><strong> ä¸ªäººç®€ä»‹</strong></p>
<blockquote>
<p>ğŸ‘¨ğŸ»â€ğŸ’»ä¸ªäººä¸»é¡µï¼š<a href="https://blog.csdn.net/m0_63947499?spm=1018.2226.3001.5343" title="é™ˆæ©˜åˆé’">é™ˆæ©˜åˆé’</a></p>
<p>ğŸƒğŸ»â€â™‚ï¸åšå®¢è®°å½•å¿ƒæƒ…ï¼Œä»£ç ç¼–å†™äººç”Ÿã€‚</p>
<p>ğŸŒŸå¦‚æœæ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œéº»çƒ¦å…³æ³¨ç‚¹èµæ”¶è—èµ°ä¸€æ³¢ï¼Œæ„Ÿè°¢æ”¯æŒï¼</p>
<p>ğŸŒ±å¼ºåŠ›æ¨èæˆ‘å¹³æ—¶å­¦ä¹ ç¼–ç¨‹å’Œå‡†å¤‡é¢è¯•çš„åˆ·é¢˜ç½‘ç«™ï¼š<a class="link-info" href="https://www.nowcoder.com/link/pc_csdncpt_qing_java" title="ç‚¹è¿™é‡Œ">ç‚¹è¿™é‡Œ</a>ï¼</p>
</blockquote>
<hr/>
<p><strong>å‰è¨€</strong></p>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œä»Šå¤©ç”¨Javaç¼–ç¨‹å®ç°ä¸€ä¸ªGUIç•Œé¢çš„ç»å…¸ä¿„ç½—æ–¯æ–¹å—æ¸¸æˆï¼Œä»¥ä¸‹æ˜¯å®Œæ•´çš„å¼€å‘æ€è·¯ï¼Œä¾›å¤§å®¶å­¦ä¹ äº¤æµã€‚</p>
</blockquote>
<p><strong>æ•ˆæœå±•ç¤º</strong></p>
<p style="text-align:center;"><img alt="2700e39389f845d28097f1d157732ab0.gif" src="https://img-blog.csdnimg.cn/2700e39389f845d28097f1d157732ab0.gif"/></p>
<hr/>
<p><strong>ç›®å½•</strong></p>
<p style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA">ä¸€ã€æ•ˆæœå±•ç¤º</a></p>
<p style="margin-left:40px;">ğŸ˜Š<a href="#1.%E6%B8%B8%E6%88%8F%E7%95%8C%E9%9D%A2">1.æ¸¸æˆç•Œé¢</a></p>
<p style="margin-left:40px;">ğŸ˜œ<a href="#2.%E6%B8%B8%E6%88%8F%E7%BB%93%E6%9D%9F">2.æ¸¸æˆç»“æŸ</a></p>
<p style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D">äºŒã€é¡¹ç›®ä»‹ç»</a></p>
<p style="margin-left:40px;"><a href="#1.%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF">1.é¡¹ç›®èƒŒæ™¯</a></p>
<p style="margin-left:40px;"><a href="#2.%E6%80%BB%E4%BD%93%E9%9C%80%E6%B1%82">2.æ€»ä½“éœ€æ±‚</a></p>
<p style="margin-left:80px;">ğŸ˜<a href="#%E2%91%A0%E6%B8%B8%E6%88%8F%E9%80%BB%E8%BE%91">â‘ æ¸¸æˆé€»è¾‘</a></p>
<p style="margin-left:80px;">ğŸ¥°<a href="#%E2%91%A1%E6%B8%B8%E6%88%8F%E8%BF%87%E7%A8%8B">â‘¡æ¸¸æˆè¿‡ç¨‹</a></p>
<p style="margin-left:80px;">ğŸ¤©<a href="#%E2%91%A2%E5%85%B6%E5%AE%83%E8%AE%BE%E8%AE%A1">â‘¢å…¶å®ƒåŠŸèƒ½</a></p>
<p style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA%20%C2%A0">ä¸‰ã€ä»£ç å±•ç¤º  </a></p>
<p style="margin-left:40px;">ğŸ¤—<a href="#1.%E4%B8%BB%E7%B1%BB%E5%92%8C%E7%AA%97%E5%8F%A3%E8%AE%BE%E8%AE%A1">1.ä¸»ç±»å’Œçª—å£è®¾è®¡</a></p>
<p style="margin-left:40px;">ğŸ¤ <a href="#2.%E5%AD%90%E7%B1%BB%E5%92%8C%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0">2.å­ç±»å’Œæ–¹æ³•å®ç°</a></p>
<p style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E6%80%BB%E7%BB%93">å››ã€é¡¹ç›®æ€»ç»“</a></p>
<hr/>
<h1>ä¸€ã€æ•ˆæœå±•ç¤º</h1>
<h2>1.æ¸¸æˆç•Œé¢</h2>
<p><img alt="533bb5279d7b43cda967d16b61feb9c9.png" src="https://img-blog.csdnimg.cn/533bb5279d7b43cda967d16b61feb9c9.png"/></p>
<h2>2.æ¸¸æˆç»“æŸ</h2>
<p><img alt="af7ee026616c448bbf6e6509cd4fc33a.png" src="https://img-blog.csdnimg.cn/af7ee026616c448bbf6e6509cd4fc33a.png"/></p>
<hr/>
<h1>äºŒã€é¡¹ç›®ä»‹ç»</h1>
<h2>1.é¡¹ç›®èƒŒæ™¯</h2>
<blockquote>
<p><strong>â€œä¿„ç½—æ–¯æ–¹å—â€</strong>æ˜¯ä¸€ä¸ªç»å…¸çš„æ¸¸æˆï¼Œåœ¨æ¸¸æˆä¸­ï¼Œç”±å°æ–¹å—ç»„æˆçš„ä¸åŒå½¢çŠ¶çš„æ¿å—é™†ç»­ä»å±å¹•ä¸Šæ–¹è½ä¸‹æ¥ï¼Œç©å®¶é€šè¿‡<u><em>è°ƒæ•´æ¿å—çš„ä½ç½®å’Œæ–¹å‘</em></u>ï¼Œä½¿å®ƒä»¬åœ¨å±å¹•åº•éƒ¨æ‹¼å‡ºå®Œæ•´çš„æ¨ªæ¡ã€‚è¿™äº›å®Œæ•´çš„æ¨ªæ¡ä¼šéšå³æ¶ˆå¤±ï¼Œç»™æ–°è½ä¸‹æ¥çš„æ¿å—è…¾å‡ºç©ºé—´ï¼ŒåŒæ—¶ï¼Œç©å®¶å¾—åˆ°åˆ†æ•°å¥–åŠ±ã€‚æœªè¢«æ¶ˆé™¤æ‰çš„æ–¹å—ä¸æ–­å †ç§¯èµ·æ¥ï¼Œä¸€æ—¦å †åˆ°å±å¹•é¡¶ç«¯ï¼Œç©å®¶ä¾¿å‘Šè¾“ï¼Œæ¸¸æˆç»“æŸã€‚</p>
</blockquote>
<h2>2.æ€»ä½“éœ€æ±‚</h2>
<h3>â‘ æ¸¸æˆé€»è¾‘</h3>
<blockquote>
<p>ï¼ˆ1ï¼‰æ–¹å—çš„è¯ç”Ÿéœ€è¦ç”¨éšæœºåŸç†ï¼Œå¦å¤–ï¼Œå®ƒéœ€è¦åˆå§‹åŒ–çš„è¢«æ”¾ç½®åœ¨æ¸¸æˆç•Œé¢çš„é¡¶éƒ¨ã€‚<br/> ï¼ˆ2ï¼‰æ–¹å—éœ€è¦è‡ªåŠ¨ä¸‹é™ï¼Œåœ¨ä¸‹é™è¿‡ç¨‹ä¸­ï¼Œè¿˜éœ€åˆ¤æ–­å®ƒæ˜¯å¦ä¸å‘¨å›´ç¯å¢ƒå‘ç”Ÿå†²çªï¼Œèƒ½å¦ç»§ç»­ä¸‹é™ã€‚<br/> ï¼ˆ3ï¼‰æ–¹å—æœ¬èº«å¯ä»¥å˜å½¢ï¼Œå˜å½¢åçš„æ–¹å—å…·æœ‰ä¸åŒçš„æ•°æ®ï¼Œåˆ¤æ–­çš„æ–¹å¼åˆä¼šä¸ä¸€æ ·ã€‚<br/> ï¼ˆ4ï¼‰å½“ç”¨æˆ·ä¸€ç›´æŒ‰ä½ â†“ é”®çš„æ—¶å€™ï¼Œæ–¹å—éœ€è¦æŒç»­å¾€ä¸‹æ‰ã€‚</p>
</blockquote>
<h3>â‘¡æ¸¸æˆè¿‡ç¨‹</h3>
<blockquote>
<p>ï¼ˆ1ï¼‰ å·¦å³æ“ä½œã€‚éœ€è¦ç›‘å¬KeyEventï¼Œè®©æ–¹å—å·¦å³ç§»åŠ¨ï¼Œç›´åˆ°ç¢°åˆ°è¾¹ç•Œã€‚<br/> ï¼ˆ2ï¼‰ å˜å½¢æ“ä½œã€‚ä¹Ÿè¦ç›‘å¬KeyEventï¼Œè®©æ–¹å—åˆ‡æ¢å½¢çŠ¶ã€‚<br/> ï¼ˆ3ï¼‰ ä¸‹é™æ“ä½œã€‚åŒæ ·ç›‘å¬KeyEventï¼Œè®©æ–¹å—å¿«é€Ÿçš„ä¸‹é™ã€‚<br/> ï¼ˆ4ï¼‰å½“è¯ç”Ÿçš„æ–¹å—å‡ºä¸–ä¸å…¶ä»–æ–¹å—å†²çªæ—¶ï¼Œåˆ¤å®šæ¸¸æˆç»“æŸã€‚</p>
</blockquote>
<h3>â‘¢å…¶å®ƒåŠŸèƒ½</h3>
<blockquote>
<p>ï¼ˆ1ï¼‰ç”¨æˆ·å¯ä»¥é€šè¿‡å•å‡»ç•Œé¢ä¸Šæä¾›çš„æŒ‰é’®ï¼Œéšæ—¶æš‚åœä¸ç»§ç»­æ¸¸æˆ ã€‚</p>
<p>ï¼ˆ2ï¼‰ç”¨æˆ·å¯ä»¥é€šè¿‡å•æœºç•Œé¢ä¸Šæä¾›çš„æŒ‰é’®ï¼Œé‡æ–°å¼€å§‹æ¸¸æˆã€‚</p>
</blockquote>
<hr/>
<h1>ä¸‰ã€ä»£ç å±•ç¤º  </h1>
<h2>1.ä¸»ç±»å’Œçª—å£è®¾è®¡</h2>
<p><strong>è®¾è®¡æ¸¸æˆçª—å£çš„å›¾å½¢åŒ–ç•Œé¢ä»¥åŠå„åŠŸèƒ½æŒ‰é’®ã€‚</strong></p>
<pre><code>import java.awt.*;
import java.awt.event.*;
import java.io.*;
import java.util.*;
import javax.imageio.*;
import javax.swing.*;
import javax.swing.Timer;
public class MyGame extends JFrame {
    public MyGame(){
        GameBody gamebody=new GameBody();
        gamebody.setBounds(5,10,500,600);  //
        gamebody.setOpaque(false);
        gamebody.setLayout(null);
        addKeyListener(gamebody);
        add(gamebody);
        
        int w=Toolkit.getDefaultToolkit().getScreenSize().width;
        int h=Toolkit.getDefaultToolkit().getScreenSize().height;
        final JButton login=new JButton(new ImageIcon("image/cxks.png"));
        login.setContentAreaFilled(false);
        login.setMargin(new Insets(0,0,0,0));
        login.setBorderPainted(false);
        login.setBounds(340,320,120,26);
        gamebody.add(login);

        login.addActionListener(new ActionListener(){
            public void actionPerformed(ActionEvent e) {    //ç™»å½•çš„æŒ‰é’®
                if(e.getSource()==login){
                    requestFocus(true);    //è·å¾—ç„¦ç‚¹ï¼Œä¸ç”¨å¤±å»ç„¦ç‚¹
                    gamebody.resetMap();   //é‡ç½®åœ°å›¾
                    gamebody.drawWall();   //å†²é‡æ–°ç»˜åˆ¶è¾¹ç•Œå¢™ä½“
                    gamebody.createshape();   //é‡æ–°äº§ç”Ÿæ–°çš„åœ°å›¾
                    gamebody.setStart(false);  //å”¤é†’å®šæ—¶ä¸‹è½çš„çº¿ç¨‹
                    gamebody.score=0;       //å°†åˆ†æ•°ç½®ä¸ºé›¶
                    repaint();
                }
            }
        });

        final JButton pauselogin=new JButton(new ImageIcon("image/zt.png"));
        pauselogin.setContentAreaFilled(false);
        pauselogin.setMargin(new Insets(0,0,0,0));
        pauselogin.setBorderPainted(false);
        pauselogin.setBounds(340,370,120,26);
        gamebody.add(pauselogin);

        pauselogin.addMouseListener(new MouseListener(){   //æš‚åœçš„æŒ‰é’®
            //é¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œå¯ä»¥åˆ†åˆ«åˆ¤æ–­ä¸åŒçš„äº‹ä»¶ï¼Œåšå‡ºä¸åŒçš„ååº”
            public void mouseClicked(MouseEvent e){
                if(e.getButton()==e.BUTTON1 ){     //å•å‡»å·¦é”®æš‚åœ
                    gamebody.setStart(true);   //å°†è‡ªåŠ¨ä¸‹è½çº¿ç¨‹å…³é—­
                    //requestFocus(true);    //åŒæ—¶æ•´ä¸ªJFrameå¤±å»ç„¦ç‚¹ï¼Œæ— æ³•æ“ä½œï¼Œä½†å¯ä»¥ç‚¹å‡»æŒ‰é’®
                }
                else if(e.getButton()==e.BUTTON3 ){   //å³å‡»æš‚åœï¼Œç»§ç»­æ¸¸æˆ
                    gamebody.setStart(false);   //å”¤é†’è‡ªåŠ¨ä¸‹è½çº¿ç¨‹
                    requestFocus(true);
                }
           /*     if(e.getClickCount()==2){     //å·¦é”®åŒå‡»ï¼Œä¹Ÿå¯ä»¥ç»§ç»­æ¸¸æˆ
                    gamebody.setStart(false);
                    requestFocus(true);
                }*/
            }
            public void mouseEntered(MouseEvent e){}
            public void mouseExited(MouseEvent e){}
            public void mousePressed(MouseEvent e){}
            public void mouseReleased(MouseEvent e){}

        });

        setTitle("ä¿„ç½—æ–¯æ–¹å—");
        setResizable(false);
        setFocusable(true);
        setBounds((w-500)/2,(h-600)/2,500,600);
        setLayout(null);

        setVisible(true);
        setDefaultCloseOperation(3);
    }
    public static void main(String[] args) {
        new MyGame();
    }
</code></pre>
<h2>2.å­ç±»å’Œæ–¹æ³•å®ç°</h2>
<p><strong>â‘ åˆ›å»ºéœ€è¦å®šä¹‰çš„å±€éƒ¨å˜é‡å’Œæ¸¸æˆGameBodyç±»ã€‚</strong></p>
<pre><code>class GameBody extends JPanel implements KeyListener{
        private int shapeType=-1;  //å®šä¹‰æ–¹å—çš„ç±»å‹  å®šä¹‰çš„ä¸º7ç§
        private int shapeState=-1; //å®šä¹‰æ–¹å—ä¸ºä½•ç§çŠ¶æ€ï¼Œæ¯ç§éƒ½æœ‰å››ç§çŠ¶æ€
        private int nextshapeType=-1;  //å®šä¹‰ä¸‹ä¸€å—äº§ç”Ÿçš„ç±»å‹
        private int nextshapeState=-1;  //å®šä¹‰ä¸‹ä¸€å—çš„æ–¹å—çš„çŠ¶æ€
        private final int CELL=25;   //å®šä¹‰æ–¹æ ¼çš„å¤§å°
        private int score=0;    //å®šä¹‰æ˜¾ç¤ºçš„æˆç»©
        private int left;       //å®šä¹‰åˆå§‹å›¾å½¢ä¸ä¸¤è¾¹çš„å¢™çš„è·ç¦»
        private int top;        //å®šä¹‰åˆå§‹å›¾å½¢ä¸ä¸Šä¸‹å¢™çš„è·ç¦»
        private int i=0;        //è¡¨ç¤ºåˆ—
        private int j=0;        //è¡¨ç¤ºè¡Œ
        public int flag=0;
        public  volatile boolean start=false;  //æš‚åœçš„åˆ¤æ–­æ¡ä»¶ï¼Œä¸ºè½»é‡é”ï¼Œä¿æŒåŒæ­¥çš„
        Random randomcolor=new Random();
        Random random=new Random();</code></pre>
<p><strong>â‘¡å®šä¹‰åœ°å›¾çš„å¤§å°ï¼Œåˆå§‹åŒ–åœ°å›¾å¹¶ç”»å‡ºå›´å¢™ ã€‚</strong></p>
<pre><code>        //å®šä¹‰åœ°å›¾çš„å¤§å°ï¼Œåˆ›å»ºäºŒä½çš„æ•°ç»„
        int[][] map=new int[13][23];

        //åˆå§‹åŒ–åœ°å›¾
        public void resetMap(){
            for(i=0;i&lt;12;i++){
                for(j=0;j&lt;22;j++){  //éå†çš„èŒƒå›´ä¸èƒ½å°
                    map[i][j]=0;
                }
            }
        }

        //ç”»å›´å¢™çš„æ–¹æ³•
        public void drawWall(){
            for(j=0;j&lt;22;j++)  //0åˆ°21è¡Œ
            {
                map[0][j]=2;
                map[11][j]=2;    //ç¬¬0è¡Œå’Œç¬¬11è¡Œä¸ºå¢™
            }
            for(i=0;i&lt;12;i++){  //0åˆ°11åˆ—
                map[i][21]=2;    //ç¬¬21è¡Œåˆ’å¢™
            }
        }</code></pre>
<p><strong> â‘¢å®šä¹‰éšæœºçš„å›¾å½¢ç§ç±»å’Œäº§ç”Ÿå›¾å½¢çš„æ–¹æ³•ã€‚</strong></p>
<pre><code>private final int[][][] shapes=new int[][][]{
                // i
                {       { 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0 },
                        { 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0 } },
                // s
                {		{ 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 } },
                // z
                {		{ 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 } },
                // j
                {		{ 0, 1, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0 },
                        { 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 } },
                // o
                {		{ 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } },
                // l
                {		{ 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 },
                        { 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 } },
                // t
                {		{ 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 },
                        { 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
                        { 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0 } }
        };
        //äº§ç”Ÿæ–°å›¾å½¢çš„æ–¹æ³•
        public void createshape(){
            if(shapeType==-1&amp;&amp;shapeState==-1){
                shapeType = random.nextInt(shapes.length);
                shapeState = random.nextInt(shapes[0].length);
            }else{
                shapeType=nextshapeType;
                shapeState=nextshapeState;
            }
            nextshapeType = random.nextInt(shapes.length);
            nextshapeState = random.nextInt(shapes[0].length);
            //shapeType=(int)(Math.random()*1000)%7;   //åœ¨7ä¸­ç±»å‹ä¸­éšæœºé€‰å–
            //shapeState=(int)(Math.random()*1000)%4;  //åœ¨å››ç§çŠ¶æ€ä¸­éšæœºé€‰å–
            left=4; top=0;  //å›¾å½¢äº§ç”Ÿçš„åˆå§‹ä½ç½®ä¸ºï¼ˆ4,0ï¼‰</code></pre>
<p><strong>â‘£åˆ¤æ–­æ¸¸æˆå®æ—¶è¿›è¡ŒçŠ¶æ€ ã€‚</strong></p>
<pre><code>if(gameOver(left,top)==1){
                resetMap();
                drawWall();
                score=0;
                JOptionPane.showMessageDialog(null, "GAME OVER");
            }
        }
        //éå†[4][4]æ•°ç»„äº§ç”Ÿçš„æ–¹å—å¹¶åˆ¤æ–­çŠ¶æ€
        public int judgeState(int left,int top,int shapeType,int shapeState){
            for(int a=0;a&lt;4;a++){
                for(int b=0;b&lt;4;b++){
                    if(((shapes[shapeType][shapeState][a*4+b]==1 &amp;&amp;   //éå†æ•°ç»„ä¸­ä¸º1çš„ä¸ªæ•°ï¼Œå³åˆ¤æ–­æ˜¯å¦æœ‰å›¾å½¢
                            map[left+b+1][top+a]==1))||                   //åˆ¤æ–­åœ°å›¾ä¸­æ˜¯å¦è¿˜æœ‰éšœç¢ç‰©
                            ((shapes[shapeType][shapeState][a*4+b]==1 &amp;&amp;   //éå†æ•°ç»„ä¸­ä¸º1çš„ä¸ªæ•°ï¼Œå³åˆ¤æ–­æ˜¯å¦æœ‰å›¾å½¢
                                    map[left+b+1][top+a]==2))){                   //åˆ¤æ–­æ˜¯å¦æ’å¢™
                        return 0;    //è¡¨æ˜æ— æ³•ä¸èƒ½æ­£å¸¸è¿è¡Œ
                    }
                }
            }
            return 1;
        }
</code></pre>
<p><strong>â‘¤åˆ›å»ºé”®ç›˜äº‹ä»¶ç›‘å¬ã€‚</strong></p>
<pre><code> public void keyPressed(KeyEvent e){
            switch(e.getKeyCode()){
                case KeyEvent.VK_LEFT:
                    leftMove();//è°ƒç”¨å·¦ç§»çš„æ–¹æ³•
                    repaint();
                    break;
                case KeyEvent.VK_RIGHT:
                    rightMove();//è°ƒç”¨å³ç§»çš„æ–¹æ³•
                    repaint();
                    break;
                case KeyEvent.VK_DOWN:
                    downMove();//è°ƒç”¨å·¦ç§»çš„æ–¹æ³•
                    repaint();
                    break;
                case KeyEvent.VK_UP:
                    turnShape();//è°ƒç”¨å˜å½¢çš„æ–¹æ³•
                    repaint();
                    break;
            }
            }
        }
        public void keyReleased(KeyEvent e) {
        }
        public void keyTyped(KeyEvent e) {
        }
        //åˆ›å»ºå·¦ç§»çš„æ–¹æ³•
        public void leftMove(){
            if(judgeState(left-1,top,shapeType,shapeState)==1){
                left-=1;
            }
        }
        //åˆ›å»ºå³ç§»çš„æ–¹æ³•
        public void rightMove(){
            if(judgeState(left+1,top,shapeType,shapeState)==1){
                left+=1;
            };
        }
        //åˆ›å»ºä¸‹ç§»çš„æ–¹æ³•
        public void downMove(){
            if(judgeState(left,top+1,shapeType,shapeState)==1){  //åˆ¤æ–­æœ‰å›¾å½¢
                top+=1;
                deleteLine();   //åˆ¤æ–­ä¸‹ç§»åæ˜¯å¦æœ‰æ»¡è¡Œ
            }
            if(judgeState(left,top+1,shapeType,shapeState)==0){   //åˆ¤æ–­æ²¡æœ‰å›¾å½¢

                addshape(left,top,shapeType,shapeState);
                createshape();
                deleteLine();
            }
        }
        //åˆ›å»ºæ—‹è½¬å˜å½¢çš„æ–¹æ³•
        public void turnShape(){
            int tempshape=shapeState;
            shapeState=(shapeState+1)%4; //åœ¨å››ä¸­çš„çŠ¶æ€ä¸­é€‰å–
            if(judgeState(left,top,shapeType,shapeState)==1){

            }
            if(judgeState(left,top,shapeType,shapeState)==0){
                shapeState=tempshape;   //æ²¡æœ‰å›¾å½¢ï¼Œä¸èƒ½è¿›è¡Œæ—‹è½¬ï¼Œè¿˜åŸåŸæ¥çŠ¶æ€
            }
            repaint();
        }
</code></pre>
<p><strong>â‘¥ç»˜åˆ¶ç•Œé¢ä¸­çš„å„æ–‡å­—åŠå›¾å½¢ ã€‚</strong></p>
<pre><code>public void paintComponent(Graphics g){
            super.paintComponent(g);
            int t=randomcolor.nextInt(5);
            int count=randomcolor.nextInt(5);
            Color[] color=new Color[]{Color.pink,Color.green,Color.red,Color.yellow,Color.blue};
            //ç»˜åˆ¶å›´å¢™
            for(j=0;j&lt;22;j++){
                for(i=0;i&lt;12;i++){
                    if(map[i][j]==2){//åˆ¤æ–­æ˜¯å¦ä¸ºå¢™å¹¶ç»˜åˆ¶
                        g.setColor(Color.blue);
                        g.fill3DRect(i*CELL,j*CELL,CELL,CELL,true);
                    }
                    if(map[i][j]==0){//åˆ¤æ–­æ˜¯å¦ä¸ºå¢™å¹¶ç»˜åˆ¶
                        g.setColor(Color.red);
                        g.drawRoundRect(i*CELL,j*CELL,CELL,CELL,6,6);}
                }
            }
            //ç»˜åˆ¶æ­£åœ¨ä¸‹è½çš„å›¾å½¢
            for(int k=0;k&lt;16;k++){
                if(shapes[shapeType][shapeState][k]==1){
                    g.setColor(Color.red);
                    g.fill3DRect((left+k%4+1)*CELL,(top+k/4)*CELL,CELL,CELL,true);  //left\topä¸ºå·¦ä¸Šè§’çš„åæ ‡
                }
            }
            //ç»˜åˆ¶è½ä¸‹çš„å›¾å½¢
            for(j=0;j&lt;22;j++){
                for(i=0;i&lt;12;i++){
                    if(map[i][j]==1){
                        g.setColor(Color.green);
                        g.fill3DRect(i*CELL,j*CELL,CELL,CELL,true);
                    }
                }
            }
            //æ˜¾ç¤ºå³è¾¹é¢„è§ˆå›¾å½¢
            for(int i = 0; i &lt; 4; i++) {
                for(int j = 0; j &lt; 4; j++){
                    if(shapes[nextshapeType][nextshapeState][i*4+j] == 1) {
                        g.setColor(Color.red);
                        g.fill3DRect(375+(j*(CELL-10)),190+(i*(CELL-10)), CELL-10, CELL-10,true);
                    }
                }
            }
            //æ·»åŠ å³è¾¹é¢„è§ˆå›¾å½¢æ–¹æ ¼
            for(int i = 0; i &lt; 5; i++) {
                for(int j = 0; j &lt; 5; j++){
                    g.setColor(Color.blue);
                    g.drawRoundRect(360+(j*(CELL-10)),175+(i*(CELL-10)),CELL-10, CELL-10,3,3);
                }
            }
            g.setFont(new Font("æ¥·ä¹¦",Font.BOLD,20));
            g.setColor(Color.BLACK);
            g.drawString("æ¸¸æˆåˆ†æ•°:", 310, 70);
            g.setColor(Color.pink);
            g.drawString(score+" ", 420, 70);
            g.setColor(Color.BLACK);
            g.drawString("  åˆ†", 450, 70);
            g.setColor(Color.BLACK);
            g.setFont(new Font("é»‘ä½“",Font.BOLD,14));
            g.drawString("æç¤ºï¼šå·¦å‡»æš‚åœ,å³å‡»ç»§ç»­ã€‚", 305, 430);
            g.setColor(Color.blue);
            g.drawString("Next square", 358, 268);
        }
        //åˆ›å»ºæ·»åŠ æ–°å›¾å½¢åˆ°åœ°å›¾çš„æ–¹æ³•
        public void addshape(int left,int top,int shapeType,int shapeState){
            int temp=0;
            for(int a=0;a&lt;4;a++){
                for(int b=0;b&lt;4;b++){   //å¯¹å­˜å‚¨æ–¹å—é˜Ÿçš„[4][4]æ•°ç»„éå†
                    if(map[left+b+1][top+a]==0){ //è¡¨æ˜[4][4]æ•°ç»„æ²¡æœ‰æ–¹å—

                        map[left+b+1][top+a]=shapes[shapeType][shapeState][temp];
                    }
                    temp++;
                }
            }
        }</code></pre>
<p><strong>â‘¦åˆ›å»ºç›‘å¬å™¨ï¼Œæ¶ˆè¡Œæ–¹æ³•ç­‰å…¶å®ƒå‡½æ•°ã€‚</strong></p>
<pre><code>public void deleteLine(){
            int tempscore=0;      //å®šä¹‰æ»¡è¡Œçš„åˆ—ä¸ªæ•°æ»¡è¶³1
            for(int a=0;a&lt;22;a++){   //å¯¹åœ°å›¾è¿›è¡Œéå†
                for(int b=0;b&lt;12;b++){
                    if(map[b][a]==1){    //è¡¨ç¤ºæ‰¾åˆ°æ»¡è¡Œ
                        tempscore++;     // è®°å½•ä¸€è¡Œæœ‰å¤šå°‘ä¸ª1
                        if(tempscore==10){
                            score+=10;
                            for(int k=a;k&gt;0;k--){     //ä»æ»¡è¡Œå¼€å§‹å›å†
                                for(int c=1;c&lt;12;c++){
                                    map[c][k]=map[c][k-1];  //å°†å›¾å½¢æ•´ä½“ä¸‹ç§»ä¸€è¡Œ
                                }
                            }
                        }
                    }
                }
                tempscore=0;
            }
        }
        //åˆ¤æ–­æ¸¸æˆç»“æŸï¼Œ1ã€åˆ¤æ–­æ–°å—çš„çŠ¶æ€æ˜¯å¦ä¸å­˜åœ¨ï¼Œå³judgeState()==0
        //2ã€åˆ¤æ–­åˆå§‹äº§ç”Ÿçš„ä½ç½®æ˜¯å¦ä¸€ç›´ä¸º1ï¼›
        public int gameOver(int left,int top){
            if(judgeState(left,top,shapeType,shapeState)==0){
                return 1;
            }
            return 0;
        }
        //åˆ›å»ºæ„é€ æ–¹æ³•
        public GameBody(){
            resetMap();
            drawWall();
            createshape();
            //Timer timer=new Timer(1000,new TimeListener());
            Thread timer=new Thread(new	TimeListener());
            timer.start();
        }

        public void setStart(boolean start){   //æ”¹å˜startå€¼çš„æ–¹æ³•
            this.start=start;
        }
        //åˆ›å»ºå®šæ—¶ä¸‹è½çš„ç›‘å¬å™¨
        class TimeListener implements Runnable{
            public void run(){
                while(true){
                    if(!start){
                        try{
                            repaint();
                            if(judgeState(left,top+1,shapeType,shapeState)==1){
                                top+=1;
                                deleteLine();}
                            if(judgeState(left,top+1,shapeType,shapeState)==0){
                                if(flag==1){
                                    addshape(left,top,shapeType,shapeState);
                                    deleteLine();
                                    createshape();
                                    flag=0;
                                }
                                flag=1;
                            }
                            Thread.sleep(800);
                        }catch(Exception e){
                            e.getMessage();
                        }
                    }
                }
            }
        }
    }
} </code></pre>
<hr/>
<h1>å››ã€é¡¹ç›®æ€»ç»“</h1>
<blockquote>
<p><strong>Javaè¯­è¨€æ˜¯å½“ä»Šæµè¡Œçš„ç½‘ç»œç¼–ç¨‹è¯­è¨€ï¼Œå®ƒå…·æœ‰é¢å‘å¯¹è±¡ã€è·¨å¹³å°ã€åˆ†å¸ƒåº”ç”¨ç­‰ç‰¹ç‚¹ã€‚è€Œä¿„ç½—æ–¯æ–¹å—æ¸¸æˆçš„è®¾è®¡å·¥ä½œå¤æ‚ä¸”å¯Œæœ‰æŒ‘æˆ˜æ€§ï¼Œå®ƒåŒ…å«çš„å†…å®¹å¤šï¼Œæ¶‰åŠçš„çŸ¥è¯†å¹¿æ³›ï¼Œä¸å›¾å½¢ç•Œé¢è”ç³»è¾ƒå¤§ï¼ŒåŒ…æ‹¬ç•Œé¢çš„æ˜¾ç¤ºä¸æ›´æ–°ã€æ•°æ®æ”¶é›†ç­‰ï¼Œåœ¨è®¾è®¡çš„è¿‡ç¨‹ä¸­ï¼Œå¿…å°†è¿ç”¨åˆ°å„æ–¹é¢çš„çŸ¥è¯†ï¼Œè¿™å¯¹äºè®¾è®¡è€…è€Œè¨€ï¼Œæ˜¯ä¸ªå¾ˆå¥½çš„é”»ç‚¼æœºä¼šã€‚<br/> ä¿„ç½—æ–¯æ–¹å—æ¸¸æˆçš„å®ç°å¯ä»¥ä½¿å¼€å‘è€…å·©å›ºæ‰€å­¦åŸºæœ¬çŸ¥è¯†ï¼Œæ·±åˆ»æŒæ¡Javaè¯­è¨€çš„é‡è¦æ¦‚å¿µåŠå…¶é¢å‘å¯¹è±¡çš„ç‰¹æ€§ï¼Œå¢è¿›Javaè¯­è¨€ç¼–è¾‘åŸºæœ¬åŠŸï¼Œæ‹“å®½å¸¸ç”¨ç±»åº“çš„åº”ç”¨ï¼ŒåŸ¹å…»ç†Ÿç»ƒåœ°åº”ç”¨é¢å‘å¯¹è±¡çš„æ€æƒ³å’Œè®¾è®¡æ–¹æ³•è§£å†³å®é™…é—®é¢˜çš„èƒ½åŠ›ï¼Œä¸ºä»Šåä»äº‹å®é™…å¼€å‘å·¥ä½œæ‰“ä¸‹åšå®çš„åŸºç¡€ã€‚</strong></p>
</blockquote>
<hr/>
<p style="text-align:center;"><img alt="32a491a4058942ac8315607151375b3c.png" src="https://img-blog.csdnimg.cn/32a491a4058942ac8315607151375b3c.png"/></p>
<p></p>
</div>
</div>