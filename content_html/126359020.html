<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-tomorrow-night" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<blockquote>
<p></p>
<div class="toc">
<h3>ç›®å½•</h3>
<ul><li><a href="#_3">ä¸€ã€ä»‹ç»</a></li><li><a href="#_9">äºŒã€ä¸‹è½½æ•°æ®</a></li><li><a href="#_13">ä¸‰ã€è·å–æ•°æ®</a></li><li><a href="#_26">å››ã€åˆ†ææ•°æ®</a></li><li><a href="#_39">äº”ã€ç§»åŠ¨å¹³å‡é¢„æµ‹</a></li><li><a href="#_111">å…­ã€å°è£…å‡½æ•°</a></li><li><a href="#_146">æœ€å</a></li></ul>
</div>
<p></p>
</blockquote>
<h1><a id="_3"></a>ä¸€ã€ä»‹ç»</h1>
<p><strong>ç§»åŠ¨å¹³å‡ï¼ˆMoving Averageï¼ŒMAï¼‰</strong>ï¼Œâ¼œç§°ç§»åŠ¨å¹³å‡çº¿ï¼Œç®€ç§°å‡çº¿ã€‚ä½œä¸ºæŠ€æœ¯åˆ†æä¸­â¼€ç§åˆ†ææ—¶é—´åºåˆ—çš„å¸¸â½¤â¼¯å…·ï¼Œå¸¸è¢«åº”â½¤äºè‚¡ç¥¨ä»·æ ¼åºåˆ—ã€‚ç§»åŠ¨å¹³å‡å¯è¿‡æ»¤â¾¼é¢‘å™ªå£°ï¼Œåæ˜ å‡ºä¸­â»“æœŸä½é¢‘è¶‹åŠ¿ï¼Œè¾…åŠ©æŠ•èµ„è€…åšå‡ºæŠ•èµ„åˆ¤æ–­ã€‚</p>
<p>æµâ¾çš„ç§»åŠ¨å¹³å‡åŒ…æ‹¬ç®€å•ç§»åŠ¨å¹³å‡ã€åŠ æƒç§»åŠ¨å¹³å‡ã€æŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼Œæ›´â¾¼é˜¶çš„ç§»åŠ¨å¹³å‡ç®—æ³•åˆ™æœ‰åˆ†å½¢â¾ƒé€‚åº”ç§»åŠ¨å¹³å‡ã€èµ«å°”ç§»åŠ¨å¹³å‡ç­‰ã€‚<br/> è€Œæœ¬æ–‡<strong>å°†ä½¿ç”¨ç®€å•ç§»åŠ¨å¹³å‡é¢„æµ‹é“ç¼æ–¯ã€çº³æ–¯è¾¾å…‹ã€æ ‡å‡†æ™®å°”æŒ‡æ•°</strong></p>
<h1><a id="_9"></a>äºŒã€ä¸‹è½½æ•°æ®</h1>
<p>ä¸‹è½½S&amp;Pã€Dowã€Nasdaqæ•°æ®å¹¶å°†å…¶ä¿å­˜è‡³æ–‡ä»¶å¤¹å†…ï¼Œæ•°æ®å·²ç»æ‰“åŒ…å¥½äº†ï¼š<a href="https://download.csdn.net/download/air__Heaven/86401513">CSDNä¸‹è½½ï¼šç¼æ–¯ã€çº³æ–¯è¾¾å…‹ã€æ ‡å‡†æ™®å°”æŒ‡æ•°-æ•°æ®æŒ–æ˜æ•°æ®é›†åŒ…</a><br/> ä¸‹è½½åçš„csvæ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/d93b0a473a2a48af8cde821a7f8d2dc5.png#pic_center"/></p>
<h1><a id="_13"></a>ä¸‰ã€è·å–æ•°æ®</h1>
<p>è·å–æ•°æ®æˆ‘ä»¬ä½¿ç”¨pandasçš„read_csvå‡½æ•°ï¼Œå¦‚ï¼š<code>data = pd.read_csv('S&amp;P.csv',header=0)</code><br/> pd.read_csvå‡½æ•°ç”¨æ³•ï¼š<strong>pd.read_csv(filepath_or_buffer,header,parse_dates,index_co)l</strong></p>
<table><thead><tr><th>å‚æ•°å</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td><strong>filepath_or_buffer</strong></td><td>å­—ç¬¦ä¸²ï¼Œæˆ–è€…ä»»ä½•å¯¹è±¡çš„read()æ–¹æ³•ã€‚è¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥æ˜¯URLï¼Œæœ‰æ•ˆçš„URLæ–¹æ¡ˆåŒ…æ‹¬httpã€ftpã€s3å’Œæ–‡ä»¶ã€‚å¯ä»¥ç›´æ¥å†™å…¥"æ–‡ä»¶å.csv"</td></tr><tr><td>header</td><td>å°†è¡Œå·ç”¨ä½œåˆ—åï¼Œä¸”æ˜¯æ•°æ®çš„å¼€å¤´</td></tr></tbody></table>
<p>è·å–æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°ä¸€ä¸‹æ•°æ®ï¼š<code>print(dataï¼‰</code>ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸè¯»å–åˆ°csvæ•°æ®ï¼š<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/aaeaa76d1d2841dcbff4792c864ac342.png#pic_center"/></p>
<h1><a id="_26"></a>å››ã€åˆ†ææ•°æ®</h1>
<p><img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/5b652fe3d17b400084ca4c8337992ffc.png#pic_center"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ<strong>æ•°æ®æ ¼å¼ä¸ºcsvï¼Œå…¶ä¸­Dateè¡¨ç¤ºå¼€ç›˜çš„æ—¥æœŸï¼ŒOpenè¡¨ç¤ºå¼€ç›˜ä»·ï¼ŒHighè¡¨ç¤ºå½“æ—¥æœ€é«˜å€¼ï¼ŒLowè¡¨ç¤ºå½“æ—¥æœ€ä½å€¼ï¼ŒCloseè¡¨ç¤ºæ”¶ç›˜ä»·æ ¼ï¼ŒAdj Closeè¡¨ç¤ºè°ƒæ•´åçš„æ”¶ç›˜ä»·æ ¼ï¼ŒVolumeè¡¨ç¤ºå½“æ—¥æˆäº¤é‡ã€‚æˆ‘ä»¬éœ€è¦é¢„æµ‹çš„åˆ™æ˜¯Adj Closeè¿™ä¸€åˆ—</strong>ã€‚<br/> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨pandasè¯»å–csvæ–‡ä»¶ï¼Œå¹¶æ‰“å°å‡ºAdj Closeè¿™ä¸€åˆ—ï¼š</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'DOW.csv'</span><span class="token punctuation">,</span>header<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span>applymap<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>ç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°åœ¨é“ç¼æ–¯æ•°æ®é›†ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é¢„æµ‹çš„Adj Closeæœ‰798è¡Œï¼Œtypeä¸ºobjectï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æ ¹æ®æ•°æ®ï¼Œä½¿ç”¨ç§»åŠ¨å¹³å‡ç®—æ³•ï¼Œé¢„æµ‹åé¢çš„æŒ‡æ•°ã€‚<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/79ea9ff11ae742d485466dd0f8ddaf67.png#pic_center"/></p>
<h1><a id="_39"></a>äº”ã€ç§»åŠ¨å¹³å‡é¢„æµ‹</h1>
<p>ç§»åŠ¨å¹³å‡å€¼ï¼Œå°±æ˜¯æŒ‡å®šæ—¶é—´æ®µï¼Œ<strong>å¯¹æ—¶é—´åºåˆ—æ•°æ®è¿›è¡Œç§»åŠ¨è®¡ç®—å¹³å‡å€¼</strong>ã€‚ç§»åŠ¨å¹³å‡å€¼å¸¸å¸¸ç”¨åœ¨è®¡ç®—è‚¡ç¥¨çš„ç§»åŠ¨å¹³å‡çº¿ã€å­˜è´§æˆæœ¬ç­‰æ–¹é¢ã€‚ç§»åŠ¨å¹³å‡çš„æœ¬è´¨æ˜¯â¼€ç§ä½é€šæ»¤æ³¢ã€‚å®ƒçš„â½¬çš„æ˜¯è¿‡æ»¤æ‰æ—¶é—´åºåˆ—ä¸­çš„â¾¼é¢‘æ‰°åŠ¨ï¼Œä¿ç•™æœ‰â½¤çš„ä½é¢‘è¶‹åŠ¿ã€‚<strong>è®¡ç®—å…¬å¼</strong>ï¼š<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        S
       
       
        M
       
       
        
         A
        
        
         t
        
       
       
        =
       
       
        
         
          
           P
          
          
           1
          
         
         
          +
         
         
          
           P
          
          
           2
          
         
         
          +
         
         
          â€¦
         
         
          +
         
         
          
           P
          
          
           n
          
         
        
        
         n
        
       
      
      
       S M A_{t}=\frac{P_{1}+P_{2}+\ldots+P_{n}}{n}
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">SM</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.2334em; vertical-align: -0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8884em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.4101em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3173em;"><span class="" style="top: -2.357em; margin-left: -0.1389em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3173em;"><span class="" style="top: -2.357em; margin-left: -0.1389em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="minner mtight">â€¦</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.1389em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1645em;"><span class="" style="top: -2.357em; margin-left: -0.1389em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><br/> æ¯”å¦‚è‹¥ä¾æ¬¡å¾—åˆ°æµ‹å®šå€¼<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         x
        
        
         1
        
       
       
        ã€
       
       
        
         x
        
        
         2
        
       
       
        ã€
       
       
        
         x
        
        
         3
        
       
       
        ã€
       
       
        
         x
        
        
         4
        
       
       
        ã€
       
       
        
         x
        
        
         5
        
       
       
        ã€
       
       
        
         x
        
        
         6
        
       
       
        ã€
       
       
        
         x
        
        
         7
        
       
       
        .
       
       
        .
       
       
        .
       
      
      
       x_1ã€x_2ã€x_3ã€x_4ã€x_5ã€x_6ã€x_7...
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord">...</span></span></span></span></span>,æŒ‰é¡ºåºå–ä¸€å®šä¸ªæ•°æ‰€åšçš„å…¨éƒ¨ç®—æœ¯å¹³å‡å€¼å°±æ˜¯ç§»åŠ¨å¹³å‡å€¼ï¼Œå¦‚<span class="katex--inline"><span class="katex"><span class="katex-mathml">
    
     
      
       
        
         y
        
        
         1
        
       
       
        =
       
       
        (
       
       
        
         x
        
        
         1
        
       
       
        +
       
       
        
         x
        
        
         2
        
       
       
        +
       
       
        
         x
        
        
         3
        
       
       
        )
       
       
        /
       
       
        3
       
       
        ã€
       
       
        
         y
        
        
         2
        
       
       
        =
       
       
        (
       
       
        
         x
        
        
         2
        
       
       
        +
       
       
        
         x
        
        
         3
        
       
       
        +
       
       
        
         x
        
        
         4
        
       
       
        )
       
       
        /
       
       
        3....
       
      
      
       y_1=(x_1+x_2+x_3)/3ã€y_2=(x_2+x_3+x_4)/3....
      
     
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/3</span><span class="mord cjk_fallback">ã€</span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/3....</span></span></span></span></span>ï¼Œ</p>
<p>è€Œ<strong>pandaæä¾›äº†rollingå‡½æ•°</strong>å¯ä»¥ç”¨æ¥è®¡ç®—ç§»åŠ¨å¹³å‡ï¼Œä½¿ç”¨ç®€å•ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼š<br/> <strong>DataFrame.rolling(window, min_periods=None, freq=None, center=False, win_type=None, on=None, axis=0, closed=None)</strong></p>
<table><thead><tr><th>å‚æ•°</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td><strong>window</strong></td><td>è¡¨ç¤º<strong>æ—¶é—´çª—çš„å¤§å°</strong>ï¼Œæ³¨æ„æœ‰ä¸¤ç§å½¢å¼(int or offset)ã€‚å¦‚æœä½¿ç”¨intï¼Œåˆ™æ•°å€¼è¡¨ç¤ºè®¡ç®—ç»Ÿè®¡é‡çš„è§‚æµ‹å€¼çš„æ•°é‡å³å‘å‰å‡ ä¸ªæ•°æ®ã€‚å¦‚æœæ˜¯offsetç±»å‹ï¼Œè¡¨ç¤ºæ—¶é—´çª—çš„å¤§å°ã€‚</td></tr><tr><td>min_periods</td><td>æœ€å°‘éœ€è¦æœ‰å€¼çš„è§‚æµ‹ç‚¹çš„æ•°é‡ï¼Œå¯¹äºintç±»å‹ï¼Œé»˜è®¤ä¸windowç›¸ç­‰ã€‚å¯¹äºoffsetç±»å‹ï¼Œé»˜è®¤ä¸º1ã€‚</td></tr><tr><td>freq</td><td>ä¸ç”¨ç®¡ï¼Œä»0.18ç‰ˆæœ¬ä¸­å·²ç»è¢«èˆå¼ƒã€‚</td></tr><tr><td>win_type</td><td>çª—å£ç±»å‹ï¼Œä¸ç”¨ç®¡ï¼Œé»˜è®¤ä¸ºNoneä¸€èˆ¬ä¸ç‰¹æ®ŠæŒ‡å®š</td></tr><tr><td>on</td><td>å¯¹äºDataFrameå¦‚æœä¸ä½¿ç”¨index(ç´¢å¼•)ä½œä¸ºrollingçš„åˆ—ï¼Œé‚£ä¹ˆç”¨onæ¥æŒ‡å®šä½¿ç”¨å“ªåˆ—ã€‚</td></tr><tr><td>closed</td><td>å®šä¹‰åŒºé—´çš„å¼€é—­ï¼Œä¸ç”¨ç®¡ï¼Œæ–°ç‰ˆæœ¬ä¸­å·²ç»è¢«èˆå¼ƒ</td></tr><tr><td>axis</td><td>æ–¹å‘(è½´)ï¼Œä¸€èˆ¬éƒ½æ˜¯0ã€‚</td></tr><tr><td>center</td><td>æ˜¯å¦ä½¿ç”¨windowçš„ä¸­é—´å€¼ä½œä¸ºlabelï¼Œé»˜è®¤ä¸ºfalseã€‚åªèƒ½åœ¨windowæ˜¯intæ—¶ä½¿ç”¨ã€‚</td></tr></tbody></table>
<p>é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨çš„ç®€å•ç§»åŠ¨å¹³å‡ç›´æ¥ä½¿ç”¨ï¼š<code>data['ma5'] = data['Adj Close'].rolling(5).mean()</code>ï¼Œå…¶è¡¨ç¤ºçª—å£å¤§å°ä¸º5çš„ç§»åŠ¨å¹³å‡ã€‚è®¡ç®—åï¼Œä½¿ç”¨matplotlib.pyplotè¿›è¡Œç”»å›¾ï¼Œæ¨ªè½´ä¸ºæ—¶é—´ï¼Œç«–è½´ä¸ºé¢„æµ‹ä»·æ ¼ï¼Œå°†å…¶åœ¨pyplot å›¾ä¸­æ‰“å°:</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">'Price'</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma5<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'plum'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼š<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/c4b20a1e983c426d95b6583fc187c1ec.png#pic_center"/><br/> æˆ‘ä»¬ä»¥åŒæ ·æ–¹æ³•ç”»å‡ºå¤šä¸ªå‡çº¿å¹¶ä¸”å’ŒåŸæ•°æ®realå¯¹æ¯”ï¼š</p>
<pre><code class="prism language-python">data<span class="token punctuation">[</span><span class="token string">'real'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma5'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma10'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma20'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma30'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma50'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma100'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma200'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">'ma250'</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>

data<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token punctuation">)</span>


fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">'Price'</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>real<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma5<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'plum'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma10<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'grey'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma20<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'salmon'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma30<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'goldenrod'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma50<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'hotpink'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma100<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'khaki'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma200<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'bisque'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>ma250<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'skyblue'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/4e8ac501c7c7479188dd25fc783b9af2.png#pic_center"/></p>
<p>å¯ä»¥å‘ç°ï¼Œ<strong>ç§»åŠ¨å¹³å‡å­˜åœ¨ä¸€å®šçš„æ»åæ€§ï¼Œç§»åŠ¨å¹³å‡ä»¥æ»åæ€§çš„ä»£ä»·æ¢æ¥äº†å¹³æ»‘æ€§</strong>ï¼Œæ»åæ€§è¯´æ˜ç”±ç®€å•ç§»åŠ¨å¹³å‡è®¡ç®—å¾—åˆ°çš„ä½é¢‘è¶‹åŠ¿å¯¹è¿‘æœŸçš„æœ€æ–°æ•°æ®ä¸å¤Ÿæ•æ„Ÿã€‚<strong>æ²¡æœ‰æœªæ¥æ•°æ®ä¾¿æ˜¯æ»åçš„æ ¹æœ¬åŸå› </strong>ã€‚å½“è‚¡ä»·ä¸æ˜¯éšç€è¶‹åŠ¿çš„å˜åŒ–æ–¹å‘ï¼Œå‘ç”Ÿçªå‘çš„æ–¹å‘è¶‹åŠ¿ï¼Œç§»åŠ¨å¹³å‡çº¿è¡ŒåŠ¨å¾€å¾€è¿‡äºè¿Ÿç¼“ï¼Œæ”¹å˜æ–¹å‘é€Ÿåº¦è½åäºå¤§è¶‹åŠ¿ã€‚è¿™æ˜¯ä¸€ä¸ªæå¤§å¼±ç‚¹<br/> åœ¨è‚¡ä»·åŸæœ‰è¶‹åŠ¿å‘ç”Ÿåè½¬æ—¶ï¼Œç”±äºMAçš„è¿½è¸ªè¶‹åŠ¿çš„ç‰¹æ€§ï¼ŒMAçš„è¡ŒåŠ¨å¾€å¾€è¿‡äºè¿Ÿç¼“ï¼Œæ‰å¤´é€Ÿåº¦è½åäºå¤§è¶‹åŠ¿ã€‚è¿™æ˜¯MAçš„ä¸€ä¸ªæå¤§çš„å¼±ç‚¹ã€‚ç­‰MAå‘å‡ºåè½¬ä¿¡å·æ—¶ï¼Œè‚¡ä»·è°ƒå¤´çš„æ·±åº¦å·²ç»å¾ˆå¤§äº†ã€‚</p>
<p>é™„å½•DOWåœ¨ä¸åŒMAå€¼ä¸‹çš„æ»‘åŠ¨å¹³å‡å€¼ï¼š<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/070de4cec97f4da8a021c5fe75b7f4bb.png#pic_center"/><br/> Nasdaqåœ¨ä¸åŒMAå€¼ä¸‹çš„æ»‘åŠ¨å¹³å‡å€¼ï¼š<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/3d1b86226f85439798fad334d2ba3ef5.png#pic_center"/><br/> S&amp;Påœ¨ä¸åŒMAå€¼ä¸‹çš„æ»‘åŠ¨å¹³å‡å€¼ï¼š<br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/3c69e7501246458aa3368bae675000a9.png#pic_center"/></p>
<h1><a id="_111"></a>å…­ã€å°è£…å‡½æ•°</h1>
<p>æˆ‘ä»¬å°†å…¶è¿›è¡Œå°è£…å¦‚ä¸‹ï¼Œä»£ç æ•´ä½“å¦‚ä¸‹ï¼š</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> os
<span class="token keyword">def</span> <span class="token function">cal_ma</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>data<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>data<span class="token punctuation">,</span> header<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
    data <span class="token operator">=</span> data<span class="token punctuation">.</span>applymap<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>
    <span class="token comment"># print(data['Date'])</span>
    <span class="token comment"># print(data['Adj Close'])</span>

    day <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span>
    data<span class="token punctuation">[</span><span class="token string">'ma'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'Adj Close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>

    data<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token punctuation">)</span>

    fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    ax1 <span class="token operator">=</span> fig<span class="token punctuation">.</span>add_subplot<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">'Price'</span><span class="token punctuation">)</span>
    data<span class="token punctuation">[</span><span class="token string">'ma'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ax<span class="token operator">=</span>ax1<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">2.</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'FangSong'</span><span class="token punctuation">]</span>
    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"MA"</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" about "</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">" data"</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> loc<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'black'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    dataname <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥æ•°æ®åï¼š"</span><span class="token punctuation">)</span>
    day <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥MAçš„å¤©æ•°ï¼š"</span><span class="token punctuation">)</span>
    cal_ma<span class="token punctuation">(</span>dataname<span class="token punctuation">,</span>dataname<span class="token operator">+</span><span class="token string">'.csv'</span><span class="token punctuation">,</span> day<span class="token punctuation">)</span>
</code></pre>
<p>å®Œæ•´é¡¹ç›®å·²ç»æ‰“åŒ…ï¼Œå…è´¹ä¸‹è½½ï¼š<strong><a href="https://download.csdn.net/download/air__Heaven/86402588">æ•°æ®æŒ–æ˜é¡¹ç›®â€”â€”ç§»åŠ¨å¹³å‡é¢„æµ‹é“ç¼æ–¯ã€çº³æ–¯è¾¾å…‹ã€æ ‡å‡†æ™®å°”æŒ‡æ•°</a></strong></p>
<h1><a id="_146"></a>æœ€å</h1>
<p>ğŸ’– ä¸ªäººç®€ä»‹ï¼šäººå·¥æ™ºèƒ½é¢†åŸŸç ”ç©¶ç”Ÿï¼Œç›®å‰ä¸»æ”»æ–‡æœ¬ç”Ÿæˆå›¾åƒï¼ˆtext to imageï¼‰æ–¹å‘</p>
<p>ğŸ“ å…³æ³¨æˆ‘ï¼š<a href="https://blog.csdn.net/air__Heaven">ä¸­æ¯å¯ä¹å¤šåŠ å†°</a></p>
<p>ğŸ”¥ <strong>é™æ—¶å…è´¹</strong>è®¢é˜…ï¼š<a href="https://blog.csdn.net/air__heaven/category_11407863.html">æ–‡æœ¬ç”Ÿæˆå›¾åƒT2Iä¸“æ </a></p>
<p>ğŸ‰ æ”¯æŒæˆ‘ï¼šç‚¹èµğŸ‘+æ”¶è—â­ï¸+ç•™è¨€ğŸ“</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¸®åŠ©åˆ°ä½ å¾ˆå¤šï¼Œå¸Œæœ›èƒ½ç‚¹å‡»ä¸‹æ–¹æ‰“èµæˆ‘ä¸€æ¯å¯ä¹ï¼å¤šåŠ å†°å“¦</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>