<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-tomorrow-night" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#_12">前言</a></li><li><a href="#_16">一、认识过程</a></li><li><a href="#C_24">二、C处理文件</a></li><li><ul><li><a href="#1_41">1.打开文件</a></li><li><a href="#2_90">2.读文件</a></li><li><a href="#4_245">4.写文件</a></li><li><a href="#5_347">5.关闭文件</a></li></ul>
</li><li><a href="#C_368">三、C++处理文件</a></li><li><a href="#Windows_API_403">四、Windows API处理文件</a></li><li><a href="#_468">总结</a></li></ul>
</div>
<p></p>
<hr color="#000000" size='1"'/> 插播一个小广告😌： 
<p>想要学习人工智能的，可以点击<a href="https://www.captainai.net/ityushi">这里</a>,文章讲解的通俗易懂，风趣幽默</p>
<p>当然如果你想学习C/C++的话，也欢迎来看看我写的C/C++从入门到精通系列文章咯！全程干货，绝不拖泥带水！可以点击<a href="https://blog.csdn.net/weixin_50964512/article/details/125710864">这里</a>查看</p>
<h1><a id="_12"></a>前言</h1>
<p>任何编程语言,文件的处理都是一个非常重要的模块,因为文件可以实现对数据大量且长久的存储,而程序的目的，主要就是对数据进行快速且高效的处理</p>
<p>本篇文字，这里主要介绍三种方法，在Windows平台以及VS开发环境下对文件的处理.</p>
<h1><a id="_16"></a>一、认识过程</h1>
<p>无论什么编程语言,处理文件的过程都可以分为以下三步:</p>
<ol><li>打开文件</li><li>操作文件</li><li>关闭文件</li></ol>
<p>所以当我们操作文件的时候,请务必牢记这三点,因为该逻辑几乎是所有语言通用的,只不过具体实现细节略有差异</p>
<h1><a id="C_24"></a>二、C处理文件</h1>
<p>函数所在的头文件:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span> <span class="token comment">//或者#include&lt;stdio.h&gt;均可</span></span>
</code></pre>
<p><strong>注意事项:</strong></p>
<p>一般C库函数中很多存在安全隐患,所以会存在一个对应的安全函数,一般是原函数后添加<code>_s</code>后缀<br/> 例如:<code>fopen</code>的安全函数为<code>fopen_s</code></p>
<blockquote>
<p>相比较而言,安全函数会比标准函数使用更繁琐,所以很多情况下我们会习惯于使用标准函数,但在VS环境下会直接报错,编译无法通过,此时就必须要定义对应的宏才能正常使用<br/> 而安全函数则无需定义任何宏,可直接使用</p>
</blockquote>
<p>具体使用哪一种看个人习惯,官方推荐使用安全函数</p>
<h2><a id="1_41"></a>1.打开文件</h2>
<p>标准函数:</p>
<pre><code class="prism language-cpp">FILE<span class="token operator">*</span> <span class="token function">fopen</span><span class="token punctuation">(</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> _FileName<span class="token punctuation">,</span><span class="token comment">//要打开的文件名,不指定路径,则在当前文件夹找</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> _Mode <span class="token comment">//打开的模式 读r 写w 或追加a</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//返回值:打开失败返回NULL,打开成功则返回指向文件的标识符</span>
</code></pre>
<p>安全函数:</p>
<pre><code class="prism language-cpp"> errno_t <span class="token function">fopen_s</span><span class="token punctuation">(</span>
FILE<span class="token operator">*</span><span class="token operator">*</span>      _Stream<span class="token punctuation">,</span> <span class="token comment">//保存打开文件后的标识符</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> _FileName<span class="token punctuation">,</span> <span class="token comment">//要打开的文件名,不指定路径,则在当前文件夹找</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> _Mode <span class="token comment">//打开的模式 读r 写w 或追加a</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//返回值:打开成功返回0,打开失败则返回对应错误代码</span>
</code></pre>
<p>两种函数的使用区别：</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token comment">//vs环境下,必须定义该宏,否则报错</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以读的方式打开文件</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//file为NULL,则打开文件失败,退出程序</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以读的方式打开文件</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//err不为0,则打开文件失败,退出程序</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>对于mode参数，有如下选择:<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9c5b895f7ecd4a24a3b0915c0bfa9e16.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5L2Z6K-GLQ==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<h2><a id="2_90"></a>2.读文件</h2>
<p>标准函数:</p>
<pre><code class="prism language-cpp">size_t  <span class="token function">fread</span><span class="token punctuation">(</span>
<span class="token keyword">void</span><span class="token operator">*</span>  _Buffer<span class="token punctuation">,</span> <span class="token comment">//读取到的内容存放空间</span>
size_t _ElementSize<span class="token punctuation">,</span> <span class="token comment">//每次读多少个字节</span>
size_t _ElementCount<span class="token punctuation">,</span> <span class="token comment">//读多少次</span>
FILE<span class="token operator">*</span>  _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//返回值:实际读取的次数,注意,实际的取得字节数应该是该返回值和_ElementSize参数相乘,所以一般_ElementSize参数填1</span>
</code></pre>
<p>安全函数:</p>
<pre><code class="prism language-cpp">size_t __cdecl <span class="token function">fread_s</span><span class="token punctuation">(</span>
<span class="token keyword">void</span><span class="token operator">*</span>  _Buffer<span class="token punctuation">,</span><span class="token comment">//读取到的内容存放空间</span>
size_t _BufferSize<span class="token punctuation">,</span> <span class="token comment">//</span>
size_t _ElementSize<span class="token punctuation">,</span><span class="token comment">//每次读多少个字节</span>
size_t _ElementCount<span class="token punctuation">,</span><span class="token comment">//读多少次</span>
FILE<span class="token operator">*</span>  _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//返回值:实际读取的次数,注意,实际的取得字节数应该是该返回值和_ElementSize参数相乘,所以一般_ElementSize参数填1</span>
</code></pre>
<p>两者使用区别:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以读的方式打开文件</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//file为NULL,则打开文件失败,退出程序</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//定义存放读取内容的缓存区</span>
	size_t size<span class="token operator">=</span><span class="token function">fread</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//每次读一个字节,读100次</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以读的方式打开文件</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//err不为0,则打开文件失败,退出程序</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//定义存放读取内容的缓存区</span>
	size_t size<span class="token operator">=</span><span class="token function">fread_s</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//每次读一个字节,读100次</span>
<span class="token punctuation">}</span>
</code></pre>
<p>一些其它的操作文件函数：</p>
<ol><li>fgetc：从文件中读取一个字符</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">fgetc</span><span class="token punctuation">(</span>
FILE<span class="token operator">*</span> _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//返回值:返回读取到的一个字符</span>
</code></pre>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token comment">//vs环境下必须定义该宏,否则报错</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//已只读方式打开</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//打开失败直接返回</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span> c<span class="token operator">=</span><span class="token function">fgetc</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取一个字符</span>
<span class="token punctuation">}</span>
</code></pre>
<ol start="2"><li>fgets：从文件中读取一个字符串</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">char</span><span class="token operator">*</span> __cdecl <span class="token function">fgets</span><span class="token punctuation">(</span>
<span class="token keyword">char</span><span class="token operator">*</span> _Buffer<span class="token punctuation">,</span> <span class="token comment">//存放读到的字符缓冲区</span>
 <span class="token keyword">int</span>   _MaxCount<span class="token punctuation">,</span> <span class="token comment">//该缓存区的大小</span>
FILE<span class="token operator">*</span> _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//返回值:成功为_Buffer指针,失败为NULL</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token comment">//vs环境下必须定义该宏,否则报错</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//已只读方式打开</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//打开失败直接返回</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">fgets</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">0xFF</span><span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读取一行字符串</span>
<span class="token punctuation">}</span>
</code></pre>
<ol start="3"><li>fscanf：按格式从文件中读取指定内容，与scanf函数类似</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">fscanf</span><span class="token punctuation">(</span>
 FILE<span class="token operator">*</span>       <span class="token keyword">const</span> _Stream<span class="token punctuation">,</span><span class="token comment">//文件标识符</span>
 <span class="token keyword">char</span> <span class="token keyword">const</span><span class="token operator">*</span> <span class="token keyword">const</span> _Format<span class="token punctuation">,</span> <span class="token comment">//指定读取格式,与printf格式相同</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">//存放读取内容的缓存区</span>
<span class="token punctuation">)</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token comment">//vs环境下必须定义该宏,否则报错</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//已只读方式打开</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//打开失败直接返回</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> d<span class="token punctuation">;</span> <span class="token comment">//存放数字</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//存放字符串的缓存区</span>
	<span class="token function">fscanf</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token string">"%d %s"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>d<span class="token punctuation">,</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//按格式读取文件内容</span>
<span class="token punctuation">}</span>
</code></pre>
<ol start="4"><li>fscanf_s：fscanf的安全函数，作用相同</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">fscanf_s</span><span class="token punctuation">(</span>
 FILE<span class="token operator">*</span>       <span class="token keyword">const</span> _Stream<span class="token punctuation">,</span><span class="token comment">//文件标识符</span>
 <span class="token keyword">char</span> <span class="token keyword">const</span><span class="token operator">*</span> <span class="token keyword">const</span> _Format<span class="token punctuation">,</span> <span class="token comment">//指定读取格式,与printf格式相同</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">//存放读取内容的缓存区,注意在每个缓存区大小后一个参数为该缓存区的大小</span>
<span class="token punctuation">)</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> b<span class="token punctuation">;</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">fscanf_s</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token string">"%d %s"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span>buf<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<h2><a id="4_245"></a>4.写文件</h2>
<p>标准函数:</p>
<pre><code class="prism language-cpp">size_t <span class="token function">fwrite</span><span class="token punctuation">(</span>
<span class="token keyword">void</span> <span class="token keyword">const</span><span class="token operator">*</span> _Buffer<span class="token punctuation">,</span> <span class="token comment">//要写入的内容</span>
size_t _ElementSize<span class="token punctuation">,</span> <span class="token comment">//元素大小</span>
size_t  _ElementCount<span class="token punctuation">,</span> <span class="token comment">//元素个数</span>
FILE<span class="token operator">*</span>   _Stream <span class="token comment">//文件标识</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token comment">//vs环境下必须定义该宏,否则报错</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//已只读方式打开</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//打开失败直接返回</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"test"</span><span class="token punctuation">;</span> <span class="token comment">//要写入的内容</span>
	<span class="token function">fwrite</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//写入操作</span>
<span class="token punctuation">}</span>
</code></pre>
<p>该函数无安全函数</p>
<p>其它一些常用的写文件函数:</p>
<ol><li>fputc：向文件中写入一个字符</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">int</span>  <span class="token function">fputc</span><span class="token punctuation">(</span>
<span class="token keyword">int</span>   _Character<span class="token punctuation">,</span><span class="token comment">//要写入的字符</span>
FILE<span class="token operator">*</span> _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> ret<span class="token operator">=</span><span class="token function">fputc</span><span class="token punctuation">(</span><span class="token char">'c'</span><span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//向file标识的文件写入一个c字符</span>
<span class="token punctuation">}</span>
</code></pre>
<ol start="2"><li>fputs：向文件中写入一个字符串</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">fputs</span><span class="token punctuation">(</span>
<span class="token keyword">char</span> <span class="token keyword">const</span><span class="token operator">*</span> _Buffer<span class="token punctuation">,</span><span class="token comment">//要写入的内容</span>
FILE<span class="token operator">*</span> _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"test"</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">fputs</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将buf内的内容写入到file标识的文件</span>
<span class="token punctuation">}</span>

</code></pre>
<ol start="3"><li>fprintf：向文件中写入指定格式字符串，与pritnf函数类似</li></ol>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">fprintf</span><span class="token punctuation">(</span>
 FILE<span class="token operator">*</span> _Stream<span class="token punctuation">,</span> <span class="token comment">//文件标识符</span>
<span class="token keyword">char</span> <span class="token keyword">const</span><span class="token operator">*</span> <span class="token keyword">const</span> _Format<span class="token punctuation">,</span> <span class="token comment">//写入格式 与printf使用方式相同</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">fprintf</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token string">"%d %s"</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//向fille标识的文件写入数字4和字符串test</span>
<span class="token punctuation">}</span>
</code></pre>
<ol start="4"><li>fprintf_s：fprintf的安全函数<br/> 与fprintf没什么区别,不再讲解</li></ol>
<h2><a id="5_347"></a>5.关闭文件</h2>
<p>函数:</p>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">fclose</span><span class="token punctuation">(</span>
FILE<span class="token operator">*</span> _Stream <span class="token comment">//文件标识符</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>使用:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	FILE<span class="token operator">*</span> file<span class="token punctuation">;</span>
	errno_t err<span class="token operator">=</span><span class="token function">fopen_s</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">,</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
<span class="token punctuation">}</span>
</code></pre>
<h1><a id="C_368"></a>三、C++处理文件</h1>
<p>C++使用了面向对象对文件处理进行了封装,所以处理文件会比C方便很多,所以就不再分开演示,直接在一段代码中完成讲解</p>
<p>头文件:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;fstream&gt;</span> <span class="token comment">//处理文件的头文件</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span> <span class="token comment">//引用该命名空间,不引用将必须使用std::fstring 的方式使用该类</span>
</code></pre>
<p>代码:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;fstream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	fstream file<span class="token punctuation">;</span>
	file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span>ios<span class="token double-colon punctuation">::</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以只写模式打开文件</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"test"</span><span class="token punctuation">;</span>
	file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//写入文件</span>
	file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//关闭文件</span>

	file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以追加模式打开文件</span>
	<span class="token keyword">char</span> buf1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"test1"</span><span class="token punctuation">;</span>
	file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buf1<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//写入文件末尾</span>
	file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//关闭文件</span>

	file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span>ios<span class="token double-colon punctuation">::</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//以只读方式打开文件</span>
	<span class="token keyword">char</span> buf2<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//存储读取的内容</span>
	file<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buf2<span class="token punctuation">,</span><span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读文件</span>
	file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//关闭文件</span>
<span class="token punctuation">}</span>

</code></pre>
<p>模式选择:<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/f8e410267abb4443a676ef3012c4ca35.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5L2Z6K-GLQ==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<h1><a id="Windows_API_403"></a>四、Windows API处理文件</h1>
<p>头文件:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;Windows.h&gt;</span></span>
</code></pre>
<p>打开文件函数:<a href="https://docs.microsoft.com/zh-cn/windows/win32/api/fileapi/nf-fileapi-createfilea?f1url=?appId=Dev16IDEF1&amp;l=ZH-CN&amp;k=k%28FILEAPI%252FCreateFileA%29;k%28CreateFileA%29;k%28DevLang-C%252B%252B%29;k%28TargetOS-Windows%29&amp;rd=true">CreateFileA</a>或<a href="https://docs.microsoft.com/zh-cn/windows/win32/api/fileapi/nf-fileapi-createfilew">CreateFileW</a></p>
<pre><code class="prism language-cpp">HANDLE <span class="token function">CreateFileA</span><span class="token punctuation">(</span>
LPCSTR lpFileName<span class="token punctuation">,</span> <span class="token comment">//要打开的文件名</span>
DWORD dwDesiredAccess<span class="token punctuation">,</span> <span class="token comment">//访问文件权限</span>
DWORD dwShareMode<span class="token punctuation">,</span> <span class="token comment">//文件共享模式</span>
LPSECURITY_ATTRIBUTES lpSecurityAttributes<span class="token punctuation">,</span> <span class="token comment">//安全模式,一般填0,默认</span>
DWORD dwCreationDisposition<span class="token punctuation">,</span> <span class="token comment">//打开方式</span>
DWORD dwFlagsAndAttributes<span class="token punctuation">,</span> <span class="token comment">//打开文件的属性和标志,一般为FILE_ATTRIBUTE_NORMAL</span>
HANDLE hTemplateFile <span class="token comment">//模板文件句柄,一般为NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>读文件:<a href="https://docs.microsoft.com/zh-cn/windows/win32/api/fileapi/nf-fileapi-readfile?f1url=?appId=Dev16IDEF1&amp;l=ZH-CN&amp;k=k%28FILEAPI%252FReadFile%29;k%28ReadFile%29;k%28DevLang-C%252B%252B%29;k%28TargetOS-Windows%29&amp;rd=true">ReadFile</a></p>
<pre><code class="prism language-cpp">BOOL <span class="token function">ReadFile</span><span class="token punctuation">(</span>
HANDLE       hFile<span class="token punctuation">,</span> <span class="token comment">//要读取的文件句柄,CreateFileA的返回值,相当于c中的FILE</span>
LPVOID       lpBuffer<span class="token punctuation">,</span> <span class="token comment">//存储读取内容的缓存区</span>
DWORD        nNumberOfBytesToRead<span class="token punctuation">,</span> <span class="token comment">//要读取的字节数</span>
LPDWORD      lpNumberOfBytesRead<span class="token punctuation">,</span> <span class="token comment">//接收读到的字节数</span>
LPOVERLAPPED lpOverlapped <span class="token comment">//重叠结构,一般填NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>写文件:<a href="https://docs.microsoft.com/zh-cn/windows/win32/api/fileapi/nf-fileapi-writefile?f1url=?appId=Dev16IDEF1&amp;l=ZH-CN&amp;k=k%28FILEAPI%252FWriteFile%29;k%28WriteFile%29;k%28DevLang-C%252B%252B%29;k%28TargetOS-Windows%29&amp;rd=true">WriteFile</a></p>
<pre><code class="prism language-cpp">BOOL <span class="token function">WriteFile</span><span class="token punctuation">(</span>
HANDLE       hFile<span class="token punctuation">,</span><span class="token comment">//要写入的文件句柄,CreateFileA的返回值,相当于c中的FILE</span>
LPCVOID      lpBuffer<span class="token punctuation">,</span><span class="token comment">//要写入文件的缓存区</span>
DWORD        nNumberOfBytesToWrite<span class="token punctuation">,</span> <span class="token comment">//要写入的字节数</span>
LPDWORD      lpNumberOfBytesWritten<span class="token punctuation">,</span> <span class="token comment">//接收已经写入的字节数</span>
LPOVERLAPPED lpOverlapped <span class="token comment">//重叠结构,一般填NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>关闭文件:<a href="https://docs.microsoft.com/zh-cn/windows/win32/api/handleapi/nf-handleapi-closehandle?f1url=?appId=Dev16IDEF1&amp;l=ZH-CN&amp;k=k%28HANDLEAPI%252FCloseHandle%29;k%28CloseHandle%29;k%28DevLang-C%252B%252B%29;k%28TargetOS-Windows%29&amp;rd=true">CloseHandle</a></p>
<pre><code class="prism language-cpp">BOOL <span class="token function">CloseHandle</span><span class="token punctuation">(</span>
HANDLE hObject  <span class="token comment">//要关闭的文件句柄</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>示例:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;Windows.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	HANDLE hFile<span class="token operator">=</span><span class="token function">CreateFileA</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span> GENERIC_READ <span class="token operator">|</span> GENERIC_WRITE<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> CREATE_ALWAYS<span class="token punctuation">,</span> FILE_ATTRIBUTE_NORMAL<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打开读写模式打开文件</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>hFile <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//打开文件失败,退出</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	DWORD len<span class="token punctuation">;</span>
	<span class="token function">WriteFile</span><span class="token punctuation">(</span>hFile<span class="token punctuation">,</span><span class="token string">"test"</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>len<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//写文件</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">0xFF</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">ReadFile</span><span class="token punctuation">(</span>hFile<span class="token punctuation">,</span>buf<span class="token punctuation">,</span><span class="token number">0xFF</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>len<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//读文件</span>
	<span class="token function">CloseHandle</span><span class="token punctuation">(</span>hFile<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭文件</span>
<span class="token punctuation">}</span>
</code></pre>
<h1><a id="_468"></a>总结</h1>
<p>从上面的代码中我们可以发现，用C++的方式是最简便的，用C的方式更加灵活，而用WIn API的方式则可以对文件控制更加精确</p>
<p>总的来说,C++通过面向对象操作文件会比其它两种方式要简便的多</p>
<p>具体使用哪种方式还是得看个人需要</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>