<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h1><a id="Web__0"></a>Web 实现页面打印</h1>
<h2><a id="_2"></a>安装</h2>
<blockquote>
<p>官网地址：<a href="https://github.com/Power-kxLee/vue3-print-nb"><code>https://github.com/Power-kxLee/vue3-print-nb</code></a></p>
</blockquote>
<pre><code class="prism language-js"><span class="token comment">// 安装 打印组件</span>
npm install vue<span class="token operator">-</span>print<span class="token operator">-</span>nb <span class="token operator">--</span>save
</code></pre>
<h2><a id="_11"></a>引用</h2>
<ul><li> <p>vue2引用</p> <pre><code class="prism language-js"><span class="token keyword">import</span> Print <span class="token keyword">from</span> <span class="token string">'vue-print-nb'</span>
<span class="token comment">// 全局引用</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Print<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 或者</span>

<span class="token comment">// 单组件引用</span>
<span class="token keyword">import</span> print <span class="token keyword">from</span> <span class="token string">'vue-print-nb'</span>
<span class="token comment">// 在自定义指令中注册</span>
<span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    print   
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>vue3引用</p>
<ul><li> <pre><code class="prism language-js"><span class="token comment">// 全局引用</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> print <span class="token keyword">from</span> <span class="token string">'vue3-print-nb'</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

<span class="token comment">// 或者</span>

<span class="token comment">// 单组件引用</span>
<span class="token keyword">import</span> print <span class="token keyword">from</span> <span class="token string">'vue3-print-nb'</span>
<span class="token comment">// 在自定义指令中注册</span>
<span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    print   
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li></ul>
<h2><a id="API_52"></a>API</h2>
<table><thead><tr><th align="center">属性</th><th align="center">类型</th><th align="center">默认值</th><th align="center">必要</th><th align="center">可选值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">id</td><td align="center">String</td><td align="center">-</td><td align="center">是</td><td align="center">-</td><td align="center">范围打印 ID（如果设置url则可以不设置id）</td></tr><tr><td align="center">url</td><td align="center">String</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">打印指定的 URL。（不允许同时设置ID</td></tr><tr><td align="center">popTitle</td><td align="center">String</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">默认使用浏览器标签名，为空时为undefined</td></tr><tr><td align="center">standard</td><td align="center">String</td><td align="center">HTML5</td><td align="center">否</td><td align="center">html5，loose，strict</td><td align="center">打印的文档类型</td></tr><tr><td align="center">extraHead</td><td align="center">String</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">在节点中添加 DOM 节点， 并用,(Print local range only)分隔多个节点</td></tr><tr><td align="center">extraCss</td><td align="center">String</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">新的 CSS 样式表， 并使用,（仅打印本地范围）分隔多个节点</td></tr><tr><td align="center">openCallback</td><td align="center">Function</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">调用打印工具成功回调函数</td></tr><tr><td align="center">closeCallback</td><td align="center">Function</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">关闭打印工具成功回调函数</td></tr><tr><td align="center">beforeOpenCallback</td><td align="center">Function</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">调用打印工具前的回调函数</td></tr><tr><td align="center">preview</td><td align="center">Boolean</td><td align="center">false</td><td align="center">否</td><td align="center">true,false</td><td align="center">预览工具</td></tr><tr><td align="center">previewTitle</td><td align="center">String</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">‘打印预览’</td></tr><tr><td align="center">previewPrintBtnLabel</td><td align="center">String</td><td align="center">打印</td><td align="center">否</td><td align="center">-</td><td align="center">打印按钮名称</td></tr><tr><td align="center">previewBeforeOpenCallback</td><td align="center">Function</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">预览打开前回调函数</td></tr><tr><td align="center">previewOpenCallback</td><td align="center">Function</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">预览打开回调函数</td></tr><tr><td align="center">clickMounted</td><td align="center">Function</td><td align="center">-</td><td align="center">否</td><td align="center">-</td><td align="center">点击打印按钮回调函数</td></tr></tbody></table>
<h2><a id="_73"></a>示例代码</h2>
<ol><li> <p>全页面打印</p> <pre><code class="prism language-vue">&lt;button v-print&gt;打印整个页面&lt;/button&gt;
</code></pre> </li><li> <p>局部打印（Tip：被打印的区域需要被渲染出来并且不能被隐藏才可以打印）</p> <pre><code class="prism language-vue">&lt;template&gt;
	&lt;div&gt;
		&lt;button v-print="printOption"&gt;NB打印&lt;/button&gt;
		&lt;div id="nbprint"&gt;
			&lt;table&gt;
				&lt;tr&gt;
					&lt;th&gt;序号&lt;/th&gt;
					&lt;th&gt;姓名&lt;/th&gt;
					&lt;th&gt;年龄&lt;/th&gt;
					&lt;th&gt;性别&lt;/th&gt;
					&lt;th&gt;手机&lt;/th&gt;
					&lt;th&gt;邮箱&lt;/th&gt;
					&lt;th&gt;地址&lt;/th&gt;
					&lt;th&gt;工龄&lt;/th&gt;
					&lt;th&gt;岗位&lt;/th&gt;
					&lt;th&gt;薪资&lt;/th&gt;
				&lt;/tr&gt;
				&lt;tr v-for="(item, index) in list" key="index"&gt;
					&lt;td&gt;{<!-- -->{ index + 1}}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.name }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.age }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.sex }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.phone }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.mail }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.address }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.workAge }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.jobs }}&lt;/td&gt;
					&lt;td&gt;{<!-- -->{ item.salary }}&lt;/td&gt;
				&lt;/tr&gt;
			&lt;/table&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
	export default {
		name: "nb-print",
		data() {
			return {
				printOption: {
					id: 'nbprint', // 打印元素的id 不需要携带#号
					popTitle: '员工信息' // 页眉标题 默认浏览器标题 空字符串时显示undefined 使用html语言
				},
				list: [{
						name: "阿哒",
						age: 26,
						sex: "男",
						phone: "12345678901",
						mail: "mmm@mmm.com",
						address: "蓝星星国马尔哈哈海岛",
						workAge: 2,
						jobs: "研发",
						salary: "1.8k"
					},
					{
						name: "阿荣",
						age: 24,
						sex: "男",
						phone: "12345678901",
						mail: "mmm@mmm.com",
						address: "蓝星星国马尔哈哈海岛",
						workAge: 1,
						jobs: "研发",
						salary: "1.8k"
					},
					{
						name: "阿豪",
						age: 26,
						sex: "男",
						phone: "12345678901",
						mail: "mmm@mmm.com",
						address: "蓝星星国马尔哈哈海岛",
						workAge: 5,
						jobs: "产品",
						salary: "1.8k"
					},
					{
						name: "阿晨",
						age: 29,
						sex: "男",
						phone: "12345678901",
						mail: "mmm@mmm.com",
						address: "蓝星星国马尔哈哈海岛",
						workAge: 9,
						jobs: "设计",
						salary: "1.8k"
					},
					{
						name: "阿震",
						age: 30,
						sex: "男",
						phone: "12345678901",
						mail: "mmm@mmm.com",
						address: "蓝星星国马尔哈哈海岛",
						workAge: 7,
						jobs: "销售",
						salary: "1.8k"
					},
					{
						name: "阿锋",
						age: 21,
						sex: "男",
						phone: "12345678901",
						mail: "mmm@mmm.com",
						address: "蓝星星国马尔哈哈海岛",
						workAge: 0.1,
						jobs: "售后",
						salary: "1.8k"
					}
				]
			}
		}
	}
&lt;/script&gt;
</code></pre> </li><li> <p>打印预览</p> <pre><code class="prism language-vue">&lt;script&gt;
	export default {
		name: "nb-print",
		data() {
			return {
				printOption: {
					id: 'nbprint', // 打印元素的id 不需要携带#号
					preview: true, // 开启打印预览
					previewTitle: '打印预览', // 打印预览标题
					popTitle: '员工信息', // 页眉标题 默认浏览器标题 空字符串时显示undefined 使用html语言
                      // 头部文字 默认空 在节点中添加 DOM 节点， 并用,(Print local range only)分隔多个节点
					extraHead:'https://***/***.css, https://***/***.css', 
                      // 新的 CSS 样式表， 并使用,（仅打印本地范围）分隔多个节点
					extraCss: '&lt;meta http-equiv="Content-Language"content="zh-cn"/&gt;',
					previewBeforeOpenCallback: () =&gt; {
						console.log("触发打印预览打开前回调");
					},
					previewOpenCallback: () =&gt; {
						console.log("触发打开打印预览回调");
					},
					beforeOpenCallback: () =&gt; {
						console.log("触发打印工具打开前回调");
					},
					openCallback: () =&gt; {
						console.log("触发打开打印工具回调");
					},
					closeCallback: () =&gt; {
						console.log("触发关闭打印工具回调");
					},
					clickMounted: () =&gt; {
						console.log("触发点击打印回调");
					}
				}
             }
		}
	}
&lt;/script&gt;

</code></pre> </li><li> <p>分页打印</p> <pre><code class="prism language-vue">&lt;template&gt;
	&lt;div&gt;
		&lt;button v-print="'#nbprint'"&gt;NB打印&lt;/button&gt;
		&lt;div id="nbprint"&gt;
             // 方法一
             // 使用div包裹需要分页的块 使用 css属性 page-break-after:always进行分页
			&lt;div style="page-break-after:always"&gt;这是第二页&lt;/div&gt;
			&lt;div style="page-break-after:always"&gt;这是第二页&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;style&gt;
     // 方法二
     // 使用媒体查询 在打印时设置 body 和 html 的高度为auto
     @media print {
        @page {
          size:  auto;
        }
        body, html {
          height: auto !important;
        }
      }
&lt;/style&gt;
</code></pre> </li></ol>
<pre><code>

</code></pre>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>