<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-github-gist" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<blockquote>
<p></p>
<div class="toc">
<h3>âœ¨ ç›®å½•</h3>
<ul><li><ul><li><a href="#__DI___2">ğŸˆ ä»€ä¹ˆæ˜¯ DI / ä¾èµ–æ³¨å…¥</a></li><li><a href="#__8">ğŸˆ ä¾èµ–æ³¨å…¥å‡ºç°çš„åŸå› </a></li><li><a href="#__28">ğŸˆ ç®€å•çš„ä¾èµ–æ³¨å…¥</a></li><li><a href="#__48">ğŸˆ é«˜é˜¶çš„ä¾èµ–æ³¨å…¥</a></li><li><a href="#__72">ğŸˆ ä¾èµ–æ³¨å…¥çš„åº”ç”¨</a></li><li><a href="#__119">ğŸˆ ä¾èµ–æ³¨å…¥é«˜é˜¶ä¼˜åŒ–</a></li></ul>
</li></ul>
</div>
<p></p>
</blockquote>
<h2><a id="__DI___2"></a>ğŸˆ ä»€ä¹ˆæ˜¯ DI / ä¾èµ–æ³¨å…¥</h2>
<ul><li><code>ä¾èµ–æ³¨å…¥DI</code> å…¶å®æœ¬è´¨ä¸Šæ˜¯æŒ‡å¯¹ç±»çš„ä¾èµ–é€šè¿‡æ„é€ å™¨å®Œæˆ <code>è‡ªåŠ¨æ³¨å…¥</code></li><li>é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯ä½ å½“å‰æ“ä½œä¸€ä¸ªç±»ï¼Œä½†æ˜¯è¿™ä¸ªç±»çš„æŸäº›æ–¹æ³•æˆ–è€…åŠŸèƒ½ä¸æ˜¯å•å•åªé è¿™ä¸ªç±»å°±èƒ½å®Œæˆçš„ï¼Œè€Œæ˜¯è¦ <code>å€ŸåŠ©å¦ä¸€ä¸ªç±»</code> çš„æ‰èƒ½å®Œæˆçš„</li><li>æœ€ç›´æ¥çš„æ ‡å¿—å°±æ˜¯ä¼ å‚æ•°æ®ä¸ºå¯¹è±¡çš„æ—¶å€™ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œä½ <code>æƒ³åœ¨ä¸€ä¸ªç±»ä¸­æ“ä½œå¦ä¸€ä¸ªç±»</code>ï¼Œè¿™ä¸¤ä¸ªç±»ä¹‹é—´å½¢æˆäº†ç›¸äº’ä¾èµ–å…³ç³»ï¼Œä¼ å‚çš„æ–¹å¼å« <code>æ³¨å…¥</code></li></ul>
<h2><a id="__8"></a>ğŸˆ ä¾èµ–æ³¨å…¥å‡ºç°çš„åŸå› </h2>
<ul><li>åœ¨æœªä½¿ç”¨ä¾èµ–æ³¨å…¥çš„æ—¶å€™ï¼Œ<code>php</code> éœ€è¦åœ¨ä¸€ä¸ªç±»ä¸­ä½¿ç”¨å¦ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¾€å¾€éƒ½ä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œ</li><li>æ¯”å¦‚æˆ‘åœ¨ <code>container</code> ç±»ä¸­éœ€è¦ç”¨åˆ° <code>adapter</code> ç±»ï¼Œå°±éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œå®ä¾‹åŒ–</li><li>å¦‚æœéœ€è¦ç”¨åˆ°å¤§é‡çš„å¤–éƒ¨ç±»ï¼Œè¿™å°±ä¼šé€ æˆäº† <code>è€¦åˆåº¦å¤ªé«˜</code>ï¼Œå¾ˆå®¹æ˜“é€ æˆåæœŸçš„ <code>ç»´æŠ¤å›°éš¾</code></li><li>é€šä¿—çš„æ¥è®²ï¼Œä¹Ÿå°±æ˜¯ <code>container</code> è„±ç¦»ä¸äº†å¤–éƒ¨ç±»å»å·¥ä½œï¼Œè¿™å°±å« <code>è€¦åˆåº¦å¤ªé«˜</code></li></ul>
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">container</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token variable">$adapter</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">adapter</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="__28"></a>ğŸˆ ç®€å•çš„ä¾èµ–æ³¨å…¥</h2>
<ul><li>ä¸Šé¢çš„ä»£ç è€¦åˆåº¦å¤ªé«˜ï¼Œå¯¼è‡´äº† <code>ä¾èµ–æ³¨å…¥</code> çš„å‡ºç°ï¼Œä¸»è¦æ˜¯ä¸ºäº† <code>è§£è€¦åˆ</code></li><li>å¦‚ä¸‹æ¡ˆä¾‹ï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‰€éœ€è¦æ“ä½œçš„ç±»å¯¹è±¡ä¼ å…¥å³å¯</li><li><code>ä¾èµ–æ³¨å…¥</code> æ“ä½œçš„å‚æ•°æ˜¯ <code>å¯¹è±¡</code>ï¼Œè€Œä¸æ˜¯æ™®é€šå‚æ•°ï¼Œæ˜¯ä¸æ˜¯æœ‰æ›´å¥½çš„ç†è§£äº†</li><li>ä½†æ˜¯è¿™æ ·çš„ç®€å•ä¾èµ–æ³¨å…¥ï¼Œä¼šé€ æˆå¦‚æœä½ ä¾èµ–çš„ç±»å¾ˆå¤šï¼Œä½ ä¼ å‚çš„æ—¶å€™ä¼šå¾ˆé•¿ï¼Œå®¹æ˜“<code>æ··ä¹±</code></li></ul>
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">container</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token variable">$adapter</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">adapter</span> <span class="token variable">$adapter</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">adapter</span> <span class="token operator">=</span> <span class="token variable">$adapter</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="__48"></a>ğŸˆ é«˜é˜¶çš„ä¾èµ–æ³¨å…¥</h2>
<ul><li>ä¸ºäº†è§£å†³ä¸Šé¢ <code>å‚æ•°æ··ä¹±</code> çš„é—®é¢˜ï¼Œè¿™æ—¶å€™ï¼Œä¾èµ–æ³¨å…¥è¿›è¡Œäº†ä¼˜åŒ–<br/> é€šè¿‡é­”æœ¯æ–¹æ³•ï¼Œ<code>__get</code> å»è®¾ç½®å¯¹è±¡</li><li>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è§£å†³ä¾èµ–å¤ªå¤šï¼Œå‚æ•°æ··ä¹±çš„é—®é¢˜äº†</li></ul>
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">container</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token variable">$instance</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">instance</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token property">adapter</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token property">autofelix</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">autofelix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2><a id="__72"></a>ğŸˆ ä¾èµ–æ³¨å…¥çš„åº”ç”¨</h2>
<ul><li>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ª <code>å®¹å™¨ç±»</code>ï¼Œä¸»è¦ç”¨æ¥å‘å®¹å™¨ä¸­ <code>æ³¨å…¥</code> ä½ æƒ³è¦æ“ä½œçš„ç±»</li><li>ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦ä¼ å®¹å™¨è¿™ä¸€ä¸ª <code>å¯¹è±¡</code> å³å¯</li></ul>
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">container</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token variable">$instance</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__set</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">instance</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">adapter</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'æˆ‘æ˜¯è°ƒåº¦å™¨'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token property">adapter</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">autofelix</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token variable">$container</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">container</span> <span class="token variable">$container</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">container</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">who</span><span class="token punctuation">(</span><span class="token variable">$class</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">container</span><span class="token operator">-&gt;</span><span class="token property">instance</span><span class="token punctuation">[</span><span class="token variable">$class</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token property">name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token variable">$autofelix</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">autofelix</span><span class="token punctuation">(</span><span class="token variable">$container</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$who</span> <span class="token operator">=</span> <span class="token variable">$autofelix</span><span class="token operator">-&gt;</span><span class="token function">who</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'adapter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$who</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æˆ‘æ˜¯è°ƒåº¦å™¨</span>
</code></pre>
<h2><a id="__119"></a>ğŸˆ ä¾èµ–æ³¨å…¥é«˜é˜¶ä¼˜åŒ–</h2>
<ul><li>åœ¨ä¸Šé¢çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ <code>ç›´æ¥</code> å°†å®ä¾‹åŒ–åçš„å¯¹è±¡æ³¨å…¥å®¹å™¨ä¸­</li><li>è¿™æ ·ä¼šå¯¼è‡´ï¼Œæ‰€æœ‰çš„å¯¹è±¡è¿˜æ²¡æœ‰è¢«ä½¿ç”¨å°±ä¼šè¢«å®ä¾‹åŒ–ä¸€éï¼Œé€ æˆ <code>èµ„æºçš„æŸè€—</code></li><li>æˆ‘ä»¬å¯ä»¥ <code>ä¼ å…¥é—­åŒ…</code>ï¼Œè¿™æ ·å¯¹è±¡å°±ä¸ä¼šè¢«å®ä¾‹åŒ–è€Œæ³¨å…¥ï¼Œå½“ä½ è‡ªå·±éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œå†å»å®ä¾‹åŒ–ï¼Œå°±å¯ä»¥å‡å°‘ <code>æœåŠ¡å™¨èµ„æºçš„æŸè€—</code> äº†</li></ul>
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token property">adapter</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//é«˜é˜¶ä¼˜åŒ–</span>
<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$container</span><span class="token operator">-&gt;</span><span class="token property">adapter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>