<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-kimbie-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>🎄目录</h3>
<ul><li><a href="#font_color05668Dfont_4"><font color="#05668D">🌼写在前面</font></a></li><li><ul><li><a href="#font_color05668D_A__font_25"><font color="#05668D">🌻 A题 --- 九进制转十进制</font></a></li><li><ul><li><a href="#font_color00A896_font_27"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_31"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_35"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_B__font_50"><font color="#05668D">🌻 B题 --- 顺子日期</font></a></li><li><ul><li><a href="#font_color00A896_font_52"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_56"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_60"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_C__font_109"><font color="#05668D">🌻 C题 --- 刷题统计</font></a></li><li><ul><li><a href="#font_color00A896_font_111"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_117"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_121"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_D_font_150"><font color="#05668D">🌻 D题： 修剪灌木</font></a></li><li><ul><li><a href="#font_color00A896_font_152"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_158"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_166"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_EXfont_186"><font color="#05668D">🌻 E题：X进制减法</font></a></li><li><ul><li><a href="#font__color00A896_font_188"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_194"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_235"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_Ffont_268"><font color="#05668D">🌻 F题：统计子矩阵</font></a></li><li><ul><li><a href="#font__color00A896_font_270"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_284"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_340"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_Gfont_396"><font color="#05668D">🌻 G题：积木画</font></a></li><li><ul><li><a href="#font_color00A896_font_398"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_410"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_479"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_Hfont_514"><font color="#05668D">🌻 H题：扫雷</font></a></li><li><ul><li><a href="#font_color00A896_font_516"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_527"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_556"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_Ifont_652"><font color="#05668D">🌻 I题：李白打酒加强版</font></a></li><li><ul><li><a href="#font_color00A896_font_654"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_660"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_681"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li><li><a href="#font_color05668D_Jfont_724"><font color="#05668D">🌻 J题：砍竹子</font></a></li><li><ul><li><a href="#font_color00A896_font_726"><font color="#00A896">🌷 题目描述</font></a></li><li><a href="#font_color00A896_font_732"><font color="#00A896">🌷 解题思路</font></a></li><li><a href="#font__color00A896_font_758"><font color="#00A896">🌷 代码编写</font></a></li></ul>
</li></ul>
</li><li><a href="#font_color05668Dfont_850"><font color="#05668D">💗写在最后</font></a></li></ul>
</div>
<p></p>
<hr/>
<blockquote>
<h1><a id="font_color05668Dfont_4"></a><font color="#05668D">🌼写在前面</font></h1>
<p><font color="green"><strong>Hello朋友们😋，我是秋刀鱼🐟，一只活跃于Java区与算法区的新人博主~</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/9c7d9dd964a0fbeafd03f946043c9534.png"/>
</div>
<p><font color="#028090"><strong>欢迎大家加入<a href="https://bbs.csdn.net/forums/Suanfa">高校算法学习社区🏰</a>， 社区里大佬云集，大家互相交流学习！</strong></font></p>
<hr/>
<p><strong><font color="#05668D">蓝桥杯的成绩已经公布，看到很多朋友拿了奖秋刀鱼很是高兴！大家都是好样的！因为疫情缘故秋刀鱼的蓝桥杯比赛被推迟到了 5 月 14 日第二批，因此还有半个月的时间进行准备。今天呢给大家带来<font color="#FF5D73">蓝桥杯 C++ B组真题解析</font>，这套题目也是耗费了我将近 7 个小时的时间才AK，希望看完能让你有所收获。如果觉得博主写的还不错的话务必三连支持一下：</font></strong></p>
<br/>
<div align="center">
<font color="#6795b5"><strong><a href="https://blog.csdn.net/qq_51439643?type=blog">🎉🎉主页：秋刀鱼与猫</a>🎉🎉</strong></font>
</div>
<div align="center">
<strong><font color="#E55934"> 🎉🎉期待你的支持与关注~🎉🎉</font></strong>
</div>
</blockquote>
<hr/>
<h2><a id="font_color05668D_A__font_25"></a><font color="#05668D">🌻 A题 — 九进制转十进制</font></h2>
<h3><a id="font_color00A896_font_27"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><img alt="image-20220501205543893" src="https://img-blog.csdnimg.cn/img_convert/baa20d0a4d18e2d8bb084c6b104d20e8.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_31"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong>很简单一道进制转换题目！这可不能做错哦！</strong></p>
</blockquote>
<h3><a id="font__color00A896_font_35"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c++">#include &lt;iostream&gt;
#include &lt;cmath&gt; 
using namespace std;

int main() {
	cout &lt;&lt; 2 * pow(9, 0) + 2 * pow(9, 1) + 0 * pow(9, 2) + 2 * pow(9, 3) &lt;&lt; endl;
	return 0;
}
</code></pre>
</blockquote>
<h2><a id="font_color05668D_B__font_50"></a><font color="#05668D">🌻 B题 — 顺子日期</font></h2>
<h3><a id="font_color00A896_font_52"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><img alt="image-20220501205839184" src="https://img-blog.csdnimg.cn/img_convert/337b3316f885bd7390f4c8939dacdbf4.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_56"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong>这道题实现起来还算简单，但是题目中的说明有点模棱两可，<code>012</code>到底能不能作为顺子呢？<font color="red">最后官方说明两个答案都算正确。</font></strong></p>
</blockquote>
<h3><a id="font__color00A896_font_60"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c++">#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;

using namespace std;

const int months[] = {
 0, 31, 28, 31, 30, 31,
 30, 31, 31, 30, 31, 30,
 31
};

bool check(string str)
{
 for (int i = 0; i + 2 &lt; str.size(); i ++ )
     if (str[i + 1] == str[i] + 1 &amp;&amp; str[i + 2] == str[i] + 2)
         return true;

 return false;
}

int main()
{
 int year = 2022, month = 1, day = 1;
 int res = 0;
 for (int i = 0; i &lt; 365; i ++ )
 {
     char str[10];
     sprintf(str, "%04d%02d%02d", year, month, day);
     if (check(str))
     {
         res ++ ;
         cout &lt;&lt; str &lt;&lt; endl;
     }
     if ( ++ day &gt; months[month])
     {
         day = 1;
         month ++ ;
     }
 }
 cout &lt;&lt; res &lt;&lt; endl;
 return 0;
}

</code></pre>
</blockquote>
<h2><a id="font_color05668D_C__font_109"></a><font color="#05668D">🌻 C题 — 刷题统计</font></h2>
<h3><a id="font_color00A896_font_111"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2656.html">题传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ea49055c5ae44ac6985bace3f82cbb7d.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_117"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong>计算出从周一开始刷题一周的刷题数量 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          w
         
         
          e
         
         
          e
         
         
          k
         
         
          C
         
         
          o
         
         
          s
         
         
          t
         
        
        
         weekCost
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mord mathdefault" style="margin-right: 0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span></span></span></span></span> ，将 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          n
         
         
          /
         
         
          w
         
         
          e
         
         
          e
         
         
          k
         
         
          C
         
         
          o
         
         
          s
         
         
          t
         
        
        
         n/weekCost
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">n</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mord mathdefault" style="margin-right: 0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span></span></span></span></span> 获取到需要多少个周，更新答案。获取剩余的题目，剩余的题目一定能在一周之内完成，继续枚举获取答案值。非常简单！</strong></p>
</blockquote>
<h3><a id="font__color00A896_font_121"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c++">#include &lt;iostream&gt;
#define ll long long
using namespace std;

int main() {
	ll a, b, n;
	cin &gt;&gt; a &gt;&gt; b &gt;&gt; n;
	ll weekCost = a * 5 + b * 2;
	ll ans = 0;
	ans += (n / weekCost) * 7;
	n %= weekCost;
	for (int i = 1; n &gt; 0 &amp;&amp; i &lt;= 7; ++i,++ans) {
		if (i &lt;= 5) {
			n -= a;
		}
		else {
			n -= b;
		}
	}
	cout &lt;&lt; ans;
	return 0;
}
</code></pre>
</blockquote>
<hr/>
<h2><a id="font_color05668D_D_font_150"></a><font color="#05668D">🌻 D题： 修剪灌木</font></h2>
<h3><a id="font_color00A896_font_152"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2657.html">题目传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e8f69c02354c416399e50279e5a683cf.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_158"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong>解决本题的关键是判断每棵灌木最高的高度，简单地思考不难发现<font color="#F25F5C">该高度与该点距离左、右侧边界的距离相关</font>。定义左侧边界距离为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          i
         
        
        
         i
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> ，则右侧边界可计算出为：<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          n
         
         
          −
         
         
          i
         
         
          −
         
         
          1
         
        
        
         n-i-1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.74285em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，如下图所示：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e8d209335ba34424847173f7c74afca5.png"/></p>
<p><strong>灌木的最高高度就是：<font color="#F25F5C"><span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           m
          
          
           a
          
          
           x
          
          
           {
          
          
           i
          
          
           ,
          
          
           n
          
          
           −
          
          
           i
          
          
           −
          
          
           1
          
          
           }
          
          
           ∗
          
          
           2
          
         
         
          max\{i,n-i-1\} * 2
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{<!-- --></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.74285em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">}</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></font></strong></p>
</blockquote>
<h3><a id="font__color00A896_font_166"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n<span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token function">max</span><span class="token punctuation">(</span>i <span class="token punctuation">,</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<hr/>
<h2><a id="font_color05668D_EXfont_186"></a><font color="#05668D">🌻 E题：X进制减法</font></h2>
<h3><a id="font__color00A896_font_188"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2658.html">题目传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2fc50e98e1784538976da38abf143450.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_194"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong><font color="#348AA7" size="5">理解题意</font></strong></p>
<p><strong>我相信很多朋友不会做这道题是因为题目的意思没有理清楚。其实题目的要求很简单：<font color="#F25F5C">给定了两个整数 A,B，这两个数每一位上可以是任意进制，但是A，B相同位上进制规则相同</font>。举个栗子：</strong></p>
<p><img alt="image-20220430124942685" src="https://img-blog.csdnimg.cn/img_convert/e84543f17c1b309e44ccfd78fbda39ab.png"/></p>
<p><strong>若 X，Y，Z 分别代表 5,6,2 进制，则 A = 4*6*2 + 2*6 + 1 ,B = 3*6*2 + 5*6 + 0</strong></p>
<p><strong>如 X，Y，Z 分别代表 6,7,3 进制，则 A = 4*7*3 + 2*7 + 1 ,B = 3*7*3 + 5*7 + 0</strong></p>
<p><strong>无论每一位进制为何值，都需要满足：</strong></p>
<ul><li><font color="#5CA4A9"><strong>进制数要大于改位的最大值</strong></font></li><li><font color="#5CA4A9"><strong>进制数的最小值为 2</strong></font></li></ul>
<p><strong>满足上述要求的每一位进制所得到的数：A，B ，题目要求获取 A - B 的最小值。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">解题方法</font></strong></p>
<p><strong>首先给出结论：<font color="#F25F5C">只需要将每一位进制数设置为最小值， A - B 的值一定是最小值。</font></strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">结论证明</font></strong></p>
<p><strong>首先假设 A 的每一位值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           A
          
          
           i
          
         
        
        
         A_i
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，最低位的值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           A
          
          
           1
          
         
        
        
         A_1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> ，最高位的值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           A
          
          
           n
          
         
        
        
         A_n
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> ，B 同理。同时假设每一位的进制为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           i
          
         
        
        
         S_i
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 最低位进制为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           1
          
         
        
        
         S_1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> ，最高位进制为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           n
          
         
        
        
         S_n
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。下面以 n = 4 为例进行证明：</strong></p>
<p><strong>经过推导不难发现 <font color="cornflowerblue">A-B</font> 的值能进行如下的表示：</strong></p>
<p><img alt="image-20220430130906401" src="https://img-blog.csdnimg.cn/img_convert/b9406596a7d4b58869ee19085046462a.png"/></p>
<p><strong>先考虑箭头所指位置：题目中给定了 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          A
         
         
          −
         
         
          B
         
         
          &gt;
         
         
          0
         
        
        
         A - B &gt;0
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72243em; vertical-align: -0.0391em;"></span><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> ，因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           A
          
          
           4
          
         
         
          −
         
         
          
           B
          
          
           4
          
         
         
          &gt;
         
         
          =
         
         
          0
         
        
        
         A_4 - B_4 &gt;= 0
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05017em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> 恒成立， 为了使结果值最小，</strong><font color="#F25F5C"><strong>因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           
            S
           
           
            3
           
          
         
         
          S_3
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 的值应当最小。</strong></font></p>
<p><img alt="image-20220430131425558" src="https://img-blog.csdnimg.cn/img_convert/98a4dcd01c32c2c88fd6c1ce175d1411.png"/></p>
<p><strong>继续看箭头所指的位置，因为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           3
          
         
        
        
         S_3
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 是第三位的进制数，因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           3
          
         
         
          &gt;
         
         
          
           A
          
          
           3
          
         
        
        
         S_3 &gt; A_3
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>且 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           3
          
         
         
          &gt;
         
         
          B
         
         
          3
         
        
        
         S_3 &gt; B3
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span><span class="mord">3</span></span></span></span></span> ，而 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           A
          
          
           4
          
         
         
          −
         
         
          
           B
          
          
           4
          
         
         
          &gt;
         
         
          =
         
         
          0
         
        
        
         A_4 - B_4 &gt;=0
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05017em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>，因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           3
          
         
         
          (
         
         
          
           A
          
          
           4
          
         
         
          −
         
         
          
           B
          
          
           4
          
         
         
          )
         
         
          &gt;
         
         
          =
         
         
          (
         
         
          
           A
          
          
           3
          
         
         
          −
         
         
          
           B
          
          
           3
          
         
         
          )
         
        
        
         S_3(A_4-B_4) &gt;= (A_3-B_3)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05017em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05017em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，因此方框位置的值仍为正数或 0 ，为了使该值最小， <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          
           S
          
          
           2
          
         
        
        
         S_2
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 应当取最小值。</strong></p>
<p><strong>继续证明的思路与上述思路相同，通过证明最终得出：<font color="#F25F5C">为了使 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           A
          
          
           −
          
          
           B
          
         
         
          A-B
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.05017em;">B</span></span></span></span></span> 的值最小，每一位的表示的进制数应当最小！</font></strong></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/02fb66cbecdd41401e2c52acd86731f6.png"/>
</div>
</blockquote>
<h3><a id="font__color00A896_font_235"></a><font color="#00A896">🌷 代码编写</font></h3>
<pre><code class="prism language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1000000007</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> N<span class="token punctuation">,</span> ma<span class="token punctuation">,</span> mb<span class="token punctuation">;</span>
	<span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token number">100001</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> N<span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> ma<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ma<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cin <span class="token operator">&gt;&gt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cin <span class="token operator">&gt;&gt;</span> mb<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ma<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>mb <span class="token operator">+</span> i <span class="token operator">&gt;=</span> ma<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			cin <span class="token operator">&gt;&gt;</span> val<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
        <span class="token comment">// 必须满足进制数大于 2 这个前提</span>
		ans <span class="token operator">*</span><span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ans <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="font_color05668D_Ffont_268"></a><font color="#05668D">🌻 F题：统计子矩阵</font></h2>
<h3><a id="font__color00A896_font_270"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2659.html">题目传送门</a></strong></p>
<p><img alt="image-20220430220905834" src="https://img-blog.csdnimg.cn/img_convert/aace5d936309a739ce0797f3591260a1.png"/></p>
<p><strong>【评测用例规模与约定】</strong></p>
<p><strong>对于 30% 的数据，<em>N</em>, <em>M</em> ≤ 20.</strong></p>
<p><strong>对于 70% 的数据，<em>N</em>, <em>M</em> ≤ 100.</strong></p>
<p><strong>对于 100% 的数据，1 ≤ <em>N</em>, <em>M</em> ≤ 500; 0 ≤ *A</strong>i j* ≤ 1000; 1 ≤ <em>K</em> ≤ 250000000**</p>
</blockquote>
<h3><a id="font_color00A896_font_284"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong><font color="#348AA7" size="5">二维前缀和</font></strong></p>
<p><strong>对于任意一个矩阵，如何快速获取到任意一个字矩阵中所有数的和呢？可以使用<font color="#F25F5C">二维前缀和</font>的思想。定义一个二维前缀和数组 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          s
         
         
          u
         
         
          m
         
         
          [
         
         
          n
         
         
          ]
         
         
          [
         
         
          m
         
         
          ]
         
        
        
         sum[n][m]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mclose">]</span></span></span></span></span> 记录前缀和，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          s
         
         
          u
         
         
          m
         
         
          [
         
         
          i
         
         
          ]
         
         
          [
         
         
          j
         
         
          ]
         
        
        
         sum[i][j]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span> 记录 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          0
         
         
          ,
         
         
          0
         
         
          )
         
         
          −
         
         
          &gt;
         
         
          (
         
         
          i
         
         
          ,
         
         
          j
         
         
          )
         
        
        
         (0,0) -&gt; (i,j)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mord">−</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span></span></span></span></span> 矩阵中的数之和，就如下图所示：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9204f2d1dfe64c1f8613c68b4796c8de.png"/></p>
<p><strong><font color="#F25F5C">获取任意一个子矩阵 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           (
          
          
           a
          
          
           ,
          
          
           b
          
          
           )
          
          
           −
          
          
           &gt;
          
          
           (
          
          
           i
          
          
           ,
          
          
           j
          
          
           )
          
         
         
          (a,b) - &gt;(i,j)
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span><span class="mord">−</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span></span></span></span></span> 矩阵数之和等于 ：<span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           s
          
          
           u
          
          
           m
          
          
           [
          
          
           i
          
          
           ]
          
          
           [
          
          
           j
          
          
           ]
          
          
           −
          
          
           s
          
          
           u
          
          
           m
          
          
           [
          
          
           a
          
          
           −
          
          
           1
          
          
           ]
          
          
           [
          
          
           j
          
          
           ]
          
          
           −
          
          
           s
          
          
           u
          
          
           m
          
          
           [
          
          
           i
          
          
           ]
          
          
           [
          
          
           b
          
          
           −
          
          
           1
          
          
           ]
          
          
           +
          
          
           s
          
          
           u
          
          
           m
          
          
           [
          
          
           a
          
          
           −
          
          
           1
          
          
           ]
          
          
           [
          
          
           b
          
          
           −
          
          
           1
          
          
           ]
          
         
         
          sum[i][j] - sum[a-1][j] - sum[i][b-1] + sum[a-1][b-1]
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span></font> 如下图所示：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/05409843c24c4799ae840616f3aaaca1.png"/></p>
<p><strong>只需要预先处理好前缀和数组，按照上述方式就能够在<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          O
         
         
          (
         
         
          1
         
         
          )
         
        
        
         O(1)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>的时间复杂度下求出任意子矩阵的数之和。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">二分查找</font></strong></p>
<p><strong>不妨我们将遍历每一个点，<font color="#F25F5C">将遍历到的点作为矩阵左上侧的点固定</font>。同时遍历剩余的点，遍历得到右下侧的点通过这两个点确定一个矩形，再根据二维前缀和得到该矩形数之和即可获得答案，但是这样的时间复杂度是<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          O
         
         
          (
         
         
          
           N
          
          
           4
          
         
         
          )
         
        
        
         O(N^4)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.06411em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>对于 500 的数据量可能会超时，有什么更好的方法呢？</strong></p>
<div align="center">
<img alt="image-20200916114846002" src="https://pic2.zhimg.com/80/v2-c794f3abcf4909eb80cf85584d9d36fb_720w.jpg" width="200px"/>
</div>
<p><strong>其实使用<font color="red">二分</font>就可以解决上面的问题，具体操作如下：</strong></p>
<p><strong>固定了左上角点后遍历每一行时，因为从左到右遍历生成的子矩阵其数之和一定是<font color="red">递增</font>的（因为拿取了越来越多的数），因此只需要对每一行的数据使用二分查找该行形成的子矩阵的数据，找到临界值点即可，如下图所示：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/bf23dfcb06814a6984d97d9bd9252228.png"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c96bde5834f54a71b4a39a5a08e07afc.png"/></p>
<p><strong>满足： <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          i
         
         
          ,
         
         
          j
         
         
          )
         
         
          −
         
         
          &gt;
         
         
          (
         
         
          z
         
         
          ,
         
         
          l
         
         
          )
         
        
        
         (i,j) -&gt;(z,l)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span class="mord">−</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mclose">)</span></span></span></span></span> 矩阵数之和小于等于 K，而对于 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          i
         
         
          ,
         
         
          j
         
         
          )
         
         
          −
         
         
          &gt;
         
         
          (
         
         
          z
         
         
          ,
         
         
          l
         
         
          +
         
         
          1
         
         
          )
         
        
        
         (i,j)-&gt;(z,l+1)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span><span class="mord">−</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> 矩阵数之和一定大于 K，因此能够通过二分查找的方式查找搜索每一行来找到该临界值 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          l
         
        
        
         l
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span></span></span></span></span> ，此时可以获得的子矩阵数量为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          l
         
         
          −
         
         
          j
         
         
          +
         
         
          1
         
        
        
         l-j+1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.77777em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，可以将时间复杂度优化为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          O
         
         
          (
         
         
          
           N
          
          
           3
          
         
         
          ⋅
         
         
          l
         
         
          g
         
         
          N
         
         
          )
         
        
        
         O(N^3\cdot lgN)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.06411em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">继续优化</font></strong></p>
<p><strong>虽然说上述的方法已经能够极大地降低时间复杂度，但是还是无情地超时了：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5a53b98fc2fd464a9879335608814b1f.png"/></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/cc15dfc4cfd98c1a6fa3e2ef1291c1b8.gif" width="200px"/>
</div>
<p><strong>还需要进一步的优化：</strong></p>
<p><strong>还是上述的解法，只不过固定左上角点 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          i
         
         
          ,
         
         
          j
         
         
          )
         
        
        
         (i,j)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span></span></span></span></span> 后枚举每一行时，按照 z 下标从大到小的方式枚举：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c96bde5834f54a71b4a39a5a08e07afc.png"/></p>
<p><strong>还是上述的情况，在 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          z
         
        
        
         z
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.04398em;">z</span></span></span></span></span> 行枚举到 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          l
         
        
        
         l
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span></span></span></span></span> 值之后，不难发现蓝色区域内以<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          i
         
         
          ,
         
         
          j
         
         
          )
         
        
        
         (i,j)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">)</span></span></span></span></span>作为左上角点的子矩阵数量是能够计算出来的，该值就是蓝色区域内的方块数目 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          l
         
         
          −
         
         
          j
         
         
          +
         
         
          1
         
         
          )
         
         
          ⋅
         
         
          (
         
         
          z
         
         
          −
         
         
          i
         
         
          +
         
         
          1
         
         
          )
         
        
        
         (l-j+1)\cdot (z-i+1)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.74285em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> ，直接将该值更新到答案中。<font color="#70C1B3">按照下标从大到小的顺序遍历因此下一次遍历的行是 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           z
          
          
           −
          
          
           1
          
         
         
          z-1
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 行，因为蓝色区域中包含了 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           z
          
          
           −
          
          
           1
          
         
         
          z-1
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.04398em;">z</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 行的一部分，而这一部分已经被更新到了答案之中。因此该二分查找的范围有所变化，二分查找的左边界只需要定为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           l
          
          
           +
          
          
           1
          
         
         
          l+1
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.77777em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> </font>，如下图所示：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a6fba71ba44046669aca3e57da655f1e.png"/></p>
<p><strong>这样通过压缩二分查找的左边界范围而减少二分查找次数，最终 AC 这道题。</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8bbb947ba8e54f0086872e0459702c73.png"/></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/a49b9ffdd391de63398481d15bf25274.png" width="200px"/>
</div>
</blockquote>
<h3><a id="font__color00A896_font_340"></a><font color="#00A896">🌷 代码编写</font></h3>
<pre><code class="prism language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">510</span><span class="token punctuation">;</span>
ll sum<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	ll n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> k<span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token number">0L</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> m <span class="token operator">&gt;&gt;</span> k<span class="token punctuation">;</span>
	ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment">// 处理前缀和</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> val<span class="token punctuation">;</span>
			cin <span class="token operator">&gt;&gt;</span> val<span class="token punctuation">;</span>
			sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> val<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
    <span class="token comment">// 枚举每一个左上角位置</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> pre <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token comment">// 遍历行</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> z <span class="token operator">=</span> n<span class="token punctuation">;</span> z <span class="token operator">&gt;=</span> i<span class="token punctuation">;</span> <span class="token operator">--</span>z<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 二分查找的左边界根据上一次的临界值得到</span>
				<span class="token keyword">int</span> l <span class="token operator">=</span> pre <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token keyword">int</span> r <span class="token operator">=</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token comment">// 二分判断</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
					ll val <span class="token operator">=</span> sum<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>z<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
						r <span class="token operator">=</span> mid<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">&gt;</span> pre <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>z <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>l <span class="token operator">-</span> pre <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					pre <span class="token operator">=</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr/>
<h2><a id="font_color05668D_Gfont_396"></a><font color="#05668D">🌻 G题：积木画</font></h2>
<h3><a id="font_color00A896_font_398"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2660.html">题传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fe27f845a27f46c186b426f9b0eeb2f8.png"/></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">写在前面</font></strong></p>
<p><strong>这道题我有在网上去搜索了一下其他博主的题解，因为我实在无法理解 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          ]
         
         
          =
         
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          −
         
         
          1
         
         
          ]
         
         
          ⋅
         
         
          2
         
         
          +
         
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          −
         
         
          3
         
         
          ]
         
        
        
         dp[i] = dp[i-1]\cdot2+dp[i-3]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span></span> 这个状态转移方程是如何得到的（可能是自己太笨了），他们的题解大多都是草草两句收尾讲的有些含糊不清，作为菜狗的我真的很难懂啊啊啊啊！在思考良久后对于这道题我想到了一种自己的解题想法，与网上主流的状态转移方程不同不过同样能够解题。</strong></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/264d770a26c669ac58671f06665f9a9c.png" width="200px"/>
</div>
</blockquote>
<h3><a id="font_color00A896_font_410"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong><font color="#348AA7" size="5">状态表示 </font></strong></p>
<p><strong>本题解题的关键是使用<font color="red">动态规划</font>，定义一维数组 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
        
        
         dp
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span></span> ，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          ]
         
        
        
         dp[i]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span> 存储画布的大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          2
         
         
          ×
         
         
          i
         
        
        
         2\times i
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> 时积木的填充方法数。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">状态初始化</font></strong></p>
<p><strong>不难发现：</strong></p>
<ul><li><strong>当画布大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           2
          
          
           ×
          
          
           1
          
         
         
          2\times 1
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 时，只能放下一个 I 型积木，因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           d
          
          
           p
          
          
           [
          
          
           1
          
          
           ]
          
          
           =
          
          
           1
          
         
         
          dp[1] =1
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>。</strong></li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/03fbb09d77524f37a1d4169c0603bc53.png"/></p>
<ul><li> <p><strong>当画布大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            2
           
           
            ×
           
           
            2
           
          
          
           2\times 2
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 时，只能放下两个 I 型积木，但积木可以旋转,如下图所示，因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            d
           
           
            p
           
           
            [
           
           
            2
           
           
            ]
           
           
            =
           
           
            2
           
          
          
           dp[2] = 2
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></strong></p> <p>​ <img alt="image-20220430231321372" src="https://img-blog.csdnimg.cn/img_convert/8cb3e7d0f67cb95133201ce00e5c7df9.png"/><img alt="image-20220430231352164" src="https://img-blog.csdnimg.cn/img_convert/b7f815b3b2acc656fcc9eb074378bc9e.png"/></p> </li><li> <p><strong>当画布大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            2
           
           
            ×
           
           
            3
           
          
          
           2\times3
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>时，如题目中所示，共有五种方式，因此 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            d
           
           
            p
           
           
            [
           
           
            3
           
           
            ]
           
           
            =
           
           
            5
           
          
          
           dp[3] = 5
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">5</span></span></span></span></span></strong></p> </li></ul>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">情况梳理</font></strong></p>
<p><strong>梳理状态转移方程之前，不妨思考下，积木画<font color="purple">出现在最后且符合题意的积木块</font>只能出现哪几种情况呢？</strong></p>
<ul><li> <p><font color="cornflowerblue"><strong>情况一：单独使用 I 型积木拼接</strong></font></p> <p><strong>完全可以使用单独的<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/03fbb09d77524f37a1d4169c0603bc53.png"/>拼接在任意一个符合题意的积木画尾部中，使积木画总长度 + 1。</strong></p> </li><li> <p><font color="cornflowerblue"><strong>情况二</strong>：<strong>使用两个 I 型积木拼接</strong></font></p> <p><strong>使用<img alt="image-20220430231321372" src="https://img-blog.csdnimg.cn/img_convert/8cb3e7d0f67cb95133201ce00e5c7df9.png"/>同样能够拼接到任意一个符合题意的积木画尾部，使其积木画总长度 + 2。</strong></p> </li><li> <p><font color="cornflowerblue"><strong>情况三</strong>：<strong>使用两个 L 型积木拼接</strong></font></p> <p><strong>使用<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1e7d64e1070f48cb8bef9c6e2411e1d2.png"/>或<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d9732c9428744933ac8498381326a7c7.png"/> 拼接到任意一个符合题意的积木画尾部，使其积木画总长度 +3，但要注意此时存在这两种 L 型积木拼接方式属于不同的方式，因此需要单独计算！</strong></p> </li><li> <p><font color="cornflowerblue"><strong>情况四</strong>：<strong>使用两个 L 型积木与 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             i
            
            
             (
            
            
             1
            
            
             ,
            
            
             2
            
            
             ,
            
            
             3
            
            
             ,
            
            
             .
            
            
             .
            
            
             .
            
            
             .
            
            
             n
            
            
             )
            
           
           
            i(1,2,3,....n)
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></span> 个 I 型积木拼接</strong></font></p> <p><strong>最容易被忽略的情况！使用 I 型积木与 两个 L 型积木同样能完成拼接。</strong></p> <p><img alt="image-20220430233813672" src="https://img-blog.csdnimg.cn/img_convert/6b59b25e210efd74d9f460e33277a3b4.png"/></p> <p><strong>不要忘记翻转后的情况：</strong></p> <p><img alt="image-20220501194747997" src="https://img-blog.csdnimg.cn/img_convert/c38cfc75e2a33d42f06a5221d68275a5.png"/></p> </li></ul>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">状态转移方程</font></strong></p>
<ul><li> <p><font color="cornflowerblue"><strong>情况一</strong>：<strong>单独使用 I 型积木拼接，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             i
            
            
             ]
            
            
             +
            
            
             =
            
            
             d
            
            
             p
            
            
             [
            
            
             i
            
            
             −
            
            
             1
            
            
             ]
            
           
           
            dp[i] += dp[i-1]
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span></strong></font></p> </li><li> <p><font color="cornflowerblue"><strong>情况二</strong>：<strong>使用两个 I 型积木拼接，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             i
            
            
             ]
            
            
             +
            
            
             =
            
            
             d
            
            
             p
            
            
             [
            
            
             i
            
            
             −
            
            
             2
            
            
             ]
            
           
           
            dp[i]+=dp[i-2]
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span></span></strong></font></p> </li><li> <p><font color="cornflowerblue"><strong>情况三</strong>：<strong>使用两个 L 型积木拼接，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             i
            
            
             ]
            
            
             +
            
            
             =
            
            
             2
            
            
             ⋅
            
            
             d
            
            
             p
            
            
             [
            
            
             i
            
            
             −
            
            
             3
            
            
             ]
            
           
           
            dp[i]+=2\cdot dp[i-3]
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span></span></strong></font></p> </li><li> <p><font color="cornflowerblue"><strong>情况四：情况四只有 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             i
            
            
             &gt;
            
            
             =
            
            
             4
            
           
           
            i&gt;=4
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69862em; vertical-align: -0.0391em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">4</span></span></span></span></span> 时才可能出现，具体讨论如下：</strong></font></p>
<ul><li><strong>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             i
            
            
             =
            
            
             =
            
            
             4
            
           
           
            i==4
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">4</span></span></span></span></span> ，只存在长度为 4 的拼接情况，假设 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             0
            
            
             ]
            
            
             =
            
            
             1
            
           
           
            dp[0]=1
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，也就是说 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             4
            
            
             ]
            
            
             +
            
            
             =
            
            
             d
            
            
             p
            
            
             [
            
            
             0
            
            
             ]
            
            
             ⋅
            
            
             2
            
           
           
            dp[4]+=dp[0]\cdot 2
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></strong></li><li><strong>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             i
            
            
             =
            
            
             =
            
            
             5
            
           
           
            i==5
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">5</span></span></span></span></span>，存在长度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             4
            
            
             ,
            
            
             5
            
           
           
            4,5
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83888em; vertical-align: -0.19444em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">5</span></span></span></span></span> 的拼接情况，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             5
            
            
             ]
            
            
             +
            
            
             =
            
            
             (
            
            
             d
            
            
             p
            
            
             [
            
            
             0
            
            
             ]
            
            
             +
            
            
             d
            
            
             p
            
            
             [
            
            
             1
            
            
             ]
            
            
             )
            
            
             ⋅
            
            
             2
            
           
           
            dp[5] += (dp[0]+dp[1])\cdot 2
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">5</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></strong></li><li><strong>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             i
            
            
             =
            
            
             =
            
            
             6
            
           
           
            i ==6
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">6</span></span></span></span></span>，继续推导有： <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             6
            
            
             ]
            
            
             +
            
            
             =
            
            
             (
            
            
             d
            
            
             p
            
            
             [
            
            
             0
            
            
             ]
            
            
             +
            
            
             d
            
            
             p
            
            
             [
            
            
             1
            
            
             ]
            
            
             +
            
            
             d
            
            
             p
            
            
             [
            
            
             2
            
            
             ]
            
            
             )
            
            
             ⋅
            
            
             2
            
           
           
            dp[6]+=(dp[0]+dp[1]+dp[2])\cdot 2
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">6</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></strong></li><li><strong>若 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             i
            
            
             =
            
            
             =
            
            
             7
            
           
           
            i==7
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">7</span></span></span></span></span>，推导有： <span class="katex--inline"><span class="katex"><span class="katex-mathml">
         
          
           
            
             d
            
            
             p
            
            
             [
            
            
             7
            
            
             ]
            
            
             +
            
            
             =
            
            
             (
            
            
             d
            
            
             p
            
            
             [
            
            
             0
            
            
             ]
            
            
             +
            
            
             d
            
            
             p
            
            
             [
            
            
             1
            
            
             ]
            
            
             +
            
            
             d
            
            
             p
            
            
             [
            
            
             2
            
            
             ]
            
            
             +
            
            
             d
            
            
             p
            
            
             [
            
            
             3
            
            
             ]
            
            
             )
            
            
             ⋅
            
            
             2
            
           
           
            dp[7]+=(dp[0]+dp[1]+dp[2]+dp[3])\cdot 2
           
          
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></strong></li></ul> <p><strong>按照上述推导，不难发现 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            d
           
           
            p
           
           
            [
           
           
            i
           
           
            ]
           
           
            +
           
           
            =
           
           
            (
           
           
            d
           
           
            p
           
           
            [
           
           
            0
           
           
            ,
           
           
            1
           
           
            ,
           
           
            2
           
           
            ,
           
           
            .
           
           
            .
           
           
            .
           
           
            ,
           
           
            i
           
           
            −
           
           
            4
           
           
            ]
           
           
            )
           
           
            ⋅
           
           
            2
           
          
          
           dp[i]+=(dp[0,1,2,...,i-4])\cdot 2
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">4</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span>，因此可以定义一个变量 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            s
           
           
            u
           
           
            m
           
          
          
           sum
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span></span></span></span></span> 存储 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            d
           
           
            p
           
           
            [
           
           
            0
           
           
            ,
           
           
            1
           
           
            ,
           
           
            2
           
           
            ,
           
           
            .
           
           
            .
           
           
            i
           
           
            ]
           
          
          
           dp[0,1,2,..i]
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span> 的值，在 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            i
           
          
          
           i
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> 增大的同时更新 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            s
           
           
            u
           
           
            m
           
          
          
           sum
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span></span></span></span></span> 的值，初始情况 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
        
         
          
           
            s
           
           
            u
           
           
            m
           
           
            =
           
           
            0
           
          
          
           sum=0
          
         
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>。</strong></p> </li></ul>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">返回结果</font></strong><br/> <br/><br/> <strong>最终 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          N
         
         
          ]
         
        
        
         dp[N]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mclose">]</span></span></span></span></span> 就是题目所求值，这道题就这样解决了。</strong></p>
<p><strong>需要注意：下面代码中仅使用 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          a
         
         
          1
         
         
          ,
         
         
          a
         
         
          2
         
         
          ,
         
         
          a
         
         
          3
         
        
        
         a1,a2,a3
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">a</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mord">3</span></span></span></span></span> 分别代表 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          −
         
         
          1
         
         
          ]
         
         
          ,
         
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          −
         
         
          2
         
         
          ]
         
         
          ,
         
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          −
         
         
          3
         
         
          ]
         
        
        
         dp[i-1],dp[i-2],dp[i-3]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span></span>。</strong></p>
</blockquote>
<h3><a id="font__color00A896_font_479"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c++">#include &lt;iostream&gt;
#include &lt;math.h&gt;
#define ll long long
// #include &lt;bits/stdc++.h&gt;
using namespace std;
const int MOD = 1000000007;
int main() {
	ll n, a1, a2, a3;
	a1 = 5;
	a2 = 2;
	a3 = 1;
	cin &gt;&gt; n;
	ll sum = 0;
	for (ll i = 4; i &lt;= n; ++i) {
		ll val = 0;
		val += a1;
		val += a2;
		val += (a3 * 2L);
		if (i &gt;= 4) {
			val += sum * 2 + 2;
			sum += a3;
		}
		val %= MOD;
		a3 = a2;
		a2 = a1;
		a1 = val;
	}
	cout &lt;&lt; a1;
	return 0;
}
</code></pre>
</blockquote>
<h2><a id="font_color05668D_Hfont_514"></a><font color="#05668D">🌻 H题：扫雷</font></h2>
<h3><a id="font_color00A896_font_516"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2661.html">题传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/dc3e47a8d3ef459d8185a6a63cf2ebee.png"/></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">写在前面</font></strong></p>
<p><font color="green"><strong>个人觉得本题是第十三届蓝桥杯 C++ B组最难的一道题目，常规思路最多能骗骗分，如果需要AC本道题目需要使用特殊的优化。因此整体难度偏高。</strong></font></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/06d04d286689fded7cb2ee617f2f8025.png"/>
</div>
</blockquote>
<h3><a id="font_color00A896_font_527"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong><font color="#348AA7" size="5">核心思路</font></strong></p>
<p><strong>我的解题思路是<font color="red">搜索算法 + 哈希散列</font>，如果直接使用BFS、DFS算法搜索可能会导致超时，这里我将每一个二维的坐标通过哈希值散列为一维数组的一个索引值，缩短搜索的时间。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">哈希散列</font></strong></p>
<p><strong>如果有学习过Java的朋友可能了解过 HashMap 的底层源码，其核心是根据传入的 Key 计算出其哈希值，并将哈希值通过散列算法散列到桶数组中，并使用链表+红黑树的存储结构解决哈希冲突。</strong></p>
<p><strong>本题中给定了炸雷的坐标 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          x
         
         
          ,
         
         
          y
         
         
          )
         
        
        
         (x,y)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span></span></span></span></span> ，我们也可以定义一个哈希算法根据 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
         
          ,
         
         
          y
         
        
        
         x,y
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span></span></span></span></span> 的值将其转换为哈希值。通过该哈希值就能够判断出 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          (
         
         
          x
         
         
          ,
         
         
          y
         
         
          )
         
        
        
         (x,y)
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="mclose">)</span></span></span></span></span> 坐标是否出现。因为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          x
         
         
          ,
         
         
          y
         
        
        
         x,y
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.625em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span></span></span></span></span> 的取值为 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          [
         
         
          0
         
         
          ,
         
         
          1
         
         
          
           0
          
          
           9
          
         
         
          ]
         
        
        
         [0,10^9]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.06411em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>，因此不难得到下面的哈希算法：</strong></p>
<pre><code class="prism language-c"><span class="token comment">// 获取每个点的哈希值</span>
ll <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">1e9</span><span class="token operator">+</span><span class="token number">100L</span> <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>现在获取到了哈希值，这是一个非常大的数，如果使用一个数组存储所有哈希值是否出现肯定是不可取的。</strong></p>
<p><strong>这里就需要使用到哈希散列，操作方法：<font color="#F77F00">定义一个散列数组 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           h
          
          
           a
          
          
           s
          
          
           h
          
          
           U
          
          
           s
          
          
           e
          
          
           d
          
         
         
          hashUsed
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">h</span><span class="mord mathdefault" style="margin-right: 0.10903em;">U</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span></span>，将哈希值映射到 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           h
          
          
           a
          
          
           s
          
          
           h
          
          
           U
          
          
           s
          
          
           e
          
          
           d
          
         
         
          hashUsed
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">h</span><span class="mord mathdefault" style="margin-right: 0.10903em;">U</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span></span> 一个索引位置。</font></strong></p>
<p><font color="green"><strong>现在假设发射了一枚排雷火箭，通过遍历所有其爆炸范围内的点 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           (
          
          
           
            x
           
           
            i
           
          
          
           ,
          
          
           
            y
           
           
            i
           
          
          
           )
          
         
         
          (x_i,y_i)
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> ，判断其散列到 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           h
          
          
           a
          
          
           s
          
          
           h
          
          
           U
          
          
           s
          
          
           e
          
          
           d
          
         
         
          hashUsed
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">h</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">h</span><span class="mord mathdefault" style="margin-right: 0.10903em;">U</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span></span></span></span></span> 数组的索引位是否有值来判断该点是否为炸雷。</strong></font></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">哈希冲突</font></strong></p>
<p><strong>哈希散列不可避免哈希冲突，解决哈希冲突的方式也有很多，这里我使用的是<font color="red"> 线性探测法</font>。<font color="#007EA7">如果哈希散列索引位置值已经存在，则在原来索引的基础上往后加一个单位，直至不发生哈希冲突。具体实现参考代码注释。</font></strong></p>
</blockquote>
<h3><a id="font__color00A896_font_556"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">5e4</span><span class="token punctuation">,</span> M <span class="token operator">=</span> <span class="token number">8e6</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> ll MAX <span class="token operator">=</span> <span class="token number">1e9</span><span class="token operator">+</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> point
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>points<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 保存哈希散列情况</span>
ll hashUsed<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 散列值到points下标信息</span>
<span class="token keyword">int</span> id<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 保存炸弹是否被引爆</span>
<span class="token keyword">int</span> used<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 获取每个点的哈希值</span>
ll <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> x <span class="token operator">*</span> MAX <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Dist</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> j<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 哈希散列函数</span>
<span class="token keyword">int</span> <span class="token function">getPos</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	ll hash <span class="token operator">=</span> <span class="token function">hashCode</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 散列化哈希code</span>
	<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token punctuation">(</span>hash <span class="token operator">%</span> M <span class="token operator">+</span> M<span class="token punctuation">)</span> <span class="token operator">%</span> M<span class="token punctuation">;</span>
	<span class="token comment">// 解决哈希冲突</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>hashUsed<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> hashUsed<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">!=</span> hash<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// 遇上边界，继续加一会越界，因此将pos循环到0索引位置</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>pos <span class="token operator">==</span> M<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> pos<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// dfs搜索，(x,y,r)为炸弹信息，bomb 代表该点是否为 炸雷</span>
<span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> bool bomb<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token keyword">if</span><span class="token punctuation">(</span>bomb<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     used<span class="token punctuation">[</span><span class="token function">getPos</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token comment">// 遍历爆炸范围内所有的点</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> x <span class="token operator">-</span> r<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> x <span class="token operator">+</span> r<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> y <span class="token operator">-</span> r<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> y <span class="token operator">+</span> r<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Dist</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> r <span class="token operator">*</span> r<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">getPos</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token comment">// 该位置是一个炸雷且没有被引爆</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>used<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> id<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> points<span class="token punctuation">[</span>id<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">,</span> true<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> ret<span class="token punctuation">;</span>
	ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> m<span class="token punctuation">;</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>used<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> used<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 初始为 -1</span>
	<span class="token function">memset</span><span class="token punctuation">(</span>hashUsed<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> hashUsed<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 将炸雷散列后存储</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y <span class="token operator">&gt;&gt;</span> r<span class="token punctuation">;</span>
		points<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r <span class="token punctuation">}</span><span class="token punctuation">;</span>
		ll hash <span class="token operator">=</span> <span class="token function">hashCode</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">getPos</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// 散列的位置值为该位置的哈希值</span>
		hashUsed<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> hash<span class="token punctuation">;</span>
     <span class="token comment">// 建立对应关系</span>
		id<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y <span class="token operator">&gt;&gt;</span> r<span class="token punctuation">;</span>
		<span class="token function">dfs</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>r<span class="token punctuation">,</span>false<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">getPos</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// 该位置的炸雷被引爆</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>used<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>ret<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> ret<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<h2><a id="font_color05668D_Ifont_652"></a><font color="#05668D">🌻 I题：李白打酒加强版</font></h2>
<h3><a id="font_color00A896_font_654"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2662.html">题传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c74d2f3083824f5e8ed1db23ebdf99a9.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_660"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong><font color="#348AA7" size="5">状态表示</font></strong></p>
<p><strong>本题的解题核心是<font color="#FB5607">动态规划</font>，定义三维数组 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
        
        
         dp
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span></span> 存储状态，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          i
         
         
          ]
         
         
          [
         
         
          j
         
         
          ]
         
         
          [
         
         
          k
         
         
          ]
         
        
        
         dp[i][j][k]
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span></span></span></span></span> 表示路上遇到了 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          i
         
        
        
         i
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> 次店，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          j
         
        
        
         j
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span> 次花后，酒壶中酒剩余 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          k
         
        
        
         k
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span></span></span></span></span> 斗的方法数。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">状态初始化</font></strong></p>
<p><strong>初始情况李白没有遇到店、花，初始状态下酒壶中有 2 斗，因此定义 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          d
         
         
          p
         
         
          [
         
         
          0
         
         
          ]
         
         
          [
         
         
          0
         
         
          ]
         
         
          [
         
         
          2
         
         
          ]
         
         
          =
         
         
          1
         
        
        
         dp[0][0][2]=1
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 为初始状态。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">状态转移</font></strong></p>
<ul><li><strong>如果当前状态遇到一次店，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           i
          
          
           &gt;
          
          
           0
          
         
         
          i&gt;0
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69862em; vertical-align: -0.0391em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> 且 剩余酒的数量应该是之前的两倍，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           k
          
          
           %
          
          
           2
          
          
           =
          
          
           =
          
          
           0
          
         
         
          k\%2==0
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.80556em; vertical-align: -0.05556em;"></span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mord">%</span><span class="mord">2</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span> ，此时 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           d
          
          
           p
          
          
           [
          
          
           i
          
          
           ]
          
          
           [
          
          
           j
          
          
           ]
          
          
           [
          
          
           k
          
          
           ]
          
          
           +
          
          
           =
          
          
           d
          
          
           p
          
          
           [
          
          
           i
          
          
           −
          
          
           1
          
          
           ]
          
          
           [
          
          
           j
          
          
           ]
          
          
           [
          
          
           k
          
          
           /
          
          
           2
          
          
           ]
          
         
         
          dp[i][j][k]+=dp[i-1][j][k/2]
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">]</span></span></span></span></span></strong></li><li><strong>如果当前状态遇到一次花，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           j
          
          
           &gt;
          
          
           0
          
         
         
          j&gt;0
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>，此时 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           d
          
          
           p
          
          
           [
          
          
           i
          
          
           ]
          
          
           [
          
          
           j
          
          
           ]
          
          
           [
          
          
           k
          
          
           ]
          
          
           +
          
          
           =
          
          
           d
          
          
           p
          
          
           [
          
          
           i
          
          
           ]
          
          
           [
          
          
           j
          
          
           −
          
          
           1
          
          
           ]
          
          
           [
          
          
           k
          
          
           +
          
          
           1
          
          
           ]
          
         
         
          dp[i][j][k]+=dp[i][j-1][k+1]
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>，k+1 表示酒被喝掉了一斗。</strong></li></ul>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">返回结果</font></strong></p>
<p><strong>因为最后一次遇到的一定是花且剩余酒的数量为 0 ，不妨将状态转换为：<font color="#FB5607">共遇到 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           n
          
         
         
          n
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 次店，<span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           m
          
          
           −
          
          
           1
          
         
         
          m-1
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 次花且剩余酒的数量为 1，这样返回 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
       
        
         
          
           d
          
          
           p
          
          
           [
          
          
           n
          
          
           ]
          
          
           [
          
          
           m
          
          
           −
          
          
           1
          
          
           ]
          
          
           [
          
          
           1
          
          
           ]
          
         
         
          dp[n][m-1][1]
         
        
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span> 就是题目所求。</font>轻松拿下！</strong></p>
<div align="center">
<img alt="image-20200916114846002" src="https://img-blog.csdnimg.cn/img_convert/babfe2aecebea3bf61a82a606751dbb7.gif" width="200px"/>
</div>
</blockquote>
<h3><a id="font__color00A896_font_681"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c++">#include &lt;iostream&gt;
#include &lt;string.h&gt;
#define ll long long
const int M = 110;
ll dp[M][M][M];
const int mod = 1000000007;
using namespace std;
int main(){
	// 0 表示花 1 表示店
	memset(dp, 0, sizeof dp);
	dp[0][0][2] = 1;

	int n, m;
	cin &gt;&gt; n &gt;&gt; m;
	for (int i = 0; i &lt;= n; ++i) {
		for (int j = 0; j &lt;= m; ++j) {
			for (int k = 0; k &lt;= 101; ++k) {
				if (i == 0 &amp;&amp; j == 0) {
					continue;
				}
				else {
					// 店
					if (i &gt; 0 &amp;&amp; !(k &amp; 1)) {
						dp[i][j][k] += dp[i - 1][j][k / 2];
					}
					// 花
					if (j &gt; 0) {
						dp[i][j][k] += dp[i][j - 1][k + 1];
					}
					dp[i][j][k] %= mod;
				}
			}

		}
	}
	cout &lt;&lt; dp[n][m - 1][1];
	return 0;
}
</code></pre>
</blockquote>
<h2><a id="font_color05668D_Jfont_724"></a><font color="#05668D">🌻 J题：砍竹子</font></h2>
<h3><a id="font_color00A896_font_726"></a><font color="#00A896">🌷 题目描述</font></h3>
<blockquote>
<p><strong><a href="https://www.dotcpp.com/oj/problem2662.html">题传送门</a></strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4e7dceb35cfb4999af793767d28b85af.png"/></p>
</blockquote>
<h3><a id="font_color00A896_font_732"></a><font color="#00A896">🌷 解题思路</font></h3>
<blockquote>
<p><strong><font color="#348AA7" size="5">解题思路</font></strong></p>
<p><strong>本题的解法有很多，这里我使用的是<font color="#FB5607">优先队列 + 区间合并</font>来解决。</strong></p>
</blockquote>
<blockquote>
<p><font color="#5BC0BE"><strong>问题一：为什么使用优先队列呢？</strong></font></p>
<p><strong>可以这样思考，魔法只能够作用于相同高度连续的一段竹子上。<font color="#FB5607">也就是说对于最高的那一段竹子无法被作用于剩余竹子的魔法所干预，因此优先处理最高的一段竹子一定是最优解。</font>这也就是为什么需要使用优先队列，优先队列负责弹出高度最高的那一段区间。</strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#5BC0BE">问题二：如何处理区间呢？</font></strong></p>
<p><strong>魔法只能作用于相同高度且连续的一段竹子上，定义数据结构 <code>myNode</code> 代表一段相同高度且连续的区间，<code>l，r</code> 表示区间在的索引范围，<code>val</code> 表示这段竹子的高度。</strong></p>
<p><strong>既然优先队列弹出最高高度的区间段，<font color="#FB5607">很显然该区间段可能不止一个一段，可能是有多段。对于连续的区间段，可以将其拼接为一段区间</font>，就如下图所示：</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/724a93f6aaea4760ba84bc96ebaa8bd2.png"/></p>
<p><strong>上图中，区间1与区间2因为区间段连续可以合并，而区间3因为不与区间2连续因此无法合并。</strong></p>
<p>为<strong>了能够将所有连续的区间段合并，这就要需要优先队列中，<font color="#FB5607">如果区间最高高度相同，则按照区间次序排序。这样就能保证能够合并优先队列中的区间。</font></strong></p>
</blockquote>
<blockquote>
<p><strong><font color="#348AA7" size="5">代码逻辑</font></strong></p>
<p><strong>弹出队列中所有最高竹子的区间段，将能够合并的区间段进行合并，最后判断合并后剩余多少个区间段即是需要使用魔法的次数。随后将处理后的高度 <code>c_value</code> 修改剩余区间段的最高高度 <code>value</code> 并将其重新压入队列中。</strong></p>
</blockquote>
<h3><a id="font__color00A896_font_758"></a><font color="#00A896">🌷 代码编写</font></h3>
<blockquote>
<pre><code class="prism language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> ll long long</span>
using namespace std<span class="token punctuation">;</span>
<span class="token comment">// 区间数据结构</span>
class myNode
<span class="token punctuation">{<!-- --></span>
public <span class="token punctuation">:</span>
	<span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span>
	ll val<span class="token punctuation">;</span>
	<span class="token function">myNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> ll val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		this<span class="token operator">-&gt;</span>l <span class="token operator">=</span> l<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>
		this<span class="token operator">-&gt;</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 自定义排序方式</span>
bool operator <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> myNode<span class="token operator">&amp;</span> t<span class="token punctuation">,</span><span class="token keyword">const</span> myNode<span class="token operator">&amp;</span> node<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>val <span class="token operator">==</span> node<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> t<span class="token punctuation">.</span>l <span class="token operator">&gt;</span> node<span class="token punctuation">.</span>l<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> t<span class="token punctuation">.</span>val <span class="token operator">&lt;</span> node<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
 <span class="token comment">// 优先队列</span>
	priority_queue<span class="token operator">&lt;</span>myNode<span class="token operator">&gt;</span>qu<span class="token punctuation">;</span>
	<span class="token keyword">int</span> n<span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>ll<span class="token operator">&gt;</span>nums<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		ll val<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> val<span class="token punctuation">;</span>
		nums<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 <span class="token comment">// 存入区间的初始化状态</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span>
		l <span class="token operator">=</span> r <span class="token operator">=</span> i<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>r <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>r<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		i <span class="token operator">=</span> r<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">myNode</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>qu<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		myNode top <span class="token operator">=</span> qu<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> left <span class="token operator">=</span> top<span class="token punctuation">.</span>l<span class="token punctuation">;</span>
		<span class="token keyword">int</span> right <span class="token operator">=</span> top<span class="token punctuation">.</span>r<span class="token punctuation">;</span>
		ll value <span class="token operator">=</span> top<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
     <span class="token comment">// 被魔法处理后的区间高度</span>
		ll c_value <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>value <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		qu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 合并区间</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>qu<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> qu<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>val <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			myNode tmp <span class="token operator">=</span> qu<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> l <span class="token operator">=</span> tmp<span class="token punctuation">.</span>l<span class="token punctuation">;</span>
			<span class="token keyword">int</span> r <span class="token operator">=</span> tmp<span class="token punctuation">.</span>r<span class="token punctuation">;</span>
			qu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token comment">// 能够区间合并</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> right <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				right <span class="token operator">=</span> r<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
         <span class="token comment">// 无法区间合并</span>
			<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>c_value <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> left<span class="token punctuation">,</span>right<span class="token punctuation">,</span>c_value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				left <span class="token operator">=</span> l<span class="token punctuation">;</span>
				right <span class="token operator">=</span> r<span class="token punctuation">;</span>
				<span class="token operator">++</span>t<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>c_value <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> left<span class="token punctuation">,</span>right<span class="token punctuation">,</span>c_value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token operator">++</span>t<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> t<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</blockquote>
<blockquote>
<h1><a id="font_color05668Dfont_850"></a><font color="#05668D">💗写在最后</font></h1>
<p><strong>总的来说，这次C++ B组的题目考察的知识点没有过分的难，基本上是常考的例如搜索、BFS、DFS、前缀和、二分等等，因此我相信只需要充分准备在赛场上还是能够得心应手。</strong></p>
<p><strong>最后感谢你的观看💗</strong></p>
<div align="center">
<img alt="image-20200916114846002" src="https://pic1.zhimg.com/80/v2-5a4249ca2239ee07a03879ff93a8e4e7_720w.jpg" width="200px"/>
</div>
</blockquote>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>