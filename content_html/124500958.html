<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#_5">前言</a></li><li><a href="#_librdkafkadev_10">一、安装 librdkafka-dev</a></li><li><a href="#_rdkafka_17">二、安装 rdkafka</a></li><li><a href="#composer_29">三、composer引入</a></li><li><a href="#_42">总结</a></li></ul>
</div>
<p></p>
<hr/>
<h1><a id="_5"></a>前言</h1>
<p>Laravel版本为9.2，php环境是docker部署，镜像系统alpine3.15，使用的composer包为mateusjunges/laravel-kafka</p>
<hr/>
<h1><a id="_librdkafkadev_10"></a>一、安装 librdkafka-dev</h1>
<p>打开终端，进入容器内部</p>
<pre><code class="prism language-bash">apk <span class="token function">add</span> librdkafka-dev
</code></pre>
<h1><a id="_rdkafka_17"></a>二、安装 rdkafka</h1>
<blockquote>
<p>参考文档：https://github.com/edenhill/librdkafka#installation</p>
</blockquote>
<p>通过pecl来安装就好</p>
<pre><code class="prism language-bash">pecl <span class="token function">install</span> rdkafka
</code></pre>
<p>安装完后启动该拓展，当然也可以手动把rakafka.so文件添加进php.ini</p>
<pre><code class="prism language-bash">docker-php-ext-enable rdkafka
</code></pre>
<h1><a id="composer_29"></a>三、composer引入</h1>
<blockquote>
<p>参考文档：https://junges.dev/documentation/laravel-kafka/v1.7/3-installation-and-setup</p>
</blockquote>
<pre><code class="prism language-bash"><span class="token comment"># 安装</span>
<span class="token function">composer</span> require mateusjunges/laravel-kafka
<span class="token comment"># 发布配置</span>
php artisan vendor:publish --tag<span class="token operator">=</span>laravel-kafka-config
</code></pre>
<hr/>
<h1><a id="_42"></a>总结</h1>
<p>安装librdkafka-dev 和 rdkafka 的过程其实可以写在dockerfile，构建的时候直接装好。</p>
<p>收工</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>