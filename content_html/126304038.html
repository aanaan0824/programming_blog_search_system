<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<blockquote>
<ul><li>🧛‍♂️<strong>iecne个人主页：<strong><strong><strong><strong><strong><strong><strong><a href="https://blog.csdn.net/CSDN_linyanchen?spm=1000.2115.3001.5343" title="点赞关注收藏评论支持哦~">点赞关注收藏评论支持哦~</a></strong></strong></strong></strong></strong></strong></strong></strong></li><li>💡每天<strong>关注</strong>iecne的作品，一起进步</li><li>✨一起学习内容<strong>专栏</strong>：<a href="https://blog.csdn.net/csdn_linyanchen/category_11929084.html" title="C++保姆级入门教程">C++保姆级入门教程</a>  <a href="https://blog.csdn.net/csdn_linyanchen/category_11946217.html" title="C++每日一题">C++每日一题</a> <a href="https://blog.csdn.net/csdn_linyanchen/category_11940107.html" title=" C++游戏设计教程"> C++游戏设计教程</a></li><li>👉本文收录<strong>专栏</strong>：<a href="https://blog.csdn.net/csdn_linyanchen/category_11958992.html" title="游戏引擎 ">游戏引擎 </a><a class="link-info" href="https://blog.csdn.net/csdn_linyanchen/category_11977065.html" title="【实战小项目】">【实战小项目】</a></li><li>🐳希望大家多多支持🥰一起进步呀！</li></ul>
</blockquote>
<p><strong>目录</strong></p>
<p style="margin-left:0px;"><a href="#%E2%9C%A8%E5%89%8D%E8%A8%80">✨前言</a></p>
<p style="margin-left:0px;"><a href="#%E5%87%86%E5%A4%87%C2%A0">准备 </a></p>
<p style="margin-left:0px;"><a href="#%E6%98%BE%E7%A4%BA%E6%96%87%E6%9C%AC">显示文本</a></p>
<p style="margin-left:40px;"><a href="#1%EF%BC%89%E5%88%9B%E5%BB%BAText">1）创建Text</a></p>
<p style="margin-left:40px;"><a href="#2%EF%BC%89%E5%B1%85%E4%B8%AD%E6%98%BE%E7%A4%BA">2）居中显示</a></p>
<p style="margin-left:0px;"><a href="#%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0">动画的实现</a></p>
<p style="margin-left:0px;"><a href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">完整代码</a></p>
<p style="margin-left:0px;"><a href="#%E5%85%B3%E4%BA%8E%E5%91%BD%E5%90%8D"> 关于命名</a></p>
<p style="margin-left:0px;"><a href="#%E5%9B%9B.%E6%80%BB%E7%BB%93">总结</a></p>
<p> </p>
<hr/>
<h1>✨前言</h1>
<blockquote>
<p>哈喽大家好，我是<strong>iecne</strong>，本期为大家带来的是CPP/C++游戏引擎Easy2D教程 —— 旋转的文字，包教包会，快来看看吧！</p>
<p>引擎支持 Visual Studio 2013 及以上版本，如果你使用的是较低版本的 VS，那么你需要考虑一下更新你的编译器了</p>
</blockquote>
<p style="text-align:center;"><img alt="9fefcc6af8d849278e4a4eef310a82af.png" src="https://img-blog.csdnimg.cn/9fefcc6af8d849278e4a4eef310a82af.png"/>​</p>
<p> </p>
<hr/>
<h1>准备 </h1>
<p>在 VS 中写好我们新手入门里学习的基本代码，运行后显示一个 300*300 大小的窗口。</p>
<div>
<pre><code class="language-cpp">#include &lt;easy2d/easy2d.h&gt;

using namespace easy2d;

int main()
{
    if (Game::init())
    {
        // 设置窗口标题和窗口大小
        Window::setTitle(L"Rotating Text");
        Window::setSize(300, 300);

        /* 设计游戏内容 */

        Game::start();
    }
    Game::destroy();
    return 0;
}</code></pre>
</div>
<p>记得加上iostream 和 std，必要的时候可以用到</p>
<div>
<pre><code class="language-cpp">#include &lt;easy2d/easy2d.h&gt;
#include &lt;iostream&gt;

using namespace std;
using namespace easy2d;

int main()
{
    if (Game::init())
    {
        // 设置窗口标题和窗口大小
        Window::setTitle(L"Rotating Text");
        Window::setSize(300, 300);

        /* 设计游戏内容 */

        Game::start();
    }
    Game::destroy();
    return 0;
}</code></pre>
</div>
<p>这基本上就是一个固定的框架，基本不需要改变 </p>
<hr/>
<h1>显示文本</h1>
<h2>1）创建Text</h2>
<p>在<strong>设计游戏内容</strong>的部分，创建一个场景和一个 Text 对象，然后文本添加到场景中。</p>
<div>
<pre><code class="language-cpp">#include &lt;easy2d/easy2d.h&gt;

using namespace easy2d;

int main()
{
    if (Game::init())
    {
        // 设置窗口标题和窗口大小
        Window::setTitle(L"Rotating Text");
        Window::setSize(300, 300);

        // 创建场景
        auto scene = gcnew Scene;
        // 进入该场景
        SceneManager::enter(scene);

        // 创建一个 Text 对象
        auto test = gcnew Text(L"Hello Easy2D!");
        // 将 Text 添加到场景中
        scene-&gt;addChild(test);

        Game::start();
    }
    Game::destroy();
    return 0;
}</code></pre>
</div>
<p>格式如下：</p>
<p><strong>auto 名字 = new (gcnew) Text(L"要输入的文本");</strong></p>
<p>将创建好的节点加入到场景中，它将显示在画面上</p>
<hr/>
<h2>2）居中显示</h2>
<p>用我们在新手入门中学到的方法，修改文本中心点和文本坐标，让它在屏幕上居中显示</p>
<p>我们上节课学习了坐标来控制精灵，我们复习一下</p>
<p> 现在我们想完整地看到精灵，可以把精灵向右下方移动宽度和高度的一半，这样整个精灵就显示在屏幕中了。</p>
<p><code>Node::getWidth</code>和<code>Node::getHeight</code>函数可以获取节点的宽度和高度，如下所示</p>
<div>
<pre><code class="language-cpp">// 获取精灵的宽度
float width = sprite-&gt;getWidth();
// 获取精灵高度
float height = sprite-&gt;getHeight();
</code></pre>
</div>
<p><code>Node::setPos</code> 函数用来直接设置节点在屏幕上的位置，它需要两个 float 类型的参数，分别表示节点的 x 坐标和 y 坐标。</p>
<div>
<pre><code class="language-cpp">// 移动精灵的位置
sprite-&gt;setPos(width / 2, height / 2);
</code></pre>
</div>
<p> 节点的中心点为它的正中心时，如果把它的 x 坐标设置为屏幕宽度的一半，y 坐标设置为屏幕高度的一半，那么它将显示在屏幕正中央。</p>
<div>
<pre><code class="language-cpp">// 获取窗口宽度
float width = Window::getWidth();
// 获取窗口高度
float height = Window::getHeight();
// 移动精灵到屏幕中央
sprite-&gt;setPos(width / 2, height / 2);
</code></pre>
</div>
<p> 所以代码如下：</p>
<div>
<pre><code class="language-cpp">#include &lt;easy2d/easy2d.h&gt;

using namespace easy2d;

int main()
{
    if (Game::init())
    {
        // 设置窗口标题和窗口大小
        Window::setTitle(L"Rotating Text");
        Window::setSize(300, 300);

        // 创建场景
        auto scene = gcnew Scene;
        // 进入该场景
        SceneManager::enter(scene);

        // 创建一个 Text 对象
        auto text = gcnew Text(L"Hello Easy2D!");
        // 将 Text 添加到场景中
        scene-&gt;addChild(text);

        // 居中显示在屏幕上
        text-&gt;setAnchor(0.5f, 0.5f);
        text-&gt;setPos(Window::getWidth() / 2, Window::getHeight() / 2);

        Game::start();
    }
    Game::destroy();
    return 0;
}</code></pre>
</div>
<p>运行后的结果如下图所示</p>
<p> </p>
<div>
<p><img alt="197338d73e1272b3f589153b6c181ce1.png" src="https://img-blog.csdnimg.cn/img_convert/197338d73e1272b3f589153b6c181ce1.png"/>​</p>
</div>
<hr/>
<h1>动画的实现</h1>
<p>实现动画有很多种方式，我们使用一个新概念来实现这个功能，它的名字叫 <strong><code>Action</code></strong>(动作)。</p>
<p>Action 可以让一个节点动起来，它有许多的派生类，分别实现不同的效果。例如 <strong><code>RotateTo</code></strong> 可以让节点在一定时间内旋转至一定的角度，它的构造函数需要两个 float 类型的参数，一个代表动作时长（秒），另一个代表旋转后的角度。</p>
<pre><code class="language-cpp">// 创建一个旋转动画，3 秒后旋转至 180 度
auto rotate = gcnew RotateTo(3, 180);
</code></pre>
<p><strong><code>Node::runAction</code></strong> 可以让节点执行一个动作，添加下面的代码并运行，可以看到文本慢慢旋转至了 180 度。</p>
<pre><code class="language-cpp">// 让 Text 执行这个动作
text-&gt;runAction(rotate);
</code></pre>
<p>为了让节点不停地旋转，我们不使用 RotateTo 这个动作，而是使用 <strong><code>RotateBy</code></strong>。RotateBy 也是旋转动画，它与 RotateTo 不同的是，它表示一段相对的旋转。</p>
<p>我们刚刚测试的动画，无论节点一开始的角度是多少，它 3 秒后都旋转到 180 度。也就是说，这个动画运行的结果是一定的，那就是文本倒立显示在屏幕上。</p>
<p style="text-align:center;"><img alt="ce959628c6474beab1ea51d84a92c682.png" src="https://img-blog.csdnimg.cn/ce959628c6474beab1ea51d84a92c682.png"/></p>
<p> </p>
<p>而 RotateBy 动画是一段相对动画，如果节点一开始的角度是 20 度，那么 3 秒后它将旋转到 200 度（20+180=200）。</p>
<p>删掉刚刚创建的旋转动画，重新创建一段 RotateBy 动画</p>
<pre><code class="language-cpp">// 创建一个旋转动画，1 秒内顺时针旋转 60 度
auto rotate = gcnew RotateBy(1, 60);
</code></pre>
<p> 但这个动画也不是无限运行的，它 1 秒钟后就会结束。</p>
<p><strong><code>Loop</code></strong> 用来创建一段循环动画，它可以让另一个动作不断的执行。</p>
<pre><code class="language-cpp">// 创建一个循环动画
auto action = gcnew Loop(rotate);
</code></pre>
<p>执行这个动画，文本将一直旋转，永远都不会停下来。</p>
<pre><code class="language-cpp">// 让 Text 执行这个动作
text-&gt;runAction(action);
</code></pre>
<hr/>
<h1>完整代码</h1>
<pre><code class="language-cpp">#include &lt;easy2d/easy2d.h&gt;
#include &lt;iostream&gt;

using namespace std;
using namespace easy2d;

int main()
{
    if (Game::init())
    {
        // 设置窗口标题和窗口大小
        Window::setTitle(L"Rotating Text");
        Window::setSize(300, 300);

        // 创建场景
        auto scene = gcnew Scene;
        // 进入该场景
        SceneManager::enter(scene);

        // 创建一个 Text 对象
        auto text = gcnew Text(L"Hello Easy2D!");
        // 将 Text 添加到场景中
        scene-&gt;addChild(text);

        // 居中显示在屏幕上
        text-&gt;setAnchor(0.5f, 0.5f);
        text-&gt;setPos(Window::getWidth() / 2, Window::getHeight() / 2);

        // 创建一个旋转动画，1 秒内顺时针旋转 60 度
        auto rotate = gcnew RotateBy(1, 60);
        // 创建一个循环动画
        auto action = gcnew Loop(rotate);
        // 让 Text 执行这个动作
        text-&gt;runAction(action);

        Game::start();
    }
    Game::destroy();
    return 0;
}</code></pre>
<hr/>
<h1> 关于命名</h1>
<p>Easy2D 按照以下规律命名函数：</p>
<blockquote>
<ul><li>小驼峰式命名法则，第一个单词小写，后面的单词首字母大写，如<code>Window::setTitle</code></li><li>所有函数均按照<code>动词</code>+<code>名语</code>形式命名，如<code>Logger::showConsole</code></li><li>获取对象的属性值：<code>get</code>+<code>属性名</code>，如<code>Node::getWidth</code></li><li>修改对象的属性值：<code>set</code>+<code>属性名</code>，如<code>Node::setPos</code></li><li>获取对象的状态(bool值)：<code>is</code>+<code>状态名</code>，如<code>Node::isVisiable</code></li></ul>
</blockquote>
<hr/>
<h1>总结</h1>
<p> 本节课主要是讲解了Easy2D引擎实现的教程，至此该课示例的思想博主已经真真切切彻彻底底分享完了，相信大家对这个逻辑有了一定的理解，大家可以自己动手敲敲代码，感受一下，包教包会。</p>
<blockquote>
<p><em><strong>帅的人已然点赞收藏关注，而丑的人还在犹豫，被犹豫了，快三连吧！</strong></em></p>
<p> </p>
<p><em><strong>原创不易，还希望各位大佬支持一下</strong></em></p>
<p> </p>
<p><em><strong>点赞，你的认可是我创作的动力！</strong></em></p>
<p> </p>
<p><em><strong>收藏，你的青睐是我努力的方向！</strong></em></p>
<p> </p>
<p><em><strong>评论，你的意见是我进步的财富！</strong></em></p>
<p> </p>
</blockquote>
<hr/>
<p>  感谢每一个观看本篇文章的朋友，更多精彩敬请期待：<a href="https://blog.csdn.net/CSDN_linyanchen?spm=1000.2115.3001.5343" title="iecne的博客_CSDN博客-C++保姆级入门教程领域博主">iecne的博客_CSDN博客-C++保姆级入门教程领域博主</a></p>
<p>文章存在借鉴，如有侵权请联系修改删除！<img alt="dd8b4788b2554df4bec4b8202395cad2.gif" src="https://img-blog.csdnimg.cn/dd8b4788b2554df4bec4b8202395cad2.gif"/></p>
<p> </p>
<p> </p>
<p> </p>
</div>
</div>