<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p>若该文为原创文章，转载请注明原文出处<br/> 本文章博客地址：<a href="https://hpzwl.blog.csdn.net/article/details/124527752">https://hpzwl.blog.csdn.net/article/details/124527752</a></p>
<p><a href="https://hpzwl.blog.csdn.net/article/details/102478062">红胖子(红模仿)的博文大全：开发技术集合（包含Qt实用技术、树莓派、三维、OpenCV、OpenGL、ffmpeg、OSG、单片机、软硬结合等等）持续更新中…（点击传送门）</a></p>
<h1><a id="Qthttpsblogcsdnnetqq21497936articledetails102478062QtE5BC80E58F91E4B893E6A08FEFBC9AE887AAE5B8A6E5BA93E5928CE4B889E696B9E5BA93E79A84E4BDBFE794A8_4"></a><a href="https://blog.csdn.net/qq21497936/article/details/102478062#Qt%E5%BC%80%E5%8F%91%E4%B8%93%E6%A0%8F%EF%BC%9A%E8%87%AA%E5%B8%A6%E5%BA%93%E5%92%8C%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8">Qt开发专栏：三方库开发技术</a></h1>
<p>上一篇：没有了<br/> 下一篇：《<a href="https://hpzwl.blog.csdn.net/article/details/124567140">QCustomPlot开发笔记（二）：QCustomPlot用户交互、元素项以及特殊用法</a>》</p>
<br/>
<h1><a id="_10"></a>前言</h1>
<p>  QCustomPlot开发笔记系列整理集合，这是目前使用最为广泛的Qt图表类（Qt的QWidget代码方向只有QtCharts，Qwt，QCustomPlot），使用多年，系统性的整理，过目并整理了原有文档，本系列旨在系统解说并逐步更新其各种Demo示例。</p>
<br/>
<h1><a id="_15"></a>多年前文章</h1>
<p>  （本篇不再整理了）<br/>   《<a href="https://blog.csdn.net/qq21497936/article/details/77847820">Qt开发笔记之QCustomPlot：QCustomPlot介绍、编译与使用</a>》</p>
<br/>
<h1><a id="QCustomPlot_21"></a>QCustomPlot介绍</h1>
<h2><a id="_22"></a>简介</h2>
<p>  QCustomPlot是一个小型的qt画图标类，效果可以，易用，只需要在项目中加入头文件<strong>qcustomplot.h</strong>和<strong>qcustomplot.cpp</strong>文件，然后使一个widget提升为QCustomPlot类，即可使用。<br/>   QCustomPlot 可以导出为各种格式，如矢量化 PDF 文件和光栅化图像，如 PNG、JPG 和 BMP。QCustomPlot 是在应用程序内显示实时数据以及为其他媒体生成高质量绘图的解决方案。</p>
<h2><a id="_25"></a>支持的图形</h2>
<p>  下图显示了使用 QCustomPlot 仅用几行可以实现的功能。要查看代码，请单击相应的图像。所有代码也可在完整包中找到。<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/90d2992f1c8c4ef2b46477be3e1dbc73.png"/></p>
<h2><a id="_28"></a>优点与缺点</h2>
<h3><a id="_29"></a>从性能角度</h3>
<p>  QCustomPlot是一个比较完善的框架，其框架和缓存化的处理使其处理性能大幅度提升（设置笔宽为1，可撑起几百万点），而QtCharts只是一个半成品，不论是否有bug，QtCharts在两千个点以内是可以使用的，超过两千个点就存在刷新卡顿的问题（很大可能）。</p>
<h3><a id="_31"></a>从定制化角度</h3>
<p>  QCustomPlot修改源码因为其是一步一步继承过来的，修改起来是比较麻烦的，还需要反复调试以防止修改了代码出现了其他问题，入添加一个少则半天一天，多则几天，所以如果需要定制修改QCustomoPlot源码的需求，是需要进一步仔细评估是否值得这么做。</p>
<h2><a id="_33"></a>下载地址</h2>
<p>  最新版本：2.1.0<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0d016a9b29074585ac1e3c051c4b38b3.png"/><br/>   官网：<a href="https://www.qcustomplot.com/index.php/introduction">https://www.qcustomplot.com/index.php/introduction</a><br/>   CSDN粉丝零积分下载：<a href="https://download.csdn.net/download/qq21497936/85250427">https://download.csdn.net/download/qq21497936/85250427</a><br/>   QQ群：<strong>1047134658</strong>（点击“<strong>文件</strong>”搜索“<strong>qcustomplot</strong>”，群内与博文同步更新）</p>
<br/>
<h1><a id="QCustomPlot_42"></a>QCustomPlot的部署</h1>
<p>  直接下载后，将其中的<strong>qcstomplot.h</strong>和<strong>qcustomplot.cpp</strong>当作项目文件添加即可：<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/699cb8bd8a4b4d0f9070e4306b0af18e.png"/><br/>   更好的方式是模块化部署，如下图;<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8a059b06268144b9989c2411ec2dfb68.png"/></p>
<br/>
<h1><a id="QCustomPlot_50"></a>QCustomPlot基础绘图</h1>
<p>  （注意：以下示例使用customPlot作为指向QCustomPlot实例的指针。在QtCreator中升级了一个小部件，可能会通过ui-&gt;customPlot（或者给小部件起的任何名字）访问相应的小部件。）</p>
<h2><a id="_52"></a>添加图形</h2>
<p>  可以通过<strong>customPlot-&gt;addGraph()<strong>在绘图中创建新的图形。然后为图形指定一些数据点，例如通过</strong>customPlot-&gt;graph(0)-&gt;setData(…)</strong>，例如，以两个QVector&lt; double &gt;的形式表示x和y（键和值）。QCustomPlot使用术语键和值而不是x和y的原因是，在指定哪个轴具有什么角色时允许更大的灵活性。<br/>   因此，如果将左轴定义为“关键轴”，将底部定义为“值轴”，则可以绘制一个竖立在绘图左侧的图形。默认情况下，QCustomPlot小部件有四个轴：<strong>customPlot-&gt;xAxis、yAxis、xAxis2和QCPAxis类型的yAxis2</strong>，对应于底部、左侧、顶部和右侧轴。它们的范围定义了绘图的当前可见部分：customPlot-&gt;xAxis-&gt;setRange(-1，1)。</p>
<pre><code class="prism language-cpp"><span class="token comment">// generate some data:</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// initialize with entries 0..100</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token operator">/</span><span class="token number">50.0</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// x goes from -1 to 1</span>
  y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// let's plot a quadratic function</span>
<span class="token punctuation">}</span>
<span class="token comment">// create graph and assign data to it:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// give the axes some labels:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"y"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set axes ranges, so we see all data:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">replot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6853822643fa46a893eae890fb20e8e4.png"/><br/>   轴当前使用的轴标记器会自动选择标记步骤和标签。这是QCPAxisTicker类型的实例，可以通过<strong>xAxis-&gt;ticker()</strong> 访问。可以通过<strong>xAxis-&gt;ticker()-&gt;setTickCount(6)</strong> 调整ticker尝试创建的大致刻度数。默认的轴标记器非常适合简单的数字显示，但是有专门的类别，例如时间跨度、日历日期、类别、pi（或其他符号单位）和对数轴。参阅QCPAxisTicker文档。<br/>   轴的刻度标签（数字）永远不会到达小部件边界之外，即使它们变宽了。这是由于默认情况下启用了自动保证计算。如果记号标签和轴标签需要更多空间，它会使轴矩形收缩。如果不希望自动确定边距，请通过调用<strong>customPlot-&gt;axisRect()-&gt;setAutoMargins(QCP::msNone)</strong> 禁用该行为。然后可以通过<strong>customPlot-&gt;axisRect()-&gt;setMargins(…)</strong> 手动调整边距。</p>
<h2><a id="_77"></a>视图定制</h2>
<h3><a id="_78"></a>图形</h3>
<p>  图形的外观由许多因素决定，所有这些因素都可以修改。以下是最重要的：</p>
<ul><li><strong>线型</strong>：调用<strong>graph-&gt;setLineStyle(…)</strong>。有关所有可能的线条样式，请参阅<strong>QCPGraph::LineStyle</strong>文档或简介页面上的线条样式演示屏幕截图。</li><li><strong>线条笔</strong>：QPainter 框架提供的所有笔都可用，例如实线、虚线、点线、不同的宽度、颜色、透明度等。通过 设置配置的笔<strong>graph-&gt;setPen(…)</strong>。</li><li><strong>散点符号</strong>：调用 <strong>graph-&gt;setScatterStyle(…)</strong> 以更改散点符号的外观。对于所有可能的散布样式，请参阅QCPScatterStyle文档。如果不希望在数据点处显示任何散点符号，请将图形的散点样式设置为 <strong>QCPScatterStyle::ssNone</strong></li><li><strong>在图形下或两个图形之间填充</strong>：QPainter 框架提供的所有画笔都可以用于图形填充：实心、各种图案、纹理、渐变、颜色、透明度等，通过设置配置画笔<strong>graph-&gt;setBrush(…)</strong>。</li></ul>
<h3><a id="_84"></a>轴</h3>
<p>  轴的外观可以通过更改其绘制的笔及其标签使用的字体来修改。查看QCPAxis的文档应该是不言自明的。下面是最重要属性的快速总结：<strong>setBasePen</strong>、<strong>setTickPen</strong>、<strong>setTickLength</strong>、<strong>setSubTickLength</strong>、<strong>setSubTickPen</strong>、<strong>setTickLabelFont</strong>、<strong>setLabelFont</strong>、<strong>setTickLabelPadding</strong>、<strong>setLabelPadding</strong>。可以使用setRangeReversed反转轴（例如，使值从左到右减少而不是增加）。如果要在轴端进行装饰（如箭头），请使用setLowerEnding或SetPerEnding。</p>
<h3><a id="_86"></a>网格线</h3>
<p>  通过访问axis的相应QCPGrid实例来修改网格。例如，通过访问**customPlot-&gt;yAxis-&gt;grid()<strong>来更改与左轴相连的水平网格线的外观。网格线的外观基本上是用画笔绘制的，可以通过</strong>yAxis-&gt;grid()-&gt;setPen()<strong>进行设置。勾号0处的网格线可以使用其他笔绘制，也可以使用setZeroLinePen进行配置。如果不想用特殊的钢笔画零线，只需将其设置为Qt::NoPen，勾号0处的网格线将用普通的网格笔画出来。<br/> 默认情况下，子栅格线设置为不可见。可以使用</strong>grid()-&gt;setSubGridVisible(true)**使其可见。</p>
<h2><a id="_89"></a>官方示例</h2>
<p>  两个图的简单图<br/>   下面是一个创建具有指数包络的衰减余弦函数图像的示例：<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3e7795ff3a3244a982cb12297d97fdc0.png"/></p>
<pre><code class="prism language-cpp"><span class="token comment">// add two new graphs and set their look:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// line color blue for first graph</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// first graph will be filled with translucent blue</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// line color blue for second graph</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// line color red for second graph</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// generate some points of data (y0 for first, y1 for second graph):</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">251</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y0</span><span class="token punctuation">(</span><span class="token number">251</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y1</span><span class="token punctuation">(</span><span class="token number">251</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">251</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
  <span class="token comment">// exponentially decaying cosine</span>
  y0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">qExp</span><span class="token punctuation">(</span><span class="token operator">-</span>i<span class="token operator">/</span><span class="token number">150.0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">qCos</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token comment">// exponential envelope</span>
  y1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">qExp</span><span class="token punctuation">(</span><span class="token operator">-</span>i<span class="token operator">/</span><span class="token number">150.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              
<span class="token punctuation">}</span>
<span class="token comment">// configure right and top axis to show ticks but no labels:</span>
<span class="token comment">// (see QCPAxisRect::setupFullAxesBox for a quicker method to do this)</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setTickLabels</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setTickLabels</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// make left and bottom axes always transfer their ranges to right and top axes:</span>
<span class="token function">connect</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>xAxis<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">rangeChanged</span><span class="token punctuation">(</span>QCPRange<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">setRange</span><span class="token punctuation">(</span>QCPRange<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">connect</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>yAxis<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">rangeChanged</span><span class="token punctuation">(</span>QCPRange<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">setRange</span><span class="token punctuation">(</span>QCPRange<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// pass data points to graphs:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y0<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// let the ranges scale themselves so graph 0 fits perfectly in the visible area:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">rescaleAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// same thing for graph 1, but only enlarge ranges (in case graph 1 is smaller than graph 0):</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">rescaleAxes</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Note: we could have also just called customPlot-&gt;rescaleAxes(); instead</span>
<span class="token comment">// Allow user to drag axis ranges with mouse, zoom with mouse wheel and select graphs by clicking:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">setInteractions</span><span class="token punctuation">(</span>QCP<span class="token double-colon punctuation">::</span>iRangeDrag <span class="token operator">|</span> QCP<span class="token double-colon punctuation">::</span>iRangeZoom <span class="token operator">|</span> QCP<span class="token double-colon punctuation">::</span>iSelectPlottables<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  以上，是将填充应用于图形就像设置一个不是Qt::NoBrush的笔刷一样简单。填充将从图形（此处为图形0）到与键（此处为x）轴平行的零值线。如果我们想在这个图和另一个图之间填充通道，我们会另外调用<strong>graph-&gt;setChannelFillGraph(otherGraph)</strong>。要删除通道填充，只需像其他图形一样传递0，填充将像以前一样一直到达零值线。要完全删除填充，请调用<strong>graph-&gt;setBrush(Qt::NoBrush)</strong>。<br/> 使用多轴打印和更高级的样式<br/>   一个更复杂的示例，用于创建演示如下图，其中包含<strong>四个轴上的五个图形、纹理填充、垂直错误条、图例、小数点分隔符</strong>等。</p>
<pre><code class="prism language-cpp"><span class="token comment">// period as decimal separator and comma as thousand separator</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token function">QLocale</span><span class="token punctuation">(</span>QLocale<span class="token double-colon punctuation">::</span>English<span class="token punctuation">,</span> QLocale<span class="token double-colon punctuation">::</span>UnitedKingdom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
customPlot<span class="token operator">-&gt;</span>legend<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// start out with MainWindow's font..</span>
QFont legendFont <span class="token operator">=</span> <span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// and make a bit smaller for legend</span>
legendFont<span class="token punctuation">.</span><span class="token function">setPointSize</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
customPlot<span class="token operator">-&gt;</span>legend<span class="token operator">-&gt;</span><span class="token function">setFont</span><span class="token punctuation">(</span>legendFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// by default, the legend is in the inset layout of the main axis rect. So this is how we access it to change legend placement:</span>
customPlot<span class="token operator">-&gt;</span>legend<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">230</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">axisRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">insetLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setInsetAlignment</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>AlignBottom<span class="token operator">|</span>Qt<span class="token double-colon punctuation">::</span>AlignRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// setup for graph 0: key axis left, value axis bottom</span>
<span class="token comment">// will contain left maxwell-like function</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>yAxis<span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>xAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// fill with texture of specified image</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">"./balboa.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setLineStyle</span><span class="token punctuation">(</span>QCPGraph<span class="token double-colon punctuation">::</span>lsLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setScatterStyle</span><span class="token punctuation">(</span><span class="token function">QCPScatterStyle</span><span class="token punctuation">(</span>QCPScatterStyle<span class="token double-colon punctuation">::</span>ssDisc<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Left maxwell function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// setup for graph 1: key axis bottom, value axis left (those are the default axes)</span>
<span class="token comment">// will contain bottom maxwell-like function with error bars</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// same fill as we used for graph 0</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span><span class="token function">QPixmap</span><span class="token punctuation">(</span><span class="token string">"./balboa.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setLineStyle</span><span class="token punctuation">(</span>QCPGraph<span class="token double-colon punctuation">::</span>lsStepCenter<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setScatterStyle</span><span class="token punctuation">(</span><span class="token function">QCPScatterStyle</span><span class="token punctuation">(</span>QCPScatterStyle<span class="token double-colon punctuation">::</span>ssCircle<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>red<span class="token punctuation">,</span> Qt<span class="token double-colon punctuation">::</span>white<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Bottom maxwell function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QCPErrorBars <span class="token operator">*</span>errorBars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QCPErrorBars</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>xAxis<span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>yAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
errorBars<span class="token operator">-&gt;</span><span class="token function">removeFromLegend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
errorBars<span class="token operator">-&gt;</span><span class="token function">setDataPlottable</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// setup for graph 2: key axis top, value axis right</span>
<span class="token comment">// will contain high frequency sine with low frequency beating:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"High frequency sine"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// setup for graph 3: same axes as graph 2</span>
<span class="token comment">// will contain low frequency beating envelope of graph 2</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token punctuation">)</span><span class="token punctuation">;</span>
QPen blueDotPen<span class="token punctuation">;</span>
blueDotPen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
blueDotPen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token double-colon punctuation">::</span>DotLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
blueDotPen<span class="token punctuation">.</span><span class="token function">setWidthF</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span>blueDotPen<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Sine envelope"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// setup for graph 4: key axis right, value axis top</span>
<span class="token comment">// will contain parabolically distributed data points with some random perturbance</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setLineStyle</span><span class="token punctuation">(</span>QCPGraph<span class="token double-colon punctuation">::</span>lsNone<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setScatterStyle</span><span class="token punctuation">(</span><span class="token function">QCPScatterStyle</span><span class="token punctuation">(</span>QCPScatterStyle<span class="token double-colon punctuation">::</span>ssCircle<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Some random data around\na quadratic function"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// generate data, just playing with numbers, not much to learn here:</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x0</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y0</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x1</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y1</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y1err</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x2</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y2</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x3</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y3</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">x4</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y4</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">25</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token comment">// data for graph 0</span>
<span class="token punctuation">{<!-- --></span>
  x0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">/</span><span class="token number">25.0</span><span class="token punctuation">;</span>
  y0<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">qExp</span><span class="token punctuation">(</span><span class="token operator">-</span>x0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>x0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>x0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>x0<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">15</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token comment">// data for graph 1</span>
<span class="token punctuation">{<!-- --></span>
  x1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">*</span>i<span class="token operator">/</span><span class="token number">15.0</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  y1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">qExp</span><span class="token punctuation">(</span><span class="token operator">-</span>x1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>x1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>x1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2.6</span><span class="token punctuation">;</span>
  y1err<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> y1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">0.25</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">250</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token comment">// data for graphs 2, 3 and 4</span>
<span class="token punctuation">{<!-- --></span>
  x2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token operator">/</span><span class="token number">250.0</span><span class="token operator">*</span><span class="token number">3</span><span class="token operator">*</span>M_PI<span class="token punctuation">;</span>
  x3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  x4<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token operator">/</span><span class="token number">250.0</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">;</span>
  y2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">qSin</span><span class="token punctuation">(</span>x2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">qCos</span><span class="token punctuation">(</span>x2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">;</span>
  y3<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">qCos</span><span class="token punctuation">(</span>x3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">;</span>
  y4<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.01</span><span class="token operator">*</span>x4<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span>x4<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1.5</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>RAND_MAX<span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1.5</span><span class="token operator">*</span>M_PI<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// pass data points to graphs:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x0<span class="token punctuation">,</span> y0<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>
errorBars<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>y1err<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x3<span class="token punctuation">,</span> y3<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x4<span class="token punctuation">,</span> y4<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// activate top and right axes, which are invisible by default:</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set ranges appropriate to show data:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token operator">*</span>M_PI<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set pi ticks on top axis:</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setTicker</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">QSharedPointer</span><span class="token generic class-name"><span class="token operator">&lt;</span>QCPAxisTickerPi<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> QCPAxisTickerPi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// add title layout element:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">insertRow</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">QCPTextElement</span><span class="token punctuation">(</span>customPlot<span class="token punctuation">,</span> <span class="token string">"Way too many graphs in one plot"</span><span class="token punctuation">,</span> <span class="token function">QFont</span><span class="token punctuation">(</span><span class="token string">"sans"</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> QFont<span class="token double-colon punctuation">::</span>Bold<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set labels:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"Bottom axis with outward ticks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"Left axis label"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"Top axis label"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"Right axis label"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// make ticks on bottom axis go outward:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setTickLength</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setSubTickLength</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// make ticks on right axis go inward and outward:</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setTickLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setSubTickLength</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  可以自由定义哪个轴应该在图形中扮演哪个角色。例如，索引为0的图形使用左轴（yAxis）作为其键，使用底轴（xAxis）作为其值。因此，该图形相对于左轴向上：<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/adb1eb11d3bf4aa38e661f61427f0eb8.png"/><br/>   为了显示图表1的错误条，我们创建了一个QCPerroBars实例，它可以附加到其他绘图仪（如QCPGraph）并为它们提供错误条。有关所用方法的进一步解释，请查看相应的文档。</p>
<h2><a id="_258"></a>绘制日期和时间数据</h2>
<p>  绘制与日期和/或时间相关的数据。基本上可以归结为在各自的轴上安装不同的QCPAxisTickerDateTime类型的轴计时器。</p>
<pre><code class="prism language-cpp"><span class="token comment">// set locale to english, so we get english month names:</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token function">QLocale</span><span class="token punctuation">(</span>QLocale<span class="token double-colon punctuation">::</span>English<span class="token punctuation">,</span> QLocale<span class="token double-colon punctuation">::</span>UnitedKingdom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// seconds of current time, we'll use it as starting point in time for data:</span>
<span class="token keyword">double</span> now <span class="token operator">=</span> <span class="token class-name">QDateTime</span><span class="token double-colon punctuation">::</span><span class="token function">currentDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toTime_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">srand</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set the random seed, so we always get the same random data</span>
<span class="token comment">// create multiple graphs:</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> gi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> gi<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>gi<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
  customPlot<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  QColor <span class="token function">color</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token operator">+</span><span class="token number">200</span><span class="token operator">/</span><span class="token number">4.0</span><span class="token operator">*</span>gi<span class="token punctuation">,</span><span class="token number">70</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1.6</span><span class="token operator">-</span>gi<span class="token operator">/</span><span class="token number">4.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setLineStyle</span><span class="token punctuation">(</span>QCPGraph<span class="token double-colon punctuation">::</span>lsLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
  customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span><span class="token function">QPen</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">lighter</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// generate random walk data:</span>
  QVector<span class="token operator">&lt;</span>QCPGraphData<span class="token operator">&gt;</span> <span class="token function">timeData</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">250</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>
    timeData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key <span class="token operator">=</span> now <span class="token operator">+</span> <span class="token number">24</span><span class="token operator">*</span><span class="token number">3600</span><span class="token operator">*</span>i<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      timeData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">50.0</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>RAND_MAX<span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
      timeData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">qFabs</span><span class="token punctuation">(</span>timeData<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">0.02</span><span class="token operator">/</span><span class="token number">4.0</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">-</span>gi<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token number">50.0</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>RAND_MAX<span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  customPlot<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">set</span><span class="token punctuation">(</span>timeData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// configure bottom axis to show date instead of number:</span>
QSharedPointer<span class="token operator">&lt;</span>QCPAxisTickerDateTime<span class="token operator">&gt;</span> <span class="token function">dateTicker</span><span class="token punctuation">(</span><span class="token keyword">new</span> QCPAxisTickerDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
dateTicker<span class="token operator">-&gt;</span><span class="token function">setDateTimeFormat</span><span class="token punctuation">(</span><span class="token string">"d. MMMM\nyyyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setTicker</span><span class="token punctuation">(</span>dateTicker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// configure left axis text labels:</span>
QSharedPointer<span class="token operator">&lt;</span>QCPAxisTickerText<span class="token operator">&gt;</span> <span class="token function">textTicker</span><span class="token punctuation">(</span><span class="token keyword">new</span> QCPAxisTickerText<span class="token punctuation">)</span><span class="token punctuation">;</span>
textTicker<span class="token operator">-&gt;</span><span class="token function">addTick</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"a bit\nlow"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
textTicker<span class="token operator">-&gt;</span><span class="token function">addTick</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">"quite\nhigh"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setTicker</span><span class="token punctuation">(</span>textTicker<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set a more compact font size for bottom and left axis tick labels:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setTickLabelFont</span><span class="token punctuation">(</span><span class="token function">QFont</span><span class="token punctuation">(</span><span class="token function">QFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">family</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setTickLabelFont</span><span class="token punctuation">(</span><span class="token function">QFont</span><span class="token punctuation">(</span><span class="token function">QFont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">family</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set axis labels:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"Date"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string">"Random wobbly lines value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// make top and right axes visible but without ticks and labels:</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setTicks</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setTicks</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>xAxis2<span class="token operator">-&gt;</span><span class="token function">setTickLabels</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis2<span class="token operator">-&gt;</span><span class="token function">setTickLabels</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// set axis ranges to show all data:</span>
customPlot<span class="token operator">-&gt;</span>xAxis<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> now<span class="token operator">+</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">3600</span><span class="token operator">*</span><span class="token number">249</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>yAxis<span class="token operator">-&gt;</span><span class="token function">setRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// show legend with slightly transparent background brush:</span>
customPlot<span class="token operator">-&gt;</span>legend<span class="token operator">-&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span>legend<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QColor</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  传递给<strong>dateTicker-&gt;setDateTimeFormat()<strong>的字符串与传递给</strong>QDateTime::toString</strong>的字符串具有相同的日期格式选项，请参见Qt文档。自1970年1月1日物业其，QCustomPlot中的所有日期/时间坐标均以秒为单位处理。UTC（被称为Unix/大纪元时间），这也是这个单位。<br/>   在Qt日期/时间类上调用<strong>QDateTime::toTime_t</strong>或<strong>setTime_t</strong>。<br/>   <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5188915c88f44d2a9ca95a3b542510b1.png"/><br/>   为了达到小于1秒的精度，axis ticker使用浮点数。因此，小于1.0的值代表相应的秒分数。可以使用<strong>QCPAxisTickerDateTime::dateTimeToKey</strong>和<strong>keyToDateTime</strong>在浮点Unix时间和QDateTime之间进行转换，这与Qt版本无关（Qt的QDateTime::toMSecsSinceEpoch仅在Qt 4.7中引入）。</p>
<h2><a id="_319"></a>除了图形之外：曲线、条形图、统计方框图…</h2>
<p>  到目前为止，看了图表。由于是要用例，QCustomPlot为它们提供了一个专门的接口。一直在使用它：<strong>QCustomPlot::addGraph</strong>、<strong>QCustomPlot::graph</strong>等等，但这并不是全部。**QCustomPlot为在绘图中绘制数据的类提供了一个更通用的接口，称为Plottables。**该接口围绕抽象基类QCPAbstractPlottable构建。所有Plottable都源于这个类，也是我们熟悉的QCPGraph类。<br/>   QCustomPlot提供了许多其他可绘制类：</p>
<ul><li><strong>QCPGraph</strong>：这是我们一直在使用的plottable类。将一系列数据点显示为具有不同线型、填充和散点的图形。</li><li><strong>QCPCurve</strong>：与QCPGraph类似，不同之处在于它用于显示参数曲线。与函数图不同，它们可能有循环。</li><li><strong>QCPBars</strong>：条形图。获取一系列数据点，并用条形图表示它们。如果绘图中有多个QCPBAR绘图表，则可以将它们堆叠在一起，如简介页面上的屏幕截图所示。</li><li><strong>QCPStatisticalBox</strong>：一个统计方框图。获取五位数的摘要（最小值、下四分位、中位数、上四分位、最大值），并将其表示为一个统计框。也可以显示异常值。</li><li><strong>QCPColorMap</strong>：一种2D地图，通过使用颜色渐变来可视化第三个数据维度。QCPColorScale类随此绘图表一起显示绘图中的数据比例。</li><li><strong>QCPFFinancial</strong>：一个绘图表，可以通过使用烛台或OHLC条显示股票价格的开盘、高点、低点和收盘信息。</li><li><strong>QCPErrorBars</strong>：这是一个特殊的绘图表，因为它连接到第二个绘图表，以便在其他绘图表的数据点上显示错误条。<br/>   与图形不同，其他绘图表需要使用QCustomPlot外部的新图形创建。这意味着没有像addGraph函数那样的addCurve或addBars函数。绘图仪应属于的QCustomPlot实例是从绘图仪构造函数中传递的轴推断出来的。然后，QCustomPlot获得绘图表的所有权。可以使用<strong>QCustomPlot::plottable(int index)<strong>访问现有的绘图表，并且可以使用</strong>QCustomPlot::plottableCount</strong>检索绘图中的绘图表总数（包括图形）</li></ul>
<p>  下面是一个创建三条条形图的快速示例：</p>
<pre><code class="prism language-cpp">QCPBars <span class="token operator">*</span>myBars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QCPBars</span><span class="token punctuation">(</span>customPlot<span class="token operator">-&gt;</span>xAxis<span class="token punctuation">,</span> customPlot<span class="token operator">-&gt;</span>yAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// now we can modify properties of myBars:</span>
myBars<span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Bars Series 1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> keyData<span class="token punctuation">;</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> valueData<span class="token punctuation">;</span>
keyData <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">2</span> <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
valueData <span class="token operator">&lt;&lt;</span> <span class="token number">2</span> <span class="token operator">&lt;&lt;</span> <span class="token number">4</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span>
myBars<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>keyData<span class="token punctuation">,</span> valueData<span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">rescaleAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
customPlot<span class="token operator">-&gt;</span><span class="token function">replot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>  有关其他绘图表的更多详细信息，请参见示例项目和其他教程。此外，每种绘图仪类型在相应类别的文档页面上都有详细说明。<br/>   当然，完全有可能编写自己的绘图仪，使任何数据都完全符合需要，可以去查看QCPAbstractPlottable文档，了解如何开始子类化它。还可以查看现有的绘图表，了解它们的工作原理。为此，建议先看看QCPBars或QCPCurve。</p>
<br/>
<p>上一篇：没有了<br/> 下一篇：《<a href="https://hpzwl.blog.csdn.net/article/details/124567140">QCustomPlot开发笔记（二）：QCustomPlot用户交互、元素项以及特殊用法</a>》</p>
<br/>
<p>若该文为原创文章，转载请注明原文出处<br/> 本文章博客地址：<a href="https://hpzwl.blog.csdn.net/article/details/124527752">https://hpzwl.blog.csdn.net/article/details/124527752</a></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>