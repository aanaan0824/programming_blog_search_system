<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>目录</h3>
<ul><li><ul><li><a href="#QT_2">第一步：新建QT设计师界面类</a></li><li><a href="#_15">第二步：将新窗口的头文件加入到主窗口头文件中</a></li><li><a href="#_22">第三步：为按钮事件设置信号与槽</a></li></ul>
</li></ul>
</div>
<br/> 需求说明：主窗口为mainWindow，主窗口上有一个按钮，通过点击按钮能弹出一个新的窗口。
<p></p>
<h2><a id="QT_2"></a>第一步：新建QT设计师界面类</h2>
<ol><li>右击最顶层的工程文件夹，在弹出的选项里选择Add New（有的版本为添加新文件）。<br/> <img alt="右击工程文件夹" src="https://img-blog.csdnimg.cn/de12e826624247819a978883681e78e9.png"/></li><li>选择Qt–&gt;Qt设计师界面类，点击Choose。<br/> <img alt="选择QT设计师界面类" src="https://img-blog.csdnimg.cn/ce849f8e674c406692086d076d0be701.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATmVvIFFpYW4=,size_20,color_FFFFFF,t_70,g_se,x_16"/></li><li>默认选择Widget，点击下一步。<br/> <img alt="点击下一步" src="https://img-blog.csdnimg.cn/20138d7b019945b083f103d6adaa173a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATmVvIFFpYW4=,size_20,color_FFFFFF,t_70,g_se,x_16"/></li><li>在这里设置类名，我设置为newWindow，路径默认即可，点击下一步。<br/> <img alt="设置类名" src="https://img-blog.csdnimg.cn/299ced8be6394ef6bc413609cdd621a3.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATmVvIFFpYW4=,size_20,color_FFFFFF,t_70,g_se,x_16"/></li><li>这里是汇总信息，默认添加到当前项目，点击完成按钮即可。<br/> <img alt="汇总" src="https://img-blog.csdnimg.cn/e0f7f03d5cc34588a05d07717415f7fa.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATmVvIFFpYW4=,size_20,color_FFFFFF,t_70,g_se,x_16"/></li><li>完成后QT自动生成newWindow所需的cpp文件和h文件。<br/> <img alt="目录" src="https://img-blog.csdnimg.cn/648ea8dbae10468caf0a2d414795aa49.png"/></li></ol>
<h2><a id="_15"></a>第二步：将新窗口的头文件加入到主窗口头文件中</h2>
<p>在主窗口mainWindow的头文件中添加以下代码：</p>
<pre><code class="prism language-javascript">#include <span class="token string">"你设置的类名.h"</span>
<span class="token comment">//例如：</span>
#include <span class="token string">"newWindow.h"</span>
</code></pre>
<h2><a id="_22"></a>第三步：为按钮事件设置信号与槽</h2>
<ol><li>打开主窗口mainWindow的ui文件，选中想要设置的按钮，点击鼠标右键，在弹出的栏目中选中“转到槽…”。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/286b4cb7a8374db8b22a63cbfdf58da9.png"/></li><li>在弹出的窗口中选择clicked()，再点击ok。<br/> <img alt="选择clicked()" src="https://img-blog.csdnimg.cn/905c3cb5dc6c4486a4166bc95f21d529.png"/></li><li>此时QT会自动为工程添加槽函数的声明以及一个空白的槽函数，如下图：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/add4d56e783c4914b86b18d14acedaaf.png"/></li><li>在生成的槽函数中添加newWindow启动代码，如下所示：<pre><code class="prism language-javascript"><span class="token keyword">void</span> MainWindow<span class="token operator">:</span><span class="token operator">:</span><span class="token function">on_BtnSerialPortConfig_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    newWindow <span class="token operator">*</span>configWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">newWindow</span><span class="token punctuation">;</span>
    configWindow<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li>完成（此截图为我为newWindow添加了控件以后的弹窗截图）<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/368ddf47ff874a23be406b7c9407d2e1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATmVvIFFpYW4=,size_20,color_FFFFFF,t_70,g_se,x_16"/></li></ol>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>