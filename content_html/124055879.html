<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-tomorrow-night" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p>⾸先保证 homebrew 为最新版本，先升级 homebrew 到最新</p>
<pre><code class="prism language-css">brew update
</code></pre>
<p>然后升级 PHP 版本</p>
<pre><code class="prism language-css">brew upgrade php
</code></pre>
<p>使⽤php -v检查 php 版本</p>
<pre><code class="prism language-css">php -v
</code></pre>
<p>如果没有升级成功或者其他报错，可以使⽤</p>
<pre><code class="prism language-css">brew install php@7.4
</code></pre>
<p>直接安装 php 7.4 版本。</p>
<p>修改服务器对应的 PHP 版本</p>
<p>修改nginx 或者apache的配置⽂件，以 apache为例：</p>
<pre><code class="prism language-css">sudo vim /etc/apache2/httpd.conf
</code></pre>
<p>找到 LoadModule php7_module 这⾏，修改为：</p>
<pre><code class="prism language-css">LoadModule php7_module /usr/local/Cellar/php@7.4/7.4.16/lib/httpd/modules/libphp7.so
</code></pre>
<p>重启 nginx 或者 apache 服务器</p>
<pre><code class="prism language-css">sudo ngingx -s reload

sudo apachectl restart
</code></pre>
<p>确保⽹站服务使⽤的也是 php 7.4 版本，在服务器的根⽬录index.php中</p>
<pre><code class="prism language-css">&lt;?php

<span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

?&gt;
</code></pre>
<p>使⽤ PECL 安装对应扩展</p>
<pre><code class="prism language-css">pecl install imagick

pecl install redis
</code></pre>
<p>使⽤ pecl list 查看已经通过 pecl 安装的扩展</p>
<pre><code class="prism language-css">$ pecl list

Installed packages<span class="token punctuation">,</span> channel pecl.php.<span class="token property">net</span><span class="token punctuation">:</span>

=========================================

Package Version State

imagick 3.4.4 stable

redis 5.1.1 stable
</code></pre>
<p>如果之前使⽤ pecl 安装过其他版本PHP的扩展，可以使⽤ pecl uninstall (ext_name) 卸载后重新安装。</p>
<p>曾尝试过修改 php.ini 的扩展⽬录为之前的，但是报错</p>
<pre><code class="prism language-css"><span class="token punctuation">;</span> Directory in which the loadable extensions <span class="token punctuation">(</span>modules<span class="token punctuation">)</span> reside.

<span class="token punctuation">;</span> <span class="token property">http</span><span class="token punctuation">:</span>//php.net/extension-dir

extension_dir = <span class="token string">"/usr/local/lib/php/pecl/20190902"</span>

<span class="token punctuation">;</span> On <span class="token property">windows</span><span class="token punctuation">:</span>

<span class="token punctuation">;</span>extension_dir = <span class="token string">"ext"</span>
</code></pre>
<p>索性之前使⽤ pecl install 重新安装⼀遍。</p>
<p>安装成功后使⽤ php -m | grep imagick 查看⼀下是否存在。</p>
<p>最后<br/> 如果你觉得此文对你有一丁点帮助，点个赞。或者可以加入我的开发交流群：1025263163相互学习，我们会有专业的技术答疑解惑</p>
<p>如果你觉得这篇文章对你有点用的话，麻烦请给我们的开源项目点点star:http://github.crmeb.net/u/defu不胜感激 ！</p>
<p>免费源码获取地址：<a href="https://www.crmeb.com">https://www.crmeb.com</a></p>
<p>PHP学习手册：<a href="https://doc.crmeb.com">https://doc.crmeb.com</a><br/> 技术交流论坛：<a href="https://q.crmeb.com">https://q.crmeb.com</a></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>