<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>Unity入门</h3>
<ul><li><a href="#Unity_1">Unity脚本基础</a></li><li><ul><li><a href="#Unity_2">Unity脚本基本规则</a></li><li><a href="#Unity_3">Unity脚本生命周期函数</a></li><li><a href="#Inspector_4">Inspector窗口可编辑的变量</a></li><li><a href="#Mono_5">Mono中的重要内容</a></li></ul>
</li><li><a href="#UnityAPI_6">Unity重要组件和API</a></li><li><ul><li><a href="#GameObject_7">最小的单位GameObject</a></li><li><a href="#Time_8">时间相关Time</a></li><li><ul><li><a href="#1_TimetimeScale_9">1、时间缩放比例 Time.timeScale</a></li><li><a href="#2_22">2、帧间隔时间</a></li><li><a href="#3_39">3、游戏开始到现在的时间</a></li><li><a href="#4FixedUpdate_50">4、物理帧间隔（FixedUpdate）时间</a></li><li><a href="#5_frameCount_62">5、帧数 frameCount</a></li></ul>
</li><li><a href="#Transform_68">必不可少的Transform</a></li><li><ul><li><a href="#1_69">1、位置和位移</a></li><li><a href="#2_70">2、角度和旋转</a></li><li><ul><li><a href="#_71">角度相关</a></li><li><ul><li><a href="#_eulerAngles_72">相对世界坐标系的角度 eulerAngles</a></li><li><a href="#_localEulerAngles_78">相对父对象坐标系的角度 localEulerAngles</a></li><li><a href="#_84">设置角度</a></li></ul>
</li><li><a href="#_91">旋转相关</a></li><li><ul><li><a href="#_92">自转</a></li><li><a href="#_119">公转</a></li></ul>
</li></ul>
</li><li><a href="#_129">缩放和看向</a></li><li><a href="#_130">父子关系</a></li><li><ul><li><a href="#1_131">1、获取和设置父对象</a></li><li><a href="#2_155">2、断绝和自己所有子节点的父子关系</a></li><li><a href="#3_160">3、获取子对象</a></li><li><ul><li><a href="#_162">按层级路径查找子对象</a></li><li><a href="#_174">遍历所有子对象</a></li></ul>
</li><li><a href="#4_187">4、子对象的操作</a></li><li><ul><li><a href="#_188">判断自己的爸爸是谁</a></li><li><a href="#_192">获取自己的序号</a></li><li><a href="#_196">把自己设置为第一个儿子</a></li><li><a href="#_200">把自己设置为最后一个儿子</a></li><li><a href="#_204">把自己设置为指定序号的儿子</a></li></ul>
</li></ul>
</li><li><a href="#_210">坐标转换</a></li></ul>
</li><li><a href="#InputScreen_212">Input和Screen</a></li><li><ul><li><a href="#Input_213">输入相关Input</a></li><li><ul><li><a href="#_InputmousePosition_215">鼠标在屏幕上的位置 Input.mousePosition</a></li><li><a href="#_GetMouse_220">检测鼠标输入 GetMouse</a></li><li><ul><li><a href="#_GetMouseButtonDown_222">鼠标按下一瞬间 GetMouseButtonDown</a></li><li><a href="#_GetMouseButtonUp_228">鼠标抬起一瞬间 GetMouseButtonUp</a></li><li><a href="#_GetMouseButton_234">鼠标长按 GetMouseButton</a></li></ul>
</li><li><a href="#_GetKey_239">检测键盘输入 GetKey</a></li><li><ul><li><a href="#_241">键盘按下一瞬间</a></li><li><a href="#_247">键盘松开一瞬间</a></li><li><a href="#_253">键盘一直按下</a></li></ul>
</li><li><a href="#_GetAxis_258">检测默认轴的输入 GetAxis</a></li><li><ul><li><a href="#AD11_261">键盘A、D按下时，返回-1到1之间的数值</a></li><li><a href="#SW11_267">键盘S、W按下时，返回-1到1之间的数值</a></li><li><a href="#11_274">鼠标横向移动时，返回-1到1（从左到右）</a></li><li><a href="#11_280">鼠标竖向移动时，返回-1到1（从下到上）</a></li><li><a href="#GetAxisRaw_286">GetAxisRaw方法</a></li></ul>
</li><li><a href="#_288">其他</a></li><li><ul><li><a href="#_InputanyKey_289">是否有任意键或者鼠标长按 Input.anyKey</a></li><li><a href="#_InputanyKeyDown_295">是否有任意键或者鼠标按下 Input.anyKeyDown</a></li><li><a href="#_InputinputString_301">这一帧的键盘输入 Input.inputString</a></li><li><a href="#_307">手柄输入相关</a></li><li><ul><li><a href="#__InputGetJoystickNames_308">得到连接的手柄的所有按钮的名字 Input.GetJoystickNames</a></li><li><a href="#_InputGetButtonDown_312">检测某一个手柄按键按下 Input.GetButtonDown</a></li><li><a href="#_InputGetButtonUp_318">检测某一个手柄按键松开 Input.GetButtonUp</a></li><li><a href="#_InputGetButton_324">检测某一个手柄按键长按 Input.GetButton</a></li></ul>
</li><li><a href="#_329">移动设备触摸相关</a></li><li><ul><li><a href="#_InputtouchCount_Inputtouches_330">获取触摸信息 Input.touchCount 、Input.touches</a></li><li><a href="#_InputmultiTouchEnabled_343">是否启用多点触控 Input.multiTouchEnabled</a></li></ul>
</li><li><a href="#_Inputgyro_348">陀螺仪（重力感应） Input.gyro</a></li><li><ul><li><a href="#_Inputgyroenabled_349">是否开启陀螺仪 Input.gyro.enabled</a></li><li><a href="#_Inputgyrogravity_355">重力加速度向量 Input.gyro.gravity</a></li><li><a href="#_InputgyrorotationRate_356">旋转速度 Input.gyro.rotationRate</a></li><li><a href="#_Inputgyroattitude_357">陀螺仪当前旋转的四元数 Input.gyro.attitude</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#Screen_359">屏幕相关Screen</a></li><li><ul><li><a href="#_360">静态属性</a></li><li><ul><li><a href="#_361">常用</a></li><li><ul><li><a href="#_ScreencurrentResolution_362">当前屏幕分辨率 Screen.currentResolution</a></li><li><a href="#_ScreensleepTimeout_371">屏幕休眠模式 Screen.sleepTimeout</a></li></ul>
</li><li><a href="#_373">不常用</a></li><li><ul><li><a href="#_ScreenfullScreen_374">运行时是否全屏 Screen.fullScreen</a></li><li><a href="#_ScreenfullScreenMode_375">全屏模式 Screen.fullScreenMode</a></li><li><a href="#_383">移动设备屏幕转向相关</a></li></ul>
</li></ul>
</li><li><a href="#_414">静态方法</a></li></ul>
</li></ul>
</li><li><a href="#Camera_418">必不可少的Camera</a></li><li><ul><li><a href="#Camera_419">Camera可编辑参数</a></li><li><ul><li><a href="#1Clear_Flags__420">1、Clear Flags 如何清除背景</a></li><li><a href="#2Culling_Mask__425">2、Culling Mask 选择性渲染部分层级</a></li><li><a href="#3Projection__426">3、Projection 摄像机透视方式</a></li><li><a href="#4Clipping_Planes__438">4、Clipping Planes 裁剪平面距离</a></li><li><a href="#5Viewport_Rect__440">5、Viewport Rect 视口范围</a></li><li><a href="#6Depth__442">6、Depth 渲染优先级</a></li><li><a href="#7Rendering_path__444">7、Rendering path 渲染路径</a></li><li><a href="#8Target_Texture__445">8、Target Texture 渲染纹理</a></li><li><a href="#9Occlusion_Culling__447">9、Occlusion Culling 是否启用剔除遮挡</a></li><li><a href="#10Allow_HDR__449">10、Allow HDR 是否允许高动态范围渲染</a></li><li><a href="#11Allow_MSAA__450">11、Allow MSAA 是否允许抗锯齿</a></li><li><a href="#12Allow_Dynamic_Resolution__451">12、Allow Dynamic Resolution 是否允许动态分辨率呈现</a></li><li><a href="#13Targe_Display__452">13、Targe Display 显示在哪个显示器</a></li></ul>
</li><li><a href="#Camera_453">Camera代码相关</a></li><li><ul><li><a href="#_454">重要的静态成员</a></li><li><ul><li><a href="#_455">获取摄像机</a></li><li><a href="#_471">渲染相关委托</a></li></ul>
</li><li><a href="#_490">重要的成员</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#Unity_512">Unity核心系统</a></li><li><ul><li><a href="#_513">光源系统</a></li><li><ul><li><a href="#_514">光源组件</a></li><li><ul><li><a href="#Type__515">Type 光源类型</a></li><li><ul><li><a href="#Spot__516">Spot 【实时光源】聚光灯</a></li><li><ul><li><a href="#Range__517">Range 发光距离</a></li><li><a href="#Spot_Angle___518">Spot Angle 光锥角度</a></li></ul>
</li><li><a href="#Directional__519">Directional 【实时光源】方向光</a></li><li><a href="#Point__520">Point 【实时光源】点光源</a></li><li><a href="#Area__521">Area 【烘焙光源】范围光</a></li></ul>
</li><li><a href="#Color__522">Color 光源颜色</a></li><li><a href="#Mode__523">Mode 光源模式</a></li><li><ul><li><a href="#Realtime__524">Realtime 实时光源</a></li><li><a href="#Baked__526">Baked 烘焙光源</a></li><li><a href="#Mixed__528">Mixed 混合光源</a></li></ul>
</li><li><a href="#Intensity__530">Intensity 光源亮度</a></li><li><a href="#Indirect_Multiplier__531">Indirect Multiplier 改变间接光的强度</a></li><li><a href="#Shadow_Type__534">Shadow Type 阴影类型</a></li><li><ul><li><a href="#NoShadows__535">NoShadows 关闭阴影</a></li><li><a href="#HardShadows___536">HardShadows 生硬阴影（效果较差 但是性能消耗较少）</a></li><li><a href="#SoftShadows__537">SoftShadows 柔和阴影（效果最好的阴影）</a></li></ul>
</li><li><a href="#RealtimeShadows_538">RealtimeShadows</a></li><li><ul><li><a href="#Strength_01_539">Strength 阴影强度：阴影暗度0-1之间，越大越黑</a></li><li><a href="#Resolution__540">Resolution 阴影贴图渲染分辨率：越高越逼真，性能消耗越高</a></li><li><a href="#Bias__541">Bias 阴影离光源的距离</a></li><li><a href="#Normal_Bias__542">Normal Bias 引用投射面沿法线收缩距离</a></li><li><a href="#Near_Panel__543">Near Panel 渲染阴影的近裁剪面</a></li></ul>
</li><li><a href="#Cookie__544">Cookie 投影遮罩</a></li><li><a href="#Cookie_Size_546">Cookie Size</a></li><li><a href="#Draw_Halo___548">Draw Halo 球形光环开关 类似光晕效果</a></li><li><a href="#Flare____549">Flare 耀斑 一般用于方向光</a></li><li><a href="#Render_Mode__552">Render Mode 光源渲染模式</a></li><li><ul><li><a href="#Auto_553">Auto：运行时确定</a></li><li><a href="#Important_554">Important：逐像素光源</a></li><li><a href="#Not_Important_555">Not Important：逐顶点光源</a></li></ul>
</li><li><a href="#Culling_Mask__556">Culling Mask 剔除遮罩层</a></li></ul>
</li><li><a href="#Lighting_Setting_558">Lighting Setting面板</a></li><li><ul><li><a href="#Environment_560">Environment</a></li><li><ul><li><a href="#Skybox_Material__561">Skybox Material 天空盒材质</a></li><li><a href="#Sun_Source__563">Sun Source 太阳来源</a></li><li><a href="#Environment_Lighting__565">Environment Lighting 环境光设置</a></li><li><ul><li><a href="#Source__566">Source 环境光光源颜色</a></li><li><a href="#Intensity_Multiplier__570">Intensity Multiplier 环境光亮度</a></li><li><a href="#Ambient_Mode__571">Ambient Mode 全局光照模式</a></li></ul>
</li></ul>
</li><li><a href="#OtherSettings_575">OtherSettings</a></li><li><ul><li><a href="#Fog__576">Fog 雾开关</a></li><li><ul><li><a href="#Color__577">Color 雾颜色</a></li><li><a href="#Mode__578">Mode 雾的计算模式</a></li><li><a href="#Density__586">Density 强度</a></li></ul>
</li><li><a href="#Halo_Texture__587">Halo Texture 光源周围的光环纹理</a></li><li><a href="#Halo_Strength__588">Halo Strength 光环强度</a></li><li><a href="#Flare_Fade_Speed__589">Flare Fade Speed 耀斑淡出时间</a></li><li><a href="#Flare_Strength__590">Flare Strength 耀斑强度</a></li><li><a href="#Spot_Cookie__591">Spot Cookie 聚光灯剪影纹理</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#_592">物理系统之碰撞检测</a></li><li><ul><li><a href="#_Regidbody_593">刚体 Regidbody</a></li><li><ul><li><a href="#Mass__595">Mass 质量</a></li><li><a href="#Drag__597">Drag 空气阻力</a></li><li><a href="#Angular_Drag__599">Angular Drag 旋转阻力</a></li><li><a href="#Use_Gravity__602">Use Gravity 是否受重力影响</a></li><li><a href="#Is_Kinematic__603">Is Kinematic 是否不受物理引擎驱动</a></li><li><a href="#Interpolate__605">Interpolate 插值运算</a></li><li><ul><li><a href="#None__612">None 不应用插值运算（默认）</a></li><li><a href="#Interpolate__613">Interpolate 根据前一帧的变换来平滑</a></li><li><a href="#Extrapolate__615">Extrapolate 根据后一帧的变换来平滑</a></li></ul>
</li><li><a href="#Collision_Detection__617">Collision Detection 碰撞检测模式</a></li><li><ul><li><a href="#Discrete__620">Discrete 离散检测（默认）</a></li><li><a href="#Continuous__621">Continuous 连续检测</a></li><li><a href="#Continuous_Dynamic__622">Continuous Dynamic 连续动态检测</a></li><li><a href="#Continuous_Speculative__623">Continuous Speculative 连续推测检测</a></li></ul>
</li><li><a href="#Constraints__625">Constraints 对刚体运动的限制</a></li><li><ul><li><a href="#Freeze_Position__626">Freeze Position 对位置的约束</a></li><li><a href="#Freeze_Rotation__628">Freeze Rotation 对旋转的约束</a></li></ul>
</li></ul>
</li><li><a href="#_Collider_630">碰撞器 Collider</a></li><li><ul><li><a href="#3D_632">3D碰撞器种类</a></li><li><ul><li><a href="#_Box_Collider_633">盒状碰撞器 Box Collider</a></li><li><a href="#_Sphere_Collider_634">球状碰撞器 Sphere Collider</a></li><li><a href="#_Capsule_Collider_635">胶囊碰撞器 Capsule Collider</a></li><li><a href="#_Mesh_Collider_636">网格碰撞器 Mesh Collider</a></li><li><a href="#_Wheel_Collider_637">轮胎碰撞器 Wheel Collider</a></li><li><a href="#_Terrain_Collider_638">地形碰撞器 Terrain Collider</a></li></ul>
</li><li><a href="#_639">共同参数</a></li><li><ul><li><a href="#Is_Trigger___640">Is Trigger 触发器 默认不勾选</a></li><li><a href="#Material__643">Material 物理材质</a></li><li><a href="#Center_645">Center</a></li></ul>
</li><li><a href="#_647">常用碰撞器特有参数</a></li><li><ul><li><a href="#_Box_Collider_648">盒状碰撞器 Box Collider</a></li><li><ul><li><a href="#sizexyz_649">size：碰撞器在x、y、z方向上的大小</a></li></ul>
</li><li><a href="#_Sphere_Collider_650">球状碰撞器 Sphere Collider</a></li><li><ul><li><a href="#Raduis_651">Raduis：碰撞器的半径大小</a></li></ul>
</li><li><a href="#_Capsule_Collider_652">胶囊碰撞器 Capsule Collider</a></li><li><ul><li><a href="#Radius_653">Radius：胶囊体的上下半球的半径大小</a></li><li><a href="#Height_654">Height：胶囊体圆柱体的高度</a></li><li><a href="#Direction_YAxis_655">Direction：胶囊体在对象局部空间中的轴向 默认是Y-Axis</a></li></ul>
</li></ul>
</li><li><a href="#_656">异形物体使用多种碰撞器组合</a></li><li><a href="#_659">不常用碰撞器</a></li><li><ul><li><a href="#_Mesh_Collider_660">网格碰撞器 Mesh Collider</a></li><li><a href="#_Wheel_Collider_663">轮胎碰撞器 Wheel Collider</a></li><li><a href="#_Terrain_Collider_665">地形碰撞器 Terrain Collider</a></li></ul>
</li></ul>
</li><li><a href="#_667">物理材质</a></li><li><ul><li><a href="#_668">创建物理材质</a></li><li><a href="#_670">物理材质参数</a></li><li><ul><li><a href="#Dynamic_Friction__671">Dynamic Friction 移动时使用的摩擦力</a></li><li><a href="#Static_Friction__673">Static Friction 静止时使用的摩擦力</a></li><li><a href="#Bounciness__675">Bounciness 表面的弹性</a></li><li><a href="#Friction_Combine__677">Friction Combine 两个碰撞对象摩擦力的计算方式</a></li><li><ul><li><a href="#Average__678">Average 对两个摩擦值求平均值</a></li><li><a href="#Mininum__679">Mininum 使用两个摩擦力值中最小的</a></li><li><a href="#Maximum__680">Maximum 使用两个摩擦力值中最大的</a></li><li><a href="#Multiply__681">Multiply 两个摩擦力值相乘</a></li></ul>
</li><li><a href="#Bounce_Combine___Friction_Combine_682">Bounce Combine 两个碰撞对象反弹力的计算方式 同 Friction Combine</a></li></ul>
</li></ul>
</li><li><a href="#_683">碰撞检测函数</a></li><li><ul><li><a href="#_685">物理碰撞检测响应函数</a></li><li><a href="#_707">触发器检测响应函数</a></li><li><a href="#_722">要明确什么时候会响应函数</a></li><li><a href="#_725">碰撞和触发器函数都可以写成虚函数，在子类中重写逻辑</a></li></ul>
</li><li><a href="#_727">刚体加力</a></li><li><ul><li><a href="#_728">刚体自带添加力的方法</a></li><li><ul><li><a href="#_735">添加力</a></li><li><ul><li><a href="#_736">相对世界坐标系</a></li><li><a href="#_740">相对本地坐标系</a></li></ul>
</li></ul>
</li><li><a href="#_744">添加扭矩力，让其旋转</a></li><li><ul><li><a href="#_745">相对世界坐标系</a></li><li><a href="#_749">相对本地坐标系</a></li></ul>
</li><li><a href="#_753">直接改变速度</a></li><li><a href="#_758">模拟爆炸效果</a></li><li><a href="#_763">力的几种模式</a></li><li><ul><li><a href="#Force__767">Force 给物体添加一个持续的力，与物体的质量有关（较真实，因为不会忽略一些条件）</a></li><li><a href="#Impulse__1_772">Impulse 给物体添加一个瞬间的力，与物体的质量有关，忽略时间 默认是1</a></li><li><a href="#VelocityChange__777">VelocityChange 给物体添加一个瞬时速度，忽略质量，忽略时间</a></li><li><a href="#Acceleration__783">Acceleration 给物体添加一个持续的加速度，忽略其质量</a></li></ul>
</li><li><a href="#_ConstantForce_789">力场脚本 ConstantForce</a></li><li><a href="#_793">刚体的休眠</a></li></ul>
</li></ul>
</li><li><a href="#_806">音效系统</a></li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="Unity_1"></a>Unity脚本基础</h1>
<h2><a id="Unity_2"></a>Unity脚本基本规则</h2>
<h2><a id="Unity_3"></a>Unity脚本生命周期函数</h2>
<h2><a id="Inspector_4"></a>Inspector窗口可编辑的变量</h2>
<h2><a id="Mono_5"></a>Mono中的重要内容</h2>
<h1><a id="UnityAPI_6"></a>Unity重要组件和API</h1>
<h2><a id="GameObject_7"></a>最小的单位GameObject</h2>
<h2><a id="Time_8"></a>时间相关Time</h2>
<h3><a id="1_TimetimeScale_9"></a>1、时间缩放比例 Time.timeScale</h3>
<pre><code class="prism language-csharp"><span class="token comment">// 时间暂停</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">// 时间恢复</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 2倍速</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">// 0.1倍速</span>
Time<span class="token punctuation">.</span>timeScale <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="2_22"></a>2、帧间隔时间</h3>
<p>帧间隔时间表示最近的一帧花费的时间，单位：秒</p>
<ul><li>受到时间缩放(Time.timeScale)影响的帧间隔时间 deltaTime</li></ul>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>deltaTime
</code></pre>
<ul><li>不受时间缩放(Time.timeScale)影响的帧间隔时间 unscaledDeltaTime</li></ul>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>unscaledDeltaTime
</code></pre>
<p>帧间隔时间主要用于计算位移，需要根据需求选择使用受时间缩放影响的帧间隔时间还是不受时间缩放影响的帧间隔时间。比如，如果在时间暂停（即Time.timeScale = 0）的情况下，游戏暂停不动就选择受时间缩放影响的帧间隔时间(deltaTime)，如果游戏正常运行，就选择不受时间缩放影响的帧间隔时间(unscaleDeltaTime)<br/> 本质上：</p>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>deltaTime<span class="token operator">=</span> Time<span class="token punctuation">.</span>unscaledDeltaTime <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">;</span>
</code></pre>
<h3><a id="3_39"></a>3、游戏开始到现在的时间</h3>
<p>主要用来单机游戏的计时</p>
<ul><li>受到时间缩放(Time.timeScale)影响的游戏开始到现在的时间 time</li></ul>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>time
</code></pre>
<ul><li>不受时间缩放(Time.timeScale)影响的游戏开始到现在的时间 unscaledTime</li></ul>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>unscaledTime<span class="token punctuation">;</span>
</code></pre>
<h3><a id="4FixedUpdate_50"></a>4、物理帧间隔（FixedUpdate）时间</h3>
<ul><li>受到时间缩放(Time.timeScale)影响的物理帧间隔时间 fixedDeltaTime</li></ul>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>fixedDeltaTime
</code></pre>
<ul><li>不受时间缩放(Time.timeScale)影响的物理帧间隔时间 fixedUnscaledDeltaTime</li></ul>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>fixedUnscaledDeltaTime
</code></pre>
<h3><a id="5_frameCount_62"></a>5、帧数 frameCount</h3>
<p>表示从开始到现在跑了多少帧</p>
<pre><code class="prism language-csharp">Time<span class="token punctuation">.</span>frameCount
</code></pre>
<h2><a id="Transform_68"></a>必不可少的Transform</h2>
<h3><a id="1_69"></a>1、位置和位移</h3>
<h3><a id="2_70"></a>2、角度和旋转</h3>
<h4><a id="_71"></a>角度相关</h4>
<h5><a id="_eulerAngles_72"></a>相对世界坐标系的角度 eulerAngles</h5>
<pre><code class="prism language-csharp"><span class="token class-name">Vector3</span> angle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>eulerAngles<span class="token punctuation">;</span>
</code></pre>
<h5><a id="_localEulerAngles_78"></a>相对父对象坐标系的角度 localEulerAngles</h5>
<pre><code class="prism language-csharp"><span class="token class-name">Vector3</span> angle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>localEulerAngles<span class="token punctuation">;</span>
</code></pre>
<h5><a id="_84"></a>设置角度</h5>
<p>设置角度和设置位置一样，不能单独设置其x、y、z的值，需要整体改变。<br/> 如果希望改变的角度是Inspector面板上显示的内容，便是改变相对父对象坐标系的角度值</p>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>localEulerAngles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_91"></a>旋转相关</h4>
<h5><a id="_92"></a>自转</h5>
<ul><li>每个轴具体旋转多少度</li></ul>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Rotate</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> eulers<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DefaultValue</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Space.Self"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token class-name">Space</span> relativeTo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>第一个参数表示旋转的角度，第二个参数默认是相对于自身坐标系，如果是相对于世界坐标系需要传入Space.World</p>
<pre><code class="prism language-csharp"><span class="token comment">// 每秒沿自身坐标系的y轴旋转10度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 每秒沿世界坐标系的y轴旋转10度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span> Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>相对于某个轴旋转多少度</li></ul>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Rotate</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> axis<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">float</span></span> angle<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DefaultValue</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Space.Self"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token class-name">Space</span> relativeTo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>第一个参数表示沿哪个轴旋转，第二个参数表示沿该轴旋转的角度值，第二个参数默认是相对于自身坐标系，如果是相对于世界坐标系需要传入Space.World</p>
<pre><code class="prism language-csharp"><span class="token comment">// 沿自身坐标系的y轴每秒旋转10度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>Up<span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 沿世界坐标系的y轴每秒旋转10度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>Up<span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>delaTime<span class="token punctuation">,</span> Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_119"></a>公转</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">RotateAround</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> point<span class="token punctuation">,</span> <span class="token class-name">Vector3</span> axis<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">float</span></span> angle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>第一个参数表示绕哪个点公转，第二个参数表示绕该点的哪个轴公转，第三个参数表示公转的角度值</p>
<pre><code class="prism language-csharp"><span class="token comment">// 沿世界坐标系下的原点的y轴每秒旋转10度</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">RotateAround</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Vector3<span class="token punctuation">.</span>Up<span class="token punctuation">,</span> <span class="token number">10</span> <span class="token operator">*</span> Time<span class="token punctuation">.</span>DeltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_129"></a>缩放和看向</h3>
<h3><a id="_130"></a>父子关系</h3>
<h4><a id="1_131"></a>1、获取和设置父对象</h4>
<ul><li>获取父对象</li></ul>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent
</code></pre>
<ul><li>设置父对象</li></ul>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent <span class="token operator">=</span> 父对象<span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetParent</span><span class="token punctuation">(</span>父对象<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-csharp"><span class="token comment">// 将父对象这是为null时，该对象与其父对象脱离父子关系，被放在根节点下</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-csharp"><span class="token comment">// 第一个参数为父对象</span>
<span class="token comment">// 第二个参数为是否保持其世界坐标的信息(位置、旋转、缩放)</span>
<span class="token comment">// 设置为true，会保持世界坐标系下的信息，会和父对象进行计算，得到本地坐标系的信息</span>
<span class="token comment">// 设置为false，不会保持世界坐标系下的信息，会直接将世界坐标系下的信息赋值到本地坐标系下</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">SetParent</span><span class="token punctuation">(</span><span class="token class-name">Transform</span> parent<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">bool</span></span> worldPositionStays<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="2_155"></a>2、断绝和自己所有子节点的父子关系</h4>
<p>当与自己所有子节点断绝父子关系后，所有的子节点被放在根节点下，子节点和孙节点之间的父子关系保持不变</p>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">DetachChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="3_160"></a>3、获取子对象</h4>
<p><strong>通过transform获取子对象是可以找到失活的子对象的。但是通过GameObject的获取是获取不到失活的对象。</strong></p>
<h5><a id="_162"></a>按层级路径查找子对象</h5>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"层级路径"</span><span class="token punctuation">)</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210511111750190.png"/></p>
<pre><code class="prism language-csharp"><span class="token comment">// 查找son1</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"son1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 查找son1_1</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">"son1/son1_1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_174"></a>遍历所有子对象</h5>
<p>(1)获取所有子对象的个数 childCount<br/> <strong>childCount只将儿子计算进去，孙子及以下辈不计入</strong><br/> (2)获取对应层级的子对象 GetChild(层级)<br/> <strong>层级从0开始，按照Hierarchy窗口由上到下依次增大</strong><br/> <strong>如果传入的层级大于等于childCount时，会报错</strong></p>
<pre><code class="prism language-csharp"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span>childCount<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token class-name">Transform</span> child <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">GetChild</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="4_187"></a>4、子对象的操作</h4>
<h5><a id="_188"></a>判断自己的爸爸是谁</h5>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">IsChildOf</span><span class="token punctuation">(</span>判断对象<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_192"></a>获取自己的序号</h5>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">GetSiblingIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_196"></a>把自己设置为第一个儿子</h5>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetAsFirstSibling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_200"></a>把自己设置为最后一个儿子</h5>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetAsLastSibling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_204"></a>把自己设置为指定序号的儿子</h5>
<p><strong>如果传入的序号不在范围内，不会报错，会直接设置成最后一个序号（例如传入-1或者很大的数，该对象会被设置为最后一个序号）</strong></p>
<pre><code class="prism language-csharp"><span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">SetSiblingIndex</span><span class="token punctuation">(</span>序号<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_210"></a>坐标转换</h3>
<h2><a id="InputScreen_212"></a>Input和Screen</h2>
<h3><a id="Input_213"></a>输入相关Input</h3>
<p>输入相关的内容肯定是写在Update生命周期函数中</p>
<h4><a id="_InputmousePosition_215"></a>鼠标在屏幕上的位置 Input.mousePosition</h4>
<p>屏幕坐标系的原点是在屏幕的左下角，往右是x轴的正方向，往上是y轴的正方向</p>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Vector3</span> mousePosition <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<h4><a id="_GetMouse_220"></a>检测鼠标输入 GetMouse</h4>
<p>0代表左键，1代表右键，2代表滚轮</p>
<h5><a id="_GetMouseButtonDown_222"></a>鼠标按下一瞬间 GetMouseButtonDown</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetMouseButtonDown</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> button<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_GetMouseButtonUp_228"></a>鼠标抬起一瞬间 GetMouseButtonUp</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetMouseButtonUp</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> button<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_GetMouseButton_234"></a>鼠标长按 GetMouseButton</h5>
<p>长按时一直执行</p>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetMouseButton</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> button<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_GetKey_239"></a>检测键盘输入 GetKey</h4>
<p>一般使用KeyCode来表示键盘的按键，也可以传入按键的名字，但是不能传入大写字母，比如键盘的A键，只能传入"a"，传入"A"会报错。</p>
<h5><a id="_241"></a>键盘按下一瞬间</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetKeyDown</span><span class="token punctuation">(</span><span class="token class-name">KeyCode</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_247"></a>键盘松开一瞬间</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetKeyUp</span><span class="token punctuation">(</span><span class="token class-name">KeyCode</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_253"></a>键盘一直按下</h5>
<p>长按时一直执行</p>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetKey</span><span class="token punctuation">(</span><span class="token class-name">KeyCode</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_GetAxis_258"></a>检测默认轴的输入 GetAxis</h4>
<p>Edit–&gt;Project Settings–&gt;Input Manager<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210513104534837.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/></p>
<h5><a id="AD11_261"></a>键盘A、D按下时，返回-1到1之间的数值</h5>
<p>按下A键后，从0一直变到-1，松开恢复成0<br/> 按下D键后，从0一直变到1，松开恢复成0</p>
<pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">float</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Horizontal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="SW11_267"></a>键盘S、W按下时，返回-1到1之间的数值</h5>
<p>按下S键后，从0一直变到-1，松开恢复成0<br/> 按下W键后，从0一直变到1，松开恢复成0</p>
<pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">float</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Vertical"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="11_274"></a>鼠标横向移动时，返回-1到1（从左到右）</h5>
<p><strong>注意：鼠标不需要按下</strong></p>
<pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">float</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Mouse X"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="11_280"></a>鼠标竖向移动时，返回-1到1（从下到上）</h5>
<p><strong>注意：鼠标不需要按下</strong></p>
<pre><code class="prism language-csharp"><span class="token class-name"><span class="token keyword">float</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> Input<span class="token punctuation">.</span><span class="token function">GetAxis</span><span class="token punctuation">(</span><span class="token string">"Mouse Y"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="GetAxisRaw_286"></a>GetAxisRaw方法</h5>
<p>GetAxisRaw方法使用方式跟GetAxis一样，区别是其返回值只会返回-1、0、1三个值，不会出现中间值。</p>
<h4><a id="_288"></a>其他</h4>
<h5><a id="_InputanyKey_289"></a>是否有任意键或者鼠标长按 Input.anyKey</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> anyKey <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<h5><a id="_InputanyKeyDown_295"></a>是否有任意键或者鼠标按下 Input.anyKeyDown</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> anyKeyDown <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<h5><a id="_InputinputString_301"></a>这一帧的键盘输入 Input.inputString</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> inputString <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<h5><a id="_307"></a>手柄输入相关</h5>
<h6><a id="__InputGetJoystickNames_308"></a>得到连接的手柄的所有按钮的名字 Input.GetJoystickNames</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">GetJoystickNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h6><a id="_InputGetButtonDown_312"></a>检测某一个手柄按键按下 Input.GetButtonDown</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetButtonDown</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> buttonName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h6><a id="_InputGetButtonUp_318"></a>检测某一个手柄按键松开 Input.GetButtonUp</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetButtonUp</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> buttonName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h6><a id="_InputGetButton_324"></a>检测某一个手柄按键长按 Input.GetButton</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">GetButton</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> buttonName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_329"></a>移动设备触摸相关</h5>
<h6><a id="_InputtouchCount_Inputtouches_330"></a>获取触摸信息 Input.touchCount 、Input.touches</h6>
<pre><code class="prism language-csharp"><span class="token comment">// 触摸手指的数量</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>Input<span class="token punctuation">.</span>touchCount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 获取第一个触摸对象</span>
	<span class="token class-name">Touch</span> t1 <span class="token operator">=</span> Input<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">// 触摸点的位置</span>
	<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 相对于上一帧触摸位置的变化</span>
	<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>deltaPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h6><a id="_InputmultiTouchEnabled_343"></a>是否启用多点触控 Input.multiTouchEnabled</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> multiTouchEnabled <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<h5><a id="_Inputgyro_348"></a>陀螺仪（重力感应） Input.gyro</h5>
<h6><a id="_Inputgyroenabled_349"></a>是否开启陀螺仪 Input.gyro.enabled</h6>
<p>必须开启陀螺仪才能正常使用</p>
<pre><code class="prism language-csharp">Input<span class="token punctuation">.</span>gyro<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<h6><a id="_Inputgyrogravity_355"></a>重力加速度向量 Input.gyro.gravity</h6>
<h6><a id="_InputgyrorotationRate_356"></a>旋转速度 Input.gyro.rotationRate</h6>
<h6><a id="_Inputgyroattitude_357"></a>陀螺仪当前旋转的四元数 Input.gyro.attitude</h6>
<p>可以用这个角度信息来控制场景上一个3D物体在受到重力音响时，跟随手机的旋转而运动。</p>
<h3><a id="Screen_359"></a>屏幕相关Screen</h3>
<h4><a id="_360"></a>静态属性</h4>
<h5><a id="_361"></a>常用</h5>
<h6><a id="_ScreencurrentResolution_362"></a>当前屏幕分辨率 Screen.currentResolution</h6>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210511133541100.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/><br/> width:显示器（设备）分辨率宽度<br/> hgith:显示器（设备）分辨率高度<br/> refreshRate:显示器刷新频率</p>
<ul><li>屏幕窗口当前宽高 Screen.width Screen.height<br/> Screen.width:窗口分辨率宽度<br/> Screen.height:窗口分辨率高度<br/> <strong>在UnityEditor中，Screen.width和Screen.height可能跟Resolution.width和Resolution.height不一致（在Editor中，Resolution.width和Resolution.height表示显示器的分辨率，而Screen.width和Screen.height则是Game窗口的分辨率大小）。但是如果是在真机上的全屏游戏，这两个的值是一致的。</strong></li></ul>
<h6><a id="_ScreensleepTimeout_371"></a>屏幕休眠模式 Screen.sleepTimeout</h6>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210511134344470.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/></p>
<h5><a id="_373"></a>不常用</h5>
<h6><a id="_ScreenfullScreen_374"></a>运行时是否全屏 Screen.fullScreen</h6>
<h6><a id="_ScreenfullScreenMode_375"></a>全屏模式 Screen.fullScreenMode</h6>
<pre><code class="prism language-csharp">ExclusiveFullScreen：独占全屏
FullScreenWindow：全屏窗口
MaximizedWindow：最大化窗口
Windowed：窗口模式
</code></pre>
<h6><a id="_383"></a>移动设备屏幕转向相关</h6>
<p>(1)允许自动旋转为左横向，Home键在左</p>
<pre><code class="prism language-csharp">Screen<span class="token punctuation">.</span>autorotateToLandscapeLeft <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p>(2)允许自动旋转为右横向，Home键在右</p>
<pre><code class="prism language-csharp">Screen<span class="token punctuation">.</span>autorotateToLandscapeRight <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p>(3)允许自动旋转到竖向，Home键在下</p>
<pre><code class="prism language-csharp">Screen<span class="token punctuation">.</span>autorotateToPortrait <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p>(4)允许自动旋转到反竖向，Home键在上</p>
<pre><code class="prism language-csharp">Screen<span class="token punctuation">.</span>autorotateToPortraitUpsideDown <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p>(5)指定屏幕显示方向 Screen.orientation<br/> ScreenOrientation.AutoRotation：可以自动旋转<br/> ScreenOrientation.Landscape：只能横向旋转<br/> ScreenOrientation.LandscapeLeft：只能水平向左（Home键在左）<br/> ScreenOrientation.LandscapeRight：只能水平向右（Home键在右）<br/> ScreenOrientation.Portrait：只能竖向旋转<br/> ScreenOrientation.PortraitUpsideDown：只能反竖向（Home键在上）<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210511140445867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/></p>
<h4><a id="_414"></a>静态方法</h4>
<p>设置分辨率 Screen.SetResolution(宽度, 高度, 是否全屏)<br/> 一般在移动设备上不使用这个方法，在PC是可以使用。</p>
<h2><a id="Camera_418"></a>必不可少的Camera</h2>
<h3><a id="Camera_419"></a>Camera可编辑参数</h3>
<h4><a id="1Clear_Flags__420"></a>1、Clear Flags 如何清除背景</h4>
<ul><li>skybox 渲染天空盒 一般用于3D游戏</li><li>Solid Color 使用颜色填充空白区域 一般用于2D游戏</li><li>Depth Only 多个摄像机渲染时 只画Culling Mask指定层级的物体，空白内容的部分使用透明替代</li><li>Don’t Clear 不移除，覆盖渲染 一般不选</li></ul>
<h4><a id="2Culling_Mask__425"></a>2、Culling Mask 选择性渲染部分层级</h4>
<h4><a id="3Projection__426"></a>3、Projection 摄像机透视方式</h4>
<ul><li>Perspective 透视模式（默认） 正常眼睛看到的效果 近大远小 主要用于3D游戏<br/> (1)FOV Axis：视场角的轴<br/> (2)Field of View：视口大小，默认值为60度<br/> (3)Physical Camera：物理摄像机 勾选后可以模拟真实世界中的摄像机，焦距、传感器尺寸 透视移位等<br/> 1)Focal Length：焦距<br/> 2)Sensor Type：传感器类型<br/> 3)Sensor Size：传感器尺寸<br/> 4)Lens Shift：透镜移位<br/> 5)Gate Fit：闸门配合</li><li>orthographic 正交摄像机 没有透视效果，主要用于2D游戏<br/> 1)size：摄制范围</li></ul>
<h4><a id="4Clipping_Planes__438"></a>4、Clipping Planes 裁剪平面距离</h4>
<p>超出近平面和远平面之间的物体才能被摄像机渲染</p>
<h4><a id="5Viewport_Rect__440"></a>5、Viewport Rect 视口范围</h4>
<p>屏幕上将绘制该摄像机视图的位置，主要用于双摄像机游戏，0-1相当于宽高百分比</p>
<h4><a id="6Depth__442"></a>6、Depth 渲染优先级</h4>
<p>值越小越先渲染 在场景中有多个摄像机的情况下生效</p>
<h4><a id="7Rendering_path__444"></a>7、Rendering path 渲染路径</h4>
<h4><a id="8Target_Texture__445"></a>8、Target Texture 渲染纹理</h4>
<p>可以把摄像机画面渲染到一张图上，主要用来制作小地图</p>
<h4><a id="9Occlusion_Culling__447"></a>9、Occlusion Culling 是否启用剔除遮挡</h4>
<p>被挡住的模型不被渲染</p>
<h4><a id="10Allow_HDR__449"></a>10、Allow HDR 是否允许高动态范围渲染</h4>
<h4><a id="11Allow_MSAA__450"></a>11、Allow MSAA 是否允许抗锯齿</h4>
<h4><a id="12Allow_Dynamic_Resolution__451"></a>12、Allow Dynamic Resolution 是否允许动态分辨率呈现</h4>
<h4><a id="13Targe_Display__452"></a>13、Targe Display 显示在哪个显示器</h4>
<h3><a id="Camera_453"></a>Camera代码相关</h3>
<h4><a id="_454"></a>重要的静态成员</h4>
<h5><a id="_455"></a>获取摄像机</h5>
<ul><li>获取主摄像机</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210511172721998.png"/></p>
<pre><code class="prism language-csharp"><span class="token comment">// 使用这种方式获取主摄像机，需要保证场景中有个tag为MainCamera的摄像机，如果场景中没有tag为MainCamera的摄像机，该静态成员获取的值为null</span>
Camera<span class="token punctuation">.</span>main
</code></pre>
<ul><li>获取摄像机的数量</li></ul>
<pre><code class="prism language-csharp">Camera<span class="token punctuation">.</span>allCamerasCount
</code></pre>
<ul><li>获取所有的摄像机</li></ul>
<pre><code class="prism language-csharp"><span class="token class-name">Camera<span class="token punctuation">[</span><span class="token punctuation">]</span></span> allCamera <span class="token operator">=</span> Camera<span class="token punctuation">.</span>allCameras<span class="token punctuation">;</span>
</code></pre>
<h5><a id="_471"></a>渲染相关委托</h5>
<ul><li>当摄像机剔除前的委托</li></ul>
<pre><code class="prism language-csharp">Camera<span class="token punctuation">.</span>onPreCull <span class="token operator">+=</span> <span class="token punctuation">(</span>camera<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>摄像机渲染前处理的委托</li></ul>
<pre><code class="prism language-csharp">Camera<span class="token punctuation">.</span>onPreRender <span class="token operator">+=</span> <span class="token punctuation">(</span>camera<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>摄像机渲染后的委托</li></ul>
<pre><code class="prism language-csharp">Camera<span class="token punctuation">.</span>onPostRender <span class="token operator">+=</span> <span class="token punctuation">(</span>camera<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_490"></a>重要的成员</h4>
<ul><li>Camera组件在Inspector界面中能看到的参数都可以通过Camera中获取到<br/> 例如：</li></ul>
<pre><code class="prism language-csharp"><span class="token comment">// 获取主摄像机的深度值</span>
<span class="token class-name"><span class="token keyword">int</span></span> depth <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span>depth<span class="token punctuation">;</span>
</code></pre>
<ul><li>世界坐标转屏幕坐标</li></ul>
<pre><code class="prism language-csharp"><span class="token class-name">Vector</span> screenPos <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">WorldToScreenPoint</span><span class="token punctuation">(</span>世界坐标<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>screenPos.x代表屏幕上的x坐标，screenPos.y代表屏幕上的y坐标，screenPos.z代表在3D空间中，该位置距离摄像机的z方向的距离</strong></p>
<ul><li>屏幕坐标转世界坐标</li></ul>
<pre><code class="prism language-csharp">
<span class="token class-name">Vector3</span> v <span class="token operator">=</span> Input<span class="token punctuation">.</span>mousePosition<span class="token punctuation">;</span>
<span class="token comment">// !!!!!!注意：这里之所有要改变z轴的值，是因为，屏幕坐标的z值表示该位置距离摄像机的z方向的距离，如果不改的话，z的值默认为0，转换过去的得到的世界坐标系的点，永远是一个点，可以理解为视口相交的点，如果改变了z值，那么转换过去的世界坐标的点就相当于摄像机前方多少单位的横截面上的世界坐标点</span>
v<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token class-name">Vector3</span> worldPos <span class="token operator">=</span> Camera<span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">ScreenToWorldPoint</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h1><a id="Unity_512"></a>Unity核心系统</h1>
<h2><a id="_513"></a>光源系统</h2>
<h3><a id="_514"></a>光源组件</h3>
<h4><a id="Type__515"></a>Type 光源类型</h4>
<h5><a id="Spot__516"></a>Spot 【实时光源】聚光灯</h5>
<h6><a id="Range__517"></a>Range 发光距离</h6>
<h6><a id="Spot_Angle___518"></a>Spot Angle 光锥角度</h6>
<h5><a id="Directional__519"></a>Directional 【实时光源】方向光</h5>
<h5><a id="Point__520"></a>Point 【实时光源】点光源</h5>
<h5><a id="Area__521"></a>Area 【烘焙光源】范围光</h5>
<h4><a id="Color__522"></a>Color 光源颜色</h4>
<h4><a id="Mode__523"></a>Mode 光源模式</h4>
<h5><a id="Realtime__524"></a>Realtime 实时光源</h5>
<p>每帧实时计算，效果好，性能消耗大</p>
<h5><a id="Baked__526"></a>Baked 烘焙光源</h5>
<p>事先计算好，无法动态变化</p>
<h5><a id="Mixed__528"></a>Mixed 混合光源</h5>
<p>预先计算+实时计算</p>
<h4><a id="Intensity__530"></a>Intensity 光源亮度</h4>
<h4><a id="Indirect_Multiplier__531"></a>Indirect Multiplier 改变间接光的强度</h4>
<p>低于1，每次反弹会使光变暗<br/> 大于1，每次反弹会使光更亮</p>
<h4><a id="Shadow_Type__534"></a>Shadow Type 阴影类型</h4>
<h5><a id="NoShadows__535"></a>NoShadows 关闭阴影</h5>
<h5><a id="HardShadows___536"></a>HardShadows 生硬阴影（效果较差 但是性能消耗较少）</h5>
<h5><a id="SoftShadows__537"></a>SoftShadows 柔和阴影（效果最好的阴影）</h5>
<h4><a id="RealtimeShadows_538"></a>RealtimeShadows</h4>
<h5><a id="Strength_01_539"></a>Strength 阴影强度：阴影暗度0-1之间，越大越黑</h5>
<h5><a id="Resolution__540"></a>Resolution 阴影贴图渲染分辨率：越高越逼真，性能消耗越高</h5>
<h5><a id="Bias__541"></a>Bias 阴影离光源的距离</h5>
<h5><a id="Normal_Bias__542"></a>Normal Bias 引用投射面沿法线收缩距离</h5>
<h5><a id="Near_Panel__543"></a>Near Panel 渲染阴影的近裁剪面</h5>
<h4><a id="Cookie__544"></a>Cookie 投影遮罩</h4>
<p>主要用于聚光灯 用贴图实现各种不同效果的聚光灯</p>
<h4><a id="Cookie_Size_546"></a>Cookie Size</h4>
<p>方向光，投影遮罩的大小，因为方向光一般不会使用投影找找，所以该参数一般不用</p>
<h4><a id="Draw_Halo___548"></a>Draw Halo 球形光环开关 类似光晕效果</h4>
<h4><a id="Flare____549"></a>Flare 耀斑 一般用于方向光</h4>
<p>耀斑资源创建 Create–&gt;Lens Flare<br/> 默认在Game窗口中不会显示效果，Scene窗口可以显示，如果要在Game窗口中也显示耀斑效果，需要在光源组件上添加Flare Layer脚本</p>
<h4><a id="Render_Mode__552"></a>Render Mode 光源渲染模式</h4>
<h5><a id="Auto_553"></a>Auto：运行时确定</h5>
<h5><a id="Important_554"></a>Important：逐像素光源</h5>
<h5><a id="Not_Important_555"></a>Not Important：逐顶点光源</h5>
<h4><a id="Culling_Mask__556"></a>Culling Mask 剔除遮罩层</h4>
<p>决定那些层的对象接受该光源的影响</p>
<h3><a id="Lighting_Setting_558"></a>Lighting Setting面板</h3>
<p>Window–&gt;Rendering–&gt;Lighting Settings</p>
<h4><a id="Environment_560"></a>Environment</h4>
<h5><a id="Skybox_Material__561"></a>Skybox Material 天空盒材质</h5>
<p>创建天空盒材质：Create–&gt;Material 选择Skybox Shader</p>
<h5><a id="Sun_Source__563"></a>Sun Source 太阳来源</h5>
<p>不设置会默认使用场景中最亮的方向光代表太阳</p>
<h5><a id="Environment_Lighting__565"></a>Environment Lighting 环境光设置</h5>
<h6><a id="Source__566"></a>Source 环境光光源颜色</h6>
<p>1)Skybox 天空盒材质作为环境光颜色<br/> 2)Gradient 可以为天空、地平线、地面单独选择颜色 和它们之间混合<br/> 3)Color 指定颜色作为环境光光源颜色</p>
<h6><a id="Intensity_Multiplier__570"></a>Intensity Multiplier 环境光亮度</h6>
<h6><a id="Ambient_Mode__571"></a>Ambient Mode 全局光照模式</h6>
<p>只有启用了实时全局和全局烘焙时才有用<br/> 1)Realtime 已启用<br/> 2)Baked 烘焙</p>
<h4><a id="OtherSettings_575"></a>OtherSettings</h4>
<h5><a id="Fog__576"></a>Fog 雾开关</h5>
<h6><a id="Color__577"></a>Color 雾颜色</h6>
<h6><a id="Mode__578"></a>Mode 雾的计算模式</h6>
<p>1)Linear 随距离线性增加<br/> start：离摄像机多远开始有雾<br/> end：离摄像机多远完全遮挡<br/> 2)Exponential 随距离指数增加<br/> Density 强度<br/> 3)Exponential Squared 随距离比指数更快地增加<br/> Density 强度</p>
<h6><a id="Density__586"></a>Density 强度</h6>
<h5><a id="Halo_Texture__587"></a>Halo Texture 光源周围的光环纹理</h5>
<h5><a id="Halo_Strength__588"></a>Halo Strength 光环强度</h5>
<h5><a id="Flare_Fade_Speed__589"></a>Flare Fade Speed 耀斑淡出时间</h5>
<h5><a id="Flare_Strength__590"></a>Flare Strength 耀斑强度</h5>
<h5><a id="Spot_Cookie__591"></a>Spot Cookie 聚光灯剪影纹理</h5>
<h2><a id="_592"></a>物理系统之碰撞检测</h2>
<h3><a id="_Regidbody_593"></a>刚体 Regidbody</h3>
<p><strong>碰撞产生的必要条件是两个物体都有碰撞器且至少有一个物体有刚体</strong></p>
<h4><a id="Mass__595"></a>Mass 质量</h4>
<p>默认为千克 质量越大惯性越大</p>
<h4><a id="Drag__597"></a>Drag 空气阻力</h4>
<p>移动对象时受到的阻力大小 为0表示没有空气阻力</p>
<h4><a id="Angular_Drag__599"></a>Angular Drag 旋转阻力</h4>
<p>旋转对象时受到的阻力大小 为0表示没有空气阻力<br/> 例如一个刚体碰撞另一个刚体时，由于力的作用会导致两个碰撞的刚体边移动边旋转。当Angular Drag的值很大时，刚体会在段时间内停止旋转</p>
<h4><a id="Use_Gravity__602"></a>Use Gravity 是否受重力影响</h4>
<h4><a id="Is_Kinematic__603"></a>Is Kinematic 是否不受物理引擎驱动</h4>
<p>如果启用此选项，则对象将不会被物理引擎驱动，只能通过Transform对其进行操作。</p>
<h4><a id="Interpolate__605"></a>Interpolate 插值运算</h4>
<p>让刚体物体运动更平滑<br/> 之所以刚体物体在力的作用下能够平滑运动，那是因为引擎的物理帧频默认值很小，每一物理帧计算物体的位置，肉眼看不出问题，但是如果手动将物理帧频调低，则会出来物体运动时的一顿一顿的现象。<br/> 物理帧频设置：Edit–&gt;Project Settings–&gt;Time–&gt;Fixed Timestep<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210513141030314.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/></p>
<h5><a id="None__612"></a>None 不应用插值运算（默认）</h5>
<h5><a id="Interpolate__613"></a>Interpolate 根据前一帧的变换来平滑</h5>
<p>在物理帧频过小是，可以通过该方式平滑每物理帧之间的物体的位置变换。</p>
<h5><a id="Extrapolate__615"></a>Extrapolate 根据后一帧的变换来平滑</h5>
<p>在物理帧频过小是，可以通过该方式平滑每物理帧之间的物体的位置变换。 一般使用Interpolate</p>
<h4><a id="Collision_Detection__617"></a>Collision Detection 碰撞检测模式</h4>
<p>用于防止快速移动的对象穿过其他对象而无法检测到碰撞的问题<br/> 性能消耗 Discrete &lt; Continuous &lt; Continuous Speculative &lt; Continuous Dynamic</p>
<h5><a id="Discrete__620"></a>Discrete 离散检测（默认）</h5>
<h5><a id="Continuous__621"></a>Continuous 连续检测</h5>
<h5><a id="Continuous_Dynamic__622"></a>Continuous Dynamic 连续动态检测</h5>
<h5><a id="Continuous_Speculative__623"></a>Continuous Speculative 连续推测检测</h5>
<p><img alt="两物体相互碰撞，不同的碰撞检测模式下最终采用的碰撞检测模式" src="https://img-blog.csdnimg.cn/20210513142216607.png"/></p>
<h4><a id="Constraints__625"></a>Constraints 对刚体运动的限制</h4>
<h5><a id="Freeze_Position__626"></a>Freeze Position 对位置的约束</h5>
<p>勾选x、y、z表示在力的作用对对应轴的坐标不会发生变化</p>
<h5><a id="Freeze_Rotation__628"></a>Freeze Rotation 对旋转的约束</h5>
<p>勾选x、y、z表示在力的作用对对应轴的旋转不会发生变化</p>
<h3><a id="_Collider_630"></a>碰撞器 Collider</h3>
<p>碰撞器表示物体的物理形状</p>
<h4><a id="3D_632"></a>3D碰撞器种类</h4>
<h5><a id="_Box_Collider_633"></a>盒状碰撞器 Box Collider</h5>
<h5><a id="_Sphere_Collider_634"></a>球状碰撞器 Sphere Collider</h5>
<h5><a id="_Capsule_Collider_635"></a>胶囊碰撞器 Capsule Collider</h5>
<h5><a id="_Mesh_Collider_636"></a>网格碰撞器 Mesh Collider</h5>
<h5><a id="_Wheel_Collider_637"></a>轮胎碰撞器 Wheel Collider</h5>
<h5><a id="_Terrain_Collider_638"></a>地形碰撞器 Terrain Collider</h5>
<h4><a id="_639"></a>共同参数</h4>
<h5><a id="Is_Trigger___640"></a>Is Trigger 触发器 默认不勾选</h5>
<p>如果启用，表示该碰撞器将用于碰撞检测，但是不会产生物理效果。<br/> 主要用于进行没有物体效果的碰撞检测</p>
<h5><a id="Material__643"></a>Material 物理材质</h5>
<p>可以确定碰撞体和其他对象碰撞时的交互（表现）方式</p>
<h5><a id="Center_645"></a>Center</h5>
<p>碰撞器在物体局部空间中的中心点位置</p>
<h4><a id="_647"></a>常用碰撞器特有参数</h4>
<h5><a id="_Box_Collider_648"></a>盒状碰撞器 Box Collider</h5>
<h6><a id="sizexyz_649"></a>size：碰撞器在x、y、z方向上的大小</h6>
<h5><a id="_Sphere_Collider_650"></a>球状碰撞器 Sphere Collider</h5>
<h6><a id="Raduis_651"></a>Raduis：碰撞器的半径大小</h6>
<h5><a id="_Capsule_Collider_652"></a>胶囊碰撞器 Capsule Collider</h5>
<h6><a id="Radius_653"></a>Radius：胶囊体的上下半球的半径大小</h6>
<h6><a id="Height_654"></a>Height：胶囊体圆柱体的高度</h6>
<h6><a id="Direction_YAxis_655"></a>Direction：胶囊体在对象局部空间中的轴向 默认是Y-Axis</h6>
<h4><a id="_656"></a>异形物体使用多种碰撞器组合</h4>
<p>刚体对象的子对象碰撞器参与碰撞检测<br/> <strong>例如一个人物的模型，各个部位需要参与碰撞检测且又需要有刚体的效果。需要在人物的各个部位添加碰撞器，然后在父节点上添加一个刚体组件，即可实现节点下所有碰撞器有刚体的效果。</strong></p>
<h4><a id="_659"></a>不常用碰撞器</h4>
<h5><a id="_Mesh_Collider_660"></a>网格碰撞器 Mesh Collider</h5>
<p>性能消耗较高<br/> <strong>如果为有网格碰撞器的物体添加刚体组件，则必须勾选Mesh Collider的Convex选项，否则会报错。网格碰撞器最多支持255个三角形</strong></p>
<h5><a id="_Wheel_Collider_663"></a>轮胎碰撞器 Wheel Collider</h5>
<p>应用场景较少</p>
<h5><a id="_Terrain_Collider_665"></a>地形碰撞器 Terrain Collider</h5>
<p>性能消耗较高</p>
<h3><a id="_667"></a>物理材质</h3>
<h4><a id="_668"></a>创建物理材质</h4>
<p>Create–&gt;Physica Material</p>
<h4><a id="_670"></a>物理材质参数</h4>
<h5><a id="Dynamic_Friction__671"></a>Dynamic Friction 移动时使用的摩擦力</h5>
<p>值在0-1之间，值为0时就像冰一样，值为1时对象迅速静止（除非用很大的力推动对象）</p>
<h5><a id="Static_Friction__673"></a>Static Friction 静止时使用的摩擦力</h5>
<p>值在0-1之间，值为0时就像冰一样，值为1时导致对象很难被移动</p>
<h5><a id="Bounciness__675"></a>Bounciness 表面的弹性</h5>
<p>值在0-1之间，值为0不会反弹，值为1时将在反弹时不产生任何能量损失</p>
<h5><a id="Friction_Combine__677"></a>Friction Combine 两个碰撞对象摩擦力的计算方式</h5>
<h6><a id="Average__678"></a>Average 对两个摩擦值求平均值</h6>
<h6><a id="Mininum__679"></a>Mininum 使用两个摩擦力值中最小的</h6>
<h6><a id="Maximum__680"></a>Maximum 使用两个摩擦力值中最大的</h6>
<h6><a id="Multiply__681"></a>Multiply 两个摩擦力值相乘</h6>
<h5><a id="Bounce_Combine___Friction_Combine_682"></a>Bounce Combine 两个碰撞对象反弹力的计算方式 同 Friction Combine</h5>
<h3><a id="_683"></a>碰撞检测函数</h3>
<p>碰撞触发函数属于特殊的<strong>生命周期</strong>函数，跟其他生命周期函数一样，也是Unity通过<strong>反射</strong>来调用，<strong>在FixedUpdate之后执行，每次在执行完FixedUpdate函数后都会相应碰撞检测</strong></p>
<h4><a id="_685"></a>物理碰撞检测响应函数</h4>
<pre><code class="prism language-csharp"><span class="token comment">// 碰撞时会自动执行的函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnCollisionEnter</span><span class="token punctuation">(</span><span class="token class-name">Collision</span> collision<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// Collision类型的参数包含了碰到了自己的对象的相关信息</span>
	<span class="token comment">// 关键参数：</span>
	<span class="token comment">// 1、对象碰撞器的信息 collision.collider[Collider]</span>
	<span class="token comment">// 2、对象信息 collision.gameObject[GameObject]</span>
	<span class="token comment">// 3、对象位置信息 collision.transform[Transform]</span>
	<span class="token comment">// 4、触碰点数量 collision.contactCount[int]</span>
	<span class="token comment">// 5、接触点信息 collision.contacts[ContactPoint[]]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 碰撞分离时会自动执行的函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnCollisionExit</span><span class="token punctuation">(</span><span class="token class-name">Collision</span> collision<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>   
<span class="token punctuation">}</span>
<span class="token comment">// 两个物体互相接触摩擦时会不停调用该函数（当物体静止时就会停止调用该函数）</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnCollisionStay</span><span class="token punctuation">(</span><span class="token class-name">Collision</span> collision<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="_707"></a>触发器检测响应函数</h4>
<pre><code class="prism language-csharp"><span class="token comment">// 触发接触时会自动执行的函数</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerEnter</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">// 触发分离时会自动执行的函数（穿过体内时）</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerExit</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token comment">// 触发接触中会自动执行的函数（穿出体内时）</span>
<span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnTriggerStay</span><span class="token punctuation">(</span><span class="token class-name">Collider</span> other<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="_722"></a>要明确什么时候会响应函数</h4>
<p><strong>只要两个物体满足碰撞或者触发的条件，不管它有没有刚体组件，都会触发对应的函数</strong><br/> <strong>如果是一个异形物体，刚体在父对象上，如果在子对象上挂脚本检测碰撞是不可以的，必须挂载到这个刚体父对象上</strong></p>
<h4><a id="_725"></a>碰撞和触发器函数都可以写成虚函数，在子类中重写逻辑</h4>
<p>一般会把想要重写的碰撞和触发响应函数写成protected类型的，没有必要写成public类型，因为这些函数都是Unity通过反射自动调用的，不需要手动调用。</p>
<h3><a id="_727"></a>刚体加力</h3>
<h4><a id="_728"></a>刚体自带添加力的方法</h4>
<p>给刚体加力的目标就是让其有一个速度 ，朝一个方向运动<br/> 获取rigidbody组件：</p>
<pre><code class="prism language-csharp"><span class="token class-name">Rigidbody</span> rigidbody <span class="token operator">=</span> <span class="token generic-method"><span class="token function">GetComponent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Rigidbody<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h5><a id="_735"></a>添加力</h5>
<h6><a id="_736"></a>相对世界坐标系</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddForce</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> force<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h6><a id="_740"></a>相对本地坐标系</h6>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddRelativeForce</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> force<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_744"></a>添加扭矩力，让其旋转</h4>
<h5><a id="_745"></a>相对世界坐标系</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddTorque</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> torque<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a id="_749"></a>相对本地坐标系</h5>
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddRelativeTorque</span><span class="token punctuation">(</span><span class="token class-name">Vector3</span> torque<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_753"></a>直接改变速度</h4>
<pre><code class="prism language-csharp"><span class="token comment">// 相对于世界坐标系</span>
<span class="token keyword">public</span> <span class="token return-type class-name">Vector3</span> velocity <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<h4><a id="_758"></a>模拟爆炸效果</h4>
<pre><code class="prism language-csharp"><span class="token comment">// 力的大小，爆炸中心，爆炸半径</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AddExplosionForce</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">float</span></span> explosionForce<span class="token punctuation">,</span> <span class="token class-name">Vector3</span> explosionPosition<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">float</span></span> explosionRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_763"></a>力的几种模式</h4>
<p>在上面提到的添加里的方法有一个可选参数ForceMode，添加的力的模式<br/> 根据动量守恒定理：Ft = mv (力X时间=质量X速度)，推导出v=Ft/m<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210513174216804.png"/></p>
<h5><a id="Force__767"></a>Force 给物体添加一个持续的力，与物体的质量有关（较真实，因为不会忽略一些条件）</h5>
<p>假设F = 10, m = 2kg<br/> t = 0.02s<br/> v = 10 * 0.02 / 2 = 0.1m/s<br/> 每物理帧移动=0.1m/s * 0.02s = 0.002m</p>
<h5><a id="Impulse__1_772"></a>Impulse 给物体添加一个瞬间的力，与物体的质量有关，忽略时间 默认是1</h5>
<p>假设F = 10，m = 2kg<br/> t = 1s<br/> v = 10 * 1 / 2 = 5m/s<br/> 每物理帧移动=5m/s * 0.02s = 0.1m</p>
<h5><a id="VelocityChange__777"></a>VelocityChange 给物体添加一个瞬时速度，忽略质量，忽略时间</h5>
<p>假设F = 10<br/> t = 1s<br/> m = 1kg<br/> v = 10 * 1 / 1 = 10m/s<br/> 每物理帧移动=10m/s * 0.02s = 0.2m</p>
<h5><a id="Acceleration__783"></a>Acceleration 给物体添加一个持续的加速度，忽略其质量</h5>
<p>假设F = 10<br/> t = 0.02s<br/> m = 1kg<br/> v = 10 * 0.02 / 1 = 0.2m/s<br/> 每物理帧移动=0.2m/s * 0.02s = 0.004m</p>
<h4><a id="_ConstantForce_789"></a>力场脚本 ConstantForce</h4>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210513180131935.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/><br/> 添加ConstantForce脚本时，如果物体没有添加刚体组件，则会自动添加该脚本<br/> 一般场景上一个持续运动的物体可以添加一个ConstantForce脚本，而不需要在代码里添加</p>
<h4><a id="_793"></a>刚体的休眠</h4>
<p>Unity为了节省性能，会使刚体处于休眠状态（如，受重力影响的物体下落到地面上），此时如果旋转地面的角度，该物体的位置并不会变化，此时该刚体处于休眠状态<br/> 如下图：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210513180835130.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3pvdWppYW5kb25nXzg4ODg=,size_16,color_FFFFFF,t_70"/><br/> 在立方体和平面接触了之后，旋转平面，此时平面已经于立方体脱离了，但是立方体并没有反应。此时如果移动一下平面，则立方体才会有反应。<br/> 如果不想要物体休眠，可以在Update生命周期函数中做一下判断，如果刚体休眠了，则唤醒它。</p>
<pre><code class="prism language-csharp"><span class="token keyword">if</span><span class="token punctuation">(</span>rigidbody<span class="token punctuation">.</span><span class="token function">IsSleeping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	rigidbody<span class="token punctuation">.</span><span class="token function">WakeUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="_806"></a>音效系统</h2>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>