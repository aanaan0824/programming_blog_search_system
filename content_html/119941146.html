<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h1><a id="_1"></a>简介</h1>
<p>最近开始学习unity3D建模，在<a href="http://c.biancheng.net/view/2685.html">Unity 3D脚本应用实例演示（三个实例）</a>上学习了一个案例设计，C# 程序如下：</p>
<pre><code class="prism language-csharp"><span class="token keyword">using</span> <span class="token namespace">UnityEngine</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyScript</span><span class="token punctuation">:</span><span class="token type-list"><span class="token class-name">MonoBehaviour</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//声明4个变量</span>
    <span class="token keyword">public</span> <span class="token class-name">GameObject</span> myCube<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">int</span></span> transSpeed<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> rotaSpeed<span class="token operator">=</span><span class="token number">10.5f</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> scale<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">OnGUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"移动立方体"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            myCube<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Translate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>forward<span class="token operator">*</span>transSpeed<span class="token operator">*</span>Time<span class="token punctuation">.</span>deltaTime<span class="token punctuation">,</span> Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"旋转立方体"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            myCube<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">Rotate</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">.</span>up<span class="token operator">*</span>rotaSpeed<span class="token punctuation">,</span> Space<span class="token punctuation">.</span>World<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>GUILayout<span class="token punctuation">.</span><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"缩放立方体"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            myCube<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>localScale<span class="token operator">=</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>该脚本中声明了4个变量，且都是<code>public</code>修饰。</p>
<blockquote>
<p>public 修饰的变量可以作为属性出现在组件下。<br/> 比如说，C# 中出现的四个变量：myCube，transSpeed，rotaSpeed，scale；都在Inspector中出现了。</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/923ad59d7b714446b570455b93cdf212.png"/></p>
<h1><a id="_35"></a>问题</h1>
<p>点击运行，会在<code>Game</code>中显示游戏窗口及GUI交互界面。但是点击<code>移动立方体</code>或者任何一个选项时，console都都提示出错。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/24269ac414234779bdeab6d03748e2c7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAbG92ZXRhb3ppYmFieQ==,size_12,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>报错：<code>UnassignedReferenceException: The variable myCube of MyScript has not been assigned. You probably need to assign the myCube variable of the MyScript script in the inspector. MyScript.OnGUI ()</code></p>
<h1><a id="_42"></a>解决办法</h1>
<p>从网上搜索了报错的意思：<code>尚未分配MyScript的变量myCube。您可能需要在检查器中为MyScript脚本分配myCube变量。</code></p>
<p>介个，作为unity小白，一开始搜索了很多解决办法，但是都没有成功的。</p>
<p>然后我就重新理解了一下字面意思，意思是，在<code>Inspector</code>中没有给<code>mycube</code>分配对象。</p>
<p>然后我将<code>My Cube</code>变量与<code>Trans Speed</code>这个<code>public</code>变量做对比，发现确实是，<code>Trans Speed</code>变量有赋值<code>100</code>，但是<code>My Cube</code>并没有定义对象。所以只需要在<code>My Cube</code>选项的右侧选择对应的目标即可。</p>
<p>操作为：</p>
<ol><li>点击<code>My Cube</code>右侧这个按键</li></ol>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a2fe3ed09a1b41a0aac2a31062a6bac6.png"/><br/> 2. 选项对象</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5a2fde536f6a4d948b4946586e8358c4.png"/><br/> 然后<code>My Script</code>脚本就变成了这样：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ee13a83f71fb47d7ba9d3e0615d1d607.png"/><br/> 好了，再点击运行→移动立方体，就能正常运行了。</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>