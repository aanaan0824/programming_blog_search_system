<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-tomorrow-night-eighties" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#1_2">1.基本说明</a></li><li><a href="#2_13">2.原理</a></li><li><a href="#3_17">3.安装</a></li><li><a href="#4_24">4.颜色</a></li><li><a href="#5EasyX_40">5.EasyX设备</a></li><li><a href="#6_48">6.窗口函数</a></li><li><ul><li><a href="#initgraph_60">`initgraph`</a></li><li><ul><li><a href="#_62">描述</a></li><li><a href="#_66">定义声明</a></li><li><a href="#_76">参数</a></li><li><a href="#_95">返回值</a></li><li><a href="#_99">示例代码</a></li></ul>
</li><li><a href="#closegraph_121">`closegraph`</a></li><li><a href="#cleardevice_131">`cleardevice`</a></li></ul>
</li><li><a href="#7_141">7.图形颜色及样式相关函数</a></li><li><ul><li><a href="#_143">表格</a></li><li><a href="#bk_154">背景bk相关函数</a></li><li><ul><li><a href="#setbkcolor_156">`setbkcolor`-设置背景颜色</a></li><li><ul><li><a href="#_164">参数</a></li><li><a href="#_170">返回值</a></li><li><a href="#_174">备注</a></li><li><a href="#_180">示例</a></li></ul>
</li><li><a href="#setbkmode___211">`setbkmode` - 设置图案文字背景</a></li><li><ul><li><a href="#_219">参数</a></li></ul>
</li></ul>
</li><li><a href="#fill_232">填充fill相关函数</a></li><li><ul><li><a href="#setfillcolor___234">`setfillcolor` - 设置填充颜色</a></li><li><ul><li><a href="#_242">参数</a></li><li><a href="#_248">返回值</a></li><li><a href="#_252">示例</a></li></ul>
</li><li><a href="#setfillstyle___260">`setfillstyle` - 设置填充样式</a></li><li><ul><li><a href="#_278">参数</a></li><li><a href="#_319">返回值</a></li><li><a href="#_323">示例</a></li></ul>
</li></ul>
</li><li><a href="#line_395">line线相关函数</a></li><li><ul><li><a href="#setlinecolor___397">`setlinecolor` - 设置画线颜色</a></li><li><ul><li><a href="#_405">参数</a></li></ul>
</li><li><a href="#setlinestyle_411">`setlinestyle`-设置画线样式</a></li><li><ul><li><a href="#_427">参数</a></li><li><a href="#_450">返回值</a></li><li><a href="#_454">备注</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#8_498">8.图形绘制函数</a></li><li><ul><li><a href="#1circle_502">1.圆-`circle`</a></li><li><ul><li><ul><li><a href="#_504">声明</a></li><li><a href="#_513">代码样例</a></li></ul>
</li></ul>
</li><li><a href="#2__rectangle_563">2.矩形 - `rectangle`</a></li><li><ul><li><a href="#_565">声明</a></li><li><a href="#_579">代码样例</a></li></ul>
</li><li><a href="#3__ellipse_625">3.椭圆 - `ellipse`</a></li><li><ul><li><a href="#_627">声明</a></li><li><a href="#_641">代码样例</a></li></ul>
</li><li><a href="#4__roundrectangle_683">4.圆角矩形 - `roundrectangle`</a></li><li><ul><li><a href="#_685">声明</a></li><li><a href="#_701">代码样例</a></li></ul>
</li></ul>
</li><li><a href="#9_796">9.文字绘制函数</a></li><li><ul><li><a href="#logfont_798">字体属性结构体:`logfont`</a></li><li><a href="#outtextxy___830">`outtextxy` - 在指定位置输出字符串</a></li><li><ul><li><a href="#_840">参数：</a></li><li><a href="#_847">注意：</a></li><li><a href="#_855">实例</a></li></ul>
</li><li><a href="#settextcolor_887">`settextcolor`</a></li><li><a href="#settextstyle_897">`settextstyle`</a></li><li><ul><li><ul><li><a href="#_937">参数</a></li><li><ul><li><a href="#_955">返回值</a></li><li><a href="#_959">示例</a></li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li><a href="#10_977">10.图像处理函数</a></li><li><ul><li><a href="#loadimage_979">`loadimage`</a></li><li><ul><li><a href="#_983">声明:</a></li><li><a href="#_1005">参数:</a></li><li><a href="#_1015">备注:</a></li><li><a href="#_1021">代码示例:</a></li></ul>
</li><li><a href="#putimage_1066">`putimage`</a></li><li><ul><li><a href="#_1070">声明:</a></li><li><a href="#_1093">备注:</a></li><li><a href="#_1119">示例:</a></li></ul>
</li></ul>
</li><li><a href="#11_1129">11.消息处理相关函数</a></li><li><ul><li><a href="#ExMessage___1133">`ExMessage` - 消息结构体</a></li><li><ul><li><a href="#_1135">定义声明:</a></li><li><a href="#_1180">成员</a></li></ul>
</li><li><a href="#flushmessage___1240">`flushmessage` - 清空缓冲区</a></li><li><ul><li><ul><li><a href="#_1248">参数</a></li><li><ul><li><a href="#filte_1250">filte</a></li></ul>
</li></ul>
</li></ul>
</li><li><a href="#getmessage___1261">`getmessage` - 获取一个消息</a></li><li><ul><li><a href="#_1270">参数</a></li><li><ul><li><a href="#msg_1272">msg</a></li><li><a href="#filter_1276">filter</a></li></ul>
</li><li><a href="#_1287">返回值</a></li><li><a href="#_1293">备注</a></li></ul>
</li><li><a href="#peekmessage___1297">`peekmessage` - 获取一个消息，并立即返回。</a></li><li><ul><li><a href="#_1305">参数</a></li><li><ul><li><a href="#msg_1307">msg</a></li><li><a href="#filter_1311">filter</a></li><li><a href="#removemsg_1322">removemsg</a></li></ul>
</li><li><a href="#_1326">返回值</a></li><li><a href="#_1332">备注</a></li></ul>
</li></ul>
</li><li><a href="#12_1336">12.我们在使用时一些基本操作:</a></li><li><ul><li><a href="#_1338">画图：</a></li><li><ul><li><a href="#_1340">代码:画圆圈</a></li><li><a href="#_1368">样例输出:</a></li></ul>
</li><li><a href="#_1372">文字</a></li><li><ul><li><a href="#_1387">代码:文字居中</a></li><li><a href="#_1421">输出效果:</a></li></ul>
</li><li><a href="#_1427">图像:</a></li><li><ul><li><a href="#_1444">代码</a></li><li><a href="#_1468">输出样例</a></li></ul>
</li><li><a href="#_1472">鼠标操作:</a></li><li><ul><li><a href="#graphicsh_1474">老版:`graphics.h`</a></li><li><a href="#_1554">新版</a></li></ul>
</li><li><a href="#_1613">键盘操作</a></li><li><ul><li><a href="#EastX_1615">非EastX函数——键盘消息函数</a></li><li><a href="#getch_getch_1643">`getch()`/`_getch()`</a></li><li><a href="#getAsyncState_1859">`getAsyncState()`</a></li></ul>
</li><li><a href="#_1914">音乐播放</a></li><li><a href="#_1948">修改窗口标题、弹出对话框</a></li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="1_2"></a>1.基本说明</h1>
<p><a href="https://www.bilibili.com/video/BV11p4y1i74A?p=1">教学视频</a><br/> <a href="https://docs.easyx.cn/zh-cn/intro">介绍网址</a></p>
<ul><li>EasyX是针对C++的图形库，可以帮助C/C++初学者快速上手图形和游戏编程。</li><li>比如 ,可以基于EasyX图形库很快用几何图形画一个房子，或者一辆移动的小车，可以编写俄罗斯方块 、贪吃蛇、黑白棋等小游戏。</li><li>许多人学编程是从C语言入门的，而目前的现状是</li><li>
<ul><li>学校值只教基础语法，一直在黑窗口练习，同学们学的很乏味。</li><li>即使有的学校教图形编程，也是使用一些难度较高的， 比如Win32,OpenlGl门槛依然很高，初学者容易收到打击。</li><li>开始引出我们的EasyX。</li></ul> </li></ul>
<h1><a id="2_13"></a>2.原理</h1>
<p>基于Windows图形编程，将Windows下的复杂程序过程进行封装,将Windows下的编程过程隐藏，给用户提供一个简单熟悉的接口。用户对于<a href="https://so.csdn.net/so/search?q=%E5%9B%BE%E5%BD%A2%E5%BA%93&amp;spm=1001.2101.3001.7020">图形库</a>中函数的调用，最终都会由Windows的底层API实现。</p>
<h1><a id="3_17"></a>3.安装</h1>
<ul><li>Easyx图形库支持Vs各种版本，下载解压后，直接执行安装程序即可。</li><li>头文件graphics.h，<mark>注意现在更新后最好用<code>easyx.h</code>,某些宏定义前要加<code>EW_</code>!!!</mark></li><li>帮助文档<a href="https://docs.easyx.cn/zh-cn/intro">EasyX 文档 - 基本说明</a></li><li>下载<a href="https://easyx.cn/">EasyX Graphics Library for C++</a></li></ul>
<h1><a id="4_24"></a>4.颜色</h1>
<p>三原色:红绿蓝</p>
<p><img alt="image-20220413132641451" src="https://img-blog.csdnimg.cn/img_convert/be38b94710db04e523fd4578e86b587f.png"/></p>
<p>用RGB宏合成颜色，实际上合成出来的颜色是一个十六进制的的整数。</p>
<p><strong>每个颜色部分的值都是0~255，数字越大颜色越浅</strong></p>
<pre><code class="prism language-c"><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="image-20220413132952957" src="https://img-blog.csdnimg.cn/img_convert/d1a162a8fb7515a20d2cc710faf9bb51.png"/></p>
<h1><a id="5EasyX_40"></a>5.EasyX设备</h1>
<ul><li>坐标默认的原点在窗口的左上角，X轴向右为正，Y 轴向下为正，度量单位是像素点。</li><li>设备：简单来说，就是绘图表面。</li><li>在EasyX中,设备分两种，一种是默认的绘图窗口另一种是IMAGE对象。通过SetWorkinglmage()函数可以设置当前用于绘图的设备。设置当前用于绘图的设备后,所有的绘图函数都会绘制在该设备上。(后面再去理解)</li></ul>
<p><img alt="image-20220413133321645" src="https://img-blog.csdnimg.cn/img_convert/72d0a19997ea38bd4e58d1f30e1ef057.png"/></p>
<h1><a id="6_48"></a>6.窗口函数</h1>
<p>窗口函数用于窗口的一些操作</p>
<pre><code class="prism language-c"><span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭绘图窗口</span>
</code></pre>
<pre><code class="prism language-c"><span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清空绘图设备</span>
</code></pre>
<h2><a id="initgraph_60"></a><code>initgraph</code></h2>
<h3><a id="_62"></a>描述</h3>
<p>初始化绘图窗口。</p>
<h3><a id="_66"></a>定义声明</h3>
<pre><code class="prism language-c">HWND <span class="token function">initgraph</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> width<span class="token punctuation">,</span>
	<span class="token keyword">int</span> height<span class="token punctuation">,</span>
	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token constant">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_76"></a>参数</h3>
<ul><li> <p>width：绘图窗口的宽度。</p> </li><li> <p>height：绘图窗口的高度。</p> </li><li> <p>flag：绘图窗口的样式，默认为 NULL。可为以下值：</p>
<table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>EW_DBLCLKS</td><td>在绘图窗口中支持鼠标双击事件。</td></tr><tr><td>EW_NOCLOSE</td><td>禁用绘图窗口的关闭按钮。</td></tr><tr><td>EW_NOMINIMIZE</td><td>禁用绘图窗口的最小化按钮。</td></tr><tr><td>EW_SHOWCONSOLE</td><td>显示控制台窗口。</td></tr></tbody></table><p>ps:也可以不写前面的<code>EW_</code></p> <p>​ console:控制台</p> </li></ul>
<h3><a id="_95"></a>返回值</h3>
<p>返回新建绘图窗口的句柄。</p>
<h3><a id="_99"></a>示例代码</h3>
<p>以下代码片段创建一个尺寸为 640x480 的绘图窗口：</p>
<pre><code class="prism language-c"><span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下代码片段创建一个尺寸为 640x480 的绘图窗口，同时显示控制台窗口：</p>
<pre><code class="prism language-c"><span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">,</span> EW_SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下代码片段创建一个尺寸为 640x480 的绘图窗口，同时显示控制台窗口，并禁用关闭按钮：</p>
<pre><code class="prism language-c"><span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">,</span> EW_SHOWCONSOLE <span class="token operator">|</span> EW_NOCLOSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<h2><a id="closegraph_121"></a><code>closegraph</code></h2>
<p>这个函数用于关闭绘图窗口。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<h2><a id="cleardevice_131"></a><code>cleardevice</code></h2>
<p>这个函数<strong>使用当前背景色</strong>清空绘图设备。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<h1><a id="7_141"></a>7.图形颜色及样式相关函数</h1>
<h2><a id="_143"></a>表格</h2>
<table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>setbkcolor</td><td>设置当前设备绘图背景色。</td></tr><tr><td>setbkmode</td><td>设置当前设备图案填充和文字输出时的背景模式。</td></tr><tr><td>setfillcolor</td><td>设置当前设备填充颜色。</td></tr><tr><td>setfillstyle</td><td>设置当前设备填充样式。</td></tr><tr><td>setlinecolor</td><td>设置当前设备画线颜色。</td></tr><tr><td>setlinestyle</td><td>设置当前设备画线样式。</td></tr></tbody></table>
<h2><a id="bk_154"></a>背景bk相关函数</h2>
<h3><a id="setbkcolor_156"></a><code>setbkcolor</code>-设置背景颜色</h3>
<p>这个函数用于设置当前设备绘图背景色。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">setbkcolor</span><span class="token punctuation">(</span>COLORREF color<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_164"></a>参数</h4>
<p>color</p>
<p>指定要设置的背景颜色。</p>
<h4><a id="_170"></a>返回值</h4>
<p>无</p>
<h4><a id="_174"></a>备注</h4>
<p>在设置背景色之后，<u>并不会改变现有背景色</u>，而是只改变背景色的值，之后再执行绘图语句，例如 outtextxy，会使用新设置的背景色值。</p>
<p>如果需要修改全部背景色，可以在设置背景色后执行 cleardevice() 函数。</p>
<h4><a id="_180"></a>示例</h4>
<p>以下示例实现在蓝色背景下绘制红色的矩形：</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;conio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 初始化绘图窗口</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 设置背景色为蓝色</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 用背景色清空屏幕</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 设置绘图色为红色</span>
	<span class="token function">setcolor</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 画矩形</span>
	<span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 按任意键退出</span>
	<span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="setbkmode___211"></a><code>setbkmode</code> - 设置图案文字背景</h3>
<p>这个函数用于设置当前设备图案填充和文字输出时的背景模式。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">setbkmode</span><span class="token punctuation">(</span><span class="token keyword">int</span> mode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_219"></a>参数</h4>
<p>mode</p>
<p>指定图案填充和文字输出时的背景模式，可以是以下值：</p>
<table><thead><tr><th>值</th><th>描述</th></tr></thead><tbody><tr><td>OPAQUE</td><td>背景用当前背景色填充（默认）。</td></tr><tr><td>TRANSPARENT</td><td>背景是透明的。</td></tr></tbody></table>
<h2><a id="fill_232"></a>填充fill相关函数</h2>
<h3><a id="setfillcolor___234"></a><code>setfillcolor</code> - 设置填充颜色</h3>
<p>这个函数用于设置当前设备填充颜色。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">setfillcolor</span><span class="token punctuation">(</span>COLORREF color<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_242"></a>参数</h4>
<p>color</p>
<p>填充颜色。</p>
<h4><a id="_248"></a>返回值</h4>
<p>无</p>
<h4><a id="_252"></a>示例</h4>
<p>设置蓝色填充：</p>
<pre><code class="prism language-cpp"><span class="token function">setfillcolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="setfillstyle___260"></a><code>setfillstyle</code> - 设置填充样式</h3>
<p>这个函数用于设置当前设备填充样式。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">setfillstyle</span><span class="token punctuation">(</span>
	FILLSTYLE<span class="token operator">*</span> pstyle
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setfillstyle</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> style<span class="token punctuation">,</span>
	<span class="token keyword">long</span> hatch <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
	IMAGE<span class="token operator">*</span> ppattern <span class="token operator">=</span> <span class="token constant">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setfillstyle</span><span class="token punctuation">(</span>
	BYTE<span class="token operator">*</span> ppattern8x8
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_278"></a>参数</h4>
<p>pstyle</p>
<p>指向填充样式 <a href="FILLSTYLE.htm">FILLSTYLE</a> 的指针。</p>
<p>style</p>
<p>指定填充样式。可以是以下宏或值：</p>
<table><thead><tr><th>宏</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>BS_SOLID</td><td>0</td><td>固实填充。</td></tr><tr><td>BS_NULL</td><td>1</td><td>不填充。</td></tr><tr><td>BS_HATCHED</td><td>2</td><td>图案填充。</td></tr><tr><td>BS_PATTERN</td><td>3</td><td>自定义图案填充。</td></tr><tr><td>BS_DIBPATTERN</td><td>5</td><td>自定义图像填充。</td></tr></tbody></table>
<p>hatch</p>
<p>指定填充图案，仅当 style 为 BS_HATCHED 时有效。填充图案的颜色由函数 <a href="setfillcolor.htm">setfillcolor</a> 设置，背景区域使用背景色还是保持透明由函数 <a href="setbkmode.htm">setbkmode</a> 设置。hatch 参数可以是以下宏或值：</p>
<table><thead><tr><th>宏</th><th>值</th><th>含义</th></tr></thead><tbody><tr><td>HS_HORIZONTAL</td><td>0</td><td><img alt="image-20220413195447083" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413195447083.png"/></td></tr><tr><td>HS_VERTICAL</td><td>1</td><td><img alt="image-20220413195511302" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413195511302.png"/></td></tr><tr><td>HS_FDIAGONAL</td><td>2</td><td><img alt="image-20220413195533680" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413195533680.png"/></td></tr><tr><td>HS_BDIAGONAL</td><td>3</td><td><img alt="image-20220413195556610" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413195556610.png"/></td></tr><tr><td>HS_CROSS</td><td>4</td><td><img alt="image-20220413195613199" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413195613199.png"/></td></tr><tr><td>HS_DIAGCROSS</td><td>5</td><td><img alt="image-20220413195641861" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413195641861.png"/></td></tr></tbody></table>
<p>ppattern</p>
<p>指定自定义填充图案或图像，仅当 style 为 BS_PATTERN 或 BS_DIBPATTERN 时有效。<br/> 当 style 为 BS_PATTERN 时，ppattern 指向的 IMAGE 对象表示自定义填充图案，IMAGE 中的黑色（BLACK）对应背景区域，非黑色对应图案区域。图案区域的颜色由函数 [settextcolor](…/5 文字输出相关函数/settextcolor.htm) 设置。<br/> 当 style 为 BS_DIBPATTERN 时，ppattern 指向的 IMAGE 对象表示自定义填充图像，以该图像为填充单元实施填充。</p>
<p>ppattern8x8</p>
<p>指定自定义填充图案，效果同 BS_PATTERN，该重载以 BYTE[8] 数组定义 8 x 8 区域的填充图案。数组中，每个元素表示一行的样式，BYTE 类型有 8 位，按位从高到低表示从左到右每个点的状态，由此组成 8 x 8 的填充单元，将填充单元平铺实现填充。对应的二进制位为 0 表示背景区域，为 1 表示图案区域。</p>
<h4><a id="_319"></a>返回值</h4>
<p>无</p>
<h4><a id="_323"></a>示例</h4>
<p>以下代码片段设置固实填充：</p>
<pre><code class="prism language-cpp"><span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_SOLID<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下代码片段设置填充图案为斜线填充：</p>
<pre><code class="prism language-cpp"><span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_HATCHED<span class="token punctuation">,</span> HS_BDIAGONAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下代码片段设置自定义图像填充（由 res\bk.jpg 指定填充图像）：</p>
<pre><code class="prism language-cpp">IMAGE img<span class="token punctuation">;</span>
<span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"res\\bk.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_DIBPATTERN<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下完整代码设置自定义的填充图案（小矩形填充），并使用该图案填充一个三角形：</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;conio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;graphics.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 创建绘图窗口</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 定义填充单元</span>
	IMAGE <span class="token function">img</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 绘制填充单元</span>
	<span class="token function">SetWorkingImage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 设置绘图目标为 img 对象</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 黑色区域为背景色</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 白色区域为自定义图案</span>
	<span class="token function">solidrectangle</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">SetWorkingImage</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 恢复绘图目标为默认绘图窗口</span>

	<span class="token comment">// 设置填充样式为自定义填充图案</span>
	<span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_PATTERN<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 设置自定义图案的填充颜色</span>
	<span class="token function">settextcolor</span><span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 绘制无边框填充三角形</span>
	POINT pts<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">{<!-- --></span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token function">solidpolygon</span><span class="token punctuation">(</span>pts<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 按任意键退出</span>
	<span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>以下代码片段设置自定义的填充图案（圆形图案填充）：</p>
<pre><code class="prism language-cpp"><span class="token function">setfillstyle</span><span class="token punctuation">(</span><span class="token punctuation">(</span>BYTE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token string">"\x3e\x41\x80\x80\x80\x80\x80\x41"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下代码片段设置自定义的填充图案（细斜线夹粗斜线图案填充）：</p>
<pre><code class="prism language-cpp"><span class="token function">setfillstyle</span><span class="token punctuation">(</span><span class="token punctuation">(</span>BYTE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token string">"\x5a\x2d\x96\x4b\xa5\xd2\x69\xb4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2><a id="line_395"></a>line线相关函数</h2>
<h3><a id="setlinecolor___397"></a><code>setlinecolor</code> - 设置画线颜色</h3>
<p>这个函数用于设置当前设备画线颜色。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">setlinecolor</span><span class="token punctuation">(</span>COLORREF color<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_405"></a>参数</h4>
<p>color</p>
<p>将要设置的画线颜色。</p>
<h3><a id="setlinestyle_411"></a><code>setlinestyle</code>-设置画线样式</h3>
<p>这个函数用于设置当前设备画线样式。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">setlinestyle</span><span class="token punctuation">(</span>
	<span class="token keyword">const</span> LINESTYLE<span class="token operator">*</span> pstyle
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setlinestyle</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> style<span class="token punctuation">,</span>
	<span class="token keyword">int</span> thickness <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token keyword">const</span> DWORD <span class="token operator">*</span>puserstyle <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
	DWORD userstylecount <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_427"></a>参数</h4>
<p>pstyle</p>
<p>指向画线样式 <a href="LINESTYLE.htm">LINESTYLE</a> 的指针。</p>
<p>style</p>
<p>画线样式（详见备注）。</p>
<p>thickness</p>
<p>线的宽度，以像素为单位。</p>
<p>puserstyle</p>
<p>用户自定义样式数组，仅当线型为 PS_USERSTYLE 时该参数有效。<br/> 数组第一个元素指定画线的长度，第二个元素指定空白的长度，第三个元素指定画线的长度，第四个元素指定空白的长度，以此类推。</p>
<p>userstylecount</p>
<p>用户自定义样式数组的元素数量。</p>
<h4><a id="_450"></a>返回值</h4>
<p>无</p>
<h4><a id="_454"></a>备注</h4>
<p>参数 style 指定了画线样式，该样式由直线样式、端点样式、连接样式三类组成。可以是其中一类或多类的组合。同一类型中只能指定一个样式。</p>
<p>直线样式可以是以下值：</p>
<table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>PS_SOLID</td><td>线形为实线。</td></tr><tr><td>PS_DASH</td><td>线形为：------------</td></tr><tr><td>PS_DOT</td><td>线形为：············</td></tr><tr><td>PS_DASHDOT</td><td>线形为：-·-·-·-·-·-·</td></tr><tr><td>PS_DASHDOTDOT</td><td>线形为：-··-··-··-··</td></tr><tr><td>PS_NULL</td><td>线形为不可见。</td></tr><tr><td>PS_USERSTYLE</td><td>线形样式为用户自定义，由参数 puserstyle 和 userstylecount 指定。</td></tr></tbody></table>
<p>宏 PS_STYLE_MASK 是直线样式的掩码，可以通过该宏从画线样式中分离出直线样式。</p>
<p>端点样式可以是以下值：</p>
<table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>PS_ENDCAP_ROUND</td><td>端点为圆形。</td></tr><tr><td>PS_ENDCAP_SQUARE</td><td>端点为方形。</td></tr><tr><td>PS_ENDCAP_FLAT</td><td>端点为平坦。</td></tr></tbody></table>
<p>宏 PS_ENDCAP_MASK 是端点样式的掩码，可以通过该宏从画线样式中分离出端点样式。</p>
<p>连接样式可以是以下值：</p>
<table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>PS_JOIN_BEVEL</td><td>连接处为斜面。</td></tr><tr><td>PS_JOIN_MITER</td><td>连接处为斜接。</td></tr><tr><td>PS_JOIN_ROUND</td><td>连接处为圆弧。</td></tr></tbody></table>
<p>宏 PS_JOIN_MASK 是连接样式的掩码，可以通过该宏从画线样式中分离出连接样式。</p>
<p>掩码宏表示对应样式组所占用的所有位。例如，对于一个已经混合了多种样式的 style 变量，如果希望仅将直线样式修改为点划线，可以这么做：</p>
<pre><code class="prism language-cpp">style <span class="token operator">=</span> <span class="token punctuation">(</span>style <span class="token operator">&amp;</span> <span class="token operator">~</span>PS_STYLE_MASK<span class="token punctuation">)</span> <span class="token operator">|</span> PS_DASHDOT<span class="token punctuation">;</span>
</code></pre>
<h1><a id="8_498"></a>8.图形绘制函数</h1>
<p><img alt="image-20220413210254159" src="https://img-blog.csdnimg.cn/img_convert/bd3510546e78ac2d3f1660f3ef8ec3ba.png"/></p>
<h2><a id="1circle_502"></a>1.圆-<code>circle</code></h2>
<h4><a id="_504"></a>声明</h4>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">circle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> radius<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画无填充的圆。</span>
<span class="token keyword">void</span> <span class="token function">fillcircle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> radius<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//有边框的填充圆</span>
<span class="token keyword">void</span> <span class="token function">solidcircle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> radius<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画无边框的填充圆。</span>
<span class="token keyword">void</span> <span class="token function">clearcircle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> radius<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//该函数使用背景色清空圆形区域。</span>
</code></pre>
<h4><a id="_513"></a>代码样例</h4>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//1.包含图形库头文件，就能使用提供给我的函数</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//2.创建一个窗口,确定窗口大小,show_console(显现控制台)</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//设置背景颜色，one，two两步才能设置背景颜色，位置不能颠倒</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//one,设置背景颜色</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//two,清屏，初始化,清楚原来背景的黑色</span>

	<span class="token comment">//3.画粑粑，圆</span>
	<span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线的类型为实线，粗细为3个像素</span>
	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//填充颜色为蓝色</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//线的颜色为黄色</span>

	<span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fillcircle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">solidcircle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">/*
	setbkcolor(GREEN);//重新设个背景色，更显著
	clearcircle(100, 150, 50);
	clearcircle(100, 250, 50);
	*/</span>
	
	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2.1关闭窗口</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>输出样例:</p>
<img alt="image-20220413202100953" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413202100953.png"/>
<pre><code class="prism language-c"><span class="token comment">//在结尾后面添加清除函数</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//重新设个背景色，更显著</span>
	<span class="token function">clearcircle</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">clearcircle</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<img alt="image-20220413202405739" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413202405739.png"/>
<h2><a id="2__rectangle_563"></a>2.矩形 - <code>rectangle</code></h2>
<h3><a id="_565"></a>声明</h3>
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">rectangle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画无填充的矩形。</span>
<span class="token keyword">void</span> <span class="token function">fillrectangle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">solidrectangle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">clearrectangle</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>left:矩形左部 x 坐标。</li><li>top:矩形顶部 y 坐标。</li><li>right:矩形右部 x 坐标。</li><li>bottom:矩形底部 y 坐标。</li></ul>
<h3><a id="_579"></a>代码样例</h3>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//1.包含图形库头文件，就能使用提供给我的函数</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//2.创建一个窗口,确定窗口大小,show_console(显现控制台)</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//设置背景颜色，one，two两步才能设置背景颜色，位置不能颠倒</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//one,设置背景颜色</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//two,清屏，初始化,清楚原来背景的黑色</span>

	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色-黄色</span>
	<span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_HATCHED<span class="token punctuation">,</span> HS_DIAGCROSS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充模式，自定义填充，交叉网</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线的颜色-红色</span>
	<span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线的模式为虚线，粗细为两个像素</span>

	<span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fillrectangle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">solidrectangle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">/*setbkcolor(GREEN);//重新设个背景色，更显著
	clearrectangle(300, 250,500, 350);
	clearrectangle(300, 400,500, 500);*/</span>
	

	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2.1关闭窗口</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>效果:<br/> <img alt="image-20220413204420342" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413204420342.png"/></p>
<p>加了clear效果:</p>
<img alt="image-20220413204930624" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413204930624.png"/>
<h2><a id="3__ellipse_625"></a>3.椭圆 - <code>ellipse</code></h2>
<h3><a id="_627"></a>声明</h3>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">ellipse</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">fillellipse</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">solidellipse</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">clearellipse</span><span class="token punctuation">(</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> top<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>left:椭圆外切矩形的左上角 x 坐标。</li><li>top:椭圆外切矩形的左上角 y 坐标。</li><li>right:椭圆外切矩形的右下角 x 坐标。</li><li>bottom:椭圆外切矩形的右下角 y 坐标。</li></ul>
<h3><a id="_641"></a>代码样例</h3>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//1.包含图形库头文件，就能使用提供给我的函数</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//2.创建一个窗口,确定窗口大小,show_console(显现控制台)</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//设置背景颜色，one，two两步才能设置背景颜色，位置不能颠倒</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//one,设置背景颜色</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//two,清屏，初始化,清楚原来背景的黑色</span>

	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色</span>
	<span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_HATCHED<span class="token punctuation">,</span> HS_DIAGCROSS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充模式，自定义填充，交叉网</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线的颜色</span>
	<span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线的模式为虚线，粗细为两个像素</span>

	<span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fillellipse</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">solidellipse</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//setbkcolor(WHITE);//重新设个背景色，更显著</span>
	<span class="token comment">//clearellipse(300, 250,500, 350);</span>
	<span class="token comment">//clearellipse(300, 400,500, 500);</span>
	<span class="token comment">//</span>

	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2.1关闭窗口</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<img alt="image-20220413210546355" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413210546355.png"/>
<p>clear：<br/> <img alt="image-20220413210658857" src="https://zszsecond-1309370201.cos.ap-nanjing.myqcloud.com/img/image-20220413210658857.png"/></p>
<h2><a id="4__roundrectangle_683"></a>4.圆角矩形 - <code>roundrectangle</code></h2>
<h3><a id="_685"></a>声明</h3>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">roundrect</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span><span class="token keyword">int</span> top<span class="token punctuation">,</span><span class="token keyword">int</span> right<span class="token punctuation">,</span><span class="token keyword">int</span> bottom<span class="token punctuation">,</span><span class="token keyword">int</span> ellipsewidth<span class="token punctuation">,</span><span class="token keyword">int</span> ellipseheight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">fillroundrect</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span><span class="token keyword">int</span> top<span class="token punctuation">,</span><span class="token keyword">int</span> right<span class="token punctuation">,</span><span class="token keyword">int</span> bottom<span class="token punctuation">,</span><span class="token keyword">int</span> ellipsewidth<span class="token punctuation">,</span><span class="token keyword">int</span> ellipseheight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">solidroundrect</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span><span class="token keyword">int</span> top<span class="token punctuation">,</span><span class="token keyword">int</span> right<span class="token punctuation">,</span><span class="token keyword">int</span> bottom<span class="token punctuation">,</span><span class="token keyword">int</span> ellipsewidth<span class="token punctuation">,</span><span class="token keyword">int</span> ellipseheight<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">clearroundrect</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span><span class="token keyword">int</span> top<span class="token punctuation">,</span><span class="token keyword">int</span> right<span class="token punctuation">,</span><span class="token keyword">int</span> bottom<span class="token punctuation">,</span><span class="token keyword">int</span> ellipsewidth<span class="token punctuation">,</span><span class="token keyword">int</span> ellipseheight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li>left：圆角矩形左部 x 坐标。</li><li>top：圆角矩形顶部 y 坐标。</li><li>right：圆角矩形右部 x 坐标。</li><li>bottom：圆角矩形底部 y 坐标。</li><li>ellipsewidth：构成圆角矩形的圆角的椭圆的宽度。</li><li>ellipseheight：构成圆角矩形的圆角的椭圆的高度。</li></ul>
<h3><a id="_701"></a>代码样例</h3>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//1.包含图形库头文件，就能使用提供给我的函数</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//2.创建一个窗口,确定窗口大小,show_console(显现控制台)</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//设置背景颜色，one，two两步才能设置背景颜色，位置不能颠倒</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//one,设置背景颜色</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//two,清屏，初始化,清楚原来背景的黑色</span>

	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色</span>
	<span class="token function">setfillstyle</span><span class="token punctuation">(</span>BS_HATCHED<span class="token punctuation">,</span> HS_DIAGCROSS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充模式，自定义填充，交叉网</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线的颜色</span>
	<span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线的模式为虚线，粗细为两个像素</span>

	<span class="token function">roundrect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2.1关闭窗口</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="image-20220413211803766" src="https://img-blog.csdnimg.cn/img_convert/698ccab19ea4e8b3e3435530d0734f48.png"/></p>
<ul><li>图形绘制函数用于在窗口上绘制各种图形。</li><li>绘图函数从填充样式分类可以分为无填充，有边框填充，无边框三种。</li><li>设置填充颜色:<code>setfillcolor(颜色)</code></li><li>设置线条颜色:<code>setlinecolor(颜色)</code></li><li>设置先调样式:<code>setlinestyle(线条,粗细)</code></li></ul>
<pre><code class="prism language-c">以画圆为例
    <span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线条样式</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线条颜色</span>
	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色	</span>
	<span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//有边框</span>
	<span class="token function">fillcircle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//有填充</span>
	<span class="token function">solidcircle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实心，(无边框)</span>
</code></pre>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token comment">//1.包含图形库头文件，就能使用提供给我的函数</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//2.创建一个窗口,确定窗口大小,show_console(显现控制台)</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span><span class="token number">480</span><span class="token punctuation">,</span>SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//设置背景颜色，one，two两步才能设置背景颜色，位置不能颠倒</span>
	<span class="token function">setbkcolor</span><span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//one</span>
	<span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏，初始化,清楚原来背景的黑色，two</span>
	


	<span class="token comment">//3.画粑粑，圆</span>
	<span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setfillcolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setlinecolor</span><span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fillcircle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">solidcircle</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入一个数字:&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2.1关闭窗口</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>区别:</p>
<p><img alt="image-20220413142317261" src="https://img-blog.csdnimg.cn/img_convert/5ef7019867a328ae44eef4b1ddc24bf4.png"/></p>
<p><img alt="image-20220413140247202" src="https://img-blog.csdnimg.cn/img_convert/a4dc289a56fe2e92a45a22bd70719859.png"/></p>
<h1><a id="9_796"></a>9.文字绘制函数</h1>
<h2><a id="logfont_798"></a>字体属性结构体:<code>logfont</code></h2>
<p>这个结构体定义了字体的属性。</p>
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">LOGFONT</span> <span class="token punctuation">{<!-- --></span>
	LONG lfHeight<span class="token punctuation">;</span><span class="token comment">//指定高度(逻辑单位)</span>
	LONG lfWidth <span class="token comment">//指定字符的平均宽度(逻辑单位)。如果为0，则比例自适应</span>
	LONG lfEscapement<span class="token punctuation">;</span><span class="token comment">//字符串的书写角度，单位0.1度，默认为0</span>
	LONG lfOrientation<span class="token punctuation">;</span><span class="token comment">//每个字符的书写角度，单位 0.1 度，默认为 0。</span>
	LONG lfWeight<span class="token punctuation">;</span><span class="token comment">//字符的笔画粗细，范围 0~1000，0 表示默认粗细，使用数字或下表中定义的宏均可。PS:宏太多就不写了</span>
	BYTE lfItalic<span class="token punctuation">;</span><span class="token comment">//指定字体是否是斜体。</span>
	BYTE lfUnderline<span class="token punctuation">;</span><span class="token comment">//指定字体是否有下划线</span>
	BYTE lfStrikeOut<span class="token punctuation">;</span><span class="token comment">//指定字体是否有删除线</span>
	BYTE lfCharSet<span class="token punctuation">;</span><span class="token comment">//指定字符集</span>
	BYTE lfOutPrecision<span class="token punctuation">;</span><span class="token comment">//指定文字的输出精度</span>
	BYTE lfClipPrecision<span class="token punctuation">;</span><span class="token comment">//指定文字的剪辑精度。</span>
	BYTE lfQuality<span class="token punctuation">;</span><span class="token comment">//指定文字的输出质量。</span>
	BYTE lfPitchAndFamily<span class="token punctuation">;</span><span class="token comment">//指定以常规方式描述字体的字体系列。字体系列描述大致的字体外观。字体系列用于在所需精确字体不可用时指定字体。</span>
	TCHAR lfFaceName<span class="token punctuation">[</span>LF_FACESIZE<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//字体名称，名称不得超过 31 个字符。如果是空字符串，系统将使用第一个满足其它属性的字体。</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><a href="https://baike.baidu.com/item/%E5%AD%97%E7%AC%A6%E9%9B%86/946585">字符集的概念</a></p>
<hr/>
<h2><a id="outtextxy___830"></a><code>outtextxy</code> - 在指定位置输出字符串</h2>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">,</span>LPCTSTR str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">outtextxy</span><span class="token punctuation">(</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> TCHAR c <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_840"></a>参数：</h3>
<ul><li>x 字符串输出时头字母的 x 轴的坐标值。</li><li>y 字符串输出时头字母的 y 轴的坐标值。</li><li>str 待输出的字符串的指针。</li><li>c 待输出的字符。</li></ul>
<h3><a id="_847"></a>注意：</h3>
<p>该函数不会改变当前位置。</p>
<p>字符串常见的编码有两种：MBCS 和 Unicode。VC6 新建的项目默认为 MBCS 编码，VC2008 及高版本的 VC 默认为 Unicode 编码。LPCTSTR 可以同时适应两种编码。为了适应两种编码，请使用 TCHAR 字符串及相关函数。</p>
<p>默认情况下，输出字符串的背景会用当前背景色填充。使用函数 setbkmode 可以设置文字的背景部分保持透明或使用背景色填充。</p>
<h3><a id="_855"></a>实例</h3>
<pre><code class="prism language-cpp"><span class="token comment">// 输出字符串（MBCS 字符集）</span>
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出字符串（Unicode 字符集）</span>
<span class="token keyword">wchar_t</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> L<span class="token string">"Hello World"</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出字符串（项目字符集）</span>
TCHAR s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出字符（MBCS 字符集）</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出字符（项目字符集）</span>
TCHAR c <span class="token operator">=</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出数值，先将数字格式化输出为字符串（MBCS 字符集）</span>
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">sprintf</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出数值 1024，先将数字格式化输出为字符串（项目字符集）</span>
TCHAR s<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">_stprintf</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 高版本 VC 推荐使用 _stprintf_s 函数</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<h2><a id="settextcolor_887"></a><code>settextcolor</code></h2>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">settextcolor</span><span class="token punctuation">(</span>COLORREF color<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<h2><a id="settextstyle_897"></a><code>settextstyle</code></h2>
<p>这个函数用于设置当前字体样式。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">settextstyle</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> nHeight<span class="token punctuation">,</span><span class="token comment">//指定高度（逻辑单位）。</span>
	<span class="token keyword">int</span> nWidth<span class="token punctuation">,</span><span class="token comment">//指定宽度</span>
	LPCTSTR lpszFace<span class="token comment">//字体名称</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">settextstyle</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> nHeight<span class="token punctuation">,</span>
	<span class="token keyword">int</span> nWidth<span class="token punctuation">,</span>
	LPCTSTR lpszFace<span class="token punctuation">,</span>
	<span class="token keyword">int</span> nEscapement<span class="token punctuation">,</span><span class="token comment">//字符串倾斜角度</span>
	<span class="token keyword">int</span> nOrientation<span class="token punctuation">,</span><span class="token comment">//每个字符倾斜角度</span>
	<span class="token keyword">int</span> nWeight<span class="token punctuation">,</span><span class="token comment">//字符的笔画粗细，范围 0~1000。0 表示默认粗细。</span>
	<span class="token keyword">bool</span> bItalic<span class="token punctuation">,</span><span class="token comment">//是否斜体</span>
	<span class="token keyword">bool</span> bUnderline<span class="token punctuation">,</span><span class="token comment">//是否下划线</span>
	<span class="token keyword">bool</span> bStrikeOut<span class="token comment">//是否删除线</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">settextstyle</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> nHeight<span class="token punctuation">,</span>
	<span class="token keyword">int</span> nWidth<span class="token punctuation">,</span>
	LPCTSTR lpszFace<span class="token punctuation">,</span>
	<span class="token keyword">int</span> nEscapement<span class="token punctuation">,</span>
	<span class="token keyword">int</span> nOrientation<span class="token punctuation">,</span>
	<span class="token keyword">int</span> nWeight<span class="token punctuation">,</span>
	<span class="token keyword">bool</span> bItalic<span class="token punctuation">,</span>
	<span class="token keyword">bool</span> bUnderline<span class="token punctuation">,</span>
	<span class="token keyword">bool</span> bStrikeOut<span class="token punctuation">,</span>
	BYTE fbCharSet<span class="token punctuation">,</span><span class="token comment">//指定字符集</span>
	BYTE fbOutPrecision<span class="token punctuation">,</span><span class="token comment">//输出精度</span>
	BYTE fbClipPrecision<span class="token punctuation">,</span><span class="token comment">//剪辑精度</span>
	BYTE fbQuality<span class="token punctuation">,</span><span class="token comment">//输出质量</span>
	BYTE fbPitchAndFamily<span class="token comment">//指定以常规方式描述字体的字体系列</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">settextstyle</span><span class="token punctuation">(</span><span class="token keyword">const</span> LOGFONT <span class="token operator">*</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_937"></a>参数</h4>
<ul><li>nHeight：指定高度（逻辑单位）。</li><li>nWidth：字符的平均宽度（逻辑单位）。如果为 0，则比例自适应。</li><li>lpszFace：字体名称。</li><li>nEscapement：字符串的书写角度，单位 0.1 度。</li><li>nOrientation：每个字符的书写角度，单位 0.1 度。</li><li>nWeight：字符的笔画粗细，范围 0~1000。0 表示默认粗细。详见 LOGFONT 结构体。</li><li>bItalic：是否斜体。</li><li>bUnderline：是否有下划线。</li><li>bStrikeOut：是否有删除线。</li><li>fbCharSet：指定字符集。详见 LOGFONT 结构体。</li><li>fbOutPrecision：指定文字的输出精度。详见 LOGFONT 结构体。</li><li>fbClipPrecision：指定文字的剪辑精度。详见 LOGFONT 结构体。</li><li>fbQuality：指定文字的输出质量。详见 LOGFONT 结构体。</li><li>fbPitchAndFamily：指定以常规方式描述字体的字体系列。详见 LOGFONT 结构体。</li><li>font：指向 LOGFONT 结构体的指针。</li></ul>
<h5><a id="_955"></a>返回值</h5>
<p>无</p>
<h5><a id="_959"></a>示例</h5>
<pre><code class="prism language-cpp"><span class="token comment">// 设置当前字体为高 16 像素的“Consolas”。(VC6 / VC2008 / VC2010 / VC2012)</span>
<span class="token function">settextstyle</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"Consolas"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"测试"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置输出效果为抗锯齿 (VC6 / VC2008 / VC2010 / VC2012)</span>
LOGFONT f<span class="token punctuation">;</span>
<span class="token function">gettextstyle</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">// 获取当前字体设置</span>
f<span class="token punctuation">.</span>lfHeight <span class="token operator">=</span> <span class="token number">48</span><span class="token punctuation">;</span>						<span class="token comment">// 设置字体高度为 48</span>
<span class="token function">_tcscpy</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>lfFaceName<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"黑体"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// 设置字体为“黑体”(高版本 VC 推荐使用 _tcscpy_s 函数)</span>
f<span class="token punctuation">.</span>lfQuality <span class="token operator">=</span> ANTIALIASED_QUALITY<span class="token punctuation">;</span>		<span class="token comment">// 设置输出效果为抗锯齿  </span>
<span class="token function">settextstyle</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">// 设置字体样式</span>
<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"抗锯齿效果"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<hr/>
<h1><a id="10_977"></a>10.图像处理函数</h1>
<h2><a id="loadimage_979"></a><code>loadimage</code></h2>
<p>这个函数用于从文件中读取图片</p>
<h3><a id="_983"></a>声明:</h3>
<pre><code class="prism language-cpp"><span class="token comment">// 从图片文件获取图像(bmp/gif/jpg/png/tif/emf/wmf/ico)</span>
<span class="token keyword">void</span> <span class="token function">loadimage</span><span class="token punctuation">(</span>
	IMAGE<span class="token operator">*</span> pDstImg<span class="token punctuation">,</span>			<span class="token comment">// 保存图像的 IMAGE 对象指针</span>
	LPCTSTR pImgFile<span class="token punctuation">,</span>		<span class="token comment">// 图片文件名</span>
	<span class="token keyword">int</span> nWidth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>			<span class="token comment">// 图片的拉伸宽度</span>
	<span class="token keyword">int</span> nHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>		<span class="token comment">// 图片的拉伸高度</span>
	<span class="token keyword">bool</span> bResize <span class="token operator">=</span> <span class="token boolean">false</span>	<span class="token comment">// 是否调整 IMAGE 的大小以适应图片</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 从资源文件获取图像(bmp/gif/jpg/png/tif/emf/wmf/ico)</span>
<span class="token keyword">void</span> <span class="token function">loadimage</span><span class="token punctuation">(</span>
	IMAGE<span class="token operator">*</span> pDstImg<span class="token punctuation">,</span>			<span class="token comment">// 保存图像的 IMAGE 对象指针</span>
	LPCTSTR pResType<span class="token punctuation">,</span>		<span class="token comment">// 资源类型</span>
	LPCTSTR pResName<span class="token punctuation">,</span>		<span class="token comment">// 资源名称</span>
	<span class="token keyword">int</span> nWidth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>			<span class="token comment">// 图片的拉伸宽度</span>
	<span class="token keyword">int</span> nHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>		<span class="token comment">// 图片的拉伸高度</span>
	<span class="token keyword">bool</span> bResize <span class="token operator">=</span> <span class="token boolean">false</span>	<span class="token comment">// 是否调整 IMAGE 的大小以适应图片</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_1005"></a>参数:</h3>
<ol><li><strong>pDstImg</strong> 保存图像的 IMAGE 对象指针。如果为 NULL，表示图片将读取至绘图窗口。</li><li><strong>pImgFile</strong> 图片文件名。支持 bmp / gif / jpg / png / tif / emf / wmf / ico 格式的图片。gif 格式的图片仅加载第一帧；gif 与 png 均不支持透明。</li><li><strong>nWidth</strong> 图片的拉伸宽度。加载图片后，会拉伸至该宽度。如果为 0，表示使用原图的宽度。</li><li><strong>nHeight</strong> 图片的拉伸高度。加载图片后，会拉伸至该高度。如果为 0，表示使用原图的高度。</li><li><strong>bResize</strong> 是否调整 IMAGE 的大小以适应图片。</li><li><strong>pResType</strong> 图片资源类型。</li><li><strong>pResName</strong> 图片资源名称。</li></ol>
<h3><a id="_1015"></a>备注:</h3>
<p>如果创建 IMAGE 对象的时候没有指定宽高，可以通过 Resize 函数设置。</p>
<p>对于没有设置宽高的 IMAGE 对象，执行 loadimage 会将其宽高设置为和读取的图片一样的尺寸。</p>
<h3><a id="_1021"></a>代码示例:</h3>
<p>以下完整示例实现了加载图片“D:\test.jpg”至绘图窗口：</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;conio.h&gt;</span></span>

<span class="token comment">// 主函数</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 绘图窗口初始化</span>
	<span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 读取图片至绘图窗口</span>
	<span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"D:\\test.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 按任意键退出</span>
	<span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>以下代码片段实现了加载图片“D:\test.jpg”至绘图窗口（MBCS 及 Unicode 自适应）：</p>
<pre><code class="prism language-cpp"><span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"D:\\test.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>以下代码片段实现了加载“IMAGE”分类下的图像资源“Player”至 img 对象，并在屏幕的指定位置显示：</p>
<pre><code class="prism language-cpp">IMAGE img<span class="token punctuation">;</span>
<span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"IMAGE"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"Player"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 在另一个位置再次显示背景</span>
</code></pre>
<p>以下代码片段实现了加载“IMAGE”分类下的图像资源 IDR_PLAYER 至 img 对象，并在屏幕的指定位置显示：</p>
<pre><code class="prism language-cpp">IMAGE img<span class="token punctuation">;</span>
<span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"IMAGE"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MAKEINTRESOURCE</span><span class="token punctuation">(</span>IDB_PLAYER<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 在另一个地方再次显示背景</span>
</code></pre>
<h2><a id="putimage_1066"></a><code>putimage</code></h2>
<p>这个函数的几个重载用于在当前设备上绘制指定图像。</p>
<h3><a id="_1070"></a>声明:</h3>
<pre><code class="prism language-cpp"><span class="token comment">// 绘制图像</span>
<span class="token keyword">void</span> <span class="token function">putimage</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> dstX<span class="token punctuation">,</span>				<span class="token comment">// 绘制位置的 x 坐标</span>
	<span class="token keyword">int</span> dstY<span class="token punctuation">,</span>				<span class="token comment">// 绘制位置的 y 坐标</span>
	IMAGE <span class="token operator">*</span>pSrcImg<span class="token punctuation">,</span>			<span class="token comment">// 要绘制的 IMAGE 对象指针</span>
	DWORD dwRop <span class="token operator">=</span> SRCCOPY	<span class="token comment">// 三元光栅操作码</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 绘制图像(指定宽高和起始位置)</span>
<span class="token keyword">void</span> <span class="token function">putimage</span><span class="token punctuation">(</span>
	<span class="token keyword">int</span> dstX<span class="token punctuation">,</span>				<span class="token comment">// 绘制位置的 x 坐标</span>
	<span class="token keyword">int</span> dstY<span class="token punctuation">,</span>				<span class="token comment">// 绘制位置的 y 坐标</span>
	<span class="token keyword">int</span> dstWidth<span class="token punctuation">,</span>			<span class="token comment">// 绘制的宽度</span>
	<span class="token keyword">int</span> dstHeight<span class="token punctuation">,</span>			<span class="token comment">// 绘制的高度</span>
	IMAGE <span class="token operator">*</span>pSrcImg<span class="token punctuation">,</span>			<span class="token comment">// 要绘制的 IMAGE 对象指针</span>
	<span class="token keyword">int</span> srcX<span class="token punctuation">,</span>				<span class="token comment">// 绘制内容在 IMAGE 对象中的左上角 x 坐标</span>
	<span class="token keyword">int</span> srcY<span class="token punctuation">,</span>				<span class="token comment">// 绘制内容在 IMAGE 对象中的左上角 y 坐标</span>
	DWORD dwRop <span class="token operator">=</span> SRCCOPY	<span class="token comment">// 三元光栅操作码</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_1093"></a>备注:</h3>
<p>三元光栅操作码（即位操作模式），支持全部的 256 种三元光栅操作码，常用的几种如下：</p>
<table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>DSTINVERT</td><td>目标图像 = NOT 目标图像</td></tr><tr><td>MERGECOPY</td><td>目标图像 = 源图像 AND 当前填充颜色</td></tr><tr><td>MERGEPAINT</td><td>目标图像 = 目标图像 OR (NOT 源图像)</td></tr><tr><td>NOTSRCCOPY</td><td>目标图像 = NOT 源图像</td></tr><tr><td>NOTSRCERASE</td><td>目标图像 = NOT (目标图像 OR 源图像)</td></tr><tr><td>PATCOPY</td><td>目标图像 = 当前填充颜色</td></tr><tr><td>PATINVERT</td><td>目标图像 = 目标图像 XOR 当前填充颜色</td></tr><tr><td>PATPAINT</td><td>目标图像 = 目标图像 OR ((NOT 源图像) OR 当前填充颜色)</td></tr><tr><td>SRCAND</td><td>目标图像 = 目标图像 AND 源图像</td></tr><tr><td>SRCCOPY</td><td>目标图像 = 源图像</td></tr><tr><td>SRCERASE</td><td>目标图像 = (NOT 目标图像) AND 源图像</td></tr><tr><td>SRCINVERT</td><td>目标图像 = 目标图像 XOR 源图像</td></tr><tr><td>SRCPAINT</td><td>目标图像 = 目标图像 OR 源图像</td></tr></tbody></table>
<p>注：</p>
<ol><li>AND / OR / NOT / XOR 为布尔运算。</li><li>"当前填充颜色"是指通过 setfillcolor 设置的用于当前填充的颜色。</li><li>查看全部的三元光栅操作码请参考这里：<a href="https://www.csdn.net/tags/OtTaMg0sOTQ4MjktYmxvZwO0O0OO0O0O.html">三元光栅操作码</a>。</li></ol>
<h3><a id="_1119"></a>示例:</h3>
<p>以下代码片段将屏幕 (0,0) 起始的 100x100 的图像拷贝至 (200,200) 位置：</p>
<pre><code class="prism language-cpp">IMAGE img<span class="token punctuation">;</span>
<span class="token function">getimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h1><a id="11_1129"></a>11.消息处理相关函数</h1>
<p>消息缓冲区可以缓冲 63 个未处理的消息。每次获取消息时，将从消息缓冲区取出一个最早发生的消息。消息缓冲区满了之后，不再接收任何消息。</p>
<h2><a id="ExMessage___1133"></a><code>ExMessage</code> - 消息结构体</h2>
<h3><a id="_1135"></a>定义声明:</h3>
<p>这个结构体用于保存鼠标消息，定义如下：</p>
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">ExMessage</span>
<span class="token punctuation">{<!-- --></span>
	USHORT message<span class="token punctuation">;</span>					<span class="token comment">// 消息标识</span>
	<span class="token keyword">union</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 鼠标消息的数据</span>
		<span class="token keyword">struct</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">bool</span> ctrl		<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// Ctrl 键是否按下</span>
			<span class="token keyword">bool</span> shift		<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// Shift 键是否按下</span>
			<span class="token keyword">bool</span> lbutton	<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// 鼠标左键是否按下</span>
			<span class="token keyword">bool</span> mbutton	<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// 鼠标中键是否按下</span>
			<span class="token keyword">bool</span> rbutton	<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// 鼠标右键</span>
			<span class="token keyword">short</span> x<span class="token punctuation">;</span>				<span class="token comment">// 鼠标的 x 坐标</span>
			<span class="token keyword">short</span> y<span class="token punctuation">;</span>				<span class="token comment">// 鼠标的 y 坐标</span>
			<span class="token keyword">short</span> wheel<span class="token punctuation">;</span>			<span class="token comment">// 鼠标滚轮滚动值，为 120 的倍数</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// 按键消息的数据</span>
		<span class="token keyword">struct</span>
		<span class="token punctuation">{<!-- --></span>
			BYTE vkcode<span class="token punctuation">;</span>			<span class="token comment">// 按键的虚拟键码</span>
			BYTE scancode<span class="token punctuation">;</span>			<span class="token comment">// 按键的扫描码（依赖于 OEM）</span>
			<span class="token keyword">bool</span> extended	<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// 按键是否是扩展键</span>
			<span class="token keyword">bool</span> prevdown	<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">;</span>		<span class="token comment">// 按键的前一个状态是否按下</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// 字符消息的数据</span>
		TCHAR ch<span class="token punctuation">;</span>

		<span class="token comment">// 窗口消息的数据</span>
		<span class="token keyword">struct</span>
		<span class="token punctuation">{<!-- --></span>
			WPARAM wParam<span class="token punctuation">;</span>
			LPARAM lParam<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_1180"></a>成员</h3>
<p><strong>message</strong></p>
<p>消息标识，可为以下值：</p>
<table><thead><tr><th>消息标识</th><th>消息类别</th><th>描述</th></tr></thead><tbody><tr><td><mark>WM_MOUSEMOVE</mark></td><td><mark>EM_MOUSE</mark></td><td><mark>鼠标移动消息。</mark></td></tr><tr><td>WM_MOUSEWHEEL</td><td>鼠标滚轮拨动消息。</td><td></td></tr><tr><td>WM_LBUTTONDOWN</td><td>左键按下消息。</td><td></td></tr><tr><td>WM_LBUTTONUP</td><td>左键弹起消息。</td><td></td></tr><tr><td>WM_LBUTTONDBLCLK</td><td>左键双击消息。</td><td></td></tr><tr><td>WM_MBUTTONDOWN</td><td>中键按下消息。</td><td></td></tr><tr><td>WM_MBUTTONUP</td><td>中键弹起消息。</td><td></td></tr><tr><td>WM_MBUTTONDBLCLK</td><td>中键双击消息。</td><td></td></tr><tr><td>WM_RBUTTONDOWN</td><td>右键按下消息。</td><td></td></tr><tr><td>WM_RBUTTONUP</td><td>右键弹起消息。</td><td></td></tr><tr><td>WM_RBUTTONDBLCLK</td><td>右键双击消息。</td><td></td></tr><tr><td><mark>WM_KEYDOWN</mark></td><td><mark>EM_KEY</mark></td><td><mark>按键按下消息</mark></td></tr><tr><td>WM_KEYUP</td><td>按键弹起消息。</td><td></td></tr><tr><td><mark>WM_CHAR</mark></td><td><mark>EM_CHAR</mark></td><td><mark>字符消息。</mark></td></tr><tr><td><mark>WM_ACTIVATE</mark></td><td><mark>EM_WINDOW</mark></td><td><mark>窗口激活状态改变消息</mark>。</td></tr><tr><td>WM_MOVE</td><td>窗口移动消息。</td><td></td></tr><tr><td>WM_SIZE</td><td>窗口大小改变消息。</td><td></td></tr></tbody></table>
<ul><li> <p><strong>ctrl</strong>：Ctrl 键是否按下。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>shift</strong>：Shift 键是否按下。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>lbutton</strong>：鼠标左键是否按下。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>mbutton</strong>：鼠标中键是否按下。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>rbutton</strong>：鼠标右键是否按下。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>x</strong>：当前鼠标 x 坐标（物理坐标）。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>y</strong>：当前鼠标 y 坐标（物理坐标）。仅当消息所属类别为 EM_MOUSE 时有效。</p> </li><li> <p><strong>wheel</strong>：鼠标滚轮滚动值，为 120 的倍数。仅当消息所属类别为 EM_MOUSE 时有效。</p> <p>——————————————————————————————————————————————————</p> </li><li> <p><strong>vkcode</strong>：按键的虚拟键码。仅当消息所属类别为 EM_KEY 时有效。</p> <p>在微软网站上列出有所有的虚拟键码：https://docs.microsoft.com/windows/win32/inputdev/virtual-key-codes</p> </li><li> <p><strong>scancode</strong>：按键的扫描码（依赖于 OEM）。仅当消息所属类别为 EM_KEY 时有效。</p> </li><li> <p><strong>extended</strong>：按键是否为扩展按键，例如功能键和数字键盘。仅当消息所属类别为 EM_KEY 时有效。</p> </li><li> <p><strong>prevdown</strong>：按键的前一个状态是否为按下。仅当消息所属类别为 EM_KEY 时有效。</p> </li><li> <p><strong>ch</strong>：收到的字符。仅当消息所属类别为 EM_CHAR 时有效。</p> </li><li> <p><strong>wParam</strong>：消息对应的 wParam 参数。仅当消息所属类别为 EM_WINDOW 时有效。</p> </li><li> <p><strong>lParam</strong>：消息对应的 lParam 参数。仅当消息所属类别为 EM_WINDOW 时有效。</p> </li></ul>
<h2><a id="flushmessage___1240"></a><code>flushmessage</code> - 清空缓冲区</h2>
<p>这个函数用于清空消息缓冲区。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">flushmessage</span><span class="token punctuation">(</span>BYTE filter <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_1248"></a>参数</h4>
<h5><a id="filte_1250"></a>filte</h5>
<p>指定要清空的消息范围，默认 -1 清空所有类别的消息。可以用以下值或值的组合清空指定类别的消息：</p>
<table><thead><tr><th>标志</th><th>描述</th></tr></thead><tbody><tr><td>EM_MOUSE</td><td>鼠标消息。</td></tr><tr><td>EM_KEY</td><td>按键消息。</td></tr><tr><td>EM_CHAR</td><td>字符消息。</td></tr><tr><td>EM_WINDOW</td><td>窗口消息。</td></tr></tbody></table>
<h2><a id="getmessage___1261"></a><code>getmessage</code> - 获取一个消息</h2>
<p>这个函数用于获取一个消息。如果当前消息队列中没有，就一直等待。</p>
<pre><code class="prism language-cpp">ExMessage <span class="token function">getmessage</span><span class="token punctuation">(</span>BYTE filter <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">getmessage</span><span class="token punctuation">(</span>ExMessage <span class="token operator">*</span>msg<span class="token punctuation">,</span> BYTE filter <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_1270"></a>参数</h3>
<h4><a id="msg_1272"></a>msg</h4>
<p>指向消息结构体 ExMessage 的指针，用来保存获取到的消息。</p>
<h4><a id="filter_1276"></a>filter</h4>
<p>指定要获取的消息范围，默认 -1 获取所有类别的消息。可以用以下值或值的组合获取指定类别的消息：</p>
<table><thead><tr><th>标志</th><th>描述</th></tr></thead><tbody><tr><td>EM_MOUSE</td><td>鼠标消息。</td></tr><tr><td>EM_KEY</td><td>按键消息。</td></tr><tr><td>EM_CHAR</td><td>字符消息。</td></tr><tr><td>EM_WINDOW</td><td>窗口消息。</td></tr></tbody></table>
<h3><a id="_1287"></a>返回值</h3>
<p>重载 1 返回保存有消息 ExMessage 的结构体。</p>
<p>重载 2 没有返回值。</p>
<h3><a id="_1293"></a>备注</h3>
<p>默认情况下，连续的鼠标单击会被识别为一系列的单击事件。如果希望两个连续的鼠标单击识别为双击事件，请在创建绘图窗口的时候指定标志位 EW_DBLCLKS。</p>
<h2><a id="peekmessage___1297"></a><code>peekmessage</code> - 获取一个消息，并立即返回。</h2>
<p>这个函数用于获取一个消息，并立即返回。</p>
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">peekmessage</span><span class="token punctuation">(</span>ExMessage <span class="token operator">*</span>msg<span class="token punctuation">,</span> BYTE filter <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">bool</span> removemsg <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_1305"></a>参数</h3>
<h4><a id="msg_1307"></a>msg</h4>
<p>指向消息结构体 ExMessage 的指针，用来保存获取到的消息。</p>
<h4><a id="filter_1311"></a>filter</h4>
<p>指定要获取的消息范围，默认 -1 获取所有类别的消息。可以用以下值或值的组合获取指定类别的消息：</p>
<table><thead><tr><th>标志</th><th>描述</th></tr></thead><tbody><tr><td>EM_MOUSE</td><td>鼠标消息。</td></tr><tr><td>EM_KEY</td><td>按键消息。</td></tr><tr><td>EM_CHAR</td><td>字符消息。</td></tr><tr><td>EM_WINDOW</td><td>窗口消息。</td></tr></tbody></table>
<h4><a id="removemsg_1322"></a>removemsg</h4>
<p>在 peekmessage 处理完消息后，是否将其从消息队列中移除。</p>
<h3><a id="_1326"></a>返回值</h3>
<p>如果获取到了消息，返回 true。</p>
<p>如果当前没有消息，返回 flase。</p>
<h3><a id="_1332"></a>备注</h3>
<p>默认情况下，连续的鼠标单击会被识别为一系列的单击事件。如果希望两个连续的鼠标单击识别为双击事件，请在创建绘图窗口的时候指定标志位 EW_DBLCLKS。</p>
<h1><a id="12_1336"></a>12.我们在使用时一些基本操作:</h1>
<h2><a id="_1338"></a>画图：</h2>
<h3><a id="_1340"></a>代码:画圆圈</h3>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span><span class="token comment">//图形库头文件</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//创建一个窗口，确定窗口大小</span>
    <span class="token comment">//initgraph(1024,1024，SHOWCONSOLE | NOCLOSE | NOMINIMIZE);</span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span>SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//下面这两步不能换位置，不能缺少</span>
    <span class="token function">setbkcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置背景颜色</span>
    <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏</span>

    <span class="token function">setfillcolor</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色</span>
    <span class="token function">setlinecolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线条颜色</span>
    <span class="token function">setlinestyle</span><span class="token punctuation">(</span>PS_SOLID<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置线条样式:实心，粗度5像素</span>
    <span class="token comment">//画圆</span>
    <span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fillcircle</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">solidcircle</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//关闭窗口</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_1368"></a>样例输出:</h3>
<p><img alt="image-20220414211800946" src="https://img-blog.csdnimg.cn/img_convert/31c8e6a3eb89d360aeeffb2a1516a7d5.png"/></p>
<h2><a id="_1372"></a>文字</h2>
<pre><code class="prism language-c">	<span class="token comment">//1，在字符串前面加上大写的 L</span>
	<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> L<span class="token string">"我是一个小青蛙"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//2，用TEXT()把字符串包起来，_T()</span>
	<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token function">_T</span><span class="token punctuation">(</span><span class="token string">"我是一个小青蛙"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//3,不需要添加任何代码，进项目-&gt;属性-&gt;配置属性-&gt;常规-&gt;字符集-&gt;改为多字节字符集推荐使用介个</span>
	<span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token string">"我是一个小青蛙"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>方法3:</p>
<p><img alt="image-20220413150708207" src="https://img-blog.csdnimg.cn/img_convert/33e8edc8ddf5f600bdd906e402874716.png"/></p>
<h3><a id="_1387"></a>代码:文字居中</h3>
<p><img alt="image-20220414205522181" src="https://img-blog.csdnimg.cn/img_convert/89866a0012b469dfd72d78202de83fd3.png"/></p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setbkcolor</span><span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//先画一个粉色的圆角矩形</span>
    <span class="token function">setlinecolor</span><span class="token punctuation">(</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//黑框</span>
    <span class="token function">setfillcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">223</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//粉底</span>
    <span class="token function">fillroundrect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置文字样式</span>
    <span class="token function">settextstyle</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"楷体"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置字体高度，宽度，字型</span>
    <span class="token function">setbkmode</span><span class="token punctuation">(</span>TRANSPARENT<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置字体背景透明，默认不透明</span>
    <span class="token function">settextcolor</span><span class="token punctuation">(</span>BLUE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//蓝字</span>

    <span class="token comment">//文字居中</span>
    <span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"我是一直小青蛙~"</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x_buff <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">300</span> <span class="token operator">-</span> <span class="token function">textwidth</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//textwidth求字符串所占像素长度</span>
    <span class="token keyword">int</span> y_buff <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">200</span> <span class="token operator">-</span> <span class="token function">textheight</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//textheight求字符串所占像素高度</span>

    <span class="token function">outtextxy</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">+</span> x_buff<span class="token punctuation">,</span> <span class="token number">100</span> <span class="token operator">+</span> y_buff<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_1421"></a>输出效果:</h3>
<p><img alt="image-20220414204933099" src="https://img-blog.csdnimg.cn/img_convert/205a605efb774522eb9f60e2c0c96c3a.png"/></p>
<h2><a id="_1427"></a>图像:</h2>
<blockquote>
<ul><li>在使用图像之前，需要定义一个变量(对象),然后把图片加载进变量才能进行使用。 
   <ul><li>平时定义变量都是使用的基础数据类型</li><li>在使用图像的时候需要使用EasyX提供给我们的类型:<code>IMAGE</code>,如:<code>IMAGE img;</code></li></ul> </li><li>l**oadimage:**从文件中读取图像 
   <ul><li>pDstImg, //保存图像的IMAGE对象指针 <code>&amp;img</code></li><li>pImgFile, //图片文件名</li><li>nWidth = 0, //图片的拉伸宽度(长度)，如果为 0，表示使用原图的宽度</li><li>nHeight = 0, //图片的拉伸高度，如果为 0，表示使用原图的高度</li><li>bResize = false, //是否调整IMAGE的大小以适应图片</li></ul> </li><li>**putimage:**在当前设备上绘制指定图像 
   <ul><li>destX //绘制位置的x坐标</li><li>destY //绘制位置的y坐标</li><li>pSrcImg //要绘制的IMAGE对象指针 <code>&amp;img</code></li><li>dwRop = SRCCOPY //三元光栅操作码</li></ul> </li></ul>
</blockquote>
<h3><a id="_1444"></a>代码</h3>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setbkcolor</span><span class="token punctuation">(</span>YELLOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//输出图片</span>
    IMAGE img1<span class="token punctuation">;</span><span class="token comment">//定义一个(变量)对象</span>
    IMAGE img2<span class="token punctuation">;</span><span class="token comment">//定义一个(变量)对象</span>
    <span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img1<span class="token punctuation">,</span> <span class="token string">"C:\\Users\\LENOVO\\Desktop\\wallpaper\\xx.png"</span><span class="token punctuation">,</span><span class="token number">768</span><span class="token punctuation">,</span><span class="token number">432</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绝对路径</span>
    <span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img2<span class="token punctuation">,</span> <span class="token string">"./oo.png"</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">,</span><span class="token number">288</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//相对路径: ./表示当前文件夹下，../表示答盎前文件夹的上一级目录</span>
    <span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_1468"></a>输出样例</h3>
<p><img alt="image-20220414215402486" src="https://img-blog.csdnimg.cn/img_convert/4a14477b950d10efaae080e53efd9f7e.png"/></p>
<h2><a id="_1472"></a>鼠标操作:</h2>
<h3><a id="graphicsh_1474"></a>老版:<code>graphics.h</code></h3>
<ul><li> <p>鼠标消息需要使用<code>MOUSEMSG</code>类型，比如:<code>MOUSEMSG msg;</code></p> </li><li> <p>然后使用<code>MoustHit()</code>判断是否有鼠标消息(左键，右键， 中间，移动)</p> </li><li> <p>如果有鼠标消息就可以进行接受鼠标消息了:<code>msg = GetMouseMsg();</code></p> </li><li> <p>鼠标消息主要成员:</p>
<ul><li>uMsg //当前鼠标消息</li><li>x //当前鼠标x坐标</li><li>y //当前鼠标y坐标</li></ul> </li><li> <p>uMsg可用来<strong>判断</strong>当前鼠标消息是什么消息</p> <p>主要的两个消息:</p>
<ul><li><code>WM_LBUTTONDOWN</code> 左键消息</li><li><code>WM_RBUTTONDOWN</code> 右键消息</li></ul> </li></ul>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token keyword">void</span> <span class="token function">button</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//展示控制台</span>
    <span class="token function">button</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">"按钮"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    MOUSEMSG msg<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">MouseHit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//有鼠标操作消息返回真</span>
        <span class="token punctuation">{<!-- --></span>
            msg <span class="token operator">=</span> <span class="token function">GetMouseMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取鼠标信息</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>uMsg<span class="token punctuation">)</span><span class="token comment">//消息分发</span>
            <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> WM_LBUTTONDOWN<span class="token operator">:</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>x <span class="token operator">&gt;=</span> <span class="token number">50</span> <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span>x <span class="token operator">&lt;=</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token number">150</span> <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> <span class="token number">50</span> <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token number">150</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"哼哼,被左键点击了\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> WM_RBUTTONDOWN<span class="token operator">:</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>x <span class="token operator">&gt;=</span> <span class="token number">50</span> <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span>x <span class="token operator">&lt;=</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token number">150</span> <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span>y <span class="token operator">&gt;=</span> <span class="token number">50</span> <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token number">150</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"哈哈哈,被右键点击了\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">button</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> text<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">setlinecolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置框边颜色</span>
    <span class="token function">setbkmode</span><span class="token punctuation">(</span>TRANSPARENT<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置字体背景透明</span>
    <span class="token function">setfillcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色</span>
    <span class="token function">fillroundrect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> x <span class="token operator">+</span> w<span class="token punctuation">,</span> y <span class="token operator">+</span> h<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画一个按钮框</span>

    <span class="token keyword">char</span> text_<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>text_<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">settextcolor</span><span class="token punctuation">(</span>RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">settextstyle</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"黑体"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> tx <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token punctuation">(</span>w <span class="token operator">-</span> <span class="token function">textwidth</span><span class="token punctuation">(</span>text_<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ty <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token punctuation">(</span>h <span class="token operator">-</span> <span class="token function">textheight</span><span class="token punctuation">(</span>text_<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token function">outtextxy</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> text_<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="image-20220415003334836" src="https://img-blog.csdnimg.cn/img_convert/8178b1519c32e9ba3b7b5a7f7123e28d.png"/></p>
<h3><a id="_1554"></a>新版</h3>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;easyx.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">button</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> text<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

    <span class="token function">setbkmode</span><span class="token punctuation">(</span>TRANSPARENT<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置字体背景透明</span>
    <span class="token function">setfillcolor</span><span class="token punctuation">(</span>BROWN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置填充颜色</span>
    <span class="token function">fillroundrect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token operator">+</span>w<span class="token punctuation">,</span>y<span class="token operator">+</span>h<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置按钮</span>
    
    <span class="token keyword">char</span> text_<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//按钮内容物</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>text_<span class="token punctuation">,</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制</span>
    <span class="token function">settextstyle</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"黑体"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> tx <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token punctuation">(</span>w<span class="token operator">-</span><span class="token function">textwidth</span><span class="token punctuation">(</span>text_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ty <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token punctuation">(</span>h<span class="token operator">-</span><span class="token function">textheight</span><span class="token punctuation">(</span>text_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>    
    <span class="token function">outtextxy</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span>ty<span class="token punctuation">,</span>text_<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span>EW_SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">button</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token string">"按钮"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    ExMessage msg<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">peekmessage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>msg<span class="token punctuation">,</span> EM_MOUSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//有鼠标消息返回真，没有返回假</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">switch</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">case</span> WM_LBUTTONDOWN<span class="token operator">:</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>x<span class="token operator">&gt;=</span><span class="token number">50</span><span class="token operator">&amp;&amp;</span>msg<span class="token punctuation">.</span>x<span class="token operator">&lt;=</span><span class="token number">50</span><span class="token operator">+</span><span class="token number">150</span><span class="token operator">&amp;&amp;</span>msg<span class="token punctuation">.</span>y<span class="token operator">&gt;=</span><span class="token number">50</span><span class="token operator">&amp;&amp;</span>msg<span class="token punctuation">.</span>y<span class="token operator">&lt;=</span><span class="token number">50</span><span class="token operator">+</span><span class="token number">150</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"哼哼,被左键点击了\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> WM_RBUTTONDOWN<span class="token operator">:</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>x<span class="token operator">&gt;=</span><span class="token number">50</span><span class="token operator">&amp;&amp;</span>msg<span class="token punctuation">.</span>x<span class="token operator">&lt;=</span><span class="token number">50</span><span class="token operator">+</span><span class="token number">150</span><span class="token operator">&amp;&amp;</span>msg<span class="token punctuation">.</span>y<span class="token operator">&gt;=</span><span class="token number">50</span><span class="token operator">&amp;&amp;</span>msg<span class="token punctuation">.</span>y<span class="token operator">&lt;=</span><span class="token number">50</span><span class="token operator">+</span><span class="token number">150</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{<!-- --></span>
                        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"哈哈哈,被右键点击了\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">default</span><span class="token operator">:</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="image-20220414235456839" src="https://img-blog.csdnimg.cn/img_convert/94bf3d8df69493f75473c35a113b1534.png"/></p>
<h2><a id="_1613"></a>键盘操作</h2>
<h3><a id="EastX_1615"></a>非EastX函数——键盘消息函数</h3>
<ul><li> <p>用于获取键盘信息的函数有两个</p>
<ul><li> <p>getch(); 需要头文件conio.h</p> </li><li> <p>GetAsyncKeyState(键值); 需要头文件windows.h(EasyX已经帮我们包含了)</p> </li></ul> </li><li> <p>**getch();**需要使用返回值来判断</p>
<ul><li>与非ASCII表字符的按键比较，需要使用虚拟按键值，如: 
    <ul><li>上：72</li><li>下：80</li><li>左：75</li><li>右：77</li></ul> </li><li>如果是与字母比较直接写字母，如<code>'A'</code></li></ul> </li><li> <p>**GetAsyncKeyState(键值);**需要传入一个键值(Async:非同步;异步)，如:</p>
<ul><li>上：VK_UP</li><li>下：VK_DOWN</li><li>左：VK_LEFT</li><li>右：VK_RIGHT</li></ul> </li></ul>
<p><img alt="image-20220415142932408" src="https://img-blog.csdnimg.cn/img_convert/e7fbf9cea7d772c5eee3d1e57d6bccf1.png"/></p>
<h3><a id="getch_getch_1643"></a><code>getch()</code>/<code>_getch()</code></h3>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span><span class="token comment">//使用_getch();//其实就是getch();</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setbkcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IMAGE img<span class="token punctuation">;</span><span class="token comment">//定义一个(变量)对象</span>
    <span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token string">"./oo.png"</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">288</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找一个图片便于观看闪烁</span>
    <span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    

    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置小球坐标</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//不断循环操作</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">setfillcolor</span><span class="token punctuation">(</span>BROWN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//展示一个棕色小球</span>
        <span class="token function">fillcircle</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">char</span> key <span class="token operator">=</span> <span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token number">72</span><span class="token operator">:</span><span class="token comment">//上键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'W'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'w'</span><span class="token operator">:</span>
                y <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"上\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">80</span><span class="token operator">:</span><span class="token comment">//下键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'S'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token operator">:</span>
                y <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"下\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">75</span><span class="token operator">:</span><span class="token comment">//左键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'A'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
                x <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"左\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">77</span><span class="token operator">:</span><span class="token comment">//右键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'D'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token operator">:</span>
                x <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"右\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>效果展示:</p>
<p><img alt="haha" src="https://img-blog.csdnimg.cn/img_convert/6b1429141a07c96a237042e126f5b243.gif"/></p>
<p><strong>为什么会有尾巴呢?</strong></p>
<p>因为我们没有清楚前一帧背景:所以我们要在循环<code>while</code>中第一行加上<code>cleardevice()</code></p>
<p>效果:</p>
<p><img alt="haha1" src="https://img-blog.csdnimg.cn/img_convert/69b1b55e469ed2f64d6b574d02b32486.gif"/></p>
<p>出现问题:背景永远消失</p>
<p>解决方案:将原背景的渲染代码放进<code>while()</code>循环里面:</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span><span class="token comment">//使用_getch();//其实就是getch();</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置小球坐标</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//不断循环操作</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//背景区</span>
        <span class="token function">setbkcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        IMAGE img<span class="token punctuation">;</span><span class="token comment">//定义一个(变量)对象</span>
        <span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token string">"./oo.png"</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">288</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找一个图片便于观看闪烁</span>
        <span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//小球区</span>
        <span class="token function">setfillcolor</span><span class="token punctuation">(</span>BROWN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//展示一个棕色小球</span>
        <span class="token function">fillcircle</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">char</span> key <span class="token operator">=</span> <span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token number">72</span><span class="token operator">:</span><span class="token comment">//上键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'W'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'w'</span><span class="token operator">:</span>
                y <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"上\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">80</span><span class="token operator">:</span><span class="token comment">//下键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'S'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token operator">:</span>
                y <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"下\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">75</span><span class="token operator">:</span><span class="token comment">//左键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'A'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
                x <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"左\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">77</span><span class="token operator">:</span><span class="token comment">//右键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'D'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token operator">:</span>
                x <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"右\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="haha2" src="https://img-blog.csdnimg.cn/img_convert/23fef7af9b45bea15556a7cf1d64627c.gif"/></p>
<p>出现问题:背景闪烁不定</p>
<p>解决方案:</p>
<p>在设备上不断进行绘图操作时，会产生闪屏现象，此时眼睛会受不了，针对这个现象，我们需要用到以下两个函数来处理：</p>
<ul><li>BeginBatchDraw();开始批量绘图</li><li>---------中间放绘图代码---------------</li><li>EndBatchDraw(); 结束批量绘制</li></ul>
<p>原理:先在缓存区画，画完再显示</p>
<ul><li></li></ul>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span><span class="token comment">//使用_getch();//其实就是getch();</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置小球坐标</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//不断循环操作</span>
    <span class="token punctuation">{<!-- --></span>
        
        <span class="token comment">//双缓冲绘图，需要放在绘图代码之前和之后</span>
        <span class="token function">BeginBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//开始批量绘图</span>
        <span class="token comment">//背景区</span>
        <span class="token function">setbkcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        IMAGE img<span class="token punctuation">;</span><span class="token comment">//定义一个(变量)对象</span>
        <span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token string">"./oo.png"</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">288</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找一个图片便于观看闪烁</span>
        <span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//小球区</span>
        <span class="token function">setfillcolor</span><span class="token punctuation">(</span>BROWN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//展示一个棕色小球</span>
        <span class="token function">fillcircle</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">FlushBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清空批量绘图</span>
        <span class="token keyword">char</span> key <span class="token operator">=</span> <span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//阻塞函数，不输入一直在这里等</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token number">72</span><span class="token operator">:</span><span class="token comment">//上键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'W'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'w'</span><span class="token operator">:</span>
                y <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"上\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">80</span><span class="token operator">:</span><span class="token comment">//下键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'S'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token operator">:</span>
                y <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"下\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">75</span><span class="token operator">:</span><span class="token comment">//左键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'A'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
                x <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"左\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">77</span><span class="token operator">:</span><span class="token comment">//右键的虚拟值</span>
            <span class="token keyword">case</span> <span class="token string">'D'</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token operator">:</span>
                x <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"右\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>效果:</p>
<p><img alt="haha4" src="https://img-blog.csdnimg.cn/img_convert/04a0447ff103d705bf0a531cc5da323b.gif"/></p>
<p>虽然略带延迟，不过解决了闪烁问题。</p>
<h3><a id="getAsyncState_1859"></a><code>getAsyncState()</code></h3>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;conio.h&gt;</span><span class="token comment">//使用_getch();//其实就是getch();</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置小球坐标</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//不断循环操作</span>
    <span class="token punctuation">{<!-- --></span>
        
        <span class="token comment">//双缓冲绘图，需要放在绘图代码之前和之后</span>
        <span class="token function">BeginBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//开始批量绘图</span>
        <span class="token comment">//背景区</span>
        <span class="token function">setbkcolor</span><span class="token punctuation">(</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        IMAGE img<span class="token punctuation">;</span><span class="token comment">//定义一个(变量)对象</span>
        <span class="token function">loadimage</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>img<span class="token punctuation">,</span> <span class="token string">"./oo.png"</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> <span class="token number">288</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//找一个图片便于观看闪烁</span>
        <span class="token function">putimage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//小球区</span>
        <span class="token function">setfillcolor</span><span class="token punctuation">(</span>BROWN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//展示一个棕色小球</span>
        <span class="token function">fillcircle</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">FlushBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清空批量绘图</span>
        
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">GetAsyncKeyState</span><span class="token punctuation">(</span>VK_UP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//上键</span>
        <span class="token punctuation">{<!-- --></span>
            y<span class="token operator">-=</span><span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">GetAsyncKeyState</span><span class="token punctuation">(</span>VK_DOWN<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//下键</span>
        <span class="token punctuation">{<!-- --></span>
            y<span class="token operator">+=</span><span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">GetAsyncKeyState</span><span class="token punctuation">(</span>VK_LEFT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//左键</span>
        <span class="token punctuation">{<!-- --></span>
            x<span class="token operator">-=</span><span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">GetAsyncKeyState</span><span class="token punctuation">(</span>VK_RIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//右键</span>
        <span class="token punctuation">{<!-- --></span>
            x<span class="token operator">+=</span><span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>
	
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="haha5" src="https://img-blog.csdnimg.cn/img_convert/ccb0d539007746601c52592dae646052.gif"/></p>
<p>相比<code>getch()</code>可以进行斜上斜下，比叫顺滑.</p>
<h2><a id="_1914"></a>音乐播放</h2>
<p><img alt="image-20220415163851429" src="https://img-blog.csdnimg.cn/img_convert/ac3cb47c3c890ceae6f0381cdea084f9.png"/></p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mmsystem.h&gt;</span><span class="token comment">//包含多媒体设备接口头文件,一定放在graphics.h下面</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"winmm.lib"</span><span class="token expression"><span class="token punctuation">)</span></span><span class="token comment">//加载静态库</span></span>

<span class="token keyword">void</span> <span class="token function">BGM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//播放音乐</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//打开音乐，播放音乐  alias取别名 repeat重复播放</span>
    <span class="token function">mcisendstring</span><span class="token punctuation">(</span><span class="token string">"open ./让我做你的眼睛.mp3 alias BGM"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//向多媒体设备接口(mci)发送(send)一个字符串(string)</span>
    <span class="token function">mcisendstring</span><span class="token punctuation">(</span><span class="token string">"play BGM repeat"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">mcisendstring</span><span class="token punctuation">(</span><span class="token string">"close BGM "</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">,</span>SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">BGM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>open指令打开需要播放的音乐，alias后面制定了前面文件路径的别名，以后想要操作这个文件直接使用这个别名就行了，后面的三个参数平时，就记着写作NULL，0，NULL即可。</p>
<p>第二条语句play指令后面接上面定义的别名，repeat表示歌曲循环播放。如果想要在音乐播放时停止播放，有以下代码.</p>
<h2><a id="_1948"></a>修改窗口标题、弹出对话框</h2>
<p><img alt="image-20220415170843577" src="https://img-blog.csdnimg.cn/img_convert/3155afbfca5b3a26b34e56911e5ccfdd.png"/></p>
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;graphics.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mmsystem.h&gt;</span><span class="token comment">//包含多媒体设备接口头文件,一定放在graphics.h下面</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">comment</span><span class="token punctuation">(</span>lib<span class="token punctuation">,</span></span><span class="token string">"winmm.lib"</span><span class="token expression"><span class="token punctuation">)</span></span><span class="token comment">//加载静态库</span></span>

<span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//获取窗口句柄</span>
    HWND hnd <span class="token operator">=</span> <span class="token function">GetHWnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置窗口标题</span>
    <span class="token function">SetWindowText</span><span class="token punctuation">(</span>hnd<span class="token punctuation">,</span><span class="token string">"很高兴认识你"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//弹出窗口，提示用户操作</span>
    <span class="token keyword">int</span> is_ok <span class="token operator">=</span> <span class="token function">MessageBox</span><span class="token punctuation">(</span>hnd<span class="token punctuation">,</span><span class="token string">"我是消息框"</span><span class="token punctuation">,</span><span class="token string">"要不要关闭我"</span><span class="token punctuation">,</span>MB_OKCANCEL<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>is_ok <span class="token operator">==</span> IDOK<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"你点击了OK\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>is_ok <span class="token operator">==</span> IDCANCEL<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"你点击了cancel\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">initgraph</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">,</span>SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closegraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="image-20220415171719582" src="https://img-blog.csdnimg.cn/img_convert/3bb2556bda65f6ac815bebb59edf91f1.png"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>