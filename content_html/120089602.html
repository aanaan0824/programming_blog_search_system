<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#_8">一、基础知识</a></li><li><ul><li><a href="#1_9">1、常用语句</a></li><li><a href="#2_____59">2、线型 + 符号 + 颜色</a></li><li><a href="#3_62">3、图例使用</a></li></ul>
</li><li><a href="#_66">二、画图样例</a></li><li><ul><li><a href="#1_71">1、散点图</a></li><li><a href="#2_87">2、柱状图</a></li><li><a href="#3_97">3、折线图</a></li><li><a href="#4_115">4、概率分布直方图</a></li><li><a href="#5_156">5、累计概率分布曲线</a></li><li><a href="#6_190">6、概率分布直方图+累计概率分布图</a></li></ul>
</li></ul>
</div>
<p></p>
<blockquote>
<p>说实话，Python 画图和 Matlab 画图十分相似【Matlab 转战 Python】<br/> Legend 图例：<a href="https://blog.csdn.net/HHG20171226/article/details/101302645">https://blog.csdn.net/HHG20171226/article/details/101302645</a><br/> 网格线设置：<a href="https://blog.csdn.net/weixin_41789707/article/details/81035997">https://blog.csdn.net/weixin_41789707/article/details/81035997</a><br/> 字体设置：<a href="https://blog.csdn.net/HsinglukLiu/article/details/107821714">https://blog.csdn.net/HsinglukLiu/article/details/107821714</a></p>
</blockquote>
<h1><a id="_8"></a>一、基础知识</h1>
<h2><a id="1_9"></a>1、常用语句</h2>
<p>下面是一些基本的绘图语句：</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt			<span class="token comment"># 导入模块</span>

plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>					<span class="token comment"># 设置图形的显示风格</span>
fig<span class="token operator">=</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>						<span class="token comment"># 新建一个 figure1</span>
fig<span class="token operator">=</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">6.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span>facecolor<span class="token operator">=</span><span class="token string">'w'</span><span class="token punctuation">)</span>
fig<span class="token punctuation">.</span>patch<span class="token punctuation">.</span>set_alpha<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>				<span class="token comment"># 设置透明度为 0.5</span>
font1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'weight'</span> <span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">'size'</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span>	<span class="token comment"># 创建字体，设置字体粗细和大小</span>
ax1<span class="token punctuation">.</span>set_xlim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>						<span class="token comment"># 设置 x 轴最大最小刻度</span>
ax1<span class="token punctuation">.</span>set_ylim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span>					<span class="token comment"># 设置 y 轴最大最小刻度</span>
plt<span class="token punctuation">.</span>xlim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>  						<span class="token comment"># 和上面效果一样</span>
plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">'X name'</span><span class="token punctuation">,</span>font1<span class="token punctuation">)</span>			<span class="token comment"># 设置 x 轴名字</span>
ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Y name'</span><span class="token punctuation">,</span>font1<span class="token punctuation">)</span>			<span class="token comment"># 设置 y 轴名字</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'aaaaa'</span><span class="token punctuation">)</span>						<span class="token comment"># 设置 x 轴名字</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'aaaaa'</span><span class="token punctuation">)</span>						<span class="token comment"># 设置 y 轴名字</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>					 		<span class="token comment"># 增加格网</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">)</span>						<span class="token comment"># 只显示横向格网</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">)</span>						<span class="token comment"># 只显示纵向格网</span>
ax<span class="token operator">=</span>plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>							<span class="token comment"># 获取当前axis,</span>
fig<span class="token operator">=</span>plt<span class="token punctuation">.</span>gcf<span class="token punctuation">(</span><span class="token punctuation">)</span>							<span class="token comment"># 获取当前figures</span>
plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_aspect<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>					<span class="token comment"># 设置横纵坐标单位长度相等</span>
plt<span class="token punctuation">.</span>text<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>string<span class="token punctuation">)</span>					<span class="token comment"># 在 x,y 处加入文字注释</span>
plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_xticklabels<span class="token punctuation">(</span>labels<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment"># 指定在刻度上显示的内容</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>ticks<span class="token punctuation">,</span> labels<span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span>   <span class="token comment"># 上面两句合起来</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Float'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ncol<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>prop<span class="token operator">=</span>font1<span class="token punctuation">,</span>frameon<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>	<span class="token comment"># 设置图例 列数、去掉边框、更改图例字体</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'This is a Title'</span><span class="token punctuation">)</span>			<span class="token comment"># 图片标题</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>								<span class="token comment"># 显示图片，没这行看不见图</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span>path<span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">600</span><span class="token punctuation">)</span>				<span class="token comment"># 保存图片，dpi可控制图片清晰度</span>
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'SimHei'</span><span class="token punctuation">]</span>  	<span class="token comment"># 添加这条可以让图形显示中文</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'axes.unicode_minus'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>		<span class="token comment"># 添加这条可以让图形显示负号</span>
ax<span class="token punctuation">.</span>spines<span class="token punctuation">[</span><span class="token string">'right'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span><span class="token string">'none'</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>spines<span class="token punctuation">[</span><span class="token string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_color<span class="token punctuation">(</span><span class="token string">'none'</span><span class="token punctuation">)</span>				<span class="token comment">#设置图片的右边框和上边框为不显示</span>
<span class="token comment"># 子图</span>
ax1<span class="token operator">=</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
ax1<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>time<span class="token punctuation">,</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">)</span> <span class="token comment"># size, color, 标记</span>
ax1<span class="token operator">=</span>plt<span class="token punctuation">.</span>subplot<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># 控制图片边缘的大小</span>
plt<span class="token punctuation">.</span>subplots_adjust<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> right<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> top<span class="token operator">=</span><span class="token number">1</span>，hspace<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span>wspace<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>

<span class="token comment"># 设置坐标刻度朝向，暂未成功</span>
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'xtick.direction'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'in'</span>
ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>invert_xaxis<span class="token punctuation">(</span><span class="token punctuation">)</span> 
ax<span class="token punctuation">.</span>invert_yaxis<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2><a id="2_____59"></a>2、线型 + 符号 + 颜色</h2>
<blockquote>
<p><a href="https://blog.csdn.net/Gou_Hailong/article/details/121787030">https://blog.csdn.net/Gou_Hailong/article/details/121787030</a></p>
</blockquote>
<h2><a id="3_62"></a>3、图例使用</h2>
<blockquote>
<p><a href="https://blog.csdn.net/Gou_Hailong/article/details/121795267">https://blog.csdn.net/Gou_Hailong/article/details/121795267</a></p>
</blockquote>
<h1><a id="_66"></a>二、画图样例</h1>
<p>不要忘记 <code>import</code> plt</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
</code></pre>
<h2><a id="1_71"></a>1、散点图</h2>
<pre><code class="prism language-python">years <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2009</span><span class="token punctuation">,</span> <span class="token number">2010</span><span class="token punctuation">,</span> <span class="token number">2011</span><span class="token punctuation">,</span> <span class="token number">2012</span><span class="token punctuation">,</span> <span class="token number">2013</span><span class="token punctuation">,</span> <span class="token number">2014</span><span class="token punctuation">,</span> <span class="token number">2015</span><span class="token punctuation">,</span> <span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">2019</span><span class="token punctuation">]</span>
turnovers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">9.36</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">191</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">571</span><span class="token punctuation">,</span> <span class="token number">912</span><span class="token punctuation">,</span> <span class="token number">1027</span><span class="token punctuation">,</span> <span class="token number">1682</span><span class="token punctuation">,</span> <span class="token number">2135</span><span class="token punctuation">,</span> <span class="token number">2684</span><span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>years<span class="token punctuation">,</span> turnovers<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span> s<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'legend'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2008</span><span class="token punctuation">,</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3200</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"Year"</span><span class="token punctuation">,</span> fontdict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'size'</span><span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"number"</span><span class="token punctuation">,</span> fontdict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'size'</span><span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Title"</span><span class="token punctuation">,</span> fontdict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'size'</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">'best'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="image\60b729d1212c44c3bbbf25c78a10d4a2.png" width="70%"/></p>
<h2><a id="2_87"></a>2、柱状图</h2>
<pre><code class="prism language-python">X<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
Y<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span><span class="token number">0.6</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token number">0.8</span><span class="token punctuation">,</span><span class="token number">0.4</span><span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="image\b525a43dc7bd40ddb5a39f7d5ad6f2d9.png" width="70%"/></p>
<h2><a id="3_97"></a>3、折线图</h2>
<blockquote>
<p>参考：https://blog.csdn.net/AXIMI/article/details/99308004</p>
</blockquote>
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'SimHei'</span><span class="token punctuation">]</span>  <span class="token comment"># 添加这条可以让图形显示中文</span>
x_axis_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
y_axis_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment"># plot中参数的含义分别是横轴值，纵轴值，线的形状，颜色，透明度,线的宽度和标签</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x_axis_data<span class="token punctuation">,</span> y_axis_data<span class="token punctuation">,</span> <span class="token string">'ro-'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'#4169E1'</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'一些数字'</span><span class="token punctuation">)</span>
<span class="token comment"># 显示标签，如果不加这句，即使在plot中加了label='一些数字'的参数，最终还是不会显示标签</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">"upper right"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'x轴数字'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'y轴数字'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="image\fdecf8df9eb4462f90060634825ea213.png" width="70%"/></p>
<h2><a id="4_115"></a>4、概率分布直方图</h2>
<p>主要通过函数<code>plt.hist()</code>来实现，</p>
<pre><code class="prism language-python">matplotlib<span class="token punctuation">.</span>pyplot<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>  
x<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> normed<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>edgecolor<span class="token operator">=</span><span class="token string">'k'</span><span class="token punctuation">,</span>   
weights<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> cumulative<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>   
histtype<span class="token operator">=</span><span class="token string">u'bar'</span><span class="token punctuation">,</span> align<span class="token operator">=</span><span class="token string">u'mid'</span><span class="token punctuation">,</span> orientation<span class="token operator">=</span><span class="token string">u'vertical'</span><span class="token punctuation">,</span>   
rwidth<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> log<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> stacked<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>   
hold<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre>
<p>其中，常用的参数及其含义如下：</p>
<ul><li>bins：“直方条”的个数，一般可取20</li><li>range=(a,b)：只考虑区间<code>(a,b)</code>之间的数据，绘图的时候也只绘制区间之内的</li><li>edgecolor=‘k’：给直方图加上黑色边界，不然看起来很难看（下面的例子就没加，所以很难看）</li></ul>
<pre><code class="prism language-python">example_list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
n<span class="token operator">=</span><span class="token number">10000</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    tmp<span class="token operator">=</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    example_list<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
width<span class="token operator">=</span><span class="token number">100</span>
n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches <span class="token operator">=</span> plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>example_list<span class="token punctuation">,</span>bins <span class="token operator">=</span> width<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
X <span class="token operator">=</span> bins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>width<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>bins<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>bins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2.0</span>
Y <span class="token operator">=</span> n
maxn<span class="token operator">=</span><span class="token builtin">max</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
maxn1<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span>maxn<span class="token operator">%</span><span class="token number">8</span><span class="token operator">+</span>maxn<span class="token operator">+</span><span class="token number">8</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
ydata<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>maxn1<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>maxn1<span class="token operator">//</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
yfreq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token operator">/</span><span class="token builtin">sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> ydata<span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'green'</span><span class="token punctuation">)</span>     <span class="token comment">#利用返回值来绘制区间中点连线</span>
p1 <span class="token operator">=</span> np<span class="token punctuation">.</span>polyfit<span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>        <span class="token comment">#利用7次多项式拟合，返回拟多项式系数，按照阶数从高到低排列</span>
Y1 <span class="token operator">=</span> np<span class="token punctuation">.</span>polyval<span class="token punctuation">(</span>p1<span class="token punctuation">,</span>X<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y1<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlim<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2.5</span><span class="token punctuation">,</span><span class="token number">2.5</span><span class="token punctuation">)</span>	
plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span>ydata<span class="token punctuation">,</span>yfreq<span class="token punctuation">)</span>        <span class="token comment">#这条语句控制纵坐标是频数或频率，打开是频率，否则是频数</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'midpoint'</span><span class="token punctuation">,</span><span class="token string">'fitting'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ncol<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>frameon<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="image\513185b3ad4648ddb5ef04b534669891.png" width="70%"/><br/> 上面的图片中，绿线是直方图矩形的中点连线，红线是根据直方图的中点7次拟合的曲线。</p>
<h2><a id="5_156"></a>5、累计概率分布曲线</h2>
<p>累积分布函数(Cumulative Distribution Function)，又叫分布函数，是概率密度函数的积分，能完整描述一个实随机变量X的概率分布。</p>
<pre><code class="prism language-python">example_list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
n<span class="token operator">=</span><span class="token number">10000</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    tmp<span class="token operator">=</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    example_list<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
width<span class="token operator">=</span><span class="token number">50</span>
n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches <span class="token operator">=</span> plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>example_list<span class="token punctuation">,</span>bins <span class="token operator">=</span> width<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment"># clear the figure</span>
X <span class="token operator">=</span> bins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span>width<span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>bins<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>bins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2.0</span>
bins<span class="token operator">=</span>bins<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
freq<span class="token operator">=</span><span class="token punctuation">[</span>f<span class="token operator">/</span><span class="token builtin">sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">for</span> f <span class="token keyword">in</span> n<span class="token punctuation">]</span>
acc_freq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>freq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
        temp<span class="token operator">=</span>freq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        temp<span class="token operator">=</span><span class="token builtin">sum</span><span class="token punctuation">(</span>freq<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    acc_freq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>X<span class="token punctuation">,</span>acc_freq<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">)</span>                    <span class="token comment"># Cumulative probability curve</span>
yt<span class="token operator">=</span>plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">)</span>
yt1<span class="token operator">=</span>yt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">to_percent</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span>position<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>          <span class="token comment"># convert float number to percent</span>
    <span class="token keyword">return</span> <span class="token string">'%1.0f'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">*</span>temp<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span>
ytk1<span class="token operator">=</span><span class="token punctuation">[</span>to_percent<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> yt1 <span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span>yt1<span class="token punctuation">,</span>ytk1<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="image\ae72c6322a6a41b6809cc3972c86c871.png" width="70%"/></p>
<h2><a id="6_190"></a>6、概率分布直方图+累计概率分布图</h2>
<blockquote>
<p>参考：<a href="https://blog.csdn.net/qq_38412868/article/details/105319818">https://blog.csdn.net/qq_38412868/article/details/105319818</a><br/> 可以绘制概率分布直方图和累计概率曲线</p>
</blockquote>
<p>笔者进行了一些的改编：</p>
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">draw_cum_prob_curve</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span>title<span class="token operator">=</span><span class="token string">'Distribution Of Errors'</span><span class="token punctuation">,</span>xlabel<span class="token operator">=</span><span class="token string">'The Error(mm)'</span><span class="token punctuation">,</span>pic_path<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    plot Probability distribution histogram and Cumulative probability curve.
    
    &gt; @param[in] data:          The error data
    &gt; @param[in] bins:          The number of hist
    &gt; @param[in] title:         The titile of the figure
    &gt; @param[in] xlabel:        The xlable name
    &gt; @param[in] pic_path:      The path where you want to save the figure
    return:     void
    """</span>
    <span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
    <span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl
    <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>ticker <span class="token keyword">import</span> FuncFormatter
    <span class="token keyword">from</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">import</span> MultipleLocator
    <span class="token keyword">def</span> <span class="token function">to_percent</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span>position<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>          <span class="token comment"># convert float number to percent</span>
        <span class="token keyword">return</span> <span class="token string">'%1.0f'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">*</span>temp<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span>
    fig<span class="token punctuation">,</span> ax1 <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> facecolor<span class="token operator">=</span><span class="token string">'w'</span><span class="token punctuation">)</span>
    font1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'weight'</span><span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token string">'size'</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">}</span>
    
    n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patches<span class="token operator">=</span>ax1<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>data<span class="token punctuation">,</span>bins <span class="token operator">=</span>bins<span class="token punctuation">,</span> alpha <span class="token operator">=</span> <span class="token number">0.65</span><span class="token punctuation">,</span>edgecolor<span class="token operator">=</span><span class="token string">'k'</span><span class="token punctuation">)</span> <span class="token comment"># Probability distribution histogram</span>
    yt<span class="token operator">=</span>plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">)</span>
    yt1<span class="token operator">=</span>yt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
    yt2<span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token operator">/</span><span class="token builtin">sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> yt1<span class="token punctuation">]</span>
    ytk1<span class="token operator">=</span><span class="token punctuation">[</span>to_percent<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> yt2 <span class="token punctuation">]</span>
    plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span>yt1<span class="token punctuation">,</span>ytk1<span class="token punctuation">)</span>
    X<span class="token operator">=</span>bins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>bins<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>bins<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2.0</span> 
    bins<span class="token operator">=</span>bins<span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
    freq<span class="token operator">=</span><span class="token punctuation">[</span>f<span class="token operator">/</span><span class="token builtin">sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token keyword">for</span> f <span class="token keyword">in</span> n<span class="token punctuation">]</span>
    acc_freq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>freq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
            temp<span class="token operator">=</span>freq<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            temp<span class="token operator">=</span><span class="token builtin">sum</span><span class="token punctuation">(</span>freq<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        acc_freq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
    ax2<span class="token operator">=</span>ax1<span class="token punctuation">.</span>twinx<span class="token punctuation">(</span><span class="token punctuation">)</span>                         <span class="token comment"># double ylable</span>
    ax2<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>X<span class="token punctuation">,</span>acc_freq<span class="token punctuation">)</span>                    <span class="token comment"># Cumulative probability curve</span>
    ax2<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>FuncFormatter<span class="token punctuation">(</span>to_percent<span class="token punctuation">)</span><span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span>xlabel<span class="token punctuation">,</span>font1<span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>set_title<span class="token punctuation">(</span>title<span class="token punctuation">,</span>font1<span class="token punctuation">)</span>
    ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">'Frequency'</span><span class="token punctuation">,</span>font1<span class="token punctuation">)</span>
    ax2<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">"Cumulative Frequency"</span><span class="token punctuation">,</span>font1<span class="token punctuation">)</span>
    <span class="token comment">#plt.savefig(pic_path,format='png', dpi=300)</span>
</code></pre>
<p>调用示例：</p>
<pre><code class="prism language-python">example_list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
n<span class="token operator">=</span><span class="token number">10000</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    tmp<span class="token operator">=</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    example_list<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
tit<span class="token operator">=</span><span class="token string">'TEST'</span>
xla<span class="token operator">=</span><span class="token string">'DATA'</span>
draw_cum_prob_curve<span class="token punctuation">(</span>example_list<span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span>tit<span class="token punctuation">,</span>xla<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="image\6dc0c6d4ddff431984484d5311e3fe98.png" width="70%"/></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>