<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<h1>使用环境</h1>
<p>在linux 环境中使用 （没有服务器可以使用虚拟机 复制到本地） windows环境很麻烦 </p>
<h1>使用前准备</h1>
<p>商户号、商户证书序列号、商户私匙文件（pem格式）、ApiV3密钥</p>
<p>安装好 微信支付SDK 使用composer安装</p>
<pre>composer require wechatpay/wechatpay
</pre>
<h1>ApiV3 密钥设置</h1>
<p><a href="https://kf.qq.com/faq/180830E36vyQ180830AZFZvu.html" title="什么是APIv3密钥？如何设置？">什么是APIv3密钥？如何设置？</a></p>
<p></p>
<p>第一步   </p>
<p>        进入对应项目目录根目录  校验composer 是否可用</p>
<p>        输入命令 composer -v    <img alt="" height="326" src="image\c174a87c30814ae096d65fe808d2c30f.png" width="922"/></p>
<p>第二步</p>
<p>        查询当前可用命令</p>
<p>        composer exec -l</p>
<p>        <img alt="" height="60" src="image\8e84d96a4b1b433c84d6338af06efcd0.png" width="596"/></p>
<p>第三步</p>
<p>        查看命令是否可以执行</p>
<p>        composer exec CertificateDownloader.php</p>
<p> <img alt="" height="555" src="image\f2814bde01f44f7baf61902e03ac7e19.png" width="1200"/></p>
<p> 最后执行命令</p>
<p>        注意如果未设置 apiv3 密钥 则报错提示 <img alt="" height="105" src="image\75a25a28dabd472b9ae1459f40c92a26.png" width="1200"/></p>
<p>         这个错误 注意看看 证书路径是否正确 </p>
<p><img alt="" height="91" src="image\ff1e03b21496494196e6cdde6da4aea9.png" width="1200"/></p>
<p> composer exec CertificateDownloader.php -- -m 你的商户号 -s 40字节你的商户证书序列号 -f 你的apiclient_key.pem文件路径（证书秘钥） -k 你的APIv3密钥 -o .（保存路径）</p>
<p>执行成功后</p>
<p><img alt="" height="675" src="image\1afb59693673488682f340b039604ec5.png" width="1200"/></p>
<p> </p>
<p> Serial Number 是证书序列号</p>
<p> Not Before 有效期开始时间</p>
<p> Not After 有效期结束时间</p>
<p> Saved to 保存路径</p>
<p></p>
<p></p>
</div>
</div>