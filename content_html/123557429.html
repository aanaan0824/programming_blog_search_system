<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#static_2">static关键字</a></li><li><ul><li><a href="#1Javastatic_4">1、Java中的static</a></li><li><ul><li><a href="#11%09static_6">1.1 static关键字的定义和性质</a></li><li><a href="#12%09_16">1.2 实例变量与静态变量</a></li><li><ul><li><a href="#121%09_18">1.2.1 实例变量</a></li><li><a href="#122%09_49">1.2.2 静态变量</a></li></ul>
</li><li><a href="#13%09_96">1.3 静态代码块</a></li><li><a href="#14%09___125">1.4 *实例语句块 / 代码块</a></li><li><a href="#15%09static_156">1.5 static总结</a></li><li><ul><li><a href="#151%09java_160">1.5.1 对java语句的解读</a></li><li><a href="#152%09_170">1.5.2 什么时候定义为静态的？</a></li></ul>
</li></ul>
</li><li><a href="#2CCstatic_178">2、C/C++中的static</a></li><li><ul><li><a href="#21%09_180">2.1 局部变量</a></li><li><ul><li><a href="#211%09_182">2.1.1 普通局部变量</a></li><li><a href="#212%09_187">2.1.2 静态局部变量</a></li></ul>
</li><li><a href="#22%09_245">2.2 全局变量</a></li><li><ul><li><a href="#221%09_249">2.2.1 普通全局变量</a></li><li><a href="#222%09_253">2.2.2 静态全局变量</a></li></ul>
</li><li><a href="#23%09_260">2.3 函数</a></li><li><a href="#24%09static_270">2.4 面向对象使用static</a></li><li><ul><li><a href="#241%09_272">2.4.1 静态数据成员</a></li><li><a href="#242%09_288">2.4.2 静态成员函数</a></li><li><a href="#242%09_299">2.4.2 静态成员函数</a></li></ul>
</li></ul>
</li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="static_2"></a>static关键字</h1>
<h2><a id="1Javastatic_4"></a>1、Java中的static</h2>
<h3><a id="11%09static_6"></a>1.1 static关键字的定义和性质</h3>
<p>1）static翻译为"静态的"；</p>
<p>2）static修饰的方法是静态方法，static修饰的变量是静态变量；</p>
<p>3）使用static修饰的元素都称为静态的，都可以用"类名."的方式访问，当然也可以用"引用."的方式访问【但不建议】</p>
<p>4）采用"引用."的方式访问的时候，即使引用是null，也不会出现空指针异常，因为访问静态数据不需要对象的存在；</p>
<h3><a id="12%09_16"></a>1.2 实例变量与静态变量</h3>
<h4><a id="121%09_18"></a>1.2.1 实例变量</h4>
<p>什么时候<strong>成员变量</strong>声明为实例变量呢？</p>
<p>–所有对象都有这个属性，但是这个属性的值会随着对象的变化而变化【不同对象的这个属性具体值不同】</p>
<p><strong>–实例变量在构造方法进行的时候初始化，存在堆内存中</strong></p>
<p>以下列例子说明：</p>
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> helloworld <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Chinese</span> zhangsan <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span><span class="token string">"Chinese"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Chinese</span><span class="token punctuation">{<!-- --></span>
	<span class="token class-name">String</span> id<span class="token punctuation">;</span>
	<span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token class-name">String</span> country<span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> country<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>country <span class="token operator">=</span> country<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="" src="image\80cebb7a10eb5e7ee5dfe4f2dec382f5.png"/></p>
<h4><a id="122%09_49"></a>1.2.2 静态变量</h4>
<p>什么时候<strong>成员变量</strong>声明为静态变量呢？</p>
<p>–所有对象都有这个属性，并且所有对象的这个属性的值是一样的，建议定义为静态变量，节省内存的开销</p>
<p>**静态变量在类加载的时候初始化，内存在方法区中开辟。**访问的时候不需要创建对象，直接使用"类名.静态变量名"的方式访问；</p>
<p>补充：</p>
<ul><li><strong>局部变量存储在栈内存当中；</strong></li><li><strong>实例变量在构造方法进行的时候初始化，存在堆内存中</strong>（成员变量的一种）</li><li><strong>静态变量在类加载的时候初始化，存在方法区内存中</strong>（成员变量的一种）</li></ul>
<p><img alt="" src="image\2f6ce234cbd3cc9c77327ba0f7098c1d.png"/></p>
<p>以下列例子说明：</p>
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> helloworld <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Chinese</span> zhangsan <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Chinese</span><span class="token punctuation">.</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>
        zhangsan <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Chinese</span><span class="token punctuation">{<!-- --></span>
	<span class="token class-name">String</span> id<span class="token punctuation">;</span>
	<span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">static</span> <span class="token class-name">String</span> country <span class="token operator">=</span> <span class="token string">"chinese"</span><span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token class-name">Chinese</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><img alt="" src="image\bc4fbbb823b2733afc465ffbce0a16e6.png"/></p>
<p>输出结果为三个Chinese；</p>
<p>1）所有静态的数据都是可以采用"类名.“，也可以采用"引用.”，但是建议采用类名.的方式访问；</p>
<p>2）采用"引用."的方式访问时，即使是null，也不会出现空指针异常，因为访问静态变量的时候不需要对象的存在；</p>
<h3><a id="13%09_96"></a>1.3 静态代码块</h3>
<p>1）语法格式：</p>
<pre><code class="prism language-java"><span class="token keyword">static</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//java语句</span>
<span class="token punctuation">}</span>
</code></pre>
<p>2）静态代码块在<strong>类加载时</strong>执行，并且<strong>执行一次</strong>；</p>
<p>3）静态代码块在一个类中可以编写多个，并且遵循自上而下的顺序依次执行；</p>
<p>4）静态代码块可以用在项目中要求在类加载的时刻/时机执行代码完成日志的记录，那么这段记录日志的代码就可以编写在静态代码块当中，完成日志记录；</p>
<p>5）静态代码块是java为程序员准备一个特殊的时刻，这个时刻被称为<strong>类加载时刻</strong>，若希望在此刻执行一段特殊的程序，这段代码可以放到静态代码块当中；</p>
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticTest</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"类加载---&gt;1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"类加载---&gt;2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="14%09___125"></a>1.4 *实例语句块 / 代码块</h3>
<p>1）实例代码块可以编写多个，也是遵循自上而下的顺序依次执行；</p>
<p>2）实例代码块<strong>在构造方法执行之前</strong>执行，构造方法执行一次，实例代码块对应执行一次；</p>
<p>3）实例代码块也是java语言为程序员准备一个特殊的时机，这个时机被称为：<strong>对象初始化时机</strong>；</p>
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> helloworld<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//构造函数</span>
    	<span class="token keyword">public</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Test类的缺省构造器执行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>    
    <span class="token comment">//实例代码块</span>
    <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//实例代码块</span>
    <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"main begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token keyword">new</span> <span class="token function">helloworld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="15%09static_156"></a>1.5 static总结</h3>
<p><code>public static void main(String[] args)</code></p>
<h4><a id="151%09java_160"></a>1.5.1 对java语句的解读</h4>
<p>1）public代表公开的，在任何位置都可以访问；</p>
<p>2）static表示静态的，使用"类名."的方式访问，不需要创建对象</p>
<p>3）void表示main方法执行结束之后不返回任何值；</p>
<p>4）(String[] args)是参数列表；</p>
<h4><a id="152%09_170"></a>1.5.2 什么时候定义为静态的？</h4>
<p>1）方法描述的是动作，当所有的对象执行这个动作的时候，最终产生影响是一样的，那么这个动作已经不再属于某一个对象动作了，可以将这个动作提升为类级别的动作，模板级别的对象；</p>
<p>2）静态方法中无法直接访问实例变量和实例方法；</p>
<p>3）大多数方法都定义为实例方法，一般一个行为或一个动作在发生的时候都需要对象的参与而大多数“工具类”当中的方法都是静态的，因为工具类就是方便编程的，为了方便方法的调用，自然不需要new对象是最好的；</p>
<h2><a id="2CCstatic_178"></a>2、C/C++中的static</h2>
<h3><a id="21%09_180"></a>2.1 局部变量</h3>
<h4><a id="211%09_182"></a>2.1.1 普通局部变量</h4>
<ul><li>在任何一个函数内部定义的变量（不加static修饰符）都属于这个范畴。编译器一般不对普通局部变量进行初始化，也就是说它的值<strong>在初始时是不确定的</strong>，除非对其显式赋值。</li><li>普通局部变量<strong>存储于进程栈空间，使用完毕会立即释放</strong>。</li></ul>
<h4><a id="212%09_187"></a>2.1.2 静态局部变量</h4>
<ul><li>静态局部变量使用static修饰符定义，即使<strong>在声明时未赋初值，编译器也会把它初始化为0</strong>。</li><li>静态局部变量**存储于进程的全局数据区，即使函数返回，它的值也会保持不变。**编译器自动对其初始化，其作用域为局部作用域，当定义它的函数结束时，其作用域随之结束</li></ul>
<pre><code class="prism language-c++">#include &lt;stdio.h&gt;

void fn(void)
{
    int n = 10;
    
    printf("n=%d\n", n);
    n++;
    printf("n++=%d\n", n);

}

void fn_static(void)
{
    static int n = 10;

    printf("static n=%d\n", n);
    n++;
    printf("n++=%d\n", n);

}

int main(void)
{
    fn();
    printf("--------------------\n");
    fn_static();
    printf("--------------------\n");
    fn();
    printf("--------------------\n");
    fn_static();
    return 0;
}
</code></pre>
<p>运行结果如下：</p>
<pre><code>n=10
n++=11
static n=10
n++=11
n=10
n++=11
static n=11
n++=12
</code></pre>
<p>可见，静态局部变量的效果跟全局变量有异曲同工之妙，但是位于函数体内部，有利于程序的模块化了。</p>
<h3><a id="22%09_245"></a>2.2 全局变量</h3>
<p>全局变量定义在函数体外部，在<strong>全局数据区分配存储空间，且编译器会自动对其初始化</strong>。</p>
<h4><a id="221%09_249"></a>2.2.1 普通全局变量</h4>
<p>普通全局变量对整个工程可见，<strong>其他文件可以使用extern外部声明后直接使用</strong>。也就是说其他文件不能再定义一个与其相同名字的变量了（否则编译器会认为它们是同一个变量）。</p>
<h4><a id="222%09_253"></a>2.2.2 静态全局变量</h4>
<ul><li>静态全局变量仅对当前文件可见，<strong>其他文件不可访问</strong>，其他文件可以定义与其同名的变量，两者互不影响。</li><li>在定义不需要与其他文件共享的全局变量时，加上static关键字能够有效地降低程序模块之间的耦合，避免不同文件同名变量的冲突，且不会误使用。</li></ul>
<h3><a id="23%09_260"></a>2.3 函数</h3>
<p>函数的使用方式与全局变量类似，在函数的返回类型前加上static，就是静态函数。其特性如下：</p>
<ul><li>静态函数只能在声明它的文件中可见，其他文件不能引用该函数</li><li>不同的文件可以使用相同名字的静态函数，互不影响</li><li>非静态函数可以在另一个文件中直接引用，甚至不必使用extern声明</li></ul>
<h3><a id="24%09static_270"></a>2.4 面向对象使用static</h3>
<h4><a id="241%09_272"></a>2.4.1 静态数据成员</h4>
<p>在类内数据成员的声明前加上static关键字，该数据成员就是类内的静态数据成员。其特点如下：</p>
<ul><li>静态数据成员存储在全局数据区，静态数据成员在定义时分配存储空间，所以不能在类声明中定义</li><li>静态数据成员是类的成员，无论定义了多少个类的对象，静态数据成员的拷贝只有一个，且对该类的所有对象可见。也就是说任一对象都可以对静态数据成员进行操作。而对于非静态数据成员，每个对象都有自己的一份拷贝。</li></ul>
<p>由于上面的原因，静态数据成员不属于任何对象，在没有类的实例时其作用域就可见，在没有任何对象时，就可以进行操作</p>
<ul><li>和普通数据成员一样，静态数据成员也遵从public, protected, private访问规则</li><li>静态数据成员的初始化格式：&lt;数据类型&gt;&lt;类名&gt;::&lt;静态数据成员名&gt;=&lt;值&gt;</li><li>类的静态数据成员有两种访问方式：&lt;类对象名&gt;.&lt;静态数据成员名&gt; 或 &lt;类类型名&gt;::&lt;静态数据成员名&gt;<br/> 同全局变量相比，使用静态数据成员有两个优势：</li><li>静态数据成员没有进入程序的全局名字空间，因此不存在与程序中其它全局名字冲突的可能性<br/> 可以实现信息隐藏。静态数据成员可以是private成员，而全局变量不能</li></ul>
<h4><a id="242%09_288"></a>2.4.2 静态成员函数</h4>
<p>与静态数据成员类似，静态成员函数属于整个类，而不是某一个对象，其特性如下：</p>
<ul><li>静态成员函数没有this指针，它无法访问属于类对象的非静态数据成员，也无法访问非静态成员函数，它只能调用其余的静态成员函数</li><li>出现在类体外的函数定义不能指定关键字static<br/> 成员名&gt; 或 &lt;类类型名&gt;::&lt;静态数据成员名&gt;<br/> 同全局变量相比，使用静态数据成员有两个优势：</li><li>静态数据成员没有进入程序的全局名字空间，因此不存在与程序中其它全局名字冲突的可能性<br/> 可以实现信息隐藏。静态数据成员可以是private成员，而全局变量不能</li></ul>
<h4><a id="242%09_299"></a>2.4.2 静态成员函数</h4>
<p>与静态数据成员类似，静态成员函数属于整个类，而不是某一个对象，其特性如下：</p>
<ul><li>静态成员函数没有this指针，它无法访问属于类对象的非静态数据成员，也无法访问非静态成员函数，它只能调用其余的静态成员函数</li><li>出现在类体外的函数定义不能指定关键字static</li><li>非静态成员函数可以任意地访问静态成员函数和静态数据成员</li></ul>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>