<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>【C语言】C语言标准库大梳理（超全））</h3>
<ul><li><a href="#_2">博主介绍</a></li><li><a href="#_14">前言</a></li><li><a href="#816_43">显示8进制和16进制</a></li><li><a href="#IO_219">字符串I/O</a></li><li><ul><li><a href="#_220">定义字符串</a></li></ul>
</li><li><a href="#_291">字符串函数</a></li><li><a href="#_352">💫点击直接资料领取💫</a></li></ul>
</div>
<p></p>
<h1><a id="_2"></a>博主介绍</h1>
<blockquote>
<p>🌊 <strong>作者主页：<a href="https://blog.csdn.net/weixin_46931877?spm=1000.2115.3001.5343">苏州程序大白</a></strong></p>
<p>🌊 <strong>作者简介：🏆CSDN人工智能域优质创作者🥇，苏州市凯捷智能科技有限公司创始之一，目前合作公司富士康、歌尔等几家新能源公司</strong></p>
<p><strong>💬如果文章对你有帮助，欢迎关注、点赞、收藏（一键三连）和C#、Halcon、python+opencv、VUE、各大公司面试等一些订阅专栏哦</strong></p>
<p><strong>💅 有任何问题欢迎私信，看到会及时回复</strong><br/> <strong>💅关注苏州程序大白，分享粉丝福利</strong></p>
</blockquote>
<h1><a id="_14"></a>前言</h1>
<p>C89 标准库总共划分为 15 个部分，每个部分用一个头文件描述，C99 标准新增了 9 个（为了简化学习，这里暂不提 C11 标准），总共有 24 个头文件。</p>
<table><thead><tr><th>头文件</th><th>描述</th></tr></thead><tbody><tr><td>assert.h</td><td>于验证程序做出的假设，并在假设为假时输出诊断消息</td></tr><tr><td>ctype.h</td><td>字符判断和转换</td></tr><tr><td>errno.h</td><td>定义了一系列表示不同错误代码的宏</td></tr><tr><td>float.h</td><td>包含了一组与浮点值相关的依赖于平台的常量</td></tr><tr><td>limits.h</td><td>决定了各种变量类型的各种属性,例如范围</td></tr><tr><td>locale.h</td><td>定义了特定地域的设置，比如日期格式和货币符号</td></tr><tr><td>math.h</td><td>定义了各种数学函数和一个宏</td></tr><tr><td>setjmp.h</td><td>定义了宏 setjmp()、函数 longjmp() 和变量类型 jmp_buf</td></tr><tr><td>signal.h</td><td>定义了一个变量类型 sig_atomic_t、两个函数调用和一些宏来处理程序执行期间报告的不同信号。</td></tr><tr><td>stdarg.h</td><td>定义了一个变量类型 va_list 和三个宏，这三个宏可用于在参数个数未知（即参数个数可变）时获取函数中的参数</td></tr><tr><td>stddef.h</td><td>定义了各种变量类型和宏。这些定义中的大部分也出现在其它头文件中。</td></tr><tr><td>stdio.h</td><td>定义了三个变量类型、一些宏和各种函数来执行输入和输出。</td></tr><tr><td>stdlib.h</td><td>定义了四个变量类型、一些宏和各种通用工具函数。</td></tr><tr><td>string.h</td><td>定义了一个变量类型、一个宏和各种操作字符数组的函数。</td></tr><tr><td>time.h</td><td>定义了四个变量类型、两个宏和各种操作日期和时间的函数。</td></tr><tr><td>–新增–</td><td>—下面是C99新增—</td></tr><tr><td>complex.h</td><td>复数算术</td></tr><tr><td>fenv.h</td><td>浮点环境</td></tr><tr><td>inttypes.h</td><td>整数类型格式转换</td></tr><tr><td>iso646.h</td><td>拼写转换</td></tr><tr><td>stdbool.h</td><td>布尔类型支持</td></tr><tr><td>stdint.h</td><td>整数类型</td></tr><tr><td>tgmath</td><td>泛型数学</td></tr><tr><td>wchar.h</td><td>扩展的多字节和宽字符实用工具</td></tr><tr><td>wctype.h</td><td>宽字符分类和映射使用工具</td></tr></tbody></table>
<h1><a id="816_43"></a>显示8进制和16进制</h1>
<p>如下，<code>%x</code> 十六进制格式输出， <code>%#x</code> 十六进制带格式符输出。同样的还有 <code>%c</code> 打印字符， <code>%e</code>, <code>%Le</code> 打印浮点值。还有一些特别的，例如 <code>%zd</code> 强制转换为整型打印。</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include</span>

<span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token class-name"><span class="token keyword">int</span></span> x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"十进制：%d, 八进制：%o, 十六进制：%x\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"十进制：%d, 八进制：%#o, 十六进制：%#x\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Console Out</strong></p>
<p><code>十进制：10, 八进制：12,十六进制：a 十进制：10, 八进制：012, 十六进制：0xa</code></p>
<p><strong>常用的格式转换说明符如下：</strong></p>
<table><thead><tr><th>格式转换符</th><th>解释</th></tr></thead><tbody><tr><td>%a(%A)</td><td>浮点数、十六进制数字和p-(P-)记数法(C99)</td></tr><tr><td>%c</td><td>字符</td></tr><tr><td>%d</td><td>有符号十进制整数</td></tr><tr><td>%f</td><td>浮点数(包括float和doulbe)</td></tr><tr><td>%e(%E)</td><td>浮点数指数输出[e-(E-)记数法]</td></tr><tr><td>%g(%G)</td><td>浮点数不显无意义的零"0"</td></tr><tr><td>%i</td><td>有符号十进制整数(与%d相同)</td></tr><tr><td>%u</td><td>无符号十进制整数</td></tr><tr><td>%o</td><td>八进制整数 e.g. 0123</td></tr><tr><td>%x(%X)</td><td>十六进制整数0f(0F) e.g. 0x1234</td></tr><tr><td>%p</td><td>指针</td></tr><tr><td>%s</td><td>字符串</td></tr><tr><td>%%</td><td>“%”</td></tr></tbody></table>
<p>同样输入<code>函数 scanf()</code> 也使用上面的格式转换符， 例如 <code>scanf("%s", name)</code>;.</p>
<p><strong>可移植类型</strong></p>
<p>C语言中有很多数据类型，但是在不同的设备和系统中每个数据类型所占的内存可能不同，C99新增了两个头文件 <code>stdint</code> 和 <code>inttypes.h</code> 来确保在各个系统中的功能相同。</p>
<p><strong>精确宽度类型</strong></p>
<p>在<code>stdint</code>中定义了很多类型名，例如<code>int32_t</code>作为<code>int</code>的别名，这样一来在<code>int</code>为 <code>16 位</code>， <code>long</code>为 <code>32</code> 位的系统会把<code>int32_t</code>作为long的别名。</p>
<p><strong>最小宽度类型</strong></p>
<p>上面的 <code>int32_t 类型</code>可能在有的系统不支持32位整数，最大支持8位。 我们可以使用 <code>int_least8_t</code>,如果此时某个系统最小整数类型是16位，则会把该类型变为16位。</p>
<p><strong>最快最小宽度类型</strong></p>
<p>这种就很好理解了，会自动根据系统此时最小整数类型选择更小的宽度来提高速度。例如<code>int_fast8_t</code> 定义系统中对8位有符号值而言运算最快的整数类型别名。</p>
<p>另外还有最大整数类型 i<code>ntmax_t</code>,<code>无符号</code>。</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include</span>
<span class="token preprocessor property">#include</span>

<span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token class-name">int32_t</span> me32<span class="token punctuation">;</span>
me32 <span class="token operator">=</span> <span class="token number">45934334</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"me32 = %d\n"</span><span class="token punctuation">,</span> me32<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"me32 = %"</span> PRID32 <span class="token string">"\n"</span><span class="token punctuation">,</span> me32<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>参数 <code>PRID32</code> 被定义在<code>inttypes.h</code>中，用于替代<code>d</code> , 这条语句等价于<code>printf("me32 = %" "d" "\n", me32)</code>;, 这里可以看出C语言另一个特点，可以把连续的字符串拼接为一个字符串。</p>
<p><strong>char数组和字符串</strong></p>
<p>数组是同类型数据元素的有序序列，字符串是末尾添加 <code>\0</code> 结束符的字符<code>（char）数组</code>。</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#<span class="token directive keyword">define</span> STRING </span><span class="token string">"x"</span>

<span class="token class-name"><span class="token keyword">char</span></span> a <span class="token operator">=</span> <span class="token char">'x'</span><span class="token punctuation">;</span>
</code></pre>
<p>注意上面字符串和字符的区别， 在 <code>string.h</code> 头文件中包含多个与字符串相关的原型函数，比如 <code>strlen()</code>获取字符串长度。</p>
<p>上面的 <code>#define STRING "x"</code> 是预处理，也就是说在编译时期就会将 <code>STRING</code> 替换成<code>字符串 x ,</code>通常用这种方式定义一些常量。另外我们对一些不可改变的常量使用 <code>const 限定符</code>。</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#<span class="token directive keyword">define</span> PI 3.14159 </span><span class="token comment">// 常量宏  </span>

<span class="token keyword">const</span> <span class="token class-name">doulbe</span> Pi<span class="token operator">=</span><span class="token number">3.14159</span><span class="token punctuation">;</span> <span class="token comment">// 常量</span>
</code></pre>
<p><strong>两个常量之间的区别：</strong></p>
<ul><li> <p><code>define宏</code>是在预处理阶段展开，<code>const常量</code>是编译运行阶段使用。</p> </li><li> <p><code>define宏</code>没有类型，不做任何类型检查，仅仅是展开，<code>const常量</code>有具体的类型，在编译阶段会执行类型检查。</p> </li><li> <p><code>define宏</code>在定义时不会分配内存；<code>define</code>宏仅仅是展开，有多少地方使用，就展开多少次，<code>const常量</code>在定义时会在内存中分配(可以是堆中也可以是栈中)。</p> </li></ul>
<p><strong>I/O和缓冲</strong></p>
<p>单字符输入输出使用 <code>stdio.h</code> 中的<code>getchar()</code> 和<code>putchar()</code>:</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include</span>

<span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token class-name"><span class="token keyword">char</span></span> ch<span class="token punctuation">;</span>
<span class="token comment">//while((ch = getchar()) != '#'){<!-- --></span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> EOF<span class="token punctuation">)</span> <span class="token comment">//按 Enter 或者 Ctrl + D 结束输入</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">putchar</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//Input: i am shuihan, this is my blog # haha</span>
<span class="token comment">//Output: i am shuihan, this is my blog</span>

</code></pre>
<p>你会发现并不是你每输入一个字符就会打印到屏幕，而是你按<code>回车（Enter）</code>的时候读取缓冲区的字符。 上面的 <code>EOF</code> 是在<code>stdio.h</code> 中的预处理<code>#define EOF (-1)</code>, 在 <code>Unix</code>系统中一般采用文件字符长度来判断文件结束，当检测到文件结尾就会返回 <code>EOF</code>。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c393f61bee4d4426967b5507538083b9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IuP5bee56iL5bqP5aSn55m9,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> <strong>打开文件流并读出文件内容示例代码如下：</strong></p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include</span>
<span class="token preprocessor property">#include</span>

<span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token class-name"><span class="token keyword">int</span></span> ch<span class="token punctuation">;</span>
FILE <span class="token operator">*</span> fp<span class="token punctuation">;</span>
<span class="token keyword">char</span> fname<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//存储文件名</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输入文件名："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> fname<span class="token punctuation">)</span><span class="token punctuation">;</span>

fp <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>fp <span class="token operator">==</span> NULL<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"打开文件失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//退出程序</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> <span class="token function">getc</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> EOF<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token function">putchar</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//关闭文件</span>

<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>使用 <code>FILE *fopen(const char *path, const char *mode)</code>; 函数来打开文件：</p>
<pre><code class="prism language-csharp"><span class="token comment">//以输入方式打开文本/二进制文件,只读。前提是文件必须存在</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"txtFileName"</span><span class="token punctuation">,</span> <span class="token string">"r"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"binFileName"</span><span class="token punctuation">,</span> <span class="token string">"rb"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//建立输出方式文本/二进制文件,只写。如存在此名字文件，则清除原有内容</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"txtFileName"</span><span class="token punctuation">,</span> <span class="token string">"w"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"binFileName"</span><span class="token punctuation">,</span> <span class="token string">"wb"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//以输入输出方式打开文本/二进制文件,可读可写,指针指向文件头</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"txtFileName"</span><span class="token punctuation">,</span> <span class="token string">"r+"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"binFileName"</span><span class="token punctuation">,</span> <span class="token string">"rb+"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//以输入输出方式打开文本/二进制文件,可读可写,指针指向文件尾</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"txtFileName"</span><span class="token punctuation">,</span> <span class="token string">"a+"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
fp <span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span> <span class="token string">"binFileName"</span><span class="token punctuation">,</span> <span class="token string">"ab+"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>使用 <code>int fclose(FILE *fp)</code>; 来关闭文件, 不关闭文件有可能会丢失数据,调用<code>fclose</code>之后，系统会刷新缓存，将缓存区域中的数据全部刷新到文件中去。然后再去释放文件。</p>
<h1><a id="IO_219"></a>字符串I/O</h1>
<h2><a id="_220"></a>定义字符串</h2>
<pre><code class="prism language-csharp"><span class="token keyword">char</span> tc<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Hello"</span>"Old<span class="token string">""</span>Are you"<span class="token punctuation">;</span>

<span class="token comment">//等价于</span>

<span class="token keyword">char</span> tcl<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"HelloOldAre you"</span><span class="token punctuation">;</span>


<span class="token comment">//字符串常量</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> ml<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Test String const."</span><span class="token punctuation">;</span>

<span class="token comment">//等价于(值得注意的是字符串和字符数组的区别就在末尾是否有 \0 )</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> mls<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token char">'T'</span><span class="token punctuation">,</span> <span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token char">'s'</span><span class="token punctuation">,</span> <span class="token char">'t'</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">'S'</span><span class="token punctuation">,</span> <span class="token char">'t'</span><span class="token punctuation">,</span> <span class="token char">'r'</span><span class="token punctuation">,</span> <span class="token char">'i'</span><span class="token punctuation">,</span> <span class="token char">'n'</span><span class="token punctuation">,</span> <span class="token char">'g'</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">,</span> <span class="token char">'o'</span><span class="token punctuation">,</span> <span class="token char">'s'</span><span class="token punctuation">,</span> <span class="token char">'t'</span><span class="token punctuation">,</span> <span class="token char">'.'</span><span class="token punctuation">,</span> <span class="token char">'\0'</span><span class="token punctuation">}</span>

</code></pre>
<p><strong>数组和指针的区别</strong></p>
<pre><code class="prism language-csharp"><span class="token keyword">char</span> arry1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Test Test"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>arry2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"TTTTT"</span><span class="token punctuation">;</span>
</code></pre>
<p><code>arry1</code> 和 <code>arry2</code> 的区别有， arry1 是常量而 arry2 是变量。 arry1 和 arry2 都指向字符数组的首地址。</p>
<pre><code class="prism language-csharp"><span class="token keyword">char</span> <span class="token operator">*</span> arry3 <span class="token operator">=</span> <span class="token string">"frame"</span><span class="token punctuation">;</span>
</code></pre>
<p>当然上面的 <code>arry3 指针</code>也指向该字符串的首地址，那么 <code>arry3[1] = '1'</code> 这样修改是否正确呢？有些编译器是允许这么做的，这样容易造成一些问题，所以通常需要给添加 <code>const 修饰符</code>。</p>
<pre><code class="prism language-csharp">
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> arry4 <span class="token operator">=</span> "it's right'<span class="token punctuation">;</span>
</code></pre>
<p>字符串有它专有的输入/<code>输出函数 puts(str)</code> 和 <code>gets(str)</code>, 等价于<code>printf("%s\n", str)</code>和 <code>scanf("%s\n", str)</code>, 会在末尾自动添加换行符。</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include</span>
<span class="token preprocessor property">#<span class="token directive keyword">define</span> STLEN 81</span>

<span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">char</span> words<span class="token punctuation">[</span>STLEN<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"输入一串字符串："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">gets</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"输出内容：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> words<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">puts</span><span class="token punctuation">(</span>words<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>不幸的是上面代码你可能会执行失败，因为在 C11 中 <code>gets() 方法</code>已经被去掉，因为 <code>gets() 函数</code>是不安全的，替代函数有两个：</p>
<p><code>fgets()</code> : 第二参数指明了读入字符串的最长量，如果该参数为n，那么最多将会读入n-1个字符，或者读到换行符为止。与<code>gets（）</code>不同的是，<code>fgets（）</code>会将读到的换行符存储在数组中，而<code>gets（）</code>会丢弃换行符。<code>fgets（）</code>的第三个参数必须声明要读入的文件，如果从键盘读入，则声明为<code>stdin</code>作为参数，该标识符的定义在<code>sdtio</code>中。</p>
<pre><code class="prism language-csharp"><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">fgets</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> n<span class="token punctuation">,</span> FILE <span class="token operator">*</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>gets_s()</code> ：只从标准输入中读数据，因此它不需要第三个参数。<code>gets_s（）</code>和<code>gets（）是</code>非常相似的，一旦超出了存储长度，<code>gets（）函数</code>就会不安全，因为它会修改超出部分的内存，擦写现存的数据，而<code>gets_s</code>是安全的，一旦超出，就会自动调用“处理函数”，中止或退出程序。</p>
<pre><code class="prism language-csharp"><span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">gets_s</span><span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token class-name">rsize_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>所以上面的 <code>gets(words)</code>; 在C11中可以换成<code>fgets(words, STLEN, stdin)</code>; 当然<code>puts() 函数</code>也有对应的 <code>fputs()</code>替代品。</p>
<h1><a id="_291"></a>字符串函数</h1>
<p><strong>string.h</strong> 中提供了很多处理字符串的函数，例如 <code>strlen()</code> , <code>strcat()</code> , <code>strcmp()</code>,<code>strncmp()</code>, <code>strcpy()</code>等。</p>
<p><strong>strlen()函数</strong>： 统计字符串长度。</p>
<pre><code class="prism language-csharp"><span class="token preprocessor property">#include</span>
<span class="token preprocessor property">#include</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">fit</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">,</span> unsigned <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">char</span> str1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcdefghijklmnopqrstu"</span><span class="token punctuation">;</span>
<span class="token function">puts</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fit</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">puts</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">puts</span><span class="token punctuation">(</span>str1 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/*缩短字符串长度*/</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">fit</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token keyword">string</span><span class="token punctuation">,</span> unsigned <span class="token class-name"><span class="token keyword">int</span></span> size<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> size<span class="token punctuation">)</span>
<span class="token keyword">string</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>你会发现上面将字符串截成了两个部分，原理如下：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fd116d0cccc74986b8308068156fd836.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6IuP5bee56iL5bqP5aSn55m9,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 来思考一个问题，如果将上面的字符串定义换成 <code>char * str1 = "abcdefghijklmnopqrstu"</code>; 程序能正常执行吗？其实这个问题上面已经提到过了这种指针形式的字符串大多数编译器是不允许修改其每个字符的值的。</p>
<p><strong>strcat()函数</strong>：拼接两个字符串，如下会将 str2 拼接到 str1 后面， str2 不变。</p>
<pre><code class="prism language-csharp"><span class="token comment">/* 字符串拼接 */</span>
<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">testStrcat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

    <span class="token keyword">char</span> str1 <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"str1"</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> str2 <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"str2"</span><span class="token punctuation">;</span>

    <span class="token function">strcat</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">puts</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">puts</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>上面程序看似没有任何问题，但是假设我们给 str1 数组设定了长度，那么就不能保证拼接后的字符串能存放到<code>str1</code>中了。所以要注意数组长度问题。</p>
<p>试想一下，将上面的 str1 改为 char * str1 = “str1”; 这个代码是执行失败的，原因同上。如果将<code>str2</code> 改为<code>char * str2 = "str2"</code>; 也不能执行成功，但是我们可以将 str2 修饰为 <code>const 的 const char str2[] = "str2";</code>。</p>
<p><strong>strncat()函数</strong>：也是拼接字符串，只不过和 <code>strcat()</code> 不同的是遇到空字符或长度限制自动停止，不会存在上面的 <code>str1</code>长度空间不够用情况。和 <code>gets()</code>函数类似 <code>strcat()</code> 可能会导致缓冲区溢出，而 <code>strncat()</code>可以设置限制长度来避免这个问题。</p>
<p><strong>strcmp()函数</strong>：两个字符串比较，类似于Java中的 <code>equals()</code> 方法，比较的不是地址，相等返回<code>0</code>，字典排序<code>str1 &lt; str2</code>返回 <code>-1</code> ， <code>str1 &gt; str2</code> 返回<code>1</code>。</p>
<h1><a id="_352"></a>💫点击直接资料领取💫</h1>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ea2bab831ae14ffc8cb1f8d91eac02b0.gif#pic_center"/></p>
<p>​<font color="#03a9f4" face="楷体" size="5"> <strong>这里有各种学习资料还有有有趣好玩的编程项目，更有难寻的各种资源。</strong> </font>​ ​</p>
<center>
<font color="f7630c"><b> ❤️关注苏州程序大白公众号❤️</b></font>
</center>
<br/>
<center>
<font color="f7630c"><b> 👇 👇👇</b></font>
</center>
<br/>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>