<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-tomorrow-night" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>å­¦ä¹ ç›®å½•</h3>
<ul><li><a href="#_1">å‰è¨€</a></li><li><ul><li><a href="#MyBatis_6">MyBatisç®€ä»‹</a></li><li><a href="#_10">å¿«é€Ÿå…¥é—¨</a></li><li><a href="#_102">æ˜ å°„æ–‡ä»¶</a></li><li><a href="#sqlresultMap_104">sqlç‰‡æ®µä¸resultMapï¼ˆğŸ³ï¸â€ğŸŒˆï¼‰</a></li><li><a href="#MyBatis_127">MyBatisçš„å¢åˆ æ”¹æŸ¥</a></li><li><ul><li><a href="#1_128">1.æ·»åŠ æ“ä½œ</a></li><li><a href="#2_149">2.ä¿®æ”¹æ“ä½œ</a></li><li><a href="#3_168">3.åˆ é™¤æ“ä½œ</a></li></ul>
</li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="_1"></a>å‰è¨€</h1>
<p>ä¼ ç»Ÿçš„JDBCæ“ä½œæ•°æ®åº“éƒ½æ˜¯é€šè¿‡å†™ä¸€ä¸ªjavaç±»ï¼Œåœ¨ç±»ä¸­è°ƒç”¨æ¥å£ä¸‹çš„APIæ‰§è¡Œç›¸åº”çš„SQLï¼Œ<font color="red"><strong>å­˜åœ¨å¤§é‡çš„ç¡¬ç¼–ç </strong></font>ã€‚è¯•æƒ³ï¼Œè‹¥æ˜¯å¼€å‘ä¸€ä¸ªæ—¥æ´»åº¦é«˜çš„ç³»ç»Ÿï¼Œé‚£SQLçš„å˜åŠ¨çš„éå¸¸å¤§ï¼Œå°±è¦æˆ‘ä»¬å»ç›¸åº”çš„ç±»ä¸­ä¿®æ”¹Javaä»£ç ï¼Œç‰¹åˆ«æ˜¯è¿›è¡ŒæŸ¥è¯¢æ“ä½œæ—¶éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å°†ç»“æœé›†å°è£…åˆ°å®ä½“ç±»ä¸­ï¼Œé€ æˆåæœŸç»´æŠ¤å‹åŠ›å±±å¤§<br/> <strong>æ€»è€Œè¨€ä¹‹ï¼Œç¼ºç‚¹å¤šå¤š</strong></p>
<blockquote>
<p>ğŸ³ï¸â€ğŸŒˆç»™å¤§å®¶æ¨èä¸€ä¸ª<font color="green"><strong>Javaé¢è¯•åˆ·é¢˜ç½‘ç«™ç‰›å®¢ç½‘</strong></font>ï¼Œæ‡’ç¾Šç¾Šç¥ä½ æ—©æ—¥æˆç¥ï¼š<a href="https://www.nowcoder.com/link/pc_csdncpt_lyy_java">Javaåˆ·é¢˜é¢è¯•å®è—ç½‘ç«™</a></p>
</blockquote>
<h2><a id="MyBatis_6"></a>MyBatisç®€ä»‹</h2>
<p><img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/4998ee1db8d9459582f3297becdc107b.png#pic_center"/><br/> mybatisæ˜¯ä¸€ä¸ªä¼˜ç§€çš„<font color="red"><strong>åŸºäºjavaçš„æŒä¹…å±‚æ¡†æ¶</strong></font>ï¼Œå®ƒå†…éƒ¨å°è£…äº†jdbcï¼Œä½¿å¼€å‘è€…åªéœ€è¦å…³æ³¨sqlè¯­å¥æœ¬èº«ï¼Œè€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ã€‚mybatisé€šè¿‡xmlæˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§statementé…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œstatementä¸­sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥<br/> æœ€åmybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ã€‚é‡‡ç”¨ORMæ€æƒ³è§£å†³äº†å®ä½“å’Œæ•°æ®åº“æ˜ å°„çš„é—®é¢˜ï¼Œå¯¹jdbcè¿›è¡Œäº†å°è£…ï¼Œå±è”½äº†jdbc apiåº•å±‚è®¿é—®ç»†èŠ‚ï¼Œä½¿æˆ‘ä»¬ä¸ç”¨ä¸jdbc apiæ‰“äº¤é“ï¼Œå°±å¯ä»¥å®Œæˆå¯¹æ•°æ®åº“çš„æŒä¹…åŒ–æ“ä½œ</p>
<h2><a id="_10"></a>å¿«é€Ÿå…¥é—¨</h2>
<p>ä¸‹é¢çš„é…ç½®æ–‡ä»¶åœ¨MyBatisçš„å®˜ç½‘é‡Œéƒ½æœ‰ï¼Œè‡ªå·±å»å¤åˆ¶è¿‡æ¥ç²˜è´´åˆ°IDEAä¸­æ›´æ”¹å¯¹åº”çš„ä¿¡æ¯å³å¯ï¼Œ<strong>æˆ‘å†™å‡ºæ¥çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ–‡ç« çš„é¡ºåºæµç•…</strong>ï¼ˆå¤§å®¶è«çƒ¦~ï¼‰<br/> <strong>1.å¯¼å…¥MyBatisç›¸å…³åæ ‡</strong></p>
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>mysql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">8.0</span><span class="token number">.29</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.5</span><span class="token number">.10</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre>
<p><strong>2.æ•°æ®åº“ä¸­å»ºç«‹ç›¸åº”çš„æ•°æ®è¡¨ï¼Œå¹¶ç¼–å†™ä¸€ä¸ªè¡¨ä¸­å­—æ®µå¯¹åº”çš„ï¼ˆBrandï¼‰å®ä½“ç±»</strong><br/> <img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/fe85975742374c67b25522f2622a86d3.png"/><br/> <strong>3.ç¼–å†™BrandMapperæ˜ å°„æ–‡ä»¶</strong></p>
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE mapper
        PUBLIC <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
        <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>mapper namespace<span class="token operator">=</span><span class="token string">"mapper.BrandMapper"</span><span class="token operator">&gt;</span>
<span class="token comment">//Mapperä»£ç†å¼€å‘ï¼š</span>
<span class="token comment">//å®šä¹‰ä¸SQLæ˜ å°„æ–‡ä»¶åŒåçš„Mapperæ¥å£ï¼Œ</span>
<span class="token comment">//å¹¶ä¸”å°†Mapperæ¥å£å’ŒSQLæ˜ å°„æ–‡ä»¶æ”¾ç½®åœ¨åŒä¸€ç›®å½•ä¸‹</span>
<span class="token comment">//è®¾ç½®SQLæ˜ å°„æ–‡ä»¶çš„namespaceå±æ€§ä¸ºMapperæ¥å£å…¨é™å®šå</span>
<span class="token comment">//åœ¨Mapperæ¥å£ä¸­å®šä¹‰æ–¹æ³•ï¼Œæ–¹æ³•åå°±æ˜¯SQLæ˜ å°„æ–‡ä»¶ä¸­sqlè¯­å¥çš„idï¼Œå¹¶ä¿æŒå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸€è‡´</span>
    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"selAll"</span> resultType<span class="token operator">=</span><span class="token string">"sqlTest.Brand"</span><span class="token operator">&gt;</span>
        select <span class="token operator">*</span> from mybatis<span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>mapper<span class="token operator">&gt;</span>
</code></pre>
<p><strong>4.ç¼–å†™å°è£…æŸ¥è¯¢ç»“æœå¯¹è±¡çš„æ¥å£</strong></p>
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BrandMapper</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<p><strong>5ç¼–å†™Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</strong></p>
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE configuration
        PUBLIC <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span>
        <span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>configuration<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>typeAliases<span class="token punctuation">&gt;</span></span>
            <span class="token operator">&lt;</span><span class="token keyword">package</span> <span class="token namespace">name</span><span class="token operator">=</span><span class="token string">"sqlTest"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>typeAliases<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>environments <span class="token keyword">default</span><span class="token operator">=</span><span class="token string">"development"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>environment id<span class="token operator">=</span><span class="token string">"development"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>transactionManager type<span class="token operator">=</span><span class="token string">"JDBC"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>dataSource type<span class="token operator">=</span><span class="token string">"POOLED"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>æ•°æ®åº“è¿æ¥ä¿¡æ¯<span class="token operator">--</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"driver"</span> value<span class="token operator">=</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"url"</span> value<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/pyq?useSSL=false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"username"</span> value<span class="token operator">=</span><span class="token string">"root"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"password"</span> value<span class="token operator">=</span><span class="token string">"284650"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>dataSource<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>environment<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>environments<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>mappers<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>mapper resource<span class="token operator">=</span><span class="token string">"mapper/userMapper.xml"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>mapper resource<span class="token operator">=</span><span class="token string">"mapper/BrandMapper.xml"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>mappers<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>configuration<span class="token operator">&gt;</span>
</code></pre>
<p><strong>6.ç¼–å†™æµ‹è¯•ç±»ï¼Œé€šè¿‡MyBatiså®ç°æŸ¥è¯¢åŠŸèƒ½</strong></p>
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisDemo3</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token comment">//åŠ è½½mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶,è·å–sqlSessionFactory</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">"mybatis-config.xml"</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–sqlSessionå·¥å‚å¯¹è±¡</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–sqlSessionå¯¹è±¡,æ¥æ‰§è¡Œsql</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–BrandMapperæ¥å£çš„ä»£ç†å¯¹è±¡</span>
        <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span>brandMapper<span class="token punctuation">.</span><span class="token function">selAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é‡Šæ”¾èµ„æº</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>ä¸€é¡¿æ“ä½œä¸‹æ¥å¥½åƒä¹Ÿæ²¡æœ‰ç®€å•å¤šå°‘ï¼Œå…¶å®ä¸ç„¶ï¼Œåˆæ¬¡ç¼–å†™çš„é…ç½®æ–‡ä»¶éƒ½æ˜¯æŒä¹…åŒ–çš„å±æ€§ï¼Œä»¥åçš„å˜æ›´åªéœ€è¦åœ¨<strong>æ¥å£é‡Œå†™å‡ºç›¸åº”çš„æ–¹æ³•å³å¯</strong>ï¼Œé¿å…äº†å¤§é‡çš„ç¡¬ç¼–ç </p>
<h2><a id="_102"></a>æ˜ å°„æ–‡ä»¶</h2>
<p><img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" src="https://img-blog.csdnimg.cn/b00e086278d8411188d03b2bc6d7908c.png"/></p>
<h2><a id="sqlresultMap_104"></a>sqlç‰‡æ®µä¸resultMapï¼ˆğŸ³ï¸â€ğŸŒˆï¼‰</h2>
<p>åœ¨è¿›è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œ<font color="red"><strong>ä¸ºäº†è§£å†³SQLè¡¨ä¸­å­—æ®µåç§°å’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´å¯¼è‡´çš„ä¸èƒ½è‡ªåŠ¨å°è£…ï¼ˆæŸ¥å‡ºä¸ºnullï¼‰çš„é—®é¢˜</strong></font>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡"èµ·åˆ«å"ä¹Ÿå¯ä»¥é€šè¿‡SQLç‰‡æ®µæ¥å¯¹æŸ¥è¯¢çš„æ•°æ®è¿›è¡Œå®šä¹‰ä¿®æ”¹ï¼Œç»Ÿä¸€é‡å¤çš„æ“ä½œ<br/> æ¯”å¦‚ï¼Œåœ¨é‡åˆ°è¡¨ä¸­çš„å­—æ®µåç§°ä¸ç¬¦åˆå®ä½“ç±»ä¸­é©¼å³°å‘½åçš„è§„èŒƒæ—¶ã€è¦å¯¹æŸ¥è¯¢çš„æ•°æ®è¿›è¡ŒèŒƒå›´é™å®šæ—¶éƒ½å¯ä»¥é€šè¿‡sqlç‰‡æ®µæ¥å®ç°ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<pre><code class="prism language-java"> <span class="token operator">&lt;</span>sql id<span class="token operator">=</span><span class="token string">"cut"</span><span class="token operator">&gt;</span>
         bracd_name as bracdName<span class="token punctuation">,</span>company_name as compantName
 <span class="token operator">&lt;</span><span class="token operator">/</span>sql<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"selAll"</span> resultType<span class="token operator">=</span><span class="token string">"sqlTest.Brand"</span><span class="token operator">&gt;</span>
        select <span class="token operator">&lt;</span>include refid<span class="token operator">=</span><span class="token string">"cut"</span><span class="token operator">/</span><span class="token operator">&gt;</span> from mybatis<span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre>
<p>é€šè¿‡SQLç‰‡æ®µå®ç°äº†æ‰€è°“çš„èŒƒå›´æŸ¥è¯¢ï¼Œå•è¡¨é‡å¤èµ·åˆ«åå·¥ä½œçš„ç»Ÿä¸€ï¼Œä½†æ˜¯é’ˆå¯¹å¤šæ¬¡ä¸åŒçš„æŸ¥è¯¢èŒƒå›´æˆ‘ä»¬éœ€è¦å¤šæ¬¡å®šä¹‰SQLç‰‡æ®µï¼ˆä¸çµæ´»ï¼‰ï¼Œè¿™ä¹Ÿä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹<br/> äºæ˜¯resultMapå¸®æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rm<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>brand<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bracd_name<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bracdName<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>company_name<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>companyName<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rm<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        select * from mybatis;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>é€šè¿‡idæ¥è®¾ç½®å”¯ä¸€æ ‡è¯†ï¼Œtypeæ¥æŒ‡å®šæ˜ å°„ç±»å‹ï¼ŒæŠŠè¡¨çš„åˆ—åcolumnå’Œå®ä½“ç±»çš„å±æ€§åé€šè¿‡resultè¿›è¡Œæ˜ å°„ï¼Œåœ¨æˆ‘ä»¬çš„SQLä¸­ç›´æ¥æŸ¥è¯¢æ‰€æœ‰å³å¯ï¼Œè¿›è¡Œä¸åŒçš„æŸ¥è¯¢æ“ä½œä¹Ÿä¸éœ€è¦é‡å¤å®šä¹‰ç‰‡æ®µæˆ–è€…å–åˆ«åï¼Œå°±å˜å¾—ååˆ†ç®€å•</p>
<h2><a id="MyBatis_127"></a>MyBatisçš„å¢åˆ æ”¹æŸ¥</h2>
<h3><a id="1_128"></a>1.æ·»åŠ æ“ä½œ</h3>
<p>ç¼–å†™Mapperæ¥å£ï¼Œå†™å‡ºæ·»åŠ çš„æ–¹æ³•ï¼š</p>
<pre><code class="prism language-java">     <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>é…ç½®SQLæ˜ å°„æ–‡ä»¶ï¼š</p>
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
        insert into mybatis(bracd_name,company_name,ordered,description,status)
        values (#{bracdName},#{companyName},#{ordered},#{description},#{status});
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>æ‰§è¡Œæ–¹æ³•:</p>
<pre><code class="prism language-java"> <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  brandMapper<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="2_149"></a>2.ä¿®æ”¹æ“ä½œ</h3>
<p>ç¼–å†™Mapperæ¥å£ï¼Œå†™å‡ºä¿®æ”¹çš„æ–¹æ³•ï¼š</p>
<pre><code class="prism language-java"><span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>ç¼–å†™æ˜ å°„æ–‡ä»¶:</p>
<pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>update<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sqlTest.Brand<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        update mybatis set bracd_name=#{bracdName},company_name=#{companyName},ordered=#{ordered},description=#{description},status=#{status}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>æ‰§è¡Œæ–¹æ³•ï¼š</p>
<pre><code class="prism language-java"> <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> count<span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="3_168"></a>3.åˆ é™¤æ“ä½œ</h3>
<p>ç¼–å†™Mapperæ¥å£ï¼Œå†™å‡ºåˆ é™¤æ–¹æ³•ï¼š</p>
<pre><code class="prism language-java">     <span class="token keyword">void</span> <span class="token function">deleteid</span><span class="token punctuation">(</span><span class="token class-name">Brand</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>ç¼–å†™æ˜ å°„æ–‡ä»¶ï¼š</p>
<pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deleteid<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>brand<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            delete from mybatis where id=#{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>æ‰§è¡Œæ–¹æ³•ï¼š</p>
<pre><code class="prism language-java"> <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">BrandMapper</span> brandMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> count<span class="token operator">=</span> brandMapper<span class="token punctuation">.</span><span class="token function">deleteid</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯å¯¹MyBtiasçš„åˆè¯†ï¼Œåé¢è¿˜æœ‰å¾ˆå¤šé«˜çº§åŠŸèƒ½ç­‰å¾…æ•´ç†</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>