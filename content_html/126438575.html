<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<p>ä½œè€…ç®€ä»‹ï¼šğŸ…äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…ğŸ…æ–°æ˜Ÿè®¡åˆ’ç¬¬ä¸‰å­£pythonèµ›é“ç¬¬ä¸€åğŸ… <a href="https://blink.csdn.net/details/1342064?spm=1001.2014.3001.5501" title="é˜¿é‡Œäº‘ACEè®¤è¯é«˜çº§å·¥ç¨‹å¸ˆ">é˜¿é‡Œäº‘ACEè®¤è¯é«˜çº§å·¥ç¨‹å¸ˆ</a>ğŸ…<br/> âœ’ï¸ä¸ªäººä¸»é¡µï¼š<a href="https://blog.csdn.net/qq_62294245?type=blog" title="å°é¹linux">å°é¹linux</a><br/> ğŸ’Šä¸ªäººç¤¾åŒºï¼š<a href="https://bbs.csdn.net/forums/axp?spm=1001.2014.3001.6682" title="å°é¹linuxï¼ˆä¸ªäººç¤¾åŒºï¼‰">å°é¹linuxï¼ˆä¸ªäººç¤¾åŒºï¼‰</a>æ¬¢è¿æ‚¨çš„åŠ å…¥ï¼</p>
<blockquote>
<p>ä¸ºå¤§å®¶æ¨èä¸€æ¬¾åˆ·é¢˜ç¥å¥‡ <a href="https://www.nowcoder.com/exam/oj?page=1&amp;tab=Python%E7%AF%87&amp;topicId=326&amp;fromPut=pc_csdncpt_xiaopeng_python" title="ç‚¹å‡»é“¾æ¥è®¿é—®ç‰›å®¢ç½‘">ç‚¹å‡»é“¾æ¥è®¿é—®ç‰›å®¢ç½‘</a></p>
<p>å„å¤§äº’è”ç½‘å¤§å‚é¢è¯•çœŸé¢˜ã€‚åŸºç¡€é¢˜åº“åˆ°è¿›é˜¶é¢˜åº“ç­‰å„ç±»é¢è¯•é¢˜åº”æœ‰å°½æœ‰ï¼</p>
<p>ç‰›å®¢ç½‘é¢ç»åˆé›†,æ»¡è¶³å¤§å‚é¢è¯•æŠ€æœ¯æ·±åº¦ï¼Œå¿«é€Ÿæ„å»ºJavaæ ¸å¿ƒçŸ¥è¯†ä½“ç³»å¤§å‚é¢è¯•å®˜äº²æˆï¼Œå¤‡æˆ˜é¢è¯•ä¸æŠ€èƒ½æå‡ï¼Œä¸»è¦è€ƒç‚¹+ä¸»æµåœºæ™¯+å†…åŠŸæå‡+çœŸé¢˜è§£æ</p>
</blockquote>
<p id="main-toc"><strong>ç›®å½•</strong></p>
<p id="1.%20%E5%85%B3%E4%BA%8ETomcat-toc" style="margin-left:0px;"><a href="#1.%20%E5%85%B3%E4%BA%8ETomcat">1. å…³äºTomcat</a></p>
<p id="2.%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%C2%A0-toc" style="margin-left:0px;"><a href="#2.%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%C2%A0">2. å‡†å¤‡å·¥ä½œ </a></p>
<p id="3.%C2%A0Dockerfile%E6%96%87%E4%BB%B6%E5%92%8C%E5%85%B6%E4%BB%96%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:0px;"><a href="#3.%C2%A0Dockerfile%E6%96%87%E4%BB%B6%E5%92%8C%E5%85%B6%E4%BB%96%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%C2%A0">3. Dockerfileæ–‡ä»¶å’Œå…¶ä»–è„šæœ¬æ–‡ä»¶ </a></p>
<p id="4.%20%E5%88%9B%E5%BB%BA%E5%92%8C%E6%B5%8B%E8%AF%95%E9%95%9C%E5%83%8F%C2%A0-toc" style="margin-left:0px;"><a href="#4.%20%E5%88%9B%E5%BB%BA%E5%92%8C%E6%B5%8B%E8%AF%95%E9%95%9C%E5%83%8F%C2%A0">4. åˆ›å»ºå’Œæµ‹è¯•é•œåƒ </a></p>
<p id="%F0%9F%91%91%F0%9F%91%91%F0%9F%91%91%E7%BB%93%E6%9D%9F%E8%AF%AD%F0%9F%91%91%F0%9F%91%91%F0%9F%91%91-toc" style="margin-left:0px;"><a href="#%F0%9F%91%91%F0%9F%91%91%F0%9F%91%91%E7%BB%93%E6%9D%9F%E8%AF%AD%F0%9F%91%91%F0%9F%91%91%F0%9F%91%91"> ğŸ‘‘ğŸ‘‘ğŸ‘‘ç»“æŸè¯­ğŸ‘‘ğŸ‘‘ğŸ‘‘</a></p>
<hr id="hr-toc"/>
<p></p>
<h1 id="1.%20%E5%85%B3%E4%BA%8ETomcat">1. å…³äºTomcat</h1>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p> <span style="color:#000000;">Tomcatæ˜¯ç”±Apacheè½¯ä»¶åŸºé‡‘ä¼šä¸‹å±çš„Jakartaé¡¹ç›®å¼€å‘çš„ä¸€ä¸ªServletå®¹å™¨ï¼ŒæŒ‰ç…§Sun Microsystemsæä¾›çš„æŠ€æœ¯è§„èŒƒï¼Œå®ç°äº†å¯¹Servletå’ŒJava Server Pageï¼ˆJSPï¼‰çš„æ”¯æŒã€‚åŒæ—¶ï¼Œå®ƒæä¾›äº†ä½œä¸ºWebæœåŠ¡å™¨çš„ä¸€äº›ç‰¹æœ‰åŠŸèƒ½ï¼Œå¦‚Tomcatç®¡ç†å’Œæ§åˆ¶å¹³å°ã€å®‰å…¨åŸŸç®¡ç†å’ŒTomcaté˜€ç­‰ã€‚ç”±äºTomcatæœ¬èº«ä¹Ÿå†…å«äº†ä¸€ä¸ªHTTPæœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥å½“ä½œä¸€ä¸ªå•ç‹¬çš„WebæœåŠ¡å™¨æ¥ä½¿ç”¨ã€‚ä¸‹é¢ä»‹ç»å¦‚ä½•å®šåˆ¶Tomcaté•œåƒã€‚</span></p> </td></tr></tbody></table>
<p><img alt="" height="351" src="image\756930601c3b4b1b8c401585223d8631.png" width="717"/></p>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">é¦–å…ˆï¼Œå°è¯•åœ¨Docker Hubä¸Šæœç´¢å·²æœ‰çš„Tomcatç›¸å…³é•œåƒçš„ä¸ªæ•°ï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">$ docker search tomcat | wc -l 
285</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p> <span style="color:#000000;">å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»æœ‰285ä¸ªç›¸å…³é•œåƒã€‚å¦‚æ˜¯ä¸ªäººå¼€å‘æˆ–æµ‹è¯•ï¼Œå¯ä»¥éšæ„é€‰æ‹©ä¸€ä¸ªé•œåƒï¼ŒæŒ‰ç…§æç¤ºå¯åŠ¨åº”ç”¨å³å¯ã€‚</span></p> </td></tr></tbody></table>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">ä¸‹é¢ä»¥Tomcat 7.0ä¸ºä¾‹ä»‹ç»å®šåˆ¶Tomcaté•œåƒçš„æ­¥éª¤ã€‚</span></p> </td></tr></tbody></table>
<h1 id="2.%20%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%C2%A0">2. å‡†å¤‡å·¥ä½œ </h1>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p> <span style="color:#000000;">åˆ›å»ºtomcat7.0_jdk1.6æ–‡ä»¶å¤¹ï¼Œä»www.oracle.comç½‘ç«™ä¸Šä¸‹è½½sun_jdk1.6å‹ç¼©åŒ…ï¼Œè§£å‹ä¸ºjdkç›®å½•</span></p> </td></tr></tbody></table>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">åˆ›å»ºDockerfileå’Œrun.shæ–‡ä»¶ï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">$ mkdir tomcat7.0_jdk1.6 
$ cd tomcat7.0_jdk1.6/ 
$ touch Dockerfile run.sh</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;">
<div>
<span style="color:#000000;">ä¸‹è½½Tomcatï¼Œå¯ä»¥åˆ°å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢é“¾æ¥ä¸­ç»™å‡ºçš„ç‰ˆæœ¬ï¼š</span>
</div> </td></tr></tbody></table>
<pre><code class="language-bash">$ wget http://mirror.bit.edu.cn/apache/tomcat/tomcat-7/v7.0.56/bin/apache-tomcat- 7.0.56.zip</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;">
<div>
<span style="color:#000000;">è§£å‹åï¼Œtomcat7.0_jdk1.6ç›®å½•ç»“æ„åº”å¦‚ä¸‹æ‰€ç¤ºï¼ˆå¤šä½™çš„å‹ç¼©åŒ…æ–‡ä»¶å·²ç»è¢«åˆ é™¤ï¼‰ï¼š</span>
</div> </td></tr></tbody></table>
<pre><code class="language-bash">$ ls 
Dockerfile apache-tomcat-7.0.56 jdk run.sh</code></pre>
<h1 id="3.%C2%A0Dockerfile%E6%96%87%E4%BB%B6%E5%92%8C%E5%85%B6%E4%BB%96%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%C2%A0">3. Dockerfileæ–‡ä»¶å’Œå…¶ä»–è„šæœ¬æ–‡ä»¶ </h1>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p> <span style="color:#000000;">Dockerfileæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">FROM sshd:Dockerfile
#è®¾ç½®ç»§æ‰¿è‡ªç”¨æˆ·åˆ›å»ºçš„sshdé•œåƒ
MAINTAINER docker_user (user@docker.com)
#ä¸‹é¢æ˜¯ä¸€äº›åˆ›å»ºè€…çš„åŸºæœ¬ä¿¡æ¯
#è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯éäº¤äº’å¼çš„
ENV DEBIAN_FRONTEND noninteractive
#æ³¨æ„è¿™é‡Œè¦æ›´æ”¹ç³»ç»Ÿçš„æ—¶åŒºè®¾ç½®
RUN echo "Asia/Shanghai" &gt; /etc/timezone &amp;&amp; \ dpkg-reconfigure -f noninteractive tzdata
#å®‰è£…è·Ÿtomcatç”¨æˆ·è®¤è¯ç›¸å…³çš„è½¯ä»¶
RUN apt-get install -yq --no-install-recommends wget pwgen ca-certificates &amp;&amp; \ apt-get clean &amp;&amp; \ rm -rf /var/lib/apt/lists/*
#è®¾ç½®tomcatçš„ç¯å¢ƒå˜é‡ï¼Œè‹¥è¯»è€…æœ‰å…¶ä»–çš„ç¯å¢ƒå˜é‡éœ€è¦è®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ã€‚
ENV CATALINA_HOME /tomcat 
ENV JAVA_HOME /jdk
#å¤åˆ¶tomcatå’Œjdkæ–‡ä»¶åˆ°é•œåƒä¸­
ADD apache-tomcat-7.0.56 /tomcat 
ADD jdk /jdk 
ADD create_tomcat_admin_user.sh /create_tomcat_admin_user.sh 
ADD run.sh /run.sh 
RUN chmod +x /*.sh 
RUN chmod +x /tomcat/bin/*.sh
EXPOSE 8080 
CMD ["/run.sh"]</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">åˆ›å»ºtomcatç”¨æˆ·å’Œå¯†ç è„šæœ¬æ–‡ä»¶create_tomcat_admin_user.shæ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">#!/bin/bash
if [ -f /.tomcat_admin_created ]; then
    echo "Tomcat 'admin' user already created" 
    exit 0
fi
#generate password 
PASS=${TOMCAT_PASS:-$(pwgen -s 12 1)} 
_word=$( [ ${TOMCAT_PASS} ] &amp;&amp; echo "preset" || echo "random" ) 
echo "=&gt; Creating and admin user with a ${_word} password in Tomcat" 
sed -i -r 's/&lt;\/tomcat-users&gt;//' ${CATALINA_HOME}/conf/tomcat-users.xml 
echo '&lt;role rolename="manager-gui"/&gt;' &gt;&gt; ${CATALINA_HOME}/conf/tomcat-users.xml 
echo '&lt;role rolename="manager-script"/&gt;' &gt;&gt; ${CATALINA_HOME}/conf/tomcat-users.xml 
echo '&lt;role rolename="manager-jmx"/&gt;' &gt;&gt; ${CATALINA_HOME}/conf/tomcat-users.xml 
echo '&lt;role rolename="admin-gui"/&gt;' &gt;&gt; ${CATALINA_HOME}/conf/tomcat-users.xml 
echo '&lt;role rolename="admin-script"/&gt;' &gt;&gt; ${CATALINA_HOME}/conf/tomcat-users.xml 
echo "&lt;user username=\"admin\" password=\"${PASS}\" roles=\"manager-gui,manager- script,manager-jmx,admin-gui, admin-script\"/&gt;" &gt;&gt; ${CATALINA_HOME}/conf/ tomcat-users.xml echo '&lt;/tomcat-users&gt;' &gt;&gt; ${CATALINA_HOME}/conf/tomcat-users.xml
echo "=&gt; Done!" touch /.tomcat_admin_created 
echo "========================================================================" 
echo "You can now configure to this Tomcat server using:" echo "" 
echo " admin:${PASS}" echo "" 
echo "========================================================================"</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">ç¼–å†™run.shè„šæœ¬æ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">#!/bin/bash 
if [ ! -f /.tomcat_admin_created ]; then 
    /create_tomcat_admin_user.sh 
fi
/usr/sbin/sshd -D &amp; 
exec ${CATALINA_HOME}/bin/catalina.sh run</code></pre>
<h1 id="4.%20%E5%88%9B%E5%BB%BA%E5%92%8C%E6%B5%8B%E8%AF%95%E9%95%9C%E5%83%8F%C2%A0">4. åˆ›å»ºå’Œæµ‹è¯•é•œåƒ </h1>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">é€šè¿‡ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºé•œåƒtomcat7.0ï¼šjdk1.6ï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">$ docker build -t tomcat7.0:jdk1.6 .</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">å¯åŠ¨ä¸€ä¸ªtomcatå®¹å™¨è¿›è¡Œæµ‹è¯•ï¼š</span></p> </td></tr></tbody></table>
<pre><code class="language-bash">$ docker run -d -P tomcat7.0:jdk1.6 3cd4238cb32a713a3a1c29d93fbfc80cba150653b5eb8bd7629bee957e7378ed</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">é€šè¿‡docker logså¾—åˆ°tomcatçš„å¯†ç aBwN0CNCPckwï¼š</span></p> </td></tr></tbody></table>
<p></p>
<pre><code class="language-bash">$ docker logs 3cd 
=&gt; Creating and admin user with a random password in Tomcat 
=&gt; Done! ======================================================================== 
You can now configure to this Tomcat server using: 
    admin:aBwN0CNCPckw</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">æŸ¥çœ‹æ˜ å°„çš„ç«¯å£ä¿¡æ¯ï¼š</span></p> </td></tr></tbody></table>
<p></p>
<pre><code class="language-bash">$ docker ps 
CONTAINER ID     IMAGE     COMMAND     CREATED     STATUS     PORTS     NAMES 
3cd4238cb32a tomcat7.0:jdk1.6 "/run.sh" 4 seconds ago Up 3 seconds 0.0.0.0:49157-&gt;22/tcp, 0.0.0.0:49158-&gt;8080/tcp cranky_wright</code></pre>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;">
<div>
<span style="color:#000000;">åœ¨æœ¬åœ°ä½¿ç”¨æµè§ˆå™¨ç™»å½•Tomcatç®¡ç†ç•Œé¢ï¼Œè®¿é—®æœ¬åœ°çš„49158ç«¯å£ï¼Œå³</span>
<span style="color:#ff6600;">http://127.0.0.1:49158</span>
<span style="color:#000000;">ï¼Œå¦‚å›¾</span>
</div> </td></tr></tbody></table>
<p><img alt="" height="529" src="image\43fcadd333ce462eaabfef9277822845.png" width="882"/></p>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">è¾“å…¥ä»docker logsä¸­å¾—åˆ°çš„å¯†ç ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</span></p> </td></tr></tbody></table>
<p><img alt="" height="513" src="image\3e9671633cf2496db57802e7a9607097.png" width="875"/></p>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;"> <p><span style="color:#000000;">æˆåŠŸè¿›å…¥ç®¡ç†ç•Œé¢ï¼Œå¦‚å›¾</span></p> </td></tr></tbody></table>
<p><img alt="" height="384" src="image\d976d80d41fd4191a30f255360ef0e61.png" width="876"/></p>
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="background-color:#dddddd;">
<div>
<span style="color:#000000;">åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨-vå‚æ•°æ¥æŒ‚è½½Tomcatçš„æ—¥å¿—æ–‡ä»¶ã€ç¨‹åºæ‰€åœ¨ç›®å½•ã€ä»¥åŠä¸Tomcatç›¸å…³çš„é…ç½®ã€‚</span>
</div> </td></tr></tbody></table>
<h1 id="%F0%9F%91%91%F0%9F%91%91%F0%9F%91%91%E7%BB%93%E6%9D%9F%E8%AF%AD%F0%9F%91%91%F0%9F%91%91%F0%9F%91%91" style="text-align:center;"><strong> ğŸ‘‘ğŸ‘‘ğŸ‘‘ç»“æŸè¯­ğŸ‘‘ğŸ‘‘ğŸ‘‘</strong></h1>
<blockquote>
<p>ä¸ºå¤§å®¶æ¨èä¸€æ¬¾åˆ·é¢˜ç¥å¥‡ <a href="https://www.nowcoder.com/exam/oj?page=1&amp;tab=Python%E7%AF%87&amp;topicId=326&amp;fromPut=pc_csdncpt_xiaopeng_python" title="ç‚¹å‡»é“¾æ¥è®¿é—®ç‰›å®¢ç½‘">ç‚¹å‡»é“¾æ¥è®¿é—®ç‰›å®¢ç½‘</a></p>
<p>å„å¤§äº’è”ç½‘å¤§å‚é¢è¯•çœŸé¢˜ã€‚åŸºç¡€é¢˜åº“åˆ°è¿›é˜¶é¢˜åº“ç­‰å„ç±»é¢è¯•é¢˜åº”æœ‰å°½æœ‰ï¼</p>
<p>ç‰›å®¢ç½‘é¢ç»åˆé›†,æ»¡è¶³å¤§å‚é¢è¯•æŠ€æœ¯æ·±åº¦ï¼Œå¿«é€Ÿæ„å»ºJavaæ ¸å¿ƒçŸ¥è¯†ä½“ç³»å¤§å‚é¢è¯•å®˜äº²æˆï¼Œå¤‡æˆ˜é¢è¯•ä¸æŠ€èƒ½æå‡ï¼Œä¸»è¦è€ƒç‚¹+ä¸»æµåœºæ™¯+å†…åŠŸæå‡+çœŸé¢˜è§£æ</p>
</blockquote>
<p><img alt="" src="https://img-blog.csdnimg.cn/9504f878c14b4974beaafb8bce3b0f3f.gif"/></p>
</div>
</div>