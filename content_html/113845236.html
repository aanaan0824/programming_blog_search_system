<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p>今天手把手教大家用python制作词云，图片的效果如下：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2021021916222369.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/></p>
<blockquote>
<p>首先，需要准备的操作是：<br/> 1、安装好python3系列版本<br/> 2、安装python第三方库wordcloud；(本条及以下第三方库安装，请参考我的这篇文章<a href="https://blog.csdn.net/wodegeCSDN/article/details/113816439">python第三方库怎么安装？第三方库安装成功却运行不出报错不能用？</a>)<br/> 3、安装numpy、pillow库。<br/> 4、安装jieba库<br/> 5、安装matplotlib库</p>
</blockquote>
<p>第2步中的 wordcloud 安装成功之后，numpy、pillow库会被自动安装，<br/> 安装完wordcloud库之后，若打开cmd,输入pip list 找到了以上步骤3~5中提到的第三方库，<br/> 便不需再次手动安装，若未找到，即需要手动安装，请参考<a href="https://blog.csdn.net/wodegeCSDN/article/details/113816439">python第三方库怎么安装？第三方库安装成功却运行不出报错不能用？</a>这篇文章</p>
<blockquote>
<p>温馨提示，如出现安装成功却无法在编译器中导入第三方库的情况，请检查自己的电脑是否装了多个版本的python，如是，请卸载不需要的版本，尽可能只保留一个最新的版本。</p>
</blockquote>
<p>完成以上步骤之后，下面我来讲一下如何制作最开始提到的两张词云<br/> 一、第一张:<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210218151253815.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/></p>
<blockquote>
<p>生成词云时，wordcloud 默认会以空格或标点为分隔符对目标文本进行分词处理。<br/> 对于中文文本，分词处理需要由用户来完成。<br/> 一般步骤是先将文本分词处理，然后以空格拼接，再调用wordcloud库函数。<br/> 处理中文时还需要指定中文字体。<br/> 例如，选择了微软雅黑字体（msyh.ttf）作为显示效果，需要将该字体文件与代码存放在同一目录下或在字体文件名前增加完整路径。</p>
</blockquote>
<p>1、打开自己电脑C:\Windows\Fonts<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2021021913462180.png"/><br/> 2、选择微软雅黑字体（msyh.ttf）作为显示效果（当然也可以选择自己喜欢的字体样式）<br/> 右键复制，并将该字体文件与代码存放在同一目录下（或在字体文件名前增加完整路径），<br/> 将此文字文件命名为"msyh.ttf"<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219135048684.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/></p>
<p>3、完整代码如下，</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> jieba
<span class="token keyword">from</span> wordcloud <span class="token keyword">import</span> WordCloud
txt <span class="token operator">=</span> <span class="token string">'弱小的人,才习惯,嘲讽和否定，而内心,强大的人,从不吝啬赞美和鼓励！我们就是后浪，奔涌吧！后浪，奔涌吧！'</span>
words <span class="token operator">=</span> jieba<span class="token punctuation">.</span>lcut<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>     <span class="token comment">#精确分词</span>
newtxt <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>words<span class="token punctuation">)</span>    <span class="token comment">#空格拼接</span>
wordcloud <span class="token operator">=</span> WordCloud<span class="token punctuation">(</span>font_path <span class="token operator">=</span>  <span class="token string">"msyh.ttf"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>generate<span class="token punctuation">(</span>newtxt<span class="token punctuation">)</span>wordcloud<span class="token punctuation">.</span>to_file<span class="token punctuation">(</span><span class="token string">'中文词云图.jpg'</span><span class="token punctuation">)</span>
</code></pre>
<p>运行成功，（红色不代表报错哦）<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219150347724.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/><br/> 4、最后去存放代码的那个文件夹下查找 生成的“中文词云图.jpg”文件。（每次生成的都是随机的）<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219151607148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/><br/> 二、第二张：<br/> 接下来讲一下如何生成带背景图的词云</p>
<blockquote>
<p>1、准备一张带有透明背景的 png格式图片<br/> 2、准备一个txt文本文件，并与代码存放在同一目录下</p>
</blockquote>
<p>1、找到一张图片，我们发现这张是有黄色背景的，于是我们需要把背景设置成透明的。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219132437403.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/><br/> 打开PS操作一下，当然你也可以直接在网上下载透明背景的图片。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219132310320.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70"/><br/> 这是我扣好的图，需要自取，直接右键保存，将文件名命名为Alice.png</p>
<p>再将此文件与代码文件存在同一目录下<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219161648629.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70#pic_center"/><br/> 2、准备一个txt文本文件（文件内容是一篇英文），并命名为Alice.txt</p>
<p>再将此文件与代码文件存在同一目录下<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219220954334.png"/></p>
<p>3、复制完整代码，直接运行即可</p>
<pre><code class="prism language-python"><span class="token keyword">from</span> wordcloud <span class="token keyword">import</span> WordCloud
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
mask <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"Alice.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'Alice.txt'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>
txt <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close
wordcloud <span class="token operator">=</span> WordCloud<span class="token punctuation">(</span>background_color<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span>\
                      width <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span>\
                      height <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">,</span>\
                      max_words <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>\
                      max_font_size <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">,</span>\
                      mask <span class="token operator">=</span> mask<span class="token punctuation">,</span>\
                      contour_width <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>\
                      contour_color <span class="token operator">=</span> <span class="token string">'steelblue'</span>
                      <span class="token punctuation">)</span><span class="token punctuation">.</span>generate<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
wordcloud<span class="token punctuation">.</span>to_file<span class="token punctuation">(</span><span class="token string">'Alice_词云图.png'</span><span class="token punctuation">)</span>

</code></pre>
<p>4、在代码所在文件夹内，找到文件 Alice_词云图.png ，并打开生的成词云图。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219164320625.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70#pic_center"/><br/> 三、第三张图<br/> 最后一张是中文带背景图的词云，效果图被平台删了，大家自己试着跑一跑下面的代码吧。</p>
<p>完整代码如下，运行前请准备图片和txt文件，并将二者与代码存放在同一目录下。（参照一、二步骤）</p>
<pre><code class="prism language-python"><span class="token keyword">import</span> jieba
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">from</span> wordcloud <span class="token keyword">import</span> WordCloud

<span class="token keyword">def</span> <span class="token function">trans_ch</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">:</span>
  words <span class="token operator">=</span> jieba<span class="token punctuation">.</span>lcut<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
  newtxt <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>words<span class="token punctuation">)</span>
  <span class="token keyword">return</span> newtxt


f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'maozedong.txt'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>     <span class="token comment">#将你的文本文件名与此句的'maozedong.txt'替换</span>
txt <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close
txt <span class="token operator">=</span> trans_ch<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
mask <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"love.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>               <span class="token comment">#将你的背景图片名与此句的"love.png"替换</span>
wordcloud <span class="token operator">=</span> WordCloud<span class="token punctuation">(</span>background_color<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span>\
                      width <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span>\
                      height <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">,</span>\
                      max_words <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>\
                      max_font_size <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">,</span>\
                      mask <span class="token operator">=</span> mask<span class="token punctuation">,</span>\
                      contour_width <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>\
                      contour_color <span class="token operator">=</span> <span class="token string">'steelblue'</span><span class="token punctuation">,</span>\
                        font_path <span class="token operator">=</span>  <span class="token string">"msyh.ttf"</span>
                      <span class="token punctuation">)</span><span class="token punctuation">.</span>generate<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
wordcloud<span class="token punctuation">.</span>to_file<span class="token punctuation">(</span><span class="token string">'love_词云图.png'</span><span class="token punctuation">)</span>

</code></pre>
<p>以上就是全部过程啦，我没讲清楚的地方欢迎评论区留言，有问必答。</p>
<blockquote>
<p>我的其他账户：<br/> bilibili账号：李桥桉<br/> 有视频讲解哦~</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20210219164858579.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dvZGVnZUNTRE4=,size_16,color_FFFFFF,t_70#pic_center"/></p>
<p>一键三连支持一下哦~</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>