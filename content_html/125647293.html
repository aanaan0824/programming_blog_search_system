<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5ac54244b9bc4886a5f875a8f33ccff0.jpeg#pic_center"/></p>
<blockquote>
<p>🎉作者简介:👓<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          博主在读机器人研究生，目前研一。对计算机后端感兴趣，喜欢
         
         
          c
         
         
          +
         
         
          +
         
         
          ,
         
         
          g
         
         
          o
         
         
          ,
         
         
          p
         
         
          y
         
         
          t
         
         
          h
         
         
          o
         
         
          n
         
         
          ,
         
         
          目前熟悉
         
         
          c
         
         
          +
         
         
          +
         
         
          ，
         
         
          g
         
         
          o
         
         
          语言，数据库，网络编程，了解分布式等相关内容
         
        
       
       
        \textcolor{orange}{博主在读机器人研究生，目前研一。对计算机后端感兴趣，喜欢c++,go,python,目前熟悉c++，go语言，数据库，网络编程，了解分布式等相关内容}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7667em; vertical-align: -0.0833em;"></span><span class="mord cjk_fallback" style="color: orange;">博主在读机器人研究生，目前研一。对计算机后端感兴趣，喜欢</span><span class="mord mathnormal" style="color: orange;">c</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin" style="color: orange;">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord" style="color: orange;">+</span><span class="mpunct" style="color: orange;">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em; color: orange;">g</span><span class="mord mathnormal" style="color: orange;">o</span><span class="mpunct" style="color: orange;">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="color: orange;">p</span><span class="mord mathnormal" style="margin-right: 0.0359em; color: orange;">y</span><span class="mord mathnormal" style="color: orange;">t</span><span class="mord mathnormal" style="color: orange;">h</span><span class="mord mathnormal" style="color: orange;">o</span><span class="mord mathnormal" style="color: orange;">n</span><span class="mpunct" style="color: orange;">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord cjk_fallback" style="color: orange;">目前熟悉</span><span class="mord mathnormal" style="color: orange;">c</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin" style="color: orange;">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8778em; vertical-align: -0.1944em;"></span><span class="mord" style="color: orange;">+</span><span class="mord cjk_fallback" style="color: orange;">，</span><span class="mord mathnormal" style="margin-right: 0.0359em; color: orange;">g</span><span class="mord mathnormal" style="color: orange;">o</span><span class="mord cjk_fallback" style="color: orange;">语言，数据库，网络编程，了解分布式等相关内容</span></span></span></span></span><br/> 📃<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          个人主页：
         
        
       
       
        \textcolor{gray}{个人主页：}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback" style="color: gray;">个人主页：</span></span></span></span></span> <a href="https://blog.csdn.net/weixin_45043334?spm=1011.2266.3001.5343">小呆鸟_coding</a><br/> 🔎<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          支持
         
         
          :
         
        
       
       
        \textcolor{gray}{支持:}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback" style="color: gray;">支持</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel" style="color: gray;">:</span></span></span></span></span><span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          如果觉得博主的文章还不错或者您用得到的话，可以免费的关注一下博主，如果三连收藏支持就更好啦
         
        
       
       
        \textcolor{green}{如果觉得博主的文章还不错或者您用得到的话，可以免费的关注一下博主，如果三连收藏支持就更好啦}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback" style="color: green;">如果觉得博主的文章还不错或者您用得到的话，可以免费的关注一下博主，如果三连收藏支持就更好啦</span></span></span></span></span>👍<span class="katex--inline"><span class="katex"><span class="katex-mathml">
     
      
       
        
         
          就是给予我最大的支持！
         
        
       
       
        \textcolor{green}{就是给予我最大的支持！}
       
      
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback" style="color: green;">就是给予我最大的支持！</span></span></span></span></span>🎁<br/> 💛本文摘要💛</p>
<table><tbody><tr><td bgcolor="Pink">本专栏主要是对c++ primer这本圣经的总结，以及每章的相关笔记。目前正在复习这本书。同时希望能够帮助大家一起，学完这本书。 本文主要讲解第5章 语句 </td></tr></tbody></table>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#5__12">🌔第5章 语句</a></li><li><ul><li><a href="#51__13">🌗5.1 简单语句</a></li><li><a href="#52__51">🌗5.2 语句作用域</a></li><li><a href="#53__56">🌗5.3 条件语句</a></li><li><ul><li><a href="#531_if__59">🌕5.3.1 if 语句</a></li><li><a href="#532_switch__63">🌕5.3.2 switch 语句</a></li></ul>
</li><li><a href="#54__108">🌗5.4 迭代语句</a></li><li><ul><li><a href="#541_while__111">🌕5.4.1 while 语句</a></li><li><a href="#542_for_119">🌕5.4.2 传统的for语句</a></li><li><a href="#543_for_134">🌕5.4.3 范围for语句</a></li><li><a href="#544_do_while__146">🌕5.4.4 do while 语句</a></li></ul>
</li><li><a href="#55__155">🌗5.5 跳转语句</a></li><li><ul><li><a href="#551_break__158">🌕5.5.1 break 语句</a></li><li><a href="#552_continue__161">🌕5.5.2 continue 语句</a></li><li><a href="#553_goto_165">🌕5.5.3 goto语句</a></li></ul>
</li><li><a href="#56_try__177">🌗5.6 try 语句块和异常处理</a></li><li><ul><li><a href="#561_throw__187">🌕5.6.1 throw 表达式</a></li><li><a href="#562_try__198">🌕5.6.2 try 语句块</a></li><li><a href="#563__239">🌕5.6.3 标准异常</a></li></ul>
</li></ul>
</li></ul>
</div>
<p></p>
</blockquote>
<h1><a id="5__12"></a>🌔第5章 语句</h1>
<h2><a id="51__13"></a>🌗5.1 简单语句</h2>
<p><strong>表达式语句</strong></p>
<ul><li>一个表达式，末尾加上分号就变成了<code>表达式语句</code></li><li>表达式语句的作用是<code>执行表达式并丢弃掉求值结果</code></li></ul>
<pre><code class="prism language-c">ival <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token comment">//一条没有实际用处的表达式语句</span>
cout <span class="token operator">&lt;&lt;</span> ival<span class="token punctuation">;</span><span class="token comment">//一条有用的表达式语句</span>
</code></pre>
<p><strong>空语句</strong></p>
<ul><li>空语句只含单独的一个分号</li></ul>
<p><code>用法</code>:</p>
<ul><li>用在<code>语法上需要一条语句但逻辑上不需要的地方</code>,此时用空语句</li><li>当循环的全部工作条件部分就可以完成时<code>使用空语句应该加上注释。</code></li></ul>
<pre><code class="prism language-c"><span class="token punctuation">;</span> <span class="token comment">//空语句</span>
</code></pre>
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> s <span class="token operator">&amp;&amp;</span> s <span class="token operator">!=</span> sought<span class="token punctuation">)</span>
    <span class="token punctuation">;</span><span class="token comment">//空语句</span>
</code></pre>
<p><strong>复合语句（块）</strong></p>
<ul><li>复合语句是指用<code>{}</code>(花括号)括起来的语句和声明的序列，复合语句也被称作<code>块</code></li><li>一个块就是一个作用域</li><li>空块的作用等价于空语句</li></ul>
<p><code>用法</code></p>
<ul><li>语法上需要一条语句，但是逻辑上需要多条语句</li></ul>
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>val <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	sum <span class="token operator">+=</span> val<span class="token punctuation">;</span>
	<span class="token operator">++</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="52__51"></a>🌗5.2 语句作用域</h2>
<ul><li>可以在 if、switch、while、for 语句的控制结构内定义变量。。但是定义在控制结构当中的变量<code>只能在内部使用一旦语句结束，变量不可以使用</code></li><li>如果其他代码也需要访问控制变量，则变量必须定义在语句的外部。</li></ul>
<h2><a id="53__56"></a>🌗5.3 条件语句</h2>
<p>条件语句分为俩种<code>if</code>语句和 <code>switch </code>语句。</p>
<h3><a id="531_if__59"></a>🌕5.3.1 if 语句</h3>
<ul><li>if 语句有两种形式，一种有 else 分支，另一种没有。</li><li><code>使用 if 语句最好在所有的 if 和 else 之后都用花括号</code>。</li><li>悬垂else（dangling else）：用来描述在嵌套的<code>if else</code>语句中，如果<code>if</code>比<code>else</code>多时如何处理的问题。C++使用的方法是<code>else</code>匹配最近没有配对的<code>if</code>。</li></ul>
<h3><a id="532_switch__63"></a>🌕5.3.2 switch 语句</h3>
<ul><li>switch 语句计算一个<code>整型表达式</code>的值，然后根据这个值从几条执行路径中选择一条。</li><li>case 关键字和它对应的值一起被称为 case 标签，<code>case 标签必须为整型常量表达式</code>。</li><li>default 也是一种特殊的 case 标签。</li></ul>
<pre><code class="prism language-c"><span class="token keyword">switch</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token char">'a'</span><span class="token operator">:</span> <span class="token operator">++</span>aCnt<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token char">'b'</span><span class="token operator">:</span> <span class="token operator">++</span>bCnt<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> ival <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">case</span> <span class="token number">3.14</span><span class="token punctuation">;</span> <span class="token comment">//错误</span>
<span class="token keyword">case</span> ival<span class="token punctuation">;</span> <span class="token comment">//错误</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>执行问题</code>:</p>
<ul><li>如果 某个 case 标签匹配成功后，程序将<code>从该 case 标签开始顺序执行所有case分支或者遇到break结尾</code></li><li>c++ 程序的形式比较自由，case 标签之后不一定要换行。</li><li><code>一条 case 后可以跟多条语句</code>，不必用花括号括起来。</li><li><code>一般在每个 case标签后都有一条 break 语句</code>。如果需要两个或多个值共享同一组操作，可以故意省略掉 break 语句。</li></ul>
<pre><code class="prism language-c"><span class="token keyword">unsigned</span> vowlCnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">switch</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> <span class="token char">'a'</span><span class="token operator">:</span>
	<span class="token keyword">case</span> <span class="token char">'b'</span><span class="token operator">:</span>
	<span class="token keyword">case</span> <span class="token char">'c'</span><span class="token operator">:</span>
		<span class="token operator">++</span> vowelCnt<span class="token punctuation">;</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">switch</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token char">'a'</span><span class="token operator">:</span> <span class="token keyword">case</span> <span class="token char">'b'</span><span class="token operator">:</span>
        <span class="token operator">++</span>Cnt<span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre>
<p><code>注意</code>:</p>
<ul><li><code>一般不要省略 case 分支最后的 break 语句</code>。如果没有 break 语句，最好注释一下。</li><li>如果没有任何一个 case 标签匹配 switch 表达式的值，就执行 default 分支。</li><li>即使不准备在 default 下做任何工作，最好也定义一个 default 标签。</li><li><code>如果要在 case 分支定义并初始化变量，应该定义在块内以约束其作用域</code>。</li></ul>
<h2><a id="54__108"></a>🌗5.4 迭代语句</h2>
<p>迭代语句有三种：while语句、for语句（范围for语句）、do while语句</p>
<h3><a id="541_while__111"></a>🌕5.4.1 while 语句</h3>
<ul><li>while 的条件不能为空。条件部分可以是一个<code>表达式</code>或者是<code>一个带初始化的变量声明</code>。</li><li>定义在 while 条件部分或while循环体内的变量每次迭代都经历从创建到销毁的过程。</li><li>while 适合不确定到底迭代多少次的情况。</li></ul>
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span>
	statement
</code></pre>
<h3><a id="542_for_119"></a>🌕5.4.2 传统的for语句</h3>
<pre><code class="prism language-c"><span class="token keyword">for</span><span class="token punctuation">(</span>init<span class="token operator">-</span>statement<span class="token punctuation">;</span> condition<span class="token punctuation">;</span> expression<span class="token punctuation">)</span>
    statement<span class="token punctuation">;</span>
</code></pre>
<ul><li>init-statement 可以是<code>声明语句</code>、<code>表达式语句</code>或<code>空语句</code>。</li><li>init-statement 可以定义多个对象，但是<code>只能有一条声明语句</code>,因此所有的变量基础类型必须相同。</li><li>expression 在每次循环之后执行。</li><li>for 语句头能省略掉三者中的任意一个或全部。</li><li>省略 condition 等于条件恒为 true。</li></ul>
<pre><code class="prism language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	statement
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">char</span> j <span class="token operator">=</span> <span class="token char">'0'</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token comment">//错误</span>
</code></pre>
<h3><a id="543_for_134"></a>🌕5.4.3 范围for语句</h3>
<pre><code class="prism language-c"><span class="token keyword">for</span><span class="token punctuation">(</span>declaration <span class="token operator">:</span> expression<span class="token punctuation">)</span>
    statement
</code></pre>
<ul><li>范围 for 语句用来<code>遍历容器或其他序列的所有元素。</code></li><li>expression 表示的<code>必须是一个序列</code>，可以是<code>花括号括起来的初始值列表</code>。这些序列的共同的是都可以<code>返回迭代器的 begin 和 end 成员。</code></li><li>如果需要对容器中的元素执行<code>写操作</code>，必须将<code>循环变量声明成引用类型</code>。</li><li>declaration 定义一个能从序列中元素转换过来的<code>变量</code>（不是迭代器）。最简单的方法是使用<code> auto 类型说明符</code>。</li><li>范围 for 语句<code>不能</code>改变序列的元素数量(增加、删除)。因为范围for<code>预存了 end()</code> 的值，改变元素数量后 <code>end() 的值就可能失效了</code>。</li><li><code>每次迭代都会重新定义循环控制变量，并将其初始化为序列的下一个值。</code></li></ul>
<h3><a id="544_do_while__146"></a>🌕5.4.4 do while 语句</h3>
<pre><code class="prism language-c"><span class="token keyword">do</span>
	statement
<span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul><li><code>do while</code>语句和<code>while</code>语句的唯一区别是do while语句先执行循环体后检查条件。<code>即至少执行一次循环。</code></li><li>do while 后<code>不要忘了加分号。</code></li><li>因为 condition 在循环体后面，所以 condition 使用的变量应该定义在循环体外面。</li></ul>
<h2><a id="55__155"></a>🌗5.5 跳转语句</h2>
<ul><li>四种跳转语句：<code>break</code>、<code>continue</code>、<code>return</code>、<code>go to</code>。</li></ul>
<h3><a id="551_break__158"></a>🌕5.5.1 break 语句</h3>
<ul><li>break 语句负责终止离他最近的<code>while</code>、<code>do while</code>、<code>for</code> 或者 <code>switch</code> 语句，并从这些语句之后的第一条语句开始执行。</li><li>break 语句只能出现在迭代语句或者 switch 语句内部（包括嵌套在此类循环里的语句或块的内部）</li></ul>
<h3><a id="552_continue__161"></a>🌕5.5.2 continue 语句</h3>
<ul><li>continue 语句终止最近的循环中的当前迭代并立即开始下一次迭代。</li><li>continue 只能出现在<code>for</code>、<code>while</code>、<code>do while</code>中，<code>比break少了一个switch</code>。</li></ul>
<h3><a id="553_goto_165"></a>🌕5.5.3 goto语句</h3>
<ul><li>goto 语句的作用是从 <code>goto 语句无条件跳转到同一函数内的另一条语句</code>。</li></ul>
<pre><code class="prism language-c">label <span class="token operator">:</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">goto</span> label<span class="token punctuation">;</span>
</code></pre>
<ul><li>label 是用于<code>标识一条语句的标示符</code></li><li>标签标示符独立于变量或其他标示符的名字，标签标示符可以和程序中其他实体的标示符使用同一个名字而不会相互干扰。</li><li><code>如果 goto 语句跳回了一条变量的定义之前意味着系统将会销毁该变量，然后重新创建它。</code></li><li><code>不要使用 goto，它会令程序又难理解又难修改。</code></li></ul>
<h2><a id="56_try__177"></a>🌗5.6 try 语句块和异常处理</h2>
<ul><li>异常是指存在于运行时的反常行为，典型的异常有失去数据库连接和遇到意外输入等。</li><li>当程序的某部分检测到一个它无法处理的问题时，需要用到异常处理。此时检测到问题的部分应该发出检测信号。<code>（它不需要处理异常，只需要用于检测异常）</code></li><li>如果程序里有可能引发异常的代码，通常需要有专门的代码处理问题。</li><li>c++中异常处理机制一般包括<code>异常检测</code>和<code>异常处理</code>俩部分协同完成。</li></ul>
<ol><li><code>throw 表达式：异常检测部分使用 throw 表达式来表示遇到了无法处理的问题。称为 throw 引发了异常。</code></li><li><code>try 语句块：异常处理部分使用 try 语句块处理异常。try 语句块以关键字 try 开始，并以一个或多个 catch 子句结束。</code></li><li><code>一套异常类：用于在 throw 表达式和相关的 catch 子句间传递异常的具体信息。</code></li></ol>
<h3><a id="561_throw__187"></a>🌕5.6.1 throw 表达式</h3>
<ul><li>throw 表达式包含关键字 <code>throw</code> 和<code>紧随其后的一个表达式</code>，表达式的类型就是抛出的异常类型。</li><li>throw 表达式后面紧跟一个分号。从而构成一条表达式语句。</li><li><code>throw只是用来检测异常，并不处理，处理交给try和catch语句。</code></li><li>throw 后面跟一个异常类型的对象（必须同时使用 string 或 C 风格字符串对其初始化）。</li></ul>
<pre><code class="prism language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span>item1<span class="token punctuation">.</span><span class="token function">isbn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> item2<span class="token punctuation">.</span><span class="token function">isbn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	throw <span class="token function">runtime_error</span><span class="token punctuation">(</span><span class="token string">"Data must refer to same ISBN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> item1 <span class="token operator">+</span> item2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre>
<h3><a id="562_try__198"></a>🌕5.6.2 try 语句块</h3>
<ul><li><code>try</code> 语句块的一开始是<code>关键字try</code>,随后紧跟一个块。</li><li>跟在 <code>try</code> 块后面的是<code>一个或多个 catch 子句</code>。catch 子句包括三部分：<code>关键字 catch</code>、<code>括号内一个(可能未命名)的对象的声明（叫做异常声明）</code>、<code>一个块</code>。</li><li>try语句<code>块内</code>声明的变量在<code>块外部无法访问</code>，特别是在<code>catch子句也无法访问</code>。</li><li><code>当 try 语句块中抛出了一个异常，如果该异常类型与 catch 子句括号中的异常类型相同，就会执行该 catch 子句</code>。</li><li>catch 一旦完成，程序就跳转到 try 语句块最后一个 catch 子句之后的那条语句继续执行。</li><li>在 catch 后面的括号里使用省略号(…)可以让 catch 捕获所有类型的异常。</li><li><code>每个标准库异常类都有一个 what 成员函数，它没有参数，返回初始化该对象时所用的 C 风格字符串。</code></li></ul>
<pre><code class="prism language-c"><span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">&gt;&gt;</span> item1 <span class="token operator">&gt;&gt;</span> item2<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	try<span class="token punctuation">{<!-- --></span>
	   throw <span class="token function">runtime_error</span><span class="token punctuation">(</span><span class="token string">"Data must be same as size"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//try 语句块抛出了一个异常</span>
	<span class="token punctuation">}</span>
	<span class="token function">catch</span><span class="token punctuation">(</span>runtime_error err<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//在 catch 后面的括号中声明了一个“runtime_error”类型的对象，与 try 抛出的异常类型相同，接下来执行此子句。</span>
		cout <span class="token operator">&lt;&lt;</span> err<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		     <span class="token operator">&lt;&lt;</span> <span class="token string">"\nTry Again? Enter y or n"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">char</span> c<span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cin <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token char">'n'</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>   <span class="token comment">//跳出while循环</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>异常运行结果</p>
<pre><code class="prism language-c">err<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span>就是为了输出上面错误的信息<span class="token string">"Data must be same as size"</span>
</code></pre>
<pre><code class="prism language-c">Data must refer to same ISBN
Try Again<span class="token operator">?</span> Enter y or n
</code></pre>
<p><strong>函数在寻找处理代码的过程中退出</strong></p>
<ul><li>throw 语句可能出现在<code>嵌套的 try 语句块中或在 try 语句块中调用的某个函数内</code>。当异常被抛出，<code>首先程序会从内到外一层层寻找相应类型的 catch 子句</code>。如果最后还是没找到，系统会调用<code> terminate 函数</code>并终止当前程序的执行。</li><li><code>如果对于 throw 语句外就没有 try 语句块，也会执行 terminate 函数</code>。</li></ul>
<p><strong>编写异常代码非常困难</strong></p>
<ul><li>异常中断了程序的正常流程。异常发生时，<code>有的程序执行完成有的程序执行到一半就中断了</code>，c此时会导致<code>资源没有正常释放</code>，<code>对象处于无效状态</code>等情况。异常安全的代码要求在异常发生时能正确执行清理工作。这个非常困难。</li></ul>
<h3><a id="563__239"></a>🌕5.6.3 标准异常</h3>
<p>C++ 标准库定义了<code>一组异常类</code>，用于报告标准库函数遇到的问题。他们<code>定义在 4 个头文件中</code>。</p>
<ul><li>定义在<code> stdexcept 头文件</code>中的类型必须使用 string 对象或 C 风格字符串来初始化他们。<code>不允许使用默认初始化方式</code>。</li><li>其他 3 个头文件中的 3 中类型则<code>只能默认初始化，不能提供初始值。</code></li><li>异常类型<code>只有一个 what 成员函数</code>，该函数<code>没有参数</code>，返回是一个 <code>C 风格字符串的指针</code>，目的是提供关于异常的文本信息。</li><li>对于无初始值的异常类型，what 返回的内容由编译器决定，有初始值的返回初始值。</li></ul>
<table><thead><tr><th align="center">exception</th><th align="center">异常类 exception 是最通用的异常类。它只报告异常 的发生，不提供额外信息。</th></tr></thead><tbody><tr><td align="center"><strong>bad_alloc</strong></td><td align="center"><strong>异常类 bad_alloc。在使用 new 分配动态内存失败时抛出</strong></td></tr><tr><td align="center"><strong>bad_cast</strong></td><td align="center"><strong>异常类型 bad_cast。经常发生在使用 dynamic_cast 时发生</strong></td></tr><tr><td align="center"><strong>exception</strong></td><td align="center"></td></tr><tr><td align="center"><strong>runtime_error</strong></td><td align="center"><strong>只有在运行时才能检测出的问题</strong></td></tr><tr><td align="center"><strong>range_error</strong></td><td align="center"><strong>运行时错误：生成的结果超出了有意义的值域范围</strong></td></tr><tr><td align="center"><strong>overflow_error</strong></td><td align="center"><strong>运行时错误：计算上溢</strong></td></tr><tr><td align="center"><strong>underflow_error</strong></td><td align="center"><strong>运行时错误：计算下溢</strong></td></tr><tr><td align="center"><strong>logic_error</strong></td><td align="center"><strong>程序逻辑错误</strong></td></tr><tr><td align="center"><strong>domain_error</strong></td><td align="center"><strong>逻辑错误：参数对象的结果值不存在</strong></td></tr><tr><td align="center"><strong>invalid_argument</strong></td><td align="center"><strong>逻辑错误：无效参数</strong></td></tr><tr><td align="center"><strong>length_error</strong></td><td align="center"><strong>逻辑错误：试图创建一个超出该类型最大长度的对象</strong></td></tr><tr><td align="center"><strong>out_of_range</strong></td><td align="center"><strong>逻辑错误：使用一个超出有效范围的值</strong></td></tr></tbody></table>
<ul><li><code>exception头文件</code> 定义了<code>exception</code>。</li><li><code>new头文件</code>定义了<code>bad_alloc</code>。</li><li><code>type_info头文件</code>定义了<code>bad_cast</code>。</li><li>其余的都定义在<code>stdexcept头文件</code>。</li></ul>
<p><strong>上面的异常类之间存在继承关系，其中 exception 是所有其他类的基类，总的继承关系如下图</strong></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/76cc45326e26430cb13aec86f4e4345e.png"/></p>
<pre><code class="prism language-c"><span class="token keyword">void</span> StrBlob<span class="token operator">::</span><span class="token function">check</span><span class="token punctuation">(</span>size_type i<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> msg<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> data<span class="token operator">-&gt;</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        throw <span class="token function">out_of_range</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>