<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h1><a id="starVue_0"></a>⭐️Vue</h1>
<p><a href="https://blog.csdn.net/weixin_43323097/article/details/126342102?spm=1001.2014.3001.5502">vue3基础入门参考文章！必看</a></p>
<h2><a id="Vue_2_2"></a>Vue 2</h2>
<blockquote>
<p>是一套用于构建用户界面的框架</p>
</blockquote>
<h3><a id="Vue__6"></a>Vue 的特性</h3>
<ul><li> <p>数据驱动视图<img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/0dd2803993f84f3e9a5d735c829ac4a8.png"/></p> </li><li> <p>双向数据绑定</p> </li></ul>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/13eb1e9c688a48828435bd59bdc0f1a7.png"/></p>
<ul><li> <p>MVVM</p>
<ul><li>MVVM 指的是 Model、View 和 ViewModel，它把每个 HTML 页面都拆分成了这三个部分 
    <ul><li>Model 表示当前页面渲染时所依赖的数据源。</li><li>View 表示当前页面所渲染的 DOM 结构。</li><li>ViewModel 表示 vue 的实例，它是 MVVM 的核心。</li></ul> </li></ul> </li><li> <p>数据代理</p>
<blockquote>
<p>通过vm对象来代理data对象中属性的操作（读/写）</p>
</blockquote>
<ul><li> <p>更加方便的操作data中的数据</p> </li><li> <p>基本原理</p>
<ul><li> <p>通过Object.defineProperty()把data对象中所有属性添加到vm上。</p> </li><li> <p>为每一个添加到vm上的属性，都指定一个getter/setter。</p> </li><li> <p>在getter/setter内部去操作（读/写）data中对应的属性。</p> </li></ul> </li></ul> </li></ul>
<h3><a id="Vue_39"></a>Vue监视数据的原理：</h3>
<pre><code class="prism language-js">    <span class="token number">1.</span> vue会监视data中所有层次的数据。

    <span class="token number">2.</span> 如何监测对象中的数据？
	通过setter实现监视，且要在<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token function">时就传入要监测的数据。</span>
        <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">对象中后追加的属性，Vue默认不做响应式处理</span>
        <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>如需给后添加的属性做响应式，请使用如下<span class="token constant">API</span>：
        Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target，propertyName<span class="token operator">/</span>index，value<span class="token punctuation">)</span> 或 
        vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>target，propertyName<span class="token operator">/</span>index，value<span class="token punctuation">)</span>

	<span class="token number">3.</span> 如何监测数组中的数据？
		<span class="token function">通过包裹数组更新元素的方法实现，本质就是做了两件事：</span>
            <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">调用原生对应的方法对数组进行更新。</span>
            <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>重新解析模板，进而更新页面。

	<span class="token number">4.</span>在Vue修改数组中的某个元素一定要用如下方法：
		<span class="token number">1</span> 使用这些<span class="token constant">API</span><span class="token operator">:</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token number">2</span> Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 或 vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				
		特别注意：Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 不能给vm 或 vm的根数据对象 添加属性！！！
</code></pre>
<h3><a id="Vue__65"></a>Vue 的基本使用</h3>
<ul><li> <p>使用步骤</p>
<ul><li>1 导入 vue.js 的script 脚本文件</li><li>2 在页面中声明一个将被 Vue 所控制的 DOM 区域</li><li>3 创建 vm 实例对象</li></ul> <pre><code class="prism language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 希望 Vue 能够控制下面的这个 div，帮我们在把数据填充到 div 内部 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> username <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1.</span> 导入 Vue 的库文件，在 window 全局就有了 Vue 这个构造函数 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"./lib/vue-2.6.12.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2.</span> 创建 Vue 的实例对象 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// 创建 Vue 的实例对象</span>
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// el 属性是固定的写法，表示当前 vm 实例要控制页面上的哪个区域，接收的值是一个选择器</span>
      <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
      <span class="token comment">// data 对象就是要渲染到页面上的数据</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'zhangsan'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> </li></ul>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/7b376df65276423e83c9be43eecd3668.png"/></p>
<h3><a id="_96"></a>指令</h3>
<blockquote>
<p>指令 是 Vue 为开发者提供的模板语法，用于辅助开发者渲染页面的基本结构</p>
</blockquote>
<p>按照不同用途可分为:</p>
<h4><a id="1__102"></a>1 内容渲染指令</h4>
<ul><li> <p><code>v-text</code></p>
<ul><li>示例：<code>&lt;p v-text="gender"&gt;性别：&lt;/p&gt;</code></li><li>❗️v-text 指令会<code>覆盖</code>元素内默认的值</li></ul> </li><li> <p>⭐️<code>{<!-- -->{ }}</code></p>
<ul><li><code>&lt;p&gt;性别：{<!-- -->{ gender }}&lt;/p&gt;</code></li><li>不会覆盖元素内默认的值</li></ul> </li><li> <p><code>v-html</code></p>
<ul><li> <p>把包含 HTML 标签的字符串渲染为页面的 HTML 元素</p> </li><li> <p><code>&lt;div v-html="info"&gt;&lt;/div&gt;</code></p> </li><li> <p>❗️v-html有安全性问题</p>
<ul><li> <p>(1).在网站上动态渲染任意HTML是非常危险的，容易导致 XSS 攻击。</p> </li><li> <p>(2).一定要在可信的内容上使用v-html，不要用在用户提交的内容上！(和eval()有点像)</p> </li></ul> </li></ul> </li><li> <p><code>v-cloak</code></p>
<ul><li>1.本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</li><li>2.使用css(<code>display:'none'</code>)配合v-cloak可以解决网速慢时页面展示出{<!-- -->{xxx}}的问题。</li></ul> </li><li> <p><code>v-once</code></p>
<ul><li>1.v-once所在节点在初次动态渲染后，就视为静态内容了。</li><li>2.以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</li></ul> </li><li> <p><code>v-pre</code></p>
<ul><li>1.跳过其所在节点的编译过程。</li><li>2.可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</li></ul> </li></ul>
<h4><a id="2__142"></a>2 属性绑定</h4>
<ul><li> <p>v-bind：</p>
<ul><li> <p>v-bind: 指令可以简写为 <code>:</code></p> </li><li> <p><code>&lt;input type="text" :placeholder="tips"&gt;</code></p> </li><li> <p><code>&lt;img :src="photo" alt=""&gt;</code></p> </li><li> <p><code>&lt;div title="'box'+index"&gt;&lt;/div&gt;</code></p> </li><li> <p>动态绑定 class / style / checked</p>
<ul><li> <p><code>:checked="isChecked"</code></p>
<ul><li><code>isChekced</code>是 Boolean值</li></ul> </li><li> <p>字符串：</p>
<ul><li>适用于：类名不确定，要动态获取。</li><li><code>:class="classes"</code>
<ul><li>classes是一个计算属性</li></ul> </li></ul> </li><li> <p>对象语法：</p>
<ul><li> <p>要绑定多个样式，个数确定，名字也确定，但不确定用不用</p> </li><li> <p><code>:class="{active:isActive}"</code></p> </li><li> <p><code>:class="{active:isActive,line:isLine}"</code></p> </li><li> <p>✨<code>class="title":class="{active:isActive,line:isLine}"</code></p> </li></ul> </li><li> <p>数组语法:</p>
<ul><li>要绑定多个样式，个数不确定，名字也不确定。</li><li><code>:style='[styleobj,overridingStyles]'</code></li></ul> </li></ul> </li></ul> <p>使用 <strong>JavaScript</strong> 表达式 的运算</p> <p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/cf8ad93ab2b8481e818fc750d11e8806.png"/></p> </li></ul>
<h4><a id="3__194"></a>3 事件绑定</h4>
<ul><li> <p>v-on ：简写形式：@</p>
<ul><li>eg: @click=‘addCount’ @keyup=‘count += 1’</li></ul> </li><li> <p>需要在 methods 节点中进行声明<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/05279b70cf71412f8679f96b18609540.png#pic_center"/></p> </li><li> <p>事件参数对象</p>
<ul><li> <p>$(event) 指原生的事件参数对象 event</p> </li><li> <p>绑定事件并<code>传参</code></p> <p><code>&lt;button @click="add($event, 1)"&gt;+N&lt;/button&gt;</code></p> </li></ul> </li><li> <p>事件修饰符</p>
<table><thead><tr><th>事件修饰符</th><th>说明</th></tr></thead><tbody><tr><td>.prevent</td><td>阻止默认行为（eg：阻止 a 链接的跳转、阻止表单的提交等）</td></tr><tr><td>.stop</td><td>阻止事件冒泡</td></tr><tr><td>.capture</td><td>以捕获模式触发当前的事件处理函数</td></tr><tr><td>.once</td><td>绑定的事件只触发一次</td></tr><tr><td>.self</td><td>只有在 event.target 是当前元素自身时触发事件处理函数</td></tr></tbody></table>
<ul><li><code>&lt;a href="http://www.baidu.com" @click.prevent="show"&gt;跳转到百度首页&lt;/a&gt;</code></li></ul> </li><li> <p>按键修饰符</p>
<ul><li><code>&lt;input type="text" @keyup.esc="clearInput" @keyup.enter="commitAjax"&gt;</code></li><li><code>.enter</code></li><li><code>.delete</code></li><li><code>.esc</code></li><li><code>.space</code></li><li><code>.up</code> <code>.down</code> <code>.left</code> <code>.right</code></li><li><code>tab</code> 换行 （必须配合 keydown去使用）</li></ul> </li><li> <p>可以执行少量代码 <code>count++</code></p> </li><li> <p>可以写函数传参（可以获取事件对象，没写参数默认有，写参数要 <code>(a,$event)</code></p>
<ul><li>给调用函数＋个（）eg：<code>@change="handelClick()"</code></li><li>如果只有一个 e 不加 （）</li><li><code>e.target.value/checkded</code></li></ul> </li></ul>
<h4><a id="4__242"></a>4 双向绑定</h4>
<ul><li> <p>v-model</p>
<ul><li> <p>实现<code>表单</code>与<code>数据</code>的双向绑定</p> </li><li> <p>用于获取<code>表单</code>（输入类）的数据</p> </li><li> <p>场景</p>
<ul><li>表单（value / checked）、全选（状态在 computed ）反选(状态在 data )</li></ul> </li><li> <pre><code class="prism language-js">收集表单数据：
    若：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">/</span><span class="token operator">&gt;</span>，则v<span class="token operator">-</span>model收集的是value值，用户输入的就是value值。

    若：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"radio"</span><span class="token operator">/</span><span class="token operator">&gt;</span>，则v<span class="token operator">-</span>model收集的是value值，且要给标签配置value值。

    若：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"checkbox"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token number">1.</span>没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）
    
    <span class="token number">2.</span><span class="token literal-property property">配置input的value属性</span><span class="token operator">:</span>
      <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>v<span class="token operator">-</span>model的初始值是非数组，那么收集的就是checked（勾选 or <span class="token function">未勾选，是布尔值）</span>
      
      <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>v<span class="token operator">-</span><span class="token function">model的初始值是数组，那么收集的的就是value组成的数组</span><span class="token punctuation">(</span>多选<span class="token punctuation">)</span>

</code></pre> </li><li> <p>v-model 修饰符</p>
<table><thead><tr><th>修饰符</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>.number</td><td>自动把用户输入的值转为数值类型</td><td><code>&lt;input type="number" v-model.number="age"&gt;</code></td></tr><tr><td>.trim</td><td>自动过滤用户输入 的首尾空白字符</td><td><code>&lt;input v-model.number="msg"&gt;</code></td></tr><tr><td>.lazy</td><td>在“change”时而非“input”时更新</td><td><code>&lt;input v-model.number="msg"&gt;</code></td></tr></tbody></table></li></ul> </li></ul>
<h4><a id="5__278"></a>5 条件渲染</h4>
<ul><li> <p>条件渲染指令用来辅助开发者按需控制 DOM 的<strong>显示与隐藏</strong></p>
<ul><li> <p><code>v-if</code></p>
<ul><li> <p><code>&lt;p v-if="flag"&gt;这是被 v-if 控制的元素&lt;/p&gt;</code></p> </li><li> <p>会动态地创建或移除 DOM 元素</p>
<ul><li><code>v-else</code>、<code>v-else-if=“ ”</code></li><li>必须相邻</li></ul> </li><li> <p>只能在与 v-if 平级的时候使用</p>
<div>
       优秀
      </div>
<div>
       良好
      </div>
<div>
       一般
      </div>
<div>
       差
      </div> </li><li> <p>移除时 dom 不存在</p> </li></ul> </li><li> <p><code>v-show</code></p> </li><li> <p><code>&lt;p v-show="flag"&gt;这是被 v-show 控制的元素&lt;/p&gt;</code></p>
<ul><li>会动态为元素添加或移除 style=“display: none;” 样式</li><li>移除时 dom 存在</li></ul> </li></ul>
<table><thead><tr><th>v-if</th><th>v-show</th></tr></thead><tbody><tr><td>动态地创建或移除 DOM 元素</td><td>动态为元素添加或移除 style="display: none;"样式</td></tr><tr><td>支持多条件显示</td><td>不支持多条件显示</td></tr><tr><td>有更高的开销</td><td>有更高的初始渲染开销</td></tr><tr><td>使用场景：切换频率较低、判断条件较多的场景</td><td>使用场景：非常频繁地切换</td></tr></tbody></table></li></ul>
<h4><a id="6__312"></a>6 列表渲染</h4>
<ul><li> <p>v-for</p>
<ul><li>基于一个数组来循环渲染一个列表结构</li><li>需要使用 item in items 形式的特殊语法</li></ul> <pre><code class="prism language-js"><span class="token operator">&lt;</span>tr v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in list"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.id"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> index <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
</code></pre>
<ul><li>1 用于 循环 数组 <code>(item,index) in array</code></li><li>2 用于循环 对象 <code>(item,key) in obj</code></li><li>3 用于循环 数字 <code>item in num</code></li><li>使用 key 维护列表的状态 
    <ul><li>Vue 复用已存在的DOM元素提升渲染性能 但导致有状态的列表无法被正确更新</li><li>key 注意事项 
      <ul><li>key 的值只能是字符串或数字类型</li><li>key 的值必须 具有唯一性</li><li>建议把数据项的 id 属性值作为 key 的值</li><li>使用 index 的值当做 key 的值没有意义（ index 不具唯一性）</li><li>建议使用 v-for 指令时要指定 key 的值（既提升性能，又防止列表状态紊乱）</li></ul> </li></ul> </li><li>label 的 for 属性 
    <ul><li><code>:for="'cb' + item.id"</code> input里面 <code>:id="'cb' + item.id"</code></li></ul> </li></ul> </li></ul>
<h3><a id="_341"></a>过滤器</h3>
<blockquote>
<p>过滤器（Filters）是 vue 为开发者提供的功能，常用于文本的格式化。本质是 <strong>js 函数</strong></p>
</blockquote>
<ul><li> <p>过滤器放在 js 表达式的尾部 由“管道符”进行调用</p>
<ul><li>插值表达式 
    <ul><li><code>&lt;p&gt;message 的值是：{<!-- -->{ message | capi }}&lt;/p&gt;</code></li><li>不能给属性用，直接“ ”</li></ul> </li><li>v-bind 属性绑定 
    <ul><li><code>&lt;div v-bind:id="rawId | formatId"&gt;&lt;/div&gt;</code></li></ul> </li></ul> </li><li> <p>定义过滤器</p>
<ul><li> <p>在创建 vue 实例期间，可以在 filters 节点中定义过滤器</p> <pre><code class="prism language-js"><span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 注意：过滤器函数形参中的 val，永远都是“管道符”前面的那个值</span>
    <span class="token function">capi</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 字符串有 charAt 方法，这个方法接收索引值，表示从字符串中把索引对应的字符，获取出来</span>
      <span class="token comment">// val.charAt(0)</span>
      <span class="token keyword">const</span> first <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 字符串的 slice 方法，可以截取字符串，从指定索引往后截取</span>
      <span class="token keyword">const</span> other <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token comment">// 强调：过滤器中，一定要有一个返回值</span>
      <span class="token keyword">return</span> first <span class="token operator">+</span> other
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> </li><li> <p>私有过滤器</p>
<blockquote>
<p>在 filters 节点下定义的过滤器，称为“私有过滤器”，因为它只能在当前 vm 实例所控制的 el 区域内使用。</p>
</blockquote> </li><li> <p>全局过滤器</p> <pre><code class="prism language-js"><span class="token comment">// 使用 Vue.filter() 定义全局过滤器</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'capi'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> first <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> other <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> first <span class="token operator">+</span> other <span class="token operator">+</span> <span class="token string">'~~~'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li></ul> </li><li> <p>连续调用多个过滤器</p>
<ul><li><code>&lt;p&gt;message 的值是：{<!-- -->{ message | capi | maxLength }}&lt;/p&gt;</code></li></ul> </li><li> <p>过滤器传参</p>
<ul><li> <p>本质是 js 函数</p> <pre><code class="prism language-js"><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> message <span class="token operator">|</span> <span class="token function">filterA</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'filterA'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">mesg<span class="token punctuation">,</span>arg1<span class="token punctuation">,</span>arg2</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li></ul> </li><li> <p>兼容性</p>
<ul><li>仅在 Vue1、2中受支持</li><li>vue3 不支持 
    <ul><li>官方建议使用 <strong>计算属性</strong> 或 <strong>方法</strong> 代替过滤器功能</li><li><a href="https://v3.vuejs.org/guide/migration/filters.html#migration-strategy">参考</a></li></ul> </li></ul> </li></ul>
<h3><a id="_408"></a>侦听器</h3>
<blockquote>
<p>watch 侦听器允许开发者监视数据的变化，从而针对数据的变化做特定的操作。</p>
</blockquote>
<p>当被监视的属性变化时, 回调函数自动调用, 进行相关操作</p>
<ul><li>1 在 watch 节点进行声明</li></ul>
<pre><code class="prism language-js"><span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'admin'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 所有的侦听器，都应该被定义到 watch 节点下</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 侦听器本质上是一个函数，要监视哪个数据的变化，就把数据名作为方法名即可</span>
      
    <span class="token comment">// 新值在前，旧值在后</span>
    <span class="token function">username</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token comment">// 1. 调用 jQuery 中的 Ajax 发起请求，判断 newVal 是否被占用！！！</span>
      $<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://www.escook.cn/api/finduser/'</span> <span class="token operator">+</span> newVal<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<ul><li> <p>2 使用 watch 检测用户名是否可用</p>
<blockquote>
<p>监听 username 值的变化，并使用 axios 发起 Ajax 请求，检测当前输入的用户名是否可用：</p>
</blockquote> <pre><code class="prism language-js"><span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">// 监听 username 值的变化</span>
    <span class="token keyword">async</span> <span class="token function">username</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
        <span class="token comment">// 使用 axios 发起请求，判断用户名是否可用</span>
        <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://www.escook.cn/api/finduser/'</span> <span class="token operator">+</span> newVal<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>3 immediate选项</p>
<blockquote>
<p>默认情况下，组件在初次加载完毕后不会调用 watch 侦听器。如果想让 watch 侦听器立即被调用，则需要使 用 immediate 选项。</p>
</blockquote> <pre><code class="prism language-js"><span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
   <span class="token comment">// 让被监听的对象指向一个 配置对象</span>
<span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">// handler 是固定写法，表示当 username 的值变化时，自动调用 handler 处理函数</span>
    <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
        <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://www.escook.cn/api/finduser/'</span> <span class="token operator">+</span> newVal<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 表示页面初次渲染好之后，就立即触发当前的 watch 侦听器</span>
<span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre> </li><li> <p>4 deep 选项</p>
<blockquote>
<p>如果 watch 侦听的是一个<code>对象</code>，如果对象中的属性值发生了变化，则无法被监听到。此时需要使用 deep 选项</p>
</blockquote>
<ul><li>在上面的基础上加一个 <code>deep:true</code></li></ul> </li><li> <p>5 监听对象单个属性的变化</p> <pre><code class="prism language-js"><span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果要侦听的是 子属性 的变换，则必须包裹一层单引号</span>
    <span class="token string">'info.username'</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 配置对象</span>
    <span class="token string-property property">'info.username'</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
       <span class="token keyword">async</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">data</span><span class="token operator">:</span>res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://www.escook.cn/api/finduser/'</span> <span class="token operator">+</span> newVal<span class="token punctuation">.</span>username<span class="token punctuation">)</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul>
<p>监视的属性必须存在，才能进行监视！！</p>
<ul><li> <p>应用场景</p>
<ul><li> <p>本地存储</p> <pre><code class="prism language-js"><span class="token function">subjectList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 要侦听的属性</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'scoreMsg'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subjectList<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> </li><li> <p>当监听 对象数组 时，数组的长度变化时，不用 deep 也可以，但是监听不到对象内部的 变化</p> </li><li> <p>数据变化时，发起 ajax 请求</p> </li></ul> </li></ul>
<h3><a id="_520"></a>计算属性</h3>
<blockquote>
<p>计算属性指的是通过一系列运算之后，最终得到一个<strong>属性值</strong></p>
</blockquote>
<ul><li> <p>个动态计算出来的属性值可以被模板结构或 methods 方法使用。</p> <pre><code class="prism language-js"><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 专门用户呈现颜色的 div 盒子 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在属性身上，<span class="token operator">:</span> 代表  v<span class="token operator">-</span>bind<span class="token operator">:</span> 属性绑定 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">:</span>style 代表动态绑定一个样式对象，它的值是一个 <span class="token punctuation">{<!-- --></span>  <span class="token punctuation">}</span> 样式对象 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 当前的样式对象中，只包含 backgroundColor 背景颜色 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"{ backgroundColor: rgb }"</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> rgb <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"show"</span><span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// 创建 Vue 实例，得到 ViewModel</span>
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 红色</span>
        <span class="token literal-property property">r</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token comment">// 绿色</span>
        <span class="token literal-property property">g</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token comment">// 蓝色</span>
        <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 点击按钮，在终端显示最新的颜色</span>
        <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rgb<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 所有的计算属性，都要定义到 computed 节点之下</span>
      <span class="token comment">// 计算属性在定义的时候，要定义成“方法格式”</span>
      <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// rgb 作为一个计算属性，被定义成了方法格式，</span>
        <span class="token comment">// 最终，在这个方法中，要返回一个生成好的 rgb(x,x,x) 的字符串</span>
        <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>g<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre>
<ul><li>所有的计算属性，都要定义到 computed 节点之下</li><li>计算属性在定义的时候，要定义成“方法格式”</li></ul> </li><li> <p>计算属性的特点</p>
<ul><li>1 虽然计算属性在声明的时候被定义为方法，但是计算属性的本质是一个属性</li><li>2 计算属性会缓存计算的结果，只有计算属性依赖的数据变化时，才会重新进行运算</li></ul> </li><li> <p>好处：</p>
<ul><li>代码<strong>复用</strong></li><li>data变化，计算属性也变化</li></ul> </li><li> <p>应用场景</p>
<ul><li>反选 
    <ul><li><code>return this.list.every(item =&gt; item.checked === true)</code></li></ul> </li><li>total 
    <ul><li><code>return this.subjectList.reduce((pre, current) =&gt; (pre += current.score), 0)</code></li></ul> </li></ul> </li></ul>
<pre><code class="prism language-js">全选：v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"allChecked"</span> 反选：computed

<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">allChecked</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>checked <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>allChecked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token operator">!</span>allChecked
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>checked <span class="token operator">=</span> allChecked<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre>
<pre><code class="prism language-js">计算属性：
    <span class="token number">1.</span>定义：要用的属性不存在，要通过<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">已有属性</span><span class="token template-punctuation string">`</span></span>计算得来。
    
    <span class="token number">2.</span>原理：底层借助了Objcet<span class="token punctuation">.</span>defineproperty方法提供的getter和setter。

    <span class="token number">3.</span><span class="token function">get函数什么时候执行？</span>
        <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">初次读取时会执行一次。</span>
        <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>当依赖的数据发生改变时会被再次调用。

    <span class="token number">4.</span>优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便。
    
    <span class="token number">5.</span>备注：
        <span class="token number">1.</span>计算属性最终会出现在vm上，直接读取使用即可。
        <span class="token number">2.</span>如果计算属性要被修改，那必须写<span class="token keyword">set</span>函数去响应修改，且<span class="token keyword">set</span>中要引起计算时依赖的数据发生改变。
</code></pre>
<p><strong>计算属性 vs 侦听器</strong></p>
<p>1 计算属性侧重于<code>监听多个值的变化</code>，最终计算并<code>返回</code>一个新值</p>
<p>2 侦听器侧重于监听<code>单个</code>数据的变化，最终执行<code>特定的业务处理</code>，不需要有任何返回值</p>
<p>3 computed能完成的功能，watch都可以完成。watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。</p>
<h3><a id="axios_638"></a>axios</h3>
<blockquote>
<p>axios 是一个专注于网络请求的库</p>
</blockquote>
<ul><li> <p>调用 axios 方法得到的返回值是 Promise对象</p> </li><li> <pre><code class="prism language-js"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">'GET'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
  	<span class="token comment">// URL 中的查询参数 GET</span>
    <span class="token comment">// params:{},</span>
    <span class="token comment">// 请求体参数 POST</span>
    <span class="token comment">// data:{}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
result<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnPost'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">data</span><span class="token operator">:</span>res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        method：<span class="token string">'POST'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'zs'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">20</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 返回的是数据对象 可以解构单独拿出 data 把 data 重命名为 res</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a426ed9d05df46a49d91823fb13a680f.png#pic_center"/></p>
<p><strong>如果调用某个方法的返回值是 Promise 实例，则前面可以添加 await</strong></p>
<p><strong>await</strong> 只能在被 <strong>async</strong> “修饰”的方法中</p>
<p>用 jQuery 可以发起 <code>$.ajax()</code> <code>$.get()</code> <code>$.post()</code> 请求</p>
<p>axios：<code>axios() axios.get() axios.post() axios.delete() axios.put() axios.patch()</code></p>
<p><code>axios.get()</code></p>
<pre><code class="prism language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnPost'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">data</span><span class="token operator">:</span>res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p><code>axios.post()</code></p>
<pre><code class="prism language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnPost'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">data</span><span class="token operator">:</span>res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'zs'</span><span class="token punctuation">,</span><span class="token literal-property property">gender</span><span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// axios.post()里面的请求体直接写数据对象</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>组件中发起axios 请求，不用每个组件都要导入 axios，在 main.js 导入，变成 Vue内置的成员</p>
<pre><code class="prism language-js"><span class="token comment">// main.js</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token comment">// 配置请求根路径</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'http://www.itcbc.com:3006'</span>

<span class="token comment">// 把 axios 挂载到 Vue.prototype上，供每个组件的实例直接使用</span>
<span class="token comment">// 缺点： 不利于接口的 复用</span>
Vue<span class="token punctuation">.</span>propotype<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios

<span class="token comment">// 组件中</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">async</span> <span class="token function">getBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">data</span> <span class="token operator">:</span> res<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'http://www.itcbc.com:3006/api/getbooks'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="mount_715"></a>$mount方法</h3>
<pre><code class="prism language-js"><span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'admin'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre>
<h3><a id="vuecli_727"></a>vue/cli</h3>
<blockquote>
<p>vue-cli 是 Vue.js 开发的标准工具。它简化了程序员基于 webpack 创建工程化的 Vue 项目的过程</p>
</blockquote>
<p>下载: <code>npm i -g @vue/cli</code> 查找安装: <code>vue -V</code></p>
<ol><li> <p>在指定目录的 终端下 创建指定名称的项目</p>
<ul><li> <p><code>vue create demo-first</code></p> </li><li> <p>项目名称不能有空格、中文、大写字母<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ee9ad6f89be24320a4c72e5c5367ffa8.png#pic_center"/></p> </li><li> <p>创建冻结 按 ctrl + c</p> </li><li> <p>创建成功 <code>cd 项目名称</code> <code>npm run serve</code> 不要关掉终端</p> </li></ul> </li><li> <p>vue 项目中 src 目录的构成</p> </li></ol>
<ul><li> <p>assets 放：图片、css 样式等静态资源</p> </li><li> <p>components ：放封装好的 组件</p> </li><li> <p>main.js ：是项目的入口文件，整个项目的运行，要先执行 main.js</p> </li></ul>
<pre><code>![在这里插入图片描述](https://img-blog.csdnimg.cn/721187076eeb40748414a0f0fa998f01.png#pic_center)
</code></pre>
<ul><li>app.vue：是项目的根组件（render渲染的组件就是根组件）</li></ul>
<ol start="3"><li> <p>vue 项目运行流程</p>
<ul><li>通过 main.js 把 App.vue 渲染到 HTML 页面</li></ul> </li></ol>
<h3><a id="_757"></a>单页面应用程序</h3>
<blockquote>
<p>单页面应用程序（英文名：Single Page Application）简称 SPA，顾名思义，指的是一个 Web 网站中只有唯一的一个 HTML 页面，所有的功能与交互都在这唯一的一个页面内完成。</p>
</blockquote>
<h3><a id="vue_763"></a>vue组件</h3>
<blockquote>
<p>组件是对 UI 结构的复用</p>
</blockquote>
<p>组件化开发</p>
<blockquote>
<p>组件化开发指的是：根据封装的思想，把页面上可重用的 UI 结构封装为组件，从而方便项目的开发和维护。</p>
</blockquote>
<p>组件的后缀名是 .vue</p>
<h4><a id="_773"></a>一个重要的内置关系</h4>
<ul><li>VueComponent.prototype.<strong>proto</strong> === Vue.prototype</li></ul>
<h5><a id="_777"></a>为什么要有这个关系</h5>
<ul><li>让组件实例对象（vc）可以访问到 Vue原型上的属性、方法。</li><li><code>this.$refs.xx(ref=xx).属性/方法()</code></li></ul>
<h4><a id="_782"></a>定义组件</h4>
<h5><a id="_784"></a>组成部分：</h5>
<ul><li> <p>1 template -&gt; 组件的模板结构（<strong>必须包含</strong>）</p>
<ul><li><code>&lt;template&gt; 当前组件的 DOM 结构，需要被定义到 template 标签的内部 &lt;/template&gt;</code></li><li>template 中只能包含唯一的根节点</li></ul> </li><li> <p>2 script -&gt; 组件的 JavaScript 行为</p>
<blockquote>
<p>在 </p>
</blockquote></li></ul>
<blockquote>
<p>组件配置中： data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【VueComponent实例对象】</p>
</blockquote>
<blockquote>
<p>new Vue(options)配置中： data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】。</p>
</blockquote>
<h4><a id="_828"></a>使用组件</h4>
<ul><li>1 使用 import 语法导入需要的组件 
  <ul><li>@ 表示定位到 src</li><li><code>import MyCount from 'xxx'</code></li></ul> </li><li>2 使用 components 节点注册组件</li><li>3 以标签的形式使用刚才注册的组件</li></ul>
<h5><a id="_836"></a>组件间的父子关系</h5>
<ul><li>组件封装之后，彼此之间是相互独立的，不存在父子关系</li><li>在使用组件的时候，根据彼此的嵌套关系构成 父子、兄弟关系</li></ul>
<h5><a id="_841"></a>私有组件</h5>
<ul><li>使用 components 注册的是 私有组件</li><li>在组件 A 的 components 节点下，注册了组件 F。 则组件 F 只能用在组件 A 中；不能被用在组件 C 中。</li><li><code>component:{ MyCount }</code></li><li>⭐️<code>component:{ 'my-count', MyCount }</code></li></ul>
<h5><a id="_848"></a>注册全局组件</h5>
<ul><li>在 vue 项目的 main.js 入口文件中，通过 Vue.component() 方法，可以注册全局组件。 
  <ul><li>1 <code>import</code></li><li>2 <code>Vue.component('MyCount',MyCount)</code></li></ul> </li></ul>
<p>组件的 name 会显示在 devtools 上</p>
<h5><a id="_props_858"></a>组件的 props</h5>
<blockquote>
<p>props 是组件的自定义属性，在封装通用组件的时候，合理地使用 props 可以极大的提高组件的复用性</p>
</blockquote>
<pre><code class="prism language-js">exports <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'自定义属性A'</span>，<span class="token string">'自定义属性B'</span>，<span class="token string">'...'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li> <p>props 是<strong>只读的</strong></p>
<ul><li> <p>修改：把 props 的值 <strong>转存</strong> 到 data 中，data 中的数据都是可读写的</p> </li><li> <p>不要直接在 子组件里修改 props 的值 （会报错，父组件没跟着变）</p> <pre><code class="prism language-js"><span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'init'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>init
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p>props 的 default 默认值</p>
<ul><li> <p><code>props:{ init: { default: 0 }}</code></p> </li><li> <p>用户没传 init 的值时，default 的值生效</p> </li><li> <p>对象或数组默认值必须从一个工厂函数获取</p> <pre><code class="prism language-JS">default:function() {
    return {message:'hello'}
}
</code></pre> </li></ul> </li><li> <p>type 值类型</p>
<ul><li>eg：<code>type: Number</code></li><li><code>:init="9"</code> v-bind: 加上 js 的数字</li><li>写在 props 里面</li><li><code>props:{name:String}</code></li></ul> </li><li> <p>required 必填项</p>
<ul><li><code>required: true</code></li></ul> </li></ul>
<p>使用：<code>&lt;my-count :init="9"&gt;&lt;/my-count&gt;</code></p>
<h5><a id="_915"></a>组件之间的样式冲突问题</h5>
<blockquote>
<p>默认情况下，写在 .vue 组件中的样式会全局生效,因此很容易造成多个组件之间的样式冲突问题。</p>
</blockquote>
<ul><li> <p>根本原因</p>
<ul><li>1 单页面应用程序中，所有组件的 DOM 结构，都是基于唯一的 index.html 页面进行呈现的</li><li>2 每个组件中的样式，都会影响整个 index.html 页面中的 DOM 元素</li></ul> </li><li> <p>解决</p>
<ul><li> <p>1 为每个组件分配唯一的自定义属性，在编写组件样式时，通过属性选择器来控制样式的作用域</p> <pre><code class="prism language-js"><span class="token operator">&lt;</span>style<span class="token operator">&gt;</span> <span class="token punctuation">.</span>container<span class="token punctuation">[</span>data<span class="token operator">-</span>v<span class="token operator">-</span><span class="token number">0001</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid red<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> </li><li> <p>2 style 的 scoped 属性</p>
<ul><li>防止组件之间的样式冲突问题</li><li><code>&lt;style scoped&gt; &lt;/style&gt;</code></li><li>则当前组件的样式对其子组件是不生效的</li></ul> </li><li> <p>3 /deep/ 样式穿透</p>
<ul><li>让某些样式对子组件生效</li></ul> </li></ul> </li><li> <p>当使用第三方组件库的时候，如果有修改第三方组件默认样式的需求，需要用到 /deep/</p> <p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ed3e6bfed60747279be01bab7a34bc8f.png#pic_center"/></p> </li></ul>
<h5><a id="_946"></a>组件的生命周期</h5>
<p>生命周期</p>
<blockquote>
<p>生命周期（Life Cycle）是指一个组件从创建 -&gt; 运行 -&gt; 销毁的整个阶段，强调的是一个<strong>时间段</strong>。</p>
</blockquote>
<p>生命周期函数</p>
<blockquote>
<p>是由 vue 框架提供的<strong>内置函数</strong>，会伴随着组件的生命周期，自动<strong>按次序</strong>执行，强调的是<strong>时间点</strong></p>
</blockquote>
<ul><li> <p>组件生命周期函数的分类</p>
<ul><li> <p>组件创建阶段、组件运行阶段<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e1e8e8e8bf42463f991032cede7ddfed.png#pic_center"/></p> </li><li> <p><a href="https://cn.vuejs.org/v2/guide/instance.html#">生命周期图示</a><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b1250b7f88334aa9bd4fdabadbffce5d.png#pic_center"/></p> </li></ul> </li><li> <p>beforeCreate()</p>
<ul><li>创建阶段的第一个生命周期函数</li><li>组件的 props/data/methods 尚未被创建，都处于 不可用 状态</li></ul> </li><li> <p>⭐️created()</p>
<ul><li>组件的 <strong>props/data/methods</strong> 已创建好，都处于 可用 状态，但是组件的<strong>模板结构</strong>未生成</li><li>在里面调用 methods 方法，<strong>请求服务器的数据</strong>，并且，把<code>请求</code>到的数据，转存到 data 中，供 template 使用</li><li>有些<code>bus.$on()</code>写在 created 里面</li></ul> </li><li> <p>beforeMount</p>
<ul><li>浏览器还没当前组件的 DOM结构</li></ul> </li><li> <p>⭐️mounted</p>
<ul><li>已渲染 HTML，第一次取到 <strong>DOM 结构</strong></li><li><code>启动定时器</code>、<code>绑定自定义事件</code>、<code>订阅消息</code>等【初始化操作】</li></ul> </li><li> <p>beforeUpdate</p>
<ul><li><strong>将要</strong> 根据变化、更新后的数据，<strong>重新渲染</strong>组件的模板结构</li></ul> </li><li> <p>⭐️updated</p>
<ul><li>已根据<strong>最新的数据</strong>，完成了组件 DOM 结构 的重新渲染</li><li>当数据变化之后，为了能够<strong>操作到最新的 DOM 结构</strong>，必须把代码写到 <strong>updated</strong> 生命周期函数中</li><li>但是一般不在这里做什么，因为一个属性变化就会触发 updated</li></ul> </li><li> <p>beforeDestroy</p>
<ul><li>尚未销毁组件，还处于 正常工作状态</li><li><code>清除定时器</code>、<code>解绑自定义事件</code>、<code>取消订阅消息</code>等【收尾工作】</li></ul> </li><li> <p>destroyed</p>
<ul><li>组件已被销毁，DOM 结构已被完全移除</li><li>销毁后自定义事件会失效，但原生DOM事件依然有效。</li><li>一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/4af7b21de26e42afb4207f75643535f5.png#pic_center"/></li></ul> </li></ul>
<h5><a id="star_1000"></a>⭐️组件之间的数据共享</h5>
<p>1 父组件向子组件共享数据</p>
<ul><li>需要使用<strong>自定义属性</strong></li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fb5c61e217be429fa9b4526086283c73.png#pic_center"/></p>
<ul><li>也就是 使用自定义属性的方法</li></ul>
<p>2 子组件向父组件共享数据</p>
<ul><li>使用<strong>自定义事件</strong>（以传参的形式 去共享数据）</li><li>父：函数 
  <ul><li>函数接收数据</li></ul> </li><li>子：props:[‘函数名称’] 
  <ul><li>调用函数，传递参数数据</li></ul> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9942a5d0c36643f4b292bfb3d8d75835.png#pic_center"/></p>
<p>3 兄弟组件之间的数据共享</p>
<ul><li> <p>在 vue2 中，兄弟组件之间的数据共享的方案是 EventBus</p> </li><li> <p>EventBus 的使用步骤</p>
<ul><li>1 创建 eventBus.js 模块，并向外共享一个 Vue 的实例对象</li><li>2 在数据<strong>发送</strong>方，调用 <code>bus.**$emit(**'事件名称', 要发送的数据)</code> 方法触发自定义事件</li><li>3 在数据<strong>接收</strong>方，调用 <code>bus.**$on**('事件名称', 事件处理函数)</code> 方法注册一个自定义事件</li><li><code>bus.$off('xxx')</code>解绑</li></ul> </li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/572de42d1a3e4c76b26415256789439d.png#pic_center"/></p>
<p>4 ⭐️全局事件总线：任意组件间通信</p>
<ul><li> <p><code>main.js</code></p>
<ul><li>在vue 实例<code>beforeCreate(){ Vue.prototype.$bus = this}</code></li></ul> </li><li> <p>发送方</p>
<ul><li><code>this.$bus.$emit('deleteTodo', 参数)</code></li></ul> </li><li> <p>接收方</p> <pre><code class="prism language-js"> <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'checkTodo'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checkTodo<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'deleteTodo'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>deleteTodo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'checkTodo'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'deleteTodo'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> </li></ul>
<p>5 消息订阅与发布 实现任意组件间通讯</p>
<p>使用步骤：</p>
<ol><li> <p>安装pubsub：<code>npm i pubsub-js</code></p> </li><li> <p>引入: <code>import pubsub from 'pubsub-js'</code></p> </li><li> <p>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身。</p> <pre><code class="prism language-js"><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token operator">=</span>》或者写在回调函数里
<span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span> <span class="token comment">//订阅消息 (msgName,data)=&gt;{...} 写箭头函数</span>
<span class="token punctuation">}</span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> pubsub<span class="token punctuation">.</span><span class="token function">unsunscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">}</span>    
</code></pre> </li><li> <p>提供数据：<code>pubsub.publish('xxx',数据)</code></p> </li><li> <p>最好在beforeDestroy钩子中，用<code>PubSub.unsubscribe(pid)</code>去取消订阅。</p> </li></ol>
<h5><a id="ref__1088"></a>ref 引用</h5>
<blockquote>
<p>ref 用来辅助开发者在不依赖于 jQuery 的情况下，获取 DOM 元素或组件的引用。</p>
</blockquote>
<blockquote>
<p>每个 vue 的组件实例上，都包含一个 $refs 对象，里面存储着对应的 DOM 元素或组件的引用。</p>
</blockquote>
<blockquote>
<p>默认情况下， 组件的 this.$refs 指向一个空对象。</p>
</blockquote>
<ul><li>使用 ref 引用 DOM 元素</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/751f580cc80d40849e62cc1d7eb28fee.png#pic_center"/></p>
<ul><li>使用 ref 引用组件实例</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6361079f48f9498eb892359ef00b46b6.png#pic_center"/></p>
<ul><li> <p><code>ref=' '</code> 写在 组件使用标签上</p> </li><li> <p>引用到组件的实例后，就可以调用组件上的 methods 方法</p> </li><li> <p>控制文本框和按钮的按需切换</p>
<blockquote>
<p>通过布尔值 inputVisible 来控制组件中的文本框与按钮的按需切换。</p>
</blockquote> <p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/345a9ec18b6145fc873f1e610f819878.png#pic_center"/></p> </li><li> <p>让文本框自动获得焦点</p>
<blockquote>
<p>当文本框展示出来之后，如果希望它立即获得焦点，则可以为其添加 ref 引用，并调用原生 DOM 对象的 .focus() 方法即可。</p>
</blockquote> <p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c20718b80d294dfb9eac2a41cad8e232.png#pic_center"/></p> </li><li> <p>this.$nextTick(cb) 方法</p>
<blockquote>
<p>组件的 $nextTick(cb) 方法，会把 cb 回调推迟到下一个 DOM 更新周期之后执行。</p>
</blockquote>
<blockquote>
<p>即等组件的 DOM 更新完成之后，再执行 cb 回调函数。从而能保证 cb 回调函数可以操作到最新的 DOM 元素。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fcbde724806c4e619f0997bbc07321a5.png#pic_center"/></p>
</blockquote> </li></ul>
<p>@ 从 src 源目录从外往里找</p>
<h5><a id="heavy_exclamation_mark_1133"></a>❗️一个重要的内置关系:</h5>
<p><code>VueComponent.prototype.__proto__ === Vue.prototype</code></p>
<p>让组件实例对象（vc）可以访问到 Vue原型上的属性、方法。</p>
<h4><a id="_1141"></a>动态组件</h4>
<blockquote>
<p>动态组件指的是动态切换组件的显示与隐藏。</p>
</blockquote>
<h5><a id="_1145"></a>动态组件的渲染</h5>
<blockquote>
<p>vue 提供了一个内置的 <code>&lt;component&gt;</code> 组件，专门用来实现动态组件的渲染。</p>
</blockquote>
<pre><code class="prism language-js"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">// 函数 避免组件被复用时，数据存在引用关系。</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">comName</span><span class="token operator">:</span><span class="token string">'Left'</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>componet <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">"comName"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>componet<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"comName = 'Left'"</span><span class="token operator">&gt;</span>切换 Left 组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"comName = 'Right'"</span><span class="token operator">&gt;</span>切换 Right 组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre>
<h5><a id="__keepalive__1160"></a>使用 内置的 keep-alive 保持状态</h5>
<blockquote>
<p>解决默认情况下，切换动态组件时无法保持组件的状态的问题。</p>
</blockquote>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">"comName"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
</code></pre>
<h5><a id="keepalive__1170"></a>keep-alive 对应的生命周期函数</h5>
<ul><li>当组件被缓存时，会自动触发组件的 deactivated 生命周期函数。</li><li>当组件被激活时，会自动触发组件的 activated 生命周期函数。 
  <ul><li>当组件第一次被创建是，即会触发created 也会触发 actived</li><li>当组件被激活，只会触发 actived，不再触发 created，因为组件没有被重新创建</li></ul> </li></ul>
<h5><a id="keepalive__include__1177"></a>keep-alive 的 include 属性</h5>
<blockquote>
<p>include 属性用来指定：只有名称匹配的组件会被缓存。多个组件名之间使用英文的逗号分隔：</p>
</blockquote>
<ul><li>与 include 相对的是 exclude（指定哪些组件不需要被缓存）只能二选一</li></ul>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive include<span class="token operator">=</span><span class="token string">"MyLeft,MyRight"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">"comName"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
</code></pre>
<p><strong>组件的name属性：</strong></p>
<blockquote>
<p>当提供了 name 属性之后，组件的名称，就是 name 属性的值</p>
</blockquote>
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'MyRight'</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>对比：</strong></p>
<ul><li>name 
  <ul><li>1 调试的时候 出现的 组件名称</li><li>2 与 <code>&lt;keep-alive&gt;</code> 结合 指定被缓存与不被缓存</li></ul> </li><li>注册名称 
  <ul><li>应用场景：以标签的形式，把注册好的组件，渲染和使用到页面结构之中</li></ul> </li></ul>
<h3><a id="mixin_1207"></a>mixin(混入)</h3>
<blockquote>
<p>可以把多个组件共用的配置提取成一个混入对象</p>
</blockquote>
<p>独立的 js 文件</p>
<p>使用：</p>
<p>1 定义混合</p>
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> xxx <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span>
	<span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span>
	<span class="token operator">...</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> yyy <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre>
<p>2 使用混合</p>
<ul><li>全局混入 
  <ul><li>在 main.js 中 <code>Vue.mixin(xxx)</code></li></ul> </li><li>局部混入 // App.vue or 某一组件中 
  <ul><li><code>import {xxx,yyy} from '/mixin'</code></li><li><code>mixins:[xxx,yyy]</code></li></ul> </li></ul>
<h3><a id="_1240"></a>插件</h3>
<p>独立的 js 文件</p>
<pre><code class="prism language-js"><span class="token comment">// 1 定义插件 plugins.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">install</span><span class="token punctuation">(</span>Vue<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span>
    <span class="token comment">// 1. 添加全局过滤器</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'mySlice'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">sclice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 2. 添加全局指令</span>
    Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'fbind'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> el<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>el<span class="token punctuation">.</span>value <span class="token operator">=</span> 		binding<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 3. 配置全局混入(合)</span>
    Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 4. 添加实例方法</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxxx
                                           
    <span class="token comment">// 5. 添加全局组件</span>
    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'myButton'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>                                       
<span class="token punctuation">}</span>

<span class="token comment">// 2 引入插件 main.js</span>
<span class="token keyword">import</span> myBtn <span class="token keyword">from</span> <span class="token string">'@/plugin/plugins.js'</span>
<span class="token comment">// 3 使用自定义插件</span>
<span class="token operator">&lt;</span>my<span class="token operator">-</span>button<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<h3><a id="_1277"></a>插槽</h3>
<blockquote>
<p>插槽（Slot）是 vue 为组件的封装者提供的能力。允许开发者在封装组件时，把不确定的、希望由用户指定的部分定义为插槽。</p>
</blockquote>
<blockquote>
<p>可以把插槽认为是组件封装期间，为用户预留的内容的占位符。</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b498ef330002445e865584f044ae2f27.png#pic_center"/></p>
<h5><a id="_1286"></a>基础用法：</h5>
<p>在 <code>&lt;template&gt;</code> 中 通过<code>&lt;slot&gt;&lt;/slot&gt;</code>，为用户预留内容占位符</p>
<p><code>&lt;my-com-1&gt; &lt;p&gt;用户自定义的内容 &lt;/p&gt; &lt;/my-com-1&gt;</code></p>
<ul><li>默认情况下，在使用组件时，提供的内容会被填充到名字为 <code>default</code> 的插槽中</li></ul>
<p><strong>没有预留插槽的内容会被丢弃</strong></p>
<p><strong>后备内容</strong></p>
<blockquote>
<p>即 <code>&lt;slot&gt;</code> <strong>标签里面</strong>的 默认内容</p>
</blockquote>
<h5><a id="_1302"></a>具名插槽</h5>
<blockquote>
<p>如果在封装组件时需要预留多个插槽节点，则需要为每个 插槽指定具体的 name 名称。这种带有具体名称的插槽叫做“具名插槽”。</p>
</blockquote>
<p><code>&lt;slot name="header"&gt;&lt;/slot&gt;</code></p>
<p>如果省略了 slot 的 name 属性就是 <code>&lt;slot name="default"&gt;&lt;/slot&gt;</code></p>
<p><strong>为具名插槽提供内容</strong></p>
<blockquote>
<p>在向具名插槽提供内容的时候，我们可以在一个 元素上使用<code> v-slot</code> 指令，并以 v-slot 的参数的形式提供其名称。</p>
</blockquote>
<p><code>v-slot:header</code> <strong>只能加给</strong> <code>&lt;template&gt; </code> 只起到包裹作用</p>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>my<span class="token operator">-</span>com<span class="token operator">-</span><span class="token number">2</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>header<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>ittle<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>ittle<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>my<span class="token operator">-</span>com<span class="token operator">-</span><span class="token number">2</span><span class="token operator">&gt;</span>        
</code></pre>
<ul><li><strong>具名插槽的简写形式</strong>
<ul><li><code>v-slot：</code> =&gt; <code>#</code></li><li>外面没有 template包裹只能写 <code>slot="slotName"</code></li></ul> </li></ul>
<h5><a id="_1334"></a>作用域插槽</h5>
<blockquote>
<p>在封装组件的过程中，可以为预留的 插槽绑定 props 数据，这种带有 props 数据的 叫做“作用域插槽”。</p>
</blockquote>
<p>组件（用 <code>slot</code>传）传数据给插槽使用者（用 <code>template</code>接收）</p>
<p>插槽使用者接收</p>
<ul><li>匿名插槽 
  <ul><li><code>&lt;template scope="xx{games}"&gt;</code></li><li>只能有一个</li></ul> </li><li>具名插槽 
  <ul><li><code>&lt;tempalte #header="{msg,user}"&gt;</code></li></ul> </li></ul>
<p><code>&lt;slot v-for="item in list" :user="item" msg="hello"&gt;&lt;/slot&gt;</code></p>
<p><strong>使用作用域插槽</strong></p>
<blockquote>
<p>可以使用 v-slot: 的形式，接收作用域插槽对外提供的数据。</p>
</blockquote>
<p><code>&lt;template #header="scope"&gt; {<!-- -->{scope}} // 使用作用域插槽的数据 &lt;/template&gt;</code> 直接接受一个对象 scope</p>
<p><strong>解构插槽 Prop</strong></p>
<blockquote>
<p>作用域插槽对外提供的数据对象，可以使用解构赋值简化数据的接收过程。（子传父）</p>
</blockquote>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template #author<span class="token operator">=</span><span class="token string">"{msg,user}"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>一行<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre>
<h3><a id="_1370"></a>自定义指令</h3>
<h5><a id="_1372"></a>私有自定义指令</h5>
<blockquote>
<p>当指令第一次被绑定到元素上的时候，会立即触发 bind()</p>
</blockquote>
<p>1 在 directives 节点下<strong>声明</strong>私有自定义指令。</p>
<pre><code class="prism language-js"><span class="token literal-property property">directives</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// el 是绑定了此指令的、原生的 DOM 对象</span>
            el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>2 <strong>使用指令</strong></p>
<p><code>&lt;h1 v-color&gt; APP 组件 &lt;/h1&gt;</code></p>
<p>为自定义指令 <strong>动态绑定参数值</strong></p>
<pre><code class="prism language-js"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'red'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>h1 v<span class="token operator">-</span>color<span class="token operator">=</span><span class="token string">"color"</span><span class="token operator">&gt;</span>App 组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre>
<p>通过 <strong>binding</strong> 获取指令的参数值</p>
<blockquote>
<p>在声明自定义指令时，可以通过形参中的第二个参数，来接收指令的参数值：</p>
</blockquote>
<pre><code class="prism language-js"><span class="token literal-property property">directives</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 通过 binging 对象的 .value 属性，获取动态的参数值</span>
            <span class="token comment">// 标签上写 v-color="'red'"/ v-color="color" 都可</span>
            el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>update 函数</strong></p>
<blockquote>
<p>bind 函数<strong>只调用 1</strong> 次：当指令第一次绑定到元素时调用，当 DOM 更新时 bind 函数不会被触发。 update 函数会在每次 DOM 更新时被调用。</p>
</blockquote>
<pre><code class="prism language-js"><span class="token literal-property property">directives</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 当指令第一次被绑定到元素时被调用（必写）</span>
        <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 通过 binging 对象的 .value 属性，获取动态的参数值</span>
            el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 每次 DOM 更新时被调用</span>
        <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>函数简写</strong></p>
<blockquote>
<p>如果 bind 和 update 函数中的逻辑完全相同，则对象格式的自定义指令可以简写成函数格式：</p>
</blockquote>
<pre><code class="prism language-js"><span class="token literal-property property">directives</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">color</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">// 'big-number'(el,binding)</span>
            el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>全局自定义指令</strong></p>
<blockquote>
<p>全局共享的自定义指令需要通过“Vue.directive()”进行声明</p>
</blockquote>
<pre><code class="prism language-js">Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<pre><code class="prism language-js"><span class="token comment">//定义全局指令</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'fbind'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//指令与元素成功绑定时（一上来）</span>
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在元素被插入页面时</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//指令所在的模板被重新解析时</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">el</span><span class="token operator">:</span><span class="token string">'#root'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">n</span><span class="token operator">:</span><span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">directives</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//big 函数何时会被调用？1.指令与元素成功绑定时（一上来）。2.指令所在的模板被重新解析时。</span>
        <span class="token comment">/* 'big-number'(element,binding){
            // console.log('big')
            element.innerText = binding.value * 10
        }, */</span>
        <span class="token function">big</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'big'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//注意此处的 this 是 window</span>
            <span class="token comment">// console.log('big')</span>
            element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fbind</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//指令与元素成功绑定时（一上来）</span>
            <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 此处的 this 为 window</span>
                element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//指令所在元素被插入页面时</span>
            <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//指令所在的模板被重新解析时</span>
            <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>参数：</p>
<pre><code class="prism language-js">el：是绑定了此指令的、原生的 <span class="token constant">DOM</span> 对象

bing： 指令核心对象，描述指令全部信息属性。通过 bing 对象的 <span class="token punctuation">.</span>value 属性，获取动态的参数值 <span class="token punctuation">{<!-- --></span>value<span class="token punctuation">}</span> <span class="token operator">=</span> bing

name：指令名

value：指令的绑定值

oldValue：指令绑定的前一个值，仅在 update和 componentUpdated钩子中可用。

expression：绑定值的字符串形式。

arg：传给指令的参数

modifers：modifiers：一个包含修饰符的对象。

vnode  虚拟节点
oldVnode：上一个虚拟节点（更新钩子函数中才有用）
</code></pre>
<h3><a id="ESLint_1543"></a>ESLint</h3>
<blockquote>
<p>约束代码风格，可组装的JavaScript 和 JSX检查工具</p>
</blockquote>
<p>ctrl + F 可以 查找规则</p>
<h2><a id="1_1551"></a>路由1</h2>
<h4><a id="_1553"></a>前端路由的概念与原理</h4>
<blockquote>
<p>路由（英文：router）就是对应关系。</p>
</blockquote>
<h5><a id="SPA__1557"></a>SPA 与前端路由</h5>
<blockquote>
<p>在 SPA 项目中，不同功能之间的切换，要依赖于前端路由来完成</p>
</blockquote>
<p><strong>前端路由</strong></p>
<blockquote>
<p><strong>Hash 地址</strong>与<strong>组件</strong>之间的<strong>对应关系</strong>。</p>
</blockquote>
<p>前端路由：key是路径，value是组件。</p>
<p><strong>锚链接 #</strong></p>
<ul><li>都属于Hash地址</li><li><code>&lt;a href="#b1"&gt;b1&lt;/a&gt;</code> <code>&lt;div id="b1"&gt;&lt;/div&gt;</code></li></ul>
<p><strong>前端路由的工作方式</strong></p>
<p>① 用户点击了页面上的路由链接</p>
<p>② 导致了 URL 地址栏中的 Hash 值发生了变化</p>
<p>③ 前端路由监听了到 Hash 地址的变化</p>
<p>④ 前端路由把当前 Hash 地址对应的组件渲染都浏览器中</p>
<p><strong>实现简易的前端路由</strong></p>
<p>1 通过 <code>&lt;component&gt;</code> 标签，结合 comName 动态渲染组件</p>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>component <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">"comName"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'App'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">comName</span><span class="token operator">:</span><span class="token string">'Home'</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>2 在 App.vue 组件中，为  链接添加对应的 hash 值：</p>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#/home"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#/movie"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"#/about"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre>
<p>3 在 created 生命周期函数中，监听浏览器地址栏中 hash 地址的变化，动态切换要展示的组件的名称:</p>
<pre><code class="prism language-js"><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token string">'#home'</span><span class="token operator">:</span> <span class="token comment">// 点击了首页链接</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>comName <span class="token operator">=</span> <span class="token string">'Home'</span>
                <span class="token keyword">break</span>
            <span class="token keyword">case</span> <span class="token string">'#movie'</span><span class="token operator">:</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>comName <span class="token operator">=</span> <span class="token string">'Moive'</span>
                <span class="token keyword">break</span> 
            <span class="token keyword">case</span> <span class="token string">'#about'</span><span class="token operator">:</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>comName <span class="token operator">=</span> <span class="token string">'About'</span>
                <span class="token keyword">break</span>    
             
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="vuerouter_1630"></a>vue-router</h4>
<blockquote>
<p>vue-router 是 vue.js 官方给出的路由解决方案。它只能结合 vue 项目进行使用，能够轻松的管理 SPA 项目中组件的切换。</p>
</blockquote>
<h5><a id="vuerouter__1634"></a>vue-router 安装和配置的步骤</h5>
<p>① 安装 vue-router 包</p>
<ul><li>npm i vue-router@3.5.2 -S</li></ul>
<p>② 创建路由模块</p>
<ul><li> <p>在 src 源代码目录下，新建 router/index.js 路由模块，并初始化如下的代码：</p> <pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'Vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">// 调用 Vue.use() 函数，把 VueRouter 安装为 Vue 插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> </li></ul>
<p>③ 导入并挂载路由模块</p>
<ul><li> <p>在 src/main.js 入口文件中，导入并挂载路由模块。</p> <pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token comment">// 1 导入路由模块</span>
<span class="token comment">// 在进行模块化导入时，如果给定的是文件夹，则默认导入这个文件夹，名字叫做 index.js 的文件</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router'</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token function-variable function">render</span><span class="token operator">:</span><span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 2 挂载路由模块</span>
    <span class="token literal-property property">router</span><span class="token operator">:</span>router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> </li></ul>
<p>④ 声明路由链接和占位符</p>
<ul><li>在 src/App.vue 组件中，使用 vue-router 提供的 <code>&lt;router-link&gt; </code>和 <code>&lt;router-view&gt;</code> 声明路由链接和占位符：</li></ul>
<pre><code> &lt;template&gt;
      &lt;div class='app-container'&gt;
          &lt;h1&gt; App 组件 &lt;/h1&gt;
  
  		// 定义路由链接
  		&lt;router-link to="/home"&gt;首页&lt;/router-link&gt;
  		&lt;router-link to="/movie"&gt;电影&lt;/router-link&gt;
  		&lt;router-link to="/about"&gt;关于&lt;/router-link&gt;
  
  		&lt;hr&gt;
           // 定义路由的占位符  
          &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/template&gt;
</code></pre>
<h5><a id="_1694"></a>声明路由的匹配规则</h5>
<ul><li> <p>在 src/router/index.js 路由模块中，通过 routes 数组声明路由的匹配规则。</p> <pre><code class="prism language-js"><span class="token comment">// 导入需要使用路由切换展示的组件</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/components/Home.vue'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/components/Movie.vue'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/components/About.vue'</span>

<span class="token comment">// 创建路由的实例对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">routers</span><span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">// 在 routes 数组中，声明路由的匹配规则</span>
        
        <span class="token comment">// 路由规则</span>
        <span class="token comment">// path 表示要匹配的 hash 地址；component表示要展示的路由组件</span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/movie'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Movie<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>About<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li></ul>
<p>vue-router 的常见用法</p>
<h5><a id="_1719"></a>路由重定向</h5>
<blockquote>
<p>路由重定向指的是：用户在访问地址 A 的时候，<strong>强制</strong>用户跳转到地址 C ，从而展示特定的组件页面。通过路由规则的 redirect 属性，指定一个新的路由地址，可以很方便地设置路由的重定向：</p>
</blockquote>
<pre><code class="prism language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">routers</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">// 当用户访问 / 时，通过 redirect 属性跳转到 /home 对应的路由规则 </span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">}</span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/movie'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Movie<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>About<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>嵌套路由</strong></p>
<blockquote>
<p>通过路由实现组件的嵌套展示，叫做嵌套路由。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/780c63b2b9e743718a39ae65d4d79554.png#pic_center"/></p>
</blockquote>
<ul><li>点击父级路由链接显示模板内容</li></ul>
<p>1 声明子路由链接和子路由占位符</p>
<ul><li> <p>在 About.vue 组件中，声明 tab1 和 tab2 的子路由链接以及子路由占位符。</p> <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"about-container"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>About 组件<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
		<span class="token comment">// 在关于页面中，声明两个子路由链接</span>
		<span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/about/tab1"</span><span class="token operator">&gt;</span>tab1<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/about/tab2"</span><span class="token operator">&gt;</span>tab2<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>hr<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> </li></ul>
<p>2 通过 children 属性声明子路由规则</p>
<p>在 src/router/index.js 路由模块中，导入需要的组件，并使用 children 属性声明子路由规则</p>
<pre><code class="prism language-js"><span class="token keyword">import</span> Tab1 <span class="token keyword">from</span> <span class="token string">'@/component/tabs/Tab1.vue'</span>
<span class="token keyword">import</span> Tab1 <span class="token keyword">from</span> <span class="token string">'@/component/tabs/Tab2.vue'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">routers</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token comment">// about 页面的路由规则（父级路由规则）</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">component</span><span class="token operator">:</span>About<span class="token punctuation">,</span>
            <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">// 通过children 属性，嵌套声明子级路由规则</span>
                <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'tab1'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Tab1<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 访问 /about/tab1</span>
                <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'tab2'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Tab2<span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h5><a id="_1781"></a><strong>动态路由匹配</strong></h5>
<blockquote>
<p>动态路由指的是：把 Hash 地址中可变的部分定义为参数项，从而提高路由规则的复用性。</p>
</blockquote>
<p><code>&lt; path:'/movie/:id',component:Movie</code></p>
<p><strong>$route.params</strong> 路由参数对象</p>
<blockquote>
<p>在动态路由渲染出来的组件中，可以使用 this.$route.params 对象访问到动态匹配的参数值。</p>
</blockquote>
<pre><code class="prism language-js">在 <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>中使用 <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">}</span>

在 <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span> 中写 <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'Movie'</span> <span class="token punctuation">}</span>
</code></pre>
<h5><a id="query_1799"></a>路由的query参数</h5>
<p><strong>传递参数</strong></p>
<pre><code class="prism language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转并携带query参数，to的字符串写法 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">"`/about/message/detail?id=${item.id}&amp;title=${item.title}`"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
				
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 跳转并携带query参数，to的对象写法 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>router<span class="token operator">-</span>link 
	<span class="token operator">:</span>to<span class="token operator">=</span>"<span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home/message/detail'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">query</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		   <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">666</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span><span class="token string">'你好'</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>"
<span class="token operator">&gt;</span>跳转<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre>
<p><strong>接收查询参数：</strong></p>
<pre><code class="prism language-js">$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
</code></pre>
<blockquote>
<p>为了简化路由参数的获取形式，vue-router 允许在路由规则中开启 props 传参。</p>
</blockquote>
<p><code>&lt; path:'/movie/:id',component:Movie, props:true</code>&gt;</p>
<p>在 Movie 组件中写 props:[‘id’]</p>
<p><strong>直接使用 props 中接收的路由参数</strong></p>
<p><code>&lt;h3&gt;{<!-- -->{ id }}&lt;/h3&gt;</code></p>
<p>或者 <code>$route.params.id</code></p>
<p><strong>注意：</strong></p>
<p>1 ‘/’ 后面的参数叫做 路径参数</p>
<ul><li>使用 <code>$route.params.id</code> 访问 路径参数</li></ul>
<p>2 ‘?’ 后面叫查询参数</p>
<ul><li>使用 <code>$route.query.z</code> 访问 查询参数</li></ul>
<p>3 在 this.$route 中 path 只是路径的一部分， fullPath 是完整的地址</p>
<p>4 params 与 query 的区别</p>
<ul><li>params传参：是在内存中传参，刷新会丢失</li><li>query传参：是在地址栏传参，刷新还在</li></ul>
<h5><a id="___1857"></a><strong>声明式导航 &amp; 编程式导航</strong></h5>
<blockquote>
<p>在浏览器中，点击链接实现导航的方式，叫做声明式导航。</p>
</blockquote>
<ul><li>普通网页中点击  链接、vue 项目中点击 都属于声明式导航</li></ul>
<blockquote>
<p>在浏览器中，调用 API 方法实现导航的方式，叫做编程式导航。</p>
</blockquote>
<ul><li>普通网页中调用 location.href 跳转到新页面的方式，属于编程式导航</li></ul>
<p><strong>vue-router 中的 编程式导航 API</strong></p>
<p>① this.$router.push(‘hash 地址’)</p>
<ul><li> <p>跳转到指定 hash 地址，并增加一条历史记录，展示对应的组件页面。</p> </li><li> <pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">mehtods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">getoMovie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/movie/1'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul>
<p>② this.$router.replace(‘hash 地址’)</p>
<ul><li>跳转到指定的 hash 地址，不会增加历史记录并替换掉当前的历史记录</li></ul>
<p>③ this.$router.go(数值 n)</p>
<ul><li> <p>实现导航历史前进、后退</p> </li><li> <pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>如果后退的层数超过上限，则原地不动</p> </li><li> <p>$router.go 的简化用法</p>
<ul><li>① $router.back()</li><li>② $router.forward()</li></ul> </li></ul>
<p><strong>导航守卫</strong></p>
<blockquote>
<p>导航守卫可以控制路由的访问权限。</p>
</blockquote>
<p><strong>全局前置守卫</strong></p>
<blockquote>
<p><strong>每次发生路由的导航跳转时，都会触发全局前置守卫</strong>。因此，在全局前置守卫中，程序员可以对每个路由进行访问权限的控制：</p>
</blockquote>
<pre><code class="prism language-js"><span class="token keyword">const</span> router <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                       
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>                       
</code></pre>
<p><strong>守卫方法的 3 个形参</strong></p>
<pre><code class="prism language-js"><span class="token keyword">const</span> router <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                       
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// to 是将要访问的路由的信息对象</span>
    <span class="token comment">// from 是将要离开的路由的信息对象</span>
    <span class="token comment">// next 是一个函数，调用 next() 表示放行，允许这次路由导航</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>     
</code></pre>
<p><strong>next 函数的 3 种调用方式</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2516dfb1c5f348899a7ef0c010c49d2f.png#pic_center"/></p>
<p><strong>控制后台主页的访问权限</strong></p>
<pre><code class="prism language-js">router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">(</span>to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next<span class="token punctuation">)</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">'/main'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> token <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 访问的是后台主页，且有 token 的值</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 访问的不是后台主页，直接发行</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a id="2_1959"></a>路由2</h2>
<ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li><li>前端路由：key是路径，value是组件。</li></ol>
<h3><a id="1_1964"></a>1.基本使用</h3>
<ol><li> <p>安装vue-router，命令：<code>npm i vue-router</code></p> </li><li> <p>应用插件：<code>Vue.use(VueRouter)</code></p> </li><li> <p>编写router配置项:</p> <pre><code class="prism language-js"><span class="token comment">// router/index.js</span>
<span class="token comment">//引入VueRouter</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入Luyou 组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../components/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home'</span>

<span class="token comment">//创建router实例对象，去管理一组一组的路由规则</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>About
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>Home
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//暴露router</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> </li><li> <p>实现切换（active-class可配置高亮样式）</p> <pre><code class="prism language-vue">&lt;router-link active-class="active" to="/about"&gt;About&lt;/router-link&gt;
</code></pre> </li><li> <p>指定展示位置</p> <pre><code class="prism language-vue">&lt;router-view&gt;&lt;/router-view&gt;
</code></pre> </li></ol>
<h3><a id="2_2010"></a>2.几个注意点</h3>
<ol><li>路由组件通常存放在<code>pages</code>文件夹，一般组件通常存放在<code>components</code>文件夹。</li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息。</li><li>整个应用只有一个router，可以通过组件的<code>$router</code>属性获取到。</li></ol>
<h3><a id="3_2017"></a>3.多级路由（多级路由）</h3>
<ol><li> <p>配置路由规则，使用children配置项：</p> <pre><code class="prism language-js"><span class="token comment">//  router/index.js</span>
<span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">component</span><span class="token operator">:</span>About<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">,</span>
		<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">//通过children配置子级路由</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span> <span class="token comment">//此处一定不要写：/news</span>
				<span class="token literal-property property">component</span><span class="token operator">:</span>News
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span><span class="token comment">//此处一定不要写：/message</span>
				<span class="token literal-property property">component</span><span class="token operator">:</span>Message
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> </li><li> <p>跳转（要写完整路径）：</p> <pre><code class="prism language-vue">&lt;router-link to="/home/news"&gt;News&lt;/router-link&gt;
</code></pre> </li></ol>
<h3><a id="4query_2051"></a>4.路由的query参数</h3>
<ol><li> <p>传递参数</p> <pre><code class="prism language-vue">// Message.vue
&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;
&lt;router-link :to="/home/message/detail?id=666&amp;title=你好"&gt;跳转&lt;/router-link&gt;  // 页面中不需要
				
&lt;!-- 跳转并携带query参数，to的对象写法 --&gt;
&lt;router-link 
	:to="{
		path:'/home/message/detail',
		query:{
		   id:666,
            title:'你好'
		}
	}"
&gt;跳转&lt;/router-link&gt;
</code></pre> </li><li> <p>接收参数：</p> <pre><code class="prism language-js"><span class="token comment">// Detail.vue</span>
$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
</code></pre> </li></ol>
<h3><a id="5_2080"></a>5.命名路由</h3>
<ol><li> <p>作用：可以简化路由的跳转。</p> </li><li> <p>如何使用</p>
<ol><li> <p>给路由命名：</p> <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/demo'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">component</span><span class="token operator">:</span>Demo<span class="token punctuation">,</span>
	<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'test'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>Test<span class="token punctuation">,</span>
			<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
                      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'hello'</span> <span class="token comment">//给路由命名</span>
					<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'welcome'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">component</span><span class="token operator">:</span>Hello<span class="token punctuation">,</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>简化跳转：</p> <pre><code class="prism language-vue">&lt;!--简化前，需要写完整的路径 --&gt;
&lt;router-link to="/demo/test/welcome"&gt;跳转&lt;/router-link&gt;

&lt;!--简化后，直接通过名字跳转 --&gt;
&lt;router-link :to="{name:'hello'}"&gt;跳转&lt;/router-link&gt;

&lt;!--简化写法配合传递参数 --&gt;
&lt;router-link 
	:to="{
		name:'hello',
		query:{
		   id:666,
            title:'你好'
		}
	}"
&gt;跳转&lt;/router-link&gt;
</code></pre> </li></ol> </li></ol>
<h3><a id="6params_2129"></a>6.路由的params参数</h3>
<ol><li> <p>配置路由，声明接收params参数</p> </li><li> <p><code>:</code> 占位符</p> </li><li> <p>页面必需的参数，使用内嵌参数 params</p> <pre><code class="prism language-js"><span class="token comment">//  router/index.js</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">,</span>
	<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>News
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>Message<span class="token punctuation">,</span>
			<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'detail/:id/:title'</span><span class="token punctuation">,</span> <span class="token comment">//使用占位符声明接收params参数</span>
					<span class="token literal-property property">component</span><span class="token operator">:</span>Detail
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>传递参数</p> <pre><code class="prism language-vue">&lt;!-- 跳转并携带params参数，to的字符串写法 --&gt;
&lt;router-link :to="`/home/message/detail/${<!-- -->{item.id}}/${<!-- -->{item.title}}`"&gt;跳转&lt;/router-link&gt;
				
&lt;!-- 跳转并携带params参数，to的对象写法 --&gt;
&lt;router-link 
	:to="{
	name:'xiangqing', //params to的对象写法不能写 path name是路由的名字
		params:{
		   id:666,
            title:'你好'
		}
	}"
&gt;跳转&lt;/router-link&gt;
</code></pre>
<blockquote>
<p>特别注意：路由携带params参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</p>
</blockquote> </li><li> <p>接收参数：</p> <pre><code class="prism language-js"><span class="token comment">// Detail.vue</span>
$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title
</code></pre> </li></ol>
<h3><a id="7props_2189"></a>7.路由的props配置</h3>
<p>​ 作用：让路由组件更方便的<code>收到参数</code></p>
<pre><code class="prism language-js"><span class="token comment">//  router/index.js</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'detail/:id'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">component</span><span class="token operator">:</span>Detail<span class="token punctuation">,</span>

	<span class="token comment">//第一种写法：props值为对象，该对象中所有的`key-value`的组合最终都会通过props传给Detail组件（传递死数据，不常用）</span>
	<span class="token comment">// props:{a:900,b:10} // Detail.vue -&gt; props:['a','b']</span>

	<span class="token comment">//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有`params`参数通过props传给Detail组件（query参数收不到</span>
	<span class="token comment">// props:true</span>
	
	<span class="token comment">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件 （推荐）</span>
	<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span> query <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">// $route</span>
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
			<span class="token literal-property property">title</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
    <span class="token comment">// 连续解构赋值</span>
    <span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> id<span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> title <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="8routerlinkreplace_2220"></a>8.<code>&lt;router-link&gt;</code>的replace属性</h3>
<ol><li>作用：控制路由跳转时操作浏览器历史记录的模式</li><li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code></li><li>如何开启<code>replace</code>模式：<code>&lt;router-link replace&gt;News&lt;/router-link&gt;</code></li></ol>
<h3><a id="9_2226"></a>9.编程式路由导航</h3>
<ol><li> <p>作用：不借助<code>&lt;router-link&gt; </code>实现路由跳转，让路由跳转更加灵活</p> </li><li> <p>具体编码：</p> <pre><code class="prism language-js"><span class="token comment">//$router的两个API</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span>xxx<span class="token punctuation">,</span>
			<span class="token literal-property property">title</span><span class="token operator">:</span>xxx
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span> <span class="token comment">// 可以任意指定name跳转</span>
		<span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span>xxx<span class="token punctuation">,</span>
			<span class="token literal-property property">title</span><span class="token operator">:</span>xxx
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//前进</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//后退</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//可前进也可后退</span>

<span class="token literal-property property">$route</span><span class="token operator">:</span> 路由规则
<span class="token literal-property property">$router</span><span class="token operator">:</span> 路由器
</code></pre> </li></ol>
<h3><a id="10_2257"></a>10.缓存路由组件</h3>
<ol><li> <p>作用：让不展示的路由组件保持挂载，不被销毁。</p> </li><li> <p>具体编码：</p> <pre><code class="prism language-vue">&lt;keep-alive include="News"&gt; 
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/keep-alive&gt;
</code></pre> </li></ol>
<h3><a id="11_2269"></a>11.两个新的生命周期钩子</h3>
<ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li><li>具体名字： 
  <ol><li><code>activated</code>路由组件被激活时触发。</li><li><code>deactivated</code>路由组件失活时触发。</li></ol> </li></ol>
<h3><a id="12_2276"></a>12.路由守卫</h3>
<ol><li> <p>作用：对路由进行权限控制</p> </li><li> <p>分类：全局守卫、独享守卫、组件内守卫</p> </li><li> <p>全局守卫:</p> <pre><code class="prism language-js"><span class="token comment">//全局前置守卫：初始化时执行、每次路由切换前执行</span>

<span class="token comment">// 在需要鉴权的路由规则下：</span>
<span class="token literal-property property">meta</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">isAuth</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//权限控制的具体规则</span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//放行</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
			<span class="token comment">// next({name:'guanyu'})</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//放行</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//全局后置守卫：初始化时执行、每次路由切换后执行</span>
<span class="token comment">// 作用：点击改变页面 title</span>
<span class="token comment">// routes: meta:{title:'about'}</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
		document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token comment">//修改网页的title</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'vue_test'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>独享守卫:</p> <pre><code class="prism language-js"><span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
			<span class="token comment">// next({name:'guanyu'})</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>组件内守卫：</p> <pre><code class="prism language-js"><span class="token comment">//进入守卫：通过`路由规则`，进入该组件时被调用</span>
<span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">//离开守卫：通过`路由规则`，离开该组件时被调用</span>
<span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li></ol>
<h3><a id="13_2346"></a>13.路由器的两种工作模式</h3>
<pre><code class="prism language-js"><span class="token number">1.</span> 对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值。

<span class="token number">2.</span> hash值不会包含在 <span class="token constant">HTTP</span> 请求中，即：hash值不会带给服务器。

<span class="token number">3.</span> hash模式：
   <span class="token number">1.</span> 地址中永远带着#号，不美观 。
   <span class="token number">2.</span> 若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。
   <span class="token number">3.</span> 兼容性较好。
   
<span class="token number">4.</span> history模式：
   <span class="token number">1.</span> 地址干净，美观 。
   <span class="token number">2.</span> 兼容性和hash模式相比略差。
   <span class="token number">3.</span> 应用部署上线时需要后端人员支持，解决刷新页面服务端<span class="token number">404</span>的问题。<span class="token comment">// nginx</span>
   
<span class="token comment">// router:</span>
   <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">'hash/history'</span>
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/6e0a3ca52cd5415a9e0a3f821e1f792c.png#pic_center"/></p>
<h3><a id="404_2368"></a>路由404</h3>
<p><code>{path:'*',component:NotFound}</code></p>
<h3><a id="___2372"></a>声明式导航 - 两个类名</h3>
<blockquote>
<p>router-link会自动给当前导航添加两个类名</p>
</blockquote>
<pre><code class="prism language-js">router<span class="token operator">-</span>link<span class="token operator">-</span>active<span class="token operator">:</span> 激活的导航链接   模糊匹配
	to<span class="token operator">=</span><span class="token string">"/my"</span>  可以匹配   <span class="token operator">/</span>my      <span class="token operator">/</span>my<span class="token operator">/</span>a      <span class="token operator">/</span>my<span class="token operator">/</span>b    <span class="token operator">...</span><span class="token punctuation">.</span>
    
router<span class="token operator">-</span>link<span class="token operator">-</span>exact<span class="token operator">-</span>active<span class="token operator">:</span>  激活的导航链接 精确匹配
	to<span class="token operator">=</span><span class="token string">"/my"</span>  仅可以匹配   <span class="token operator">/</span>my

</code></pre>
<h2><a id="Vue_2389"></a>Vue封装的过度与动画</h2>
<ol><li> <p>作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名。</p> </li><li> <p>写法：</p>
<ol><li> <p>准备好样式：</p>
<ul><li>元素进入的样式： 
      <ol><li>v-enter：进入的起点</li><li>v-enter-active：进入过程中</li><li>v-enter-to：进入的终点</li></ol> </li><li>元素离开的样式： 
      <ol><li>v-leave：离开的起点</li><li>v-leave-active：离开过程中</li><li>v-leave-to：离开的终点</li></ol> </li><li>v 即 <code>&lt;transition&gt;</code>里的name 
      <ul><li><code>.hello-enter-active</code></li></ul> </li></ul> </li><li> <p>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置name属性：</p> <pre><code class="prism language-vue">&lt;transition name="hello"&gt;
	&lt;h1 v-show="isShow"&gt;你好啊！&lt;/h1&gt;
&lt;/transition&gt;
</code></pre> </li><li> <p>备注：若有多个元素需要过度，则需要使用：<code>&lt;transition-group&gt;</code>，且每个元素都要指定<code>key</code>值。</p> </li></ol> </li></ol>
<h2><a id="vue_2422"></a>vue脚手架配置代理</h2>
<h3><a id="_2424"></a>方法一</h3>
<p>​ 在vue.config.js中添加如下配置：</p>
<pre><code class="prism language-js"><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">proxy</span><span class="token operator">:</span><span class="token string">"http://localhost:5000"</span>
<span class="token punctuation">}</span>
</code></pre>
<p>说明：</p>
<ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li><li>8080 请求 5000</li></ol>
<h3><a id="_2441"></a>方法二</h3>
<p>​ 编写vue.config.js配置具体代理规则：</p>
<pre><code class="prism language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string-property property">'/api1'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token comment">// 匹配所有以 '/api1'开头的请求路径</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token string-property property">'^/api1'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">'/api2'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token comment">// 匹配所有以 '/api2'开头的请求路径</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:5001'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token string-property property">'^/api2'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000
   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080
   changeOrigin默认值为true
*/</span>
</code></pre>
<p>说明：</p>
<ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li><li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol>
<h3><a id="ES6_2476"></a>ES6模块化与异步编程高级用法</h3>
<h4><a id="ES6_2478"></a>ES6模块化</h4>
<blockquote>
<p>ES6 模块化规范是浏览器端与服务器端通用的模块化开发规范。开发者不需再额外学习 AMD、CMD 或 CommonJS 等模块化规范。</p>
</blockquote>
<h5><a id="_2482"></a>定义：</h5>
<ul><li> <p>每个 js 文件都是一个独立的模块</p> </li><li> <p>导入其它模块成员使用 import 关键字</p> </li><li> <p>向外共享模块成员使用 export 关键字</p> </li></ul>
<p>基于 node.js 学习 ES6需配置：</p>
<ol><li>v14.15.1以上版本的 node.js</li><li>在 package.json 的根节点中添加 “type”:“module”</li></ol>
<h5><a id="_2495"></a>语法：</h5>
<p>① 默认导出与默认导入</p>
<ul><li>默认导出： 
  <ul><li>语法：<code>export default{ 值类型成员，模块私有方法... }</code>（❗️<code>export default</code>只能使用一次）</li></ul> </li><li>默认导入： 
  <ul><li><code>import 接收名称 from '模块标识符'</code></li></ul> </li></ul>
<p>② 按需导出与按需导入</p>
<ul><li> <p>按需导入</p>
<ul><li><code>import { s1,say } from '模块标识符'</code></li></ul> </li><li> <p>按需导出</p>
<ul><li><code>export let s1 = 'ben';export function...</code></li></ul> </li><li> <p>注意：</p> <p>① 每个模块中可以使用多次按需导出</p> <p>② 按需导入的成员名称必须和按需导出的<strong>名称保持一致</strong></p> <p>③ 按需导入时，可以使用 as 关键字进行重命名</p> <p>④ 按需导入可以和默认导入一起使用</p> </li></ul>
<p>③ 直接导入并执行模块中的代码</p>
<blockquote>
<p>只想单纯地执行某个模块中的代码，并不需要得到模块中向外共享的成员。</p>
</blockquote>
<p><code>import '模块标识符'</code></p>
<h4><a id="starPromise_2530"></a>⭐️Promise</h4>
<p>回调地狱</p>
<blockquote>
<p>多层回调函数的相互嵌套，就形成了回调地狱。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/279f34ea18a44a27915665bff908378e.png#pic_center"/></p>
</blockquote>
<p>缺点：</p>
<ul><li>代码耦合性太强，牵一发而动全身，难以维护</li><li>大量冗余的代码相互嵌套，代码的可读性变差</li></ul>
<p>解决回调地狱–promise</p>
<h5><a id="_2545"></a>基本概念</h5>
<blockquote>
<p>Promise 是一个构造函数</p>
</blockquote>
<ul><li><code>const p = new Promise()// new实例 代表一个异步操作</code></li></ul>
<blockquote>
<p>Promise.prototype 上包含一个 .then() 方法</p>
</blockquote>
<ul><li>实例可以通过 原型链 的方式访问到 .then() 方法，p.then()</li></ul>
<blockquote>
<p>.then() 方法用来预先指定成功和失败的回调函数</p>
</blockquote>
<ul><li>p.then(成功的回调函数【必选】，失败的回调函数【可选】) 
  <ul><li>p.then(result =&gt; { }, error =&gt; { })</li></ul> </li></ul>
<h5><a id="_2560"></a>基于回调函数按顺序读取文件内容</h5>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/cd08f0d346c94696be8bca958b6d057e.png#pic_center"/></p>
<h5><a id="_thenfs__2564"></a>基于 then-fs 读取文件内容</h5>
<p>1 <code>import thenFs from 'then-fs'</code></p>
<p>2 <code>thenFs.readFile('./1.txt','utf8').then(r1 =&gt; {log r1},err1 =&gt; {log err1.message})</code>(重复写)</p>
<p>注意：失败回调可选，无法保证文件读取顺序</p>
<h5><a id="_Promise__2572"></a>基于 Promise 按顺序读取文件的内容</h5>
<blockquote>
<p>Promise 支持链式调用，从而来解决回调地狱的问题。</p>
</blockquote>
<pre><code class="prism language-js"><span class="token keyword">import</span> thenFs <span class="token keyword">from</span> <span class="token string">'then-fs'</span>

thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./1.txt'</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./2.txt'</span>，<span class="token string">'utf8'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./3.txt'</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r3</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r3<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h5><a id="_catch__2590"></a>通过 .catch 捕获错误</h5>
<pre><code class="prism language-js"><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>如果不希望前面的错误导致后续的 .then 无法正常执行，则可以将 .catch 的调用提前</p>
<pre><code class="prism language-js">thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./1.txt'</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>then<span class="token operator">...</span>
</code></pre>
<ul><li>捕获前面发生的错误，并输出错误的信息</li><li>由于错误已被及时处理，不影响后面 .then 的正常进行</li></ul>
<h5><a id="Promiseall_2607"></a>Promise.all()方法</h5>
<blockquote>
<p>Promise.all() 方法会发起并行的 Promise 异步操作，等所有的异步操作全部结束后才会执行下一步的 .then 操作（等待机制）。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/be767eac6a8e4de6a3ba0b57bc6eb0d7.png#pic_center"/></p>
</blockquote>
<h5><a id="Promiserace__2613"></a>Promise.race() 方法</h5>
<blockquote>
<p>Promise.race() 方法会发起并行的 Promise 异步操作，只要任何一个异步操作完成，就立即执行下一步的 .then 操作（赛跑机制）。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e2bc4e089fd145d082f2ac5724788739.png#pic_center"/></p>
</blockquote>
<h5><a id="_Promise__2619"></a>基于 Promise 封装读文件的方法</h5>
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">getFile</span><span class="token punctuation">(</span><span class="token parameter">fpath</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fpath<span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>dataStr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getFile</span><span class="token punctuation">(</span><span class="token string">'./1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span>
</code></pre>
<h4><a id="asyncawait_2634"></a>async/await</h4>
<blockquote>
<p>async/await 是 ES8（ECMAScript 2017）引入的新语法，用来简化 Promise 异步操作。在 async/await 出现之前，开发者只能通过链式 .then() 的方式处理 Promise 异步操作。</p>
</blockquote>
<pre><code class="prism language-js"><span class="token keyword">import</span> thenFs <span class="token keyword">from</span> <span class="token string">'then-fs'</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getAllFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token keyword">await</span> thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./1.txt'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token keyword">await</span> thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./2.txt'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> r3 <span class="token operator">=</span> <span class="token keyword">await</span> thenFs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./3.txt'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getAllFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>❗️注意</p>
<p>① 如果在 function 中使用了 await，则 function 必须被 async 修饰</p>
<p>② 在 async 方法中，第一个 await 之前的代码会同步执行，await 之后的代码会异步执行</p>
<h4><a id="starEventLoop_2656"></a>⭐️EventLoop</h4>
<p><strong>JavaScript 是单线程的语言</strong></p>
<blockquote>
<p>也就是说，同一时间只能做一件事情</p>
</blockquote>
<p>问题：</p>
<ul><li>如果前一个任务非常耗时，则后续的任务就不得不一直等待，从而导致<strong>程序假死</strong>的问题。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a8c7f70bfa9a4e97b3cb6dabacd1d33a.png#pic_center"/></li></ul>
<p><strong>同步任务和异步任务</strong></p>
<blockquote>
<p>JavaScript 把待执行的任务分为了两类,防止某个耗时任务导致程序假死</p>
</blockquote>
<p>① 同步任务（synchronous）</p>
<ul><li> <p>又叫做非耗时任务，指的是在主线程上排队执行的那些任务</p> </li><li> <p>只有前一个任务执行完毕，才能执行后一个任务</p> </li></ul>
<p>② 异步任务（asynchronous）</p>
<ul><li> <p>又叫做耗时任务，异步任务由 JavaScript 委托给宿主环境进行执行</p> </li><li> <p>当异步任务执行完成后，会通知 JavaScript 主线程执行异步任务的回调函数</p> </li></ul>
<p><strong>同步任务和异步任务的执行过程</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/3b580a6dd0a74b5bab0c197c756fd043.png#pic_center"/></p>
<p><strong>EventLoop 的基本概念</strong></p>
<blockquote>
<p>JavaScript 主线程从“任务队列”中读取异步任务的回调函数，放到执行栈中依次执行。这 个过程是循环不断的，所以整个的这种运行机制又称为 EventLoop（事件循环）。</p>
</blockquote>
<h4><a id="_2692"></a>宏任务和微任务</h4>
<blockquote>
<p>异步任务的两种类别</p>
</blockquote>
<p>js 主线程先执行完 宏任务 之后再判断有无微任务，没有再执行下一个 宏任务</p>
<p>① 宏任务（macrotask）</p>
<ul><li> <p>异步 Ajax 请求、</p> </li><li> <p>setTimeout、setInterval、</p> </li><li> <p>文件操作</p> </li><li> <p>其它宏任务</p> </li></ul>
<p>② 微任务（microtask）</p>
<ul><li> <p>Promise.then、.catch 和 .finally</p> </li><li> <p>process.nextTick</p> </li><li> <p>其它微任务</p> </li></ul>
<p><strong>宏任务和微任务的执行顺序</strong><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/dd9be714a01145c1bf77aef9e7d634ed.png#pic_center"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/847a28d57e1a4d90b213179cd17a0794.png#pic_center"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0d6ff3046bf54a259b9593b6bacc3e8a.png#pic_center"/><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/63144764bbc747eb9980a9d8ca1ca89a.png#pic_center"/></p>
<h4><a id="_2728"></a>前端工程化</h4>
<blockquote>
<p>组件化、模块化、规范化、自动化</p>
</blockquote>
<ul><li>前端工程化的解决方案 
  <ul><li>webpack（打包构建）</li><li>parcel</li></ul> </li></ul>
<p>webpack</p>
<ul><li>解决 浏览器不兼容 ES6 语法</li></ul>
<h3><a id="Vue_2742"></a>Vue的基本使用</h3>
<h4><a id="Vue_2744"></a>Vue全家桶</h4>
<ul><li>vue（核心库）</li><li>vue-router（路由方案）</li><li>vuex（状态管理方案）</li><li>vue 组件库（快速搭建页面 UI 效果的方案）</li></ul>
<p>工具：</p>
<p>vue-cli、vite、vue-devtools、vetur</p>
<div class="mermaid sequence-diagram">
<svg height="542" id="mermaid-svg-Ofc1hl4R1Q2XJzgA" style="max-width: 426px;" viewbox="0 0 426 542" width="100%" xmlns="http://www.w3.org/2000/svg">
<style>#mermaid-svg-Ofc1hl4R1Q2XJzgA {font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .error-icon{fill:#552222;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .marker{fill:#333333;stroke:#333333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .marker.cross{stroke:#333333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .cluster-label text{fill:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .cluster-label span{color:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .label text,#mermaid-svg-Ofc1hl4R1Q2XJzgA span{fill:#333;color:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .node rect,#mermaid-svg-Ofc1hl4R1Q2XJzgA .node circle,#mermaid-svg-Ofc1hl4R1Q2XJzgA .node ellipse,#mermaid-svg-Ofc1hl4R1Q2XJzgA .node polygon,#mermaid-svg-Ofc1hl4R1Q2XJzgA .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .node .label{text-align:center;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .node.clickable{cursor:pointer;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .arrowheadPath{fill:#333333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .cluster text{fill:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA .cluster span{color:#333;}#mermaid-svg-Ofc1hl4R1Q2XJzgA div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-Ofc1hl4R1Q2XJzgA :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g>
<g class="output">
<g class="clusters"></g>
<g class="edgePaths">
<g class="edgePath LS-构建用户界面 LE-指令" id="L-构建用户界面-指令" style="opacity: 1;">
<path class="path" d="M85.88541666666667,104L96.4045138888889,91.83333333333333C106.92361111111113,79.66666666666667,127.96180555555556,55.333333333333336,158.64756944444443,43.166666666666664C189.33333333333334,31,229.66666666666666,31,249.83333333333334,31L270,31" marker-end="url(#arrowhead29)" style="fill:none"></path>
<defs>
<marker id="arrowhead29" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
<path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
</marker>
</defs>
</g>
<g class="edgePath LS-构建用户界面 LE-数据驱动视图" id="L-构建用户界面-数据驱动视图" style="opacity: 1;">
<path class="path" d="M124,127L128.16666666666666,127C132.33333333333334,127,140.66666666666666,127,159.66666666666666,127C178.66666666666666,127,208.33333333333334,127,223.16666666666666,127L238,127" marker-end="url(#arrowhead30)" style="fill:none"></path>
<defs>
<marker id="arrowhead30" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
<path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
</marker>
</defs>
</g>
<g class="edgePath LS-构建用户界面 LE-事件绑定" id="L-构建用户界面-事件绑定" style="opacity: 1;">
<path class="path" d="M85.88541666666667,150L96.4045138888889,162.16666666666666C106.92361111111113,174.33333333333334,127.96180555555556,198.66666666666666,155.98090277777777,210.83333333333334C184,223,219,223,236.5,223L254,223" marker-end="url(#arrowhead31)" style="fill:none"></path>
<defs>
<marker id="arrowhead31" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
<path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
</marker>
</defs>
</g>
<g class="edgePath LS-前端框架 LE-构建用户界面的一整套解决方案" id="L-前端框架-构建用户界面的一整套解决方案" style="opacity: 1;">
<path class="path" d="M85.88541666666667,392L96.4045138888889,379.8333333333333C106.92361111111113,367.6666666666667,127.96180555555556,343.3333333333333,142.64756944444443,331.1666666666667C157.33333333333334,319,165.66666666666666,319,169.83333333333334,319L174,319" marker-end="url(#arrowhead32)" style="fill:none"></path>
<defs>
<marker id="arrowhead32" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
<path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
</marker>
</defs>
</g>
<g class="edgePath LS-前端框架 LE-vue全家桶" id="L-前端框架-vue全家桶" style="opacity: 1;">
<path class="path" d="M108,415L114.83333333333333,415C121.66666666666667,415,135.33333333333334,415,158.8912035624186,415C182.4490737915039,415,215.8981475830078,415,232.62268447875977,415L249.34722137451172,415" marker-end="url(#arrowhead33)" style="fill:none"></path>
<defs>
<marker id="arrowhead33" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
<path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
</marker>
</defs>
</g>
<g class="edgePath LS-前端框架 LE-配套工具" id="L-前端框架-配套工具" style="opacity: 1;">
<path class="path" d="M85.88541666666667,438L96.4045138888889,450.1666666666667C106.92361111111113,462.3333333333333,127.96180555555556,486.6666666666667,155.98090277777777,498.8333333333333C184,511,219,511,236.5,511L254,511" marker-end="url(#arrowhead34)" style="fill:none"></path>
<defs>
<marker id="arrowhead34" markerheight="6" markerunits="strokeWidth" markerwidth="8" orient="auto" refx="9" refy="5" viewbox="0 0 10 10">
<path class="arrowheadPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path>
</marker>
</defs>
</g>
</g>
<g class="edgeLabels">
<g class="edgeLabel" style="opacity: 1;" transform="">
<g class="label" transform="translate(0,0)">
<rect height="0" rx="0" ry="0" width="0"></rect>
<foreignobject height="0" width="0">
<div style="display: inline-block; white-space: nowrap;">
<span class="edgeLabel L-LS-构建用户界面' L-LE-指令" id="L-L-构建用户界面-指令"></span>
</div>
</foreignobject>
</g>
</g>
<g class="edgeLabel" style="opacity: 1;" transform="">
<g class="label" transform="translate(0,0)">
<rect height="0" rx="0" ry="0" width="0"></rect>
<foreignobject height="0" width="0">
<div style="display: inline-block; white-space: nowrap;">
<span class="edgeLabel L-LS-构建用户界面' L-LE-数据驱动视图" id="L-L-构建用户界面-数据驱动视图"></span>
</div>
</foreignobject>
</g>
</g>
<g class="edgeLabel" style="opacity: 1;" transform="">
<g class="label" transform="translate(0,0)">
<rect height="0" rx="0" ry="0" width="0"></rect>
<foreignobject height="0" width="0">
<div style="display: inline-block; white-space: nowrap;">
<span class="edgeLabel L-LS-构建用户界面' L-LE-事件绑定" id="L-L-构建用户界面-事件绑定"></span>
</div>
</foreignobject>
</g>
</g>
<g class="edgeLabel" style="opacity: 1;" transform="">
<g class="label" transform="translate(0,0)">
<rect height="0" rx="0" ry="0" width="0"></rect>
<foreignobject height="0" width="0">
<div style="display: inline-block; white-space: nowrap;">
<span class="edgeLabel L-LS-前端框架' L-LE-构建用户界面的一整套解决方案" id="L-L-前端框架-构建用户界面的一整套解决方案"></span>
</div>
</foreignobject>
</g>
</g>
<g class="edgeLabel" style="opacity: 1;" transform="">
<g class="label" transform="translate(0,0)">
<rect height="0" rx="0" ry="0" width="0"></rect>
<foreignobject height="0" width="0">
<div style="display: inline-block; white-space: nowrap;">
<span class="edgeLabel L-LS-前端框架' L-LE-vue全家桶" id="L-L-前端框架-vue全家桶"></span>
</div>
</foreignobject>
</g>
</g>
<g class="edgeLabel" style="opacity: 1;" transform="">
<g class="label" transform="translate(0,0)">
<rect height="0" rx="0" ry="0" width="0"></rect>
<foreignobject height="0" width="0">
<div style="display: inline-block; white-space: nowrap;">
<span class="edgeLabel L-LS-前端框架' L-LE-配套工具" id="L-L-前端框架-配套工具"></span>
</div>
</foreignobject>
</g>
</g>
</g>
<g class="nodes">
<g class="node default" id="flowchart-构建用户界面-36" style="opacity: 1;" transform="translate(66,127)">
<rect class="label-container" height="46" rx="0" ry="0" width="116" x="-58" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-48,-13)">
<foreignobject height="26" width="96">
<div style="display: inline-block; white-space: nowrap;">
          构建用户界面
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-指令-37" style="opacity: 1;" transform="translate(296,31)">
<rect class="label-container" height="46" rx="0" ry="0" width="52" x="-26" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-16,-13)">
<foreignobject height="26" width="32">
<div style="display: inline-block; white-space: nowrap;">
          指令
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-数据驱动视图-39" style="opacity: 1;" transform="translate(296,127)">
<rect class="label-container" height="46" rx="0" ry="0" width="116" x="-58" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-48,-13)">
<foreignobject height="26" width="96">
<div style="display: inline-block; white-space: nowrap;">
          数据驱动视图
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-事件绑定-41" style="opacity: 1;" transform="translate(296,223)">
<rect class="label-container" height="46" rx="0" ry="0" width="84" x="-42" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-32,-13)">
<foreignobject height="26" width="64">
<div style="display: inline-block; white-space: nowrap;">
          事件绑定
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-前端框架-42" style="opacity: 1;" transform="translate(66,415)">
<rect class="label-container" height="46" rx="0" ry="0" width="84" x="-42" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-32,-13)">
<foreignobject height="26" width="64">
<div style="display: inline-block; white-space: nowrap;">
          前端框架
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-构建用户界面的一整套解决方案-43" style="opacity: 1;" transform="translate(296,319)">
<rect class="label-container" height="46" rx="0" ry="0" width="244" x="-122" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-112,-13)">
<foreignobject height="26" width="224">
<div style="display: inline-block; white-space: nowrap;">
          构建用户界面的一整套解决方案
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-vue全家桶-45" style="opacity: 1;" transform="translate(296,415)">
<rect class="label-container" height="46" rx="0" ry="0" width="93.30555725097656" x="-46.65277862548828" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-36.65277862548828,-13)">
<foreignobject height="26" width="73.30555725097656">
<div style="display: inline-block; white-space: nowrap;">
          vue全家桶
         </div>
</foreignobject>
</g>
</g>
</g>
<g class="node default" id="flowchart-配套工具-47" style="opacity: 1;" transform="translate(296,511)">
<rect class="label-container" height="46" rx="0" ry="0" width="84" x="-42" y="-23"></rect>
<g class="label" transform="translate(0,0)">
<g transform="translate(-32,-13)">
<foreignobject height="26" width="64">
<div style="display: inline-block; white-space: nowrap;">
          配套工具
         </div>
</foreignobject>
</g>
</g>
</g>
</g>
</g>
</g>
</svg>
</div>
<h4><a id="Vue__2765"></a>Vue 特性</h4>
<ul><li> <p>数据驱动视图</p> </li><li> <p>双向数据绑定</p> </li></ul>
<p>Vue3 新增功能：</p>
<ul><li>组合式API、多根节点组件、更好的TypeScript支持</li></ul>
<p>废弃的旧功能：</p>
<ul><li> <p>过滤器、不再支持 <span class="katex--inline"><span class="katex"><span class="katex-mathml">
      
       
        
         
          o
         
         
          n
         
         
          、
         
        
        
         on 、
        
       
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">、</span></span></span></span></span>off 和 $once 实例方法等</p> </li><li> <p><a href="https://v3.vuejs.org/guide/migration/introduction.html">迁移指南</a></p> </li></ul>
<p><a href="https://v3.vuejs.org/guide/migration/filters.html#migration-strategy">过滤器(已剔除)</a></p>
<blockquote>
<p>过滤器（Filters）常用于文本的格式化。</p>
</blockquote>
<p>可以用在：</p>
<ol><li> <p>插值表达式</p> <p><code>{<!-- -->{msg | capitalize}}</code></p> </li><li> <p>v-bind 属性绑定</p> <p><code>:id="rawId | formatId"</code></p> </li></ol>
<h4><a id="_2795"></a>组件基础</h4>
<h5><a id="SPA_2797"></a>单页面应用程序（SPA）</h5>
<blockquote>
<p>一个 Web 网站中只有唯一的一个 HTML 页面，所有的功能与交互都在这唯一的一个页面内完成。</p>
</blockquote>
<p>SPA 特点：</p>
<ul><li> <p>将所有的功能局限于一个 web 页面中，仅在该 web 页面初始化时加载相应的资源（ HTML、JavaScript 和 CSS）。</p> </li><li> <p>一旦页面加载完成了，SPA 不会因为用户的操作而进行页面的重新加载或跳转。而是利用 JavaScript 动态地变换 HTML 的内容，从而实现页面与用户的交互。</p> </li></ul>
<p>SPA 优点：</p>
<ul><li>1 良好的交互体验 
  <ul><li>单页应用的内容的改变不需要重新加载整个页面</li><li>获取数据也是通过 Ajax 异步获取</li><li>没有页面之间的跳转，不会出现“白屏现象”</li></ul> </li><li>2 良好的前后端工作分离模式 
  <ul><li>后端专注于提供 API 接口，更易实现 API 接口的复用</li><li>前端专注于页面的渲染，更利于前端工程化的发展</li></ul> </li><li>3 减轻服务器的压力 
  <ul><li>服务器只提供数据，不负责页面的合成与逻辑的处理，吞吐能力会提高几倍</li></ul> </li></ul>
<p>SPA 缺点：</p>
<ul><li>1 首屏加载慢 
  <ul><li>路由懒加载</li><li>代码压缩</li><li>CDN 加速</li><li>网络传输压缩</li></ul> </li><li>2 不利于 SEO 
  <ul><li>SSR 服务器端渲染</li></ul> </li></ul>
<h5><a id="_SPA__2829"></a>两种快速创建工程化的 SPA 项目的方式：</h5>
<table><thead><tr><th></th><th>vite</th><th>vue-cli</th></tr></thead><tbody><tr><td>支持版本</td><td>仅支持 vue3</td><td>支持 3.x 和2.x</td></tr><tr><td>基于 webpack？</td><td>no</td><td>yes</td></tr><tr><td>运行速度</td><td>快</td><td>较慢</td></tr><tr><td>功能完整度</td><td>小而巧（逐渐完善</td><td>大而全</td></tr><tr><td>建议在企业级开发中使用？</td><td>目前不建议</td><td>建议</td></tr></tbody></table>
<h5><a id="_2839"></a>组件化开发思想</h5>
<blockquote>
<p>根据封装的思想，把页面上可重用的部分封装为组件，从而方便项目的开发和维护。</p>
</blockquote>
<p>好处：</p>
<ul><li> <p>提高了前端代码的复用性和灵活性</p> </li><li> <p>提升了开发效率和后期的可维护性</p> </li></ul>
<p>vue 是一个完全支持组件化开发的框架。vue 中规定组件的后缀名是 .vue。</p>
<p><strong>vue 组件组成结构</strong></p>
<ul><li>template -&gt; 组件的模板结构（必选）</li><li>script -&gt; 组件的 JavaScript 行为（可选） 
  <ul><li><code>&lt;script&gt; export default { name,data数据、methods方法...} &lt;/script&gt;</code></li><li>name 节点为当前组件定义一个名称（建议每个单词首字母大写 
    <ul><li><code>name:'MyApp'</code></li><li>在注册组件时：app.component(Swiper.name,Swiper)</li></ul> </li><li>data必须是一个函数，不能直接指向一个数据对象 
    <ul><li><code>data(){return {}}</code></li></ul> </li><li><code>methods:{ 事件处理函数 }</code></li><li><code>components:{ 'my-search':Search,}</code></li></ul> </li><li>style -&gt; 组件的样式（可选） 
  <ul><li><code>&lt;style lang="css"&gt; h1{...}&lt;/style&gt;</code></li><li><code>lang="css"</code>（默认）还有 less（npm i less -D）、scss</li></ul> </li></ul>
<p>在 template 中定义根节点：</p>
<ul><li> <p>在 vue2 中，节点内最外层必须由 <strong>唯一</strong> 的单个根节点包裹</p> </li><li> <p>在 vue3 中，中支持定义多个根节点</p> </li></ul>
<h5><a id="_2875"></a>组件的基本使用：</h5>
<h5><a id="_2877"></a>注册组件</h5>
<ul><li> <p>全局注册</p>
<ul><li><code>app.component('my-swiper',Swiper)</code></li><li>直接在template中以标签形式使用 <code>&lt;</code>my-swiper&gt;</li><li>使用频率高</li></ul> </li><li> <p>局部注册</p>
<ul><li> <pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">import</span> Search <span class="token keyword">for</span> <span class="token string">''</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">'my-search'</span><span class="token operator">:</span>Search<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> </li><li> <p>只有特点情况下会被用到</p> </li></ul> </li></ul>
<p><strong>组件注册时名称</strong></p>
<ul><li>kebab-case 命名法（俗称短横线命名法，例如 my-swiper）</li><li>⭐️PascalCase 命名法（俗称帕斯卡命名法或大驼峰命名法，例如 MySwiper） 
  <ul><li>可以转化成 短横线命名法</li></ul> </li></ul>
<h5><a id="_2905"></a>组件之间的样式冲突问题</h5>
<ol><li> <p>为每个组件分配唯一的自定义属性，在编写样式时，通过属性选择器来控制样式的作用域</p> <pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span> data<span class="token operator">-</span>v<span class="token operator">-</span><span class="token number">001</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3 data<span class="token operator">-</span>v<span class="token operator">-</span><span class="token number">001</span><span class="token operator">&gt;</span>轮播图组件<span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
    <span class="token punctuation">.</span>container<span class="token punctuation">[</span>data<span class="token operator">-</span>v<span class="token operator">-</span><span class="token number">001</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">border</span><span class="token operator">:</span>1px solid red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> </li><li> <p>style 节点的 scoped 属性</p>
<blockquote>
<p>自动为当前组件的 DOM 标签和 style 样式应用这个自定义属性，防止组件样式的冲突问题</p>
</blockquote> <pre><code class="prism language-js"><span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
    <span class="token punctuation">.</span>container<span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">border</span><span class="token operator">:</span>1px solid red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> </li><li> <p>/deep/样式穿透</p>
<blockquote>
<p>解决scoped 当前组件的样式对子组件是不生效的问题</p>
</blockquote> <pre><code class="prism language-js"><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span> scoped<span class="token operator">&gt;</span>
    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">deep</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">.</span>title<span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">color</span><span class="token operator">:</span>blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> <p>注意：/deep/ 是 vue2.x 中实现样式穿透的方案。在 vue3.x 中推荐使用 :deep() 替代 /deep/。</p> </li></ol>
<h5><a id="_2951"></a>全局样式：</h5>
<p>1 另外写一个 <code>index.css </code>文件</p>
<p>2 在 <code>main.js</code> 中引入</p>
<h5><a id="_props_2959"></a>组件的 props</h5>
<p>为了提高组件的复用性，封装组件时要遵守：</p>
<ul><li>组件的 DOM 结构、Style 样式要尽量复用</li><li>组件中要展示的数据，尽量由组件的使用者提供</li></ul>
<blockquote>
<p>props 是组件的自定义属性，组件的使用者可以通过 props 把数据传递到子组件内部，供子组件内部进行使 用。</p>
</blockquote>
<p>props 的<strong>作用</strong>：父组件通过 props 向子组件传递要展示的数据。</p>
<p>props 的<strong>好处</strong>：提高了组件的复用性。</p>
<p><strong>在组件中声明 props</strong></p>
<blockquote>
<p>在封装 vue 组件时，可以把<strong>动态的数据项</strong>声明为 props 自定义属性。自定义属性可以在当前组件的模板结构中被直接使用。</p>
</blockquote>
<p><strong>动态绑定 props 的值</strong></p>
<p>可以使用 v-bind 属性绑定的形式，为组件动态绑定 props 的值</p>
<p><strong>props 的大小写命名</strong></p>
<p>组件中如果使用“camelCase (驼峰命名法)”声明了 props 属性的名称，则有两种方式为其绑定属性的值：</p>
<p>1 <code>pubTime = '1889'</code></p>
<p>2 <code>pub-time = '1889'</code>（推荐）</p>
<h5><a id="Class__Style__2990"></a>Class 与 Style 绑定</h5>
<p><strong>动态绑定 HTML 的 class</strong></p>
<p>1 可以通过三元表达式，动态的为元素绑定 class 的类名。</p>
<p><code>:class = "isItalic ? 'isItalic' : ''"</code></p>
<ul><li>一定要记得带 <code>''</code></li></ul>
<p>2 以<code>数组</code>语法绑定 HTML 的 class</p>
<p><code>:class = "[isItalic ? 'isItalic' : '',isDelete ? 'delete' : '']"</code></p>
<p>3 以<code>对象</code>语法绑定 HTML 的 class</p>
<p>语法：<code>:class="{类名：布尔值}"</code></p>
<p><code>:class = "classObj"</code> <code>classObj:{italic:true,delete:false}</code></p>
<p>4 以对象语法绑定内联的 style</p>
<p>语法：<code>:style="样式属性名：样式的值"</code></p>
<ul><li>样式名要用 小驼峰 命名or 引号</li></ul>
<p><code>:style="{color:active},fontSize:fsize+'px'"</code></p>
<p><code>:style= "styleObj"</code></p>
<h5><a id="props__3022"></a>props 验证</h5>
<p>对象类型的 props 节点</p>
<p>① 基础的类型检查</p>
<ul><li>Srting Number Boolean Array Object Date Function Symbol</li></ul>
<p>② 多个可能的类型</p>
<ul><li>[String,Number,…]</li></ul>
<p>③ 必填项校验</p>
<ul><li>required:true</li></ul>
<p>④ 属性默认值</p>
<ul><li>defult:‘’/0 （注意类型要和 type 的相同）</li></ul>
<p>⑤ 自定义验证函数</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d12fd7de93b847cab57c2be21e9a6f0f.png#pic_center"/></p>
<h5><a id="_3049"></a>计算属性</h5>
<blockquote>
<p>本质上就是一个 function 函数，它可以实时监听 data 中数据的变化，并 return 一个计算后的新值，供组件渲染 DOM 时使用</p>
</blockquote>
<p>声明计算属性</p>
<p>① 计算属性必须定义在 computed 节点中</p>
<p>② 计算属性必须是一个 function 函数</p>
<p>③ 计算属性必须有返回值</p>
<p>④ 计算属性必须当做普通属性使用</p>
<p><strong>计算属性 vs 方法</strong></p>
<p>相对于方法来说，计算属性会缓存计算的结果，只有计算属性的依赖项发生变化时，才会重新进行运算。因此计算属性的性能更好</p>
<h5><a id="_3069"></a>自定义事件</h5>
<p>在封装组件时：</p>
<p>① 声明自定义事件</p>
<ul><li>在 emits 节点中声明 <code>emits:['change']</code></li></ul>
<p>② 触发自定义事件</p>
<ul><li> <pre><code class="prism language-js"><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">onBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul>
<p>在使用组件时：</p>
<p>③ 监听自定义事件</p>
<ul><li><code>@change='getCount'</code></li></ul>
<p>自定义事件传参</p>
<ul><li><code>this.$emit('change',this.count)</code></li></ul>
<p>自定义事件解绑</p>
<ul><li>一个事件解绑： 
  <ul><li><code>this.$off('自定义事件名称')</code></li></ul> </li><li>多个事件解绑 
  <ul><li><code>this.$off('xxx','yyy')</code></li><li><code>this.$off()</code></li></ul> </li></ul>
<h5><a id="_vmodel_3107"></a>组件上的 v-model</h5>
<p>步骤:</p>
<p>父 =&gt; 子</p>
<ul><li>父组件 
  <ul><li><code>:number='count'</code></li></ul> </li><li>子组件 
  <ul><li><code>props:['number']</code></li></ul> </li></ul>
<p>子 =&gt; 父</p>
<ul><li>父组件 
  <ul><li><code>v-model:number='count'</code>(不行)</li></ul> </li><li>子组件 
  <ul><li><code>props:['number']</code></li><li><code>emits:['update:number']</code></li><li><code>this.$emit('update:number',this.number+1)</code></li></ul> </li></ul>
<p>或者：</p>
<pre><code class="prism language-js"><span class="token comment">// 父组件</span>
<span class="token operator">&lt;</span>aa<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"aa"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>aa<span class="token operator">-</span>input<span class="token operator">&gt;</span>
<span class="token comment">// 等价于</span>
<span class="token operator">&lt;</span>aa<span class="token operator">-</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"aa"</span> @input<span class="token operator">=</span><span class="token string">"aa=$event.target.value"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>aa<span class="token operator">-</span>input<span class="token operator">&gt;</span>
<span class="token punctuation">(</span>父组件不用自己拿子组件传过来的数据进行赋值了<span class="token punctuation">)</span>

<span class="token comment">// 子组件：</span>
<span class="token operator">&lt;</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"aa"</span> @input<span class="token operator">=</span><span class="token string">"onmessage"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>aa<span class="token operator">-</span>input<span class="token operator">&gt;</span>

<span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">onmessage</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="_3149"></a>组件高级</h4>
<h5><a id="_3151"></a>组件的生命周期</h5>
<table><thead><tr><th>生命周期函数</th><th>执行时机</th><th>所属阶段</th><th>执行次数</th><th>应用场景</th></tr></thead><tbody><tr><td>beforeCreate</td><td>在内存中开始创建组件之前</td><td>创建阶段</td><td>唯一1次</td><td>-</td></tr><tr><td>⭐️created</td><td>组件在内存中创建完毕后</td><td>创建阶段</td><td>唯一1次</td><td>ajax 请求数据</td></tr><tr><td>beforeMount</td><td>在把组件初次渲染到页面之前</td><td>创建阶段</td><td>唯一1次</td><td></td></tr><tr><td>⭐️mounted</td><td>组件初次在页面中渲染完毕后</td><td>创建阶段</td><td>唯一1次</td><td>操作 DOM</td></tr><tr><td>beforeUpdate</td><td>在组件被重新渲染之前</td><td>运行阶段</td><td>0 或 多次</td><td></td></tr><tr><td>updated</td><td>组件在页面中被重新渲染完毕后</td><td>运行阶段</td><td>0 或 多次</td><td></td></tr><tr><td>beforeUnmount</td><td>在组件被销毁之前</td><td>销毁阶段</td><td>唯一1次</td><td></td></tr><tr><td>⭐️unmounted</td><td>组件被销毁后（页面和内存）</td><td>销毁阶段</td><td>唯一1次</td><td></td></tr></tbody></table>
<h5><a id="_3164"></a>组件之间的数据共享</h5>
<p><strong>1. 组件之间的关系</strong></p>
<p>① 父子关系</p>
<p>② 兄弟关系</p>
<p>③ 后代关系</p>
<p><strong>2. 父子组件之间的数据共享</strong></p>
<p>① 父 -&gt; 子共享数据</p>
<ul><li>父 
  <ul><li><code>:msg="massage" :user='userinfo'</code></li></ul> </li><li>子 
  <ul><li><code>props:['msg','user']</code></li></ul> </li></ul>
<p>② 子 -&gt; 父共享数据</p>
<ul><li>父 
  <ul><li><code>:change='getNum'</code></li></ul> </li><li>子 
  <ul><li><code>emits:['change']</code></li><li><code>this.$emit('change',this.num)</code></li></ul> </li></ul>
<p>③ 父 &lt;-&gt; 子双向数据同步</p>
<ul><li>父 
  <ul><li><code>v-model:number='count'</code></li></ul> </li><li>子 
  <ul><li><code>props:['number']</code></li><li><code>emits:['update:props的名字']</code></li><li><code>this.emits('update:props的名字',this.number+1)</code></li></ul> </li></ul>
<p><strong>3. 兄弟组件之间的数据共享</strong></p>
<blockquote>
<p>兄弟组件之间实现数据共享的方案是 EventBus。可以借助于第三方的包 mitt 来创建 eventBus 对象，从而实现兄弟组件之间的数据共享。</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/992cf2d663a44b4199ee7a5ac778b968.png#pic_center"/></p>
<p>1 安装 mitt 依赖包</p>
<p><code>npm install mitt@2.1.0 -S</code></p>
<p>2 创建公共的 eventBus 模块</p>
<pre><code class="prism language-js"><span class="token keyword">import</span> mitt <span class="token keyword">from</span> <span class="token string">'mitt'</span>
<span class="token keyword">const</span> bus <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> bus
</code></pre>
<p>3 在数据接收方自定义事件</p>
<pre><code class="prism language-js"><span class="token keyword">import</span> bus <span class="token keyword">from</span> <span class="token string">'./eventBus.js'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        bus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'countChange'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> num<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>4 在数据接发送方触发事件</p>
<p><code>bus.emit('countChange',this.count)</code></p>
<p><strong>4. 后代关系组件之间的数据共享</strong></p>
<blockquote>
<p>指的是爷节点的组件向其子孙组件共享数据。此时组件之间的嵌套关系比较复杂，可以使用 provide 和 inject 实现后代关系组件之间的数据共享。</p>
</blockquote>
<ul><li> <p>爷节点</p>
<ul><li>通过 provide 共享数据</li><li><code>provide(){ return { color: this.color } }</code></li></ul> </li><li> <p>子孙节点</p>
<ul><li>通过 inject 接收数据</li><li><code>inject:['color']</code></li></ul> </li><li> <p>爷节点对外共享响应式的数据</p>
<ul><li> <p>结合 computed 函数向下共享响应式的数据</p> </li><li> <pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">'red'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token literal-property property">color</span><span class="token operator">:</span><span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p>子孙节点使用响应式的数据</p>
<ul><li><code>inject:['color']</code></li><li>必须以<code> .value</code> 的形式进行使用 
    <ul><li><code>{<!-- -->{ color.value }}</code></li></ul> </li></ul> </li></ul>
<p><strong>5. vuex</strong></p>
<blockquote>
<p>vuex 是终极的组件之间的数据共享方案。在企业级的 vue 项目开发中，vuex 可以让组件之间的数据共享变得高效、清晰、且易于维护。</p>
</blockquote>
<ul><li>全局数据共享</li></ul>
<h5><a id="_axios_3281"></a>全局配置 axios</h5>
<p>在 main.js 入口文件中，通过 app.config.globalProperties 全局挂载 axios</p>
<pre><code class="prism language-js">axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'http://api.com'</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$http <span class="token operator">=</span> axios
</code></pre>
<h5><a id="ref__3292"></a>ref 引用</h5>
<blockquote>
<p>每个 vue 的组件实例上，都包含一个 $refs 对象，里面存储着对应的 <code>DOM</code> 元素或<code>组件的实例</code>。默认情况下， 组件的 ​refs 指向一个空对象。</p>
</blockquote>
<p>标签上写：<code>ref=mybtn</code></p>
<p><code>this.$refs.mybtn.style.color = 'red'</code></p>
<p>引用到组件的实例之后，就可以调用组件上的 methods 方法</p>
<p><code>this.$refs.mybtn.add()</code></p>
<p><strong>控制文本框和按钮的按需切换</strong></p>
<p>通过布尔值 inputVisible 来控制组件中的文本框与按钮的按需切换。</p>
<p><code>v-if="inputVisible "</code> <code>v-else</code></p>
<p><strong>让文本框自动获得焦点</strong></p>
<pre><code class="prism language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$ref<span class="token punctuation">.</span>ipt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 异步</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p><code>this.$nextTick(cb) </code>方法</p>
<blockquote>
<p>把 cb 回调推迟到下一个 DOM 更新周期之后执行,从而能保证 cb 回调函数可以操作到最新的 DOM 元素。</p>
</blockquote>
<h5><a id="_3324"></a>动态组件</h5>
<p><code>&lt;component is="要渲染的组件的名称"&gt;&lt;/component&gt;</code></p>
<p><strong>使用 keep-alive 保持状态</strong></p>
<p>默认情况下，切换动态组件时无法保持组件的状态。</p>
<pre><code class="prism language-js"><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>component is<span class="token operator">=</span><span class="token string">"要渲染的组件的名称"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
</code></pre>
<h5><a id="_3340"></a>插槽</h5>
<pre><code class="prism language-js"><span class="token comment">// 封装组件</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token comment">// 注册组件</span>
<span class="token operator">&lt;</span>myCom<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>用户自定义内容<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>myCom<span class="token operator">&gt;</span>
</code></pre>
<h5><a id="_3356"></a>自定义指令</h5>
<h5><a id="_3358"></a>路由</h5>
<h2><a id="Vuex_3362"></a>Vuex</h2>
<blockquote>
<p>在Vue中实现<code>集中式</code>状态（数据）管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理（<code>读/写</code>），也是一种组件间通信的方式，且适用于任意组件间通信。</p>
</blockquote>
<h3><a id="_3366"></a>何时使用？</h3>
<p>多个组件需要共享<code>数据</code>时</p>
<h3><a id="_3370"></a>原理图：</h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/205641f923ff47ee8954963c2ba8c20d.png#pic_center"/></p>
<h3><a id="vuex_3375"></a>搭建vuex环境</h3>
<ol><li> <p>创建文件：<code>src/store/index.js</code></p> <pre><code class="prism language-js"><span class="token comment">//引入Vue核心库</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入Vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//应用Vuex插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">//准备actions对象——响应组件中用户的动作</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token comment">//准备mutations对象——修改state中的数据</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token comment">//准备state对象——保存具体的数据</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">//创建并暴露store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	actions<span class="token punctuation">,</span>
	mutations<span class="token punctuation">,</span>
	state
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>在<code>main.js</code>中创建vm时传入<code>store</code>配置项</p> <pre><code class="prism language-js"><span class="token operator">...</span><span class="token operator">...</span>
<span class="token comment">//引入store</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token operator">...</span><span class="token operator">...</span>

<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">el</span><span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
	store
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li></ol>
<h3><a id="4_3418"></a>4.基本使用</h3>
<ol><li> <p>初始化数据、配置<code>actions</code>、配置<code>mutations</code>，操作文件<code>store/index.js</code></p> <pre><code class="prism language-js"><span class="token comment">//引入Vue核心库</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入Vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//引用Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//响应组件中加的动作</span>
	<span class="token function">jia</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">// console.log('actions中的jia被调用了',miniStore,value)</span>
		context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//执行加</span>
	<span class="token constant">JIA</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">// console.log('mutations中的JIA被调用了',state,value)</span>
		state<span class="token punctuation">.</span>sum <span class="token operator">+=</span> value
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//初始化数据</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
   <span class="token literal-property property">sum</span><span class="token operator">:</span><span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token comment">//创建并暴露store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	actions<span class="token punctuation">,</span>
	mutations<span class="token punctuation">,</span>
	state<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>组件中读取vuex中的数据：<code>$store.state.sum</code></p> <p>​ 1 在模板里面写不用加 this {<!-- -->{}}</p> <p>​ 2 在脚本里面写要加 this</p> </li><li> <p>组件中修改vuex中的数据：<code>$store.dispatch('action中的方法名',数据)</code>或 <code>$store.commit('mutations中的方法名',数据)</code></p>
<blockquote>
<p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写<code>dispatch</code>，直接编写<code>commit</code></p>
</blockquote> </li></ol>
<h3><a id="5getters_3469"></a>5.getters的使用</h3>
<ol><li> <p>概念：当state中的数据需要经过<code>加工</code>后再使用时，可以使用getters加工。</p> </li><li> <p>在<code>store.js</code>中追加<code>getters</code>配置</p> <pre><code class="prism language-js"><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>组件中读取数据：<code>$store.getters.bigSum</code></p> </li></ol>
<h3><a id="6map_3485"></a>6.四个map方法的使用</h3>
<ol><li> <p><strong>mapState方法：</strong>用于帮助我们映射<code>state</code>中的数据为计算属性</p> <pre><code class="prism language-js"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//借助mapState生成计算属性：sum、school、subject（对象写法）</span>
     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">sum</span><span class="token operator">:</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token literal-property property">school</span><span class="token operator">:</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token literal-property property">subject</span><span class="token operator">:</span><span class="token string">'subject'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     
     <span class="token function-variable function">简化：sum</span><span class="token operator">:</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>sum<span class="token operator">...</span>
         
    <span class="token comment">//借助mapState生成计算属性：sum、school、subject（数组写法）</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> </li><li> <p><strong>mapGetters方法：</strong>用于帮助我们映射<code>getters</code>中的数据为计算属性</p> <pre><code class="prism language-js"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//借助mapGetters生成计算属性：bigSum（对象写法）</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">bigSum</span><span class="token operator">:</span><span class="token string">'bigSum'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//借助mapGetters生成计算属性：bigSum（数组写法）</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> </li><li> <p><strong>mapActions方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数</p> <pre><code class="prism language-js"><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">incrementOdd</span><span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token literal-property property">incrementWait</span><span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token string">'jiaWait'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p><strong>mapMutations方法：</strong>用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数</p> <pre><code class="prism language-js"><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//靠mapActions生成：increment、decrement（对象形式）</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">increment</span><span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token literal-property property">decrement</span><span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    
    <span class="token comment">//靠mapMutations生成：JIA、JIAN（对象形式）</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token string">'JIAN'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> </li></ol>
<blockquote>
<p>备注：mapActions与mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p>
</blockquote>
<h3><a id="7Modules___3539"></a>7.Modules 模块化+命名空间</h3>
<blockquote>
<p>将 store 分割成<strong>模块（module）</strong>。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块</p>
</blockquote>
<h4><a id="_namespaced_true_3543"></a>命名空间 <code>namespaced: true</code></h4>
<blockquote>
<p>使模块成为带命名空间的模块。当模块被注册后，它的所有 getter、action 及 mutation 都会自动根据模块注册的路径调整命名。</p>
</blockquote>
<pre><code class="prism language-js"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'some/nested/module'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
    <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>b
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
    
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'moduleA'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this.foo()</span>
    <span class="token string">'bar'</span> <span class="token comment">// -&gt; this.bar()</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h5><a id="namespaced_true__createNamespacedHelpers_3565"></a><code>namespaced: true</code> + <code>createNamespacedHelpers</code></h5>
<blockquote>
<p>使 …mapState(‘module1’,[‘count’]) --&gt; …mapState([‘count’])</p>
</blockquote>
<pre><code class="prism language-js"><span class="token number">1</span> <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createNamespacedHelpers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token number">2</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">'moduleB'</span><span class="token punctuation">)</span>
</code></pre>
<ol><li> <p>目的：让代码更好维护，让多种数据分类更加明确。</p> </li><li> <p>修改<code>store.js</code></p> <pre><code class="prism language-javascript"><span class="token keyword">const</span> countAbout <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// context 指向当前模块</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> personAbout <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    countAbout<span class="token punctuation">,</span>
    personAbout
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>开启命名空间后，组件中读取state数据：</p> <pre><code class="prism language-js"><span class="token comment">//方式一：自己直接读取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>personAbout<span class="token punctuation">.</span>list
<span class="token comment">//方式二：借助mapState读取：</span>
<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre> </li><li> <p>开启命名空间后，组件中读取getters数据：</p> <pre><code class="prism language-js"><span class="token comment">//方式一：自己直接读取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'personAbout/firstPersonName'</span><span class="token punctuation">]</span>
<span class="token comment">//方式二：借助mapGetters读取：</span>
<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>开启命名空间后，组件中调用dispatch</p> <pre><code class="prism language-js"><span class="token comment">//方式一：自己直接dispatch</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'personAbout/addPersonWang'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span>
<span class="token comment">//方式二：借助mapActions：</span>
<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">incrementOdd</span><span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token literal-property property">incrementWait</span><span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>开启命名空间后，组件中调用commit</p> <pre><code class="prism language-js"><span class="token comment">//方式一：自己直接commit</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'personAbout/ADD_PERSON'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span>
<span class="token comment">//方式二：借助mapMutations：</span>
<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">increment</span><span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token literal-property property">decrement</span><span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre> </li></ol>
<h2><a id="UI_3644"></a>UI组件库</h2>
<h3><a id="_UI__3646"></a>移动端常用 UI 组件库</h3>
<p><a href="https://youzan.github.io/vant">Vant</a></p>
<p><a href="https://didi.github.io/cube-ui">Cube UI</a></p>
<p><a href="http://mint-ui.github.io">Mint UI</a></p>
<h3><a id="PC__UI__3654"></a>PC 端常用 UI 组件库</h3>
<p><a href="https://element.eleme.cn">Element UI</a></p>
<p><a href="https://www.iviewui.com">IView UI</a></p>
<h2><a id="_3660"></a>案例分析</h2>
<h3><a id="TodoList1_3662"></a>TodoList1</h3>
<h4><a id="_3664"></a>组件化编码流程：</h4>
<p>​ (1) 拆分<code>静态</code>组件：组件要按照<code>功能点</code>拆分，命名不要与html元素冲突。</p>
<p>​ (2) 实现动态组件：考虑好<code>数据</code>的存放<code>位置</code>，数据是一个组件在用，还是一些组件在用：</p>
<p>​ 1) 一个组件在用：放在组件自身即可。</p>
<p>​ 2) 一些组件在用：放在他们共同的<code>父</code>组件上（状态提升）。eg: 读 or 写</p>
<p>​ (3) 实现<code>交互</code>：从绑定事件开始。</p>
<h4><a id="props_3676"></a>props适用于：</h4>
<p>​ (1) 父组件 ==&gt; 子组件 通信</p>
<p>​ (2) 子组件 ==&gt; 父组件 通信（要求父先给子一个函数）</p>
<h4><a id="_3682"></a>技巧：</h4>
<p>​ 1 使用 <code>reduce</code> 累计</p>
<pre><code class="prism language-js"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">doneTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pre <span class="token operator">+</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>isDone <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>​ 2 使用 <code>filter</code> 过滤</p>
<pre><code class="prism language-js"><span class="token function">clearDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>todos <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>isDone<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>​ 3 巧用 <code>计算</code> 属性</p>
<pre><code class="prism language-js"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">isAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>allNum <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>allChecked <span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>​ 4 使用 <code>every</code> 判断</p>
<pre><code class="prism language-js"><span class="token function">allChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>isDone <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>​ 5 <code>watch</code> 监视数据 进行存储</p>
<pre><code class="prism language-js"><span class="token literal-property property">todos</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span>
        <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
           
<span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">todos</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'todos'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre>
<h4><a id="_3736"></a>注意：</h4>
<p>使用 v-model 时要切记：v-model 绑定的值<code>不能是props</code>传过来的值，因为props是不可以修改的！</p>
<p>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但<code>不推荐</code>这样做。</p>
<h2><a id="star_3748"></a>⭐️杂记</h2>
<pre><code class="prism language-js"><span class="token literal-property property">cmtCount</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 通过数组的形式 ， 为当前属性定义多个可能的类型</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>Number<span class="token punctuation">,</span> String<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre>
<ul><li>在使用组件时，如果某个属性名是“小驼峰”形式，则绑定属性时，建议改写成“连字符”格式，例如： 
  <ul><li><code>cmtCount =&gt; cmt-count</code></li></ul> </li></ul>
<p>❗️ 修改配置项一定要重新 run 一下项目</p>
<h3><a id="EsLint_3763"></a>EsLint：</h3>
<p><code>'space-before-function-paren': 0</code></p>
<h3><a id="_3767"></a>两个重要的原则：</h3>
<ul><li>由Vue管理的函数，一定不要写箭头函数，一旦写了箭头函数，this就不再是Vue实例了。</li><li>所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数， 这样this的指向才是vm 或 组件实例对象。</li></ul>
<p><code>v-model.number.lazy</code></p>
<blockquote>
<p>当添加了.lazy修饰符后，双向绑定的数据就不同步了，相当于在input输入框失去焦点后触发的change事件中同步。即将数据改到在change事件中发生。</p>
</blockquote>
<h3><a id="_3778"></a>组件化编码流程（通用）</h3>
<p>1 实现静态组件</p>
<ul><li>抽取组件，使用组件实现静态页面效果</li></ul>
<p>2 展示动态数据</p>
<ul><li>2.1 数据类型、名称？</li><li>2.2 数据保存在哪个组件？</li></ul>
<p>3 交互——从绑定事件监听开始</p>
<h3><a id="nanoid_3793"></a>nanoid</h3>
<p>1 安装 <code>npm i nanoid</code> --force</p>
<p>2 <code>import { nanoid } from 'nanoid'</code></p>
<p>3 <code>id: nanoid()</code></p>
<h3><a id="bootstrap_3803"></a>bootstrap</h3>
<p>1 <code>npm i bootstrap</code></p>
<p>2 // main.js</p>
<p><code>import 'bootstrap/dist/css/bootstrap.css'</code></p>
<h3><a id="_boolean_3813"></a>巧用 boolean</h3>
<p>不只是 <code>true or false</code>，还可以用来 <code>筛选</code></p>
<p><code>条件</code></p>
<p>eg: <code>:class="{ active: score &gt; 60}"</code></p>
<h3><a id="Vscode__3823"></a>Vscode 新建文件</h3>
<p>// 终端</p>
<p><code>ni 'xxx'</code></p>
<h3><a id="_3831"></a>表单渲染</h3>
<p>循环 带有 label标签的 for 和 id 要唯一</p>
<p><code>:id="'xx'+item.id"</code> <code>:for="'xx'+item.id"</code></p>
<h3><a id="axios_3839"></a>axios</h3>
<h4><a id="_3841"></a>基本语法：</h4>
<pre><code class="prism language-js">axios发请求的基本语法：
    axios（<span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'url'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">'get/post/put/delete'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//  包含 query 参数对象，问号后面的参数</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 包含请求体参数的对象</span>
    <span class="token punctuation">}</span>）
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>配置<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// { params:{id:1} }</span>
    axios<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>配置<span class="token punctuation">}</span><span class="token punctuation">)</span>
    axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data数据对象<span class="token punctuation">)</span>
    axios<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data数据对象<span class="token punctuation">)</span>

    <span class="token literal-property property">使用axios发ajax请求携带参数</span><span class="token operator">:</span>
    <span class="token literal-property property">params参数</span><span class="token operator">:</span> 只能拼在路径中<span class="token operator">:</span> <span class="token operator">/</span>admin<span class="token operator">/</span>product<span class="token operator">/</span>baseTrademark<span class="token operator">/</span><span class="token keyword">delete</span><span class="token operator">/</span><span class="token number">1</span>
    <span class="token literal-property property">query参数</span><span class="token operator">:</span> 
      拼在路径中的<span class="token operator">?</span>后面<span class="token operator">:</span> <span class="token operator">/</span>admin<span class="token operator">/</span>product<span class="token operator">/</span>baseTrademark<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span>
      <span class="token literal-property property">通过params配置来指定</span><span class="token operator">:</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token literal-property property">请求体参数</span><span class="token operator">:</span> 
      <span class="token function">通过data配置或post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">)</span>的第二个参数指定
</code></pre>
<h4><a id="__label_for__id__3866"></a>循环 带有 label标签的 for 和 id 要唯一</h4>
<p><code>:id="'xx'+item.id"</code> <code>:for="'xx'+item.id"</code></p>
<h4><a id="babel_3870"></a>babel</h4>
<ul><li>语法降级</li></ul>
<h2><a id="starVue3_3877"></a>⭐️Vue3</h2>
<p><a href="https://blog.csdn.net/weixin_43323097/article/details/126342102?spm=1001.2014.3001.5502">vue3基础入门参考文章！必看</a></p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>