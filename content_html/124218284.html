<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-tomorrow-night" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h2><a id="1_0"></a>1.隐式创建</h2>
<p>首先我们定义一个测试类</p>
<pre><code>class Person {
    private:
      int age;
      string name;
    public:
        Person() {
            cout&lt;&lt;"this is construct~";
        }
        Person(int age, string name) {
            this-&gt;age = age;
            this-&gt;name = name;
            cout&lt;&lt;"name is: "&lt;&lt;name&lt;&lt;", age is: "&lt;&lt;age&lt;&lt;endl;
        }
};
</code></pre>
<p>然后我们在main方法中隐式创建Person对象</p>
<pre><code>Person p1;
cout&lt;&lt;endl;
Person p2(18, "lili");
cout&lt;&lt;endl;
</code></pre>
<h2><a id="2_29"></a>2.显示创建</h2>
<p>当然，我们也可以像其他编程语言一样，显示创建一个对象</p>
<pre><code>Person p3 = Person();
cout&lt;&lt;endl;
Person p4 = Person(16, "xx");
cout&lt;&lt;endl;
</code></pre>
<p>这种方式，与上面的第一种方式原理基本一直。</p>
<h2><a id="3new_40"></a>3.用new创建</h2>
<p>当然我们还可以用new关键字来创建对象</p>
<pre><code>Person *p5 = new Person();
cout&lt;&lt;endl;
Person *p6 = new Person(14, "yy");
</code></pre>
<p>注意new出来的对象，都需要用指针接收。</p>
<h2><a id="4_51"></a>4.上述三种方式的区别</h2>
<p>上面三种方式可以认为是两种方式，因为第一种方式与第二种方式基本相同。那么具体区别在哪里？</p>
<p>1.new出来的对象必须要用指针接收，并且需要显式delete销毁对象释放内存。</p>
<p>2.内存位置不同。<br/> 对于隐式声明</p>
<pre><code>Person p1;
</code></pre>
<p>p1对象位于栈空间。</p>
<pre><code>Person *p5 = new Person();
</code></pre>
<p>p5对象位于堆空间。</p>
<p>3.内存分配时间不同<br/> 使用隐式创建对象的时候，创建支出就已经分配了内存。而使用new的方式，如果对象没有初始化，此时没有分配内存空间，也无法delete。</p>
<pre><code>Person *p = NULL;
delete p;
</code></pre>
<p>上述语句如果执行，会有各种意想不到的情况发生。</p>
<p>4.隐式声明的对象是局部变量，出了函数就没有了。而new出来的指针对象可以在方法之间传递，且该指针对象所指向的堆中的对象实例仍然存在。</p>
<p>5.频繁调用场合并不适合new，就像new申请和释放内存一样。</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>