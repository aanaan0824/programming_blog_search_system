<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<blockquote>
<p>🍈作者简介：大家好，我是亦世凡华、渴望知识储备自己的一名在校大学生</p>
<p>🍇个人主页：<a class="link-info" href="https://blog.csdn.net/qq_53123067?spm=1000.2115.3001.5343" title="亦世凡华、的博客">亦世凡华、的博客</a></p>
<p>🍓系列专栏：<a class="link-info" href="https://blog.csdn.net/qq_53123067/category_11818587.html?spm=1001.2014.3001.5482" title="JavaScript专栏">JavaScript专栏</a></p>
<p>🥝推荐一款模拟面试刷题神器🔥：<a class="link-info" href="https://www.nowcoder.com/link/pc_csdncpt_ysfh_qianduan" title="点击跳转进入网站">点击跳转进入网站</a></p>
</blockquote>
<p id="main-toc"><strong>目录</strong></p>
<p id="%F0%9F%8F%8D%EF%B8%8F%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1-toc" style="margin-left:40px;"><a href="#%F0%9F%8F%8D%EF%B8%8F%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1">🏍️回调地狱</a></p>
<p id="%F0%9F%8D%87%E5%85%B7%E4%BD%93%E5%88%86%E6%9E%90-toc" style="margin-left:80px;"><a href="#%F0%9F%8D%87%E5%85%B7%E4%BD%93%E5%88%86%E6%9E%90">🍇具体分析</a></p>
<p id="%F0%9F%8D%88%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#%F0%9F%8D%88%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">🍈完整代码</a></p>
<p id="%F0%9F%8F%83%E7%BD%91%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%9B%BE-toc" style="margin-left:40px;"><a href="#%F0%9F%8F%83%E7%BD%91%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%9B%BE">🏃网页轮播图</a></p>
<p id="%F0%9F%8D%89%E5%88%B6%E4%BD%9C%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E7%A9%BA%E9%97%B4%E7%9B%92%E5%AD%90%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%AD%98%E6%94%BE%E5%9B%BE%E7%89%87-toc" style="margin-left:80px;"><a href="#%F0%9F%8D%89%E5%88%B6%E4%BD%9C%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E7%A9%BA%E9%97%B4%E7%9B%92%E5%AD%90%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%AD%98%E6%94%BE%E5%9B%BE%E7%89%87">🍉制作轮播图的空间盒子，用来存放图片</a></p>
<p id="%F0%9F%8D%8A%E7%82%B9%E5%87%BB%E5%B0%8F%E5%9C%86%E5%9C%88%E5%8F%AF%E4%BB%A5%E6%92%AD%E6%94%BE%E7%9B%B8%E5%BA%94%E7%9A%84%E5%9B%BE%E7%89%87-toc" style="margin-left:80px;"><a href="#%F0%9F%8D%8A%E7%82%B9%E5%87%BB%E5%B0%8F%E5%9C%86%E5%9C%88%E5%8F%AF%E4%BB%A5%E6%92%AD%E6%94%BE%E7%9B%B8%E5%BA%94%E7%9A%84%E5%9B%BE%E7%89%87">🍊点击小圆圈可以播放相应的图片</a></p>
<p id="%F0%9F%8D%8B%E9%BC%A0%E6%A0%87%E4%B8%8D%E7%82%B9%E5%87%BB%EF%BC%8C%E8%BD%AE%E6%92%AD%E5%9B%BE%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE-toc" style="margin-left:80px;"><a href="#%F0%9F%8D%8B%E9%BC%A0%E6%A0%87%E4%B8%8D%E7%82%B9%E5%87%BB%EF%BC%8C%E8%BD%AE%E6%92%AD%E5%9B%BE%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE">🍋鼠标不点击，轮播图会自动播放</a></p>
<p id="%F0%9F%8D%8C%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#%F0%9F%8D%8C%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">🍌完整代码</a></p>
<hr id="hr-toc"/>
<h2 id="%F0%9F%8F%8D%EF%B8%8F%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1">🏍️回调地狱</h2>
<h3 id="%F0%9F%8D%87%E5%85%B7%E4%BD%93%E5%88%86%E6%9E%90">🍇具体分析</h3>
<p>根据上文动画函数的讲解，今天更近一步加深<span style="color:#be191c;"><strong>对回调函数的使用</strong></span>。</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        div {
            width: 200px;
            height: 200px;
            background: #f00;
            margin-top: 30px;
            position: absolute;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button&gt;测试按钮&lt;/button&gt;
    &lt;div&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p><img alt="" height="346" src="image\20e8ba3eb7e2443e8bfbdd30ab4426fc.png" width="995"/></p>
<p>通过页面的内容，我想让盒子<strong>一次性实现<span style="color:#fe2c24;">向左移动</span></strong>然后<span style="color:#b95514;"><strong>变宽</strong></span>然后<span style="color:#1c7331;"><strong>变高</strong></span>然后<span style="color:#1a439c;"><strong>向下移动</strong></span>然后<span style="color:#511b78;"><strong>向上移动</strong></span>，然后<span style="color:#b95514;"><strong>向左移动</strong></span>。。。 如何做？？？，这里我们就需要借助回调函数不断调用定时器移动，通俗点讲，我们讲多个回调函数一起使用称为“回调地狱”。</p>
<p>写JS第一步通常就是获取DOM元素，但是接下来的回调函数如何书写，请看如下代码及注释：</p>
<pre><code class="language-javascript">&lt;script&gt;
    var btn = document.querySelector('button')
    var div = document.querySelector('div')
    function move (obj, attr, target, speed, callback) {
        // 关闭上一个定时器
        clearInterval(obj.timer);

        // 获取元素当前位置
        var current = parseInt(getStyle(obj, attr));
        // 判断速度的正负值
        if (current &gt; target) {
            // 此时速度应为负值
            speed = -speed;
        }

        // 开启一个定时器,用来执行动画效果
        // 向执行动画的对象添加一个timer属性,用来保存它自己的定时器
        obj.timer = setInterval(function () {
            // 获取目标原来的left值
            var oldValue = parseInt(getStyle(obj, attr));
            // 在旧值的基础上增加
            var newValue = oldValue + speed;
            /* 
            向左移动时,需要判断newValue是否小于target
            向右移动时,需要判断newValue是否大于target
            */
            if ((speed &lt; 0 &amp;&amp; newValue &lt; target) || (speed &gt; 0 &amp;&amp; newValue &gt; target)) {
                newValue = target;
            }
            // 将新值赋予目标
            obj.style[attr] = newValue + 'px';
            // 当元素移动到target时,停止执行动画
            if (newValue == target) {
                // 达到目标关闭定时器
                clearInterval(obj.timer);
                // 动画执行完毕调用回调函数 callback
                callback &amp;&amp; callback();
            }

        }, 30);
    }
    //定义一个函数,用来获取指定元素的当前样式
    function getStyle (obj, name) {
        if (window.getComputedStyle) {
            // 正常浏览器的方式,具有getComputedStyle()方法
            return getComputedStyle(obj, null)[name];
        } else {
            // IE8的方式,没有getComputedStyle()方法
            return obj.currentStyle[name];
        }
    }
&lt;/script&gt;</code></pre>
<p>现在分别对代码里面的参数进行讲解：</p>
<blockquote>
<p><span style="color:#be191c;"><strong>move参数</strong></span>:</p>
<p>* obj:要执行动画的对象</p>
<p>* attr:要执行动画的样式</p>
<p>* target:执行动画的目标位置</p>
<p>* speed:移动的速度(正数向右移,负数向左移)</p>
<p>* callback:回调函数,这个函数将会在动画执行完毕以后执行</p>
<p><span style="color:#be191c;"><strong>getStyle参数</strong></span>:</p>
<p>* obj:要获取样式的元素</p>
<p>* name:要获取的样式名</p>
</blockquote>
<p>定时器书写完毕，我们开始调用move函数，可以看到move里面的callback回调函数里面在嵌套move，接着在回调函数里面在嵌套move，不停的在callback里面嵌套函数，达到连续的动画效果，称为“回调函数”，可以看一下效果，如下：</p>
<pre><code class="language-javascript">btn.addEventListener('click', function () {
    move(div, "left", 300, 10, function () {
        move(div,"width",500,10,function() {
            move(div,"height",300,10,function(){
                move(div,"bottom",100,10,function(){
                    move(div,"top",100,10,function(){
                        move(div,"left",-200,10,function(){})
                    })
                })
            })
        })
    })
})</code></pre>
<p><img alt="" src="https://img-blog.csdnimg.cn/b10dd8a2c9fd4ae99b04f5f58fe8ac85.gif"/></p>
<p>通过画面可以看到非常丝滑的动画效果，在这我们就要思考一下，是否可以<span style="color:#be191c;"><strong>把这个动画函数封装在一个JS文件里</strong></span>，当我们想要实现动画效果时直接调用动画函数就可以了，答案是“可行的”。这样便于了代码的书写，大大提高了编程效率。接下来通过一个典型案例，在进行动画函数的学习。</p>
<h3 id="%F0%9F%8D%88%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">🍈完整代码</h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        div {
            width: 200px;
            height: 200px;
            background: #f00;
            margin-top: 30px;
            position: absolute;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button&gt;测试按钮&lt;/button&gt;
    &lt;div&gt;&lt;/div&gt;
    &lt;script&gt;
        var btn = document.querySelector('button')
        var div = document.querySelector('div')
        function move (obj, attr, target, speed, callback) {
            // 关闭上一个定时器
            clearInterval(obj.timer);

            // 获取元素当前位置
            var current = parseInt(getStyle(obj, attr));
            // 判断速度的正负值
            if (current &gt; target) {
                // 此时速度应为负值
                speed = -speed;
            }

            // 开启一个定时器,用来执行动画效果
            // 向执行动画的对象添加一个timer属性,用来保存它自己的定时器
            obj.timer = setInterval(function () {
                // 获取目标原来的left值
                var oldValue = parseInt(getStyle(obj, attr));
                // 在旧值的基础上增加
                var newValue = oldValue + speed;
                /* 
                向左移动时,需要判断newValue是否小于target
                向右移动时,需要判断newValue是否大于target
                */
                if ((speed &lt; 0 &amp;&amp; newValue &lt; target) || (speed &gt; 0 &amp;&amp; newValue &gt; target)) {
                    newValue = target;
                }
                // 将新值赋予目标
                obj.style[attr] = newValue + 'px';
                // 当元素移动到target时,停止执行动画
                if (newValue == target) {
                    // 达到目标关闭定时器
                    clearInterval(obj.timer);
                    // 动画执行完毕调用回调函数 callback
                    callback &amp;&amp; callback();
                }

            }, 30);
        }
        function getStyle (obj, name) {
            if (window.getComputedStyle) {
                // 正常浏览器的方式,具有getComputedStyle()方法
                return getComputedStyle(obj, null)[name];
            } else {
                // IE8的方式,没有getComputedStyle()方法
                return obj.currentStyle[name];
            }
        }

        btn.addEventListener('click', function () {
            move(div, "left", 300, 10, function () {
                move(div,"width",500,10,function() {
                    move(div,"height",300,10,function(){
                        move(div,"bottom",100,10,function(){
                            move(div,"top",100,10,function(){
                                move(div,"left",-200,10,function(){})
                            })
                        })
                    })
                })
            })
        })
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
<h2 id="%F0%9F%8F%83%E7%BD%91%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%9B%BE">🏃网页轮播图</h2>
<p>轮播图也称为焦点图，是网页中比较常见的特效，今天做一下这个典型案例。</p>
<h3 id="%F0%9F%8D%89%E5%88%B6%E4%BD%9C%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E7%A9%BA%E9%97%B4%E7%9B%92%E5%AD%90%EF%BC%8C%E7%94%A8%E6%9D%A5%E5%AD%98%E6%94%BE%E5%9B%BE%E7%89%87">🍉制作轮播图的空间盒子，用来存放图片</h3>
<p>我们可以根据自己的喜好设置自己轮播图的相关样式，这里就就需要借助HTML和CSS了，讲真<span style="color:#be191c;"><strong>HTML和CSS是重点基础</strong></span>，如果这两个没学好，是制作不出自己想要的样式，更别提后面的JS以及相关框架了，基础才是最重要的。</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        *{
            margin: 0;
            padding: 0;
        }
        /* 设置outer样式 */
        #outer{
            /* 设置宽高 */
            width: 820px;
            height: 452px;
            /* 居中 */
            margin: 50px auto;
            /* 设置背景颜色 */
            background-color: #008c8c;
            /* 设置padding */
            padding: 10px 0;
            /* 开启相对定位 */
            position: relative;
            /* 溢出隐藏 */
            overflow: hidden;

        }
        /* 设置imgList */
        #imgList{
            /* 去除项目符号 */
            list-style: none;
            /* 设置ul宽度 */
            /* width: 3280px; */
            /* 开启绝对定位 */
            position: absolute;
            /* 设置偏移量，每向左移动820px 就会显示下一张图片 */
        }
        /* 设置li */
        #imgList li{
            /* 设置浮动 */
            float: left;
            /* 设置左右外边距 */
            margin: 0 10px;
        }
        /* 设置导航按钮 */
        .navDiv{
            /* 开启绝对定位 */
            position: absolute;
            /* 设置位置 */
            bottom: 20px;
            /* left: 35%; */
        }
        .navDiv a{
            /* 设置浮动，浮动之后，行内元素就能设置宽高 */
            float: left;
            /* 设置宽高 */
            width: 25px;
            height: 25px;
            /* 设置背景颜色 */
            background-color: #f00;
            /* 设置左右外边距 */
            margin: 0 15px;
            /* 设置半透明 */
            opacity: .5;
            /* 设置圆角 */
            border-radius: 50%;
        }
        /* 设置鼠标移入效果 */
        .navDiv a:hover{
            background-color: green;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 创建一个外部的div作为一个大的容器 --&gt;
    &lt;div id="outer"&gt;
        &lt;!-- 创建一个ul，用于放置图片 --&gt;
        &lt;ul id="imgList"&gt;

            &lt;li&gt;&lt;img src="./01.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./02.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./03.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./04.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./01.jpeg"&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;!-- 设置导航按钮 --&gt;
        &lt;div class="navDiv"&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p><img alt="" height="713" src="image\33893630551f4d14ad435f9b6a41f836.png" width="1200"/></p>
<p><img alt="" height="601" src="image\4b7c2c5a0ef24213a96a33003f657232.png" width="1096"/></p>
<p> </p>
<p><span style="color:#be191c;"><strong>这里需要注意两点</strong></span>：</p>
<p>轮播图的按钮是要通过JS来居中，因为如果借助CSS居中，就会写死，后期添加图片又要重新设置。</p>
<p><strong>javascript:;</strong>是一个伪协议，加在超级链接上就可以防止 链接跳转，从而可以给链接JS上写自己想执行的代码。javascript:void(0) 表示一个死链接，执行空事件。</p>
<h3 id="%F0%9F%8D%8A%E7%82%B9%E5%87%BB%E5%B0%8F%E5%9C%86%E5%9C%88%E5%8F%AF%E4%BB%A5%E6%92%AD%E6%94%BE%E7%9B%B8%E5%BA%94%E7%9A%84%E5%9B%BE%E7%89%87">🍊点击小圆圈可以播放相应的图片</h3>
<pre><code class="language-javascript">&lt;script&gt;
    window.addEventListener('load',function(){
        // 获取ul标签
        var ul = document.querySelector('#imgList')
        // 获取ul下li的子元素的个数,并给ul动态赋予宽度值
        ul.style.width = ul.children.length * 820 + 'px';

        // 设置导航按钮动态居中
        var navDiv = document.querySelector('.navDiv');
        var outer = document.querySelector('#outer');
        navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth) / 2 + 'px';

        // 默认显示图片的索引
        var index = 0;
        // 获取所有的a
        var aAll = document.querySelector('.navDiv').querySelectorAll('a');

        // 为所有超链接绑定响应函数
        for(var i = 0;i&lt;aAll.length;i++){
            // 为每一个超链接都添加一个num属性
            aAll[i].num = i;
            // 为超链接绑定点击响应函数
            aAll[i].addEventListener('click',function(){
                
                // 获取超链接的索引,并将其设置为index
                index = this.num;
                // 切换图片
                imgList.style.left = -820*index + 'px';
                setA();
            })
        }
        // 创建一个方法用来选中a
        function setA(){
            for(var i = 0;i&lt;aAll.length;i++){
                aAll[i].style.backgroundColor = '';
            }
            // 创建点击时的颜色
            aAll[index].style.backgroundColor = 'green';
        }   
    })
&lt;/script&gt;</code></pre>
<p>通过JS书写动态给按钮进行居中，并设置一个点击事件，来进行图片的切换并且按钮样式虽图片的变化而变化，这里借用了“排他思想”，先干掉所有人，然后保留自己人。</p>
<p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/61805867a1b745c4ad97415774392946.gif"/></p>
<h3 id="%F0%9F%8D%8B%E9%BC%A0%E6%A0%87%E4%B8%8D%E7%82%B9%E5%87%BB%EF%BC%8C%E8%BD%AE%E6%92%AD%E5%9B%BE%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE">🍋鼠标不点击，轮播图会自动播放</h3>
<p>自动播放就涉及动画函数了，根据上文的回调地狱的讲解，将动画函数move进行封装。如下：</p>
<pre><code class="language-javascript">function move(obj,attr,target,speed,callback){
    // 关闭上一个定时器
    clearInterval(obj.timer);

    // 获取元素当前位置
    var current = parseInt(getStyle(obj,attr));
    // 判断速度的正负值
    if(current &gt; target){
        // 此时速度应为负值
        speed = -speed;
    }

    // 开启一个定时器,用来执行动画效果
    // 向执行动画的对象添加一个timer属性,用来保存它自己的定时器
    obj.timer = setInterval(function(){
        // 获取目标原来的left值
        var oldValue = parseInt(getStyle(obj,attr));
        // 在旧值的基础上增加
        var newValue = oldValue + speed;
        /* 
        向左移动时,需要判断newValue是否小于target
        向右移动时,需要判断newValue是否大于target
        */
        if((speed &lt; 0 &amp;&amp; newValue &lt; target) || (speed &gt; 0 &amp;&amp; newValue &gt; target)){
            newValue = target;
        }
        // 将新值赋予目标
        obj.style[attr] = newValue + 'px';
        // 当元素移动到target时,停止执行动画
        if(newValue == target){
            // 达到目标关闭定时器
            clearInterval(obj.timer);
            // 动画执行完毕调用回调函数 callback
            callback &amp;&amp; callback();
        }

    },30);
}
function getStyle(obj,name){
    if(window.getComputedStyle){
        // 正常浏览器的方式,具有getComputedStyle()方法
        return getComputedStyle(obj,null)[name];
    }else{
        // IE8的方式,没有getComputedStyle()方法
        return obj.currentStyle[name];
    }
}

</code></pre>
<p>接下里通过引入move函数实现动画效果。</p>
<pre><code class="language-javascript">&lt;script&gt;
    window.addEventListener('load',function(){
        // 获取ul标签
        var ul = document.querySelector('#imgList')
        // 获取ul下li的子元素的个数,并给ul动态赋予宽度值
        ul.style.width = ul.children.length * 820 + 'px';

        // 设置导航按钮动态居中
        var navDiv = document.querySelector('.navDiv');
        var outer = document.querySelector('#outer');
        navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth) / 2 + 'px';

        // 默认显示图片的索引
        var index = 0;
        // 获取所有的a
        var aAll = document.querySelector('.navDiv').querySelectorAll('a');
        // 设置默认选中效果
        aAll[index].style.backgroundColor = 'green';

        // 为所有超链接绑定响应函数
        for(var i = 0;i&lt;aAll.length;i++){
            // 为每一个超链接都添加一个num属性
            aAll[i].num = i;
            // 为超链接绑定点击响应函数
            aAll[i].addEventListener('click',function(){
                //关闭自动切换的定时器
                clearInterval(stop);
                
                // 获取超链接的索引,并将其设置为index
                index = this.num;
                // 切换图片
                // imgList.style.left = -820*index + 'px';
                setA();
                move(imgList,"left",-820*index,20,function(){
                    //动画执行完毕，开启自动切换
                    autoChange();
                })
            })
        }
        // // 开启自动切换图片
        autoChange();
        
        // 创建一个方法用来选中a
        function setA(){
            // 判断当前索引是否是第一张
            if(index &gt;= ul.children.length-1){
                // 则将index设置为0
                index = 0;
                // 此时显示最后一张图片，而最后一张图片和第一张一模一样
                // 通过CSS将最后一张切换成第一张
                imgList.style.left = 0 + 'px';
            }
            for(var i = 0;i&lt;aAll.length;i++){
                aAll[i].style.backgroundColor = '';
            }
            // 创建点击时的颜色
            aAll[index].style.backgroundColor = 'green';
        }   
        // 创建一个函数,用来开启自动切换图片
        // 定义一个自动切换的定时器的标识
        var stop;
        function autoChange(){
            // 开启一个定时器,用来定时切换图片
            stop = setInterval(function(){
                // 使索引自增
                index++;
                
                // 判断index的值
                index %= ul.children.length;
                
                // 执行动画来切换图片
                move(imgList,"left",-820*index,20,function(){
                    // 设置导航点
                    setA();
                })
            },3000);
        };
    })
    
&lt;/script&gt;
&lt;script src="./move.js"&gt;&lt;/script&gt;</code></pre>
<p>可以看到代码中，我们设计了一个定时器实现自动切换图片，并设计<span style="color:#be191c;"><strong>在点击函数中关闭定时器</strong></span>，这样就不会出现点击事件和自动播放发生冲突，造成图片的怪异播放现象。</p>
<p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/d30d177e7dc84af188c57b286a8ad402.gif"/></p>
<h3 id="%F0%9F%8D%8C%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">🍌完整代码</h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        *{
            margin: 0;
            padding: 0;
        }
        /* 设置outer样式 */
        #outer{
            /* 设置宽高 */
            width: 820px;
            height: 452px;
            /* 居中 */
            margin: 50px auto;
            /* 设置背景颜色 */
            background-color: #008c8c;
            /* 设置padding */
            padding: 10px 0;
            /* 开启相对定位 */
            position: relative;
            /* 溢出隐藏 */
            overflow: hidden;

        }
        /* 设置imgList */
        #imgList{
            /* 去除项目符号 */
            list-style: none;
            /* 设置ul宽度 */
            /* width: 3280px; */
            /* 开启绝对定位 */
            position: absolute;
            /* 设置偏移量，每向左移动820px 就会显示下一张图片 */
        }
        /* 设置li */
        #imgList li{
            /* 设置浮动 */
            float: left;
            /* 设置左右外边距 */
            margin: 0 10px;
        }
        /* 设置导航按钮 */
        .navDiv{
            /* 开启绝对定位 */
            position: absolute;
            /* 设置位置 */
            bottom: 20px;
            /* left: 35%; */
        }
        .navDiv a{
            /* 设置浮动，浮动之后，行内元素就能设置宽高 */
            float: left;
            /* 设置宽高 */
            width: 25px;
            height: 25px;
            /* 设置背景颜色 */
            background-color: #f00;
            /* 设置左右外边距 */
            margin: 0 15px;
            /* 设置半透明 */
            opacity: .5;
            /* 设置圆角 */
            border-radius: 50%;
        }
        /* 设置鼠标移入效果 */
        .navDiv a:hover{
            background-color: green;
        }
    &lt;/style&gt;
    &lt;script&gt;
        window.addEventListener('load',function(){
            // 获取ul标签
            var ul = document.querySelector('#imgList')
            // 获取ul下li的子元素的个数,并给ul动态赋予宽度值
            ul.style.width = ul.children.length * 820 + 'px';

            // 设置导航按钮动态居中
            var navDiv = document.querySelector('.navDiv');
            var outer = document.querySelector('#outer');
            navDiv.style.left = (outer.offsetWidth - navDiv.offsetWidth) / 2 + 'px';

            // 默认显示图片的索引
            var index = 0;
            // 获取所有的a
            var aAll = document.querySelector('.navDiv').querySelectorAll('a');
            // 设置默认选中效果
            aAll[index].style.backgroundColor = 'green';

            // 为所有超链接绑定响应函数
            for(var i = 0;i&lt;aAll.length;i++){
                // 为每一个超链接都添加一个num属性
                aAll[i].num = i;
                // 为超链接绑定点击响应函数
                aAll[i].addEventListener('click',function(){
                    //关闭自动切换的定时器
                    clearInterval(stop);
                    
                    // 获取超链接的索引,并将其设置为index
                    index = this.num;
                    // 切换图片
                    // imgList.style.left = -820*index + 'px';
                    setA();
                    move(imgList,"left",-820*index,20,function(){
                        //动画执行完毕，开启自动切换
                        autoChange();
                    })
                })
            }
            // // 开启自动切换图片
            autoChange();
            
            // 创建一个方法用来选中a
            function setA(){
                // 判断当前索引是否是第一张
                if(index &gt;= ul.children.length-1){
                    // 则将index设置为0
                    index = 0;
                    // 此时显示最后一张图片，而最后一张图片和第一张一模一样
                    // 通过CSS将最后一张切换成第一张
                    imgList.style.left = 0 + 'px';
                }
                for(var i = 0;i&lt;aAll.length;i++){
                    aAll[i].style.backgroundColor = '';
                }
                // 创建点击时的颜色
                aAll[index].style.backgroundColor = 'green';
            }   
            // 创建一个函数,用来开启自动切换图片
            // 定义一个自动切换的定时器的标识
            var stop;
            function autoChange(){
                // 开启一个定时器,用来定时切换图片
                stop = setInterval(function(){
                    // 使索引自增
                    index++;
                    
                    // 判断index的值
                    index %= ul.children.length;
                    
                    // 执行动画来切换图片
                    move(imgList,"left",-820*index,20,function(){
                        // 设置导航点
                        setA();
                    })
                },3000);
            };
        })
        
    &lt;/script&gt;
    &lt;script src="./tool.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- 创建一个外部的div作为一个大的容器 --&gt;
    &lt;div id="outer"&gt;
        &lt;!-- 创建一个ul，用于放置图片 --&gt;
        &lt;ul id="imgList"&gt;

            &lt;li&gt;&lt;img src="./01.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./02.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./03.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./04.jpeg"&gt;&lt;/li&gt;
            &lt;li&gt;&lt;img src="./01.jpeg"&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;!-- 设置导航按钮 --&gt;
        &lt;div class="navDiv"&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
            &lt;a href="javascript:;"&gt;&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<blockquote>
<p>🍃JavaScript的学习还是要以多练习为主，想要练习JavaScript的朋友，推荐可以去牛客网看一看，链接：<a class="link-info" href="https://www.nowcoder.com/link/pc_csdncpt_ysfh_qianduan" title="牛客网">牛客网</a> 里面的IT题库内容很丰富，属于国内做的很好的了，最重要的是里面的资源是免费的，是课程+刷题+面经+求职+讨论区分享，一站式求职学习网站，感兴趣的可以去看看。</p>
</blockquote>
<p><img alt="" height="411" src="image\f87201d0b7e944b1981610b85f21fd99.png" width="1152"/></p>
<p>呜呜~，原创不易。</p>
<p style="text-align:center;"><img alt="" src="https://img-blog.csdnimg.cn/66a72e63f9664352b7f7cabaf44804e5.webp"/></p>
</div>
</div>