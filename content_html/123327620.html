<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#12Windows_1">12.Windows窗体应用程序</a></li><li><ul><li><a href="#121_Windows_5">12.1 创建Windows窗体应用程序</a></li><li><a href="#122__67">12.2 窗体属性</a></li><li><a href="#123__144">12.3 窗体事件</a></li><li><a href="#124__282">12.4 窗体方法</a></li><li><a href="#125_McssageBox_405">12.5 McssageBox：消息框</a></li><li><a href="#126__502">12.6 控件</a></li><li><a href="#127_LabelLinkLabel_511">12.7 Label和LinkLabel：标签控件</a></li><li><a href="#128_TextBox_579">12.8 TextBox：文本框控件</a></li><li><a href="#129_Button_694">12.9 Button：按钮控件</a></li><li><a href="#1210_RadioButton_791">12.10 RadioButton：单选按钮控件</a></li><li><a href="#1211_CheckBox_850">12.11 CheckBox：复选框控件</a></li><li><a href="#1212_CheckedListBox_920">12.12 CheckedListBox：复选列表框控件</a></li><li><a href="#1213_ListBox_992">12.13 ListBox：列表框控件</a></li></ul>
</li></ul>
</div>
<p></p>
<h1><a id="12Windows_1"></a>12.Windows窗体应用程序</h1>
<p><code>WinForm</code>是<code>Windows Form</code>的简称，是基于<code>.NET Framework</code>平台的客户端（PC软件）开发技术，一般使用C#编程。Windows应用程序与Windows操作系统的界面类似，每个界面都是由窗体构成的，并且能通过鼠标单击、键盘输入等操作完成相应的功能。</p>
<h2><a id="121_Windows_5"></a>12.1 创建Windows窗体应用程序</h2>
<ul><li>在Visual Studio 2019软件中，点击创建新项目。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/552daf896a664795bda10348bd575586.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>选择Windows窗体应用，点击下一步。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/46d3e78a3b8b4d68aaa763a535e27243.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>设置配置信息后点击下一步。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/72d0326f93414db9a5b9e60e768fe452.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>默认选择目标框架<code>.NET Core 3.1</code>后可完成Windows窗体应用程序的创建。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2ec27c68c8674fef8742271b2b527d23.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p>在每一个Windows窗体应用程序的项目文件夹中，都会有一个默认的窗体程序Form1.cs，并且在项目的Program.cs文件中指定要运行的窗体。</p>
<p>Program.cs 文件的代码如下。</p>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    static class Program
    {
        /// &lt;summary&gt;
        ///  The main entry point for the application.
        /// &lt;/summary&gt;
        [STAThread]
        static void Main()
        {
            Application.SetHighDpiMode(HighDpiMode.SystemAware);
            // 用于启动应用程序中可视的样式，如果控件和操作系统支持，那么 控件的绘制就能根据显不风格来实现
            Application.EnableVisualStyles();
            // 控件支持UseCompatibleTextRenderingproperty属性，该方法将此属性设置为默认值
            Application.SetCompatibleTextRenderingDefault(false);
            // 用于设置在当前项目中要启动的窗体，new Form1()即为要启动的窗体
            Application.Run(new Form1());
        }
    }
}

</code></pre>
<p>在Windows窗体应用程序中界面是由不同类型的控件构成的，系统中默认的控件全部存放到工具箱中，工具箱在视图选项卡下，如下图所示。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/de0fd840974c400f9fe7844e8d6637a8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p>在工具箱中将控件划分为公共控件、容器、菜单和工具栏、数据、组件、打印、对话框等。</p>
<h2><a id="122__67"></a>12.2 窗体属性</h2>
<p>每一个Windows窗体应用程序都是由若干个窗体构成的，窗体中的属性主要用于设置窗体的外观。</p>
<p>在Windows窗体应用程序中右击窗体，在弹出的右键菜单中选择<code>属性</code>，弹出如下图所示的属性面板。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/efd91fd8b9b3488bb88400bf368bfff8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p>窗体的常用属性如下表所示。</p>
<table><thead><tr><th align="center">属性</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center"><code>Design</code>:Name</td><td align="center">用来获取或设置窗体的名称</td></tr><tr><td align="center"><code>布局</code>:WindowState</td><td align="center">获取或设置窗体的初始可视状态，取值有3种，即Normal（正常）、Minimized（最小化）、Maximized（最大化），默认为Normal，即正常显示</td></tr><tr><td align="center"><code>布局</code>:StartPosition</td><td align="center">获取或设置窗体第一次出现时的位置，取值有5种，即Manual（窗体位置由Location属性决定）、CenterScreen（屏幕居中）、WindowsDefaultLocation（ Windows默认位置）、WindowsDefaultBounds（Windows默认位置，边界由Windows决定）、CenterParent（在父窗体中居中），默认为WindowsDefaultLocation</td></tr><tr><td align="center"><code>窗口样式</code>:Icon</td><td align="center">获取或设置窗体上显示的图标</td></tr><tr><td align="center"><code>窗口样式</code>:MaximizeBox</td><td align="center">获取或设置窗体标题栏右上角是否有最大化按钮，默认为True</td></tr><tr><td align="center"><code>窗口样式</code>:MinimizeBox</td><td align="center">获取或设置窗体标题栏右上角是否有最小化按钮，默认为True</td></tr><tr><td align="center"><code>外观</code>:Text</td><td align="center">获取或设置窗口标题栏中的文字</td></tr><tr><td align="center"><code>外观</code>:BackColor</td><td align="center">获取或设置窗体的背景色</td></tr><tr><td align="center"><code>外观</code>:BackgroundImage</td><td align="center">获取或设置窗体的背景图像</td></tr><tr><td align="center"><code>外观</code>:BackgroundImageLayout</td><td align="center">获取或设置图像布局，取值有 5 种，即None（图片居左显示）、Tile（图像重复，默认值）、Stretch（拉伸）、Center（居中）、Zoom（按比例放大到合适大小）</td></tr><tr><td align="center"><code>外观</code>:Font</td><td align="center">获取或设置窗体上文字的字体</td></tr><tr><td align="center"><code>外观</code>:ForeColor</td><td align="center">获取或设置窗体上文字的颜色</td></tr><tr><td align="center"><code>行为</code>:Enabled</td><td align="center">获取或设置窗体是否可用</td></tr></tbody></table>
<p>下面实现一个简单的Windows窗体应用程序，部分属性取值如下。</p>
<table><thead><tr><th align="center">属性</th><th align="center">属性值</th></tr></thead><tbody><tr><td align="center">Name</td><td align="center">Form1</td></tr><tr><td align="center">StartPosition</td><td align="center">CenterScreen</td></tr><tr><td align="center">Text</td><td align="center">第一个窗体</td></tr><tr><td align="center">MaximizeBox</td><td align="center">False</td></tr><tr><td align="center">MinimizeBox</td><td align="center">False</td></tr><tr><td align="center">Backgroundimage</td><td align="center">example.jpg</td></tr><tr><td align="center">BackgroundlmageLayout</td><td align="center">Stretch</td></tr></tbody></table>
<p>在上述属性中除了背景图片 (Backgroundimage) 属性以外，其他属性直接添加上表中对应的属性值即可。设置背景图片属性 （Backgroimdlmage）的方法是单击Backgroundimage属性后的按钮，在弹出的对话框中单击“导入”按钮。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/19925ed356244beeac8302ea481e1f6f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p>每一个Windows窗体应用程序在运行时仅能指定一个启动窗体，设置启动窗体的方式是在项目的Program.cs文件中指定。具体的代码如下。</p>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    static class Program
    {
        /// &lt;summary&gt;
        ///  The main entry point for the application.
        /// &lt;/summary&gt;
        [STAThread]
        static void Main()
        {
            Application.SetHighDpiMode(HighDpiMode.SystemAware);
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            Application.Run(new Form1());
        }
    }
}
</code></pre>
<p>最后按<code>Ctrl+F5</code>键运行程序，效果如下图所示。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8156bec485394746bd9c54edf053bff3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<h2><a id="123__144"></a>12.3 窗体事件</h2>
<p>在窗体属性面板中单击闪电图标即可查看到窗体中的事件，如下图所示。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/51c92329722d48958d7dcf1ab80bbc7b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<table><thead><tr><th align="center">事件</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center"><code>行为</code>:Load</td><td align="center">窗体加载事件，在运行窗体时即可执行该事件</td></tr><tr><td align="center"><code>操作</code>:MouseClick</td><td align="center">鼠标单击事件</td></tr><tr><td align="center"><code>操作</code>:MouseDoubleClick</td><td align="center">鼠标双击事件</td></tr><tr><td align="center"><code>鼠标</code>:MouseMove</td><td align="center">鼠标移动事件</td></tr><tr><td align="center"><code>钥匙</code>:KeyDown</td><td align="center">键盘按下事件</td></tr><tr><td align="center"><code>钥匙</code>:KeyUp</td><td align="center">键盘释放事件</td></tr><tr><td align="center"><code>行为</code>:FormClosing</td><td align="center">窗体关闭事件，关闭窗体时发生</td></tr><tr><td align="center"><code>行为</code>:FormClosed</td><td align="center">窗体关闭事件，关闭窗体后发生</td></tr></tbody></table>
<p>下面的例子通过事件操作改变窗体背景颜色。</p>
<ul><li>在事件界面中选中需要创建的事件，并双击该事件右侧的单元格，系统会自动为其生成对应事件的处理方法。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/41d2f97d44df47948b031b2d7a0e1db1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>设置好事件后会在窗体对应的代码文件中自动生成与事件对应的4个方法，代码如下。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_MouseClick(object sender, MouseEventArgs e)
        {

        }

        private void Form1_MouseDoubleClick(object sender, MouseEventArgs e)
        {

        }

        private void Form1_Load(object sender, EventArgs e)
        {

        }
    }
}
</code></pre>
<ul><li>添加事件处理代码，除了可以在属性面板中设置外，使用代码设置的方式是使用this关键字代表当前窗体的实例。、</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_MouseClick(object sender, MouseEventArgs e)
        {
            //设置窗体背景颜色为黑色
            this.BackColor = Color.Black;
        }

        private void Form1_MouseDoubleClick(object sender, MouseEventArgs e)
        {
            //设置窗体背景颜色为蓝色
            this.BackColor = Color.Blue;
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            //设置窗体颜色为红色
            this.BackColor = Color.Red;
        }
    }
}
</code></pre>
<ul><li>设置启动窗体，在<code>Program.cs</code>类中将Form1窗体设置为启动窗体。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    static class Program
    {
        /// &lt;summary&gt;
        ///  The main entry point for the application.
        /// &lt;/summary&gt;
        [STAThread]
        static void Main()
        {
            Application.SetHighDpiMode(HighDpiMode.SystemAware);
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            // 设置启动窗体
            Application.Run(new Form1());
        }
    }
}
</code></pre>
<img src="https://media.giphy.com/media/Ef6dyj1bH67rqy1SIK/giphy.gif"/>
<h2><a id="124__282"></a>12.4 窗体方法</h2>
<p>自定义的窗体都继承自<code>System.Windows.Form</code>类，能使用Form类中已有的成员，包括属性、方法、事件等。</p>
<table><thead><tr><th align="center">方法</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">void Show()</td><td align="center">显示窗体</td></tr><tr><td align="center">void Hide()</td><td align="center">隐藏窗体</td></tr><tr><td align="center">DialogResult ShowDialog()</td><td align="center">以对话框模式显示窗体</td></tr><tr><td align="center">void CenterToParent()</td><td align="center">使窗体在父窗体边界内居中</td></tr><tr><td align="center">void CenterToScreen()</td><td align="center">使窗体在当前屏幕上居中</td></tr><tr><td align="center">void Activate()</td><td align="center">激活窗体并给予它焦点</td></tr><tr><td align="center">void Close()</td><td align="center">关闭窗体</td></tr></tbody></table>
<p>下面的例子实现在一个窗体中打开另外一个窗体。</p>
<ul><li>在项目中创建两个窗体。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/36fd3e52b8be44d4bffbddb86ba175ac.png#pic_center"/></p>
<ul><li>设置Form1窗体的事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_MouseClick(object sender, MouseEventArgs e)
        {
            //创建Form2窗体实例
            Form2 form2 = new Form2();
            //打开form2窗体
            form2.Show();
        }
    }
}
</code></pre>
<ul><li>设置Form2窗体的事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form2 : Form
    {
        public Form2()
        {
            InitializeComponent();
        }

        private void Form2_MouseClick(object sender, MouseEventArgs e)
        {
            //将窗体居中
            this.CenterToScreen();
        }

        private void Form2_MouseDoubleClick(object sender, MouseEventArgs e)
        {
            //关闭窗体
            this.Close();
        }
    }
}
</code></pre>
<ul><li>将Form1窗体设置为启动窗体。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    static class Program
    {
        /// &lt;summary&gt;
        ///  The main entry point for the application.
        /// &lt;/summary&gt;
        [STAThread]
        static void Main()
        {
            Application.SetHighDpiMode(HighDpiMode.SystemAware);
            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            //设置启动窗体
            Application.Run(new Form1());
        }
    }
}
</code></pre>
<img src="https://media.giphy.com/media/Ef6dyj1bH67rqy1SIK/giphy.gif"/>
<p>在使用窗体中的方法时需要注意，如果是当前窗体需要调用方法直接使用 <code>this</code>关键字代表当前窗体，通过<code>this.方法名(参数列表)</code>的方式调用即可。如果要操作其他窗体，则需要用窗体的实例来调用方法。</p>
<h2><a id="125_McssageBox_405"></a>12.5 McssageBox：消息框</h2>
<p>在Windows窗体应用程序中向用户提示操作时采用消息框弹出的形式。消息框是通过<code>McssageBox</code>类来实现的，定义了 Show 的多个重载方法，该方法的作用就是弹出一个消息框。由于Show方法是一个静态的方法，因此调用该方法只需要使用<code>MessageBox.Show(参数)</code>的形式即可弹出消息框。</p>
<table><thead><tr><th align="center">方法</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">DialogResult Show(string text)</td><td align="center">指定消息框中显示的文本（text）</td></tr><tr><td align="center">DialogResult Show(string text, string caption)</td><td align="center">指定消息框中显示的文本（text）以及消息框的标题（caption）</td></tr><tr><td align="center">DialogResult Show(string text, string caption, MessageBoxButtons buttons)</td><td align="center">指定消息框中显示的文本（text）、消息框的 标题（caption）以及消息框中显示的按钮 （buttons）</td></tr><tr><td align="center">DialogResult Show(string text, string caption, MessageBoxButtons buttons, MessageBoxIcon icon)</td><td align="center">指定消息框中显示的文本（text）、消息框的 标题（caption ）、消息框中显示的按钮 （buttons）以及消息框中显示的图标（icon）</td></tr></tbody></table>
<p>在上面所列出方法的参数中涉及两个枚举类型MessageBoxButtons和MessageBoxIcon。</p>
<p>MessageBoxButtons枚举类型主要用于设置消息框中显示的按钮，具体的枚举值如下：</p>
<ul><li>OK：在消息框中显示“确定”按钮。</li><li>OKCancel：在消息框中显示“确定”和“取消”按钮。</li><li>AbortRetryIgnore：在消息框中显示“中止” “重试”和“忽略”按钮。</li><li>YesNoCancel：在消息框中显示“是” “否”和“取消”按钮。</li><li>YesNo：在消息框中显示“是”和“否”按钮。</li><li>RetryCancel：在消息框中显示“重试”和“取消”按钮。</li></ul>
<hr/>
<p>MessageBoxIcon枚举类型主要用于设置消息框中显示的图标，具体的枚举值如下。</p>
<ul><li>None：在消息框中不显示任何图标。</li><li>Hand、Stop、Error：在消息框中显示由一个红色背景的圆圈及其中的白色X组成 的图标。</li><li>Question：在消息框中显示由圆圈和其中的一个问号组成的图标。</li><li>Exclamation、Warning：在消息框中显示由一个黄色背景的三角形及其中的一个感叹号组成的图标。</li><li>Asterisk、Information：在消息框中显示由一个圆圈及其中的小写字母<code>i</code>组成的图标。</li></ul>
<hr/>
<p>调用 MessageBox 类中的Show方法将返回一个DialogResult类型的值。DialogResult也是一个枚举类型，是消息框的返回值，通过单击消息框中不同的按钮得到不同的消息框返回值。具体值如下。</p>
<ul><li>None：消息框没有返回值，表明有消息框继续运行。</li><li>OK：消息框的返回值是0K（通常从标签为“确定”的按钮发送）。</li><li>Cancel：消息框的返回值是Cancel（通常从标签为“取消”的按钮发送）。</li><li>Abort：消息框的返回值是Abort（通常从标签为“中止”的按钮发送）。</li><li>Retry：消息框的返回值是Retry（通常从标签为“重试”的按钮发送）。</li><li>Ignore：消息框的返回值是Ignore（通常从标签为“忽略“的按钮发送）。</li><li>Yes：消息框的返回值是Yes（通常从标签为“是“的按钮发送）。</li><li>No：消息框的返回值是No（通常从标签为“否“的按钮发送）。</li></ul>
<hr/>
<p>下面的例子实现通过消息框提示打开新窗体。</p>
<ul><li>在项目中创建两个窗体。</li><li>设置Form1窗体的事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_MouseClick(object sender, MouseEventArgs e)
        {
            //弹出消息框，并获取消息框的返回值
            DialogResult dr = MessageBox.Show("是否打开新窗体？", "提示", MessageBoxButtons.YesNo, MessageBoxIcon.Warning);
            //如果消息框返回值是Yes，显示新窗体
            if (dr == DialogResult.Yes)
            {
                Form2 form2 = new Form2();
                form2.Show();
            }
            //如果消息框返回值是No，关闭当前窗体
            else if (dr == DialogResult.No)
            {
                //关闭当前窗体
                this.Close();
            }
        }
    }
}
</code></pre>
<ul><li>设置项目的启动窗体Form1。</li></ul>
<img src="https://media.giphy.com/media/97FDLrKBDUI8rik5Cx/giphy.gif"/>
<h2><a id="126__502"></a>12.6 控件</h2>
<p>在Windows窗体应用程序中每个窗体都是由若干个控件构成的。控件就是指能输入文本的位置、能选择的位置、能单击的位置、图片显示的位置等。其中：</p>
<ul><li>能输入文本的位置对应于Windows窗体应用程序中的文本框、多行文本框等。</li><li>能选择的位置对应于Windows窗体应用程序中的复选框、单选按钮、下拉列表框。</li><li>能单击的位置对应于Windows窗体应用程序中的按钮、超链接标签、菜单栏、工具栏等。</li><li>图片显示的位置对应于Windows窗体应用程序中的图片控件。</li></ul>
<h2><a id="127_LabelLinkLabel_511"></a>12.7 Label和LinkLabel：标签控件</h2>
<p>通常使用标签控件来显示文本，标签控件王要分为普通的标签（Label）和超链接形式的标签（LinkLabel） 。</p>
<table><thead><tr><th align="center">属性名</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">Name</td><td align="center">标签对象的名称，区别不同标签唯一标志</td></tr><tr><td align="center">Text</td><td align="center">标签对象上显示的文本</td></tr><tr><td align="center">Font</td><td align="center">标签中显示文本的样式</td></tr><tr><td align="center">ForeColor</td><td align="center">标签中显示文本的颜色</td></tr><tr><td align="center">BackColor</td><td align="center">标签的背景颜色</td></tr><tr><td align="center">Image</td><td align="center">标签中显示的图片</td></tr><tr><td align="center">AutoSize</td><td align="center">标签的大小是否根据内容自动调整，True为自动调整，False为用户自定义大小</td></tr><tr><td align="center">Size</td><td align="center">指定标签控件的大小</td></tr><tr><td align="center">Visible</td><td align="center">标签是否可见，True 为可见，False 为不可见</td></tr></tbody></table>
<p>普通标签控件（Label）中的事件与窗体的事件类似，常用的事件主要有鼠标单击事件、 鼠标双击事件、标签上文本改变的事件等。</p>
<p>超链接标签控件（LinkLabel）也具有相同的属性和事件，主要应用的事件是鼠标单击事件。</p>
<p>下面的例子实现通过超链接单击事件交换两个普通标签的文本信息。</p>
<ul><li>在工具箱中设置控件并修改文本信息。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/c4f1dc0a5c4b4846ad17f8375722fe66.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/2f556b122e9d4fbe86f52e4f6c6108f5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>双击超链接文本创建点击事件。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e5adb1455c3c44ad8a020d7c11190bab.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
		// 超链接点击事件
        private void linkLabel1_LinkClicked(object sender, LinkLabelLinkClickedEventArgs e)
        {
            //交换标签上的信息。
            string temp = label1.Text;
            label1.Text = label2.Text;
            label2.Text = temp;
        }
    }
}
</code></pre>
<img src="https://media.giphy.com/media/MN4v4smDqhLL7Jq1iJ/giphy.gif"/>
<h2><a id="128_TextBox_579"></a>12.8 TextBox：文本框控件</h2>
<p>文本框（TextBox）是在窗体中输入信息时最常用的控件，通过设置文本框属性可以实现多行文本框、密码框等。</p>
<table><thead><tr><th align="center">属性名</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">Text</td><td align="center">文本框对象中显示的文本</td></tr><tr><td align="center">MaxLength</td><td align="center">在文本框中最多输入的文本的字符个数</td></tr><tr><td align="center">WordWrap</td><td align="center">文本框中的文本是否自动换行，如果是True，则自动换行，如果是False，则不能自动换行</td></tr><tr><td align="center">PasswordChar</td><td align="center">将文本框中出现的字符使用指定的字符替换，通常会使用<code>*</code>字符</td></tr><tr><td align="center">Multiline</td><td align="center">指定文本框是否为多行文本框，如果为True，则为多行文本框，如果为False，则为单行文本框</td></tr><tr><td align="center">ReadOnly</td><td align="center">指定文本框中的文本是否可以更改，如果为True，则不能更改，即只读文本框，如果为False，则允许更改文本框中的文本</td></tr><tr><td align="center">Lines</td><td align="center">指定文本框中文本的行数</td></tr><tr><td align="center">ScrollBars</td><td align="center">指定文本框中是否有滚动条，如果为True，则有滚动条，如果为False， 则没有滚动条</td></tr></tbody></table>
<p>文本框控件最常使用的事件是文本改变事件(TextChange)，即在文本框控件中的内容改变时触发该事件。</p>
<p>下面的例子实现简单的登录窗体。</p>
<ul><li>设置控件信息。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/d3a4d451a69b43efb651d4d2a809eb86.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<pre><code class="prism language-c#">            // textBox1
            // 
            this.textBox1.Location = new System.Drawing.Point(310, 112);
            this.textBox1.Name = "textBox1";
            this.textBox1.Size = new System.Drawing.Size(125, 27);
            this.textBox1.TabIndex = 0;
            // 
            // textBox2
            // 
            this.textBox2.Location = new System.Drawing.Point(310, 174);
            this.textBox2.Name = "textBox2";
			// 密码框，将用户输入的密码用*替代
            this.textBox2.PasswordChar = '*';
            this.textBox2.Size = new System.Drawing.Size(125, 27);
            this.textBox2.TabIndex = 1;
            // 
            // label1
            // 
            this.label1.AutoSize = true;
            this.label1.Location = new System.Drawing.Point(240, 113);
            this.label1.Name = "label1";
            this.label1.Size = new System.Drawing.Size(69, 20);
            this.label1.TabIndex = 2;
            this.label1.Text = "用户名：";
            // 
            // label2
            // 
            this.label2.AutoSize = true;
            this.label2.Location = new System.Drawing.Point(240, 175);
            this.label2.Name = "label2";
            this.label2.Size = new System.Drawing.Size(54, 20);
            this.label2.TabIndex = 3;
            this.label2.Text = "密码：";
            // 
            // linkLabel1
            // 
            this.linkLabel1.AutoSize = true;
            this.linkLabel1.Location = new System.Drawing.Point(310, 266);
            this.linkLabel1.Name = "linkLabel1";
            this.linkLabel1.Size = new System.Drawing.Size(39, 20);
            this.linkLabel1.TabIndex = 4;
            this.linkLabel1.TabStop = true;
            this.linkLabel1.Text = "登录";
            this.linkLabel1.LinkClicked += new System.Windows.Forms.LinkLabelLinkClickedEventHandler(this.linkLabel1_LinkClicked); 
</code></pre>
<ul><li>设置超链接点击事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void linkLabel1_LinkClicked(object sender, LinkLabelLinkClickedEventArgs e)
        {
            //获取用户名
            string username = textBox1.Text;
            //获取密码
            string password = textBox2.Text;
            //判断用户名密码是否正确
            if ("Kint".Equals(username) &amp;&amp; "1111".Equals(password))
            {
                MessageBox.Show("登录成功！");
            }
            else
            {
                MessageBox.Show("登录失败！");
            }
        }
    }
}
</code></pre>
<img src="https://media.giphy.com/media/BHb9Z52RSd1yTVGmMq/giphy.gif"/>
<h2><a id="129_Button_694"></a>12.9 Button：按钮控件</h2>
<p>按钮主要用于提交页面的内容，或者是确认某种操作等。常用的属性包括在按钮中显示的文字 (Text) 以及按钮外观设置的属性，最常用的事件是单击事件。</p>
<p>下面的例子实现一个简单的用户注册功能，并将提交的注册信息显示在新窗体的文本框中。</p>
<ul><li>设置Form1控件和Form2控件</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/5495f1bbdad14efc8281b42a8065f0f1.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/548f05b881634dbaad11f63376bb5eb5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>在注册时判断用户名和密码不能为空，并且要求两次输入的密码一致，设置Form1中的按钮代码如下。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        //“确定”按钮的单击事件，用于判断注册信息并跳转到新窗口显示注册信息
        private void button1_Click(object sender, EventArgs e)
        {
            string name = textBox1.Text;
            string pwd = textBox2.Text;
            string repwd = textBox3.Text;
            if (string.IsNullOrEmpty(name))
            {
                MessageBox.Show("用户名不能为空！");
                return;
            }
            else if (string.IsNullOrEmpty(textBox2.Text))
            {
                MessageBox.Show("密码不能为空！");
                return;
            }
            else if (!textBox2.Text.Equals(textBox3.Text))
            {
                MessageBox.Show("两次输入的密码不一致！");
                return;
            }
            //将用户名和密码传递到Form2中
            Form2 form2 = new Form2(name, pwd);
            form2.Show();
        }
        //“取消”按钮的事件，用于关闭窗体
        private void button2_Click(object sender, EventArgs e)
        {
            //关闭窗体
            this.Close();
        }
    }
}
</code></pre>
<ul><li>设置Form2中的代码。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form2 : Form
    {
        public Form2(string name, string pwd)
        {
            InitializeComponent();
            label2.Text = "用户名：" + name;
            label3.Text = "密  码：" + pwd;
        }
    }
}
</code></pre>
<img src="https://media.giphy.com/media/4vPeLVwukkenf6nNRL/giphy.gif"/>
<h2><a id="1210_RadioButton_791"></a>12.10 RadioButton：单选按钮控件</h2>
<p>RadioButton是单选按钮控件，多个RadioButton控件可以为一组，这一组内的RadioButton控件只能有一个被选中。</p>
<p>下面通过一个例子使用单选按钮控件。</p>
<ul><li>设置控件。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/fc66485907774b9cb74ac298099dd3de.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>设置确认按钮点击事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
		// 单击“确定”按钮的事件
        private void button1_Click(object sender, EventArgs e)
        {
            string msg = "";
            if (radioButton1.Checked)
            {
                msg = radioButton1.Text;
            }
            else if (radioButton2.Checked)
            {
                msg = radioButton2.Text;
            }
            else if (radioButton3.Checked)
            {
                msg = radioButton3.Text;
            }
            MessageBox.Show("您喜欢的编程语言是：" + msg, "提示");
        }
    }
}
</code></pre>
<p><code>Checked</code>属性可用于判断单选按钮是否被选中。如果该属性的返回值为True，则代表选中；如果返回值为False，则表示未选中。</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9f78e44202ca4b4d887eaa226b4b9c0d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<h2><a id="1211_CheckBox_850"></a>12.11 CheckBox：复选框控件</h2>
<p>复选框主要的属性有：</p>
<ul><li>Name：表示这个组件的名称；</li><li>Text：表示这个组件的标题；</li><li>Checked：表示这个组件是否已经选中。</li></ul>
<p>主要的事件就是<code>CheckedChanged</code>事件。</p>
<p>下面通过一个例子使用复选框控件。</p>
<ul><li>设置控件。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1877340bd2f14008b52532a8564f2270.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<ul><li>设置点击事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            string msg = "";
            // 界面上的每一个控件都继承自Control类
            foreach (Control c in Controls)
            {
                //判断控件是否为复选框控件
                if (c is CheckBox)
                {
                    if (((CheckBox)c).Checked)
                    {
                        msg = msg + " " + ((CheckBox)c).Text;
                    }
                }
            }
            if (msg != "")
            {
                MessageBox.Show("您选择的爱好是：" + msg, "提示");
            }
            else
            {
                MessageBox.Show("您没有选择爱好", "提示");
            }
        }
    }
}
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/9e7a7dab0b66474fbcfbe85fb8c85e26.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<h2><a id="1212_CheckedListBox_920"></a>12.12 CheckedListBox：复选列表框控件</h2>
<p>复选列表框显示的效果与复选框类似，但在选择多个选项时操作比一般的复选框更方便。</p>
<p>下面通过一个例子使用复选列表框控件。</p>
<ul><li>设置控件。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/0ce74e5fc8ce45428ca50789dee8ba5d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<pre><code class="prism language-c#">			// checkedListBox1
            // 
            this.checkedListBox1.FormattingEnabled = true;
			// 设置可选项
            this.checkedListBox1.Items.AddRange(new object[] {
            "苹果",
            "香蕉",
            "梨"});
            this.checkedListBox1.Location = new System.Drawing.Point(275, 135);
            this.checkedListBox1.Name = "checkedListBox1";
            this.checkedListBox1.Size = new System.Drawing.Size(165, 136);
            this.checkedListBox1.TabIndex = 18;
            // 
</code></pre>
<ul><li>设置按钮点击事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        private void button1_Click(object sender, EventArgs e)
        {
            string msg = "";
            for (int i = 0; i &lt; checkedListBox1.CheckedItems.Count; i++)
            {
                msg = msg + " " + checkedListBox1.CheckedItems[i].ToString();
            }
            if (msg != "")
            {
                MessageBox.Show("您购买的水果有：" + msg, "提示");
            }
            else
            {
                MessageBox.Show("您没有选购水果！", "提示");
            }
        }
    }
}
</code></pre>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/e8a96279630b40c18f38a6a2b496f783.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<p>在使用复选列表框控件时需要注意获取列表中的项使用的是<code>Checkedltems</code>属性，获取当前选中的文本（上图中蓝色的区域）使用的是 <code>Selectedltem</code>属性。</p>
<h2><a id="1213_ListBox_992"></a>12.13 ListBox：列表框控件</h2>
<p>列表框 (ListBox) 将所提供的内容以列表的形式显示出来，可以选择其中的一项或多项内容。</p>
<table><thead><tr><th align="center">属性名</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">MultiColumn</td><td align="center">获取或设置列表框是否支持多列，如果设置为 True，则表示支持多列； 如果设置为 False，则表示不支持多列，默认为 False</td></tr><tr><td align="center">Items</td><td align="center">获取或设置列表框控件中的值</td></tr><tr><td align="center">SelectedItems</td><td align="center">获取列表框中所有选中项的集合</td></tr><tr><td align="center">SelectedItem</td><td align="center">获取列表框中当前选中的项</td></tr><tr><td align="center">SelectedIndex</td><td align="center">获取列表框中当前选中项的索引，索引从 0 开始</td></tr><tr><td align="center">SelectionMode</td><td align="center">获取或设置列表框中选择的模式，当值为 One 时，代表只能选中一项， 当值为 MultiSimple 时，代表能选择多项，当值为 None 时，代表不能选 择，当值为 MultiExtended 时，代表能选择多项，但要在按下 Shift 键后 再选择列表框中的项</td></tr></tbody></table>
<p>列表框还提供了一些方法来操作列表框中的选项，由于列表框中的选项是一个集合形式的，列表项的操作都是用Items属性进行的。</p>
<ul><li><code>Items.Add</code> 方法用于向列表框中添加项；</li><li><code>Items.Insert</code> 方法用于向列表框中的指定位置添加项；</li><li><code>Items.Remove</code> 方法用于移除列表框中的项。</li></ul>
<p>下面通过一个例子使用列表框控件。</p>
<ul><li>设置控件。</li></ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/b46a26c5f7bc4c55b7ba94e279e9437f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5pqE6Li9,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center"/></p>
<pre><code class="prism language-c#">            // listBox1
            // 
            this.listBox1.FormattingEnabled = true;
            this.listBox1.ItemHeight = 20;
            this.listBox1.Location = new System.Drawing.Point(241, 145);
            this.listBox1.Name = "listBox1";
            this.listBox1.Size = new System.Drawing.Size(285, 164);
            this.listBox1.TabIndex = 18;
            this.listBox1.Items.AddRange(new object[] {"篮球","排球","游泳" });
            // 
</code></pre>
<ul><li>设置相应事件。</li></ul>
<pre><code class="prism language-c#">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WinFormsApp1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        // 将文本框中的值添加到列表框中
        private void button1_Click(object sender, EventArgs e)
        {
            // 当文本框中的值不为空时将其添加到列表框中
            if (textBox1.Text != "")
            {
                listBox1.Items.Add(textBox1.Text);
            }
            else
            {
                MessageBox.Show("请添加爱好！");
            }
        }
        // 将列表框中的选中项删除
        private void button3_Click(object sender, EventArgs e)
        {
            // 由于列表框控件中允许多选所以需要循环删除所有已选项
            int count = listBox1.SelectedItems.Count;
            List&lt;string&gt; itemValues = new List&lt;string&gt;();
            if (count != 0)
            {
                for (int i = 0; i &lt; count; i++)
                {
                    itemValues.Add(listBox1.SelectedItems[i].ToString());
                }
                foreach (string item in itemValues)
                {
                    listBox1.Items.Remove(item);
                }
            }
            else
            {
                MessageBox.Show("请选择需要删除的爱好！");
            }
        }
    }
}
</code></pre>
<img src="https://media.giphy.com/media/Nf3snh5n8aMEeDPfUh/giphy.gif"/>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>