<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<p>// 对象转换为字典<br/> public static Dictionary&lt;string, string&gt; ObjectToMap(object obj)<br/> {<!-- --><br/> Dictionary&lt;string, string&gt; map = new Dictionary&lt;string, string&gt;();</p>
<p>Type t = obj.GetType(); // 获取对象对应的类， 对应的类型</p>
<p>PropertyInfo[] pi = t.GetProperties(BindingFlags.Public | BindingFlags.Instance); // 获取当前type公共属性</p>
<p>foreach (PropertyInfo p in pi)<br/> {<!-- --><br/> MethodInfo m = p.GetGetMethod();</p>
<p>if (m != null &amp;&amp; m.IsPublic)<br/> {<!-- --><br/> // 进行判NULL处理<br/> if (m.Invoke(obj, new object[] { }) != null)<br/> {<!-- --><br/> map.Add(p.Name, m.Invoke(obj, new object[] { }).ToString()); // 向字典添加元素<br/> }<br/> }<br/> }<br/> return map;</p>
</div>
</div>