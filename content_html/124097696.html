<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="htmledit_views" id="content_views">
<div>
<div>
<div style="margin-left:0;">
<div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">在本文中，我们将讨论如何在 PHP 中获取目录中所有文件的列表。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">在日常 PHP 开发中，您经常需要处理文件系统——例如，获取特定目录中的文件列表。PHP 提供了几种不同的方式来轻松读取目录的内容。今天，我们将通过所有这些方法以及示例来了解每种方法的工作原理。</span></span></span></p>
<h2 style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><code>opendir</code>、<code>readdir</code>和<code>closedir</code>函数_</span></span></span></h2>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">在本节中，我们将讨论<a href="https://www.php.net/manual/en/function.opendir.php" title="opendir">opendir</a>、<a href="https://www.php.net/manual/en/function.readdir.php" title="readdir">readdir</a>和<a href="https://www.php.net/manual/en/function.closedir.php" title="closedir">closedir</a>函数，以了解如何使用它们来获取特定目录中的文件列表。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">该<code>opendir</code>函数允许您打开一个目录句柄，您可以将其与其他函数一起用于对目录进行不同的操作。您需要将路径传递到<code>opendir</code>函数的第一个参数中的目录。如果目录路径有效，将返回目录句柄资源。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">该<code>readdir</code>功能允许您读取目录。您需要在<code>readdir</code>函数的第一个参数中提供有效的目录句柄，并且可以遍历所有条目并获取目录中所有文件的列表。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">该<code>closedir</code>函数允许您关闭由该<code>opendir</code>函数打开的目录句柄。<code>closedir</code>完成对目录句柄（最初由<code>opendir</code>函数打开）的操作后，使用该函数是一个很好的做法。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">现在，让我们在下面的示例中查看它的实际效果。</span></span></span></p>
<div>
<div id="highlighter_132658" style="margin-left:0;">
<table cellspacing="0"><tbody><tr><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">01</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">02</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">03</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">04</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">05</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">06</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">07</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">08</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">09</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">10</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">11</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">12</span></span></span></span></span>
</div> </td><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:left;">
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>&lt;?php</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$arrFiles</code> <code>= </code><code>array</code><code>();</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$handle</code> <code>= opendir(</code><code>'/path/to/directory'</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"> </span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>if</code> <code>(</code><code>$handle</code><code>) {<!-- --></code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>    </code><code>while</code> <code>((</code><code>$entry</code> <code>= readdir(</code><code>$handle</code><code>)) !== FALSE) {<!-- --></code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>        </code><code>$arrFiles</code><code>[] = </code><code>$entry</code><code>;</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>    </code><code>}</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>}</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"> </span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>closedir</code><code>(</code><code>$handle</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>?&gt;</code></span></span></span></span>
</div>
</div> </td></tr></tbody></table>
</div>
</div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">首先，我们使用<code>opendir</code>函数来获取目录句柄。接下来，我们使用该<code>readdir</code>函数遍历<code>$handle</code>目录句柄并将文件列表存储在<code>$arrFiles</code>数组中。</span></span></span></p>
<h2 style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><code>scandir</code>功能_</span></span></span></h2>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">在本节中，我们将了解如何使用该<a href="https://www.php.net/manual/en/function.scandir.php" title="scandir">scandir</a>函数获取目录内容。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">该<code>scandir</code>函数是获取特定目录中文件和目录列表的一种非常简单的方法。您只需要在函数的第一个参数中传递要读取的目录路径<code>scandir</code>。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">让我们通过以下示例来了解它是如何工作的。</span></span></span></p>
<div>
<div id="highlighter_827439" style="margin-left:0;">
<table cellspacing="0"><tbody><tr><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">1</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">2</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">3</span></span></span></span></span>
</div> </td><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:left;">
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>&lt;?php</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$arrFiles</code> <code>= scandir(</code><code>'/path/to/directory'</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>?&gt;</code></span></span></span></span>
</div>
</div> </td></tr></tbody></table>
</div>
</div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">如您所见，这在一次调用中提供了文件和目录的列表！如果您只需要获取目录中的文件列表，这比使用 , 和 . 更好<code>opendir</code>的<code>readdir</code>选择<code>closedir</code>。</span></span></span></p>
<div>
<div>
<div>
<h2 style="margin-left:0;"></h2>
</div>
</div>
</div>
<h2 style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><code>glob</code>功能_</span></span></span></h2>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">该<a href="https://www.php.net/manual/en/function.glob.php" title="glob">glob</a>函数的工作方式与该函数类似<code>scandir</code>，不同之处在于它允许您指定用于过滤和匹配目录中文件的模式。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">让我们看看如何使用该<code>glob</code>函数读取特定目录的所有内容。</span></span></span></p>
<div>
<div id="highlighter_925788" style="margin-left:0;">
<table cellspacing="0"><tbody><tr><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">1</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">2</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">3</span></span></span></span></span>
</div> </td><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:left;">
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>&lt;?php</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$arrFiles</code> <code>= </code><code>glob</code><code>(</code><code>'/path/to/dir/*'</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>?&gt;</code></span></span></span></span>
</div>
</div> </td></tr></tbody></table>
</div>
</div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">如您所见，我们已经通过了<code>*</code>模式，因为我们想要读取所有内容。另一方面，如果您只想列出特定类型的文件，您也可以这样做，如以下代码段所示。</span></span></span></p>
<div>
<div id="highlighter_744470" style="margin-left:0;">
<table cellspacing="0"><tbody><tr><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">1</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">2</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">3</span></span></span></span></span>
</div> </td><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:left;">
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>&lt;?php</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$arrFiles</code> <code>= </code><code>glob</code><code>(</code><code>'/path/to/dir/*.txt'</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>?&gt;</code></span></span></span></span>
</div>
</div> </td></tr></tbody></table>
</div>
</div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">在这种情况下，<code>$arrFiles</code>将只包含<code>.txt</code>文件的名称。</span></span></span></p>
<h2 style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><code>dir</code>功能_</span></span></span></h2>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">到目前为止，我们讨论的选项允许您以程序方式读取目录内容。在本节中，我们将了解如何使用该<a href="https://www.php.net/manual/en/function.dir.php" title="dir">dir</a>函数，它是一种用于读取目录的面向对象的机制。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">当您使用该<code>dir</code>函数并在第一个参数中传递目录路径时，它会返回<a href="https://www.php.net/manual/en/class.directory.php" title="Directory">Directory</a>该类的一个实例，您可以随后使用该实例来读取目录内容。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">让我们通过下面的例子来看看它是如何工作的。</span></span></span></p>
<div>
<div id="highlighter_263296" style="margin-left:0;">
<table cellspacing="0"><tbody><tr><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">01</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">02</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">03</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">04</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">05</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">06</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">07</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">08</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">09</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">10</span></span></span></span></span>
</div> </td><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:left;">
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>&lt;?php</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$arrFiles</code> <code>= </code><code>array</code><code>();</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$objDir</code> <code>= dir(</code><code>"/path/to/dir"</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"> </span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>while</code> <code>(false !== (</code><code>$entry</code> <code>= </code><code>$objDir</code><code>-&gt;read())) {<!-- --></code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>   </code><code>$arrFiles</code><code>[] = </code><code>$entry</code><code>;</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>}</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"> </span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$objDir</code><code>-&gt;close();</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>?&gt;</code></span></span></span></span>
</div>
</div> </td></tr></tbody></table>
</div>
</div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">首先，我们使用该函数将类<code>dir</code>的实例初始化为变量。接下来，我们使用类的方法遍历所有条目。<code>Directory</code><code>$objDir</code><code>read</code><code>Directory</code></span></span></span></p>
<div>
<div style="margin-left:auto;">
<div>
<div style="margin-left:auto;text-align:center;">
<div>
<div id="fuse-slot-21764347426-1">
<div id="google_ads_iframe_/71161633,11757429/ENV_envato/article_mid_1_0__container__" style="margin-left:auto;text-align:center;"></div>
</div>
</div>
</div>
<div style="text-align:center;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">广告</span></span></span>
</div>
</div>
</div>
<div></div>
</div>
<h2 style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><code>FilesystemIterator</code>班级_</span></span></span></h2>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">在本节中，我们将了解如何使用<a href="https://www.php.net/manual/en/class.filesystemiterator.php" title="FilesystemIterator">FilesystemIterator</a>该类来读取目录内容。使用<code>FilesystemIterator</code>该类的好处是您可以扩展该类的方法，并且它还提供了许多其他有用的方法，可以让您获取有关文件的各种信息。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">让我们通过以下示例来了解它是如何工作的。</span></span></span></p>
<div>
<div id="highlighter_453118" style="margin-left:0;">
<table cellspacing="0"><tbody><tr><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">1</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">2</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">3</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">4</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">5</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">6</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">7</span></span></span></span></span>
</div>
<div style="margin-left:0;text-align:right;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><span style="color:#afafaf;">8</span></span></span></span></span>
</div> </td><td style="text-align:left;vertical-align:baseline;">
<div style="margin-left:0;text-align:left;">
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>&lt;?php</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$arrFiles</code> <code>= </code><code>array</code><code>();</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>$iterator</code> <code>= </code><code>new</code> <code>FilesystemIterator(</code><code>"/path/to/directory"</code><code>);</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"> </span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>foreach</code><code>(</code><code>$iterator</code> <code>as</code> <code>$entry</code><code>) {<!-- --></code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>    </code><code>$arrFiles</code><code>[] = </code><code>$entry</code><code>-&gt;getFilename();</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>}</code></span></span></span></span>
</div>
<div style="margin-left:0;text-align:left;">
<span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><span style="background-color:#f5f7f8;"><code>?&gt;</code></span></span></span></span>
</div>
</div> </td></tr></tbody></table>
</div>
</div>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">如您所见，使用<code>FilesystemIterator</code>该类并遍历条目非常容易。在上面的例子中，我们使用了类的<code>getFileName</code>方法<code>FilesystemIterator</code>来获取文件名。但是，<code>FilesystemIterator</code>该类还提供了一些实用方法，如<code>getExtension</code>、<code>getSize</code>、<code>getPathname</code>等。</span></span></span></p>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">这就是您可以使用<code>FilesystemIterator</code>该类获取目录中文件列表的方式。</span></span></span></p>
<h2 style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">结论</span></span></span></h2>
<p style="margin-left:0;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">今天，我们讨论了在 PHP 中列出目录中所有文件的不同方法。下表比较了每种方法，以帮助您选择适合您的方法。</span></span></span></p>
<table border="1" cellspacing="0"><thead><tr><th style="text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">函数或类</span></span></span></th><th style="text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">笔记</span></span></span></th></tr></thead><tbody><tr><td style="text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><a href="https://www.php.net/manual/en/function.opendir.php" title="opendir">opendir</a>,<a href="https://www.php.net/manual/en/function.readdir.php" title="readdir">readdir</a>和<a href="https://www.php.net/manual/en/function.closedir.php" title="closedir">closedir</a>函数</span></span></span></td><td style="text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">不是最简单或功能最丰富的方法</span></span></span></td></tr><tr><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><a href="https://www.php.net/manual/en/function.scandir.php" title="scandir">scandir</a>功能</span></span></span></td><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">读取文件列表的最简单方法</span></span></span></td></tr><tr><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><a href="https://www.php.net/manual/en/function.glob.php" title="glob">glob</a>功能</span></span></span></td><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">非常简单并且允许模式匹配</span></span></span></td></tr><tr><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><a href="https://www.php.net/manual/en/function.dir.php" title="dir">dir</a>功能</span></span></span></td><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">面向对象的版本<code>readdir</code></span></span></span></td></tr><tr><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;"><a href="https://www.php.net/manual/en/class.filesystemiterator.php" title="FilesystemIterator">FilesystemIterator</a>班级</span></span></span></td><td style="border-color:#8e8e8e;text-align:left;"><span style="color:#2a3744;"><span style="background-color:#fefefe;"><span style="color:#3a3a3a;">可以提供有关文件的其他信息，例如大小或权限</span></span></span></td></tr></tbody></table>
</div>
</div>
</div>
</div>
<div style="margin-left:0;">
<div>
<span style="color:#2a3744;"><span style="background-color:#fefefe;">你觉得这篇文章有用吗？</span></span>
</div>
<p> </p>
</div>
</div>
</div>