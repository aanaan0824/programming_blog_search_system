<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>哈希表、哈希桶</h3>
<ul><li><a href="#_1">哈希概念</a></li><li><a href="#_17">哈希函数</a></li><li><a href="#_31">哈希冲突</a></li><li><a href="#_38">解决哈希冲突</a></li><li><ul><li><a href="#_39">闭散列-开放定址法</a></li><li><ul><li><a href="#_41">线性探测</a></li></ul>
</li><li><a href="#_81">闭散列的实现</a></li><li><ul><li><a href="#_82">哈希表的结构</a></li><li><a href="#_131">哈希表的插入</a></li><li><a href="#_194">哈希表的查找</a></li><li><a href="#_231">哈希表的删除</a></li></ul>
</li><li><a href="#_286">开散列的实现-拉链法</a></li><li><ul><li><a href="#_294">哈希表的结构</a></li><li><a href="#_319">哈希表的插入</a></li><li><a href="#_387">哈希表的查找</a></li><li><a href="#_422">哈希表的删除</a></li></ul>
</li></ul>
</li><li><a href="#_497">小结</a></li></ul>
</div>
<p></p>
<h1><a id="_1"></a>哈希概念</h1>
<p>在顺序结构和平衡树中，元素关键码与其存储位置之间没有对应的关系，因此在查找一个元素时，必须要经过关键码的多次比较。<code>顺序查找时间复杂度为O(N)</code>，平衡树中为树的高度，<code>O(logN )</code>，搜索的效率取决于搜索过程中元素的比较次数。</p>
<p>而理想的搜索方法：可以不经过任何比较，一次直接从表中得到要搜索的元素。 如果构造一种存储结构，通过某种函数(hashFunc)使元素的存储位置与它的关键码之间能够建立一一映射的关系，那么在查找通过该函数可以很快找到该元素。<br/> 向该结构中：</p>
<ul><li>插入元素：根据待插入元素的关键码，以此函数计算出该元素的存储位置并按此位置进行存放</li><li>搜索元素：对元素的关键码进行同样的计算，把求得的函数值当做元素的存储位置，在结构中此位置取元素比较，若关键码相等，则搜索成功。<br/> 该方式为<code>哈希(散列)方法</code>，哈希方法中使用的转换函数称为哈希(散列)函数，构造出来的结构称为<code>哈希表(Hash Table)(或者称散列表)</code></li></ul>
<blockquote>
<p>例如：数据集合{1,7,6,4,5,9}<br/> 哈希函数设置为：hash(key) = key % capacity; capacity为存储元素底层空间总的大小。<br/> 我们将数据映射到capacity为10的哈希表中如下：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/005ea124ffd64a9eaa5b7168e8273174.png"/><br/> 这种方法的搜索速度很快。</p>
</blockquote>
<h1><a id="_17"></a>哈希函数</h1>
<p>常用的2种方法：</p>
<blockquote>
<p>1.直接定址法：取关键字的某个线性函数为散列地址：Hash（Key）= A*Key + B</p>
</blockquote>
<p><font color="blue">优点：简单、均匀<br/> 缺点：1需要知道关键字的分布情况，如果给的一组数据范围很大，就会浪费空间<br/> 2.不能处理浮点数，字符串等数据</font></p>
<blockquote>
<p>2.除留余数法：设散列表中允许的地址数为m，取一个不大于m，但最接近或者等于m的质数p作为除数，按照哈希函数：Hash(key) = key% p(p&lt;=m),将关键码转换成哈希地址</p>
</blockquote>
<p><font color="red">优点：数据范围很大<br/> 缺点：不同的值映射到同一个位置会冲突</font></p>
<h1><a id="_31"></a>哈希冲突</h1>
<p>引起哈希冲突的一个原因可能是：哈希函数设计不够合理。 <code>哈希函数设计原则：</code><br/> 1.哈希函数的定义域必须包括需要存储的全部关键码，而如果散列表允许有m个地址时，其值域必须在0 到m-1之间<br/> 2.哈希函数计算出来的地址能均匀分布在整个空间中<br/> 3.哈希函数应该比较简单</p>
<h1><a id="_38"></a>解决哈希冲突</h1>
<h2><a id="_39"></a>闭散列-开放定址法</h2>
<p>闭散列：<code>也叫开放定址法</code>，当发生哈希冲突时，如果哈希表未被装满，说明在哈希表中必然还有空位置，那么可以把key存放到冲突位置中的“下一个” 空位置中去。那如何寻找下一个空位置呢？</p>
<h3><a id="_41"></a>线性探测</h3>
<p>线性探测：从发生冲突的位置开始，依次向后探测，直到寻找到下一个空位置为止。</p>
<blockquote>
<p>Hash(key)=key%len+i(i=0,1,2…)</p>
</blockquote>
<p>len：哈希表的大小<br/> 如果+0后面有数据那么再+1…直到找到空位置<br/> 比如插入11，和1冲突就往后探测。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/7079c79d840540eb94e091c25a8afc51.png"/></p>
<blockquote>
<p>动图演示：插入44</p>
</blockquote>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ec72bd413e6e4181ba55d0baeb8646ca.gif#pic_center"/><br/> 通过上图发现：哈希表中的数据越多，产生哈希冲突的可能性会越大。此时我们引入了<code>负载因子</code></p>
<blockquote>
<p>负载因子=表中的有效数据/空间的大小</p>
</blockquote>
<p><font color="blue">1.负载因子越大，产生冲突的概率越大，增删查改的效率低<br/> 2.负载因子越小，产生冲突的概率越小，增删查改的效率高</font></p>
<p>将哈希表的大小改为20在插入{1,7,6,4,5,9,11,13},产生的冲突变少：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/a15d0a01995a43c7b42885ba34b1d3eb.gif#pic_center"/></p>
<p>对于闭散列来说，负载因子是特别重要的因素，一般控制在<code>0.7~0.8以下</code>，超过0.8会导致在查表时CPU缓存不命中按照曲线上升。<br/> 线性探测的优点：实现简单<br/> 缺点：发生冲突，容易产生数据堆积，出现踩踏，导致搜索效率低。</p>
<p>✨✨✨✨✨✨✨✨✨✨✨✨我是分割线✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨</p>
<blockquote>
<p>二次探测</p>
</blockquote>
<p>为了解决空位置是一个一个找，二次探测避免了这个问题。<br/> 二次探测不是再探测一次的意思，二次探测的方法</p>
<blockquote>
<p><code>Hash(key)=key%len+i ^2(i=0,1,2…)</code></p>
</blockquote>
<p>比如插入数据{1,4,5,9,11,13},为了测试我又加了44,54来看看效果：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ccba0d05a2f34b19ac9268df3af2f070.gif#pic_center"/><br/> 比之前的探测好了很多，之前的54是插在44后面的现在到了下表16了，避免了踩踏。</p>
<h2><a id="_81"></a>闭散列的实现</h2>
<h3><a id="_82"></a>哈希表的结构</h3>
<p>在闭散列哈希表中不仅要存数据之外，还要存储当前位置的状态，有3种状态：</p>
<p>1.EMPTY（无数据的空位置）<br/> 2.EXIST（已存储数据）<br/> 3.DELETE（原本有数据，但是被删除了）</p>
<p>我们用枚举即可</p>
<pre><code class="prism language-cpp">	<span class="token keyword">enum</span> <span class="token class-name">State</span><span class="token comment">//标识每个位置的状态</span>
	<span class="token punctuation">{<!-- --></span>
		EMPTY<span class="token punctuation">,</span>
		EXIST<span class="token punctuation">,</span>
		DELETE
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>为什么要加上状态？</p>
</blockquote>
<p>那怎么标识一个空位置呢？用数字标识？例如1：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/102078c5f3414f1bbe7f20687be26058.png"/><br/> 但是把11删除后就找不到21了。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/8b17322bb01e40dcb6a56937af8c5a66.png"/><br/> 它是和1冲突，从1开始找，1后面是空停止。但是21还在表中，不可能遍历一遍哈希表，这样就是去了哈希表的意义了。因此要在哈希表中加上状态。<code>当哈希表中删除一个元素后，我们不应该简单的将状态设为EMPTY，要将该位置的状态设为DELETE</code>。在查找的过程中，如果当前位置和查找的Key值不相等，但是当前位置的状态是EXIST或者是DELETE，我们都要往后查找，而当我们插入时，可以插入到状态EMPTY和DELETE上。</p>
<blockquote>
<p>哈希表中的每个位置的存储结构包括状态和数据</p>
</blockquote>
<pre><code class="prism language-cpp">	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">HashDate</span>
	<span class="token punctuation">{<!-- --></span>
		pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span> _kv<span class="token punctuation">;</span><span class="token comment">//数据</span>
		State _state <span class="token operator">=</span> EMPTY<span class="token punctuation">;</span><span class="token comment">//状态</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>我们还要在哈希表中存入数据的个数来计算负载因子，当负载因子过大就要将哈希表增容。</p>
<pre><code class="prism language-cpp"><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">HashTable</span>
	<span class="token punctuation">{<!-- --></span>  
	<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">//...</span>
	<span class="token keyword">private</span><span class="token operator">:</span>
	    vector<span class="token operator">&lt;</span>HashDate<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;&gt;</span> _table<span class="token punctuation">;</span>
		size_t _n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//哈希表中元素的个数</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_131"></a>哈希表的插入</h3>
<p>插入的逻辑如下：<br/> <font color="red">1.查看是否存在该键值对，如存在则返回false<br/> 2.判断哈希表的大小是否需要调整，为0或者是负载因子过大都需要调整<br/> 3.插入元素<br/> 4.哈希表大小加1</font></p>
<p>增容的逻辑：<br/> 不能原地扩容，那原来数据的映射关系就乱了。我们要新创建一个哈希表对象，是原来的2倍，把旧的数据插入到新表中，在交换2张表即可。</p>
<p>插入键值对的过程：<br/> <font color="blue">1.先计算出对应的位置<br/> 2.如果发生冲突，进行线性探测处理，向后找到一个状态为EMPTY或者DELETE的位置插入<br/> 3.插入到该位置，并将状态设为EXIST</font></p>
<p>代码如下：</p>
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//通过查找看看哈希表中是否存在</span>
			HashDate<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token function">Find</span><span class="token punctuation">(</span>kv<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//如果存在返回false</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				_table<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>_n <span class="token operator">/</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>_table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.7</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//增容</span>
				HashTable<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span> newHT<span class="token punctuation">;</span><span class="token comment">//创建一个新的表</span>
				newHT<span class="token punctuation">.</span>_table<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//将旧表的数据插入到新的哈希表</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> _table<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>_state <span class="token operator">==</span> EXIST<span class="token punctuation">)</span>
					<span class="token punctuation">{<!-- --></span>
						newHT<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>_kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				_table<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>newHT<span class="token punctuation">.</span>_table<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//计算位置</span>
			size_t start <span class="token operator">=</span> kv<span class="token punctuation">.</span>first <span class="token operator">%</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			size_t index <span class="token operator">=</span> start<span class="token punctuation">;</span>
			size_t i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>_state <span class="token operator">==</span> EXIST<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				index <span class="token operator">=</span> start <span class="token operator">+</span> i<span class="token punctuation">;</span><span class="token comment">//线性探测</span>
				index <span class="token operator">%=</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//防止超出表的范围</span>
				<span class="token operator">++</span>i<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//找到可以插入的位置</span>
			_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>_kv <span class="token operator">=</span> kv<span class="token punctuation">;</span>
			_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>_state <span class="token operator">=</span> EXIST<span class="token punctuation">;</span><span class="token comment">//调整状态</span>
			_n<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//哈希表元素++</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_194"></a>哈希表的查找</h3>
<p>查找的步骤：<br/> <font color="blue">1.先判断哈希表是否为0，等于0返回false，因为不能除0操作<br/> 2.除留余数算出映射位置<br/> 3.从映射的地址开始线性探测查找，找到返回成功，找到一个状态为EMPTY返回false<br/> </font><br/> 重点：<code>在查找时，必须找到位置状态为EXIST且Key值相等，才能查找成功。仅仅是Key值相等，但是当前位置的状态为DELETE，则还需要继续向后查找，因为该位置的值已经删除了。</code></p>
<p>代码如下：</p>
<pre><code class="prism language-cpp">		HashDate<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//表为空返回false</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			size_t start <span class="token operator">=</span> key <span class="token operator">%</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//计算出映射的地址</span>
			size_t index <span class="token operator">=</span> start<span class="token punctuation">;</span>
			size_t i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>_state <span class="token operator">!=</span> EMPTY<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//该位置的状态为EXIST，且Key值相等，查找成功</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>_state <span class="token operator">==</span> EXIST 
					<span class="token operator">&amp;&amp;</span> _table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>_kv<span class="token punctuation">.</span>first <span class="token operator">==</span> key<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">return</span> <span class="token operator">&amp;</span>_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token comment">//继续线性探测查找</span>
				index <span class="token operator">=</span> start <span class="token operator">+</span> i<span class="token punctuation">;</span>
				index <span class="token operator">%=</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				i<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_231"></a>哈希表的删除</h3>
<p>删除的过程很简单，我们只需要进行伪删除，将待删除元素的状态设为DELETE即可。<br/> 步骤如下：<br/> <font color="blue"><br/> 1.先调用查找，找到该元素，若没有找到返回false<br/> 2.找到将状态设为DELETE<br/> 3.哈希表中的有效数据–</font></p>
<p>代码如下：</p>
<pre><code class="prism language-cpp">	<span class="token keyword">bool</span> <span class="token function">Erase</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			HashDate<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token function">Find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				ret<span class="token operator">-&gt;</span>_state <span class="token operator">=</span> DELETE<span class="token punctuation">;</span>
				<span class="token operator">--</span>_n<span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre>
<p>下面来测试测试：</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Test_Hash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	CloseHash<span class="token operator">::</span>HashTable<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> ht<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> a<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		ht<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">auto</span> ret <span class="token operator">=</span> ht<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到了"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>	
	<span class="token keyword">else</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"没找到"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>	
	ht<span class="token punctuation">.</span><span class="token function">Erase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ret <span class="token operator">=</span> ht<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到了"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>	
	<span class="token keyword">else</span>	
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"没找到"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	ret <span class="token operator">=</span> ht<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到了"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"没找到"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>我先找10，在删除10，看看能不能找到100，在看看10删除后能不能找到。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/1132fa5f30a349e8ba35f2a92f182518.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 是没有问题的。</p>
<h2><a id="_286"></a>开散列的实现-拉链法</h2>
<p>开散列法又叫链地址法(开链法)，首先对关键码集合用散列函数计算散列地址，具有相同地址的关键码归于同一子集合，每一个子集合称为一个桶，各个桶中的元素通过一个单链表链接起来，各链表的头结点存储在哈希表中。<br/> 例如：下面的数据<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/daec2096307c4f36963d2f0910344aaa.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_13,color_FFFFFF,t_70,g_se,x_16"/><br/> 动图演示：</p>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ee3712f5c67249f1aec58a0c191f1068.gif#pic_center"/><br/> ✨✨✨✨✨✨✨✨✨✨✨✨我是分割线✨✨✨✨✨✨✨✨✨✨✨✨✨✨✨</p>
<h3><a id="_294"></a>哈希表的结构</h3>
<p>哈希表的每个位置存某个单链表的头结点，所以每个哈希桶中存储的数据应该是一个结点的类型，还需要一个节点的指针指向它的下一个结点。</p>
<pre><code class="prism language-cpp">	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span><span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">struct</span> <span class="token class-name">HashNode</span>
	<span class="token punctuation">{<!-- --></span>
		HashNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> _next<span class="token punctuation">;</span><span class="token comment">//结点的指针</span>
		pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span> _kv<span class="token punctuation">;</span><span class="token comment">//键值对</span>
		<span class="token comment">//构造函数</span>
		<span class="token function">HashNode</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span> kv<span class="token punctuation">)</span>
			<span class="token operator">:</span><span class="token function">_next</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span><span class="token function">_kv</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	 <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">V</span><span class="token operator">&gt;</span>
	<span class="token keyword">class</span> <span class="token class-name">HashTable</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
	  <span class="token keyword">typedef</span> HashNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span> Node<span class="token punctuation">;</span>
	  <span class="token keyword">private</span><span class="token operator">:</span>
		vector<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">&gt;</span> _table<span class="token punctuation">;</span><span class="token comment">//哈希表</span>
		size_t _n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//缺省值</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="_319"></a>哈希表的插入</h3>
<p>插入的步骤：<br/> 1.它是不允许冗余的，所以先查找Key,存在返回false<br/> 2.检查负载因子，如果哈希表为空或者负载因子过大就需要进行增容处理<br/> 3.计算出在哈希表的位置进行头插<br/> 4.哈希表的有效数据在++</p>
<p><strong>增容处理：</strong><br/> <font color="red"><br/> 1.创建新的哈希表，大小是原来旧表的2倍<br/> 2.遍历旧表，算出在新表中的位置，在将结点头插到新表中<br/> 3.旧表位置的指针置空，交换2张哈希表</font><br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/85f31429f5814f928c57261674c035fd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 代码如下：</p>
<pre><code class="prism language-cpp"><span class="token comment">//插入</span>
		<span class="token keyword">bool</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token operator">&amp;</span> kv<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//如果表中已经有该元素返回false,不能出现数据冗余</span>
			HashNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token function">Find</span><span class="token punctuation">(</span>kv<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//检查负载因子,负载因子超过1或者table.szie=0需要调整</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_n <span class="token operator">==</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//进行增容,创建一个新的哈希表</span>
				vector<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">&gt;</span> newtable<span class="token punctuation">;</span>
				<span class="token comment">//新表的大小等于旧表的2倍</span>
				size_t newsize <span class="token operator">=</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">10</span> <span class="token operator">:</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>

				newtable<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>newsize<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把newsize给新表，并将表的位置初始化</span>
				<span class="token comment">//把旧表的结点插入到新表中</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>_table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//桶不为空,插到新表中</span>
					<span class="token punctuation">{<!-- --></span>
						Node<span class="token operator">*</span> cur <span class="token operator">=</span> _table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
						<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token comment">//桶中的结点不为空</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token comment">//计算新表中的映射位置</span>
							size_t index <span class="token operator">=</span> kv<span class="token punctuation">.</span>first <span class="token operator">%</span> newtable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token comment">//保存cur的下1个结点，不保存头插的话找不到下个结点</span>
							Node<span class="token operator">*</span> next <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
							cur<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> newtable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
							newtable<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> cur<span class="token punctuation">;</span>

							cur <span class="token operator">=</span> next<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
						_table<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token comment">//旧桶置空</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				_table<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>newtable<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//交换2个哈希表</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//计算出映射的位置</span>
			size_t index <span class="token operator">=</span> kv<span class="token punctuation">.</span>first <span class="token operator">%</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			Node<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Node</span><span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//头插</span>
			newnode<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> _table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
			_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
			<span class="token operator">++</span>_n<span class="token punctuation">;</span>

			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_387"></a>哈希表的查找</h3>
<p>查找的步骤：<br/> 1.计算出在哈希表中的映射位置<br/> 2.遍历结点在链表的位置<br/> 注意：<code>哈希表为0时处理一下，不能进行除0操作</code></p>
<pre><code class="prism language-cpp">		<span class="token comment">//查找</span>
		HashNode<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token operator">*</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//1.先计算出映射的位置</span>
			size_t index <span class="token operator">=</span> key <span class="token operator">%</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//2.遍历链表的位置</span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//找到返回结点</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">==</span> key<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//没找到返回空</span>
			<span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre>
<h3><a id="_422"></a>哈希表的删除</h3>
<p>删除的步骤：<br/> 1.还是先算出在哈希表中的映射位置<br/> 2.开始删除<br/> 3.哈希表中的数据–<br/> <code>删除的时候注意删除第1个结点</code></p>
<pre><code class="prism language-cpp">	<span class="token comment">//删除</span>
		<span class="token keyword">bool</span> <span class="token function">Erase</span><span class="token punctuation">(</span><span class="token keyword">const</span> K<span class="token operator">&amp;</span> key<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//1.先计算出映射的位置</span>
			size_t index <span class="token operator">=</span> key <span class="token operator">%</span> _table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//2.开始删除</span>
			Node<span class="token operator">*</span> cur <span class="token operator">=</span> _table<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
			Node<span class="token operator">*</span> prev <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token comment">//保存cur的前1个结点</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">//找到了开始删除</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>_kv<span class="token punctuation">.</span>first <span class="token operator">==</span> key<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>prev <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token comment">//删除第1个结点</span>
					<span class="token punctuation">{<!-- --></span>
						_table<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span><span class="token comment">//指向cur的下一个结点</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">else</span>
					<span class="token punctuation">{<!-- --></span>
						prev<span class="token operator">-&gt;</span>_next <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">delete</span> cur<span class="token punctuation">;</span><span class="token comment">//释放该结点</span>
					_n<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//哈希表中数据--</span>
					<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				prev <span class="token operator">=</span> cur<span class="token punctuation">;</span>
				cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>_next<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//没有该结点返回false</span>
		<span class="token punctuation">}</span>
</code></pre>
<p>下面来测试一下，博主这里是没有实现迭代器的。等到封装unordered_set和unordered_map的时候在实现迭代器。</p>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Test_Hash1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	OpenHash<span class="token operator">::</span>HashTable<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> ht1<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> e <span class="token operator">:</span> a<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		ht1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">auto</span> ret <span class="token operator">=</span> ht1<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到了"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"没找到"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	ht1<span class="token punctuation">.</span><span class="token function">Erase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ret <span class="token operator">=</span> ht1<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到了"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"没找到"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	ret <span class="token operator">=</span> ht1<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"找到了"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"没找到"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>插入好的效果如下图：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/ce79d8cf1e7d4163988ed63f23e7c292.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 我们通过调试来看看：<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/85eb2fd0d888453f934069d8d1f4683d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 看出是没有问题的。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/80c2dcae638c480bbc505aee953ecb73.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 查找也都可以。</p>
<h1><a id="_497"></a>小结</h1>
<p>在实际中哈希桶更实用，在极端的情况下也能处理。比如下图，在下面挂了很多的结点，此时效率就会很低很低。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/be1df9232ebd4473b277703dd318b420.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_18,color_FFFFFF,t_70,g_se,x_16"/><br/> 前辈们的办法是把挂多的结点放在红黑树中。<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/13d54fd1027c4f1a88bcf1c508d28540.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_17,color_FFFFFF,t_70,g_se,x_16"/><br/> 桶中种树<br/> <img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/742964d03c33432f9d3c4e739ceaf5c9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAX0VuZOS4tuaWreW8pg==,size_14,color_FFFFFF,t_70,g_se,x_16"/><br/> 所以前辈还是很牛的。在JAVA中比较新的版本中结点超过8个就会将单链表改成红黑树，结点少于8个又会变回单链表的结构。这种结构我们知道即可，不用我们自己去实现。<br/> 但是有的地方没做这种处理也是可以的，当负载因子够大的时候就会触发增容的机制，就会开更大的表，映射位置也就随之改变而桶中的结点也会减少。</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>