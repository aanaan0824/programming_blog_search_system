<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h1><a id="String_1"></a>String类的使用</h1>
<h2><a id="1__String__3"></a>1. 标准库中的 String 类</h2>
<h3><a id="12_C_5"></a>1.2 C语言中的字符串</h3>
<p>C语言中，字符串以<code>'\0'</code>结尾的一些字符的集合。为操作方便，同时提供了一些关于 str 库函数，但这些库函数和字符串是分离的，并不符合面向对象的思想。且封装的不够好，容易越界访问。</p>
<h3><a id="13_String__10"></a>1.3 String 类的定义</h3>
<p>String 是 C++ 中管理字符数组的一个类，是 STL中的一个容器，是以 char 作为模板参数的模板类实例，把字符串的内存管理交由 string 而不是由编程者负责，大大减轻了 C 语言风格的字符串的麻烦。</p>
<p><img alt="" src="image\d6a87f0b50734174ae1fd8769c1150a1.png"/></p>
<pre><code class="prism language-cpp"><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">basic_string</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
	T<span class="token operator">*</span> str<span class="token punctuation">;</span>
	<span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">typedef</span> basic_string<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span> string<span class="token punctuation">;</span>

<span class="token comment">//...</span>
</code></pre>
<p>可以看到官网上对<code>String</code>类有这样的介绍，可以看出<code>String</code>其实是对一个类模板的重命名，且这个类模板是被实例化成<code>char</code>类型的字符串类。</p>
<ol><li><code>String</code>是表示字符串的字符串类。</li><li>该类的接口与常规容器接口基本相同，同时添加了一些专门用于操作 String 的常规接口。</li><li><code>String</code>在底层上实际上是<code>basic_String</code>的别名。</li></ol>
<blockquote>
<p>在使用 String 类时，必须包含<code>#include&lt;String&gt;</code>头文件，以及展开命名空间。</p>
</blockquote>
<h3><a id="14_String__40"></a>1.4 String 类的接口</h3>
<blockquote>
<p>String 类有120多个接口函数，光构造函数就有7个，学习 String 类并不需要搞清楚所有接口，只需要掌握常见的就行，遇到不明白的查文档即可。</p>
</blockquote>
<h4><a id="String__44"></a>String 类的特殊成员函数</h4>
<p><img alt="" src="image\ed28b08789af422d89a45a82c4d35210.png"/></p>
<h5><a id="_48"></a>构造函数</h5>
<p><img alt="" src="image\f63d606172cc4b39b8749c97027dbc9e.png"/></p>
<p>如图所示，<code>String</code>类有七种构造函数，但只须掌握默认构造，含参构造，拷贝构造，其他了解即可。</p>
<table><thead><tr><th>构造函数</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>string()</code></strong></td><td><strong>构造空的 string 类对象</strong>。</td></tr><tr><td><strong><code>string(const char* s)</code></strong></td><td><strong>用 C-string 来构造函数</strong>。</td></tr><tr><td><strong><code>string(const string&amp; s)</code></strong></td><td><strong>拷贝构造函数</strong>。</td></tr><tr><td><code>string(size_t n,char c)</code></td><td>构造 n 个字符 c 的类对象。</td></tr></tbody></table>
<pre><code class="prism language-cpp">string s1<span class="token punctuation">;</span><span class="token comment">//默认构造函数</span>
string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//构造函数</span>
string <span class="token function">s3</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拷贝构造</span>
</code></pre>
<h5><a id="_69"></a>析构函数</h5>
<p><img alt="" src="image\98e6133b6bae477697495829da5faa53.png"/></p>
<blockquote>
<p>析构函数自动调用，无需在意。</p>
</blockquote>
<h5><a id="_76"></a>赋值重载</h5>
<p><img alt="" src="image\2e4cdda07fb9413b9b9c871f9274f7de.png"/></p>
<table><thead><tr><th>赋值重载</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>string&amp; operator= (const string&amp; str)</code></strong></td><td><strong>使用 string 对象赋值</strong>。</td></tr><tr><td><strong><code>string&amp; operator= (const char* s)</code></strong></td><td><strong>使用 C-string 赋值</strong>。</td></tr><tr><td><code>string&amp; operator= (char c)</code></td><td>用字符赋值。</td></tr></tbody></table>
<pre><code class="prism language-cpp">string s7 <span class="token operator">=</span> <span class="token string">"s7"</span><span class="token punctuation">;</span><span class="token comment">//赋值重载</span>
string s8 <span class="token operator">=</span> s7<span class="token punctuation">;</span><span class="token comment">//赋值重载</span>
</code></pre>
<h4><a id="String__92"></a>String 类的容量操作</h4>
<p><img alt="" src="image\32c9811d4f36440181d54ceaa90c29bf.png"/></p>
<h5><a id="_97"></a>容量接口</h5>
<table><thead><tr><th>一般接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>size</code></strong></td><td><strong>返回 string 对象有效字符长度，不包含<code>'\0'</code></strong>。</td></tr><tr><td><code>length</code></td><td>返回 string 对象有效字符长度，不包含<code>'\0'</code>。</td></tr><tr><td><code>max_size</code></td><td>字符串最长的大小。</td></tr><tr><td><code>capacity</code></td><td>返回对象所占空间总大小。</td></tr><tr><td><strong><code>empty</code></strong></td><td><strong>判断字符串是否为空</strong>。</td></tr><tr><td><strong><code>clear</code></strong></td><td><strong>清空有效字符，不包含<code>'\0'</code></strong>。</td></tr></tbody></table>
<blockquote>
<p>length 的存在是历史遗留问题，string 在 STL 之前就已经存在，当时用的就是 length 命名，但之后为保持容器命名规范性，故新增了 size 接口。</p>
</blockquote>
<pre><code class="prism language-cpp">cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//返回有效字符长度</span>
cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//最大长度</span>

cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//所占空间</span>

cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">//判空</span>

s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//清空</span>
</code></pre>
<h5><a id="_123"></a>增容机制</h5>
<p><img alt="" src="image\0d382cc296794bfeade99eb665cb7ba2.png"/></p>
<blockquote>
<p>上述代码不停地向对象<code>s</code>内添加元素，同时检测容量大小是否发生变化，并打印出变化后的容量大小。注意，容量大小是指可存储数据的空间大小，实际占存大小应加上<code>\0</code>。</p>
</blockquote>
<ol><li>最初是16个字节，增容一次之后变成32个字节，为2倍增长。之后就是 48、71、106 ……，为1.5左右的增速。</li></ol>
<p><img alt="" src="https://img-blog.csdnimg.cn/a8745cc436e742c68ab6aff9c1d2087c.gif#pic_center"/></p>
<ol start="2"><li>起始分配的16个字节，是在栈上开辟的空间<code>_Buf</code>。之后再增容就全部拷贝到堆上<code>_Ptr</code>再增容。</li></ol>
<blockquote>
<p>标准未规定增容的实现细节，所以各个版本STL可能会有所不同。这样的增容方式是 vs 环境下的，Linux 下是每次按2倍增容。</p>
</blockquote>
<p><img alt="" src="image\2ad4f635a1894ec2afa7fa740486c7bb.png"/></p>
<h5><a id="_142"></a>修改容量</h5>
<table><thead><tr><th>容量接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>reserve</code></strong></td><td><strong>改变 string 对象的容量，考虑到内存对齐，开辟指定大小左右的空间</strong>。</td></tr><tr><td><strong><code>resize</code></strong></td><td><strong>将有效字符个数改成 n，多出的空间用字符 c 填充，未指定 c 则初始化为空字符。</strong></td></tr><tr><td></td><td>1. n &lt; _size：指定大小比原长度小，则删去多余的内容；</td></tr><tr><td></td><td>2. _size &lt;= n &lt;= _capacity：指定大小比容量小，则只扩大字符串的长度 _size；</td></tr><tr><td></td><td>3. n &gt; _capacity：指定大小比容量大，则先扩充容量，再扩大字符串的长度 _size 。</td></tr></tbody></table>
<pre><code class="prism language-cpp">s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 为字符串对象提前开辟好100左右字节的容量，以免之后的增容</span>
s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 由于已开辟的空间大于指定的空间，故本次修改无效</span>

s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改有效字符个数为100个</span>
s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改有效字符个数为100个，新内容初始化为'x'</span>
s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 修改有效字符个数为100个，删除了多余的内容</span>
</code></pre>
<p><code>reserve</code>是修改空间容量大小、<code>resize</code>是修改有效字符个数。但<code>resize</code>修改字符个数的同时也有可能顺带地修改空间容量大小。所以<code>reserve</code>只能单纯地修改容量大小，<code>resize</code>相当于修改容量加上初始化内容。</p>
<p><code>reserve</code>修改容量大小，已开辟好的空间只能增容不能通过该函数销毁，故当空间大于指定的空间时，增容无效。</p>
<h4><a id="String__165"></a>String 类的访问操作</h4>
<p><img alt="" src="image\948dc4dcc4f1416290b4faac7bbf0147.png"/></p>
<table><thead><tr><th>访问接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>operator[]</code></strong></td><td><strong>支持用下标访问 string 字符串</strong>。</td></tr><tr><td>范围<code>for</code></td><td>C++11支持更简洁的范围 for 新遍历形式。</td></tr></tbody></table>
<h5><a id="_175"></a>下标访问</h5>
<table><thead><tr><th><code>[]</code>重载形式</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>char&amp; operator[] (size_t pos);</code></strong></td><td>不带 const 的重载，支持修改 string 对象。</td></tr><tr><td><strong><code>const char&amp; operator[] (size_t pos) const;</code></strong></td><td>带 const 的重载，保护对象不被修改，能够减少拷贝。</td></tr></tbody></table>
<p>当产生常对象时，就会用带<code>const</code>的版本。</p>
<blockquote>
<p><code>at</code>也是早期的接口，作用和<code>operator[]</code>一样，存在是为了向前兼容。但<code>operator[]</code>发生越界访问会直接 assert 报错，<code>at</code>越界会抛出异常。</p>
</blockquote>
<h5><a id="_186"></a>迭代器</h5>
<p><img alt="" src="image\aad55710ba404651b99da84921101311.png"/></p>
<table><thead><tr><th>访问接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>begin</code>,<code>end</code></strong></td><td><strong>begin 返回起始位置的迭代器，end 返回尾字符的下一个位置的迭代器</strong>。</td></tr><tr><td><strong><code>rbegin</code>,<code>rend</code></strong></td><td><strong>rbegin 返回反向起始位置的迭代器，end 返回反向尾字符的下一个位置的迭代器</strong>。</td></tr><tr><td><code>cbegin</code>,<code>cend</code></td><td>cbegin 返回起始位置的常量迭代器，cend 返回尾字符的下一个位置的常量迭代器。（C++11）</td></tr></tbody></table>
<p><img alt="" src="image\7aa09647e13148b19e6a5ea7abf9a659.png"/></p>
<p>访问 string 对象除了下标访问还有使用迭代器的方式，迭代器是为 STL 容器专门打造的一种机制，专门用来迭代 STL 容器。访问容器中的元素，需要通过“迭代器”进行。迭代器是一个变量，可以指向容器中的某个元素，通过迭代器就可以操作它指向的元素。所以，迭代器可以想象成指针一样的东西。</p>
<pre><code class="prism language-cpp">string<span class="token operator">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    it<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre>
<p><code>begin()</code>接口返回对象元素的起始下标，<code>end()</code>接口返回尾元素的下一个位置，也就是<code>\0</code>的下标。利用迭代器遍历 string 对象，也就是遍历字符串数组。</p>
<p><img alt="" src="https://img-blog.csdnimg.cn/6a83546051584d8ea35d37c76225163c.gif#pic_center"/></p>
<ul><li><code>iterator</code>是迭代器的类型名，但迭代器类型前必须指明类域，因为它是在类里定义的。</li><li>迭代器按照定义方式分成以下四种：正向迭代器、常量正向迭代器、反向迭代器、常量反向迭代器。</li></ul>
<pre><code class="prism language-cpp"><span class="token comment">//正向迭代器</span>
string<span class="token operator">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">*</span>it <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    it<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//反向迭代器</span>
string<span class="token operator">::</span>reverse_iterator rit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>rit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">*</span>rit <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    rit<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//常量正向迭代器</span>
string<span class="token operator">::</span>const_iterator cit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">cbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>cit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">cend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>cit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    cit<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token comment">//常量反向迭代器</span>
string<span class="token operator">::</span>const_reverse_iterator  crit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">crbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>crit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">crend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>crit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    crit<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre>
<p>常量迭代器不支持对容器进行修改，一般用于常对象，或者常对象作形参以防止函数内修改对象。</p>
<p>begin 和 rbegin 一个是正向的起始位置、一个是反向的起始位置，end 和 rend 同理。值得注意的是，begin/rbegin 都指向的是有效元素，而 end/rend 指向有效尾元素的下一个位置。</p>
<p><strong><code>it!=it.end()</code>是标准的写法</strong>，虽然 string 类支持<code>it&lt;it.end()</code>是因为 string 对象元素地址是连续的。对于一些非线性的容器其元素地址不连续，故不支持这样的写法。</p>
<ul><li>无论是正向和反向迭代器，循环内对迭代器的进步条件都是<code>++</code>操作。</li></ul>
<p><img alt="" src="https://img-blog.csdnimg.cn/8fd67f70755f401c8c989fbc3f5a9557.gif#pic_center"/></p>
<ul><li><strong>迭代器相当于一种统一的遍历方式</strong>，所以很有必要学习。对于<code>string</code>类使用<code>[]</code>最好，掌握迭代器的遍历方式即可。</li></ul>
<p>因为重载下标访问操作符<code>[]</code>已经非常的方便，对<code>string</code>容器使用迭代器进行遍历，显得过于麻烦。但并不意味着迭代器就可有可无，因为对于其他非线性的容器如树、图等，就不支持使用<code>[]</code>访问遍历，但迭代器能够访问所有的容器。</p>
<p><img alt="" src="image\4f3aeb6eb68d4407b29abf5fa03d110e.png"/></p>
<p>从<code>begin</code>接口的多种重载形式可以看出，begin 接口的放回类型为迭代器类型，返回对应的迭代器的初始位置。</p>
<h5><a id="_for_268"></a>范围 for</h5>
<p>范围 for 循环被称为语法糖，简单方便，自动判断元素类型和数组范围大小。循环内修改数组元素需要传引用。</p>
<pre><code class="prism language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> e <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    e <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre>
<p>在实际编译时，范围 for 会被替换成迭代器。所以说，能用迭代器的容器就一定能用范围 for。</p>
<h4><a id="String__282"></a>String 类的修改操作</h4>
<p><img alt="" src="image\e08efd032ba64f6dbd0ad3a1e3bfb11d.png"/></p>
<h5><a id="_287"></a>增加元素</h5>
<table><thead><tr><th>修改接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>operator+=</code></strong></td><td><strong>在 string 字符串后追加字符串</strong>。</td></tr><tr><td><code>push_back</code></td><td>在字符串后追加字符 c。</td></tr><tr><td><code>append</code></td><td>在字符串后追加字符串。</td></tr></tbody></table>
<pre><code class="prism language-cpp">string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hehe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"haha"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

s1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 尾插字符</span>

s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"ddd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 尾插字符串</span>
s1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>

s1 <span class="token operator">+=</span> <span class="token string">"sss"</span><span class="token punctuation">;</span> <span class="token comment">//+= 字符串</span>
s1 <span class="token operator">+=</span> s2<span class="token punctuation">;</span> <span class="token comment">// += 对象</span>
</code></pre>
<p><code>operator+=</code>可以操作字符串、字符和 string 对象，而<code>push_back</code>和<code>append</code>相对较为局限，所以直接用<code>operator+=</code>即可。</p>
<h5><a id="_310"></a>插入删除</h5>
<table><thead><tr><th>修改接口</th><th>说明</th></tr></thead><tbody><tr><td><code>insert</code></td><td>可在指定位置插入多个字符、字符串、string 对象</td></tr><tr><td><code>erase</code></td><td>删除指定位置的指定长度的字符串</td></tr></tbody></table>
<p>把 string 对象看作顺序表，一般字符串的操作符<code>+=</code>重载相当于尾插已经够用。其他插入删除一般不建议使用，因为用处不多且效率低。</p>
<pre><code class="prism language-cpp">s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定位置插入n个字符</span>
s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定位置插入字符</span>
s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定位置插入对象</span>
s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"insert"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//指定位置插入字符串</span>

s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>	<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除下标位置起之后指定长度的字符串</span>
s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除指定迭代器位置的字符</span>
s<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除指定迭代器区间的字符</span>
</code></pre>
<blockquote>
<p><code>insert</code>,<code>erase</code>使用不多，仅作了解即可。</p>
</blockquote>
<h5><a id="_332"></a>对象交换</h5>
<table><thead><tr><th>修改接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>swap</code></strong></td><td><strong>string类的成员函数，交换两个 string 对象的成员变量</strong>。</td></tr></tbody></table>
<p>C++算法库和 String 库中都有<code>swap</code>函数，都可以实现 string 对象的交换。</p>
<pre><code class="prism language-cpp"><span class="token comment">//算法库中的swap</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    T <span class="token function">c</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    a <span class="token operator">=</span> b<span class="token punctuation">;</span>
    b <span class="token operator">=</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//string库中的swap(大致如此)</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    _str <span class="token operator">=</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">;</span>
    _size <span class="token operator">=</span> s<span class="token punctuation">.</span>_size<span class="token punctuation">;</span>
    _capacity <span class="token operator">=</span> s<span class="token punctuation">.</span>_capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p>string 库中的<code>swap</code>只能交换 string 对象，算法库的<code>swap</code>能交换任意类型的变量。但生成模板、调用对象的构造函数拷贝构造及析构等函数会降低程序的效率，而 string 库中的<code>swap</code>只交换几个变量而已。</p>
</blockquote>
<p>显然，string 库中的<code>swap</code>比算法库中的<code>swap</code>效率更高。</p>
<blockquote>
<p>这个是 string 类中的成员函数 swap，所以只能这样调用。但 string 类中还有另一个重载的全局函数<code>swap</code>。</p>
</blockquote>
<h4><a id="String__361"></a>String 类的查找操作</h4>
<p><img alt="" src="image\3a4999c01f114029929b1af755bef94d.png"/></p>
<table><thead><tr><th>其他接口</th><th>说明</th></tr></thead><tbody><tr><td><strong><code>c_str</code></strong></td><td><strong>将 string 对象以C格式字符串的形式返回</strong>。</td></tr><tr><td><strong><code>find</code>+<code>npos</code></strong></td><td><strong>从字符串 pos 位置开始向后找字符 c，并返回该字符在字符串中的位置</strong>。</td></tr><tr><td><strong><code>rfind</code></strong></td><td><strong>从字符串 pos 位置开始向前找字符 c，并返回该字符在字符串中的位置</strong>。</td></tr><tr><td><strong><code>substr</code></strong></td><td><strong>在 str 中从 pos 位置开始，截取 n 个字符，然后将其返回</strong>。</td></tr></tbody></table>
<pre><code class="prism language-cpp">cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 利用重载string对象的流提取运算符打印</span>
cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// 打印string对象对应形式的字符串</span>

string <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
FILE<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 适配C语言的语法</span>
</code></pre>
<p><img alt="" src="image\e279635cbe524eccb7bd07b5e0074c47.png"/></p>
<p><code>find</code>查找函数支持查找字符、查找字符串和查找 string 对象的多种重载形式，以及支持规定查找的起始或结束位置。</p>
<blockquote>
<p>返回位置就是返回下标，面向对象的思想使得C++封装管理的更好，不再直接返回地址而是下标，防止出现野指针。</p>
</blockquote>
<p>返回值的类型为<code>size_t</code>，代表从0开始的下标，意味着可以返回更大的值。但如果没找到只能返回<code>npos</code>，它是 string 类里的静态变量不会被改变，表示无穷大的数是一个string对象不可能达到的大小。</p>
<blockquote>
<p><code>npos</code>的值是无符号整型的最大值：42亿9千4百多万，折合成下标理论上对象就会占存4G多，所以不会存在这么大的对象。</p>
</blockquote>
<p><img alt="" src="image\efc5841578f84315824dd5bc09311c9c.png"/></p>
<p>将在原字符串中下标为<code>pos</code>作为起始位置，<code>len</code>作为长度的子字符串拷贝为新的字符串，并返回。</p>
<pre><code class="prism language-cpp">string <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
FILE<span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//找出文件后缀</span>
size_t pos <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//后缀</span>
    <span class="token comment">//1.</span>
    string suffix <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下标，长度</span>
    <span class="token comment">//2.</span>
    string suffix <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下标，最值</span>
    <span class="token comment">//3.</span>
    string suffix <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下标</span>
    cout <span class="token operator">&lt;&lt;</span> suffix <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>倘若文件有多个后缀名，而只想取得最后一个后缀，则可以使用反向查找：</p>
<pre><code class="prism language-cpp">size_t pos <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">!=</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//后缀</span>
    string suffix <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> suffix <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="prism language-cpp"><span class="token comment">//解析url地址</span>
<span class="token comment">//http://www.cplusplus.com/reference/string/string/find/	</span>
string <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"http://www.cplusplus.com/reference/string/string/find/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
string protocol<span class="token punctuation">;</span>
string Domain<span class="token punctuation">;</span>
string path<span class="token punctuation">;</span>

<span class="token keyword">int</span> pos1 <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pos1 <span class="token operator">!=</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    protocol <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos1 <span class="token operator">-</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//http : 0~pos1</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> pos2 <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> pos1 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pos2 <span class="token operator">!=</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Domain <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos1 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> pos2 <span class="token operator">-</span> <span class="token punctuation">(</span>pos1 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//www.cplusplus.com : pos1~pos2</span>
<span class="token punctuation">}</span>
path <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos2<span class="token punctuation">,</span> url<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">///reference/string/string/find/ : pos2~npos</span>
</code></pre>
<h4><a id="String__444"></a>String 类的其他函数</h4>
<p>以下所有函数都是全局函数，并没有实现在 string 类里。</p>
<table><thead><tr><th>其他接口</th><th>解释</th></tr></thead><tbody><tr><td><code>getline</code></td><td>读取以字符串的形式输入的一行，不会因为空格而结束。</td></tr><tr><td>关系操作符重载</td><td>重载<code>&gt;=</code>,<code>&gt;</code>,<code>&lt;=</code>,<code>&lt;</code>,<code>!=</code>,<code>==</code>的几种关系运算符，故可直接比较 string 对象或者字符串。</td></tr><tr><td><code>swap</code></td><td>全局函数，交换两个 string 对象的成员变量，和成员函数的重载版本仅调用方式不同。</td></tr><tr><td>字符串其他类型转换函数</td><td><code>stoi</code>,<code>stol</code>,<code>stof</code>,<code>stod</code>等字符串转整型、长整型、浮点型的函数，<code>to_string</code>其他类型字符串（C++11）</td></tr></tbody></table>
<pre><code class="prism language-cpp">cin <span class="token function">getline</span> <span class="token punctuation">(</span>cin<span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>

s1 <span class="token operator">&lt;</span> s2<span class="token punctuation">;</span>
s1 <span class="token operator">&lt;</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>

s1<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">swap</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token function">stol</span><span class="token punctuation">(</span><span class="token string">"1111111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
string s1 <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token number">1.111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>本文只能介绍 string 类，而只有加以大量的练习才能真正掌握。</p>
</blockquote>
<h3><a id="15_string_OJ_470"></a>1.5 string 类的OJ题</h3>
<h4><a id="_472"></a>反转字符串</h4>
<p><a href="https://leetcode-cn.com/problems/reverse-string-ii/">反转字符串II (leetcode-cn.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">&amp;</span> rx<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">&amp;</span> ry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> tmp <span class="token operator">=</span> rx<span class="token punctuation">;</span>
        rx <span class="token operator">=</span> ry<span class="token punctuation">;</span>
        ry <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">Reverse</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">Swap</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            begin<span class="token operator">++</span><span class="token punctuation">;</span>
            end<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    string <span class="token function">reverseStr</span><span class="token punctuation">(</span>string s<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> times <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token comment">//逆置</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>times <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">Reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
            begin <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">,</span> end <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">;</span>
            times<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        times <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> restChars <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> times <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">;</span>
        <span class="token comment">// k &lt;= 剩余字符 &lt; 2k</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>restChars <span class="token operator">&gt;=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">Reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> times <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">,</span> times <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> k <span class="token operator">+</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 剩余字符 &lt; k</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>restChars <span class="token operator">&lt;</span> k <span class="token operator">&amp;&amp;</span> restChars <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">Reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> times <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> k<span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><a href="https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/">反转字符串III (leetcode-cn.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">&amp;</span> rx<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">&amp;</span> ry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> tmp <span class="token operator">=</span> rx<span class="token punctuation">;</span>
        rx <span class="token operator">=</span> ry<span class="token punctuation">;</span>
        ry <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">Reverse</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">Swap</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            begin<span class="token operator">++</span><span class="token punctuation">;</span>
            end<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    string <span class="token function">reverseWords</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        size_t begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            end <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">,</span> begin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结束位置</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">==</span> string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                end <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">Reverse</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//逆置子串</span>
            begin <span class="token operator">=</span> end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//进位</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><a href="https://leetcode-cn.com/problems/reverse-only-letters/submissions/">仅反转字母 (leetcode-cn.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">// 判断字母</span>
    <span class="token keyword">bool</span> <span class="token function">IsLetter</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">&amp;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'a'</span> <span class="token operator">&lt;=</span> c <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span><span class="token string">'z'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token string">'A'</span> <span class="token operator">&lt;=</span> c <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span><span class="token string">'Z'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 交换字符</span>
    <span class="token keyword">void</span> <span class="token function">SwapLetters</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">&amp;</span> rx<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">&amp;</span> ry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> tmp <span class="token operator">=</span> rx<span class="token punctuation">;</span>
        rx <span class="token operator">=</span> ry<span class="token punctuation">;</span>
        ry <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//左右指针，左向右走，右向左走。遇到字符交换</span>
    string <span class="token function">reverseOnlyLetters</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> end <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 左走</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">IsLetter</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    begin<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//右走</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">IsLetter</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    end<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//找到字母后交换</span>
            <span class="token function">SwapLetters</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//进位</span>
            begin<span class="token operator">++</span><span class="token punctuation">;</span>
            end<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_589"></a>字符串最后一个单词的长度</h4>
<p><a href="https://www.nowcoder.com/practice/8c949ea5f36f422594b306a2300315da">字符串最后一个单词的长度 (nowcoder.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    string s <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> pos <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a id="_606"></a>字符串中的第一个唯一字符</h4>
<p><a href="https://leetcode-cn.com/problems/first-unique-character-in-a-string/">字符串中的第一个唯一字符 (leetcode-cn.com)</a>、<a href="https://www.nowcoder.com/practice/e896d0f82f1246a3aa7b232ce38029d4">(nowcoder.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">//统计所有字符出现的个数，依次放入数组中，返回数组最前的且个数为1的字符</span>
    <span class="token keyword">int</span> <span class="token function">firstUniqChar</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> timesArray<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            timesArray<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//数组中字母对应位置+1</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>timesArray<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4><a id="_632"></a>验证回文串</h4>
<p><a href="https://leetcode-cn.com/problems/valid-palindrome/">验证回文串 (leetcode-cn.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">//判断是否为字母或数字</span>
    <span class="token keyword">bool</span> <span class="token function">IsLegalChar</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">&gt;=</span> <span class="token string">'A'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'Z'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>c <span class="token operator">&gt;=</span> <span class="token string">'a'</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'z'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//字母</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'0'</span> <span class="token operator">&lt;=</span> c <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//数字</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">bool</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//前后指针相对方向遍历</span>
        <span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//忽略其他字符</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">IsLegalChar</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
                begin<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">IsLegalChar</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                end<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token comment">//是否（大小写）相等</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">tolower</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">tolower</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token comment">//进步</span>
            begin<span class="token operator">++</span><span class="token punctuation">;</span>
            end<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>下标最好采用<code>int</code>类型，以免减到0时就循环成最大值了。</p>
<h4><a id="_672"></a>字符串运算</h4>
<p><a href="https://leetcode-cn.com/problems/add-strings/">字符串相加 (leetcode-cn.com)</a></p>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">//从低位向高位加，取两个字符串对应位置的值，放入两个整型中，再相加作结果字符串的一位</span>
    <span class="token comment">//同时考虑进位</span>
    string <span class="token function">addStrings</span><span class="token punctuation">(</span>string num1<span class="token punctuation">,</span> string num2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> end1 <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> end2 <span class="token operator">=</span> num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//进位值0或1</span>
        string retStr<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> end2 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//定义循环，所有位结束才结束</span>
            <span class="token comment">//取对应位上的数值</span>
            <span class="token keyword">int</span> val1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> val2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> 
                val1 <span class="token operator">=</span> num1<span class="token punctuation">[</span>end1<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>end2 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> 
                val2 <span class="token operator">=</span> num2<span class="token punctuation">[</span>end2<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
            
            <span class="token keyword">int</span> ret <span class="token operator">=</span> val1 <span class="token operator">+</span> val2 <span class="token operator">+</span> next<span class="token punctuation">;</span>
            <span class="token comment">//判断进位</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                next <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//进位值置1，以便下一位+1</span>
                ret <span class="token operator">%=</span> <span class="token number">10</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//进位值置0，下一位不进位</span>
            <span class="token punctuation">}</span>
            end1<span class="token operator">--</span><span class="token punctuation">;</span>
            end2<span class="token operator">--</span><span class="token punctuation">;</span>
            retStr <span class="token operator">+=</span> ret <span class="token operator">+</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//判断首位是否进位</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> 
            retStr <span class="token operator">+=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
        <span class="token comment">//逆置字符串</span>
        <span class="token function">reverse</span><span class="token punctuation">(</span>retStr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> retStr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> retStr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">addStrings</span><span class="token punctuation">(</span>string num1<span class="token punctuation">,</span> string num2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        string ret<span class="token punctuation">;</span>
        <span class="token keyword">int</span> end1 <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> end2 <span class="token operator">=</span> num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> end2 <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> carry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                sum <span class="token operator">+=</span> num1<span class="token punctuation">[</span>end1<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
                end1<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>end2 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                sum <span class="token operator">+=</span> num2<span class="token punctuation">[</span>end2<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
                end2<span class="token operator">--</span><span class="token punctuation">;</span>              
            <span class="token punctuation">}</span>
            sum <span class="token operator">+=</span> carry<span class="token punctuation">;</span> <span class="token comment">// 进位</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                carry <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            ret <span class="token operator">+=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">reverse</span><span class="token punctuation">(</span>ret<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ret<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//逆置</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><img alt="" src="https://img-blog.csdnimg.cn/0208ffbf167241008ca4d7754c915c09.gif#pic_center"/></p>
<p>短串指针走完时，不可直接将长串剩余的部分直接拷下来，因为可能会存在进位。只能接着运算，短串走完后所在位都当作零来处理。</p>
<p><a href="https://leetcode-cn.com/problems/multiply-strings/">字符串相乘 (leetcode-cn.com)</a></p>
<pre><code class="prism language-cpp">、<span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    string <span class="token function">multiply</span><span class="token punctuation">(</span>string num1<span class="token punctuation">,</span> string num2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token operator">||</span> num2 <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token string">"0"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> ansArr <span class="token operator">=</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>m <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">int</span> y <span class="token operator">=</span> num2<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
                ansArr<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> m <span class="token operator">+</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            ansArr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> ansArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
            ansArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> ansArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        string ans<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> m <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>ansArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            index<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>c<span class="token operator">:</span> ans<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            c <span class="token operator">+=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p> </p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>