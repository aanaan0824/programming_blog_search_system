<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h3><a id="_0"></a>一、使用前提</h3>
<p>引入头文件：</p>
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unordered_set&gt;</span></span>
</code></pre>
<h3><a id="unordered_set_5"></a>二、unordered_set是什么</h3>
<p>unordered_set 容器，可直译为“无序 set 容器”。即 unordered_set 容器和 set 容器很像，唯一的区别就在于 set 容器会自行对存储的数据进行排序，而 unordered_set 容器不会。</p>
<p><strong>unordered_set的几个特性：</strong></p>
<blockquote>
<ol><li>不再以键值对的形式存储数据，而是直接存储数据的值 ；</li><li>容器内部存储的各个元素的值都互不相等，且不能被修改；</li><li>不会对内部存储的数据进行排序</li></ol>
</blockquote>
<h3><a id="unordered_set_13"></a>三、unordered_set的初始化</h3>
<p><strong>创建空的set</strong></p>
<pre><code class="prism language-cpp">unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> set1<span class="token punctuation">;</span>
</code></pre>
<p><strong>拷贝构造</strong></p>
<pre><code class="prism language-cpp">unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set2</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>使用迭代器构造</strong></p>
<pre><code class="prism language-cpp">unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set3</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> set1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>使用数组作为其初值进行构造</strong></p>
<pre><code class="prism language-cpp">unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set4</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>arr<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>移动构造</strong></p>
<pre><code class="prism language-cpp">unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">set5</span><span class="token punctuation">(</span><span class="token function">move</span><span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>使用处置列表进行构造</strong></p>
<pre><code class="prism language-cpp">unordered_set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> set6 <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h3><a id="unordered_set_38"></a>四、unordered_set的常用内置函数</h3>
<p><strong>empty()函数——判断是否为空</strong><br/> //若容器为空，则返回 true；否则 false</p>
<pre><code class="prism language-cpp">set1<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>find()函数——查找</strong><br/> //查找2，找到返回迭代器，失败返回end()</p>
<pre><code class="prism language-cpp">set1<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>count()函数——出现次数</strong><br/> //返回指2出现的次数，0或1</p>
<pre><code class="prism language-cpp">set1<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>insert()函数——插入元素</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//插入元素，返回pair&lt;unordered_set&lt;int&gt;::iterator, bool&gt;</span>
set1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用initializer_list插入元素</span>
set1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//指定插入位置，如果位置正确会减少插入时间，返回指向插入元素的迭代器</span>
set1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用范围迭代器插入</span>
set1<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>set2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> set2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>关于insert函数的返回值：</strong><br/> <strong>insert()只传入单个参数（待插入元素）</strong></p>
<blockquote>
<ol><li>会返回一个 pair 对象</li><li>这个 pair 对象包含一个迭代器，以及一个附加的布尔值用来说明插入是否成功</li><li>如果元素被插入，返回的迭代器会指向新元素</li><li>如果没有被插入，迭代器指向阻止插入的元素</li></ol>
</blockquote>
<pre><code class="prism language-cpp"><span class="token keyword">auto</span> pr <span class="token operator">=</span> words<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"ninety"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Returns a pair - an iterator &amp; a bool value</span>
</code></pre>
<p><strong>insert()传入两个参数（迭代器+待插入元素）</strong></p>
<blockquote>
<ol><li>可以用一个迭代器作为insert()的第一个参数，它指定了元素被插入的位置</li><li>在这种情况下，只会返回一个迭代器</li></ol>
</blockquote>
<pre><code class="prism language-cpp"><span class="token keyword">auto</span> iter <span class="token operator">=</span> words<span class="token punctuation">.</span><span class="token function">insert</span> <span class="token punctuation">(</span>pr<span class="token punctuation">.</span>first<span class="token punctuation">,</span> <span class="token string">"nine"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1st arg is a hint. Returns an iterator</span>
</code></pre>
<p><strong>insert()传入初始化列表</strong></p>
<blockquote>
<ol><li>插入初始化表中的元素</li><li>在这种情况下，什么都没有返回</li></ol>
</blockquote>
<pre><code class="prism language-cpp">words<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"ten"</span><span class="token punctuation">,</span> <span class="token string">"seven"</span><span class="token punctuation">,</span> <span class="token string">"six"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Inserting an initializer list</span>
</code></pre>
<p><strong>emplace()函数——插入元素(转移构造)</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//使用转移构造函数添加新元素3，比insert效率高</span>
set1<span class="token punctuation">.</span><span class="token function">emplace</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>erase()函数——删除元素</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//删除操作，成功返回1，失败返回0</span>
set1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//删除操作，成功返回下一个pair的迭代器</span>
set1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//删除set1的所有元素，返回指向end的迭代器</span>
set1<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> set1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>bucket_count()函数——篮子数目</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//返回容器中的篮子总数</span>
set1<span class="token punctuation">.</span><span class="token function">bucket_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>bucket_size()函数——篮子中元素数目</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//返回1号篮子中的元素数</span>
set1<span class="token punctuation">.</span><span class="token function">bucket_size</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>bucket()函数——在哪个篮子</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//元素1在哪一个篮子</span>
set1<span class="token punctuation">.</span><span class="token function">bucket</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>clear()函数——清空</strong></p>
<pre><code class="prism language-cpp">set1<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>load_factor()函数——负载因子</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//负载因子，返回每个篮子元素的平均数，即size/float(bucket_count);</span>
set1<span class="token punctuation">.</span><span class="token function">load_factor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>rehash()函数——设置篮子数目并重新分布</strong></p>
<pre><code class="prism language-cpp"><span class="token comment">//设置篮子的数量为20，并且重新rehash</span>
set1<span class="token punctuation">.</span><span class="token function">rehash</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>