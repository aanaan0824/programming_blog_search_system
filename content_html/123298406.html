<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-light" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<p></p>
<div class="toc">
<h3>文章目录</h3>
<ul><li><a href="#_1">前言</a></li><li><a href="#_13">一、安装与启动</a></li><li><a href="#_26">二、基本使用</a></li><li><a href="#_133">总结</a></li></ul>
</div>
<p></p>
<h1><a id="_1"></a>前言</h1>
<p>近期在做<code>NER</code>的工作，由于缺乏标注数据，所以，你懂的😭😭</p>
<p><code>Label Studio</code>不仅可以用来标注文本NER任务，还可以用来标注文本分类、图像分类等等其他AI任务。</p>
<p>官网——<a href="https://labelstud.io/">https://labelstud.io/</a></p>
<p>其他标注任务自己去探索吧，我这里只讲一下NER任务。</p>
<h1><a id="_13"></a>一、安装与启动</h1>
<p>安装</p>
<pre><code class="prism language-bash">pip <span class="token function">install</span> -U label-studio
</code></pre>
<p>启动</p>
<pre><code class="prism language-bash"><span class="token comment"># 打开命令行，在命令行中执行：</span>

label-studio
</code></pre>
<h1><a id="_26"></a>二、基本使用</h1>
<p>不出意外的话，在命令行中启动 <code>Label Studio</code> 后，会弹出一个登陆页面<img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/763a8ba32b1f4306a8e56acae05e2f9c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 如上图</p>
<p>第一次使用需要创建账号，注册一下就好了</p>
<p>注册好后登陆进去，然后会跳转到如下页面<img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/e76101aba50f423c855607456dc3eb99.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 第一次登陆进来，这个页面应该是空白的，这些都是我自己建的项目。你们不用管</p>
<p>下面，我们开始创建自己的项目：</p>
<p>1、点击右上角的<code>create</code>按钮<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/9d880f1de97a481dbef12cd83e9e6c54.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 点击后弹出如下页面，设置自己的项目名和项目描述<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/b9cc600e2abb40818ca8edad3063fa11.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>2、设置好项目名称和描述后，点击旁边的 <code>Data Import</code>，进入到数据导入页面</p>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/2280edf70b8543b6be9f25d88798cf3d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 3、点击<code>Upload Files</code>按钮，从本地选择一个待标注的文件</p>
<p>我的文件格式是一行一行的 <code>.txt</code> 文本，如图：<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/fe867c42e5194b4f85beae6b0b08e1c4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 一行表示一条数据。文件格式也可以是<code>CSV</code>，按理说只要是一行一条数据的都可以，感兴趣的同学可以自己探索下。</p>
<p>4、选择好待标注的文件后，点击确定，会弹出如下界面：<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/3da4724779ce45cfbba1e4af649d16e0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>5、这里需要选择是 <code>List of tasks</code> 还是<code>Time Series</code>，这里我选择的是<code>List of tasks</code></p>
<p>6、选择好后，点击旁边的 <code>Labeling Setup</code>，页面如下：</p>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/428ed9be98f949928a2432c6cbb7fe9d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>7、找到<code>Natural Language Processing</code>，选择<code>Named Entity Recognition</code><br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/de83e632d2ff4404af7dc449314d3e68.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 8、选择后，弹出如下页面<img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/81bb3a63d6be4bb9b161569dbe8fa2a0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>9、默认的四个标签 <code>PER ORG LOC MISC</code>，删掉这四个标签，换成我们自己的标签</p>
<p>从旁边的方框里输入自己的标签名称，再点击<code>Add</code>就可以添加自己自定义的标签了<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/dcfda08763ff43488796692363c844e8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 点击我们添加的标签，还能自定义颜色<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/482bbdf368a441b3a083d392bac70d90.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 10、至此，我们就选择好了所有的配置，看起来很麻烦事因为我说的比较细，就怕有些同学看不懂。点击右上角的<code>Save</code>按钮，就可以开始标注了<img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/9c2cb090fba846978e8d87cfce01c9b8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 11、点击<code>Label All Tasks</code> 按钮，开始愉（痛）快（苦）地标注之旅吧<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/bbac44a64fe14e9e915383e347993aac.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 12、点击实体名称，再通过鼠标从待标注的文本选择出正确的实体，如图：<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/f083bec3d44a4827833fa37adbccf540.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 注意：标注完成后，一定要点击<code>Submit</code>提交已标注的数据，要不然，一天白干</p>
<p>设置一下可以让标签显示在实体右上角<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/a7b818c1cb3e460999150972bc8e18e0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/></p>
<p>13、标注完成后，点击右上角 <code>Export</code> 可以导出已标注的数据</p>
<p><img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/61f9c34e45bb433f94e9dbdd8e54a60a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 14、这里我们选择CSV，你想导出其他格式的也可以<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/e5bd48e9c8264b10bc3d194c843ef215.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 点击下面的<code>Export</code>蓝色按钮，就能导出已标注的数据啦</p>
<p>15、导出的csv的数据格式<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/85ff01e7fa1740ceaffdadc7683b44b3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_20,color_FFFFFF,t_70,g_se,x_16"/><br/> 16、通过以下代码，我们将其转为以下这种数据格式：<br/> <img alt="请添加图片描述" src="https://img-blog.csdnimg.cn/5d87c65a8ea746ec8f77143f31c6098a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAUGVhc2FudFdvcmtlcg==,size_9,color_FFFFFF,t_70,g_se,x_16"/><br/> 转换代码：</p>
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">gen_train_data</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> save_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    file_path: 通过Label Studio导出的csv文件
    save_path: 保存的路径
    """</span>
    data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token keyword">for</span> idx<span class="token punctuation">,</span> item <span class="token keyword">in</span> data<span class="token punctuation">.</span>iterrows<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        text <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'text'</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> pd<span class="token punctuation">.</span>isna<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>
            text <span class="token operator">=</span> <span class="token string">''</span>
        text_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        label_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        labels <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span>
        label_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'O'</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>text_list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> pd<span class="token punctuation">.</span>isna<span class="token punctuation">(</span>labels<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            labels <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>labels<span class="token punctuation">)</span>
            <span class="token keyword">for</span> label_item <span class="token keyword">in</span> labels<span class="token punctuation">:</span>
                start <span class="token operator">=</span> label_item<span class="token punctuation">[</span><span class="token string">'start'</span><span class="token punctuation">]</span>
                end <span class="token operator">=</span> label_item<span class="token punctuation">[</span><span class="token string">'end'</span><span class="token punctuation">]</span>
                label <span class="token operator">=</span> label_item<span class="token punctuation">[</span><span class="token string">'labels'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                label_list<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token string">'B-{label}'</span>
                label_list<span class="token punctuation">[</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span>end<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>f<span class="token string">'M-{label}'</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>end<span class="token operator">-</span>start<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
                label_list<span class="token punctuation">[</span>end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token string">'E-{label}'</span>
        <span class="token keyword">assert</span> <span class="token builtin">len</span><span class="token punctuation">(</span>label_list<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>text_list<span class="token punctuation">)</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>save_path<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            <span class="token keyword">for</span> idx_<span class="token punctuation">,</span> line <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>text_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> text_list<span class="token punctuation">[</span>idx_<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'\t'</span> <span class="token operator">or</span> text_list<span class="token punctuation">[</span>idx_<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">:</span>
                    text_list<span class="token punctuation">[</span>idx_<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'，'</span>
                line <span class="token operator">=</span> text_list<span class="token punctuation">[</span>idx_<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> label_list<span class="token punctuation">[</span>idx_<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'\n'</span>
                f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
</code></pre>
<p>直接传参就可以啦</p>
<h1><a id="_133"></a>总结</h1>
<p>1、我愿称其为 NER 标注神器<br/> 2、应该可以多人协同、如果有同学搞定多人协同标注，可以写一篇博客教程，将博客链接放在评论区<br/> 3、BiLSTM + CRF NER 任务可以参考：<a href="https://blog.csdn.net/qq_44193969/article/details/116008734">https://blog.csdn.net/qq_44193969/article/details/116008734</a>-文章写的有点潦草，代码可以跑通，后续有空会重新编辑一下，感兴趣的同学将就着看吧哈哈</p>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>