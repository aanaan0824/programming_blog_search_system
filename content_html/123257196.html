<div class="article_content clearfix" id="article_content">
<link href="style.css" rel="stylesheet"/>
<div class="markdown_views prism-atom-one-dark" id="content_views">
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<path d="M5,0 0,2.5 5,5z" id="raphael-marker-block" stroke-linecap="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
</svg>
<h2><a id="_0"></a>定义</h2>
<p>XSS(Cross Site Scripting)攻击，中文名为跨站脚本攻击，是一种常见的网页攻击方式。</p>
<p>攻击者在web页面中插入一些恶意的<code>javascript</code>或<code>HTML</code>代码，当用户浏览该页面的时候，嵌入到web页面中的<code>javascript</code>/<code>HTML</code>代码会被执行，从而达到攻击目的。</p>
<p>一个简单的例子就是网页中的评论功能，用户编写一段<code>javascript</code>代码（见下面）提交到服务器，如果不做过滤就直接显示出来的话，就会导致用户一打开页面就会有弹窗提示“你被攻击了”。</p>
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"你被攻击了"</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre>
<h2><a id="_10"></a>防范手段</h2>
<h2><a id="_11"></a>对用户数据进行过滤</h2>
<p>这种攻击方式再次印证了“<strong>永远不要相信用户提交过来的数据</strong>”的真理，所以要防范这种攻击，就要对数据进行过滤，在用户提交时过滤，或者在输出页面时过滤都可以。</p>
<p>在PHP中可以使用<a href="https://www.php.net/manual/zh/function.htmlspecialchars">htmlspecialchars</a>或<a href="https://www.php.net/manual/zh/function.htmlentities">htmlentities</a>函数，这两个函数都可以把特殊字符转换为HTML实体，区别在于，前者只会转换一部分字符，后者会转换全部特殊字符。</p>
<h2><a id="cookiehttp_only_16"></a>cookie设置为http only</h2>
<p>较多XSS攻击注入的<code>javascript</code>脚本代码都是为了获取用户的cookie信息，把cookie设置为http only，可以禁止<code>javascript</code>读取。因此这种方法一定程度上也能防范XSS攻击。</p>
<blockquote>
<p>具体在PHP中是将<a href="https://www.php.net/manual/zh/function.setcookie.php">setcookie</a>函数的<code>httponly</code>参数设置为<code>true</code></p>
</blockquote>
</div>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css" rel="stylesheet"/>
<link href="https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css" rel="stylesheet"/>
</div>