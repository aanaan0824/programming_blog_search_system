{"blogid": "124779728", "writerAge": "码龄2年", "writerBlogNum": "79", "writerCollect": "363", "writerComment": "4", "writerFan": "41", "writerGrade": "4级", "writerIntegral": "939", "writerName": "小白修炼晋级中", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124779728.jpg", "writerRankTotal": "19361", "writerRankWeekly": "13364", "writerThumb": "72", "writerVisitNum": "208890", "blog_read_count": "3537", "blog_time": "于 2022-05-18 00:00:00 发布", "blog_title": "SQL的group by函数的用法实例", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"1.group%20by%E5%87%BD%E6%95%B0%E7%9A%84%E8%AF%AD%E6%B3%95%E5%8F%8A%E7%94%A8%E6%B3%95-toc\" style=\"margin-left:0px;\"><a href=\"#1.group%20by%E5%87%BD%E6%95%B0%E7%9A%84%E8%AF%AD%E6%B3%95%E5%8F%8A%E7%94%A8%E6%B3%95\">1.group by函数的语法及用法</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E8%AF%AD%E6%B3%95%EF%BC%9Agroup%20by%20%E5%AD%97%E6%AE%B5-toc\" style=\"margin-left:40px;\"><a href=\"#%EF%BC%881%EF%BC%89%E8%AF%AD%E6%B3%95%EF%BC%9Agroup%20by%20%E5%AD%97%E6%AE%B5\">（1）语法：group by 字段</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E7%94%A8%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%88%86%E7%BB%84%EF%BC%8C%E4%B8%80%E8%88%AC%E7%94%A8%E4%BA%8E%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88%EF%BC%88%E6%B1%82%E5%92%8C%E3%80%81%E7%BB%9F%E8%AE%A1%E7%AD%89%EF%BC%89%E3%80%82-toc\" style=\"margin-left:40px;\"><a href=\"#%EF%BC%882%EF%BC%89%E7%94%A8%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%88%86%E7%BB%84%EF%BC%8C%E4%B8%80%E8%88%AC%E7%94%A8%E4%BA%8E%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88%EF%BC%88%E6%B1%82%E5%92%8C%E3%80%81%E7%BB%9F%E8%AE%A1%E7%AD%89%EF%BC%89%E3%80%82\">（2）用法：用于分组，一般用于与聚合函数进行分组聚合（求和、统计等）。</a></p>\n<p id=\"2.%E5%AE%9E%E4%BE%8B-toc\" style=\"margin-left:0px;\"><a href=\"#2.%E5%AE%9E%E4%BE%8B\">2.实例</a></p>\n<p id=\"%EF%BC%881%EF%BC%89%E8%8E%B7%E5%8F%96%E5%88%86%E7%BB%84%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%8F%96%E4%B8%8D%E5%90%8C%E5%80%BC%E3%80%82-toc\" style=\"margin-left:40px;\"><a href=\"#%EF%BC%881%EF%BC%89%E8%8E%B7%E5%8F%96%E5%88%86%E7%BB%84%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%8F%96%E4%B8%8D%E5%90%8C%E5%80%BC%E3%80%82\">（1）获取分组信息，取不同值。</a></p>\n<p id=\"%EF%BC%882%EF%BC%89%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8-toc\" style=\"margin-left:40px;\"><a href=\"#%EF%BC%882%EF%BC%89%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8\">（2）与聚合函数结合使用</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<p></p>\n<h1 id=\"1.group%20by%E5%87%BD%E6%95%B0%E7%9A%84%E8%AF%AD%E6%B3%95%E5%8F%8A%E7%94%A8%E6%B3%95\">1.group by函数的语法及用法</h1>\n<h2 id=\"%EF%BC%881%EF%BC%89%E8%AF%AD%E6%B3%95%EF%BC%9Agroup%20by%20%E5%AD%97%E6%AE%B5\">（1）语法：group by 字段</h2>\n<pre><code>查询语句\nselect column_name(s) #字段名\n[,聚合函数]\nfrom table #表名\nwhere #条件语句\ngroup by column_name #字段名</code></pre>\n<p>说明：group by分组的字段（列名）可为多个字段，“[,聚合函数]”表示可选，分组函数group by一般与聚合函数一起使用。若不与聚合函数一起使用单纯查询是非数值列用group by有汇总取不同值的作用。</p>\n<pre><code>select column_name(s) #字段名\nfrom table #表名\ngroup by column_name #字段名\n\n相当于 \n\nselect distinct column_name(s) #字段名\nfrom table #表名</code></pre>\n<h2 id=\"%EF%BC%882%EF%BC%89%E7%94%A8%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%88%86%E7%BB%84%EF%BC%8C%E4%B8%80%E8%88%AC%E7%94%A8%E4%BA%8E%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E8%81%9A%E5%90%88%EF%BC%88%E6%B1%82%E5%92%8C%E3%80%81%E7%BB%9F%E8%AE%A1%E7%AD%89%EF%BC%89%E3%80%82\">（2）用法：用于分组，一般用于与聚合函数进行分组聚合（求和、统计等）。</h2>\n<hr/>\n<h1 id=\"2.%E5%AE%9E%E4%BE%8B\">2.实例</h1>\n<p>现有一个成绩表score，学号id，姓名name，性别sex，民族nation，班级class，语文Chinese，数学math，英语English。如下表所示。</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:500px;\"><caption>\n  score\n </caption><tbody><tr><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">ID</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">name</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">sex</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">nation</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">class</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">Chinese</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">math</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">English</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">1001</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">张三</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">汉</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">91</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">91</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">93</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">1003</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">王五</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">藏</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">91</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">86</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">88</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">1006</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">颜一</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">黎</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">90</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">95</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">93</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">1004</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">陈红</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">黎</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">89</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">90</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">92</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">1007</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">陈小小</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">黎</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">89</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">80</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">93</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">1002</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">李四</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">壮</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">79</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">69</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">89</span></td></tr></tbody></table>\n<h2 id=\"%EF%BC%881%EF%BC%89%E8%8E%B7%E5%8F%96%E5%88%86%E7%BB%84%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%8F%96%E4%B8%8D%E5%90%8C%E5%80%BC%E3%80%82\">（1）获取分组信息，取不同值。</h2>\n<p>例1：分组获取班级、性别信息。</p>\n<pre><code class=\"language-sql\">select class,sex\nfrom score\ngroup by class,sex\n\n相当于\n\nselect distinct class,sex\nfrom score</code></pre>\n<p>结果如下图所示。</p>\n<table cellspacing=\"0\" style=\"width:240.03pt;\"><tbody><tr><td style=\"border-color:#000000;vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">class</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">sex</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td></tr></tbody></table>\n<h2 id=\"%EF%BC%882%EF%BC%89%E4%B8%8E%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8\">（2）与聚合函数结合使用</h2>\n<p>例2：按班级性别分组获取语数英的成绩求和。</p>\n<pre><code class=\"language-sql\">select class,sex,\nsum(Chinese) as Chinese,\nsum(math) as math,\nsum(English) as English\nfrom score\ngroup by class,sex</code></pre>\n<p>结果如下图所示。</p>\n<table cellspacing=\"0\" style=\"width:240.03pt;\"><tbody><tr><td style=\"border-color:#000000;vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">class</span></td><td style=\"vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">sex</span></td><td style=\"border-color:#000000;vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">Chinese</span></td><td style=\"border-color:#000000;vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">math</span></td><td style=\"border-color:#000000;vertical-align:middle;width:48pt;\"><span style=\"color:#000000;\">English</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">91</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">86</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">88</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">二班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">179</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">185</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">185</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">男</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">170</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">160</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">182</span></td></tr><tr><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">一班</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">女</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">89</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">80</span></td><td style=\"vertical-align:middle;\"><span style=\"color:#000000;\">93</span></td></tr></tbody></table>\n<p>说明：默认按升序排序。</p>\n<p></p>\n<p>SQL的聚合函数参考<a href=\"https://blog.csdn.net/weixin_50853979/article/details/124523936?spm=1001.2014.3001.5502\" title=\"SQL的聚合函数用法及实例_小白修炼晋级中的博客-CSDN博客\">SQL的聚合函数用法及实例_小白修炼晋级中的博客-CSDN博客</a></p>\n<h1></h1>\n<h1></h1>\n</div>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-05-18 00:00:00", "summary": "目录函数的语法及用法语法：字段用法：用于分组，一般用于与聚合函数进行分组聚合求和、统计等。实例获取分组信息，取不同值。与聚合函数结合使用函数的语法及用法语法：字段查询语句字段名聚合函数表名条件语句字段"}