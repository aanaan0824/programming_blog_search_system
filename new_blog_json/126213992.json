{"blogid": "126213992", "writerAge": "码龄1年", "writerBlogNum": "94", "writerCollect": "1868", "writerComment": "3068", "writerFan": "978", "writerGrade": "6级", "writerIntegral": "5862", "writerName": "lxw-pro", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126213992.jpg", "writerRankTotal": "2882", "writerRankWeekly": "197", "writerThumb": "1852", "writerVisitNum": "42120", "blog_read_count": "2644", "blog_time": "于 2022-08-07 21:44:17 发布", "blog_title": "【Numpy-矩阵库~python】", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>目录</h3>\n<ul><li><a href=\"#numpy_13\">numpy学习（续）</a></li><li><ul><li><a href=\"#_17\">转置矩阵</a></li><li><a href=\"#matlibempty_28\">matlib.empty()</a></li><li><a href=\"#numpymatlibzeros_39\">numpy.matlib.zeros()</a></li><li><a href=\"#numpymatlibones_48\">numpy.matlib.ones()</a></li><li><a href=\"#numpymatlibeye_58\">numpy.matlib.eye()</a></li><li><a href=\"#numpymatlibrand_68\">numpy.matlib.rand()</a></li><li><a href=\"#_78\">二维矩阵</a></li><li><a href=\"#n_85\">n维数组</a></li><li><ul><li><a href=\"#_92\">以上所有程序对应运行结果如下：</a></li></ul>\n</li></ul>\n</li><li><a href=\"#pandas__134\">pandas 每日一练：</a></li><li><ul><li><ul><li><a href=\"#_150\">运行结果如下：</a></li></ul>\n</li><li><a href=\"#715sku_cost_prc_169\">71、以5个数据作为一个数据滑动窗口，计算这五个数据总和（sku_cost_prc）</a></li><li><ul><li><a href=\"#_175\">运行结果如下：</a></li></ul>\n</li><li><a href=\"#72sku_cost_prc_520_192\">72、将sku_cost_prc 5日均线、20日均线与原始数据绘制在同一个圈上</a></li><li><ul><li><a href=\"#_202\">运行效果如下：</a></li></ul>\n</li><li><a href=\"#735_206\">73、将数据往后移动5天</a></li><li><ul><li><a href=\"#_209\">运行结果如下：</a></li></ul>\n</li><li><a href=\"#745_227\">74、将数据往前移动5天</a></li><li><ul><li><a href=\"#_234\">运行结果如下：</a></li></ul>\n</li><li><a href=\"#75expandingsku_cost_prc_252\">75、使用expanding函数计算sku_cost_prc的移动窗口均值</a></li><li><ul><li><a href=\"#_259\">运行结果如下：</a></li></ul>\n</li><li><a href=\"#httpsblogcsdnnetm0_66318554articledetails125750544_278\">每日一言：</a></li><li><ul><li><a href=\"#httpsblogcsdnnetm0_66318554articledetails125857264_291\">持续更新中...</a></li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<hr/>\n<blockquote>\n<p>个人昵称：<a href=\"https://blog.csdn.net/m0_66318554?type=blog\">lxw-pro</a><br/> 个人主页：欢迎关注 <a href=\"https://blog.csdn.net/m0_66318554?type=blog\">我的主页</a><br/> 个人感悟： “失败乃成功之母”，这是不变的道理，在失败中总结，在失败中成长，才能成为IT界的一代宗师。</p>\n</blockquote>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># -*- coding = utf-8 -*-</span>\n<span class=\"token comment\"># @Time : 2022/8/7 14:30</span>\n<span class=\"token comment\"># @Author : lxw_pro</span>\n<span class=\"token comment\"># @File : NumPy 矩阵库.py</span>\n<span class=\"token comment\"># @Software : PyCharm</span>\n</code></pre>\n<h1><a id=\"numpy_13\"></a>numpy学习（续）</h1>\n<blockquote>\n<p>NumPy 中包含了一个矩阵库 numpy.matlib，该模块中的函数返回的是一个矩阵，而不是 ndarray 对象。</p>\n</blockquote>\n<h2><a id=\"_17\"></a>转置矩阵</h2>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n\nlxw <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"原数组为：\\n\"</span><span class=\"token punctuation\">,</span> lxw<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"转置过的数组为：\\n\"</span><span class=\"token punctuation\">,</span> lxw<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"matlibempty_28\"></a>matlib.empty()</h2>\n<blockquote>\n<p><code>matlib.empty()</code> 函数返回一个新的矩阵</p>\n</blockquote>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">import</span> numpy<span class=\"token punctuation\">.</span>matlib\n\nkk <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matlib<span class=\"token punctuation\">.</span>empty<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\"># 填充为随机数据</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>kk<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"numpymatlibzeros_39\"></a>numpy.matlib.zeros()</h2>\n<blockquote>\n<p><code>numpy.matlib.zeros()</code> 函数创建一个以 0 填充的矩阵</p>\n</blockquote>\n<pre><code class=\"prism language-python\">ll <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matlib<span class=\"token punctuation\">.</span>zeros<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>ll<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"numpymatlibones_48\"></a>numpy.matlib.ones()</h2>\n<blockquote>\n<p><code>numpy.matlib.ones()</code>函数创建一个以 1 填充的矩阵</p>\n</blockquote>\n<pre><code class=\"prism language-python\">yy <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matlib<span class=\"token punctuation\">.</span>ones<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>yy<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"numpymatlibeye_58\"></a>numpy.matlib.eye()</h2>\n<blockquote>\n<p>numpy.matlib.eye() 函数返回一个矩阵，对角线元素为 1，其他位置为零</p>\n</blockquote>\n<pre><code class=\"prism language-python\">dd <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matlib<span class=\"token punctuation\">.</span>eye<span class=\"token punctuation\">(</span>n<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> M<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> k<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token builtin\">float</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dd<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"numpymatlibrand_68\"></a>numpy.matlib.rand()</h2>\n<blockquote>\n<p><code>numpy.matlib.rand()</code> 函数创建一个给定大小的矩阵，数据是随机填充的</p>\n</blockquote>\n<pre><code class=\"prism language-python\">sj <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matlib<span class=\"token punctuation\">.</span>rand<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>sj<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"_78\"></a>二维矩阵</h2>\n<pre><code class=\"prism language-python\">e <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">(</span><span class=\"token string\">'1, 2;3, 4'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n</code></pre>\n<h2><a id=\"n_85\"></a>n维数组</h2>\n<pre><code class=\"prism language-python\">r <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>asarray<span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_92\"></a>以上所有程序对应运行结果如下：</h3>\n<pre><code class=\"prism language-python\">原数组为：\n <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span>  <span class=\"token number\">1</span>  <span class=\"token number\">2</span>  <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span> <span class=\"token number\">4</span>  <span class=\"token number\">5</span>  <span class=\"token number\">6</span>  <span class=\"token number\">7</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span> <span class=\"token number\">8</span>  <span class=\"token number\">9</span> <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">12</span> <span class=\"token number\">13</span> <span class=\"token number\">14</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n转置过的数组为：\n <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token number\">0</span>  <span class=\"token number\">4</span>  <span class=\"token number\">8</span> <span class=\"token number\">12</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span>  <span class=\"token number\">5</span>  <span class=\"token number\">9</span> <span class=\"token number\">13</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span> <span class=\"token number\">2</span>  <span class=\"token number\">6</span> <span class=\"token number\">10</span> <span class=\"token number\">14</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span> <span class=\"token number\">3</span>  <span class=\"token number\">7</span> <span class=\"token number\">11</span> <span class=\"token number\">15</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>           nan <span class=\"token number\">0.0000000e+000</span> <span class=\"token number\">1.1581509e-311</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">2.0236929e-320</span> <span class=\"token number\">0.0000000e+000</span> <span class=\"token number\">0.0000000e+000</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.0000000e+000</span> <span class=\"token number\">0.0000000e+000</span> <span class=\"token number\">0.0000000e+000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.</span> <span class=\"token number\">0.</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span> <span class=\"token number\">0.</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span> <span class=\"token number\">0.</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.</span> <span class=\"token number\">1.</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span> <span class=\"token number\">1.</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">1.</span> <span class=\"token number\">1.</span> <span class=\"token number\">1.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1.</span> <span class=\"token number\">0.</span> <span class=\"token number\">0.</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span> <span class=\"token number\">1.</span> <span class=\"token number\">0.</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.</span> <span class=\"token number\">0.</span> <span class=\"token number\">1.</span> <span class=\"token number\">0.</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0.39836727</span> <span class=\"token number\">0.16983388</span> <span class=\"token number\">0.91118039</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.77283047</span> <span class=\"token number\">0.24608713</span> <span class=\"token number\">0.72451454</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">0.32447712</span> <span class=\"token number\">0.21523051</span> <span class=\"token number\">0.4374776</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">3</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n \n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">[</span><span class=\"token number\">3</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n\n</code></pre>\n<p>—————————————————————————————————</p>\n<h1><a id=\"pandas__134\"></a>pandas 每日一练：</h1>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># -*- coding = utf-8 -*-</span>\n<span class=\"token comment\"># @Time : 2022/8/7 19:48</span>\n<span class=\"token comment\"># @Author : lxw_pro</span>\n<span class=\"token comment\"># @File : pandas-12 练习.py</span>\n<span class=\"token comment\"># @Software : PyCharm</span>\n\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n\nlxw <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_excel<span class=\"token punctuation\">(</span><span class=\"token string\">\"site.xlsx\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>lxw<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_150\"></a>运行结果如下：</h3>\n<pre><code class=\"prism language-python\">     Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>  Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0.1</span>   create_dt  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   yye  sku_cost_prc     lrl\n<span class=\"token number\">0</span>             <span class=\"token number\">0</span>             <span class=\"token number\">1</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">8.8</span>          <span class=\"token number\">6.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">1</span>             <span class=\"token number\">1</span>             <span class=\"token number\">2</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7.5</span>          <span class=\"token number\">5.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2</span>             <span class=\"token number\">2</span>             <span class=\"token number\">3</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">5.0</span>          <span class=\"token number\">3.85</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">3</span>             <span class=\"token number\">3</span>             <span class=\"token number\">4</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">19.6</span>          <span class=\"token number\">7.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">4</span>             <span class=\"token number\">4</span>             <span class=\"token number\">5</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">13.5</span>         <span class=\"token number\">10.38</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>          <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">751</span>         <span class=\"token number\">751</span>           <span class=\"token number\">752</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.0</span>          <span class=\"token number\">0.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">752</span>         <span class=\"token number\">752</span>           <span class=\"token number\">753</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2.0</span>          <span class=\"token number\">1.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">753</span>         <span class=\"token number\">753</span>           <span class=\"token number\">754</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.0</span>          <span class=\"token number\">0.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">754</span>         <span class=\"token number\">754</span>           <span class=\"token number\">755</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7.6</span>          <span class=\"token number\">2.92</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">755</span>         <span class=\"token number\">755</span>           <span class=\"token number\">756</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.3</span>          <span class=\"token number\">2.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">756</span> rows x <span class=\"token number\">8</span> columns<span class=\"token punctuation\">]</span>\n</code></pre>\n<hr/>\n<h2><a id=\"715sku_cost_prc_169\"></a>71、以5个数据作为一个数据滑动窗口，计算这五个数据总和（sku_cost_prc）</h2>\n<pre><code class=\"prism language-python\">zh <span class=\"token operator\">=</span> lxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>rolling<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>zh<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_175\"></a>运行结果如下：</h3>\n<pre><code class=\"prism language-python\"><span class=\"token number\">0</span>        NaN\n<span class=\"token number\">1</span>        NaN\n<span class=\"token number\">2</span>        NaN\n<span class=\"token number\">3</span>        NaN\n<span class=\"token number\">4</span>      <span class=\"token number\">34.31</span>\n       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  \n<span class=\"token number\">751</span>    <span class=\"token number\">10.89</span>\n<span class=\"token number\">752</span>    <span class=\"token number\">10.51</span>\n<span class=\"token number\">753</span>     <span class=\"token number\">8.36</span>\n<span class=\"token number\">754</span>     <span class=\"token number\">9.90</span>\n<span class=\"token number\">755</span>     <span class=\"token number\">8.54</span>\nName<span class=\"token punctuation\">:</span> sku_cost_prc<span class=\"token punctuation\">,</span> Length<span class=\"token punctuation\">:</span> <span class=\"token number\">756</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> float64\n</code></pre>\n<hr/>\n<h2><a id=\"72sku_cost_prc_520_192\"></a>72、将sku_cost_prc 5日均线、20日均线与原始数据绘制在同一个圈上</h2>\n<pre><code class=\"prism language-python\">lxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nlxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>rolling<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nlxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>rolling<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_202\"></a>运行效果如下：</h3>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\848f5889e0df41aebccfe5be790eba98.png\"/></p>\n<hr/>\n<h2><a id=\"735_206\"></a>73、将数据往后移动5天</h2>\n<p>wh = lxw.shift(5)<br/> print(wh)</p>\n<h3><a id=\"_209\"></a>运行结果如下：</h3>\n<pre><code class=\"prism language-python\">     Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>  Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0.1</span>   create_dt  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   yye  sku_cost_prc     lrl\n<span class=\"token number\">0</span>           NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">1</span>           NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">2</span>           NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">3</span>           NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">4</span>           NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>          <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">751</span>       <span class=\"token number\">746.0</span>         <span class=\"token number\">747.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">20.0</span>          <span class=\"token number\">2.00</span>  <span class=\"token number\">40.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">752</span>       <span class=\"token number\">747.0</span>         <span class=\"token number\">748.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">5.0</span>          <span class=\"token number\">1.92</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">753</span>       <span class=\"token number\">748.0</span>         <span class=\"token number\">749.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.8</span>          <span class=\"token number\">2.92</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">754</span>       <span class=\"token number\">749.0</span>         <span class=\"token number\">750.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.8</span>          <span class=\"token number\">1.38</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">755</span>       <span class=\"token number\">750.0</span>         <span class=\"token number\">751.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.9</span>          <span class=\"token number\">3.90</span>   <span class=\"token number\">2.56</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">756</span> rows x <span class=\"token number\">8</span> columns<span class=\"token punctuation\">]</span>\n</code></pre>\n<hr/>\n<h2><a id=\"745_227\"></a>74、将数据往前移动5天</h2>\n<pre><code class=\"prism language-python\">wq <span class=\"token operator\">=</span> lxw<span class=\"token punctuation\">.</span>shift<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>wq<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_234\"></a>运行结果如下：</h3>\n<pre><code class=\"prism language-python\">     Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>  Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0.1</span>   create_dt  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   yye  sku_cost_prc     lrl\n<span class=\"token number\">0</span>           <span class=\"token number\">5.0</span>           <span class=\"token number\">6.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.9</span>          <span class=\"token number\">3.00</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">1</span>           <span class=\"token number\">6.0</span>           <span class=\"token number\">7.0</span>         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">10.8</span>          <span class=\"token number\">8.31</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2</span>           <span class=\"token number\">7.0</span>           <span class=\"token number\">8.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">15.5</span>         <span class=\"token number\">11.92</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">3</span>           <span class=\"token number\">8.0</span>           <span class=\"token number\">9.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.5</span>          <span class=\"token number\">2.69</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">4</span>           <span class=\"token number\">9.0</span>          <span class=\"token number\">10.0</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN          <span class=\"token number\">7.31</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>          <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">751</span>         NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">752</span>         NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">753</span>         NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">754</span>         NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token number\">755</span>         NaN           NaN         NaN  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   NaN           NaN     NaN\n<span class=\"token punctuation\">[</span><span class=\"token number\">756</span> rows x <span class=\"token number\">8</span> columns<span class=\"token punctuation\">]</span>\n</code></pre>\n<hr/>\n<h2><a id=\"75expandingsku_cost_prc_252\"></a>75、使用expanding函数计算sku_cost_prc的移动窗口均值</h2>\n<pre><code class=\"prism language-python\">yj <span class=\"token operator\">=</span> lxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>expanding<span class=\"token punctuation\">(</span>min_periods<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>yj<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_259\"></a>运行结果如下：</h3>\n<pre><code class=\"prism language-python\"><span class=\"token number\">0</span>      <span class=\"token number\">6.770000</span>\n<span class=\"token number\">1</span>      <span class=\"token number\">6.270000</span>\n<span class=\"token number\">2</span>      <span class=\"token number\">5.463333</span>\n<span class=\"token number\">3</span>      <span class=\"token number\">5.982500</span>\n<span class=\"token number\">4</span>      <span class=\"token number\">6.862000</span>\n         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   \n<span class=\"token number\">751</span>    <span class=\"token number\">9.549093</span>\n<span class=\"token number\">752</span>    <span class=\"token number\">9.538429</span>\n<span class=\"token number\">753</span>    <span class=\"token number\">9.526769</span>\n<span class=\"token number\">754</span>    <span class=\"token number\">9.517995</span>\n<span class=\"token number\">755</span>    <span class=\"token number\">9.508740</span>\nName<span class=\"token punctuation\">:</span> sku_cost_prc<span class=\"token punctuation\">,</span> Length<span class=\"token punctuation\">:</span> <span class=\"token number\">756</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> float64\n</code></pre>\n<hr/>\n<h2><a id=\"httpsblogcsdnnetm0_66318554articledetails125750544_278\"></a><a href=\"https://blog.csdn.net/m0_66318554/article/details/125750544\">每日一言：</a></h2>\n<ul><li></li></ul>\n<blockquote>\n<p>沉缅于虚幻的梦想，而忘记现实的生活，这是毫无意义的，千万记住。</p>\n</blockquote>\n<blockquote>\n<p>人往往需要说很多话，然后才能够归至潜默。</p>\n</blockquote>\n<ul><li></li></ul>\n<hr/>\n<h3><a id=\"httpsblogcsdnnetm0_66318554articledetails125857264_291\"></a><a href=\"https://blog.csdn.net/m0_66318554/article/details/125857264\">持续更新中…</a></h3>\n<blockquote>\n<p><mark>点赞</mark>，你的认可是我创作的<code>动力</code>！<br/> <mark>收藏</mark>，你的青睐是我努力的<code>方向</code>！<br/> <mark>评论</mark>，你的意见是我进步的<code>财富</code>！<br/> <mark>关注</mark>，你的喜欢是我长久的<code>坚持</code>！<br/> <img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/a92cae37affa4c1d870cc0f3ade0e3ff.gif\"/></p>\n</blockquote>\n<p>欢迎关注<mark>微信公众号</mark>【<a href=\"https://u.r.sn.cn/RsGk6d\">程序人生6</a>】，一起探讨学习哦！！！</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-08-07 21:44:17", "summary": "目录学习续转置矩阵二维矩阵维数组以上所有程序对应运行结果如下：每日一练：运行结果如下：、以个数据作为一个数据滑动窗口，计算这五个数据总和运行结果如下：、将日均线、日均线与原始数据绘制在同一个圈上运行效"}