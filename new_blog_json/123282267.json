{"blogid": "123282267", "writerAge": "码龄3年", "writerBlogNum": "13", "writerCollect": "33", "writerComment": "2", "writerFan": "9", "writerGrade": "2级", "writerIntegral": "161", "writerName": ". after", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123282267.jpg", "writerRankTotal": "138025", "writerRankWeekly": "244516", "writerThumb": "16", "writerVisitNum": "33871", "blog_read_count": "3635", "blog_time": "于 2022-03-04 19:06:55 发布", "blog_title": "Centos7安装Suricata6.0.0记录+排坑（rust版本）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"Suricata_0\"></a>Suricata介绍</h2>\n<p>Suricata（入侵检测系统）是一款高性能的网络IDS、IPS和网络安全监控引擎。<br/> Suricata是由所谓的线程（threads）、线程模块 （thread-modules）和队列（queues）组成。Suricata是一个多线程的程序，因此在同一时刻会有多个线程在工作。线程模块是依据 功能来划分的，比如一个模块用于解析数据包，另一个模块用于检测数据包等。每个数据包可能会有多个不同的线程进行处理，队列就是用于将数据包从一个线程传 递到另一个线程。与此同时，一个线程可以拥有多个线程模块，但是在某一时刻只有一个模块在运行。<br/> Suricata的运行方式就是上面介绍的线程（threads）、线程模块（thread-modules）和队列（queues）三种元素的不 同组合方式。</p>\n<p>官网地址（开源）：http://suricata-ids.org/</p>\n<p>Suricata默认的运行模式是IDS。</p>\n<h2><a id=\"_9\"></a>安装</h2>\n<pre><code class=\"prism language-bash\"><span class=\"token comment\">#下载安装包</span>\n<span class=\"token function\">wget</span> https://www.openinfosecfoundation.org/download/suricata-6.0.0.tar.gz\n<span class=\"token function\">tar</span> -xvf suricata-6.0.0.tar.gz\n<span class=\"token function\">cd</span>  suricata-6.0.0\n\n</code></pre>\n<h2><a id=\"_19\"></a>排坑</h2>\n<ol><li>坑一：（报错忘记截图，大致意思如下图，需要降低rust版本）<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0aa10abdfd684bcabce03e11f3e4f082.png\"/></li></ol>\n<p>rust 默认1.58.0报错解决方案：（查了很多资料，选择降低rust版本）<br/> <a href=\"https://forum.suricata.io/t/latest-suricata-6-0-2-with-rustc-has-trouble-installing-with-error-could-not-compile-lexical-core/1461/9\">https://forum.suricata.io/t/latest-suricata-6-0-2-with-rustc-has-trouble-installing-with-error-could-not-compile-lexical-core/1461/9</a></p>\n<pre><code class=\"prism language-bash\">yum remove cargo_x86\n<span class=\"token function\">curl</span> https://sh.rustup.rs -sSf <span class=\"token operator\">|</span> sh\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a2d362db235e4077bf6b341a41caf56a.png\"/><br/> 输入默认项1，完成余下的安装<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\b740d496d33b4035a73d306b5939f20b.png\"/></p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">source</span> <span class=\"token variable\">$HOME</span>/.cargo/env\nrustup <span class=\"token function\">install</span> 1.52.0\n<span class=\"token function\">export</span> RUSTUP_TOOLCHAIN<span class=\"token operator\">=</span>1.52.0\n<span class=\"token comment\">#编译安装：</span>\n./configure --sysconfdir<span class=\"token operator\">=</span>/etc --localstatedir<span class=\"token operator\">=</span>/var\n<span class=\"token comment\"># --sysconfdir --localstatedir参数参考地址：[https://suricata.readthedocs.io/en/latest/install.html](https://suricata.readthedocs.io/en/latest/install.html)</span>\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n</code></pre>\n<ol start=\"2\"><li>坑二：<br/> 报错信息如下：</li></ol>\n<blockquote>\n<p>suricata: error while loading shared libraries: libhtp.so.2: cannot open shared object file: No such file or directory</p>\n</blockquote>\n<p>解决方案：</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">sudo</span> vim /etc/ld.so.conf\n加入一行 /usr/local/lib，保存\n执行ldconfig命令 即可解决\n</code></pre>\n<h2><a id=\"End_59\"></a>End</h2>\n<p>以上完成Suricata 6.0.0版本的安装，运行如下：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\9d6030d403d94a7b832df15adff34933.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-03-04 19:06:55", "summary": "介绍入侵检测系统是一款高性能的网络、和网络安全监控引擎。是由所谓的线程、线程模块和队列组成。是一个多线程的程序，因此在同一时刻会有多个线程在工作。线程模块是依据功能来划分的，比如一个模块用于解析数据包"}