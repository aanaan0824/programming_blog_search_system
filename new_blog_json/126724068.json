{"blogid": "126724068", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "132", "writerCollect": "1971", "writerComment": "811", "writerFan": "2301", "writerGrade": "5çº§", "writerIntegral": "3400", "writerName": "é­”ç‹ä¸ä¼šå“­", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126724068.jpg", "writerRankTotal": "5183", "writerRankWeekly": "2180", "writerThumb": "553", "writerVisitNum": "184968", "blog_read_count": "789", "blog_time": "å·²äºÂ 2022-09-06 14:48:08Â ä¿®æ”¹", "blog_title": "pythonå¯¹æœˆé¥¼æ•°æ®è¿›è¡Œå¯è§†åŒ–ï¼Œçœ‹çœ‹å“ªå®¶æœ€åˆ’ç®—", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-dracula\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h3><a id=\"_1\"></a>å‰è¨€</h3>\n<p>å—¨å–½~å¤§å®¶å¥½å‘€ï¼Œè¿™é‡Œæ˜¯é­”ç‹å‘ !</p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\0ba80ef87b5d4295748f1c46cdb1cbdc.png\"/></p>\n<p>ä¸­ç§‹èŠ‚ï¼Œåˆç§°æ‹œæœˆèŠ‚ã€æœˆå…‰è¯ã€æœˆå¤•ç­‰ï¼ŒèŠ‚æœŸåœ¨æ¯å¹´çš„å†œå†å…«æœˆåäº”æ—¥ï¼ˆä¹æœˆåï¼‰ã€‚</p>\n<p>ä¸­ç§‹èŠ‚è‡ªå¤ä»¥æ¥å°±æœ‰ç¥­æœˆã€èµæœˆã€åƒæœˆé¥¼ã€ç©èŠ±ç¯ã€èµæ¡‚èŠ±ã€é¥®æ¡‚èŠ±é…’ç­‰æ°‘ä¿—ï¼Œæµä¼ ç»ä¹…ä¸æ¯ã€‚</p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\b81057b88afd7fc1a32f33b5df6faaf2.png\"/></p>\n<p>é©¬ä¸Šæœ‰ä¸´è¿‘ä¸­ç§‹ï¼Œè¿™ä¸å¾—å¥½å¥½å‡†å¤‡~äºæ˜¯å‡†å¤‡å¯¹æœˆé¥¼æ•°æ®è¿›è¡Œå¯è§†ä¹</p>\n<p><img alt=\"\" src=\"https://img-blog.csdnimg.cn/56497a989d984fbe80005e3d9065f4e6.gif\"/></p>\n<h3><a id=\"_17\"></a>æ•°æ®</h3>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\2c5ceb8398aa47078dd4ec0981682f2b.png\"/></p>\n<blockquote>\n<p>æ•°æ®é›†ã€æºç ã€è§£ç­”åŠ Qå›ç¾Šï¼š926207505 <a href=\"https://jq.qq.com/?_wv=1027&amp;k=bNbpymd2\">ç‚¹å‡»è“å­—</a>åŠ å…¥ã€pythonå­¦ä¹ è£™ã€‘</p>\n</blockquote>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/28be931355e94f6ca8470d72b235aa5a.gif\"/></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\5cab94119c7a4abda1e555b28e610f58.png\"/></p>\n<h3><a id=\"_28\"></a>ä»£ç </h3>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># å¯¼åŒ…</span>\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">import</span> re\n</code></pre>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># authorï¼šDragonå°‘å¹´</span>\n<span class=\"token comment\"># å¯¼å…¥çˆ¬å–å¾—åˆ°çš„æ•°æ®</span>\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"æœˆé¥¼.csv\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8-sig'</span><span class=\"token punctuation\">,</span> header<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\ndf<span class=\"token punctuation\">.</span>columns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"å•†å“å\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ä»·æ ¼\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"è´­ä¹°äººæ•°\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"åº—é“º\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"åœ°å€\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># å»é™¤é‡å¤çš„æ•°æ®</span>\ndf<span class=\"token punctuation\">.</span>drop_duplicates<span class=\"token punctuation\">(</span>inplace<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">.</span>shape<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åˆ é™¤è´­ä¹°äººæ•°0çš„è®°å½•</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'è´­ä¹°äººæ•°'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'è´­ä¹°äººæ•°'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>nan<span class=\"token punctuation\">,</span><span class=\"token string\">'0äººä»˜æ¬¾'</span><span class=\"token punctuation\">)</span>\n\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'num'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span><span class=\"token string\">r'(\\d+\\.{0,1}\\d*)'</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'è´­ä¹°äººæ•°'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># æå–æ•°å€¼</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'num'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'num'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token string\">'float'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># è½¬åŒ–æ•°å€¼å‹</span>\n<span class=\"token comment\"># æå–å•ä½ï¼ˆä¸‡ï¼‰</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'unit'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">''</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>re<span class=\"token punctuation\">.</span>findall<span class=\"token punctuation\">(</span><span class=\"token string\">r'(ä¸‡)'</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'è´­ä¹°äººæ•°'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># æå–å•ä½ï¼ˆä¸‡ï¼‰</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'unit'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'unit'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span><span class=\"token number\">10000</span> <span class=\"token keyword\">if</span> x<span class=\"token operator\">==</span><span class=\"token string\">'ä¸‡'</span> <span class=\"token keyword\">else</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># è®¡ç®—é”€é‡</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'num'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'unit'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># åˆ é™¤æ²¡æœ‰å‘è´§åœ°å€çš„åº—é“ºæ•°æ® è·å–çœä»½</span>\ndf <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'åœ°å€'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>notna<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'çœä»½'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'åœ°å€'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># åˆ é™¤å¤šä½™çš„åˆ—</span>\ndf<span class=\"token punctuation\">.</span>drop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'è´­ä¹°äººæ•°'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'åœ°å€'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'num'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'unit'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> inplace<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># é‡ç½®ç´¢å¼•</span>\ndf <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>reset_index<span class=\"token punctuation\">(</span>drop<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\ndf<span class=\"token punctuation\">.</span>to_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'æœˆé¥¼æ¸…æ´—æ•°æ®.csv'</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># å¯¼å…¥åŒ…</span>\n<span class=\"token keyword\">from</span> pyecharts<span class=\"token punctuation\">.</span>charts <span class=\"token keyword\">import</span> Bar\n<span class=\"token keyword\">from</span> pyecharts <span class=\"token keyword\">import</span> options <span class=\"token keyword\">as</span> opts \n\n<span class=\"token comment\"># è®¡ç®—æœˆé¥¼æ€»é”€é‡Top10çš„åº—é“º</span>\nshop_top10 <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token string\">'åº—é“º'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span>ascending<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ç»˜åˆ¶æŸ±å½¢å›¾</span>\nbar1 <span class=\"token operator\">=</span> Bar<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'600px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'450px'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nbar1<span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>shop_top10<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nbar1<span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">,</span> shop_top10<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nbar1<span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">'é”€é‡Top10åº—é“º-Dragonå°‘å¹´'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                     xaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>rotate<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nbar1<span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">(</span><span class=\"token string\">\"é”€é‡Top10åº—é“º-Dragonå°‘å¹´.html\"</span><span class=\"token punctuation\">)</span>\nbar1<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># å¯¼å…¥åŒ…</span>\n<span class=\"token keyword\">from</span> pyecharts<span class=\"token punctuation\">.</span>charts <span class=\"token keyword\">import</span> Bar\n<span class=\"token keyword\">from</span> pyecharts <span class=\"token keyword\">import</span> options <span class=\"token keyword\">as</span> opts \n\n<span class=\"token comment\"># è®¡ç®—é”€é‡top10æœˆé¥¼</span>\nshop_top10 <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token string\">'å•†å“å'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span>ascending<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ç»˜åˆ¶æŸ±å½¢å›¾</span>\nbar0 <span class=\"token operator\">=</span> Bar<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'750px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'450px'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nbar0<span class=\"token punctuation\">.</span>add_xaxis<span class=\"token punctuation\">(</span>shop_top10<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nbar0<span class=\"token punctuation\">.</span>add_yaxis<span class=\"token punctuation\">(</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">,</span> shop_top10<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nbar0<span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">'é”€é‡Top10æœˆé¥¼-Dragonå°‘å¹´'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                     xaxis_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>AxisOpts<span class=\"token punctuation\">(</span>axislabel_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>rotate<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nbar0<span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">(</span><span class=\"token string\">\"é”€é‡Top10æœˆé¥¼-Dragonå°‘å¹´.html\"</span><span class=\"token punctuation\">)</span>\nbar0<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> pyecharts<span class=\"token punctuation\">.</span>charts <span class=\"token keyword\">import</span> Pie\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">price_range</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token comment\">#æŒ‰ç…§æ·˜å®æ¨èåˆ’åˆ†ä»·æ ¼åŒºé—´</span>\n    <span class=\"token keyword\">if</span> x <span class=\"token operator\">&lt;=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">'50å…ƒä»¥ä¸‹'</span>\n    <span class=\"token keyword\">elif</span> x <span class=\"token operator\">&lt;=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">'50-150å…ƒ'</span>\n    <span class=\"token keyword\">elif</span> x <span class=\"token operator\">&lt;=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">'150-500å…ƒ'</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">'500å…ƒä»¥ä¸Š'</span>\n\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'price_range'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">'ä»·æ ¼'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> price_range<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \nprice_cut_num <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token string\">'price_range'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \ndata_pair <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> z <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>price_cut_num<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">,</span> price_cut_num<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data_pair<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\"># é¥¼å›¾</span>\npie1 <span class=\"token operator\">=</span> Pie<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'750px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'350px'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># å†…ç½®å¯Œæ–‡æœ¬</span>\npie1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span> \n        series_name<span class=\"token operator\">=</span><span class=\"token string\">\"é”€é‡\"</span><span class=\"token punctuation\">,</span>\n        radius<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"35%\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"55%\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        data_pair<span class=\"token operator\">=</span>data_pair<span class=\"token punctuation\">,</span>\n        label_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LabelOpts<span class=\"token punctuation\">(</span>formatter<span class=\"token operator\">=</span><span class=\"token string\">'{b}â€”å æ¯”{d}%'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\npie1<span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>legend_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>LegendOpts<span class=\"token punctuation\">(</span>pos_left<span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token punctuation\">,</span> pos_top<span class=\"token operator\">=</span><span class=\"token string\">'30%'</span><span class=\"token punctuation\">,</span> orient<span class=\"token operator\">=</span><span class=\"token string\">\"vertical\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n                     title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">'ä¸åŒä»·æ ¼æœˆé¥¼é”€é‡å æ¯”-Dragonå°‘å¹´'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\npie1<span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¸åŒä»·æ ¼æœˆé¥¼é”€é‡å æ¯”-Dragonå°‘å¹´.html\"</span><span class=\"token punctuation\">)</span>\npie1<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">from</span> pyecharts<span class=\"token punctuation\">.</span>charts <span class=\"token keyword\">import</span> Map \n\n<span class=\"token comment\"># è®¡ç®—é”€é‡</span>\nprovince_num <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>groupby<span class=\"token punctuation\">(</span><span class=\"token string\">'çœä»½'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token string\">'é”€é‡'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span>ascending<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span> \n\n<span class=\"token comment\"># ç»˜åˆ¶åœ°å›¾</span>\nmap1 <span class=\"token operator\">=</span> Map<span class=\"token punctuation\">(</span>init_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>InitOpts<span class=\"token punctuation\">(</span>width<span class=\"token operator\">=</span><span class=\"token string\">'950px'</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">=</span><span class=\"token string\">'600px'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nmap1<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> z <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>province_num<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> province_num<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">.</span>tolist<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n         maptype<span class=\"token operator\">=</span><span class=\"token string\">'china'</span>\n        <span class=\"token punctuation\">)</span> \nmap1<span class=\"token punctuation\">.</span>set_global_opts<span class=\"token punctuation\">(</span>title_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>TitleOpts<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span><span class=\"token string\">'å„çœæœˆé¥¼é”€é‡åˆ†å¸ƒ-Dragonå°‘å¹´'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                     visualmap_opts<span class=\"token operator\">=</span>opts<span class=\"token punctuation\">.</span>VisualMapOpts<span class=\"token punctuation\">(</span>max_<span class=\"token operator\">=</span><span class=\"token number\">1500000</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span>\nmap1<span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">(</span><span class=\"token string\">\"å„çœæœˆé¥¼é”€é‡åˆ†å¸ƒ-Dragonå°‘å¹´.html\"</span><span class=\"token punctuation\">)</span>\nmap1<span class=\"token punctuation\">.</span>render_notebook<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_156\"></a>æ•ˆæœ</h3>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\43e0020d3725484482227ee0ec172ea5.png\"/><br/> <img alt=\"\" src=\"..\\..\\static\\image\\4edc9714f7104a509a47754b22d51b05.png\"/><br/> <img alt=\"\" src=\"..\\..\\static\\image\\293f7da7179d41c3bb3af8f9d5df88b5.png\"/><br/> <img alt=\"\" src=\"..\\..\\static\\image\\fe329cc1075c4789900e6ceb21bc850f.png\"/></p>\n<h3><a id=\"_162\"></a>å°¾è¯­</h3>\n<p>è¦æˆåŠŸï¼Œå…ˆå‘ç–¯ï¼Œä¸‹å®šå†³å¿ƒå¾€å‰å†²ï¼</p>\n<p>å­¦ä¹ æ˜¯éœ€è¦é•¿æœŸåšæŒçš„ï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°åœ°èµ°å‘æœªæ¥ï¼</p>\n<p>æœªæ¥çš„ä½ ä¸€å®šä¼šæ„Ÿè°¢ä»Šå¤©å­¦ä¹ çš„ä½ ã€‚</p>\n<p>â€”â€” å¿ƒçµé¸¡æ±¤</p>\n<p>æœ¬æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸå•¦~æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å¤åˆ¶ä»£ç å»è¯•è¯•å“¦ ğŸ˜</p>\n<p>å¯¹å•¦ï¼ï¼è®°å¾—ä¸‰è¿å“¦~ ğŸ’• å¦å¤–ï¼Œæå‰ç¥å¤§å®¶ä¸­ç§‹ä½³èŠ‚è¿‡çš„å¿«ä¹ï¼Œä¸€å®¶å›¢åœ†å‘€</p>\n<p><img alt=\"\" src=\"https://img-blog.csdnimg.cn/f7d1a050eda14c59942349c4ff20d792.gif\"/></p>\n<center>\n ğŸ‘‡é—®é¢˜è§£ç­” Â· æºç è·å– Â· æŠ€æœ¯äº¤æµ Â· æŠ±å›¢å­¦ä¹ è¯·è”ç³»ğŸ‘‡\n</center>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-06 14:48:08", "summary": "å‰è¨€å—¨å–½å¤§å®¶å¥½å‘€ï¼Œè¿™é‡Œæ˜¯é­”ç‹å‘ä¸­ç§‹èŠ‚ï¼Œåˆç§°æ‹œæœˆèŠ‚ã€æœˆå…‰è¯ã€æœˆå¤•ç­‰ï¼ŒèŠ‚æœŸåœ¨æ¯å¹´çš„å†œå†å…«æœˆåäº”æ—¥ä¹æœˆåã€‚ä¸­ç§‹èŠ‚è‡ªå¤ä»¥æ¥å°±æœ‰ç¥­æœˆã€èµæœˆã€åƒæœˆé¥¼ã€ç©èŠ±ç¯ã€èµæ¡‚èŠ±ã€é¥®æ¡‚èŠ±é…’ç­‰æ°‘ä¿—ï¼Œæµä¼ ç»ä¹…ä¸æ¯ã€‚é©¬ä¸Šæœ‰ä¸´è¿‘ä¸­ç§‹ï¼Œ"}