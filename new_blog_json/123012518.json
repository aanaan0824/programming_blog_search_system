{"blogid": "123012518", "writerAge": "码龄2年", "writerBlogNum": "6", "writerCollect": "9", "writerComment": "1", "writerFan": "1", "writerGrade": "1级", "writerIntegral": "62", "writerName": "法海️边", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123012518.jpg", "writerRankTotal": "204079", "writerRankWeekly": "1128745", "writerThumb": "2", "writerVisitNum": "5743", "blog_read_count": "2310", "blog_time": "已于 2022-02-19 11:44:51 修改", "blog_title": "【Rust】cargo update或者cargo build国内被墙失败解决办法", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>Cargo build失败解决办法</h3>\n<ul><li><a href=\"#_2\">现象</a></li><li><ul><li><a href=\"#_38\">解决办法</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h1><a id=\"_2\"></a>现象</h1>\n<p>cargo build 时下载失败（Mac 10.13.4）,提示：</p>\n<p>error: failed to download from <code>https://crates-io.proxy.ustclug.org/api/v1/crates/actix-codec/0.3.0/download</code></p>\n<p>Caused by:<br/> [56] Failure when receiving data from the peer (Received HTTP code 500 from proxy after CONNECT)</p>\n<p>或者提示：<br/> error: failed to download from <code>https://crates-io.proxy.ustclug.org/api/v1/crates/actix-codec/0.3.0/download</code></p>\n<p>Caused by:<br/> [60] Peer certificate cannot be authenticated with given CA certificates (SSL certificate problem: certificate has expired)</p>\n<p>或者<br/> Caused by:<br/> failed to load source for dependency <code>actix-cors</code></p>\n<p>Caused by:<br/> Unable to update registry <code>crates-io</code></p>\n<p>Caused by:<br/> failed to update replaced source registry <code>crates-io</code></p>\n<p>Caused by:<br/> failed to fetch <code>https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index</code></p>\n<p>Caused by:<br/> network failure seems to have happened<br/> if a proxy or similar is necessary <code>net.git-fetch-with-cli</code> may help here<br/> https://doc.rust-lang.org/cargo/reference/config.html#netgit-fetch-with-cli</p>\n<p>Caused by:<br/> [56] Failure when receiving data from the peer (Received HTTP code 500 from proxy after CONNECT); class=Net (12)</p>\n<h2><a id=\"_38\"></a>解决办法</h2>\n<p>vi ~/.cargo/config</p>\n<pre><code># 放到 `$HOME/.cargo/config` 文件中\n[source.crates-io]\nregistry = \"https://github.com/rust-lang/crates.io-index\"\n\n# 替换成你偏好的镜像源\nreplace-with = 'sjtu'\n#replace-with = 'ustc'\n\n# 清华大学\n[source.tuna]\nregistry = \"https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git\"\n\n# 中国科学技术大学\n[source.ustc]\nregistry = \"git://mirrors.ustc.edu.cn/crates.io-index\"\n\n# 上海交通大学\n[source.sjtu]\nregistry = \"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index\"\n\n# rustcc社区\n[source.rustcc]\nregistry = \"git://crates.rustcc.cn/crates.io-index\"\n\n[net]\ngit-fetch-with-cli=true\n</code></pre>\n<p>变为上海交通大学的源，最重要的是 最后net的参数，设置为从git拉取。git不会被墙。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-02-19 11:44:51", "summary": "失败解决办法现象解决办法现象时下载失败提示：或者提示：或者解决办法放到文件中替换成你偏好的镜像源清华大学中国科学技术大学上海交通大学社区变为上海交通大学的源，最重要的是最后的参数，设置为从拉取。不会被"}