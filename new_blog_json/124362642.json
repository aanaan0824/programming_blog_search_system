{"blogid": "124362642", "writerAge": "码龄10年", "writerBlogNum": "21", "writerCollect": "93", "writerComment": "37", "writerFan": "8", "writerGrade": "4级", "writerIntegral": "1034", "writerName": "god_is_gril", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124362642.jpg", "writerRankTotal": "54947", "writerRankWeekly": "309255", "writerThumb": "52", "writerVisitNum": "176041", "blog_read_count": "5353", "blog_time": "已于 2022-05-06 22:23:49 修改", "blog_title": "linux 安装mysql8.0 超详细教程（实战多次）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>1.在 /usr/local下 创建mysql文件夹</p>\n<p>mkdir mysql<br/> 2.切换到mysql文件夹下</p>\n<p>cd mysql</p>\n<p><br/> 3.下载mysql</p>\n<p>wget https://cdn.mysql.com/archives/mysql-8.0/mysql-8.0.18-el7-x86_64.tar.gz</p>\n<p>ps: 此处根据自己需要的mysql版本进行输入版本号<br/> 也可以直接在官方下载最新版本官方下载选择linux系统对应的mysql版本</p>\n<p>4.解压mysql</p>\n<p>tar zxvf mysql-8.0.18-el7-x86_64.tar.gz</p>\n<p><img alt=\"\" height=\"123\" src=\"..\\..\\static\\image\\e7aecfad897b4720ad17fe7be1df64e6.png\" width=\"719\"/></p>\n<p>5.重命名文件夹</p>\n<p><strong>mv mysql-8.0.18-el7-x86_64 ../mysql8</strong></p>\n<p><strong>ps:将mysql8移动到/usr/local/下，与最初的mysql统计目录，此目录大家可根据需要自行调整，保证前后配置的目录一致即可</strong><br/><br/> 5.创建data文件夹 存储文件</p>\n<p>cd mysql8</p>\n<p>mkdir data<br/> 6.创建用户组以及用户和密码</p>\n<p>groupadd mysql</p>\n<p>useradd -g mysql mysql</p>\n<p><img alt=\"\" height=\"48\" src=\"..\\..\\static\\image\\076dc9b24a6d41ac88574facbdc8074f.png\" width=\"595\"/><br/><br/> 7.授权用户</p>\n<p>chown -R otwb.otwb /usr/local/mysql8<br/> 8.切换到/usr/local/mysql8/bin目录下</p>\n<p>cd /usr/local/mysql8/bin<br/> 9.初始化基础信息</p>\n<p>./mysqld --user=mysql --basedir=/usr/local/mysql8/ --datadir=/usr/local/mysql8/data/ --lower-case-table-names=1 --initialize</p>\n<p>--lower-case-table-names=1 表示表名不区分大小写</p>\n<p><span style=\"color:#fe2c24;\"><strong>#如果初始化中报错lc-messages-dir，则需要提前在/etc/my.cnf文件中添加以下配置</strong></span></p>\n<p><span style=\"color:#fe2c24;\"><strong>lc-messages=en_US<br/> lc-messages-dir=/usr/local/mysql8/share/english/</strong></span></p>\n<p></p>\n<p>然后再执行初始化指令：执行之前进入data目录，清空里面的文件数据</p>\n<p>./mysqld --user=mysql --basedir=/usr/local/mysql8/ --datadir=/usr/local/mysql8/data/ --lower-case-table-names=1 --initialize</p>\n<p><strong>注意：MYSQL8以后，修改配置是无效的，如果缺少配置项，只能删除data目录，然后重新初始化</strong></p>\n<p><br/> 得到临时密码</p>\n<p><img alt=\"\" height=\"88\" src=\"..\\..\\static\\image\\580973002f704c0f8281c20a82c0b37d.png\" width=\"1200\"/></p>\n<p></p>\n<p>10.编辑my.cnf文件</p>\n<p>vi /etc/my.cnf</p>\n<p>ps:my.cnf可能不存在，直接新增即可,注意自己的目录</p>\n<p><img alt=\"\" height=\"158\" src=\"..\\..\\static\\image\\298b468e220a44f3bded27af1388f2de.png\" width=\"541\"/></p>\n<p>basedir=/usr/local/mysql8/<br/> datadir=/usr/local/mysql8/data/<br/> socket=/tmp/mysql.sock<br/> character-set-server=UTF8MB4<br/> lower_case_table_names=1</p>\n<p><strong>#如果初始化中报错lc-messages-dir，则需要添加以下配置</strong></p>\n<p>lc-messages=en_US<br/> lc-messages-dir=/usr/local/mysql8/share/english/</p>\n<p><br/><br/> 11.添加mysqld服务到系统（目录还在mysql8下）</p>\n<p>cp -a ./support-files/mysql.server /etc/init.d/mysql</p>\n<p><br/> 12.授权以及添加服务</p>\n<p>chmod +x /etc/init.d/mysql</p>\n<p>chkconfig --add mysql<br/><br/> 13.启动mysql</p>\n<p>service mysql start<br/><br/> 14.查看启动状态</p>\n<p>service mysql status<br/><br/> 15.将mysql命令添加到服务</p>\n<p>ln -s /usr/local/mysql8/bin/mysql /usr/bin<br/>  </p>\n<p><br/> 16.登录mysql -uroot -p 密码使用之前随机生成的密码</p>\n<p>17.修改root密码其中123456是新的密码自己设置</p>\n<p>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'anji@051$86jqT';<br/> 18.执行 使密码生效</p>\n<p>flush privileges;</p>\n<p><br/> 19.选择mysql数据库</p>\n<p>use mysql;<br/><br/> 20.修改远程连接并生效</p>\n<p>update user set host='%' where user='root';</p>\n<p>flush privileges;</p>\n<p>21.查看端口</p>\n<p>show global variables like 'port';</p>\n<p></p>\n<p>MySQL8创建新用户及授权方式<br/> create user 'test'@'%' identified by '123456';<br/> grant all privileges on *.* to 'test'@'%';<br/> flush privileges;</p>\n</div>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-05-06 22:23:49", "summary": "在下创建文件夹切换到文件夹下下载此处根据自己需要的版本进行输入版本号也可以直接在官方下载最新版本官方下载选择系统对应的版本解压重命名文件夹将移动到下，与最初的统计目录，此目录大家可根据需要自行调整，保"}