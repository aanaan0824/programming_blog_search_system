{"blogid": "117966561", "writerAge": "码龄1年", "writerBlogNum": "1", "writerCollect": "3", "writerComment": "0", "writerFan": "1", "writerGrade": "1级", "writerIntegral": "22", "writerName": "休•威廉姆斯#", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_117966561.jpg", "writerRankTotal": "211483", "writerRankWeekly": "1262277", "writerThumb": "2", "writerVisitNum": "1015", "blog_read_count": "1015", "blog_time": "已于 2022-04-23 21:16:49 修改", "blog_title": "云服务器部署uni-app前后端分离项目", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"_1\"></a><em>一、部署项目前置条件</em>*</h2>\n<p>1.购买云服务器，安装系统<br/> 2.这里以三丰云免费云服务器为例<br/> （1）开通云服务器，进入管理面板选择安装操作系统<br/> <img alt=\"三丰云安装操作系统界面\" src=\"..\\..\\static\\image\\743f37c2b9424b96990993eb832e3905.png\"/><br/> （2）选择需要安装的Linux操作系统（<strong>这里建议选择纯净版的，后期好配置</strong>），<strong>设置操作系统密码（一定记住）</strong><br/> （3）安装，等待安装完成。<br/> 3、网页搜索宝塔，注册登录宝塔<br/> 4、选择绑定服务器<br/> <img alt=\"绑定服务器\" src=\"..\\..\\static\\image\\5447faddc88348d39492f7abc18b0b6f.png\"/><br/> 选择安装宝塔，在线一键安装，选择推荐的配置，mysql建议选择自己项目所用的MySQL版本<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\deb76686f635401fb7f3166576d863f5.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c32ce00c51694542a60a68b947a0a7d2.png\"/><br/> 输入服务器IP，输入安装操作系统时设置的操作系统密码<br/> 点击立即安装，等待安装完成，<strong>不要关闭页面，完成会生成宝塔Linux面板账号密码以及登录网址，一定要记住，建议复制到自己容易找的地方</strong><br/> 5、复制刚才生成的网址，用账号密码登录，然后你就会进入Linux面板<br/> <img alt=\"宝塔Linux管理面板\" src=\"..\\..\\static\\image\\ab5f8cd6656a4d37b9f41b8fe8649aa4.png\"/><br/> 至此，操作系统，管理面板安装完成，接下来进行配置就好啦，其他云服务器，自主完成上述配置。<br/> 6、配置项目运行所必须的环境<br/> （1）node安装<br/> <strong>在CentOS找好安装位置</strong><br/> 在宝塔Linux面板终端输入指令：<code>cd /usr/local/bin/</code>，该目录可以指定其他位置，但推荐放入此目录。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c697358436d04d85a2ca3f7f6499424a.png\"/><br/> <strong>Node.js中文网选择要下载的版本</strong><br/> http://nodejs.cn/<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\46a9dc4cd8274840b6d9754deda100f0.png\"/><br/> 上图点击下载按钮。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\964987a9edc24fd4be36ac90ff7eedd0.png\"/><br/> 上图点击“全部安装包”按钮。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\9981fc7f8e4147d9802c2c0a289022d7.png\"/><br/> 上图点击“Parent Directory”超链接，选择需要的版本，现在以v13.x版本为例（<strong>建议就选择此版本，否则安装时会报缺少一些东西，需要安装，很麻烦</strong>）。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\506f6b3d10674ac9ba41d09e1b9c12ab.png\"/><br/> 点击”latest-v13.x/”超链接。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\620c5b9e47cd495eb770bf4afdb722c2.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\e8cd62c075d84dad80b8b989aa20a2a3.png\"/><br/> 点击所对应的版本，如上图红框内的超链接，此时浏览器会自动对当前版本node进行下载，此操作可取消，目的是为了获取此包的下载路径。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\97193bef8675427a96e6f5324fdf967d.png\"/><br/> 在下载列表中找到安装包记录，获取下载路径。</p>\n<p><strong>在CentOS中Node下载</strong><br/> 在终端中输入以下指令：</p>\n<pre><code>wget https://cdn.npmmirror.com/binaries/node/latest-v13.x/node-v13.14.0-linux-x64.tar.gz\n</code></pre>\n<p>（如果提示找不到该命令，需要先安装wget（用来下载各种资源)<br/> 执行命令 <code>yum install wget</code>,进行安装）<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\5ceb54edb7f1480a8b5df5318c1a8ea3.png\"/><br/> 执行操作<br/> 输入指令：<code>ls</code><br/> 出现上述内容，说明安装包下载成功。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\5ca7f42675f4472ca690201d28de2146.png\"/><br/> <strong>解压压缩文件</strong><br/> 执行解压指令：<code>tar -xvf node-v13.14.0-linux-x64.tar.gz</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\f1ea65127296449c84dc42d516bef98c.png\"/><br/> 执行指令：<code>ls</code><br/> 出现下列内容，说明解压成功。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0dc6afa7c1934c42ac5ef32ef766f5a6.png\"/><br/> <strong>Node的安装</strong><br/> 进入node-v13.14.0-linux-x64目录：<code>cd node-v13.14.0-linux-x64</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c4c13aa46bc244e4873a9ad298ac92a1.png\"/><br/> 执行指令：<code>yum install gcc gcc-c++</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\9019bffd0cac473f95ea27797f9e2cbd.png\"/></p>\n<p>出现上述界面，输入y。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\31f48fa80fee452b9ed9bd3ce2ac9c50.png\"/><br/> 显示Complete!，即为完成安装完成。<br/> 返回上级菜单，执行指令：<code>cd ..</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\3af6d9ff91e2414999f4288fa988ad6b.png\"/><br/> 将文件夹node-v13.14.0-linux-x64进行重命名,执行指令: <code>mv node-v13.14.0-linux-x64 Nodejs</code><br/> 改名后执行：<code>ls</code>，出现如下界面：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\aa7459c6974b48bbb40de62ebef5640a.png\"/><br/> 修改成功。<br/> <strong>部署bin文件并建立软连接</strong><br/> 此操作类似windows环境下配置软件的环境变量，使软件指令全局可用。<br/> 进入到/usr/local/bin/Nodejs/bin/你会看到。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\bc789045ddd94911a006f17976ab2dae.png\"/><br/> ln指令用于创建关联<br/> 执行如下指令:</p>\n<pre><code>ln -s /usr/local/bin/Nodejs/bin/node /usr/bin/node\nln -s /usr/local/bin/Nodejs/bin/npm /usr/bin/npm\nln -s /usr/local/bin/Nodejs/bin/npx /usr/bin/npx\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\1a91e47fd9ac44f288cd3dddfeb8891c.png\"/><br/> 切换到根目录，执行指令：<code>cd /</code><br/> 分别执行如下操作</p>\n<pre><code>node -v\nnpm -v\n</code></pre>\n<p>，出现如下界面，则说明node安装成功。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\754074d411064ed284fbdbc7978791de.png\"/><br/> （2）java安装<br/> 这里附上教程网址<br/> https://www.cnblogs.com/wjup/p/11041274.html<br/> （3）maven安装<br/> <strong>在CentOs中下载maven</strong><br/> 在终端中切换到/usr/local/bin/目录下：</p>\n<pre><code>cd /usr/local/bin/\n</code></pre>\n<p>输入以下指令：</p>\n<pre><code>wget https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz\n--no-check-certificate\n</code></pre>\n<p>本次操作以3.6.3版本为例。<br/> 如需其他版本，可访问maven官网https://maven.apache.org/download.cgi进行版本选择。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\db10572aee2e428c9b3342a6f0870b1f.png\"/><br/> 下载完毕后，执行命令：<code>ls</code>，出现上图，则下载成功。<br/> <strong>解压压缩文件</strong><br/> 执行解压指令：<code>tar -xf apache-maven-3.6.3-bin.tar.gz</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\89017e744c0f4d209e8e5cc549305091.png\"/><br/> 执行命令：ls，出现上图，则解压成功。<br/> 文件夹重命名，执行指令：<code>mv /usr/local/bin/apache-maven-3.6.3/ maven3.6.3</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\79e582f8daaa4ad9ab17480db2355b45.png\"/><br/> 执行命令：<code>ls</code>，出现上图，则重命名成功。<br/> <strong>加入环境变量</strong><br/> 执行指令：<code>cd /etc/</code>，切换到etc目录下。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\23dc041c861b4404bd6060cc662131ba.png\"/><br/> 执行命令：<code>vi profile</code>，打开/etc/profile文件，<br/> i键，进入文件编辑状态。<br/> 在最下方加入新的一行<br/> export PATH=$PATH:/usr/local/bin/maven3.6.3/bin<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\09dc4abb4b74412581ec87082132d47c.png\"/><br/> Esc键，退出文件编辑状态。<br/> 输入：<code>:wq</code>，保存并退出。<br/> 执行指令：<code>source /etc/profile</code>，让配置生效。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\351900d1911b4a72a5f44bad8fc906c1.png\"/><br/> 执行指令：<code>which mvn</code>，出现下图：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\01e78111e5c1496880efe094a3eef560.png\"/><br/> 执行：<code>mvn –v</code>，出现下图：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\8f63e6978d274bc2a57e808e6393c4ea.png\"/><br/> 至此，maven安装成功。<br/> 至此，Linux环境配置完毕<br/> 6、打包项目，开始部署<br/> **后端：**使用maven package打包生成jar文件<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2e6eea57dbaf4cbb8c44a04430001784.png\"/><br/> 在云服务器文件 /usr/ 下建一个项目文件夹，将后端jar包上传到项目文件夹下<br/> 然后在终端中 到项目文件夹下<br/> 执行 <code>java -jar jar包名.jar</code><br/> 检查项目能不能成功跑起来<br/> **前端：**在manifest.json中修改H5配置<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\6051506df7294cffbc2e556ae951539c.png\"/><br/> 然后将项目中的所有请求本地地址，改为云服务器IP<br/> 选择发行中的网站-pc web 或手机H5，发行，域名可以不填<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\b68b62512d1a4466977b775ad06b16b8.png\"/><br/> 在云服务器文件的 /www/wwwroot/下新建项目文件夹<br/> 在本机找到生成的h5文件夹，将里面的所有东西上传到云服务器文件的 /www/wwwroot/下新建项目文件夹下。<br/> 在宝塔linux面板中找到软件商店，搜索Nginx,如果没有安装，进行安装，然后<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c55155da548044ea811e915ad0227645.png\"/><br/> 点击设置<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\163b286897e94be2907acc9fc1a8f208.png\"/><br/> 选择配置修改<br/> 在已有的server后再加一个server</p>\n<p>内容为</p>\n<pre><code>server\n    {\n        listen 80;\n        server_name www.tax.com;\n        location /{\n        root /www/wwwroot/111.67.207.131;\n        index index.html;\n        }\n         \n    }\n</code></pre>\n<p>location内写你前端项目文件夹路径和首页<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2dfa3c39ba484b759cdc61e9c5dc82eb.png\"/><br/> 点击保存<br/> 然后再宝塔linux面板中找到网站，选择php，添加网站<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\f657aef3740e4b7b8d7e079531b3f0b3.png\"/><br/> 域名填 云服务器ip即可<br/> 根目录 选择你前端项目文件夹的路径<br/> PHP版本选择纯静态<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\4e333546a7864e5f8aff86869bbc7a58.png\"/><br/> 提交即可<br/> 然后，在宝塔linux面板中，找到 安全，放行你项目运行所用的端口<br/> 然后，在终端中，到你存放后端jar包的目录下，运行命令</p>\n<pre><code>nohup java -jar jar包名.jar&gt;dev&gt;null 2&gt;&amp;1 &amp;\n</code></pre>\n<p>运行命令</p>\n<pre><code> netstat -nap | grep 项目运行的端口号\n</code></pre>\n<p>查看端口是否有对应进程<br/> 若没有<br/> 可执行命令 <code>nohup java -jar jar包名.jar &amp;</code><br/> 然后输入<code>exit</code><br/> 再执行 <code>netstat -nap | grep 项目运行的端口号</code><br/> 如若还没有运行起来，自行百度查找原因<br/> 运行起来，可以在后端项目文件夹中找 nohup.out文件，查看运行日志。<br/> 然后，你就可以去浏览器中输入你的网址，即服务器IP，查看你的网站啦。<br/> 如果首页加载很慢的话，很可能是首页代码有问题哦！</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "PHP", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 1, "php": 1, "time": "2022-04-23 21:16:49", "summary": "一、部署项目前置条件购买云服务器，安装系统这里以三丰云免费云服务器为例开通云服务器，进入管理面板选择安装操作系统三丰云安装操作系统界面选择需要安装的操作系统这里建议选择纯净版的，后期好配置，设置操作系"}