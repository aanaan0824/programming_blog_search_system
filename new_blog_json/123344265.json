{"blogid": "123344265", "writerAge": "码龄4年", "writerBlogNum": "1", "writerCollect": "47", "writerComment": "3", "writerFan": "4", "writerGrade": "1级", "writerIntegral": "23", "writerName": "夙愿。", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123344265.jpg", "writerRankTotal": "225295", "writerRankWeekly": "1187377", "writerThumb": "10", "writerVisitNum": "16939", "blog_read_count": "16878", "blog_time": "于 2022-03-08 12:31:24 发布", "blog_title": "sql中 exists的用法", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>现有：班级表（A_CLASS）<img alt=\"\" height=\"73\" src=\"..\\..\\static\\image\\c7e0ac71fa494a728fa4339567a074ce.png\" width=\"175\"/> </p>\n<p>学生表( STUDENT)<img alt=\"\" height=\"119\" src=\"..\\..\\static\\image\\0cee98979d7343288dc7672ba1af5a9f.png\" width=\"286\"/></p>\n<p>注：学生表(STUDENT)的classId关联班级表（A_CLASS）的主键ID</p>\n<p></p>\n<p></p>\n<p>代码：</p>\n<p>select * from STUDENT s WHERE exists (select 1 from A_ClASS c where s.CLASS_ID=c.ID)</p>\n<p>结果<img alt=\"\" height=\"97\" src=\"..\\..\\static\\image\\f42f0b463c5c4ee290ce82443cc736b6.png\" width=\"275\"/></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<h1>【exists语句的执行顺序如下】：</h1>\n<p><strong>1.</strong>首先会执行外循环（select * from student）</p>\n<p><strong>2.</strong>外循环返回的结果每一行都会拿着去内层循环执行（此时注意，内层也是循环查询的）</p>\n<p></p>\n<p>ps：select * from student查询的为 （c1,c1,c2,c3）；此时执行顺序应该是（</p>\n<p>第一次：select* from A_CLASS where c1=c1,第二次：select* from A_CLASS where c1=c2,</p>\n<p>第三次：select* from A_CLASS where c1=c1,第四次：select* from A_CLASS where c1=c2,</p>\n<p>第五次：select* from A_CLASS where c2=c1,第六次：select* from A_CLASS where c2=c2,</p>\n<p>第七次：select* from A_CLASS where c3=c1,第八次：select* from A_CLASS where c3=c2）</p>\n<p></p>\n<p><span style=\"color:#fe2c24;\">注意：此时的内层子查询如果为true，则直接返回不会再继续执行本次循环;</span></p>\n<p>综上所述：第二次和第四次是不会被执行的;  第一次和第三次还有第六次是符合条件的;</p>\n<p>所以 STUDENT表中CLASS_ID字段为（c1,c2）的数据都会被查询出来;</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>如果将 上述语句的=换成！=会是什么效果？</p>\n<p>select * from STUDENT s WHERE exists (select 1 from A_ClASS c where s.CLASS_ID！=c.ID)</p>\n<p></p>\n<p>结果如果所示： <img alt=\"\" height=\"124\" src=\"..\\..\\static\\image\\6ab0619ef7734c18b055fabccfe4fbc2.png\" width=\"267\"/></p>\n<p></p>\n<p>具体分析一下：此时的执行应该和第一次一模一样也是循环8次分别为：</p>\n<p>第一次：select* from A_CLASS where c1！=c1,第二次：select* from A_CLASS where c1！=c2,</p>\n<p>第三次：select* from A_CLASS where c1！=c1,第四次：select* from A_CLASS where c1！=c2,</p>\n<p>第五次：select* from A_CLASS where c2！=c1,第六次：select* from A_CLASS where c2！=c2,</p>\n<p>第七次：select* from A_CLASS where c3！=c1,第八次：select* from A_CLASS where c3！=c2</p>\n<p></p>\n<p>但是=换成了！=；这次是第六次和第八次没有被执行，其余的全被执行，s.CLASS_ID涉及到（c1,c2,c3）并且语句都返回了true;</p>\n<p>所以STUDENT表中CLASS_ID字段为（c1,c2，c3）的数据都会被查询出来;</p>\n<p></p>\n<p>总结：</p>\n<p>1.exists执行外循环后，会拿着外循环的值，去内层查询，如果查询到就直接返回true，并且<span style=\"color:#fe2c24;\">终止</span>本次循环，如果是false，则会一直执行，直至循环完成还为false，则本次内循环不符合条件;</p>\n<p>2.内层的判断条件不要写！=;查询的结果会不尽人意;</p>\n</div>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-03-08 12:31:24", "summary": "现有：班级表学生表注：学生表的关联班级表的主键代码：结果语句的执行顺序如下：首先会执行外循环外循环返回的结果每一行都会拿着去内层循环执行此时注意，内层也是循环查询的：查询的为；此时执行顺序应该是第一次"}