{"blogid": "126721324", "writerAge": "码龄1年", "writerBlogNum": "23", "writerCollect": "800", "writerComment": "1197", "writerFan": "928", "writerGrade": "5级", "writerIntegral": "2636", "writerName": "摆烂阳", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126721324.jpg", "writerRankTotal": "8151", "writerRankWeekly": "88", "writerThumb": "906", "writerVisitNum": "30339", "blog_read_count": "193", "blog_time": "已于 2022-09-06 23:01:41 修改", "blog_title": "【python笔记】第十四节 文件操作", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>💕💕💕 博主昵称：摆烂阳💕💕💕</p>\n<p>🥰<a href=\"https://blog.csdn.net/qinshuoyang1?type=blog\">博主主页跳转链接</a><br/> 👩‍💻博主研究方向：web渗透测试 、python编程<br/> 📃 博主寄语：希望本篇文章能给大家带来帮助，有不足的地方，希望友友们给予指导</p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>文件操作</h3>\n<ul><li><a href=\"#_13\">一、打开</a></li><li><a href=\"#_43\">二、关闭</a></li><li><a href=\"#_67\">三、读取</a></li><li><a href=\"#_86\">四、写入</a></li><li><a href=\"#_124\">五、二进制文件</a></li><li><a href=\"#_146\">本章小结</a></li></ul>\n</div>\n<br/>\n<strong>操作文件的步骤:</strong>\n<p></p>\n<blockquote>\n<p><strong>1. 打开文件</strong><br/> <strong>2. 对文件进行(读，写)，保存</strong><br/> <strong>3. 关闭文件</strong></p>\n</blockquote>\n<h1><a id=\"_13\"></a>一、打开</h1>\n<pre><code class=\"prism language-python\"><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">,</span> mode<span class=\"token operator\">=</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">,</span> buffering<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> errors<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> newline<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> closefd<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> opener<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>file: 指要打开文件的名字 （准确说是路径，可写绝对路径，可写相对路径）</strong></p>\n<p><strong>原始字符串：</strong></p>\n<blockquote>\n<p>让字符串不会被转义 ，字符串前面加个r print(r\"\\n\") # 转义符不会再转义了，纯字符</p>\n</blockquote>\n<p><strong>建议：字符串里面存储的是 路径，正则表达式 通通使用原始字符串</strong></p>\n<p><strong>路径</strong><br/> <strong>1、绝对路径</strong></p>\n<blockquote>\n<p>不易出错，唯一性</p>\n</blockquote>\n<p><strong>2、相对路径</strong></p>\n<blockquote>\n<p>… 表示上一级<br/> / 下一级</p>\n</blockquote>\n<p><strong>pycharm绝对路径快捷键：ctrl + shift + c</strong></p>\n<h1><a id=\"_43\"></a>二、关闭</h1>\n<pre><code class=\"prism language-python\">fileName <span class=\"token operator\">=</span> <span class=\"token string\">r\"demo.txt\"</span>\ndemo <span class=\"token operator\">=</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span>\ncontent <span class=\"token operator\">=</span> demo<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 读取文件中的内容，它会将内容全部保存为一个字符串返回</span>\ndemo<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 关闭文件</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>demo<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<p><strong>python提供了一个语法，可以自动帮忙关闭，再也不用手动了</strong></p>\n<blockquote>\n<p>with open …as 语句</p>\n</blockquote>\n<p><strong>with 会自动将文件关闭 自动执行f.close()</strong></p>\n<blockquote>\n<p>with open(fileName) as f:<br/> content = f.read()<br/> print(content)</p>\n</blockquote>\n<h1><a id=\"_67\"></a>三、读取</h1>\n<p><strong>read()</strong> ：读取全部内容<br/> <strong>readline()</strong> ： 读取一行内容<br/> <strong>readlines()</strong> ：读取每行行内容，放进列表</p>\n<p><strong>读取文件分为两种</strong><br/> 1.<strong>纯文本文件</strong>（使用utf-8等编码编写的文本文件）<br/> 常见中文编码：utf-8,gbk,gb2312<br/> 2.<strong>二进制文件</strong>（图片、视频）</p>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># 按行读取</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">,</span>encoding<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>end<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>end<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>end<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h1><a id=\"_86\"></a>四、写入</h1>\n<p><strong>r:只读 （不传，则是只读）</strong></p>\n<p><strong>w:可写 ，表示覆盖，如果文件不存在会创建文件</strong></p>\n<p><strong>a:可写 ，表示追加，如果文件不存在会创建文件</strong></p>\n<pre><code class=\"prism language-python\">fileName <span class=\"token operator\">=</span> <span class=\"token string\">r\"demo4.txt\"</span>\n\n<span class=\"token comment\"># with 会自动将文件关闭   f.close()</span>\n<span class=\"token comment\"># 指定w模式，表示可写</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">,</span> <span class=\"token string\">\"w\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n\n<span class=\"token comment\"># a 表示追加，不会清空以前的内容</span>\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"aa\\n\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 括号内需要传递一个字符串</span>\n    \n    \n\n</code></pre>\n<blockquote>\n<p><strong><code>+:为操作符增加功能</code></strong><br/> <strong>r+:可读也可写</strong><br/> <strong>w+:可写也可读</strong><br/> <strong>a+:可写也可读</strong></p>\n</blockquote>\n<h1><a id=\"_124\"></a>五、二进制文件</h1>\n<pre><code class=\"prism language-python\">音乐，图片 二进制文件\n\n\n读取模式参数<span class=\"token punctuation\">:</span>\n    t 读取文本文件<span class=\"token punctuation\">(</span>默认方式<span class=\"token punctuation\">)</span>\n    b 读取二进制文件fileName <span class=\"token operator\">=</span> <span class=\"token string\">r\"周杰伦 - 晴天.mp3\"</span>\n\n\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">,</span><span class=\"token string\">\"rb\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    content <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    new_path <span class=\"token operator\">=</span> <span class=\"token string\">\"qq.mp3\"</span>\n    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>new_path<span class=\"token punctuation\">,</span><span class=\"token string\">\"ab\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f2<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># 将读取的数据写入到新的对象中</span>\n        f2<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span>\n        \n        \n \n</code></pre>\n<h1><a id=\"_146\"></a>本章小结</h1>\n<blockquote>\n<p>本文是本人以前笔记，<a href=\"https://blog.csdn.net/qinshuoyang1?spm=1010.2135.3001.5343\">博主主页跳转链接</a><br/> 如果有哪里不对的话欢迎各位大佬指出问题，本人也是初学python，希望可以和各位朋友一起学习进步。</p>\n<p><a href=\"https://blog.csdn.net/qinshuoyang1/category_11959615.html\">点击跳转到博主python专栏：</a><br/> 如果有喜欢web安全的朋友，请在web渗透专栏中进行查看<br/> <a href=\"https://blog.csdn.net/qinshuoyang1/category_11922322.html?spm=1001.2014.3001.5482\">点击跳转到博主web渗透专栏</a></p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-06 23:01:41", "summary": "博主昵称：摆烂阳博主主页跳转链接博主研究方向：渗透测试、编程博主寄语：希望本篇文章能给大家带来帮助，有不足的地方，希望友友们给予指导文件操作一、打开二、关闭三、读取四、写入五、二进制文件本章小结操作文"}