{"blogid": "126611053", "writerAge": "码龄7年", "writerBlogNum": "266", "writerCollect": "3072", "writerComment": "829", "writerFan": "20236", "writerGrade": "7级", "writerIntegral": "18386", "writerName": "程序员云帆哥", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126611053.jpg", "writerRankTotal": "540", "writerRankWeekly": "541", "writerThumb": "1782", "writerVisitNum": "1938878", "blog_read_count": "1021", "blog_time": "于 2022-08-30 20:17:32 发布", "blog_title": "使用花生壳做内网穿透", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-dracula\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><ul><li><a href=\"#_1\">一、什么是内网穿透</a></li><li><a href=\"#_4\">二、内网穿透的原理</a></li><li><a href=\"#_9\">三、如何实现内网穿透</a></li><li><a href=\"#_13\">四、花生壳做内网穿透</a></li><li><ul><li><a href=\"#1_15\">1、下载客户端</a></li><li><a href=\"#2_22\">2、安装客户端</a></li><li><a href=\"#3_27\">3、常用命令</a></li><li><a href=\"#4_29\">4、登录激活</a></li><li><a href=\"#5_32\">5、管理端配置</a></li><li><a href=\"#6ssh_35\">6、ssh连接测试</a></li></ul>\n</li><li><a href=\"#_39\">五、总结</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"_1\"></a>一、什么是内网穿透</h2>\n<p>   内网，就是在公司或者家庭内部，建立的局域网络或者是办公网络，可以实现多台电脑之间的资源共享，包括设备、资料、数据等。而外网则是通过一个网关与其它的网络系统连接，相对于内网而言，这种网络系统称之为外部网络，常见的就是我们日常使用的互联网。<br/>   一般而言，在没有固定公网IP的情况下，外网设备无法直接访问内网设备。而内网穿透技术，顾名思义就是能让外网的设备找到处于内网的设备，从而实现数据通信。</p>\n<h2><a id=\"_4\"></a>二、内网穿透的原理</h2>\n<p>   内网穿透，又称为NAT穿透。NAT背后的设备，它们的主要特点是 ，可以访问外网，但不能被外网设备有效访问。基于这一特点，NAT穿透技术是让NAT背后的设备，先访问指定的外网服务器，由指定的外网服务器搭建桥梁，打通内、外网设备的访问通道，实现外网设备访问到内网设备。<br/>    该技术除了可以访问隐藏在NAT后的设备，同样可以穿透防火墙。这是因为防火墙一般只拦截了入站没有拦截出站，所以也可以让防火墙内的设备对外提供服务。<br/>    由于内网设备并不是与外网设备直接相连，所以在安全性上是毋庸置疑的，内网穿透可以说是安全与效率兼得。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20d15ae6b7d549feb58d5c6e204714e0.png\"/></p>\n<h2><a id=\"_9\"></a>三、如何实现内网穿透</h2>\n<p>   我们可以安装内网穿透软件，在软件上添加映射时，配置被访问内网设备的相关信息 ，以及选择用作外网访问该映射的域名。当映射诊断信息提示连接成功时，即可实现内网穿透。利用内网穿透技术，外网的设备通过访问固定域名，连接服务器所搭建的通道，顺畅地与内网设备进行数据通信。<br/>    常用的内网穿透软件有，Ngrok、Natapp、Frp、cpolar、花生壳…等等，多的很。<br/>   这里用花生壳做演示，花生壳是贝锐家，像向日葵、蒲公英都是他家的，主要做企业商品版的，受众很广，但收费也很贵。可以用免费版，大概每月1G流量、1M带宽、映射数2条。</p>\n<h2><a id=\"_13\"></a>四、花生壳做内网穿透</h2>\n<p>参考官方帮助文档：<a href=\"https://service.oray.com/question/11630.html\">花生壳5.0 for Linux使用教程</a></p>\n<h3><a id=\"1_15\"></a>1、下载客户端</h3>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\19eed90b26934e84be54b5fb61c4393a.png\"/></p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">wget</span> <span class=\"token string\">\"https://down.oray.com/hsk/linux/phddns_5.2.0_amd64.rpm\"</span> -O phddns_5.2.0_amd64.rpm\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\6aa3197c3a134ade9bab8d3fc841d01c.png\"/></p>\n<h3><a id=\"2_22\"></a>2、安装客户端</h3>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">rpm</span> -ivh phddns_5.2.0_amd64.rpm\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\00a31c2e646c44c7a4255fc3b50d3b0f.png\"/></p>\n<h3><a id=\"3_27\"></a>3、常用命令</h3>\n<p>phddns start（启动）| status（状态）| stop（停止）|restart（重启）| reset（重置）|enable（开机自启动）|disable（关闭开机自启动）|version（版本）</p>\n<h3><a id=\"4_29\"></a>4、登录激活</h3>\n<p>浏览器访问<a href=\"http://b.oray.com\">http://b.oray.com </a>，输入花生壳Linux在安装时产生SN码与默认登录密码admin登录。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\572015b1be5e4a14b8a056f5a924f51f.png\"/></p>\n<h3><a id=\"5_32\"></a>5、管理端配置</h3>\n<p>新增映射。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\d550a7ae9a804a12a11d74e15588f6a4.png\"/></p>\n<h3><a id=\"6ssh_35\"></a>6、ssh连接测试</h3>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">ssh</span> 域名（*.goho.co） 端口号\n</code></pre>\n<h2><a id=\"_39\"></a>五、总结</h2>\n<p>  内网穿透，无需依赖公网IP、无需配置路由器，通过在客户端上，添加端口映射，快速将内网服务发布到外网，还是挺好用的。<br/>   其实，可以使用 Linux微主机 / 树莓派 + 内网穿透，搭建一个永久的个人云服务器。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-08-30 20:17:32", "summary": "文章目录一、什么是内网穿透二、内网穿透的原理三、如何实现内网穿透四、花生壳做内网穿透、下载客户端、安装客户端、常用命令、登录激活、管理端配置、连接测试五、总结一、什么是内网穿透内网，就是在公司或者家庭"}