{"blogid": "125082911", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "79", "writerCollect": "1313", "writerComment": "1103", "writerFan": "3617", "writerGrade": "6çº§", "writerIntegral": "4685", "writerName": "Yuucho", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125082911.jpg", "writerRankTotal": "3753", "writerRankWeekly": "4927", "writerThumb": "1522", "writerVisitNum": "48270", "blog_read_count": "1107", "blog_time": "å·²äºÂ 2022-06-03 08:11:38Â ä¿®æ”¹", "blog_title": "C++ä¹‹string", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p><strong>æˆ‘ç­‰å¿…å°†å¤èµ·ï¼Œå¤æœ¨å·²å‘æ–°æ</strong></p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\80e7d505717841879332005542ee367d.png\"/></p>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#1Cstring_6\">ğŸ’–1.ä¸ºä»€ä¹ˆC++è¦å‡ºstringç±»ï¼Ÿ</a></li><li><a href=\"#2string_16\">ğŸŒŸ2.æ ‡å‡†åº“ä¸­çš„stringç±»</a></li><li><a href=\"#3_42\">ğŸ”¥3.ç¼–ç é—®é¢˜</a></li><li><a href=\"#4_string_76\">â˜€ï¸4 stringç±»çš„å¸¸ç”¨æ¥å£è¯´æ˜</a></li><li><ul><li><a href=\"#41_string_78\">âš¡ï¸4.1. stringç±»å¯¹è±¡çš„å¸¸è§æ„é€ </a></li><li><a href=\"#42_string_117\">ğŸŒŠ4.2. stringç±»å¯¹è±¡çš„èµ‹å€¼</a></li><li><a href=\"#43_string_132\">ğŸ®4.3. stringç±»å¯¹è±¡çš„ä¿®æ”¹æ“ä½œ</a></li><li><a href=\"#44_string_162\">ğŸ¸4.4. stringç±»å¯¹è±¡çš„å®¹é‡æ“ä½œ</a></li><li><a href=\"#45_string_229\">ğŸŒº4.5 stringç±»å¯¹è±¡çš„è®¿é—®åŠéå†æ“ä½œ</a></li><li><a href=\"#46_atoperator_320\">ğŸƒ4.6. atå’Œoperator[]çš„åŒºåˆ«</a></li><li><a href=\"#47__359\">ğŸ‰4.7 å››ç§è¿­ä»£å™¨</a></li></ul>\n</li><li><a href=\"#5__415\">ğŸ5. æ€»ç»“</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"1Cstring_6\"></a>ğŸ’–1.ä¸ºä»€ä¹ˆC++è¦å‡ºstringç±»ï¼Ÿ</h1>\n<p>C++ä¸­æˆ‘ä»¬è¦ç†Ÿæ‚‰çš„ç¬¬ä¸€ä¸ªç±»å°±æ˜¯<code>string</code>ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„ç±»ã€‚<br/> C++ä¸ºä»€ä¹ˆè¦ç»™å‡ºä¸€ä¸ª<code>string</code>ç±»å‘¢ï¼Ÿ<br/> å› ä¸ºCè¯­è¨€æœ‰å¾ˆå¤šç”¨å­—ç¬¦ä¸²ä¸æ–¹ä¾¿çš„åœ°æ–¹ï¼š</p>\n<blockquote>\n<p><strong>å­—ç¬¦ä¸²æ˜¯ä»¥â€™\\0â€™ç»“å°¾çš„ä¸€äº›å­—ç¬¦çš„é›†åˆã€‚ä¸ºäº†æ“ä½œæ–¹ä¾¿ï¼ŒCæ ‡å‡†åº“ä¸­æä¾›äº†ä¸€äº›strç³»åˆ—çš„åº“å‡½æ•°ï¼Œä½†æ˜¯è¿™äº›åº“å‡½æ•°ä¸å­—ç¬¦ä¸²æ˜¯åˆ†ç¦»å¼€çš„ï¼Œä¸å¤ªç¬¦åˆOOPçš„æ€æƒ³ï¼Œè€Œä¸”åº•å±‚ç©ºé—´éœ€è¦ç”¨æˆ·è‡ªå·±ç®¡ç†ï¼Œç¨ä¸ç•™ç¥å¯èƒ½è¿˜ä¼šè¶Šç•Œè®¿é—®ã€‚</strong></p>\n</blockquote>\n<p>C++ä¸ºäº†æ–¹ä¾¿ç®¡ç†å­—ç¬¦ä¸²å°±ç»™å‡ºäº†<code>string</code>ç±»ã€‚</p>\n<h1><a id=\"2string_16\"></a>ğŸŒŸ2.æ ‡å‡†åº“ä¸­çš„stringç±»</h1>\n<blockquote>\n<p><strong>stringæ˜¯è¡¨ç¤ºå­—ç¬¦åºåˆ—çš„å¯¹è±¡ã€‚</strong><br/> <strong>æ ‡å‡†stringç±»é€šè¿‡ç±»ä¼¼äºæ ‡å‡†å­—èŠ‚å®¹å™¨çš„æ¥å£ä¸ºæ­¤ç±»å¯¹è±¡æä¾›æ”¯æŒï¼Œä½†æ·»åŠ äº†ä¸“é—¨è®¾è®¡ç”¨äºæ“ä½œå•å­—èŠ‚å­—ç¬¦ä¸²çš„ç‰¹æ€§ã€‚stringç±»æ˜¯basic_stringç±»æ¨¡æ¿çš„ä¸€ä¸ªå®ä¾‹åŒ–ï¼Œå®ƒä½¿ç”¨char(å³bytes)ä½œä¸ºå…¶å­—ç¬¦ç±»å‹ï¼Œå…¶é»˜è®¤çš„char_traitså’Œallocatorç±»å‹(å‚è§basic_stringäº†è§£æ¨¡æ¿çš„æ›´å¤šä¿¡æ¯)ã€‚æ³¨æ„,è¿™ç±»ä½¿ç”¨çš„ç‹¬ç«‹å¤„ç†å­—èŠ‚ç¼–ç :å¦‚æœç”¨äºå¤„ç†å¤šå­—èŠ‚åºåˆ—æˆ–å˜é•¿å­—ç¬¦(æ¯”å¦‚utf- 8),è¿™ä¸ªç±»çš„æ‰€æœ‰æˆå‘˜(å¦‚é•¿åº¦æˆ–å¤§å°),ä»¥åŠå®ƒçš„è¿­ä»£å™¨,è¿˜æ˜¯æ“ä½œçš„å­—èŠ‚(è€Œä¸æ˜¯å®é™…çš„ç¼–ç å­—ç¬¦)ã€‚</strong></p>\n</blockquote>\n<p>è¦ä½¿ç”¨<code>string</code>å°±å¾—åŒ…å«<code>string</code>çš„å¤´æ–‡ä»¶ï¼Œä¸”<code>string</code>å®šä¹‰åœ¨<code>std</code>è¿™ä¸ªå‘½åç©ºé—´å†…ã€‚å®šä¹‰ä¸€ä¸ª<code>string</code>å¯¹è±¡æ—¶æœ‰åŒå­¦æˆ–å¤šæˆ–å°‘è§è¿‡ä»¥ä¸‹çš„ä»£ç ï¼š</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\">#<span class=\"token directive keyword\">include</span><span class=\"token string\">&lt;iostream&gt;</span></span>\n<span class=\"token macro property\">#<span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;string&gt;</span></span>\n<span class=\"token keyword\">using</span> <span class=\"token keyword\">namespace</span> std<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring s1<span class=\"token punctuation\">;</span>\n\tstring <span class=\"token function\">s2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>æœ‰åŒå­¦å°±è¦é—®äº†ï¼Œä¸æ˜¯è¯´æ˜¯<code>string</code>ç±»å—ï¼Œå®ƒåˆä¸æ˜¯æ¨¡æ¿ï¼Œä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆç©ï¼Ÿ<br/> okï¼Œ<code>string</code>è¡¨é¢ä¸Šä¸æ˜¯æ¨¡æ¿ï¼Œå®é™…ä¸Šå®ƒæ˜¯æ¨¡æ¿å®ä¾‹åŒ–æ¥çš„ï¼Œå®ƒæ˜¯è¢«<code>typedef</code>è¿‡çš„ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\53446b236acc42bc8936173b4c0ba026.png\"/><br/> <code>string</code>æ˜¯è¿™ä¸ªç±»æ¨¡æ¿å®ä¾‹åŒ–åç±»çš„å…¶ä¸­ä¹‹ä¸€ï¼Œæ¨¡æ¿å‚æ•°ç»™çš„charï¼š<code>basic_string&lt;char&gt;</code>ã€‚<br/> è¿™ä¸ªç±»æ¨¡æ¿å®ä¾‹åŒ–åå…¶å®æœ‰å››ç§ç±»ï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\eb914ae1fbeb46da9c6d80cab542fb81.png\"/></p>\n<h1><a id=\"3_42\"></a>ğŸ”¥3.ç¼–ç é—®é¢˜</h1>\n<p><code>basic_string</code>æ¨¡æ¿å®ä¾‹åŒ–åä¸ºä»€ä¹ˆæœ‰å››ç§å‘¢ï¼Ÿè¿™å…¶å®æ¶‰åŠåˆ°ç¼–ç é—®é¢˜ã€‚<br/> è®¡ç®—æœºé‡Œé¢åªæœ‰0å’Œ1ï¼Œä¸ºäº†èƒ½è®©è®¡ç®—æœºæ˜¾ç¤ºå„ä¸ªå›½å®¶çš„æ–‡å­—ï¼Œäººä»¬å°±è®¾è®¡äº†ä¸åŒçš„ç¼–ç è¡¨ã€‚å¸¸è§çš„ç¼–ç åˆ†ä¸º<code>ASCIIã€Unicode(utf-8ã€utf-16ã€utf-32)ã€gbk</code>ç­‰ç­‰ã€‚<br/> è¿™äº›ç¼–ç è¡¨å…¶å®å°±æ˜¯ä¸€ç§æ˜ å°„ï¼Œæ˜ å°„å†å…·ä½“ä¸€ç‚¹è®²å°±æ˜¯è®¡ç®—æœºåº•å±‚å­˜çš„<strong>å€¼å’Œæ˜¾ç¤ºå€¼çš„æ˜ å°„è¡¨</strong>ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\567caf86ca8841b78f332f9f86884b5b.png\"/></p>\n<p>æ¯”å¦‚æˆ‘ä»¬è¡¨ç¤ºå­—æ¯Aï¼š</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">char</span> ch1 <span class=\"token operator\">=</span> <span class=\"token string\">'A'</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">char</span> ch2 <span class=\"token operator\">=</span> <span class=\"token number\">65</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><code>ch1ã€ch2</code>è¿™ä¸¤ä¸ªå˜é‡çš„å¤§å°éƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œé‚£è¿™ä¸ªä¸€ä¸ªå­—èŠ‚åœ¨å†…å­˜é‡Œé¢å­˜çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\9cbe68181e114909967f78f2e70391a0.png\"/><br/> okï¼Œ<strong>å­˜çš„æ˜¯äºŒè¿›åˆ¶çš„65</strong>ï¼Œç»™Aå°±å»ç¼–ç è¡¨æ‰¾åˆ°å¯¹åº”çš„å€¼å­˜å‚¨èµ·æ¥ã€‚æ˜¾ç¤ºçš„æ—¶å€™ä¹Ÿæ˜¯é€šè¿‡ç”¨65å»æŸ¥è¿™ä¸ªç¼–ç è¡¨ç„¶åæ˜¾ç¤ºAã€‚è®¡ç®—æœºä¸­åªæœ‰0å’Œ1ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\3ed5bfc067684e57a5fa732ea4442c01.png\"/><br/> æœ‰äº†ASCIIè¡¨å°±å¯ä»¥æ˜¾ç¤ºè‹±æ–‡ã€‚</p>\n<p>ä½†æ˜¯è®¡ç®—æœºè¦æ˜¾ç¤ºä¸­æ–‡æ€ä¹ˆåŠï¼Ÿä¸ä»…æ˜¯ä¸­æ–‡ï¼Œè¦æ˜¾ç¤ºå„ä¸ªå›½å®¶çš„æ–‡å­—æ€ä¹ˆåŠï¼Ÿ<br/> okï¼Œæˆ‘ä»¬å…ˆä¸è°ˆå…¶ä»–å›½å®¶çš„æ–‡å­—ï¼Œæˆ‘ä»¬å°±è°ˆä¸­æ–‡ã€‚<br/> è‹±æ–‡æ˜¯æ¯”è¾ƒç®€æ´çš„è¯­è¨€ï¼Œç”¨char(256)ç±»å‹å°±å®Œå…¨å¤Ÿè¡¨ç¤ºäº†ã€‚ä½†æ˜¯æ±‰å­—åšå¤§ç²¾æ·±ï¼Œåšä¸»ä¸Šç½‘æŸ¥äº†ä¸€ä¸‹æ±‰å­—æœ‰85568ä¸ªï¼Œè‚¯å®šä¸èƒ½ç”¨charç±»å‹å­˜å‚¨ï¼Œä¸¤ä¸ªå­—ç¬¦(256*256)å¤§æ¦‚æ˜¯6ä¸‡å¤šä¹Ÿä¸å¤Ÿï¼Œ3ä¸ªå­—ç¬¦å°±æœ‰ç‚¹æµªè´¹äº†ã€‚<strong>æ‰€ä»¥å’±ä»¬å›½å®¶é’ˆå¯¹ä¸­æ–‡ä¹Ÿå†™äº†ä¸€ä¸ªç¼–ç è¡¨ï¼Œå«gbk(å›½æ ‡)ã€‚Unicodeçš„è§†è§’å°±æ›´å¤§äº†ï¼Œå®ƒé’ˆå¯¹æ˜¯å…¨ä¸–ç•Œçš„æ–‡å­—ï¼Œå®ƒçš„ç¼–ç å°±ååˆ†å¤æ‚ã€‚</strong><br/> <strong>Windowsæ˜¾ç¤ºæ±‰å­—ä¸€èˆ¬ç”¨gbkï¼ŒLinuxç”¨utf-8ã€‚ä½†æ˜¯éƒ½è¦å…¼å®¹ASCIIã€‚</strong></p>\n<p>å¸¸è§çš„æ±‰å­—ç”¨2ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œä¸å¸¸è§çš„æ±‰å­—å¯èƒ½ç”¨3ä¸ªæˆ–è€…4ä¸ªå­—èŠ‚ï¼š<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\1f63ae5797a24e21a818241b1089950d.png\"/><br/> åŒéŸ³å­—ç¼–ç æ—¶æ˜¯ç¼–åˆ°ä¸€èµ·çš„ï¼Œç‹è€…è£è€€æŠŠè„è¯å±è”½æ‰å°±ä¼šç”¨åˆ°è¿™ä¸€ç‚¹ã€‚</p>\n<p><strong>å¤§å®¶å†æƒ³ä¸€æƒ³stringä¸ºä»€ä¹ˆè¦è®¾è®¡æˆæ¨¡æ¿ï¼Ÿokï¼Œå°±æ˜¯å› ä¸ºç¼–ç é—®é¢˜ã€‚</strong></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\6cc5123417aa4152906564e8869c7373.png\"/></p>\n<h1><a id=\"4_string_76\"></a>â˜€ï¸4 stringç±»çš„å¸¸ç”¨æ¥å£è¯´æ˜</h1>\n<p>åšä¸»åªä¼šè®²å‡ ç§å¸¸ç”¨çš„æ¥å£ï¼Œæƒ³äº†è§£æ›´å¤šè¯·æŸ¥çœ‹<a href=\"https://m.cplusplus.com/reference/string/string/string/\">æ–‡æ¡£ã€‚</a></p>\n<h2><a id=\"41_string_78\"></a>âš¡ï¸4.1. stringç±»å¯¹è±¡çš„å¸¸è§æ„é€ </h2>\n<table><thead><tr><th>(constructor)å‡½æ•°åç§°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td>string() ï¼ˆé‡ç‚¹ï¼‰</td><td>æ„é€ ç©ºçš„stringç±»å¯¹è±¡ï¼Œå³ç©ºå­—ç¬¦ä¸²</td></tr><tr><td>string(const char* s) ï¼ˆé‡ç‚¹ï¼‰</td><td>ç”¨C-stringæ¥æ„é€ stringç±»å¯¹è±¡</td></tr><tr><td>string(size_t n, char c)</td><td>stringç±»å¯¹è±¡ä¸­åŒ…å«nä¸ªå­—ç¬¦c</td></tr><tr><td>string(const string&amp;s) ï¼ˆé‡ç‚¹ï¼‰</td><td>æ‹·è´æ„é€ å‡½æ•°</td></tr></tbody></table>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\e354e16755504350a446bc8490101af6.png\"/><br/> ç¬¬ä¸ƒä¸ªè¦ç”¨åˆ°è¿­ä»£å™¨ï¼Œæš‚æ—¶ä¸è®²ã€‚<br/> <code>string</code>ç®¡ç†åŠ¨æ€å¢é•¿çš„å­—ç¬¦æ•°ç»„ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä»¥<code>\"\\0\"</code>ç»“å°¾ã€‚æ‰€ä»¥<strong>å¯ä»¥ç”¨å­—ç¬¦ä¸²æ¥æ„é€ ä¸”èƒ½å®ç°å¢åˆ æŸ¥æ”¹</strong>ç­‰åŠŸèƒ½ã€‚</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring s1<span class=\"token punctuation\">;</span>\n\tstring <span class=\"token function\">s2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstring <span class=\"token function\">s3</span><span class=\"token punctuation\">(</span>s2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstring s4 <span class=\"token operator\">=</span> s2<span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//å‰4ä¸ªåˆå§‹åŒ–</span>\n\tstring <span class=\"token function\">s5</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://m.cplusplus.com/reference/string/string/string/\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//ç”¨nä¸ªCåˆå§‹åŒ–</span>\n\tstring <span class=\"token function\">s6</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'x'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//string (const string&amp; str, size_t pos, size_t len = npos);</span>\n\t<span class=\"token comment\">//static const size_t npos = -1;</span>\n\t<span class=\"token comment\">//nposè¡¨ç¤ºå¦‚æœå–çš„å­—ç¬¦è¶…è¿‡å‰©ä½™çš„å­—ç¬¦æ•°é‡ï¼Œæœ‰å¤šå°‘å–å¤šå°‘</span>\n\n\t<span class=\"token comment\">//ä»s2çš„ç¬¬6ä¸ªå­—ç¬¦èµ·ï¼Œå–3ä¸ªå­—ç¬¦åˆå§‹åŒ–</span>\n\tstring <span class=\"token function\">s7</span><span class=\"token punctuation\">(</span>s2<span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//è¶…è¿‡å‰©ä½™çš„å­—ç¬¦æ•°é‡ï¼Œæœ‰å¤šå°‘å–å¤šå°‘</span>\n\tstring <span class=\"token function\">s8</span><span class=\"token punctuation\">(</span>s2<span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//ä¸ç»™ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œé»˜è®¤å‚æ•°æ˜¯npos</span>\n\tstring <span class=\"token function\">s9</span><span class=\"token punctuation\">(</span>s2<span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>è¿è¡Œç»“æœï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\cf2d5dfce3a0412287e019ee421865fe.png\"/></p>\n<h2><a id=\"42_string_117\"></a>ğŸŒŠ4.2. stringç±»å¯¹è±¡çš„èµ‹å€¼</h2>\n<p>æ—©æœŸ<code>string</code>çš„è®¾è®¡æ²¡æœ‰ç»éªŒï¼Œè®¾è®¡äº†å¾ˆå¤šå†—ä½™çš„ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\4d034bb01af142e2ab4313b558ac5e09.png\"/></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring <span class=\"token function\">s1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstring <span class=\"token function\">s2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"xxx\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\ts1 <span class=\"token operator\">=</span> s2<span class=\"token punctuation\">;</span>\n\ts1 <span class=\"token operator\">=</span> <span class=\"token string\">\"yyy\"</span><span class=\"token punctuation\">;</span>\n\ts1 <span class=\"token operator\">=</span> <span class=\"token string\">'y'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"43_string_132\"></a>ğŸ®4.3. stringç±»å¯¹è±¡çš„ä¿®æ”¹æ“ä½œ</h2>\n<table><thead><tr><th>å‡½æ•°åç§°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/push_back/\">push_back</a></td><td>åœ¨å­—ç¬¦ä¸²åå°¾æ’å­—ç¬¦c</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/append/\">append</a></td><td>åœ¨å­—ç¬¦ä¸²åè¿½åŠ ä¸€ä¸ªå­—ç¬¦ä¸²</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/operator+=/\">operator+= (é‡ç‚¹)</a></td><td>åœ¨å­—ç¬¦ä¸²åè¿½åŠ å­—ç¬¦ä¸²str</td></tr><tr><td><a href=\"http://www.cplusplus.com/reference/string/string/c_str/\">c_str</a></td><td>è¿”å›Cæ ¼å¼å­—ç¬¦ä¸²</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/find/\">find</a>+ <a href=\"http://www.cplusplus.com/reference/string/string/npos/\">npos(é‡ç‚¹)</a></td><td>ä»å­—ç¬¦ä¸²posä½ç½®å¼€å§‹å¾€åæ‰¾å­—ç¬¦cï¼Œè¿”å›è¯¥å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/rfind/\">rfind</a></td><td>ä»å­—ç¬¦ä¸²posä½ç½®å¼€å§‹å¾€å‰æ‰¾å­—ç¬¦cï¼Œè¿”å›è¯¥å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/substr/\">substr</a></td><td>åœ¨strä¸­ä»posä½ç½®å¼€å§‹ï¼Œæˆªå–nä¸ªå­—ç¬¦ï¼Œç„¶åå°†å…¶è¿”å›</td></tr></tbody></table>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string6</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring s<span class=\"token punctuation\">;</span>\n\ts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ts<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstring <span class=\"token function\">str</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ts<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> s <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n\ts <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token string\">'x'</span><span class=\"token punctuation\">;</span>\n\ts <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n\ts <span class=\"token operator\">+</span><span class=\"token operator\">=</span> str<span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> s <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>è¿è¡Œç»“æœï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\6548979d817f4f269d9f525e413939d3.png\"/></p>\n<h2><a id=\"44_string_162\"></a>ğŸ¸4.4. stringç±»å¯¹è±¡çš„å®¹é‡æ“ä½œ</h2>\n<table><thead><tr><th>å‡½æ•°åç§°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td><a href=\"http://www.cplusplus.com/reference/string/string/size/\">sizeï¼ˆé‡ç‚¹ï¼‰</a></td><td>è¿”å›å­—ç¬¦ä¸²æœ‰æ•ˆå­—ç¬¦é•¿åº¦</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/length/\">length</a></td><td>è¿”å›å­—ç¬¦ä¸²æœ‰æ•ˆå­—ç¬¦é•¿åº¦</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/capacity/\">capacity</a></td><td>è¿”å›ç©ºé—´æ€»å¤§å°</td></tr><tr><td><a href=\"http://www.cplusplus.com/reference/string/string/empty/\">empty ï¼ˆé‡ç‚¹ï¼‰</a></td><td>æ£€æµ‹å­—ç¬¦ä¸²é‡Šæ”¾ä¸ºç©ºä¸²ï¼Œæ˜¯è¿”å›trueï¼Œå¦åˆ™è¿”å›false</td></tr><tr><td><a href=\"http://www.cplusplus.com/reference/string/string/clear/\">clear ï¼ˆé‡ç‚¹ï¼‰</a></td><td>æ¸…ç©ºæœ‰æ•ˆå­—ç¬¦</td></tr><tr><td><a href=\"http://www.cplusplus.com/reference/string/string/reserve/\">reserve ï¼ˆé‡ç‚¹ï¼‰</a></td><td>ä¸ºå­—ç¬¦ä¸²é¢„ç•™ç©ºé—´</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/resize/\">resize ï¼ˆé‡ç‚¹ï¼‰</a></td><td>å°†æœ‰æ•ˆå­—ç¬¦çš„ä¸ªæ•°è¯¥æˆnä¸ªï¼Œå¤šå‡ºçš„ç©ºé—´ç”¨å­—ç¬¦cå¡«å……</td></tr></tbody></table>\n<p><strong>stringå…ˆäºSTLè®¾è®¡ï¼Œæ‰€ä»¥stringä¸¥æ ¼æ„ä¹‰ä¸Šä¸å±äºSTLã€‚lengthä¹Ÿæ˜¯æ—©æœŸè®¾è®¡stringç±»äº§ç”Ÿçš„ã€‚åˆ°äº†STLçš„å‡ºç°ï¼Œäººä»¬å‘ç°stringå’ŒSTLå…·æœ‰ç›¸åŒçš„æ€§è´¨ï¼Œåˆè®¾è®¡äº†sizeæ¥å£ã€‚(è€Œä¸”åé¢çš„æ ‘è¿˜å«lengthå°±ä¸åˆé€‚äº†)ï¼Œæ‰€ä»¥éƒ½æ¨èå¤§å®¶å»ç”¨sizeã€‚</strong></p>\n<p><code>push_back</code>æ‰©å®¹é—®é¢˜ï¼š</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string6</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring s<span class=\"token punctuation\">;</span>\n\tsize_t sz <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">capacity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"making s grow:\\n\"</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"capacity changed: \"</span> <span class=\"token operator\">&lt;&lt;</span> sz <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\ts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sz <span class=\"token operator\">!=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">capacity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tsz <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">capacity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"capacity changed: \"</span> <span class=\"token operator\">&lt;&lt;</span> sz <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>è¿è¡Œç»“æœï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\387b6d0e32394ab7a777f384701fc5df.png\"/><br/> æ‰©å®¹æ˜¯æœ‰ä»£ä»·çš„ï¼Œå¼€æ–°çš„ç©ºé—´è¦é‡Šæ”¾æ—§çš„ç©ºé—´ï¼Œå› ä¸ºä¸ä¸€å®šéƒ½èƒ½åŸåœ°æ‰©å®¹ã€‚é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å‡å°‘æ‰©å®¹ï¼Ÿæœ‰ï¼Œ<code>reserve</code>(æå‰æŠŠç©ºé—´å¼€å¥½)ã€‚</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string6</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring s<span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//å› ä¸ºå¯¹é½çš„åŸå› ï¼Œå¯èƒ½ä¼šå¤šå¼€ä¸€ç‚¹ï¼Œç”³è¯·ç©ºé—´éƒ½ä¼šè‡ªç„¶å¯¹é½çš„</span>\n\ts<span class=\"token punctuation\">.</span><span class=\"token function\">reserve</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tsize_t sz <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">capacity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"making s grow:\\n\"</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"capacity changed: \"</span> <span class=\"token operator\">&lt;&lt;</span> sz <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\ts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sz <span class=\"token operator\">!=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">capacity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tsz <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">capacity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"capacity changed: \"</span> <span class=\"token operator\">&lt;&lt;</span> sz <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'\\n'</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\59dc7c71ca1c4ed38d6125e1d6accb63.png\"/><br/> <strong><code>resize</code>ä¸ä»…ä¼šæ‰©å®¹è¿˜ä¼šæ”¹å˜sizeï¼Œè¿˜ä¼šåˆå§‹åŒ–(å¦‚æœä¸ç»™ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤åˆå§‹åŒ–ä¸º\\0)ï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\3c45df844768461c97ed75b0d95a16e9.png\"/><br/> å¦‚æœstringå·²ç»æœ‰æ•°æ®äº†ï¼Œresizeè¿˜æœ‰å…¶ä»–ç”¨æ³•ï¼šä¸ä¼šæ”¹å˜åŸå§‹æ•°æ®ï¼Œä¼šåœ¨åé¢è¡¥ä¸Šåˆå§‹åŒ–çš„å€¼(95ä¸ªx)ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\65b9c7b921e9495e96aab8b5fab2e4f2.png\"/><br/> <strong>VSä¸‹<code>reserve</code>å’Œ<code>resize</code>éƒ½ä¸ä¼šç¼©å°å®¹é‡ï¼Œä½†æ˜¯<code>resize</code>ä¼šç¼©å°<code>size</code>ï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\09446e2fa56d43ce8f878cd63b17a4ff.png\"/></p>\n<h2><a id=\"45_string_229\"></a>ğŸŒº4.5 stringç±»å¯¹è±¡çš„è®¿é—®åŠéå†æ“ä½œ</h2>\n<p><code>string</code>ç®¡ç†åŠ¨æ€å¢é•¿çš„å­—ç¬¦æ•°ç»„ï¼Œæˆ‘ä»¬èƒ½åƒæ•°ç»„ä¸€æ ·å¯¹<code>string</code>å¯¹è±¡è¿›è¡Œè®¿é—®å’Œéå†ã€‚</p>\n<table><thead><tr><th>å‡½æ•°åç§°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/operator%5B%5D/\">operator[] ï¼ˆé‡ç‚¹ï¼‰</a></td><td>è¿”å›posä½ç½®çš„å­—ç¬¦ï¼Œconst stringç±»å¯¹è±¡è°ƒç”¨</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/begin/\">begin</a>+<a href=\"http://www.cplusplus.com/reference/string/string/end/\"> end</a></td><td>beginè·å–ä¸€ä¸ªå­—ç¬¦çš„è¿­ä»£å™¨ + endè·å–æœ€åä¸€ä¸ªå­—ç¬¦ä¸‹ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</td></tr><tr><td><a href=\"http://m.cplusplus.com/reference/string/string/rbegin/\">rbegin</a>+ <a href=\"http://m.cplusplus.com/reference/string/string/rend/\">rend</a></td><td>beginè·å–ä¸€ä¸ªå­—ç¬¦çš„è¿­ä»£å™¨ + endè·å–æœ€åä¸€ä¸ªå­—ç¬¦ä¸‹ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</td></tr><tr><td>èŒƒå›´for</td><td>C++11æ”¯æŒæ›´ç®€æ´çš„èŒƒå›´forçš„æ–°éå†æ–¹å¼</td></tr></tbody></table>\n<p>è¿­ä»£å™¨æ˜¯ç±»ä¼¼æŒ‡é’ˆçš„ä¸œè¥¿æˆ–è€…å®ƒå°±æ˜¯æŒ‡é’ˆï¼Œå…·ä½“è¦çœ‹å®ƒçš„åº•å±‚å®ç°ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\055ae758d5924dc88ad8f8b9d934870b.png\"/></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string3</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token comment\">// éå†stringçš„æ¯ä¸€ä¸ªå­—ç¬¦</span>\n\tstring <span class=\"token function\">s1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> s1<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\ts1<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span><span class=\"token punctuation\">;</span>\n\n\tcout <span class=\"token operator\">&lt;&lt;</span> s1<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// ç¬¬ä¸€ç§æ–¹å¼ï¼Œä¸‹æ ‡+[]</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>size_t i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> s1<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token comment\">// s1.operator[](i);</span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> s1<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//const char* s2 = \"world\";</span>\n\t<span class=\"token comment\">//s2[i]; // *(s2+i)</span>\n\n\t<span class=\"token comment\">// è¿­ä»£å™¨</span>\n\tstring<span class=\"token operator\">::</span>iterator it <span class=\"token operator\">=</span> s1<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>it <span class=\"token operator\">!=</span> s1<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">*</span>it <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token operator\">++</span>it<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// èŒƒå›´for -- åŸç†ï¼šæ›¿æ¢æˆè¿­ä»£å™¨</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span> ch <span class=\"token operator\">:</span> s1<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> ch <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>è¿è¡Œç»“æœï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\b9b3cf1481a042a980e22a437efbb165.png\"/></p>\n<p>æˆ‘ä»¬å†éšä¾¿æ‰¾<a href=\"https://leetcode.cn/problems/reverse-only-letters/\">ä¸€é“é¢˜</a>æ¥çœ‹ï¼š<br/> åˆ©ç”¨å¿«æ’å•æ’æ’åºçš„æ€æƒ³ï¼Œä½†è¿™é‡Œä¸æ˜¯æ‰¾å¤§æ‰¾å°ï¼Œè¿™é‡Œæ˜¯æ‰¾å­—æ¯ï¼Œç„¶åäº¤æ¢ã€‚<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\c8f0a631112f490687dce98280c35194.png\"/></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span> \n<span class=\"token punctuation\">{<!-- --></span>\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">bool</span> <span class=\"token function\">isLetter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span> ch<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>ch <span class=\"token operator\">&gt;=</span> <span class=\"token string\">'a'</span> <span class=\"token operator\">&amp;&amp;</span> ch <span class=\"token operator\">&lt;=</span> <span class=\"token string\">'z'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>ch <span class=\"token operator\">&gt;=</span> <span class=\"token string\">'A'</span> <span class=\"token operator\">&amp;&amp;</span> ch <span class=\"token operator\">&lt;=</span> <span class=\"token string\">'Z'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    string <span class=\"token function\">reverseOnlyLetters</span><span class=\"token punctuation\">(</span>string s<span class=\"token punctuation\">)</span> \n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">int</span> left <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> right <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> right<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//cout&lt;&lt;left&lt;&lt;\":\"&lt;&lt;right&lt;&lt;endl;</span>\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> right <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isLetter</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">++</span>left<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>left <span class=\"token operator\">&lt;</span> right <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isLetter</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">--</span>right<span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">[</span>left<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">[</span>right<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">++</span>left<span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">--</span>right<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"46_atoperator_320\"></a>ğŸƒ4.6. atå’Œoperator[]çš„åŒºåˆ«</h2>\n<p><code>at</code>ä¹Ÿæ˜¯<code>string</code>ç±»æ—©æœŸè®¾è®¡çš„æ¥å£ï¼Œå®ƒä¸<code>operator[]</code>çš„åŒºåˆ«æ˜¯ï¼š<code>operator[]</code>ä¼šæŠ¥è¶Šç•Œçš„æ£€æŸ¥(<strong>assert</strong>)ï¼Œ<code>at</code>ä¼šæŠ›å¼‚å¸¸ã€‚<br/> å®é™…å·¥ä½œä¸­ï¼Œä¸€èˆ¬ç”¨<code>operator[]</code>ç”¨çš„å¤š<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\ec1c618e28bc4489b7a6e5526be99200.png\"/></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring <span class=\"token function\">s1</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">const</span> string <span class=\"token function\">s2</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//s1[6];</span>\n\t<span class=\"token comment\">//s2[6];</span>\n\ts1<span class=\"token punctuation\">.</span><span class=\"token function\">at</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ts2<span class=\"token punctuation\">.</span><span class=\"token function\">at</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\ts1<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">//s2[0] = 'x';</span>\n\ts1<span class=\"token punctuation\">.</span><span class=\"token function\">at</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token string\">'y'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">try</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token function\">test_string4</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> exception<span class=\"token operator\">&amp;</span> e<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">what</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>è¿è¡Œç»“æœï¼š<br/> <strong>operator[]:</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\05780818be464f789ce2ea052b5f33f5.png\"/><br/> <strong>at:</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\0508609a8f4d4f84a80db7b19fca1ff2.png\"/></p>\n<h2><a id=\"47__359\"></a>ğŸ‰4.7 å››ç§è¿­ä»£å™¨</h2>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\3165990182a54c44bcc913f35310dfad.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\0132f198dc48484bb6078bf8335c84fd.png\"/></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">test_string5</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token comment\">// æ­£å‘è¿­ä»£å™¨</span>\n\tstring <span class=\"token function\">s</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\tstring<span class=\"token operator\">::</span>iterator it <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>it <span class=\"token operator\">!=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">*</span>it <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token operator\">++</span>it<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// åå‘è¿­ä»£å™¨</span>\n\tstring<span class=\"token operator\">::</span>reverse_iterator rit <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">rbegin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>rit <span class=\"token operator\">!=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">rend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">*</span>rit <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token operator\">++</span>rit<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>è¿è¡Œç»“æœï¼š</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\b782f70ce24d4869b35cdcfbd4f90246.png\"/></p>\n<p><strong>å¦‚æœæ˜¯constå¯¹è±¡ä¼šè°ƒç”¨ç›¸åº”çš„constè¿­ä»£å™¨ï¼šè¿”å›ä¸€ä¸ªåªè¯»çš„è¿­ä»£å™¨å¯¹è±¡ã€‚</strong></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">Func</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> string<span class=\"token operator\">&amp;</span> rs<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tstring<span class=\"token operator\">::</span>const_iterator it <span class=\"token operator\">=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>it <span class=\"token operator\">!=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token comment\">//*it += 1;</span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">*</span>it <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token operator\">++</span>it<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">//string::const_reverse_iterator rit = rs.rbegin();</span>\n\t<span class=\"token keyword\">auto</span> rit <span class=\"token operator\">=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">rbegin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>rit <span class=\"token operator\">!=</span> rs<span class=\"token punctuation\">.</span><span class=\"token function\">rend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token comment\">//(*rit) -= 1;</span>\n\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">*</span>rit <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token operator\">++</span>rit<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\tcout <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\b2d22d3a15dc4a1388687a7bcc14242d.png\"/></p>\n<h1><a id=\"5__415\"></a>ğŸ5. æ€»ç»“</h1>\n<p><strong>ä»Šå¤©åšä¸»æŠŠstringç±»å¸¸ç”¨çš„æ¥å£ç®€å•ä»‹ç»äº†ä¸‹ï¼Œå…¶ä½™å¤§å®¶çœ‹æ–‡æ¡£åº”è¯¥ä¹Ÿå¯ä»¥ææ‡‚ã€‚å¤§å®¶å°½é‡å‚è€ƒè‹±æ–‡æ–‡æ¡£ï¼Œä¸è¦æœ‰ç•æƒ§å¿ƒç†(å¦‚æœä½ æƒ³åƒè¿™ç¢—é¥­)ã€‚åƒSTLä¸­çš„vectorã€lsitã€stackã€queueå¤§å®¶éƒ½å¯ä»¥è¾¹æŸ¥æ–‡æ¡£è¾¹ç»ƒä¹ ï¼Œåšä¸»è®¤ä¸ºè¿™æ˜¯æœ€é«˜æ•ˆçš„å­¦ä¹ æ–¹æ³•ã€‚<br/> å…³äºstringçš„å‰©ä¸‹å†…å®¹å’Œå®ƒçš„åº•å±‚åŸç†ï¼Œåšä¸»ä¼šåœ¨ä¸‹ä¸€ç¯‡æ¨¡æ‹Ÿå®ç°stringçš„åšå®¢ä¸­è®²è§£ã€‚</strong></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "C++", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-06-03 08:11:38", "summary": "æˆ‘ç­‰å¿…å°†å¤èµ·ï¼Œå¤æœ¨å·²å‘æ–°æåœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°æ–‡ç« ç›®å½•ä¸ºä»€ä¹ˆè¦å‡ºç±»ï¼Ÿæ ‡å‡†åº“ä¸­çš„ç±»ç¼–ç é—®é¢˜ç±»çš„å¸¸ç”¨æ¥å£è¯´æ˜ç±»å¯¹è±¡çš„å¸¸è§æ„é€ ç±»å¯¹è±¡çš„èµ‹å€¼ç±»å¯¹è±¡çš„ä¿®æ”¹æ“ä½œç±»å¯¹è±¡çš„å®¹é‡æ“ä½œç±»å¯¹è±¡çš„è®¿é—®åŠéå†æ“ä½œå’Œçš„åŒºåˆ«å››ç§è¿­ä»£"}