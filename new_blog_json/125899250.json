{"blogid": "125899250", "writerAge": "码龄83天", "writerBlogNum": "61", "writerCollect": "1544", "writerComment": "1930", "writerFan": "2802", "writerGrade": "6级", "writerIntegral": "4836", "writerName": "小余努力搬砖", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125899250.jpg", "writerRankTotal": "3430", "writerRankWeekly": "52", "writerThumb": "1831", "writerVisitNum": "29190", "blog_read_count": "1590", "blog_time": "已于 2022-08-10 11:34:52 修改", "blog_title": "通过JavaScript、css、H5 实现简单的tab栏的切换和复用", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"%E4%B8%80%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%80%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\">一、效果展示</a></p>\n<p id=\"%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%A4%A7%E8%87%B4%E5%8E%9F%E7%90%86-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%A4%A7%E8%87%B4%E5%8E%9F%E7%90%86\">二、实现的大致原理</a></p>\n<p id=\"%E4%B8%89%E3%80%81H5%E7%9A%84%E5%B8%83%E5%B1%80-toc\" style=\"margin-left:0px;\"><a href=\"#%E4%B8%89%E3%80%81H5%E7%9A%84%E5%B8%83%E5%B1%80\">三、H5的布局</a></p>\n<p id=\"4.CSS%E6%A0%B7%E5%BC%8F-toc\" style=\"margin-left:0px;\"><a href=\"#4.CSS%E6%A0%B7%E5%BC%8F\">四、CSS样式</a></p>\n<p id=\"5.JS%E5%86%85%E5%AE%B9-toc\" style=\"margin-left:0px;\"><a href=\"#5.JS%E5%86%85%E5%AE%B9\">五、JS代码内容</a></p>\n<p id=\"%E5%85%AD%E3%80%81%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc\" style=\"margin-left:0px;\"><a href=\"#%E5%85%AD%E3%80%81%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\">六、完整代码</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<h1 id=\"%E4%B8%80%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\">一、效果展示</h1>\n<p><img alt=\"\" height=\"362\" src=\"https://img-blog.csdnimg.cn/e996753b9e164abeb6795e45bc5c7a9b.gif\" width=\"798\"/></p>\n<p></p>\n<h1 id=\"%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%A4%A7%E8%87%B4%E5%8E%9F%E7%90%86\">二、实现的大致原理</h1>\n<p>1.我们先通过css 和h5布局得到最基本的tab栏样式（有代码参考）</p>\n<p><img alt=\"\" height=\"233\" src=\"..\\..\\static\\image\\2ba2e43e4bc84d0ebc30026fa702a919.png\" width=\"796\"/></p>\n<p></p>\n<p>2.在获得样式，给我们所需要点击的目标设置监听事件，在获取节点，设置一个自定义的节点属性index,通过它在获取点击出现样式的节点，在经过寻找元素，设置全取消，点击相应的节点出现的效果。这里获取节点方式，都是通过点击元素获取父元素，在获得子元素，同级获得兄弟元素，在获取兄弟元素的子元素<strong>（笼统的解释，细节部分看代码段的解释）</strong></p>\n<h1 id=\"%E4%B8%89%E3%80%81H5%E7%9A%84%E5%B8%83%E5%B1%80\">三、H5的布局</h1>\n<p>没有特殊的地方，都是基本的写法，只要给定一定的选择器就可以了</p>\n<pre><code class=\"language-html\">    &lt;div class=\"tab\"&gt;\n        &lt;div class=\"nav\"&gt;\n            &lt;a href=\"javascript:;\" class=\"hover\"&gt;公司新闻&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;公司动态&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;行业新闻&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"nav_con\"&gt; \n            &lt;div&gt;内容&lt;/div&gt;\n            &lt;div&gt;动态&lt;/div&gt;\n            &lt;div&gt;行业&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"tab\"&gt;\n        &lt;div class=\"nav\"&gt;\n            &lt;a href=\"javascript:;\" class=\"hover\"&gt;大学&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;中学&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;小学&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"nav_con\"&gt;\n            &lt;div&gt;大学内容&lt;/div&gt;\n            &lt;div&gt;中学内容&lt;/div&gt;\n            &lt;div&gt;小学内容&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<h1 id=\"4.CSS%E6%A0%B7%E5%BC%8F\">四、CSS样式</h1>\n<p>为了得到视屏中的样式，需要设置最基本的效果，通过浮动，是元素在同一行，浮动会脱离文档流，可以给a标签设置宽高，可以设置一些外边距，使得好看一些。注意设置出现内容的消失，我们默认只出现第一个。</p>\n<pre><code class=\"language-css\">        a{\n            text-decoration: none;\n            width: 180px;\n            height: 30px;\n            line-height: 30px;\n            text-align: center;\n            color: #666;\n            float: left;\n            margin-right: 15px;\n        }\n        .nav a{\n            background-color: beige;\n        }\n        .nav a.hover{\n            background-color: blue;\n        }\n        .nav_con div:first-child~div{\n            display: none;\n        }\n        .nav::after{\n            content: '';\n            display: block;\n            clear: both;\n        }\n    .nav_con{\n        margin-bottom: 50px;\n    }</code></pre>\n<h1 id=\"5.JS%E5%86%85%E5%AE%B9\">五、JS代码内容</h1>\n<p>按照顺序来，流程如下</p>\n<p>获取元素</p>\n<p>通过委派给父亲添加监听事件</p>\n<p>先获得当前的父节点，在通过父节点获得所有的子节点</p>\n<p>设置排他思想</p>\n<p>给每一个子节点加上一个自定义属性 index</p>\n<p>获取当前被点击的nav a上面的属性index</p>\n<p>获取当前元素的父级元素，在获得父级的兄弟，在找到子元素</p>\n<p>当前nav_con 显示内容</p>\n<p>当前节点获得hover样式</p>\n<pre><code class=\"language-javascript\"> let navNodes = document.querySelectorAll('.nav');\n         for(let i=0;i&lt;navNodes.length;i++){\n        //通过委派给父亲添加监听事件\n    navNodes[i].addEventListener('click',function(e){\n        //先获得当前的父节点，在通过父节点获得所有的子节点\n let navs = e.target.parentNode.children;\n        //设置排他思想\n    for(let j=0;j&lt;navs.length;j++){\n    navs[j].className='';\n        //给每一个子节点加上一个自定义属性 index\n    navs[j].setAttribute(\"index\",j)\n}\n        //获取当前被点击的nav a上面的属性index\n let thisIndex = e.target.getAttribute(\"index\");\n        //获取当前元素的父级元素，在获得父级的兄弟，在找到子元素\n let nav_cons = e.target.parentNode.nextElementSibling.children;\n        for(let j=0;j&lt;nav_cons.length;j++){\n        nav_cons[j].style.display = \"none\";\n}\n        //当前nav_con 显示内容\n        nav_cons[thisIndex].style.display=\"block\"\n\n       //当前节点获得hover样式\n        e.target.className = \"hover\"\n})\n}\n</code></pre>\n<h1 id=\"%E5%85%AD%E3%80%81%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81\">六、完整代码</h1>\n<pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n    &lt;style&gt;\n        a{\n            text-decoration: none;\n            width: 180px;\n            height: 30px;\n            line-height: 30px;\n            text-align: center;\n            color: #666;\n            float: left;\n            margin-right: 15px;\n        }\n        .nav a{\n            background-color: beige;\n        }\n        .nav a.hover{\n            background-color: blue;\n        }\n\n        .nav_con div:first-child~div{\n            display: none;\n        }\n        .nav::after{\n            content: '';\n            display: block;\n            clear: both;\n        }\n    .nav_con{\n        margin-bottom: 50px;\n    }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"tab\"&gt;\n        &lt;div class=\"nav\"&gt;\n            &lt;a href=\"javascript:;\" class=\"hover\"&gt;公司新闻&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;公司动态&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;行业新闻&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"nav_con\"&gt; \n            &lt;div&gt;内容&lt;/div&gt;\n            &lt;div&gt;动态&lt;/div&gt;\n            &lt;div&gt;行业&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"tab\"&gt;\n        &lt;div class=\"nav\"&gt;\n            &lt;a href=\"javascript:;\" class=\"hover\"&gt;大学&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;中学&lt;/a&gt;\n            &lt;a href=\"javascript:;\"&gt;小学&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"nav_con\"&gt;\n            &lt;div&gt;大学内容&lt;/div&gt;\n            &lt;div&gt;中学内容&lt;/div&gt;\n            &lt;div&gt;小学内容&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;script&gt;\n        let navNodes = document.querySelectorAll('.nav');\n         for(let i=0;i&lt;navNodes.length;i++){\n        //通过委派给父亲添加监听事件\n            navNodes[i].addEventListener('click',function(e){\n                //先获得当前的父节点，在通过父节点获得所有的子节点\n                let navs = e.target.parentNode.children;\n                for(let j=0;j&lt;navs.length;j++){\n                    navs[j].className='';\n                    //给每一个子节点加上一个自定义属性 index\n                    navs[j].setAttribute(\"index\",j)\n                }\n                //获取当前被点击的nav a上面的属性index\n                let thisIndex = e.target.getAttribute(\"index\");\n                //获取当前元素的父级元素，在获得父级的兄弟，在找到子元素\n                let nav_cons = e.target.parentNode.nextElementSibling.children;\n                for(let j=0;j&lt;nav_cons.length;j++){\n                    nav_cons[j].style.display = \"none\";\n                }\n                //当前nav_con 显示内容\n                nav_cons[thisIndex].style.display=\"block\"\n\n                //当前节点获得hover样式\n                e.target.className = \"hover\"\n            })\n         }\n\n\n\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p></p>\n</div>\n</div>", "first_tag": "JavaScript", "cpp": 0, "csharp": 0, "python": 0, "javascript": 1, "java": 0, "sql": 0, "php": 0, "time": "2022-08-10 11:34:52", "summary": "目录一、效果展示二、实现的大致原理三、的布局四、样式五、代码内容六、完整代码一、效果展示二、实现的大致原理我们先通过和布局得到最基本的栏样式有代码参考在获得样式，给我们所需要点击的目标设置监听事件，在"}