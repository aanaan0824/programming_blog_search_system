{"blogid": "124402231", "writerAge": "码龄10年", "writerBlogNum": "581", "writerCollect": "950", "writerComment": "334", "writerFan": "2733", "writerGrade": "7级", "writerIntegral": "17806", "writerName": "Rudon滨海渔村", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124402231.jpg", "writerRankTotal": "632", "writerRankWeekly": "3665", "writerThumb": "360", "writerVisitNum": "2458624", "blog_read_count": "3186", "blog_time": "于 2022-04-25 13:18:06 发布", "blog_title": "tp6配置日志 - nginx下配置Thinkphp6网站 - tp6实现简单路由跳转", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h2>效果</h2>\n<p><img alt=\"\" height=\"422\" src=\"..\\..\\static\\image\\9a57085f576c47c491e600f75c2fa1aa.png\" width=\"1083\"/></p>\n<p></p>\n<p></p>\n<h2>实现步骤</h2>\n<p><span style=\"color:#fe2c24;\"><strong>准备工作</strong></span></p>\n<ul><li>安装好lnmp或wnmp等环境 - 推荐神器laragon 一步到位<br/><a href=\"https://laragon.org/download/\" title=\"https://laragon.org/download/\">https://laragon.org/download/</a> 选择“Download Laragon - Full (147 MB)”<br/>  </li><li>使用composer创建tp6项目 <pre><code class=\"language-bash\">composer create-project topthink/think nameOfProject</code></pre> <br/> 或者在laragon中实现一键生成tp6项目<br/><a class=\"has-card\" href=\"https://blog.csdn.net/qq285744011/article/details/124366890\" title=\"Laragon实现快速创建ThinkPHP项目_Rudon滨海渔村的博客-CSDN博客\"><span class=\"link-card-box\"><span class=\"link-title\">Laragon实现快速创建ThinkPHP项目_Rudon滨海渔村的博客-CSDN博客</span><span class=\"link-desc\">效果图实现步骤1. 修改Laragon的默认后缀为.com （原来是.test，可选）2. 关闭apache，启用nginx @80端口3. 对着任务栏的laragon图标右键，快速创建，配置4. 在最后面模仿Laravel等，给ThinkPHP来一段# ThinkPHPThinkPHP=composer create-project topthink/think %s5. 再来，选择ThinkPHP6. ...</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://g.csdnimg.cn/static/logo/favicon32.ico\"/>https://blog.csdn.net/qq285744011/article/details/124366890</span></span></a></li><li>假设项目叫 tp6.com</li></ul>\n<p></p>\n<p><span style=\"color:#fe2c24;\"><strong>开始为tp、nginx配置</strong></span></p>\n<ul><li><strong>复制tp6项目根目录下的 .example.env 为 .env文件</strong><br/><img alt=\"\" height=\"504\" src=\"..\\..\\static\\image\\4cfe4b0c805644e7830f3512a4bf9802.png\" width=\"598\"/><br/>  </li><li><strong>设置nginx指向tp6项目的public为项目入口</strong><br/><img alt=\"\" height=\"479\" src=\"..\\..\\static\\image\\77899ae771d44a9cb015347c22fe7f86.png\" width=\"628\"/><br/><br/>  </li><li><strong>设置nginx忽略index.php</strong> （<span style=\"color:#fe2c24;\">一定要做，不然会发生“tp项目只能访问首页”的问题</span>）<br/> 1）修改nginx配置 sites_enabled/xxx.com.conf (指向当前站点)<br/> 2）原来配置 <pre><code class=\"language-bash\">    location / {\n        try_files $uri $uri/ /index.php$is_args$args;\n\t\tautoindex on;\n    }</code></pre> <br/> 3）修改后的配置 <pre><code class=\"language-bash\">    location / {\n        try_files $uri $uri/ /index.php$is_args$args;\n\t\tautoindex on;\n\t\tif (!-e $request_filename) {\n\t\t\trewrite  ^(.*)$  /index.php?s=/$1  last;\n\t\t}\n    }</code></pre> 参考官方手册<br/><a class=\"has-card\" href=\"https://www.kancloud.cn/manual/thinkphp6_0/1037488\" title=\"URL访问 · ThinkPHP6.0完全开发手册 · 看云\"><span class=\"link-card-box\"><span class=\"link-title\">URL访问 · ThinkPHP6.0完全开发手册 · 看云</span><span class=\"link-desc\"> ThinkPHP`6.0`基于精简核心和统一用法两大原则在`5.1`的基础上对底层架构做了进一步的优化改进，并更加规范化。</span><span class=\"link-link\"><img alt=\"icon-default.png?t=M3K6\" class=\"link-link-icon\" src=\"..\\..\\static\\image\\icon-default.png\"/>https://www.kancloud.cn/manual/thinkphp6_0/1037488</span></span></a></li><li>重启nginx / apache</li><li>单应用下，新增controller，尝试访问<br/><img alt=\"\" height=\"746\" src=\"..\\..\\static\\image\\c1fe7f10070141129754412c6dd7352f.png\" width=\"796\"/><br/> 访问效果<br/><img alt=\"\" height=\"568\" src=\"..\\..\\static\\image\\cb679efa08814ef0b95f45af9a99c0c3.png\" width=\"830\"/><br/>  </li><li>OK</li></ul>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> 封面</p>\n<p><img alt=\"\" height=\"270\" src=\"..\\..\\static\\image\\b9d7a6be85e24492a04df3f4837bde63.png\" width=\"282\"/></p>\n<p> </p>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 1, "time": "2022-04-25 13:18:06", "summary": "效果实现步骤准备工作安装好或等环境推荐神器一步到位选择使用创建项目或者在中实现一键生成项目实现快速创建项目滨海渔村的博客博客实现快速创建项目滨海渔村的博客博客效果图实现步骤修改的默认后缀为原来是，可选"}