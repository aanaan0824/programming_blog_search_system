{"blogid": "125769102", "writerAge": "码龄1年", "writerBlogNum": "94", "writerCollect": "1868", "writerComment": "3068", "writerFan": "978", "writerGrade": "6级", "writerIntegral": "5862", "writerName": "lxw-pro", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125769102.jpg", "writerRankTotal": "2882", "writerRankWeekly": "197", "writerThumb": "1852", "writerVisitNum": "42124", "blog_read_count": "1027", "blog_time": "于 2022-07-29 20:15:00 发布", "blog_title": "【模拟 简易银行系统~python】", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>目录~python</h3>\n<ul><li><a href=\"#_6\">面向对象编程之模拟银行系统</a></li><li><ul><li><a href=\"#_9\">相关程序代码如下：</a></li><li><ul><li><a href=\"#_85\">运行效果如下：</a></li></ul>\n</li></ul>\n</li><li><a href=\"#pandas__91\">pandas 每日一练：</a></li><li><ul><li><ul><li><a href=\"#_108\">运行结果为：</a></li></ul>\n</li><li><a href=\"#66sku_cost_prc_128\">66、绘制sku_cost_prc的密度曲线</a></li><li><ul><li><a href=\"#_135\">运行效果为：</a></li></ul>\n</li><li><a href=\"#67sku_cost_prc_141\">67、计算后一天与前一天sku_cost_prc的差值</a></li><li><ul><li><a href=\"#_146\">运行结果为：</a></li></ul>\n</li><li><a href=\"#68sku_cost_prc_164\">68、计算后一天与前一天sku_cost_prc变化率</a></li><li><ul><li><a href=\"#_169\">运行结果为：</a></li></ul>\n</li><li><a href=\"#69_188\">69、设置日期为索引</a></li><li><ul><li><a href=\"#_194\">运行结果为：</a></li></ul>\n</li><li><a href=\"#7095sku_cost_prc_213\">70、以9个数据作为一个数据滑动窗口，在这5个数据上取均值（`sku_cost_prc`）</a></li><li><ul><li><a href=\"#_219\">运行结果为：</a></li></ul>\n</li><li><a href=\"#httpsblogcsdnnetm0_66318554articledetails125857264_243\">每日一言：</a></li><li><ul><li><a href=\"#httpsblogcsdnnetm0_66318554articledetails125750544_251\">持续更新中...</a></li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<hr/>\n<blockquote>\n<p>个人昵称：<a href=\"https://blog.csdn.net/m0_66318554?type=blog\">lxw-pro</a><br/> 个人主页：欢迎关注 <a href=\"https://blog.csdn.net/m0_66318554?type=blog\">我的主页</a><br/> 个人感悟： “失败乃成功之母”，这是不变的道理，在失败中总结，在失败中成长，才能成为IT界的一代宗师。</p>\n</blockquote>\n<h1><a id=\"_6\"></a>面向对象编程之模拟银行系统</h1>\n<p>现在呀，虽说已经大面积的使用微信支付、支付宝支付等，可要想微信、支付宝等留有余额，还是离不开我们的存款，存款的话也得有现金，当然，自动取款机还是依旧那么方便 ，“自己动手，丰衣足食”，那么，我们的自动取款机又是怎么知道你存了这么多，怎么清楚地知道你的余额的呢，下面我们来康康这所谓的简易模拟系统叭！</p>\n<h2><a id=\"_9\"></a>相关程序代码如下：</h2>\n<pre><code class=\"prism language-typescript\"><span class=\"token keyword\">import</span> datetime\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Bank</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n    account_log <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n    def <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n\n    def <span class=\"token function\">deposit</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>      # 存钱\n        user<span class=\"token punctuation\">.</span>balance <span class=\"token operator\">+=</span> amount\n        self<span class=\"token punctuation\">.</span><span class=\"token function\">write_log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'存钱'</span><span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">)</span>\n\n    def <span class=\"token function\">withdrawal</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>   # 取钱\n        <span class=\"token keyword\">if</span> amount <span class=\"token operator\">&gt;</span> user<span class=\"token punctuation\">.</span>balance<span class=\"token operator\">:</span>\n            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"余额不足\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">else</span><span class=\"token operator\">:</span>\n            user<span class=\"token punctuation\">.</span>balance <span class=\"token operator\">-=</span> amount\n            self<span class=\"token punctuation\">.</span><span class=\"token function\">write_log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'取钱'</span><span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">)</span>\n\n    def <span class=\"token function\">write_log</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>  # 写日志\n        now <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>datetime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        ct <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token function\">strftime</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%Y-%m-%d %H:%M:%S\"</span><span class=\"token punctuation\">)</span>\n        data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> ct<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> f<span class=\"token string\">\"{user.balance:.2f}\"</span><span class=\"token punctuation\">]</span>\n        Bank<span class=\"token punctuation\">.</span>account_log<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span>object<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n    def <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> balance<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>balance <span class=\"token operator\">=</span> balance\n\n    def <span class=\"token function\">print_log</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> Bank<span class=\"token punctuation\">.</span>account_log<span class=\"token operator\">:</span>\n            <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n\n\ndef <span class=\"token function\">show_menu</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n    menu <span class=\"token operator\">=</span> <span class=\"token string\">''</span>'\n    <span class=\"token number\">0</span><span class=\"token operator\">:</span> 退出\n    <span class=\"token number\">1</span><span class=\"token operator\">:</span> 存款\n    <span class=\"token number\">2</span><span class=\"token operator\">:</span> 取款\n    <span class=\"token number\">3</span><span class=\"token operator\">:</span> 打印交易信息\n    <span class=\"token string\">''</span>'\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>menu<span class=\"token punctuation\">)</span>\n\n\nbank <span class=\"token operator\">=</span> <span class=\"token function\">Bank</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"贵阳银行\"</span><span class=\"token punctuation\">)</span>\nuser <span class=\"token operator\">=</span> <span class=\"token function\">User</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lxw-pro'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">520</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">while</span> True<span class=\"token operator\">:</span>\n    <span class=\"token function\">show_menu</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    num <span class=\"token operator\">=</span> <span class=\"token function\">int</span><span class=\"token punctuation\">(</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入菜单编号：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> num <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"退出系统\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">break</span>\n    elif num <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"存款\"</span><span class=\"token punctuation\">)</span>\n        amount <span class=\"token operator\">=</span> <span class=\"token function\">float</span><span class=\"token punctuation\">(</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入存款金额：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        bank<span class=\"token punctuation\">.</span><span class=\"token function\">deposit</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"当前金额是{user.balance:.2f}\"</span><span class=\"token punctuation\">)</span>\n    elif num <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"取款\"</span><span class=\"token punctuation\">)</span>\n        amount <span class=\"token operator\">=</span> <span class=\"token function\">float</span><span class=\"token punctuation\">(</span><span class=\"token function\">input</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"请输入取款金额：\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        bank<span class=\"token punctuation\">.</span><span class=\"token function\">withdrawal</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"当前金额是{user.balance:.2f}\"</span><span class=\"token punctuation\">)</span>\n    elif num <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"查看记录\"</span><span class=\"token punctuation\">)</span>\n        user<span class=\"token punctuation\">.</span><span class=\"token function\">print_log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">else</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"输入有误！\"</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h3><a id=\"_85\"></a>运行效果如下：</h3>\n<p><code>看效果，有点长，故截成两张图</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a131b2dcb366413bbe3ea2555f3b5bf4.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\1e8ad0375a764877ba35cfd4f86c747f.png\"/></p>\n<p>————————————————————————————————————————————</p>\n<h1><a id=\"pandas__91\"></a>pandas 每日一练：</h1>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># -*- coding = utf-8 -*-</span>\n<span class=\"token comment\"># @Time : 2022/7/29 15:15</span>\n<span class=\"token comment\"># @Author : lxw_pro</span>\n<span class=\"token comment\"># @File : pandas-11 练习.py</span>\n<span class=\"token comment\"># @Software : PyCharm</span>\n\n\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n\nlxw <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_excel<span class=\"token punctuation\">(</span><span class=\"token string\">\"site.xlsx\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>lxw<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_108\"></a>运行结果为：</h3>\n<pre><code class=\"prism language-python\">     Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>  Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0.1</span>   create_dt  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   yye  sku_cost_prc     lrl\n<span class=\"token number\">0</span>             <span class=\"token number\">0</span>             <span class=\"token number\">1</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">8.8</span>          <span class=\"token number\">6.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">1</span>             <span class=\"token number\">1</span>             <span class=\"token number\">2</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7.5</span>          <span class=\"token number\">5.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2</span>             <span class=\"token number\">2</span>             <span class=\"token number\">3</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">5.0</span>          <span class=\"token number\">3.85</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">3</span>             <span class=\"token number\">3</span>             <span class=\"token number\">4</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">19.6</span>          <span class=\"token number\">7.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">4</span>             <span class=\"token number\">4</span>             <span class=\"token number\">5</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">13.5</span>         <span class=\"token number\">10.38</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>          <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">751</span>         <span class=\"token number\">751</span>           <span class=\"token number\">752</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.0</span>          <span class=\"token number\">0.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">752</span>         <span class=\"token number\">752</span>           <span class=\"token number\">753</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2.0</span>          <span class=\"token number\">1.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">753</span>         <span class=\"token number\">753</span>           <span class=\"token number\">754</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.0</span>          <span class=\"token number\">0.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">754</span>         <span class=\"token number\">754</span>           <span class=\"token number\">755</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7.6</span>          <span class=\"token number\">2.92</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">755</span>         <span class=\"token number\">755</span>           <span class=\"token number\">756</span>  <span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.3</span>          <span class=\"token number\">2.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">756</span> rows x <span class=\"token number\">8</span> columns<span class=\"token punctuation\">]</span>\n</code></pre>\n<hr/>\n<h2><a id=\"66sku_cost_prc_128\"></a>66、绘制sku_cost_prc的密度曲线</h2>\n<pre><code class=\"prism language-python\">lxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>plot<span class=\"token punctuation\">(</span>kind<span class=\"token operator\">=</span><span class=\"token string\">'kde'</span><span class=\"token punctuation\">)</span>\n\nplt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_135\"></a>运行效果为：</h3>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\cd26e414663f4f5cbad8860cf12017f2.png\"/></p>\n<hr/>\n<h2><a id=\"67sku_cost_prc_141\"></a>67、计算后一天与前一天sku_cost_prc的差值</h2>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>lxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>diff<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_146\"></a>运行结果为：</h3>\n<pre><code class=\"prism language-python\"><span class=\"token number\">0</span>       NaN\n<span class=\"token number\">1</span>      <span class=\"token number\">1.00</span>\n<span class=\"token number\">2</span>      <span class=\"token number\">1.92</span>\n<span class=\"token number\">3</span>     <span class=\"token operator\">-</span><span class=\"token number\">3.69</span>\n<span class=\"token number\">4</span>     <span class=\"token operator\">-</span><span class=\"token number\">2.84</span>\n       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> \n<span class=\"token number\">751</span>    <span class=\"token number\">3.13</span>\n<span class=\"token number\">752</span>   <span class=\"token operator\">-</span><span class=\"token number\">0.77</span>\n<span class=\"token number\">753</span>    <span class=\"token number\">0.77</span>\n<span class=\"token number\">754</span>   <span class=\"token operator\">-</span><span class=\"token number\">2.15</span>\n<span class=\"token number\">755</span>    <span class=\"token number\">0.38</span>\nName<span class=\"token punctuation\">:</span> sku_cost_prc<span class=\"token punctuation\">,</span> Length<span class=\"token punctuation\">:</span> <span class=\"token number\">756</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> float64\n\n</code></pre>\n<hr/>\n<h2><a id=\"68sku_cost_prc_164\"></a>68、计算后一天与前一天sku_cost_prc变化率</h2>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>lxw<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>pct_change<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_169\"></a>运行结果为：</h3>\n<pre><code class=\"prism language-python\"><span class=\"token number\">0</span>           NaN\n<span class=\"token number\">1</span>      <span class=\"token number\">0.147710</span>\n<span class=\"token number\">2</span>      <span class=\"token number\">0.332756</span>\n<span class=\"token number\">3</span>     <span class=\"token operator\">-</span><span class=\"token number\">0.958442</span>\n<span class=\"token number\">4</span>     <span class=\"token operator\">-</span><span class=\"token number\">0.376658</span>\n         <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   \n<span class=\"token number\">751</span>    <span class=\"token number\">0.802564</span>\n<span class=\"token number\">752</span>   <span class=\"token operator\">-</span><span class=\"token number\">1.000000</span>\n<span class=\"token number\">753</span>    <span class=\"token number\">0.500000</span>\n<span class=\"token number\">754</span>   <span class=\"token operator\">-</span><span class=\"token number\">2.792208</span>\n<span class=\"token number\">755</span>    <span class=\"token number\">0.130137</span>\nName<span class=\"token punctuation\">:</span> sku_cost_prc<span class=\"token punctuation\">,</span> Length<span class=\"token punctuation\">:</span> <span class=\"token number\">756</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> float64\n\n</code></pre>\n<hr/>\n<h2><a id=\"69_188\"></a>69、设置日期为索引</h2>\n<pre><code class=\"prism language-python\">data <span class=\"token operator\">=</span> lxw<span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">'create_dt'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_194\"></a>运行结果为：</h3>\n<pre><code class=\"prism language-python\">            Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>  Unnamed<span class=\"token punctuation\">:</span> <span class=\"token number\">0.1</span>  sku_cnt  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   yye  sku_cost_prc     lrl\ncreate_dt                                      <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>                            \n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>           <span class=\"token number\">0</span>             <span class=\"token number\">1</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">8.8</span>          <span class=\"token number\">6.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>           <span class=\"token number\">1</span>             <span class=\"token number\">2</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7.5</span>          <span class=\"token number\">5.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>           <span class=\"token number\">2</span>             <span class=\"token number\">3</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">5.0</span>          <span class=\"token number\">3.85</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>           <span class=\"token number\">3</span>             <span class=\"token number\">4</span>      <span class=\"token number\">2.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">19.6</span>          <span class=\"token number\">7.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>           <span class=\"token number\">4</span>             <span class=\"token number\">5</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token number\">13.5</span>         <span class=\"token number\">10.38</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n                <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>      <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>           <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>         <span class=\"token number\">751</span>           <span class=\"token number\">752</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.0</span>          <span class=\"token number\">0.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>         <span class=\"token number\">752</span>           <span class=\"token number\">753</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2.0</span>          <span class=\"token number\">1.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>         <span class=\"token number\">753</span>           <span class=\"token number\">754</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1.0</span>          <span class=\"token number\">0.77</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>         <span class=\"token number\">754</span>           <span class=\"token number\">755</span>      <span class=\"token number\">2.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7.6</span>          <span class=\"token number\">2.92</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>         <span class=\"token number\">755</span>           <span class=\"token number\">756</span>      <span class=\"token number\">1.0</span>  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">3.3</span>          <span class=\"token number\">2.54</span>  <span class=\"token number\">30.00</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">756</span> rows x <span class=\"token number\">7</span> columns<span class=\"token punctuation\">]</span>\n</code></pre>\n<hr/>\n<h2><a id=\"7095sku_cost_prc_213\"></a>70、以9个数据作为一个数据滑动窗口，在这5个数据上取均值（<code>sku_cost_prc</code>）</h2>\n<pre><code class=\"prism language-python\">jz <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token string\">'sku_cost_prc'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>rolling<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>jz<span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"_219\"></a>运行结果为：</h3>\n<pre><code class=\"prism language-python\">create_dt\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>      NaN\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>      NaN\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>      NaN\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">11</span><span class=\"token operator\">-</span><span class=\"token number\">30</span>      NaN\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">02</span>      NaN\n              <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>  \n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>    <span class=\"token number\">5.016</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>    <span class=\"token number\">4.185</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>    <span class=\"token number\">3.500</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>    <span class=\"token number\">2.802</span>\n<span class=\"token number\">2016</span><span class=\"token operator\">-</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>    <span class=\"token number\">2.066</span>\nName<span class=\"token punctuation\">:</span> sku_cost_prc<span class=\"token punctuation\">,</span> Length<span class=\"token punctuation\">:</span> <span class=\"token number\">756</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> float64\n</code></pre>\n<hr/>\n<h2><a id=\"httpsblogcsdnnetm0_66318554articledetails125857264_243\"></a><a href=\"https://blog.csdn.net/m0_66318554/article/details/125857264\">每日一言：</a></h2>\n<ul><li></li></ul>\n<blockquote>\n<p><em><strong>自律的顶端就是享受孤独！这一年里，失去，释怀，成长，完结一半！！</strong></em></p>\n</blockquote>\n<ul><li></li></ul>\n<hr/>\n<h3><a id=\"httpsblogcsdnnetm0_66318554articledetails125750544_251\"></a><a href=\"https://blog.csdn.net/m0_66318554/article/details/125750544\">持续更新中…</a></h3>\n<blockquote>\n<p><mark>点赞</mark>，你的认可是我创作的<code>动力</code>！<br/> <mark>收藏</mark>，你的青睐是我努力的<code>方向</code>！<br/> <mark>评论</mark>，你的意见是我进步的<code>财富</code>！<br/> <mark>关注</mark>，你的喜欢是我长久的<code>坚持</code>！<br/> <img alt=\"在这里插入图片描述\" src=\"https://img-blog.csdnimg.cn/a92cae37affa4c1d870cc0f3ade0e3ff.gif\"/></p>\n</blockquote>\n<p>欢迎关注微信公众号【<a href=\"https://u.r.sn.cn/RsGk6d\">程序人生6</a>】，一起探讨学习哦！！！</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-07-29 20:15:00", "summary": "目录面向对象编程之模拟银行系统相关程序代码如下：运行效果如下：每日一练：运行结果为：、绘制的密度曲线运行效果为：、计算后一天与前一天的差值运行结果为：、计算后一天与前一天变化率运行结果为：、设置日期为"}