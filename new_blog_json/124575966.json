{"blogid": "124575966", "writerAge": "码龄3年", "writerBlogNum": "8", "writerCollect": "15", "writerComment": "0", "writerFan": "0", "writerGrade": "1级", "writerIntegral": "84", "writerName": "晤卉", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124575966.jpg", "writerRankTotal": "108805", "writerRankWeekly": "461462", "writerThumb": "2", "writerVisitNum": "5813", "blog_read_count": "3937", "blog_time": "已于 2022-05-04 20:29:08 修改", "blog_title": "MySql查询某个时间段内的数据（前一周、前三个月、前一年等）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1 id=\"1%E3%80%81%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0DATE_SUB\">1、使用函数DATE_SUB</h1>\n<p>DATE_SUB函数在当前时间<strong>减去</strong>一定的时间</p>\n<blockquote>\n<p>DATE_SUB(date,INTERVAL expr unit)</p>\n</blockquote>\n<p></p>\n<p>date：合法日期，可以是当前时间now()</p>\n<p>expr：希望减去的时间，整数</p>\n<p>unit：减去时间的单位，如day，week，month，year</p>\n<p>实例：</p>\n<p>u_user表</p>\n<p><img alt=\"\" height=\"139\" src=\"..\\..\\static\\image\\0a4ce74793a549a8a67f415fdf72f2e4.png\" width=\"442\"/></p>\n<p>（1）、前一周的数据</p>\n<p> 当前时间：</p>\n<p><img alt=\"\" height=\"51\" src=\"..\\..\\static\\image\\35820056d5464d3b9546611255a43405.png\" width=\"87\"/></p>\n<p> sql：</p>\n<blockquote>\n<p>select * from u_user where u_create_time &gt; DATE_SUB(NOW(),INTERVAL 7 day);</p>\n</blockquote>\n<p>结果：</p>\n<p><img alt=\"\" height=\"96\" src=\"..\\..\\static\\image\\aaf1dd449da245898a291bc40dc2304c.png\" width=\"407\"/></p>\n<p> 另一种sql写法：</p>\n<blockquote>\n<p>select * from u_user where u_create_time &gt; DATE_SUB(NOW(),INTERVAL 1 WEEK);</p>\n</blockquote>\n<p> （2）、前三个月的数据</p>\n<p>sql：</p>\n<blockquote>\n<p>select * from u_user where u_create_time &gt; DATE_SUB(NOW(),INTERVAL 3 MONTH);</p>\n</blockquote>\n<p> 结果：</p>\n<p><img alt=\"\" height=\"103\" src=\"..\\..\\static\\image\\45923cac138a402c9c3f2d3628ae0a59.png\" width=\"356\"/></p>\n<p>（3）、前一年的数据</p>\n<p>sql：</p>\n<blockquote>\n<p>select * from u_user where u_create_time &gt; DATE_SUB(NOW(),INTERVAL 1 YEAR);</p>\n</blockquote>\n<p> 结果：</p>\n<p><img alt=\"\" height=\"120\" src=\"..\\..\\static\\image\\71099f23f01c4d5788697c157e0b300f.png\" width=\"360\"/></p>\n<h1>2、使用函数DATE_ADD </h1>\n<p>DATE_ADD函数在当前时间<strong>加上</strong>一定的时间</p>\n<blockquote>\n<p>DATE_ADD(date,INTERVAL expr unitda</p>\n</blockquote>\n<p>date：合法日期，可以是当前时间now()，也可以是表中的时间字段</p>\n<p>expr：希望加上的时间，整数</p>\n<p>unit：加上时间的单位，如day，week，month，year</p>\n<p>实例：</p>\n<p>（1）、前一周的数据</p>\n<p>sql：</p>\n<blockquote>\n<p>select * from u_user where DATE_ADD(u_create_time,INTERVAL 7 DAY) &gt; NOW();</p>\n</blockquote>\n<p> 结果：</p>\n<p><img alt=\"\" height=\"117\" src=\"..\\..\\static\\image\\55a339ba5d4447e3a495b36316456b86.png\" width=\"394\"/></p>\n<p>（2）、前三个月的数据 </p>\n<p>sql：</p>\n<blockquote>\n<p>select * from u_user where DATE_ADD(u_create_time,INTERVAL 3 MONTH) &gt; NOW();</p>\n</blockquote>\n<p>结果：</p>\n<p><img alt=\"\" height=\"130\" src=\"..\\..\\static\\image\\5d30404f81914583b756251ff6e5050d.png\" width=\"388\"/></p>\n<p>（3）、前一年的数据</p>\n<p>sql：</p>\n<blockquote>\n<p>select * from u_user where DATE_ADD(u_create_time,INTERVAL 1 YEAR) &gt; NOW(); </p>\n</blockquote>\n<p>结果：</p>\n<p><img alt=\"\" height=\"152\" src=\"..\\..\\static\\image\\8927f6231e6b45989ad37bbb09e913d5.png\" width=\"383\"/></p>\n<p></p>\n</div>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-05-04 20:29:08", "summary": "、使用函数函数在当前时间减去一定的时间：合法日期，可以是当前时间：希望减去的时间，整数：减去时间的单位，如，，，实例：表、前一周的数据当前时间：：结果：另一种写法：、前三个月的数据：结果：、前一年的数"}