{"blogid": "125468056", "writerAge": "码龄12年", "writerBlogNum": "10", "writerCollect": "3", "writerComment": "0", "writerFan": "4", "writerGrade": "2级", "writerIntegral": "101", "writerName": "真不爱学习", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125468056.jpg", "writerRankTotal": "96178", "writerRankWeekly": "28435", "writerThumb": "1", "writerVisitNum": "2773", "blog_read_count": "960", "blog_time": "于 2022-06-26 11:50:05 发布", "blog_title": "mac环境下 rust 环境安装", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"mac__rust__0\"></a>mac环境下 rust 环境安装</h1>\n<p>Stack Overflow 2022 开发者调查报告现已出炉。Stack Overflow 年度开发者调查是面向全球开发者进行的规模最大、最全面的调查，调查涵盖了从开发者喜爱的技术到工作偏好等内容。2022 年是 Stack Overflow 发布年度开发者调查报告的第十二年，有来自 180 个国家 / 地区的 73000 多名开发人员参与了这个调查。其中，依旧是来自美国和印度的受访者数量最多，其次是德国和 UKI（英国和爱尔兰）；仅有 632 份调查反馈来自中国开发者，占比为 0.88%。</p>\n<h2><a id=\"rust_3\"></a>rust的应用场景</h2>\n<p>Rust 已连续第七年成为最受喜爱的语言，87% 的开发人员表示他们希望继续使用它。<br/> Rust最爽的是可以从 C++调用 rust，以前大部分语言都是只能调用 C++，C++反过来是不能直接调用的，都要比较麻烦的接口。rust同 C++的无缝结合，正可以从 lib层慢慢替换各个各个原有模块</p>\n<p>Rust最容易吸引的人群可能是C++程序员：因为，一方面解决了不少C++的痛点，另一方面Rust的很多特性其实有点复杂也有点门槛的。这些特性背后的动因有C++背景的程序员是非常容易理解，也是不少C++程序员梦寐以求的。相对而言，其他语言背景出身的程序员，对Rust的共鸣性远远没有C++程序员强烈。<br/> Rust的主要目标是弥补C++的很多不足最终可以完全替代C++, 能写出更安全稳定且性能不输C++的程序</p>\n<p>但编程语言没有十全十美的设计，Rust满足了安全稳定和性能， 是以开发效率和上手难度的代价换来的</p>\n<p>也就是说Rust主要的领域在功能较稳定的底层模块， 不太适合写需求大量易变的上层逻辑</p>\n<h2><a id=\"rust_14\"></a>rust面临的生态问题和开发优势</h2>\n<p>1.内存安全模型，这是趟过c/c++坑的人的共识，也是业界的共识，大型c++项目如os，游戏引擎，浏览器等，70%的bug都是因为内存安全引起。</p>\n<p>2.高性能，无运行时，不像c#,java,go一样有gc，这样理论上可以做到和c一样的目标代码的运行效 率。</p>\n<p>3.拥抱web，随着web上的应用越来越复杂，未来可见的wasm，rust是最佳语言，跟上面一条一样，因为无运行时，rust编译出来的wasm极小，这在web环境下是非常重要的。虽然c/c++编译成wasm也同样很小，但项目组织和包管理比rust复杂多了。</p>\n<p>Google开始在Rust OS底层开发中逐步使用Rust替代C++。主要是针对新项目，老的C++不会动的。</p>\n<h2><a id=\"_23\"></a>安装</h2>\n<p>今天我们就在mac开发环境下安装一下rust</p>\n<p>先上资料：https://www.rust-lang.org/zh-CN/tools/install</p>\n<p>执行 curl --proto ‘=https’ --tlsv1.2 -sSf https://sh.rustup.rs | sh<br/> 进行rust的安装<br/> 期间会弹出一个input，一般开发者输入1就可以。<br/> 安装过程如下：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0d7e24d7dfa349e08312114a63c40427.png\"/><br/> 安装成功后可以使用rustc -V来查询版本<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\dce7a15db3b845c1a2d8e25d303e9523.png\"/><br/> 大功告成。</p>\n<h2><a id=\"_37\"></a>创建项目并测试</h2>\n<p>使用cargo命令创建项目， cargo new project<br/> <img alt=\"\" src=\"..\\..\\static\\image\\b3e82ed279c84fe0b0fdc098c7b1bbc9.png\"/><br/> 看一下项目名称是否正确<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2faef55dcb314f62b8d57633ca6356f4.png\"/><br/> 进入项目进行编辑执行 ：</p>\n<h5><a id=\"cargo_build_43\"></a>cargo build进行编译</h5>\n<h5><a id=\"cargo_run_44\"></a>cargo run进行执行</h5>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2904d65d67ac47dbad34078935581ab1.png\"/></p>\n<h5><a id=\"_47\"></a>大功告成！@@！</h5>\n<h2><a id=\"idea_48\"></a>idea编辑器插件安装</h2>\n<p>安装IntelliJ插件</p>\n<p>需要安装两个插件 intellij-rust和intellij-toml, intellij-rust是Rust语言插件，intellij-toml是为Toml语言的插件，是为cargo的配置文件cargo.toml使用。</p>\n<h5><a id=\"Perferences__Plugins_MarketplactRust_54\"></a>安装方式：Perferences… -&gt; Plugins 在Marketplact中直接搜索Rust</h5>\n<h5><a id=\"toml_55\"></a>同样方式搜索toml并安装。</h5>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\62bd9f2a077245f09638aaec4446456e.png\"/><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\32882ffb23584d948d79f9e80431caf7.png\"/><br/> 重启idea ，创建项目</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\368e7ad5f9044712bffd50bde2d12527.png\"/><br/> 执行 demo<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\dd509ac667494e46897f2c259dbc0603.png\"/></p>\n<hr/>\n<h1><a id=\"_65\"></a><strong>常见问题</strong></h1>\n<p>问题一：<img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\cebafe716e264825b316c3f62dfb7fe6.png\"/><br/> 解决办法<br/> vi ~/.cargo/config</p>\n<pre><code class=\"prism language-c\"># 放到 `$HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>cargo<span class=\"token operator\">/</span>config` 文件中\n<span class=\"token punctuation\">[</span>source<span class=\"token punctuation\">.</span>crates<span class=\"token operator\">-</span>io<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://github.com/rust-lang/crates.io-index\"</span>\n\n# 替换成你偏好的镜像源\nreplace<span class=\"token operator\">-</span>with <span class=\"token operator\">=</span> <span class=\"token char\">'sjtu'</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">replace</span><span class=\"token expression\"><span class=\"token operator\">-</span>with <span class=\"token operator\">=</span> </span><span class=\"token char\">'ustc'</span></span>\n\n# 清华大学\n<span class=\"token punctuation\">[</span>source<span class=\"token punctuation\">.</span>tuna<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git\"</span>\n\n# 中国科学技术大学\n<span class=\"token punctuation\">[</span>source<span class=\"token punctuation\">.</span>ustc<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"git://mirrors.ustc.edu.cn/crates.io-index\"</span>\n\n# 上海交通大学\n<span class=\"token punctuation\">[</span>source<span class=\"token punctuation\">.</span>sjtu<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index\"</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span> <span class=\"token directive keyword\">rustcc</span><span class=\"token expression\">社区</span></span>\n<span class=\"token punctuation\">[</span>source<span class=\"token punctuation\">.</span>rustcc<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"git://crates.rustcc.cn/crates.io-index\"</span>\n\n<span class=\"token punctuation\">[</span>net<span class=\"token punctuation\">]</span>\ngit<span class=\"token operator\">-</span>fetch<span class=\"token operator\">-</span>with<span class=\"token operator\">-</span>cli<span class=\"token operator\">=</span>true\n\n</code></pre>\n<p>变为上海交通大学的源，设置为从git拉取。git就不会不会被墙啦！@@。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Java", "cpp": 1, "csharp": 1, "python": 0, "javascript": 0, "java": 1, "sql": 0, "php": 0, "time": "2022-06-26 11:50:05", "summary": "环境下环境安装开发者调查报告现已出炉。年度开发者调查是面向全球开发者进行的规模最大、最全面的调查，调查涵盖了从开发者喜爱的技术到工作偏好等内容。年是发布年度开发者调查报告的第十二年，有来自个国家地区的"}