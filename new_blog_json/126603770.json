{"blogid": "126603770", "writerAge": "码龄3年", "writerBlogNum": "30", "writerCollect": "254", "writerComment": "259", "writerFan": "384", "writerGrade": "4级", "writerIntegral": "1289", "writerName": "一哑7", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126603770.jpg", "writerRankTotal": "14717", "writerRankWeekly": "213", "writerThumb": "312", "writerVisitNum": "13169", "blog_read_count": "318", "blog_time": "于 2022-08-30 20:50:53 发布", "blog_title": "MySQL常见操作", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><code>这里就不讲安装了后面闲了有机会的话会出各种软件的安装教程，MySQL安装简易哔哩哔哩跟着视频来，建议8.0版本后</code></p>\n<h1><a id=\"_1\"></a>数据库基础</h1>\n<h2><a id=\"MAC_OS_2\"></a>MAC OS终端操作：</h2>\n<p>1、MySQL安装完成后打开设置<br/> 2、点击MySQL<br/> <img alt=\"MySQL开启服务\" src=\"..\\..\\static\\image\\80c252423a7142f29399fdeba89857c7.png\"/><br/> 3、 保证服务开启<br/> <img alt=\"在保证服务开启\n\" src=\"..\\..\\static\\image\\e40538aa1eb540de9bbf3ef09c30ff34.png\"/></p>\n<p>4、打开终端输入如下指令</p>\n<pre><code>/usr/local/MySQL/bin/mysql -u root -p\n</code></pre>\n<p>root：指的是你自己设置的数据库<code>用户用户用户</code>名，不是库名。<br/> 5、输入密码（一般不显示密码输进去回车就好）<br/> <img alt=\"进入mysql\" src=\"..\\..\\static\\image\\d542d62168d14203b26b6ae20ea9d719.png\"/><br/> 当看到绿框框的欢迎内容就证明好了。<br/> <mark>当然用自带的软件Workbench、navicat或者其他的数据库软件操作更简单，尤其navicat甚至可以很好的同步本地与服务器数据，但是鉴于我们处于总结目的，回顾或学习MySQL基本语法建议一定要会命令行操作，和Linux是一样的道理后续会介绍，当然后面也会介绍这些软件的部分使用</mark></p>\n<h2><a id=\"_21\"></a>查看当前已有数据库</h2>\n<p><code> show databases;</code><br/> 🍊个🌰：</p>\n<pre><code class=\"prism language-sql\"> <span class=\"token keyword\">show</span> <span class=\"token keyword\">databases</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><mark>注意加‘；’</mark><br/> <img alt=\"show databases\" src=\"..\\..\\static\\image\\8e9e81fb3eba459395496f6204322f19.png\"/></p>\n<h2><a id=\"_29\"></a>使用数据库</h2>\n<p><mark>当然这个操作是鉴于我们已经有数据库的基础上</mark><br/> <code>use ---</code><br/> 🍊个🌰：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">use</span> blog<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"use ---\" src=\"..\\..\\static\\image\\41a7652a6844408eb8bcb4391053fd32.png\"/></p>\n<h2><a id=\"_37\"></a>新建数据库</h2>\n<p>create database ***; ( 新建名为“***”的数据库;)<br/> create database if not exists ***character set utf8mb4; （如果 “***”库不存在就新建并且字符集设为<code>utf8mb4</code>;<br/> 🍊个🌰：<br/> 创建test数据库：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">database</span> test<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">create</span> <span class=\"token keyword\">database</span> <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> <span class=\"token keyword\">exists</span> test <span class=\"token keyword\">character</span> <span class=\"token keyword\">set</span> utf8mb4<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"新建库\" src=\"..\\..\\static\\image\\be217e7720384c9fbab76360136bd8e9.png\"/></p>\n<h2><a id=\"_47\"></a>删除库</h2>\n<p>DROP DATABASE [IF EXISTS] db_name;（[if EXISTS]可不写）<br/> <code>所以看出来了吧，MySQL不分大小写</code><br/> 🍊个🌰：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">DATABASE</span> test<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\6f5b387b159d445a8fdf5d91829d4731.png\"/></p>\n<h2><a id=\"_57\"></a>表操作</h2>\n<p><code>经历过保姆级教学的库操作，相信大家已经基本回顾的差不多了，众所周知表操作与库操作基本一致我们快速上手一下</code></p>\n<ol><li>使用某表：</li></ol>\n<blockquote>\n<p>use db_name;</p>\n</blockquote>\n<ol start=\"2\"><li>新建表：</li></ol>\n<blockquote>\n<p>create table db_name;</p>\n</blockquote>\n<p><code>创建一个数据库的表时需要在表里添加至少一个的属性</code><br/> <img alt=\"新建表\" src=\"..\\..\\static\\image\\36fddc9d575148ac8166c050225f8b71.png\"/><br/> 3、 查看表：</p>\n<blockquote>\n<p>查看库中所有表：show tables;<br/> 查看某一张表： desc table_name;</p>\n</blockquote>\n<p>4、删除表：</p>\n<blockquote>\n<p>删除某表 ：drop table table_name;<br/> 如果存在某表，则删除： drop table if exists table_name;</p>\n</blockquote>\n<p><img alt=\"表操作\" src=\"..\\..\\static\\image\\bdfcbe3ea3754c8185881580b72fb9ff.png\"/></p>\n<h2><a id=\"Mysql_77\"></a>Mysql数据类型</h2>\n<h3><a id=\"_78\"></a>字符串类型</h3>\n<p><code>我们在这里不再阐述基本数据类型</code><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a016d59479a94416b8aad0e4c561ec2f.png\"/></p>\n<h3><a id=\"_82\"></a>日期类型</h3>\n<table><thead><tr><th>数据类型</th><th>大小</th><th>说明</th><th>对应java类型</th></tr></thead><tbody><tr><td>DATETIME</td><td>8字节</td><td>范围从1000到9999年，不会进行时区的检索及转换。</td><td>java.util.Date、java.sql.Timestamp</td></tr><tr><td>TIMESTAMP</td><td>4字节</td><td>范围从1970到2038年，自动检索当前时区并进行转换。</td><td>java.util.Date、java.sql.Timestamp</td></tr></tbody></table>\n<h1><a id=\"_89\"></a>增删查改</h1>\n<p>我们将以举🌰的形式呈现<br/> 首先随便在一个库里面构建一个学生表：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token punctuation\">(</span> \nid <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nsn <span class=\"token keyword\">INT</span> <span class=\"token keyword\">comment</span> <span class=\"token string\">'学号'</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">comment</span> <span class=\"token string\">' 姓 名 '</span><span class=\"token punctuation\">,</span>\nqq_mail <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">comment</span> <span class=\"token string\">'QQ邮箱'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\83ef67d5f9114d99ba875c0edeb6d248.png\"/></p>\n<blockquote>\n<ol><li>增（insert）</li></ol>\n</blockquote>\n<p>增加两个学生：</p>\n<table><thead><tr><th>id</th><th>学号</th><th>姓名</th><th>QQ</th></tr></thead><tbody><tr><td>1</td><td>001</td><td>芋头</td><td></td></tr><tr><td>2</td><td>002</td><td>白糖</td><td></td></tr></tbody></table>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> student <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> sn<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> \n<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">001</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'芋头'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">002</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'白糖'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>添加一个：</p>\n<table><thead><tr><th>id</th><th>学号</th><th>姓名</th><th>QQ</th></tr></thead><tbody><tr><td>3</td><td>003</td><td>豆腐</td><td>3592526819</td></tr></tbody></table>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> student <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">003</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'豆腐'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'3592526819'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\5d74721d457a40ff91aa652c192fb250.png\"/></p>\n<blockquote>\n<ol start=\"2\"><li>查（Retrieve）</li></ol>\n</blockquote>\n<p>我们依然🍊个🌰：<br/> 先建一个成绩表并插入数据用来查询：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> exam_result<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> exam_result <span class=\"token punctuation\">(</span>\n id <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\n name <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n chinese <span class=\"token keyword\">DECIMAL</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n math <span class=\"token keyword\">DECIMAL</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n english <span class=\"token keyword\">DECIMAL</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> exam_result <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">,</span> chinese<span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'唐三藏'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">67</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'孙悟空'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">87.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">78</span><span class=\"token punctuation\">,</span> <span class=\"token number\">77</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token string\">'猪悟能'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">88</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">90</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token string\">'曹孟德'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">82</span><span class=\"token punctuation\">,</span> <span class=\"token number\">84</span><span class=\"token punctuation\">,</span> <span class=\"token number\">67</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token string\">'刘玄德'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">55.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">85</span><span class=\"token punctuation\">,</span> <span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token string\">'孙权'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70</span><span class=\"token punctuation\">,</span> <span class=\"token number\">73</span><span class=\"token punctuation\">,</span> <span class=\"token number\">78.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token string\">'白骨精'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n<ul><li>全列查询</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n</code></pre>\n<ul><li>指定列查询</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> english <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n</code></pre>\n<ul><li>查询字段为表达式</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 表达式不包含字段</span>\n<span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span> <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 表达式包含一个字段</span>\n<span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> english <span class=\"token operator\">+</span> <span class=\"token number\">10</span> <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 表达式包含多个字段</span>\n<span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> chinese <span class=\"token operator\">+</span> math <span class=\"token operator\">+</span> english <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\2c4ebe0bb91443dba036eb7f7d5ccfe4.png\"/></p>\n<ul><li>别名</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> chinese <span class=\"token operator\">+</span> math <span class=\"token operator\">+</span> english 总分 <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\33179584bd304c02bbe7bc6c9667cc44.png\"/></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\d0ab5f04f70448bb96654295b577db7e.png\"/></p>\n<ul><li>去重：DISTINCT</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">DISTINCT</span> math <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\fa2f50f835ef4cec9fbebaa3bbb3a91a.png\"/></p>\n<ul><li>排序：ORDER BY<br/> <code>ASC 为升序（从小到大）; DESC 为降序（从大到小）; 默认为 ASC</code></li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 查询同学及总分，由高到低</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> chinese <span class=\"token operator\">+</span> english <span class=\"token operator\">+</span> math <span class=\"token keyword\">FROM</span> exam_result \n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> chinese <span class=\"token operator\">+</span> english <span class=\"token operator\">+</span> math <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 查询同学各门成绩，依次按 数学降序，英语升序，语文升序的方式显示</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">,</span> chinese <span class=\"token keyword\">FROM</span> exam_result \n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> math <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">,</span> chinese<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\8694949fa45a4f71847f54a5b2b71d6d.png\"/></p>\n<ul><li>条件查询：WHERE</li></ul>\n<p><mark>比较运算符：</mark><br/> <img alt=\"\" src=\"..\\..\\static\\image\\89fdd875fd8c4f9d95d03831b54dcdde.png\"/><br/> <mark>辑运算符：</mark></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\4d2b52a16e4f458baf0bc47327e575f7.png\"/></p>\n<p><code>1.WHERE条件可以使用表达式，但不能使用别名。</code><br/> <code>2.AND的优先级高于OR，在同时使用时，需要使用小括号()包裹优先执行的部分</code></p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 查询英语不及格的同学及英语成绩 ( &lt; 60 )</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> english <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> english <span class=\"token operator\">&lt;</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 查询总分在 200 分以下的同学</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> chinese <span class=\"token operator\">+</span> math <span class=\"token operator\">+</span> english 总分 <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> chinese <span class=\"token operator\">+</span> math <span class=\"token operator\">+</span> english <span class=\"token operator\">&lt;</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 查询语文成绩大于80分，且英语成绩大于80分的同学</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> chinese <span class=\"token operator\">&gt;</span> <span class=\"token number\">80</span> <span class=\"token operator\">and</span> english <span class=\"token operator\">&gt;</span> <span class=\"token number\">80</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 查询语文成绩在 [80, 90] 分的同学及语文成绩</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> chinese <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> chinese <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">80</span> <span class=\"token operator\">AND</span> <span class=\"token number\">90</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 查询数学成绩是 58 或者 59 或者 98 或者 99 分的同学及数学成绩</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> math <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> math <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token number\">58</span><span class=\"token punctuation\">,</span> <span class=\"token number\">59</span><span class=\"token punctuation\">,</span> <span class=\"token number\">98</span><span class=\"token punctuation\">,</span> <span class=\"token number\">99</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 使用 OR 也可以实现</span>\n<span class=\"token keyword\">SELECT</span> name<span class=\"token punctuation\">,</span> math <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> math <span class=\"token operator\">=</span> <span class=\"token number\">58</span> <span class=\"token operator\">OR</span> math <span class=\"token operator\">=</span> <span class=\"token number\">59</span> <span class=\"token operator\">OR</span> math\n<span class=\"token comment\">-- % 匹配任意多个（包括 0 个）字符</span>\n<span class=\"token keyword\">SELECT</span> name <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">LIKE</span> <span class=\"token string\">'孙%'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">-- 匹配到孙悟空、孙权</span>\n<span class=\"token comment\">-- _ 匹配严格的一个任意字符</span>\n<span class=\"token keyword\">SELECT</span> name <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">LIKE</span> <span class=\"token string\">'孙_'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">-- 匹配到孙权</span>\n\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\ed690b1b68af4e959eaf6f7367096441.png\"/><br/> <img alt=\"\" src=\"..\\..\\static\\image\\56ea8734ed5a4de3840f3c85b4693648.png\"/></p>\n<ul><li>分页查询：LIMIT</li></ul>\n<p>按 id 进行分页，每页 3 条记录，分别显示 第 1、2、3 页</p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 第 1 页</span>\n<span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">,</span> chinese <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> id <span class=\"token keyword\">LIMIT</span> <span class=\"token number\">3</span> <span class=\"token keyword\">OFFSET</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 第 2 页</span>\n<span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">,</span> chinese <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> id <span class=\"token keyword\">LIMIT</span> <span class=\"token number\">3</span> <span class=\"token keyword\">OFFSET</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 第 3 页，如果结果不足 3 个，不会有影响</span>\n<span class=\"token keyword\">SELECT</span> id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> math<span class=\"token punctuation\">,</span> english<span class=\"token punctuation\">,</span> chinese <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> id <span class=\"token keyword\">LIMIT</span> <span class=\"token number\">3</span> <span class=\"token keyword\">OFFSET</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\66f0cd495a8646cab308a7f0fb9cb15d.png\"/></p>\n<blockquote>\n<p>3.修改（Update）<br/> <code>大家看一下应该就会语法了</code></p>\n</blockquote>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 将孙悟空同学的数学成绩变更为 80 分</span>\n<span class=\"token keyword\">UPDATE</span> exam_result <span class=\"token keyword\">SET</span> math <span class=\"token operator\">=</span> <span class=\"token number\">80</span> <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'孙悟空'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 将曹孟德同学的数学成绩变更为 60 分，语文成绩变更为 70 分</span>\n<span class=\"token keyword\">UPDATE</span> exam_result <span class=\"token keyword\">SET</span> math <span class=\"token operator\">=</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> chinese <span class=\"token operator\">=</span> <span class=\"token number\">70</span> <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">=</span> <span class=\"token string\">'曹孟德'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 将总成绩倒数前三的 3 位同学的数学成绩加上 30 分</span>\n<span class=\"token keyword\">UPDATE</span> exam_result <span class=\"token keyword\">SET</span> math <span class=\"token operator\">=</span> math <span class=\"token operator\">+</span> <span class=\"token number\">30</span> <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> chinese <span class=\"token operator\">+</span> math <span class=\"token operator\">+</span> english <span class=\"token keyword\">LIMIT</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 将所有同学的语文成绩更新为原来的 2 倍</span>\n<span class=\"token keyword\">UPDATE</span> exam_result <span class=\"token keyword\">SET</span> chinese <span class=\"token operator\">=</span> chinese <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<blockquote>\n<p>4.删除（Delete）</p>\n</blockquote>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"孙悟空\"</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<hr/>\n<p>截止目前数据库MySQL基础我们已经掌握的7788了，增删改查也基本了解下面来看一些进阶操作。</p>\n<h1><a id=\"_269\"></a>数据库约束</h1>\n<h2><a id=\"_270\"></a>约束类型</h2>\n<blockquote>\n<ul><li>NOT NULL : 指示某列不能存储 NULL 值。</li><li>UNIQUE : 保证某列的每行必须有唯一的值。</li><li>DEFAULT : 规定没有给列赋值时的默认值。</li><li>PRIMARY KEY : NOT NULL 和 UNIQUE 的结合。确保某列（或两个列多个列的结合）有唯一标识，有助于更容易更快速地找到表中的一个特定的记录。</li><li>FOREIGN KEY : 保证一个表中的数据匹配另一个表中的值的参照完整性。</li><li>CHECK : 保证列中的值符合指定的条件。对于MySQL数据库，对CHECK子句进行分析，但是忽略CHECK子句。</li></ul>\n</blockquote>\n<p>🍊个🌰：</p>\n<pre><code class=\"prism language-sql\">\n<span class=\"token comment\">-- 创建班级表，有使用MySQL关键字作为字段时，需要使用``来标识</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> classes<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> classes <span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span> \nname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token identifier\"><span class=\"token punctuation\">`</span>desc<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\nsn <span class=\"token keyword\">INT</span> <span class=\"token keyword\">UNIQUE</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'unkown'</span><span class=\"token punctuation\">,</span>\nqq_mail <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nclasses_id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>classes_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> classes<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><mark>外键用于关联其他表的主键或唯一键</mark></p>\n<h2><a id=\"_304\"></a>表的关系</h2>\n<blockquote>\n<ul><li>一对多：最常用的关系，如部门和员工</li><li>多对多：学生选课表和学生表，一门课程可以有多个学生选择，一个学生选择多门课程</li><li>一对一：相对使用比较少，员工表，公民表，护照表</li></ul>\n</blockquote>\n<h1><a id=\"_310\"></a>高级查询</h1>\n<h2><a id=\"_312\"></a>聚合查询</h2>\n<p>聚合函数:</p>\n<table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>COUNT([DISTINCT] expr)</td><td>返回查询到的数据的 数量</td></tr><tr><td>SUM([DISTINCT] expr)</td><td>返回查询到的数据的 总和，不是数字没有意义</td></tr><tr><td>AVG([DISTINCT] expr)</td><td>返回查询到的数据的 平均值，不是数字没有意义</td></tr><tr><td>MAX([DISTINCT] expr)</td><td>返回查询到的数据的 最大值，不是数字没有意义</td></tr><tr><td>MIN([DISTINCT] expr)</td><td>返回查询到的数据的 最小值，不是数字没有意义</td></tr></tbody></table>\n<p>🍊个🌰：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 统计数学成绩总分</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 统计平均总分</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>chinese <span class=\"token operator\">+</span> math <span class=\"token operator\">+</span> english<span class=\"token punctuation\">)</span> 平均总分 <span class=\"token keyword\">FROM</span> exam_result<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 返回 &gt; 70 分以上的数学最低分</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token function\">MIN</span><span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> exam_result <span class=\"token keyword\">WHERE</span> math <span class=\"token operator\">&gt;</span> <span class=\"token number\">70</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\89bae4fdff714028a9ec43decb052df3.png\"/></p>\n<h2><a id=\"GROUP_BY_334\"></a>GROUP BY子句</h2>\n<p><code>SELECT 中使用 GROUP BY 子句可以对指定列进行分组查询。需要满足：使用 GROUP BY 进行分组查询时，SELECT 指定的字段必须是“分组依据字段”，其他字段若想出现在SELECT 中则必须包含在聚合函数中。</code><br/> 🍊个🌰：</p>\n<p>准备测试表及数据：职员表，有id（主键）、name（姓名）、role（角色）、salary（薪水）</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> emp<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span>\nrole <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span> \nsalary <span class=\"token keyword\">numeric</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> emp<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> role<span class=\"token punctuation\">,</span> salary<span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span> \n<span class=\"token punctuation\">(</span><span class=\"token string\">'马云'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'服务员'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000.20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'马化腾'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'游戏陪玩'</span><span class=\"token punctuation\">,</span><span class=\"token number\">2000.99</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'孙悟空'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'游戏角色'</span><span class=\"token punctuation\">,</span><span class=\"token number\">999.11</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'猪无能'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'游戏角色'</span><span class=\"token punctuation\">,</span><span class=\"token number\">333.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'沙和尚'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'游戏角色'</span><span class=\"token punctuation\">,</span><span class=\"token number\">700.33</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'隔壁老王'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'董事长'</span><span class=\"token punctuation\">,</span><span class=\"token number\">12000.66</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><code> NUMERIC数据类型是一种精确数字数据类型，其精度在算术运算后保留到最小有效位，numeric是标准sql的数据类型，格式是numeric(m，n）。</code><br/> numeric(a，b)函数有两个参数，前面一个为总的位数，后面一个参数是小数点后的位数，例如numeric（5，2）是总位数为5，小数点后为2位的数，也就是说这个字段的整数位最大是3位。</p>\n<p>🌰：查询每个角色的最高工资、最低工资和平均工资</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> role<span class=\"token punctuation\">,</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> emp <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> role<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\b4aaf0617f04438d9c294f4b8b3ff2d7.png\"/></p>\n<h2><a id=\"HAVING_367\"></a>HAVING字句</h2>\n<p>GROUP BY 子句进行分组以后，需要对分组结果再进行条件过滤时，不能使用 WHERE 语句，而需要用HAVING<br/> 🌰：显示平均工资低于1500的角色和它的平均工资</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> role<span class=\"token punctuation\">,</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span> \n<span class=\"token keyword\">from</span> emp <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> role <span class=\"token keyword\">having</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span><span class=\"token number\">1500</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"_376\"></a>联合查询</h2>\n<p>实际开发中往往数据来自不同的表，所以需要多表联合查询。多表查询是对多张表的数据取笛卡尔积：<br/> <code>二话不多说来看一张图：</code><br/> <img alt=\"\" src=\"..\\..\\static\\image\\796bbfaa170948bfab628e8699f7b869.png\"/><br/> <code>关联查询可以对关联表使用别名</code></p>\n<p>🍊个🌰：</p>\n<pre><code class=\"prism language-sql\">\n<span class=\"token comment\">-- 创建班级表，有使用MySQL关键字作为字段时，需要使用``来标识</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> classes<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> classes <span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span> name <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token identifier\"><span class=\"token punctuation\">`</span>desc<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 重新设置学生表结构</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> student<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span> sn <span class=\"token keyword\">INT</span> <span class=\"token keyword\">UNIQUE</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'unkown'</span><span class=\"token punctuation\">,</span> qq_mail <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nclasses_id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>classes_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> classes<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 创建课程表</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> course<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> course <span class=\"token punctuation\">(</span>\n    id <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span> \n    name <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 创建课程学生中间表：考试成绩表</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> score<span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> score <span class=\"token punctuation\">(</span>\n     id <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\n     score <span class=\"token keyword\">DECIMAL</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n     student_id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span> \n     course_id <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n     <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>student_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> student<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n     <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>course_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> course<span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> classes<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token identifier\"><span class=\"token punctuation\">`</span>desc<span class=\"token punctuation\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'计算机系2019级1班'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'学习了计算机原理、C和Java语言、数据结构和算法'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'中文系2019级3班'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'学习了中国传统文学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'自动化2019级5班'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'学习了机械自动化'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> student<span class=\"token punctuation\">(</span>sn<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> qq_mail<span class=\"token punctuation\">,</span> classes_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'09982'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'黑旋风李逵'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'xuanfeng@qq.com'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'00835'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'菩提老祖'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'00391'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'白素贞'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'00031'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'许仙'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'xuxian@qq.com'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'00054'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'不想毕业'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'51234'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'好好说话'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'say@qq.com'</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'83223'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'tellme'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'09527'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'老外学中文'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'foreigner@qq.com'</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> course<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'Java'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'中国传统文化'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'计算机原理'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'语文'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'高阶数学'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> score<span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">,</span> student_id<span class=\"token punctuation\">,</span> course_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span>\n<span class=\"token comment\">-- 黑旋风李逵</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">70.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">98.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">98</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">-- 菩提老祖</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">59.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">-- 白素贞</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">68</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">99</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">-- 许仙</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">67</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">56</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">72</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">-- 不想毕业</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">37</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">-- 好好说话</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">56</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">43</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">79</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">-- tellme</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">92</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n<p>先把上面这些个表构建好然后一一🍊🌰：</p>\n<h3><a id=\"_453\"></a>内连接</h3>\n<p>语法：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> 字段 <span class=\"token keyword\">from</span> 表<span class=\"token number\">1</span> 别名<span class=\"token number\">1</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">inner</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">join</span> 表<span class=\"token number\">2</span> 别名<span class=\"token number\">2</span> <span class=\"token keyword\">on</span> 连接条件 <span class=\"token operator\">and</span> 其他条件<span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">select</span> 字段 <span class=\"token keyword\">from</span> 表<span class=\"token number\">1</span> 别名<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>表<span class=\"token number\">2</span> 别名<span class=\"token number\">2</span> <span class=\"token keyword\">where</span> 连接条件 <span class=\"token operator\">and</span> 其他条件<span class=\"token punctuation\">;</span>\n</code></pre>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 学生表、成绩表、课程表3张表关联查询</span>\n<span class=\"token keyword\">SELECT</span>\nstu<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> stu<span class=\"token punctuation\">.</span>sn<span class=\"token punctuation\">,</span> stu<span class=\"token punctuation\">.</span>NAME<span class=\"token punctuation\">,</span> stu<span class=\"token punctuation\">.</span>qq_mail<span class=\"token punctuation\">,</span> sco<span class=\"token punctuation\">.</span>score<span class=\"token punctuation\">,</span> sco<span class=\"token punctuation\">.</span>course_id<span class=\"token punctuation\">,</span> cou<span class=\"token punctuation\">.</span>NAME\n<span class=\"token keyword\">FROM</span> student stu\n<span class=\"token keyword\">JOIN</span> score sco <span class=\"token keyword\">ON</span> stu<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> sco<span class=\"token punctuation\">.</span>student_id \n<span class=\"token keyword\">JOIN</span> course cou <span class=\"token keyword\">ON</span> sco<span class=\"token punctuation\">.</span>course_id <span class=\"token operator\">=</span> cou<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> stu<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\b6692114b3fc4647892b50df5dbc4d62.png\"/></p>\n<h3><a id=\"_472\"></a>外连接</h3>\n<p><code>外连接分为左外连接和右外连接。如果联合查询，左侧的表完全显示我们就说是左外连接；右侧的表完 全显示我们就说是右外连接。</code></p>\n<p>语法：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 左外连接，表1完全显示</span>\n<span class=\"token keyword\">select</span> 字段名 <span class=\"token keyword\">from</span> 表名<span class=\"token number\">1</span> <span class=\"token keyword\">left</span> <span class=\"token keyword\">join</span> 表名<span class=\"token number\">2</span> <span class=\"token keyword\">on</span> 连接条件<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 右外连接，表2完全显示</span>\n<span class=\"token keyword\">select</span> 字段 <span class=\"token keyword\">from</span> 表名<span class=\"token number\">1</span> <span class=\"token keyword\">right</span> <span class=\"token keyword\">join</span> 表名<span class=\"token number\">2</span> <span class=\"token keyword\">on</span> 连接条件<span class=\"token punctuation\">;</span>\n</code></pre>\n<p>🌰：查询所有同学的成绩，及同学的个人信息，如果该同学没有成绩，也需要显示</p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- “老外学中文”同学 没有考试成绩，也显示出来了</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> student stu <span class=\"token keyword\">left</span> <span class=\"token keyword\">join</span> score sco <span class=\"token keyword\">on</span> stu<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span>sco<span class=\"token punctuation\">.</span>student_id<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 对应的右外连接为：</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> score sco <span class=\"token keyword\">right</span> <span class=\"token keyword\">join</span> student stu <span class=\"token keyword\">on</span> stu<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span>sco<span class=\"token punctuation\">.</span>student_id<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 学生表、成绩表、课程表3张表关联查询</span>\n<span class=\"token keyword\">SELECT</span>\nstu<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> stu<span class=\"token punctuation\">.</span>sn<span class=\"token punctuation\">,</span> stu<span class=\"token punctuation\">.</span>NAME<span class=\"token punctuation\">,</span> stu<span class=\"token punctuation\">.</span>qq_mail<span class=\"token punctuation\">,</span> sco<span class=\"token punctuation\">.</span>score<span class=\"token punctuation\">,</span> sco<span class=\"token punctuation\">.</span>course_id<span class=\"token punctuation\">,</span> cou<span class=\"token punctuation\">.</span>NAME <span class=\"token keyword\">FROM</span> student stu \n<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> score sco <span class=\"token keyword\">ON</span> stu<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> sco<span class=\"token punctuation\">.</span>student_id \n<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> course cou <span class=\"token keyword\">ON</span> sco<span class=\"token punctuation\">.</span>course_id <span class=\"token operator\">=</span> cou<span class=\"token punctuation\">.</span>id\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> stu<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\f76272733c8c4c36a96298517637ee4a.png\"/></p>\n<h3><a id=\"_503\"></a>自连接</h3>\n<p><code>自连接是指在同一张表连接自身进行查询。</code><br/> 🌰：显示所有“计算机原理”成绩比“Java”成绩高的成绩信息</p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 先查询“计算机原理”和“Java”课程的id</span>\n<span class=\"token keyword\">select</span> id<span class=\"token punctuation\">,</span>name <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> name<span class=\"token operator\">=</span><span class=\"token string\">'Java'</span> <span class=\"token operator\">or</span> name<span class=\"token operator\">=</span><span class=\"token string\">'计算机原理'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 再查询成绩表中，“计算机原理”成绩比“Java”成绩 好的信息</span>\n<span class=\"token keyword\">SELECT</span> s1<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> score s1 <span class=\"token punctuation\">,</span> score s2 <span class=\"token keyword\">WHERE</span> \ns1<span class=\"token punctuation\">.</span>student_id <span class=\"token operator\">=</span> s2<span class=\"token punctuation\">.</span>student_id\n<span class=\"token operator\">AND</span> s1<span class=\"token punctuation\">.</span>score <span class=\"token operator\">&lt;</span> s2<span class=\"token punctuation\">.</span>score <span class=\"token operator\">AND</span> s1<span class=\"token punctuation\">.</span>course_id <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> s2<span class=\"token punctuation\">.</span>course_id <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 也可以使用join on 语句来进行自连接查询</span>\n<span class=\"token keyword\">SELECT</span> s1<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> score s1\n<span class=\"token keyword\">JOIN</span> score s2 <span class=\"token keyword\">ON</span> s1<span class=\"token punctuation\">.</span>student_id <span class=\"token operator\">=</span> s2<span class=\"token punctuation\">.</span>student_id \n<span class=\"token operator\">AND</span> s1<span class=\"token punctuation\">.</span>course_id <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> s2<span class=\"token punctuation\">.</span>course_id <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\8dda1e01d5504cb3bf7f7ccce8430f3f.png\"/></p>\n<h3><a id=\"_524\"></a>合并查询</h3>\n<p>在实际应用中，为了合并多个select的执行结果，可以使用集合操作符 union，union all。使用UNION和UNION ALL时，前后查询的结果集中，字段需要一致。<br/> <code>union:该操作符用于取得两个结果集的并集。当使用该操作符时，会自动去掉结果集中的重复行。</code><br/> 🍊个🌰：查询id小于3，或者名字为“英文”的课程：</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> id<span class=\"token operator\">&lt;</span><span class=\"token number\">3</span> <span class=\"token keyword\">union</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> name<span class=\"token operator\">=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 或者使用or来实现</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> id<span class=\"token operator\">&lt;</span><span class=\"token number\">3</span> <span class=\"token operator\">or</span> name<span class=\"token operator\">=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><code>union all: 该操作符用于取得两个结果集的并集。当使用该操作符时，不会去掉结果集中的重复行。 </code></p>\n<p>🍊个🌰：查询id小于3，或者名字为“Java”的课程</p>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 结果集中出现重复数据</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> id<span class=\"token operator\">&lt;</span><span class=\"token number\">3</span> <span class=\"token keyword\">union</span> <span class=\"token keyword\">all</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> name<span class=\"token operator\">=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\65114e5dedcd4bafa7f160cd9b8d32d7.png\"/></p>\n<h3><a id=\"_547\"></a>子查询</h3>\n<p>子查询是指嵌入在其他sql语句中的select语句，也叫嵌套查询</p>\n<ul><li>单行子查询：返回一行记录的子查询<br/> 🍊个🌰：查询与“不想毕业” 同学的同班同学</li></ul>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> student <span class=\"token keyword\">where</span> classes_id<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> classes_id <span class=\"token keyword\">from</span> student <span class=\"token keyword\">where</span> name<span class=\"token operator\">=</span><span class=\"token string\">'不想毕业'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<ul><li>多行子查询：返回多行记录的子查询</li></ul>\n<p>🍊个🌰：查询“语文”或“英文”课程的成绩信息</p>\n<ol><li>[NOT] IN关键字：</li></ol>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 使用IN</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> score <span class=\"token keyword\">where</span> course_id <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> id <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> name<span class=\"token operator\">=</span><span class=\"token string\">'语文'</span> <span class=\"token operator\">or</span> name<span class=\"token operator\">=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 使用 NOT IN</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> score <span class=\"token keyword\">where</span> course_id <span class=\"token operator\">not</span> <span class=\"token operator\">in</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> id <span class=\"token keyword\">from</span> course <span class=\"token keyword\">where</span> name<span class=\"token operator\">!=</span><span class=\"token string\">'语文'</span> <span class=\"token operator\">and</span> name<span class=\"token operator\">!=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\f0352bc861414c9d9c27ec9a8632c840.png\"/></p>\n<ol start=\"2\"><li>[NOT] EXISTS关键字：</li></ol>\n<pre><code class=\"prism language-sql\"><span class=\"token comment\">-- 使用 EXISTS</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> score sco <span class=\"token keyword\">where</span> <span class=\"token keyword\">exists</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> sco<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">from</span> course cou <span class=\"token keyword\">where</span> <span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'语文'</span> <span class=\"token operator\">or</span> name<span class=\"token operator\">=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">and</span> cou<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> sco<span class=\"token punctuation\">.</span>course_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 使用 NOT EXISTS</span>\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> score sco <span class=\"token keyword\">where</span> <span class=\"token operator\">not</span> <span class=\"token keyword\">exists</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> sco<span class=\"token punctuation\">.</span>id <span class=\"token keyword\">from</span> course cou <span class=\"token keyword\">where</span> <span class=\"token punctuation\">(</span>name<span class=\"token operator\">!=</span><span class=\"token string\">'语文'</span> <span class=\"token operator\">and</span> name<span class=\"token operator\">!=</span><span class=\"token string\">'英文'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">and</span> cou<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> sco<span class=\"token punctuation\">.</span>course_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\d4f2e49f0e724976938b97007d03428a.png\"/></p>\n<p>截止目前MySQL数据库我们基本操作及语法我们已经看完了，后面将持续更新其他内容敬请期待</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 1, "php": 0, "time": "2022-08-30 20:50:53", "summary": "这里就不讲安装了后面闲了有机会的话会出各种软件的安装教程，安装简易哔哩哔哩跟着视频来，建议版本后数据库基础终端操作：、安装完成后打开设置、点击开启服务、保证服务开启在保证服务开启、打开终端输入如下指令"}