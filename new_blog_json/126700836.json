{"blogid": "126700836", "writerAge": "ç é¾„8å¹´", "writerBlogNum": "149", "writerCollect": "307", "writerComment": "128", "writerFan": "4007", "writerGrade": "5çº§", "writerIntegral": "2378", "writerName": "ç‰™è†ä¸Šçš„å°è‹æ‰“2333", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126700836.jpg", "writerRankTotal": "7994", "writerRankWeekly": "3099", "writerThumb": "91", "writerVisitNum": "146091", "blog_read_count": "72", "blog_time": "å·²äºÂ 2022-09-06 15:19:29Â ä¿®æ”¹", "blog_title": "Unity UI Toolkitå­¦ä¹ ç¬”è®°-C# ä¸­åˆ›å»ºè‡ªå®šä¹‰ui", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>ğŸ”®åœ¨C# ä¸­åˆ›å»ºè‡ªå®šä¹‰ui</h3>\n<ul><li><a href=\"#VisualElement_4\">ğŸ¥¡ç»§æ‰¿VisualElement</a></li><li><a href=\"#UxmlFactory_UI_18\">ğŸŒ®å®šä¹‰UxmlFactory æš´éœ²UI</a></li><li><a href=\"#_35\">ğŸ¥ å‘½åç©ºé—´ç»„ç»‡ç»“æ„</a></li><li><a href=\"#__53\">ğŸ¥ æ·»åŠ è‡ªå®šä¹‰å±æ€§</a></li><li><a href=\"#_102\">ğŸš¨æ³¨æ„</a></li></ul>\n</div>\n<p></p>\n<p><a href=\"https://docs.unity.cn/2021.3/Documentation/Manual/UIB-structuring-ui-custom-elements.html\">å‚è€ƒ1</a><br/> <a href=\"https://docs.unity.cn/2021.3/Documentation/Manual/UIE-UXML.html\">å‚è€ƒ2</a></p>\n<h1><a id=\"VisualElement_4\"></a>ğŸ¥¡ç»§æ‰¿VisualElement</h1>\n<p>æ‰€æœ‰ui å…ƒç´ éƒ½éœ€è¦ç»§æ‰¿è‡ª<code>VisualElement</code></p>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine<span class=\"token punctuation\">.</span>UIElements</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyElement</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">VisualElement</span></span>\n<span class=\"token punctuation\">{<!-- --></span>\n    \n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h1><a id=\"UxmlFactory_UI_18\"></a>ğŸŒ®å®šä¹‰UxmlFactory æš´éœ²UI</h1>\n<p>ä¸ºäº†æš´éœ²è‡ªå®šä¹‰çš„ui å…ƒç´  éœ€è¦å®šä¹‰<code>UxmlFactory</code></p>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine<span class=\"token punctuation\">.</span>UIElements</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyElement</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">VisualElement</span></span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UxmlFactory</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">UxmlFactory<span class=\"token punctuation\">&lt;</span>MyElement<span class=\"token punctuation\">,</span>UxmlTraits<span class=\"token punctuation\">&gt;</span></span></span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<p>æ·»åŠ å¥½åå°±å¯ä»¥åœ¨<code>UIBuilder &gt; Library &gt; Project &gt;Custom Controlsï¼ˆC#ï¼‰</code>ä¸­çœ‹åˆ°è‡ªå·±å®šä¹‰çš„uiå…ƒç´ äº†<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\62c1287b78e748eca461e1cd09e0efb4.png\"/></p>\n<h1><a id=\"_35\"></a>ğŸ¥ å‘½åç©ºé—´ç»„ç»‡ç»“æ„</h1>\n<p>å¯ä»¥é€šè¿‡å‘½åç©ºé—´æ¥ç»„ç»‡uiç»“æ„<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\d78bedd1d4fd46c495d20b142a44ac4e.png\"/></p>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine<span class=\"token punctuation\">.</span>UIElements</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">ZYF<span class=\"token punctuation\">.</span>UIEle</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyElement</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">VisualElement</span></span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UxmlFactory</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">UxmlFactory<span class=\"token punctuation\">&lt;</span>MyElement<span class=\"token punctuation\">,</span> UxmlTraits<span class=\"token punctuation\">&gt;</span></span></span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h1><a id=\"__53\"></a>ğŸ¥ æ·»åŠ è‡ªå®šä¹‰å±æ€§</h1>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\54edf475284340b0a14e5587d29f5386.png\"/></p>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine<span class=\"token punctuation\">.</span>UIElements</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">ZYF<span class=\"token punctuation\">.</span>UIEle</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyElement</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">VisualElement</span></span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UxmlFactory</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">UxmlFactory<span class=\"token punctuation\">&lt;</span>MyElement<span class=\"token punctuation\">,</span> UxmlTraits<span class=\"token punctuation\">&gt;</span></span></span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UxmlTraits</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">VisualElement<span class=\"token punctuation\">.</span>UxmlTraits</span></span> <span class=\"token punctuation\">{<!-- --></span>\n\n            <span class=\"token class-name\">UxmlStringAttributeDescription</span> m_Str <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">UxmlStringAttributeDescription</span> <span class=\"token punctuation\">{<!-- --></span> \n                name <span class=\"token operator\">=</span> <span class=\"token string\">\"string-attr\"</span><span class=\"token punctuation\">,</span>\n                defaultValue <span class=\"token operator\">=</span> <span class=\"token string\">\"strå±æ€§\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">UxmlIntAttributeDescription</span> m_Int <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">UxmlIntAttributeDescription</span> <span class=\"token punctuation\">{<!-- --></span>\n                name <span class=\"token operator\">=</span><span class=\"token string\">\"int-attr\"</span><span class=\"token punctuation\">,</span>\n                defaultValue<span class=\"token operator\">=</span><span class=\"token number\">2</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\">IEnumerable<span class=\"token punctuation\">&lt;</span>UxmlChildElementDescription<span class=\"token punctuation\">&gt;</span></span> uxmlChildElementsDescription\n            <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token keyword\">get</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token keyword\">yield</span> <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Init</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">VisualElement</span> ve<span class=\"token punctuation\">,</span> <span class=\"token class-name\">IUxmlAttributes</span> bag<span class=\"token punctuation\">,</span> <span class=\"token class-name\">CreationContext</span> cc<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token keyword\">base</span><span class=\"token punctuation\">.</span><span class=\"token function\">Init</span><span class=\"token punctuation\">(</span>ve<span class=\"token punctuation\">,</span> bag<span class=\"token punctuation\">,</span> cc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> ate <span class=\"token operator\">=</span> ve <span class=\"token keyword\">as</span> <span class=\"token class-name\">MyElement</span><span class=\"token punctuation\">;</span>\n\n                ate<span class=\"token punctuation\">.</span>stringAttr <span class=\"token operator\">=</span> m_Str<span class=\"token punctuation\">.</span><span class=\"token function\">GetValueFromBag</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">bag</span><span class=\"token punctuation\">:</span>bag<span class=\"token punctuation\">,</span><span class=\"token named-parameter punctuation\">cc</span><span class=\"token punctuation\">:</span>cc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                ate<span class=\"token punctuation\">.</span>intAttr <span class=\"token operator\">=</span> m_Int<span class=\"token punctuation\">.</span><span class=\"token function\">GetValueFromBag</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">bag</span><span class=\"token punctuation\">:</span>bag<span class=\"token punctuation\">,</span><span class=\"token named-parameter punctuation\">cc</span><span class=\"token punctuation\">:</span>cc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> stringAttr <span class=\"token punctuation\">{<!-- --></span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> intAttr <span class=\"token punctuation\">{<!-- --></span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<p><mark>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</mark> C# å±æ€§åå­—è¦æ ¹æ®<code>Uxml*AttributeDescription</code>ä¸­çš„name æ¥è®¾ç½®ï¼Œé¦–å…ˆå»æ‰ç ´æŠ˜å·ï¼Œç„¶åæŒ‰é©¼å³°å‘½åæ³•æŠŠå®ƒä»¬ç»„åˆä¸€èµ·ï¼›<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\cbdfcd0b731c4d16ba86c32238752d5d.png\"/></p>\n<h1><a id=\"_102\"></a>ğŸš¨æ³¨æ„</h1>\n<p>å½“å‰çš„UIBuilder ä¸æ”¯æŒè‡ªå®šä¹‰uiå…ƒç´ çš„è‡ªå®šä¹‰Inspector</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "C#", "cpp": 0, "csharp": 1, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-06 15:19:29", "summary": "åœ¨ä¸­åˆ›å»ºè‡ªå®šä¹‰ç»§æ‰¿å®šä¹‰æš´éœ²å‘½åç©ºé—´ç»„ç»‡ç»“æ„æ·»åŠ è‡ªå®šä¹‰å±æ€§æ³¨æ„å‚è€ƒå‚è€ƒç»§æ‰¿æ‰€æœ‰å…ƒç´ éƒ½éœ€è¦ç»§æ‰¿è‡ªå®šä¹‰æš´éœ²ä¸ºäº†æš´éœ²è‡ªå®šä¹‰çš„å…ƒç´ éœ€è¦å®šä¹‰æ·»åŠ å¥½åå°±å¯ä»¥åœ¨ä¸­çœ‹åˆ°è‡ªå·±å®šä¹‰çš„å…ƒç´ äº†åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°å‘½åç©ºé—´ç»„ç»‡ç»“æ„"}