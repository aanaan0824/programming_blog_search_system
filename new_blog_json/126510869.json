{"blogid": "126510869", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "45", "writerCollect": "2174", "writerComment": "2261", "writerFan": "3908", "writerGrade": "6çº§", "writerIntegral": "6005", "writerName": "æ‡’ç¾Šç¾Š.java", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126510869.jpg", "writerRankTotal": "3004", "writerRankWeekly": "190", "writerThumb": "2069", "writerVisitNum": "45817", "blog_read_count": "929", "blog_time": "å·²äºÂ 2022-08-25 20:16:57Â ä¿®æ”¹", "blog_title": "SSMæ•´åˆè¿‡ç¨‹æ¢³ç†", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_1\">å‰è¨€</a></li><li><ul><li><a href=\"#SSM_6\">ä¸€.SSMæ•´åˆæµç¨‹</a></li><li><a href=\"#_44\">äºŒ.æ•´åˆé…ç½®</a></li><li><ul><li><a href=\"#21_45\">2.1æ·»åŠ ä¾èµ–</a></li><li><a href=\"#22_49\">2.2åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„</a></li><li><a href=\"#23SpringConfig_58\">2.3åˆ›å»ºSpringConfigé…ç½®ç±»</a></li><li><a href=\"#24JdbcConfig_60\">2.4åˆ›å»ºJdbcConfigé…ç½®ç±»</a></li><li><a href=\"#25MybatisConfig_62\">2.5åˆ›å»ºMybatisConfigé…ç½®ç±»</a></li><li><a href=\"#26jdbcproperties_64\">2.6åˆ›å»ºjdbc.properties</a></li><li><a href=\"#27SpringMVC_66\">2.7åˆ›å»ºSpringMVCé…ç½®ç±»</a></li><li><a href=\"#28Web_68\">2.8åˆ›å»ºWebé¡¹ç›®å…¥å£é…ç½®ç±»</a></li></ul>\n</li><li><a href=\"#_70\">ä¸‰.åŠŸèƒ½æ¨¡å—</a></li><li><ul><li><a href=\"#31_71\">3.1åˆ›å»ºæ¨¡å‹ç±»</a></li><li><a href=\"#32Dao_82\">3.2ç¼–å†™Daoæ¥å£</a></li><li><a href=\"#33Service_105\">3.3ç¼–å†™Serviceæ¥å£å’Œå®ç°ç±»</a></li><li><a href=\"#34Contorller_130\">3.4ç¼–å†™Contorllerç±»</a></li></ul>\n</li><li><a href=\"#_165\">å››.å•å…ƒæµ‹è¯•</a></li><li><ul><li><a href=\"#41_166\">4.1æ–°å»ºæµ‹è¯•ç±»</a></li><li><a href=\"#42Service_176\">4.2æ³¨å…¥Serviceç±»</a></li><li><a href=\"#43_187\">4.3ç¼–å†™æµ‹è¯•æ–¹æ³•</a></li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<h1><a id=\"_1\"></a>å‰è¨€</h1>\n<p>æ¡†æ¶ç”¨çš„å¥½æ•ˆç‡è‡ªç„¶é«˜ï¼</p>\n<blockquote>\n<p>ğŸ³ï¸â€ğŸŒˆç»™å¤§å®¶æ¨èä¸€ä¸ª<font color=\"green\"><strong>Javaé¢è¯•åˆ·é¢˜ç½‘ç«™ç‰›å®¢ç½‘</strong></font>ï¼Œæ‡’ç¾Šç¾Šç¥ä½ æ—©æ—¥æˆç¥ï¼š<a href=\"https://www.nowcoder.com/link/pc_csdncpt_lyy_java\">Javaåˆ·é¢˜é¢è¯•å®è—ç½‘ç«™</a></p>\n</blockquote>\n<h2><a id=\"SSM_6\"></a>ä¸€.SSMæ•´åˆæµç¨‹</h2>\n<p><strong>1.åˆ›å»ºå·¥ç¨‹</strong></p>\n<ul><li>åˆ›å»ºä¸€ä¸ªMavençš„webå·¥ç¨‹</li><li>pom.xmlæ·»åŠ SSMéœ€è¦çš„ä¾èµ–jaråŒ…</li><li>ç¼–å†™Webé¡¹ç›®çš„å…¥å£é…ç½®ç±»ï¼Œå®ç°<code>AbstractAnnotationConfigDispatcherServletInitializer</code>é‡å†™ä»¥ä¸‹æ–¹æ³• \n  <ul><li>getRootConfigClasses() ï¼šè¿”å›Springçš„é…ç½®ç±»-&gt;éœ€è¦<mark>SpringConfig</mark>é…ç½®ç±»</li><li>getServletConfigClasses() ï¼šè¿”å›SpringMVCçš„é…ç½®ç±»-&gt;éœ€è¦<mark>SpringMvcConfig</mark>é…ç½®ç±»</li><li>getServletMappings() : è®¾ç½®SpringMVCè¯·æ±‚æ‹¦æˆªè·¯å¾„è§„åˆ™</li><li>getServletFilters() ï¼šè®¾ç½®è¿‡æ»¤å™¨ï¼Œè§£å†³POSTè¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜</li></ul> </li></ul>\n<p><strong>2.SSMæ•´åˆ</strong><br/> <strong>Spring</strong></p>\n<table><thead><tr><th>SpringConfig</th><th>Springé…ç½®ç±»</th></tr></thead><tbody><tr><td>æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»</td><td><strong>@Configuration</strong></td></tr><tr><td>æ‰«æServiceæ‰€åœ¨çš„åŒ…</td><td><strong>@ComponentScan</strong></td></tr><tr><td>åœ¨Serviceå±‚è¦ç®¡ç†äº‹åŠ¡</td><td><strong>@EnableTransactionManagement</strong></td></tr><tr><td>è¯»å–å¤–éƒ¨çš„propertiesé…ç½®æ–‡ä»¶</td><td><strong>@PropertySource</strong></td></tr><tr><td>æ•´åˆMybatiséœ€è¦å¼•å…¥Mybatisç›¸å…³é…ç½®ç±»</td><td><strong>@Import</strong></td></tr></tbody></table>\n<p><strong>ç¬¬ä¸‰æ–¹æ•°æ®æºé…ç½®ç±» JdbcConfig</strong></p>\n<table><thead><tr><th>ç¬¬ä¸‰æ–¹æ•°æ®æºé…ç½®ç±»</th><th>JdbcConfig</th></tr></thead><tbody><tr><td>æ„å»ºDataSourceæ•°æ®æºï¼ŒDruidDataSouroce</td><td><strong>@Bean @Value</strong></td></tr><tr><td>æ„å»ºå¹³å°äº‹åŠ¡ç®¡ç†å™¨ï¼ŒDataSourceTransactionManager</td><td><strong>@Bean</strong></td></tr></tbody></table>\n<p><strong>Mybatisé…ç½®ç±» MybatisConfig</strong></p>\n<table><thead><tr><th>ç¬¬ä¸‰æ–¹æ•°æ®æºé…ç½®ç±»</th><th>JdbcConfig</th></tr></thead><tbody><tr><td>æ„å»ºSqlSessionFactoryBean,è®¾ç½®åˆ«åæ‰«æä¸æ•°æ®æº</td><td><strong>@Bean</strong></td></tr><tr><td>æ„å»ºMapperScannerConfigurerå¹¶è®¾ç½®DAOå±‚çš„åŒ…æ‰«æ</td><td><strong>@Bean</strong></td></tr></tbody></table>\n<p><strong>SpringMVCé…ç½®ç±»SpringMvcConfig</strong></p>\n<table><thead><tr><th>SpringMVCé…ç½®ç±»</th><th>SpringMvcConfig</th></tr></thead><tbody><tr><td>æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»</td><td><strong>@Configuration</strong></td></tr><tr><td>æ‰«æControlleræ‰€åœ¨çš„åŒ…</td><td><strong>@Configuration</strong></td></tr><tr><td>å¼€å¯SpringMVCæ³¨è§£æ”¯æŒ</td><td><strong>@EnableWebMvc</strong></td></tr></tbody></table>\n<h2><a id=\"_44\"></a>äºŒ.æ•´åˆé…ç½®</h2>\n<h3><a id=\"21_45\"></a>2.1æ·»åŠ ä¾èµ–</h3>\n<p>pom.xmlæ·»åŠ SSMæ‰€éœ€è¦çš„ä¾èµ–jaråŒ…<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\3896bba8f762492e8d5cfd91737ac59e.png\"/></p>\n<h3><a id=\"22_49\"></a>2.2åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„</h3>\n<ul><li>configç›®å½•å­˜æ”¾çš„æ˜¯ç›¸å…³çš„é…ç½®ç±»</li><li>controllerç¼–å†™çš„æ˜¯Controllerç±»</li><li>daoå­˜æ”¾çš„æ˜¯Daoæ¥å£ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯Mapperæ¥å£ä»£ç†æ–¹å¼ï¼Œæ‰€ä»¥æ²¡æœ‰å®ç°ç±»åŒ…</li><li>serviceå­˜çš„æ˜¯Serviceæ¥å£ï¼Œimplå­˜æ”¾çš„æ˜¯Serviceå®ç°ç±»</li><li>resources:å­˜å…¥çš„æ˜¯é…ç½®æ–‡ä»¶ï¼Œå¦‚Jdbc.properties</li><li>webapp:ç›®å½•å¯ä»¥å­˜æ”¾é™æ€èµ„æº</li><li>test/java:å­˜æ”¾çš„æ˜¯æµ‹è¯•ç±»<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\e00051996ff84d49a550801ea3bee0d4.png\"/></li></ul>\n<h3><a id=\"23SpringConfig_58\"></a>2.3åˆ›å»ºSpringConfigé…ç½®ç±»</h3>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\029747e56c1a448eaa7843e45bfb1677.png\"/></p>\n<h3><a id=\"24JdbcConfig_60\"></a>2.4åˆ›å»ºJdbcConfigé…ç½®ç±»</h3>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\6eecc85df84e4e27a3bd8c303d61f1aa.png\"/></p>\n<h3><a id=\"25MybatisConfig_62\"></a>2.5åˆ›å»ºMybatisConfigé…ç½®ç±»</h3>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\cae451c636c948d9b408669d27348cd0.png\"/></p>\n<h3><a id=\"26jdbcproperties_64\"></a>2.6åˆ›å»ºjdbc.properties</h3>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\5515ae52d7c84c678377317905b76810.png\"/></p>\n<h3><a id=\"27SpringMVC_66\"></a>2.7åˆ›å»ºSpringMVCé…ç½®ç±»</h3>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\13edea657af0415fb0d84762c53d2dc2.png\"/></p>\n<h3><a id=\"28Web_68\"></a>2.8åˆ›å»ºWebé¡¹ç›®å…¥å£é…ç½®ç±»</h3>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\6a2a432b3fbd48fb86fc667dffd6489e.png\"/></p>\n<h2><a id=\"_70\"></a>ä¸‰.åŠŸèƒ½æ¨¡å—</h2>\n<h3><a id=\"31_71\"></a>3.1åˆ›å»ºæ¨¡å‹ç±»</h3>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Book</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> type<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> description<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"32Dao_82\"></a>3.2ç¼–å†™Daoæ¥å£</h3>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">BookDao</span> <span class=\"token punctuation\">{<!-- --></span>\n\n<span class=\"token comment\">//    @Insert(\"insert into tbl_book values(null,#{type},#{name},#{description})\")</span>\n    <span class=\"token annotation punctuation\">@Insert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"insert into tbl_book (type,name,description) values(#{type},#{name},#{description})\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Update</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"update tbl_book set type = #{type}, name = #{name}, description = #{description} where id = #{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Delete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delete from tbl_book where id = #{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select * from tbl_book where id = #{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Book</span> <span class=\"token function\">getById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Select</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select * from tbl_book\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Book</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"33Service_105\"></a>3.3ç¼–å†™Serviceæ¥å£å’Œå®ç°ç±»</h3>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">BookService</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Book</span> <span class=\"token function\">getById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Book</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BookServiceImpl</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">BookService</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">BookDao</span> bookDao<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span> bookDao<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span> bookDao<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>bookDao<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Book</span> <span class=\"token function\">getById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token keyword\">return</span> bookDao<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Book</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token keyword\">return</span> bookDao<span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"34Contorller_130\"></a>3.4ç¼–å†™Contorllerç±»</h3>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/books\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BookController</span> <span class=\"token punctuation\">{<!-- --></span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">BookService</span> bookService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostMapping</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@PutMapping</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">Book</span> book<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@DeleteMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Book</span> <span class=\"token function\">getById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Book</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h2><a id=\"_165\"></a>å››.å•å…ƒæµ‹è¯•</h2>\n<h3><a id=\"41_166\"></a>4.1æ–°å»ºæµ‹è¯•ç±»</h3>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SpringJUnit4ClassRunner</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ContextConfiguration</span><span class=\"token punctuation\">(</span>classes <span class=\"token operator\">=</span> <span class=\"token class-name\">SpringConfig</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BookServiceTest</span> <span class=\"token punctuation\">{<!-- --></span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"42Service_176\"></a>4.2æ³¨å…¥Serviceç±»</h3>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SpringJUnit4ClassRunner</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ContextConfiguration</span><span class=\"token punctuation\">(</span>classes <span class=\"token operator\">=</span> <span class=\"token class-name\">SpringConfig</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BookServiceTest</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">BookService</span> bookService<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"43_187\"></a>4.3ç¼–å†™æµ‹è¯•æ–¹æ³•</h3>\n<p>æˆ‘ä»¬å…ˆæ¥å¯¹æŸ¥è¯¢è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p>\n<pre><code class=\"prism language-java\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SpringJUnit4ClassRunner</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ContextConfiguration</span><span class=\"token punctuation\">(</span>classes <span class=\"token operator\">=</span> <span class=\"token class-name\">SpringConfig</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BookServiceTest</span> <span class=\"token punctuation\">{<!-- --></span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">BookService</span> bookService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testGetById</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">Book</span> book <span class=\"token operator\">=</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">getById</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>book<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">testGetAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Book</span><span class=\"token punctuation\">&gt;</span></span> all <span class=\"token operator\">=</span> bookService<span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>all<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 1, "php": 0, "time": "2022-08-25 20:16:57", "summary": "æ–‡ç« ç›®å½•å‰è¨€ä¸€æ•´åˆæµç¨‹äºŒæ•´åˆé…ç½®æ·»åŠ ä¾èµ–åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„åˆ›å»ºé…ç½®ç±»åˆ›å»ºé…ç½®ç±»åˆ›å»ºé…ç½®ç±»åˆ›å»ºåˆ›å»ºé…ç½®ç±»åˆ›å»ºé¡¹ç›®å…¥å£é…ç½®ç±»ä¸‰åŠŸèƒ½æ¨¡å—åˆ›å»ºæ¨¡å‹ç±»ç¼–å†™æ¥å£ç¼–å†™æ¥å£å’Œå®ç°ç±»ç¼–å†™ç±»å››å•å…ƒæµ‹è¯•æ–°å»ºæµ‹è¯•ç±»æ³¨å…¥ç±»ç¼–å†™æµ‹è¯•"}