{"blogid": "121603473", "writerAge": "码龄4年", "writerBlogNum": "174", "writerCollect": "818", "writerComment": "94", "writerFan": "60", "writerGrade": "5级", "writerIntegral": "3188", "writerName": "小菜的成长之路", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_121603473.jpg", "writerRankTotal": "147456", "writerRankWeekly": "83287", "writerThumb": "257", "writerVisitNum": "298731", "blog_read_count": "2557", "blog_time": "于 2021-11-29 10:40:13 发布", "blog_title": "WPF系列教程（十九）：日期控件——Calendar、DatePicker日历控件", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><a href=\"https://download.csdn.net/download/qq_43511299/51810098\">项目源码</a></p>\n<h2><a id=\"Calendar_1\"></a>Calendar控件</h2>\n<p><code>DisplayMode=\"Month\"</code>属性：显示日历时最高的一级，以十年、年、月来显示，一般用Month。<br/> <code>DisplayDateStart=\"2021-5-1\" DisplayDateEnd=\"2021-11-29\"</code>属性：日历的开始和结束日期。<br/> <code>FirstDayOfWeek=\"Monday\"</code>属性用于将某一天作为日历第一列的第一天。<br/> 当选择的日期发生改变时，可以用触发事件<code>SelectedDatesChanged=\"cal1_SelectedDatesChanged\"</code>的响应函数表示。<br/> 将选择的日期显示在窗体标题上：</p>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">cal1_SelectedDatesChanged</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">SelectionChangedEventArgs</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>Title <span class=\"token operator\">=</span> cal1<span class=\"token punctuation\">.</span>SelectedDate<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\cdfbc76a57dc4cfd883a1f17ecab5a98.png\"/><br/> 如果要设置选择日期的范围，需要设置Calendar控件的属性<code>SelectionMode=\"MultipleRange\"</code>，可以选择多个日期范围，按住鼠标或者shift键+左右按钮即可选择多个日期，也可以点击Control键选择不连续的日期。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\713850b84cda42968ff4d47f7c400c61.png\"/><br/> 下面的示例为点击按钮显示所有选中的日期：</p>\n<pre><code class=\"prism language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> s <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">button_Click</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">RoutedEventArgs</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> cal1<span class=\"token punctuation\">.</span>SelectedDates<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>s <span class=\"token operator\">+=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cal1<span class=\"token punctuation\">.</span>SelectedDates<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>Title <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>s<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\63eb643652a043868625e960a6b76459.png\"/><br/> SelectedDates表示选中的所有日期，是一个数组。<br/> 如果<code>SelectionMode=\"SingleRange\"</code>，只可以选择一个范围，如果<code>SelectionMode=\"SingleDate\"</code>，只可以选择单个日期。<br/> 属性<code>IsTodayHighlighted=\"False\"</code>设置今日是否高亮显示。</p>\n<h2><a id=\"DatePicker_34\"></a>DatePicker控件</h2>\n<p>是一个更小的控件，点击控件时才会弹出一个日历。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\f9559457ec1d49b6b72f18b226fe27d6.png\"/><br/> 如果我们事先设置了<code>IsDropDownOpen=\"True\"</code>，那么在第一次点击之前日历视图就会显示。在我们选择之后就会自动关闭。<br/> DatePicker控件也可以在文本框内手动输入日期，所以用户可能会输入非法的日期，可以用事件<code>DateValidationError=\"DatePicker_DateValidationError\"</code>来处理。</p>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">private</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">DatePicker_DateValidationError</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DatePickerDateValidationErrorEventArgs</span> e<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    MessageBox<span class=\"token punctuation\">.</span><span class=\"token function\">Show</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"用户输入了一个非法日期:\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">+</span> <span class=\"token string\">\"。错误原因是：\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span>Exception<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\7a203391692d4511b214da9d2c9f32b8.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2021-11-29 10:40:13", "summary": "项目源码控件属性：显示日历时最高的一级，以十年、年、月来显示，一般用。属性：日历的开始和结束日期。属性用于将某一天作为日历第一列的第一天。当选择的日期发生改变时，可以用触发事件的响应函数表示。将选择的"}