{"blogid": "123018037", "writerAge": "ç é¾„3å¹´", "writerBlogNum": "15", "writerCollect": "207", "writerComment": "56", "writerFan": "1325", "writerGrade": "3çº§", "writerIntegral": "644", "writerName": "è¥é˜³å…”å…”", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123018037.jpg", "writerRankTotal": "111695", "writerRankWeekly": "82078", "writerThumb": "66", "writerVisitNum": "57203", "blog_read_count": "4731", "blog_time": "å·²äºÂ 2022-02-19 18:34:12Â ä¿®æ”¹", "blog_title": "Unity Emojiè¡¨æƒ…ï¼ˆå›¾æ–‡æ··æ’ï¼‰2022æœ€è¯¦ç»†æ•™ç¨‹", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_6\">å‰è¨€</a></li><li><a href=\"#emoji_14\">ä¸€ã€emojiæ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><ul><li><ul><li><a href=\"#font_color999AAA_emoji__17\"><font color=\"#999AAA\">emoji ï¼ˆæ—¥æœ¬åœ¨æ— çº¿é€šä¿¡ä¸­æ‰€ä½¿ç”¨çš„è§†è§‰æƒ…æ„Ÿç¬¦å·ï¼‰</font></a></li></ul>\n</li></ul>\n</li><li><a href=\"#_27\">äºŒã€ä½¿ç”¨æ­¥éª¤</a></li><li><ul><li><a href=\"#1_28\">1.å°†æºç æ–‡ä»¶å¯¼å…¥è‡ªå·±çš„é¡¹ç›®ä¸­</a></li><li><ul><li><a href=\"#EditorEmojiAtlasBakerEditor_29\">æ­¥éª¤ä¸€ï¼šå°†Editorç›®å½•æ–‡ä»¶EmojiAtlasBakerç§»å…¥åˆ°è‡ªå·±çš„é¡¹ç›®Editorç›®å½•ä¸‹</a></li><li><a href=\"#Icon_EmojiAtlas__QQIconAtlasxml_31\">æ­¥éª¤äºŒã€å¯¼å…¥Iconåˆ°è‡ªå·±é¡¹ç›®ä¸­ (EmojiAtlas è·Ÿ QQIconAtlaså¯å…ˆåˆ é™¤æ‰ï¼Œæ­¥éª¤äº”å¯ç”Ÿæˆå›¾é›†åŠxmlæ–‡ä»¶)</a></li><li><a href=\"#EmojiEffectEmojiTextManagerScript_40\">æ­¥éª¤ä¸‰ã€å¯¼å…¥EmojiEffectè·ŸEmojiTextManagerè„šæœ¬åˆ°é¡¹ç›®Scriptç›®å½•ä¸‹</a></li><li><a href=\"#Xml_42\">æ­¥éª¤å››ã€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºXmlæ–‡ä»¶å¤¹ï¼Œä¸‹é¢çš„ä¸¤ä¸ªæ–‡ä»¶æ˜¯æ­¥éª¤äº”ç”Ÿæˆçš„æ–‡ä»¶ï¼Œç”¨äºè·å–å›¾é›†åç§°åŠä¿¡æ¯</a></li><li><a href=\"#UnityToolBake_Emoji_Atlas_44\">æ­¥éª¤äº”ã€åœ¨Unityé€‰çº¿æ Tool-&gt;Bake Emoji Atlasä¼šæœ‰è¿™ä¸ªé€‰é¡¹ï¼Œå•å‡»è¿™ä¸ªé€‰é¡¹ï¼Œä¼šå¼¹å‡ºä»¥ä¸‹ç•Œé¢ï¼ˆæ‰“åŒ…å›¾é›†ï¼‰</a></li></ul>\n</li><li><a href=\"#2_64\">2.å®é™…åº”ç”¨</a></li><li><ul><li><a href=\"#XML_65\">ä¸€ã€åœ¨åˆå§‹åŒ–æ—¶è¯»å–è°ƒç”¨XMLæ–‡ä»¶</a></li><li><a href=\"#_133\">äºŒã€æœåŠ¡å™¨å›è°ƒç”¨æˆ·ä¿¡æ¯</a></li><li><a href=\"#_168\">ä¸‰ã€è·å–æ•°æ®è¿›è¡Œå¤„ç†æ¼”ç¤º</a></li></ul>\n</li></ul>\n</li><li><a href=\"#_237\">ä¸‰ã€é¡¹ç›®è¿ç”¨åæ•ˆæœ</a></li><li><a href=\"#_262\">å››ã€æ¯å¤©ä¸€å¿ƒçµé¸¡æ±¤</a></li></ul>\n</div>\n<p></p>\n<hr color=\"#000000\" size='1\"'/>\n<h1><a id=\"_6\"></a>å‰è¨€</h1>\n<p><font color=\"#999AAA\">åœ¨å¿™å®Œé¡¹ç›®ä»¥åï¼Œæˆ‘åˆå›æ¥äº†ï¼Œåˆ©ç”¨ä¸€äº›æ—¶é—´å’Œå¿ƒåŠ›å»æ€»ç»“å’Œæ€è€ƒä¸€äº›ä¸œè¥¿ã€‚æœ€è¿‘é¡¹ç›®ä¸­ç©å®¶é€šè¿‡å¾®ä¿¡ç™»å½•ï¼Œç™»å½•åçš„å¾®ä¿¡æ˜µç§°å«æœ‰emojiè¡¨æƒ…ï¼Œè¿™æ ·ç›´æ¥ä½¿ç”¨ä¼šæ˜¾ç¤ºä¹±ç ï¼ŒC#æ— æ³•ç›´æ¥å¤„ç†ï¼Œç½‘ä¸Šä¹Ÿæ²¡æœ‰æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåˆšå¥½æ‰¾åˆ°äº†å›¾æ–‡æ··æ’å¼€æºdemoï¼Œé¡ºä¾¿ä¼˜åŒ–äº†ä¸€ä¸‹è„šæœ¬ã€‚</font></p>\n<hr color=\"#000000\" size='1\"'/>\n<p><font color=\"#999AAA\">æç¤ºï¼šä»¥ä¸‹æ˜¯æœ¬ç¯‡æ–‡ç« æ­£æ–‡å†…å®¹ï¼Œä¸‹é¢æ¡ˆä¾‹å¯ä¾›å‚è€ƒ</font></p>\n<h1><a id=\"emoji_14\"></a>ä¸€ã€emojiæ˜¯ä»€ä¹ˆï¼Ÿ</h1>\n<h3><a id=\"font_color999AAA_emoji__17\"></a><font color=\"#999AAA\">emoji ï¼ˆæ—¥æœ¬åœ¨æ— çº¿é€šä¿¡ä¸­æ‰€ä½¿ç”¨çš„è§†è§‰æƒ…æ„Ÿç¬¦å·ï¼‰</font></h3>\n<p><font color=\"#00f\"><strong>ç»˜æ–‡å­—ï¼ˆæ—¥è¯­ï¼šçµµæ–‡å­—/ãˆã‚‚ã˜ emojiï¼‰æ˜¯æ—¥æœ¬åœ¨æ— çº¿é€šä¿¡ä¸­æ‰€ä½¿ç”¨çš„è§†è§‰æƒ…æ„Ÿç¬¦å·ï¼Œç»˜æŒ‡å›¾ç”»ï¼Œæ–‡å­—æŒ‡çš„åˆ™æ˜¯å­—ç¬¦ï¼Œå¯ç”¨æ¥ä»£è¡¨å¤šç§è¡¨æƒ…ï¼Œå¦‚ç¬‘è„¸è¡¨ç¤ºç¬‘ã€è›‹ç³•è¡¨ç¤ºé£Ÿç‰©ç­‰ã€‚åœ¨ä¸­å›½å¤§é™†ï¼Œemojié€šå¸¸å«åšâ€œå°é»„è„¸â€ï¼Œæˆ–è€…ç›´ç§°emoji</strong></font></p>\n<p><font color=\"#ff00\"><strong>åœ¨NTTDoCoMoçš„i-modeç³»ç»Ÿç”µè¯ç³»ç»Ÿä¸­ï¼Œç»˜æ–‡å­—çš„å°ºå¯¸æ˜¯12x12 åƒç´ ï¼Œåœ¨ä¼ é€æ—¶ï¼Œä¸€ä¸ªå›¾å½¢æœ‰2ä¸ªå­—èŠ‚ã€‚Unicodeç¼–ç ä¸ºE63Eåˆ°E757ï¼Œè€Œåœ¨Shift-JISç¼–ç åˆ™æ˜¯ä»F89Fåˆ°F9FCã€‚åŸºæœ¬çš„ç»˜æ–‡å­—å…±æœ‰176ä¸ªç¬¦å·ï¼Œåœ¨C-HTML4.0çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåˆ™å¦å¢æ·»äº†76ä¸ªæƒ…æ„Ÿç¬¦å·ã€‚</strong></font></p>\n<p><font color=\"#FF60AF\"><strong>è‡ªè‹¹æœå…¬å¸å‘å¸ƒçš„iOS 5è¾“å…¥æ³•ä¸­åŠ å…¥äº†emojiåï¼Œè¿™ç§è¡¨æƒ…ç¬¦å·å¼€å§‹å¸­å·å…¨çƒï¼Œemojiå·²è¢«å¤§å¤šæ•°ç°ä»£è®¡ç®—æœºç³»ç»Ÿæ‰€å…¼å®¹çš„Unicodeç¼–ç é‡‡çº³ï¼Œæ™®éåº”ç”¨äºå„ç§æ‰‹æœºçŸ­ä¿¡å’Œç¤¾äº¤ç½‘ç»œä¸­ã€‚</strong></font></p>\n<p><a href=\"https://apps.timwhitlock.info/emoji/tables/unicode#block-6b-additional-transport-and-map-symbols\"><font color=\"#ff00\"><strong>è¡¨æƒ…ç¬¦å·Unicodeè¡¨å®˜ç½‘</strong></font></a></p>\n<h1><a id=\"_27\"></a>äºŒã€ä½¿ç”¨æ­¥éª¤</h1>\n<h2><a id=\"1_28\"></a>1.å°†æºç æ–‡ä»¶å¯¼å…¥è‡ªå·±çš„é¡¹ç›®ä¸­</h2>\n<h3><a id=\"EditorEmojiAtlasBakerEditor_29\"></a>æ­¥éª¤ä¸€ï¼šå°†Editorç›®å½•æ–‡ä»¶EmojiAtlasBakerç§»å…¥åˆ°è‡ªå·±çš„é¡¹ç›®Editorç›®å½•ä¸‹</h3>\n<p><img alt=\"ç§»å…¥è‡ªå·±é¡¹ç›®ç›®å½•ä¸‹\" src=\"..\\..\\static\\image\\e9cc02be27504dd2888007740700c3b4.png\"/></p>\n<h3><a id=\"Icon_EmojiAtlas__QQIconAtlasxml_31\"></a>æ­¥éª¤äºŒã€å¯¼å…¥Iconåˆ°è‡ªå·±é¡¹ç›®ä¸­ (EmojiAtlas è·Ÿ QQIconAtlaså¯å…ˆåˆ é™¤æ‰ï¼Œæ­¥éª¤äº”å¯ç”Ÿæˆå›¾é›†åŠxmlæ–‡ä»¶)</h3>\n<p>*<strong>æ³¨æ„</strong> Emojisè·ŸQQç›®å½•ä¸‹çš„å›¾ç‰‡è¿‡å¤šï¼Œæ‰“åŒ…é¡¹ç›®æ—¶å¯å­˜æ”¾åˆ°å…¶ä»–é¡¹ç›®æˆ–è€…å…¶ä»–åœ°æ–¹ï¼Œå‡å°‘æ‰“åŒ…çš„å¤§å°ï¼Œè¿™ä¸ªä¸¤ä¸ªç›®å½•çš„ä½œç”¨åªæ˜¯ç”¨äºç”ŸæˆEmojiAtlasè·ŸQQIconAtlaså›¾é›†è€Œå·²<br/> <img alt=\"å¯¼å…¥Iconå›¾æ ‡\" src=\"..\\..\\static\\image\\4b7ecef7b6e5412c99a4a2ec308d670f.png\"/><br/> Emojisç›®å½•ä¸‹çš„å›¾ç‰‡<br/> <img alt=\"Emojisç›®å½•ä¸‹çš„å›¾ç‰‡\" src=\"..\\..\\static\\image\\f5f59b253a31440daa2757607d90e88c.png\"/><br/> QQç›®å½•ä¸‹çš„æ–‡ä»¶<br/> <img alt=\"QQç›®å½•ä¸‹çš„æ–‡ä»¶\" src=\"..\\..\\static\\image\\e185fa1c9094469ebad2a9c0360b7961.png\"/></p>\n<h3><a id=\"EmojiEffectEmojiTextManagerScript_40\"></a>æ­¥éª¤ä¸‰ã€å¯¼å…¥EmojiEffectè·ŸEmojiTextManagerè„šæœ¬åˆ°é¡¹ç›®Scriptç›®å½•ä¸‹</h3>\n<p><img alt=\"å¯¼å…¥è„šæœ¬\" src=\"..\\..\\static\\image\\dca7258588544356a8c58993a8b2f3bc.png\"/></p>\n<h3><a id=\"Xml_42\"></a>æ­¥éª¤å››ã€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºXmlæ–‡ä»¶å¤¹ï¼Œä¸‹é¢çš„ä¸¤ä¸ªæ–‡ä»¶æ˜¯æ­¥éª¤äº”ç”Ÿæˆçš„æ–‡ä»¶ï¼Œç”¨äºè·å–å›¾é›†åç§°åŠä¿¡æ¯</h3>\n<p><img alt=\"xmlç›®å½•\" src=\"..\\..\\static\\image\\a8d44e6586e84373bd2af9cb27ccda5d.png\"/></p>\n<h3><a id=\"UnityToolBake_Emoji_Atlas_44\"></a>æ­¥éª¤äº”ã€åœ¨Unityé€‰çº¿æ Tool-&gt;Bake Emoji Atlasä¼šæœ‰è¿™ä¸ªé€‰é¡¹ï¼Œå•å‡»è¿™ä¸ªé€‰é¡¹ï¼Œä¼šå¼¹å‡ºä»¥ä¸‹ç•Œé¢ï¼ˆæ‰“åŒ…å›¾é›†ï¼‰</h3>\n<p><strong>è·¯å¾„ä¸ºè‡ªå·±é¡¹ç›®çš„è·¯å¾„</strong><br/> <img alt=\"æ‰“åŒ…å›¾é›†ç•Œé¢\" src=\"..\\..\\static\\image\\bb4f48ded35a47eea074955f7ee5879d.png\"/><br/> <strong>ï¼ˆä¸€ï¼‰å‘½åæ–¹æ³•</strong></p>\n<pre><code class=\"prism language-txt\">Emojiè¡¨æƒ…XMLå‘½å: EmojiXml\t\t\tå›¾é›†å‘½å: EmojiAtlas\n\nQQè¡¨æƒ…XMLå‘½å: QQIconXml\t\t        å›¾é›†å‘½å:QQIconAtlas\n</code></pre>\n<p>è®¾ç½®å¥½ä¸Šé¢çš„å‚æ•°ã€‚ç”Ÿæˆä¼šæŠŠå›¾ç‰‡æ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡éå†æ‰“åˆ°ä¸€ä¸ªTexture2Dä¸­ï¼Œç„¶åæŠŠæ¯å¼ å›¾ç‰‡åœ¨å›¾é›†çš„ä½ç½®å¤§å°è®°å½•ä¸‹æ¥ï¼Œç„¶åæŠŠè¿™äº›æ•°æ®å­˜å…¥xmlæ–‡ä»¶ä¸­ã€‚åœ¨ç”Ÿæˆæ¯ä¸ªè¡¨æƒ…æ—¶å¯ä»¥è®¾ç½®UVæ¥ç¡®å®šå“ªä¸€ä¸ªå›¾ç‰‡ã€‚<br/> å•å‡»ç”Ÿæˆï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆå›¾é›†è·ŸXMLæ–‡ä»¶ï¼Œè§ä¸‹å›¾</p>\n<p><strong>ï¼ˆäºŒï¼‰ç”Ÿæˆå›¾é›†æ•ˆæœ</strong><br/> <img alt=\"ç”Ÿæˆå›¾é›†\" src=\"..\\..\\static\\image\\d30843cf6e974649b3ca66c6d1f30250.png\"/><br/> <strong>ï¼ˆä¸‰ï¼‰ç”ŸæˆXMLé…ç½®æ–‡ä»¶</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\be7a06f027b9493fbdd30a79f977e201.png\"/><br/> <strong>ï¼ˆå››ï¼‰XMLé…ç½®æ–‡ä»¶å†…å®¹</strong><br/> <img alt=\"XMLé…ç½®æ–‡ä»¶å†…å®¹\" src=\"..\\..\\static\\image\\700d410dd8b24c4fbccd3ad9633fd52c.png\"/></p>\n<h2><a id=\"2_64\"></a>2.å®é™…åº”ç”¨</h2>\n<h3><a id=\"XML_65\"></a>ä¸€ã€åœ¨åˆå§‹åŒ–æ—¶è¯»å–è°ƒç”¨XMLæ–‡ä»¶</h3>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">LitJson</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine<span class=\"token punctuation\">.</span>UI</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">IndexPanel</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">BaseUI</span></span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Text</span> userNameTxt<span class=\"token punctuation\">;</span>\n\t<span class=\"token preprocessor property\"># å®šä¹‰å›¾é›†å‚æ•°å¹¶åœ¨é¢„åˆ¶ä½“ä¸Šç»‘å®š</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Texture</span> emojiAtlas<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Texture</span> qqIconAtlas<span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token comment\">// Use this for initialization</span>\n\t<span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token function\">StartCoroutine</span><span class=\"token punctuation\">(</span><span class=\"token function\">GetReadEmojiXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">StartCoroutine</span><span class=\"token punctuation\">(</span><span class=\"token function\">ReadIconXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">IEnumerator</span> <span class=\"token function\">ReadIconXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> path <span class=\"token operator\">=</span> Application<span class=\"token punctuation\">.</span>streamingAssetsPath<span class=\"token operator\">+</span><span class=\"token string\">\"/Xml/QQIconXml.xml\"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token preprocessor property\">#<span class=\"token directive keyword\">if</span> UNITY_EDITOR || UNITY_STANDALONE || UNITY_IOS</span>\n\t    path <span class=\"token operator\">=</span> <span class=\"token string\">\"file://\"</span><span class=\"token operator\">+</span>path<span class=\"token punctuation\">;</span>\n\t    <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endif</span></span>\n\t\t<span class=\"token class-name\">WWW</span> wWA<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">WWW</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">///WWWè¯»å–åœ¨å„ä¸ªå¹³å°ä¸Šéƒ½å¯ä½¿ç”¨</span>\n\t    <span class=\"token keyword\">yield</span> <span class=\"token keyword\">return</span> wWA<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">XmlDocument</span> XmlDoc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">XmlDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">// Debug.LogError(\"-----------------QQè¡¨æƒ…é…ç½®å†…å®¹ï¼š\"+wWA.text);</span>\n\t\tXmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadXml</span><span class=\"token punctuation\">(</span>wWA<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token class-name\">XmlNodeList</span> nodeList <span class=\"token operator\">=</span> XmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">SelectSingleNode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ChildNodes<span class=\"token punctuation\">;</span>\n\t    <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">XmlElement</span> xe <span class=\"token keyword\">in</span> nodeList<span class=\"token punctuation\">)</span>\n\t    <span class=\"token punctuation\">{<!-- --></span>\n\t        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> resStr <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\n\t        resStr <span class=\"token operator\">=</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"textTag\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectX\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectY\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectWidth\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectHeight\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">;</span>\n\t        EmojiTextManager<span class=\"token punctuation\">.</span>Instance<span class=\"token punctuation\">.</span><span class=\"token function\">ParseNormalIcon</span><span class=\"token punctuation\">(</span>resStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">IEnumerator</span> <span class=\"token function\">GetReadEmojiXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tDebug<span class=\"token punctuation\">.</span><span class=\"token function\">LogErrorFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------Applicationæ•°æ®è·¯å¾„ä¸ºï¼š\"</span><span class=\"token operator\">+</span>Application<span class=\"token punctuation\">.</span>streamingAssetsPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> path <span class=\"token operator\">=</span> Application<span class=\"token punctuation\">.</span>streamingAssetsPath<span class=\"token operator\">+</span><span class=\"token string\">\"/Xml/EmojiXml.xml\"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token preprocessor property\">#<span class=\"token directive keyword\">if</span> UNITY_EDITOR || UNITY_STANDALONE || UNITY_IOS</span>\n        path <span class=\"token operator\">=</span> <span class=\"token string\">\"file://\"</span><span class=\"token operator\">+</span>path<span class=\"token punctuation\">;</span>\n        <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endif</span></span>\n\t\t<span class=\"token class-name\">WWW</span> wWA<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">WWW</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">///WWWè¯»å–åœ¨å„ä¸ªå¹³å°ä¸Šéƒ½å¯ä½¿ç”¨</span>\n        <span class=\"token keyword\">yield</span> <span class=\"token keyword\">return</span> wWA<span class=\"token punctuation\">;</span> \n\t\t<span class=\"token class-name\">XmlDocument</span> XmlDoc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">XmlDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">// Debug.LogError(\"-----------------Emojiè¡¨æƒ…é…ç½®å†…å®¹ï¼š\"+wWA.text);</span>\n\t\tXmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadXml</span><span class=\"token punctuation\">(</span>wWA<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">XmlNodeList</span> nodeList <span class=\"token operator\">=</span> XmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">SelectSingleNode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ChildNodes<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">XmlElement</span> xe <span class=\"token keyword\">in</span> nodeList<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> resStr <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\n            resStr <span class=\"token operator\">=</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"emojiFileNames\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectX\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectY\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectWidth\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectHeight\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"textTag\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText<span class=\"token punctuation\">;</span>\n            EmojiTextManager<span class=\"token punctuation\">.</span>Instance<span class=\"token punctuation\">.</span><span class=\"token function\">ParseEmojiInfo</span><span class=\"token punctuation\">(</span>resStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>åœ¨IndexPanelé¢„åˆ¶ä½“ä¸Šç»‘å®šå›¾é›†è·ŸEmojiTextManagerè„šæœ¬<br/> <img alt=\"è„šæœ¬è·Ÿå›¾é›†ç»‘å®š\" src=\"..\\..\\static\\image\\faa718d88dbe49af963772188d061ae3.png\"/></p>\n<h3><a id=\"_133\"></a>äºŒã€æœåŠ¡å™¨å›è°ƒç”¨æˆ·ä¿¡æ¯</h3>\n<pre><code class=\"prism language-bash\"><span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token string\">\"code\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"20000\"</span>,\n  <span class=\"token string\">\"data\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token string\">\"phonePrefix\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"+86\"</span>,\n    <span class=\"token string\">\"ip\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"111.111.11.111\"</span>,\n    <span class=\"token string\">\"avatar\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"group1/M00/00/10/rBKu4WHyN4GEfAhZAAAAAE40vZI779.jpg\"</span>,\n    <span class=\"token string\">\"inGame\"</span><span class=\"token builtin class-name\">:</span> false,\n    <span class=\"token string\">\"userName\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\u8365\">\\u8365</span><span class=\"token entity\" title=\"\\u9633\">\\u9633</span><span class=\"token entity\" title=\"\\uD83D\">\\uD83D</span><span class=\"token entity\" title=\"\\uDE1A\">\\uDE1A</span><span class=\"token entity\" title=\"\\u5154\">\\u5154</span><span class=\"token entity\" title=\"\\u5154\">\\u5154</span><span class=\"token entity\" title=\"\\uD83C\">\\uD83C</span><span class=\"token entity\" title=\"\\uDDE8\">\\uDDE8</span><span class=\"token entity\" title=\"\\uD83C\">\\uD83C</span><span class=\"token entity\" title=\"\\uDDF3\">\\uDDF3</span>\"</span>,\n    <span class=\"token string\">\"myInviteCode\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"70436160\"</span>,\n    <span class=\"token string\">\"token\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"ffJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJub2NlIjoxNjQ1MjYwNTkwMDI1LCJ1c2VybmFtZSI6Iis4NjoxNTIxODk2ODMyMSJ9.CIDWw9B0IwoQQqwXcnLWkvpv8lZWdEu3-KXukQNM4ff\"</span>,\n    <span class=\"token string\">\"hasThirdParty\"</span><span class=\"token builtin class-name\">:</span> false,\n    <span class=\"token string\">\"lastLoginTime\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1645260589987</span>,\n    <span class=\"token string\">\"diamond\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">8242</span>,\n    <span class=\"token string\">\"phone\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"11111111111\"</span>,\n    <span class=\"token string\">\"gpsLat\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"111\"</span>,\n    <span class=\"token string\">\"inviteCode\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"111111\"</span>,\n    <span class=\"token string\">\"gpsLng\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"111111\"</span>,\n    <span class=\"token string\">\"connection\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token string\">\"port\"</span><span class=\"token builtin class-name\">:</span> 00,\n      <span class=\"token string\">\"host\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"11.111.111.1\"</span>\n    <span class=\"token punctuation\">}</span>,\n    <span class=\"token string\">\"id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"70436160\"</span>,\n    <span class=\"token string\">\"gpsLoaction\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\u7279\">\\u7279</span><span class=\"token entity\" title=\"\\u6717\">\\u6717</span><span class=\"token entity\" title=\"\\u666e\">\\u666e</span><span class=\"token entity\" title=\"\\u5bb6\">\\u5bb6</span>\"</span>,\n    <span class=\"token string\">\"status\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"message\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"<span class=\"token entity\" title=\"\\u6210\">\\u6210</span><span class=\"token entity\" title=\"\\u529F\">\\u529F</span>\"</span>,\n  <span class=\"token string\">\"requestId\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"1645260589\"</span>,\n  <span class=\"token string\">\"url\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"gateServer::/login\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>è¿”å›çš„jsoné‡Œé¢æœ‰userNameï¼Œè¿™é‡Œå°±æ˜¯è¦å¤„ç†çš„æ•°æ®ï¼Œå¯å¤åˆ¶åé¢çš„Unicodeå­—ç¬¦ä¸²åˆ°Unicodeç¼–ç è½¬æ¢å¼€æ”¾å¹³å°ä¸Šè½¬æ¢ï¼Œè½¬æ¢ç»“æœå¦‚ä¸‹ï¼š<br/> <img alt=\"è½¬æ¢ç»“æœ\" src=\"..\\..\\static\\image\\ea823604253b440e82b7186bff2ef90c.png\"/></p>\n<h3><a id=\"_168\"></a>ä¸‰ã€è·å–æ•°æ®è¿›è¡Œå¤„ç†æ¼”ç¤º</h3>\n<pre><code class=\"prism language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">LitJson</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">UnityEngine<span class=\"token punctuation\">.</span>UI</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">IndexPanel</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">BaseUI</span></span>\n<span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Text</span> userNameTxt<span class=\"token punctuation\">;</span>\n\t<span class=\"token preprocessor property\"># å®šä¹‰å›¾é›†å‚æ•°å¹¶åœ¨é¢„åˆ¶ä½“ä¸Šç»‘å®š</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Texture</span> emojiAtlas<span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Texture</span> qqIconAtlas<span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token comment\">// Use this for initialization</span>\n\t<span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token function\">StartCoroutine</span><span class=\"token punctuation\">(</span><span class=\"token function\">GetReadEmojiXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">StartCoroutine</span><span class=\"token punctuation\">(</span><span class=\"token function\">ReadIconXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> userNameStr <span class=\"token operator\">=</span> <span class=\"token string\">\"\\u8365\\u9633\\uD83D\\uDE1A\\u5154\\u5154\\uD83C\\uDDE8\\uD83C\\uDDF3\"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token preprocessor property\"># ä¼ å…¥æ–¹æ³•ä¸­</span><span class=\"token return-type class-name\"><span class=\"token punctuation\">(</span>å‚æ•°<span class=\"token punctuation\">:</span> Textæ–‡æœ¬<span class=\"token punctuation\">,</span> Unicodeå­—ç¬¦ä¸²<span class=\"token punctuation\">,</span> å›¾é›†<span class=\"token punctuation\">)</span></span>\n\t\tEmojiTextManager<span class=\"token punctuation\">.</span>Instance<span class=\"token punctuation\">.</span><span class=\"token function\">SetUITextThatHasEmoji</span><span class=\"token punctuation\">(</span>userNameTxt<span class=\"token punctuation\">,</span> usrNameStr<span class=\"token punctuation\">,</span> emojiAtlas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">IEnumerator</span> <span class=\"token function\">ReadIconXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> path <span class=\"token operator\">=</span> Application<span class=\"token punctuation\">.</span>streamingAssetsPath<span class=\"token operator\">+</span><span class=\"token string\">\"/Xml/QQIconXml.xml\"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token preprocessor property\">#<span class=\"token directive keyword\">if</span> UNITY_EDITOR || UNITY_STANDALONE || UNITY_IOS</span>\n\t    path <span class=\"token operator\">=</span> <span class=\"token string\">\"file://\"</span><span class=\"token operator\">+</span>path<span class=\"token punctuation\">;</span>\n\t    <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endif</span></span>\n\t\t<span class=\"token class-name\">WWW</span> wWA<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">WWW</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">///WWWè¯»å–åœ¨å„ä¸ªå¹³å°ä¸Šéƒ½å¯ä½¿ç”¨</span>\n\t    <span class=\"token keyword\">yield</span> <span class=\"token keyword\">return</span> wWA<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">XmlDocument</span> XmlDoc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">XmlDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">// Debug.LogError(\"-----------------QQè¡¨æƒ…é…ç½®å†…å®¹ï¼š\"+wWA.text);</span>\n\t\tXmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadXml</span><span class=\"token punctuation\">(</span>wWA<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token class-name\">XmlNodeList</span> nodeList <span class=\"token operator\">=</span> XmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">SelectSingleNode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ChildNodes<span class=\"token punctuation\">;</span>\n\t    <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">XmlElement</span> xe <span class=\"token keyword\">in</span> nodeList<span class=\"token punctuation\">)</span>\n\t    <span class=\"token punctuation\">{<!-- --></span>\n\t        <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> resStr <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\n\t        resStr <span class=\"token operator\">=</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"textTag\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectX\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectY\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectWidth\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectHeight\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">;</span>\n\t        EmojiTextManager<span class=\"token punctuation\">.</span>Instance<span class=\"token punctuation\">.</span><span class=\"token function\">ParseNormalIcon</span><span class=\"token punctuation\">(</span>resStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">IEnumerator</span> <span class=\"token function\">GetReadEmojiXml</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tDebug<span class=\"token punctuation\">.</span><span class=\"token function\">LogErrorFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------Applicationæ•°æ®è·¯å¾„ä¸ºï¼š\"</span><span class=\"token operator\">+</span>Application<span class=\"token punctuation\">.</span>streamingAssetsPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\"><span class=\"token keyword\">string</span></span> path <span class=\"token operator\">=</span> Application<span class=\"token punctuation\">.</span>streamingAssetsPath<span class=\"token operator\">+</span><span class=\"token string\">\"/Xml/EmojiXml.xml\"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token preprocessor property\">#<span class=\"token directive keyword\">if</span> UNITY_EDITOR || UNITY_STANDALONE || UNITY_IOS</span>\n        path <span class=\"token operator\">=</span> <span class=\"token string\">\"file://\"</span><span class=\"token operator\">+</span>path<span class=\"token punctuation\">;</span>\n        <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endif</span></span>\n\t\t<span class=\"token class-name\">WWW</span> wWA<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">WWW</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">///WWWè¯»å–åœ¨å„ä¸ªå¹³å°ä¸Šéƒ½å¯ä½¿ç”¨</span>\n        <span class=\"token keyword\">yield</span> <span class=\"token keyword\">return</span> wWA<span class=\"token punctuation\">;</span> \n\t\t<span class=\"token class-name\">XmlDocument</span> XmlDoc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">XmlDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">// Debug.LogError(\"-----------------Emojiè¡¨æƒ…é…ç½®å†…å®¹ï¼š\"+wWA.text);</span>\n\t\tXmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadXml</span><span class=\"token punctuation\">(</span>wWA<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">XmlNodeList</span> nodeList <span class=\"token operator\">=</span> XmlDoc<span class=\"token punctuation\">.</span><span class=\"token function\">SelectSingleNode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>ChildNodes<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">XmlElement</span> xe <span class=\"token keyword\">in</span> nodeList<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> resStr <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\n            resStr <span class=\"token operator\">=</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"emojiFileNames\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectX\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectY\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectWidth\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"rectHeight\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText <span class=\"token operator\">+</span> <span class=\"token string\">\"|\"</span> <span class=\"token operator\">+</span> xe<span class=\"token punctuation\">[</span><span class=\"token string\">\"textTag\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>InnerText<span class=\"token punctuation\">;</span>\n            EmojiTextManager<span class=\"token punctuation\">.</span>Instance<span class=\"token punctuation\">.</span><span class=\"token function\">ParseEmojiInfo</span><span class=\"token punctuation\">(</span>resStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"_237\"></a>ä¸‰ã€é¡¹ç›®è¿ç”¨åæ•ˆæœ</h1>\n<p><strong>ç¼–è¾‘å™¨æ•ˆæœ</strong><br/> <img alt=\"ç¼–è¾‘å™¨æ•ˆæœ\" src=\"..\\..\\static\\image\\530094807e0b43bc8b79d0895aee9d52.png\"/><br/> <strong>æœ€ç»ˆæ•ˆæœå›¾</strong><br/> <img alt=\"emojiæ•ˆæœå›¾\" src=\"..\\..\\static\\image\\04fb45189f704cf6bdf59507b20f66f6.png\"/><br/> åˆ›ä½œä¸æ˜“ï¼Œè®°å¾—ğŸ˜ä¸€é”®ğŸ˜šä¸‰è¿ğŸ˜˜æ”¯æŒä¸€ä¸‹ï¼<br/> <img alt=\"æŠ±ç€é”®ç›˜å¥³å­©\" src=\"..\\..\\static\\image\\c064e5f5aa13441eaf1deb9b83e417a5.png\"/></p>\n<p>å…¶ä»–åšå®¢å«æœ‰è¡¨æƒ…åŒ…çš„é“¾æ¥ï¼š<br/> åšå®¢ä¸€ï¼š<a href=\"https://blog.csdn.net/cheng219101/article/details/87630284\">unity3dåœ¨UGUIä¸­æ˜¾ç¤ºå¸¦è¡¨æƒ…çš„å¾®ä¿¡æ˜µç§°</a><br/> åšå®¢äºŒï¼š<a href=\"https://blog.csdn.net/mseol/article/details/73783386\">UGUI Textç»„ä»¶ä¸ŠåŠ¨æ€æ˜¾ç¤ºEmoji</a></p>\n<p>*<strong>æ³¨æ„ï¼š</strong> æºç æ–‡æœ¬é•¿åº¦ä¸å¤Ÿä¼šæŠ¥é”™<br/> GitHubæºç åœ°å€ï¼š<a href=\"https://github.com/mcraiha/Unity-UI-emoji\">mcraiha/Unity-UI-emoji</a><br/> åšä¸»ä¼˜åŒ–åæºç åœ°å€ï¼š<a href=\"https://download.csdn.net/download/weixin_45786770/77359554\">Unityå¼€å‘å¯¹Emojiè¡¨æƒ…åŒ…å›¾æ–‡æ··æ’è¿›è¡Œå¤„ç†æ˜¾ç¤ºï¼ˆæ”¯æŒå¤§å¤šæ•°è¡¨æƒ…ï¼‰</a></p>\n<p>æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥çœ‹ä¸€ä¸‹csdnçš„<a href=\"https://edu.csdn.net/learn/32126/502684\">Unityå•†ä¸šçº§Emojiè¡¨æƒ…ç³»ç»Ÿ-11.TexturePackerçš„ç®€å•ä½¿ç”¨</a>æ•™ç¨‹(ä»˜è´¹è§†é¢‘) ã€å…¶å®æœ¬äººä¹Ÿæ²¡çœ‹è¿‡ğŸ™ˆï¼Œå“ˆå“ˆ~ã€‘</p>\n<hr color=\"#000000\" size='1\"'/>\n<h1><a id=\"_262\"></a>å››ã€æ¯å¤©ä¸€å¿ƒçµé¸¡æ±¤</h1>\n<p><font color=\"#999AAA\">æ”¾ä¸‹ä½ çš„æµ®èºï¼Œæ”¾ä¸‹ä½ çš„æ‡’æƒ°ï¼Œæ”¾ä¸‹ä½ çš„ä¸‰åˆ†é’Ÿçƒ­åº¦ï¼Œæ”¾ç©ºä½ ç¦ä¸ä½è¯±æƒ‘çš„å¤§è„‘ï¼Œæ”¾å¼€ä½ å®¹æ˜“è¢«ä»»ä½•äº‹ç‰©å¸å¼•çš„çœ¼ç›ï¼Œæ”¾æ·¡ä½ ä»€ä¹ˆéƒ½æƒ³èŠä¸¤å¥å…«å¦çš„å˜´å·´ï¼Œé™ä¸‹å¿ƒæ¥åšä½ è¯¥åšçš„äº‹ï¼Œè¯¥å¥½å¥½åŠªåŠ›äº†ï¼æœ‰æ—¶å€™çœŸçš„åŠªåŠ›åï¼Œä½ ä¼šå‘ç°è‡ªå·±è¦æ¯”æƒ³è±¡çš„ä¼˜ç§€å¾ˆå¤šã€‚è®°ä½ä¸€å¥è¯ï¼Œè¶ŠåŠªåŠ›ï¼Œè¶Šå¹¸è¿ã€‚<br/> <img alt=\"å¿ƒçµé¸¡æ±¤\" src=\"..\\..\\static\\image\\ee2f55ad6b554cceb92e9ed569534674.png\"/></font></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "C#", "cpp": 0, "csharp": 1, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-02-19 18:34:12", "summary": "æ–‡ç« ç›®å½•å‰è¨€ä¸€ã€æ˜¯ä»€ä¹ˆï¼Ÿæ—¥æœ¬åœ¨æ— çº¿é€šä¿¡ä¸­æ‰€ä½¿ç”¨çš„è§†è§‰æƒ…æ„Ÿç¬¦å·äºŒã€ä½¿ç”¨æ­¥éª¤å°†æºç æ–‡ä»¶å¯¼å…¥è‡ªå·±çš„é¡¹ç›®ä¸­æ­¥éª¤ä¸€ï¼šå°†ç›®å½•æ–‡ä»¶ç§»å…¥åˆ°è‡ªå·±çš„é¡¹ç›®ç›®å½•ä¸‹æ­¥éª¤äºŒã€å¯¼å…¥åˆ°è‡ªå·±é¡¹ç›®ä¸­è·Ÿå¯å…ˆåˆ é™¤æ‰ï¼Œæ­¥éª¤äº”å¯ç”Ÿæˆå›¾é›†åŠæ–‡ä»¶æ­¥"}