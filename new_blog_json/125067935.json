{"blogid": "125067935", "writerAge": "码龄5年", "writerBlogNum": "30", "writerCollect": "487", "writerComment": "139", "writerFan": "64", "writerGrade": "3级", "writerIntegral": "593", "writerName": "jiayuzhang128", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125067935.jpg", "writerRankTotal": "26844", "writerRankWeekly": "58696", "writerThumb": "95", "writerVisitNum": "70149", "blog_read_count": "6455", "blog_time": "已于 2022-05-31 16:31:23 修改", "blog_title": "（超详细）Jupyter Notebook入门教程", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h1><a id=\"Jupyter_Notebook_0\"></a>Jupyter Notebook入门教程</h1>\n<h2><a id=\"0__2\"></a>0. 前言</h2>\n<img alt=\"image-20220520102631321\" src=\"..\\..\\static\\image\\image-20220520102631321.png\"/>\n<p>Jupyter Notebook是一款创建和分享计算文档的网络应用程序。它提供了一种简单、流线型、以文档为中心的体验。由于它可以同时显示丰富的文本和运行代码，并且其内置丰富的交互式控件，能够极大地丰富了可视化功能，给使用者非常直观地体验，因此它非常适合作为个人<strong>笔记工具</strong>和<strong>教学工具</strong>。</p>\n<p><a href=\"https://jupyter.org/\">Jupyter官方网址</a></p>\n<p><a href=\"https://ipython.readthedocs.io/en/stable/index.html\">IPython官方网址</a></p>\n<blockquote>\n<p><a href=\"https://pan.baidu.com/s/1RC5XczQkKGRbfRfXfHnzRA?pwd=1111\">配套notebook文件下载</a>，下载解压notebook.zip文件，在notebook目录下打开jupyter notebook。</p>\n</blockquote>\n<h2><a id=\"1__13\"></a>1. 安装与配置</h2>\n<h3><a id=\"11_AnacondaMiniconda_15\"></a>1.1 安装Anaconda或者Miniconda</h3>\n<p><a href=\"https://www.anaconda.com/\">Anaconda官网</a></p>\n<p><a href=\"https://docs.conda.io/en/latest/miniconda.html\">Miniconda官网</a></p>\n<blockquote>\n<p>建议下载Miniconda</p>\n</blockquote>\n<h3><a id=\"12_Jupyter_23\"></a>1.2 安装Jupyter</h3>\n<ul><li> <p>打开Anaconda或者Miniconda的命令提示窗口，创建新的虚拟环境</p>\n<ul><li> <pre><code class=\"prism language-conda\"># 将env_name替换成你的自定义环境名称\nconda create -n env_name python=3.8 scikit-image=0.18 -y\n</code></pre> </li><li> <p><img alt=\"image-20220531145543128\" src=\"..\\..\\static\\image\\db788494781d93c7ad8c3ce657d1f3fc.png\"/></p> </li><li> <pre><code class=\"prism language-conda\"># 查看新环境是否已经创建成功\nconda env list\n</code></pre> </li><li> <p><img alt=\"image-20220531145939836\" src=\"..\\..\\static\\image\\454b06e075c27322e661ee48ec0eae53.png\"/></p> </li></ul> </li><li> <p>安装Jupyter</p>\n<ul><li> <pre><code class=\"prism language-conda\"># 进入新创建的环境\nconda activate env_name\n# 安装Jupyter\npip install jupyter\n</code></pre> </li><li> <p><img alt=\"image-20220531150241632\" src=\"..\\..\\static\\image\\76686a8264f3cddaf82614c42f197d31.png\"/></p> </li><li> <p>输入jupyter notebook即可在浏览器中自动打开notebook</p> </li><li> <p><img alt=\"image-20220531150716817\" src=\"..\\..\\static\\image\\83fa740a6a8478dff990938cd25dc818.png\"/></p> </li><li> <p>如果我们想新建一个notebook，并且使用当前新建的环境时，我们发现没有当前新建环境的IPython内核：</p> </li><li> <p><img alt=\"image-20220531151013639\" src=\"..\\..\\static\\image\\d9c61979e5b5903bc5f1b93ff1ba3fa1.png\"/></p> </li></ul> </li><li> <p>在当前环境下建立新的IPython内核</p>\n<ul><li> <pre><code class=\"prism language-conda\"># 安装ipykernel\npip install ipykernel\n# 生成ipykernel的配置文件\npython -m ipykernel install --name env_name\n# 查看已有的kernel\njupyter kernelspec list\n</code></pre> </li><li> <p><img alt=\"image-20220531152017796\" src=\"..\\..\\static\\image\\5c49099384ee5ff17eb0905059360128.png\"/></p> </li><li> <p>再次启动jupyter notebook发现已经有了当前环境下的IPython内核了</p> </li><li> <p><img alt=\"image-20220531152203637\" src=\"..\\..\\static\\image\\2ba8b0727f7b0ea6d78007156bf444e3.png\"/></p> </li></ul> </li></ul>\n<h3><a id=\"13__77\"></a>1.3 安装扩展</h3>\n<p><a href=\"https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/\">扩展官方文档</a></p>\n<p><a href=\"https://github.com/ipython-contrib/jupyter_contrib_nbextensions\">Github地址</a></p>\n<pre><code class=\"prism language-conda\"># 安装扩展包\npip install jupyter_contrib_nbextensions\n# 安装 javascript和css文件\njupyter contrib nbextension install --user\n# 启动juputer notebook\n</code></pre>\n<p>发现多了<code>Nbextensions</code></p>\n<p><img alt=\"image-20220531153546131\" src=\"..\\..\\static\\image\\e1d0d48dddf02555a794b63d9e196780.png\"/></p>\n<p>然后取消勾选下面的这个选项就可以使用扩展了</p>\n<p><img alt=\"image-20220531153757299\" src=\"..\\..\\static\\image\\91b68afced83be4194be449f4173d26f.png\"/></p>\n<p>下面时几个比较有用的扩展</p>\n<pre><code>variable inspector\ntable of content\nsnippets\ncodefolding\nautopep8\nhide input\nsplit cell notebook\nzenmode\n</code></pre>\n<h3><a id=\"14__112\"></a>1.4 基本配置</h3>\n<ul><li> <p>命令行配置</p>\n<ul><li>可以使用<code>jupyter notebook --help</code>查看配置选项</li></ul> </li><li> <p>配置文件配置</p>\n<ul><li> <pre><code class=\"prism language-conda\"># 生成配置文件\njupyter notebook --generate-config\n# 配置文件的位置\n~/.jupyter                    # linux系统\nC:\\Users\\&lt;UserName&gt;\\.jupyter  # windows系统\n</code></pre> <p><img alt=\"image-20220531154658159\" src=\"..\\..\\static\\image\\9905994807b6feefb66ee3588d051bf1.png\"/></p> </li><li> <p>打开配置文件，jupyter_notebook_config.py，里面的内容默认全部注释掉，例如想要修改默认打开的本地目录，找到<code>c.NotebookApp.notebook_dir</code>：</p> </li><li> <p><img alt=\"image-20220531154903829\" src=\"..\\..\\static\\image\\47cf2fd307b54192c594f76f39ec6282.png\"/></p> </li><li> <p>保存后重启即可生效。</p> </li></ul> </li></ul>\n<h2><a id=\"2__136\"></a>2. 基本使用与快捷键</h2>\n<p><a href=\"https://www.bilibili.com/video/BV1Q4411H7fJ?share_source=copy_web\">参考视频</a></p>\n<h2><a id=\"3__140\"></a>3. 系统命令与魔法命令</h2>\n<h3><a id=\"31__142\"></a>3.1 使用系统命令</h3>\n<ul><li> <p>以<code>!</code>开始的一行命令可以运行系统命令（也就是启动jupyter notebook时的终端命令），这里以windows下的cmd命令提示符为例。</p> <p><img alt=\"image-20220528102423912\" src=\"..\\..\\static\\image\\deb9853e395bfd02aa56bf81562bdf90.png\"/></p> </li><li> <p>系统命令的输出内容可以储存在python变量中</p> <p><img alt=\"image-20220528102653193\" src=\"..\\..\\static\\image\\183bdcea232b2aa1cbb82648a08421cb.png\"/></p> </li><li> <p>在命令行中使用python变量</p> <p><img alt=\"image-20220528102836080\" src=\"..\\..\\static\\image\\0a7412faef31102881d9474250f1d2a3.png\"/></p> </li><li> <p>系统命令也可以嵌套在python循环内使用</p> <p><img alt=\"image-20220528103030563\" src=\"..\\..\\static\\image\\d413133fe56aa64f745e48dbe5a907a5.png\"/></p> </li></ul>\n<h3><a id=\"32__160\"></a>3.2 魔法命令</h3>\n<p>在Jupyter Notebook中，可以使用Magic命令来执行Python语言之外的命令，即可以在Jupyter Notebook中混合执行操作系统命令和脚本，以及其他语言的代码（Ruby，R等）</p>\n<p><a href=\"https://ipython.readthedocs.io/en/stable/interactive/magics.html\">魔法命令官方文档</a></p>\n<h4><a id=\"321__166\"></a>3.2.1 魔法命令简介</h4>\n<ul><li>Magic有两种形式：Line Magics和Cell Magics。 \n  <ul><li>Line Magics：以<code>%</code>开头，该行后面的内容都是Line Magics代码。</li><li>Cell Magics：以<code>%%</code>开头，后面整个单元格内都是Cell Magics代码。</li></ul> </li></ul>\n<p><img alt=\"image-20220528104408571\" src=\"..\\..\\static\\image\\0c0816355edf8ea0b28b1d879014670a.png\"/></p>\n<ul><li> <p>查看帮助内容</p>\n<ul><li> <p><code>%lsmagic</code>查看所有魔法命令</p> <p><img alt=\"image-20220528104757711\" src=\"..\\..\\static\\image\\d6dcbc411e2fcfd53b652c8b8eb69c10.png\"/></p> </li><li> <p><code>%time?</code>查看<code>time</code>魔法命令帮助文档</p> <p><img alt=\"image-20220528104916929\" src=\"..\\..\\static\\image\\d25fcb9cfdf6da37001e92a4060f87ef.png\"/></p> </li><li> <p><code>%time??</code>查看<code>time</code>魔法命令源代码</p> <p><img alt=\"image-20220528104947703\" src=\"..\\..\\static\\image\\31296a95fd76f8ab1b23e8e4ad715a93.png\"/></p> </li></ul> </li></ul>\n<h4><a id=\"322__188\"></a>3.2.2 常用魔法命令</h4>\n<ul><li> <p><code>%%writefile</code>命令用于将本单元格中的代码写入一个文件。</p>\n<ul><li> <p>命令格式：<code>%%writefile [-a] filename</code></p> </li><li> <p>如果带有<code>-a</code>参数则将内容追加到文件中，否则将覆盖文件内容。</p> <p><img alt=\"image-20220528110517014\" src=\"..\\..\\static\\image\\95f75171cc998d703c920565f27e1db4.png\"/></p> </li></ul> </li><li> <p><code>%pycat</code>命令用于显示python源文件内容。</p>\n<ul><li> <p>命令格式：<code>%pycat filename</code>，filename可以是本地文件、URL和代码历史范围等。</p> <p><img alt=\"image-20220528111131338\" src=\"..\\..\\static\\image\\17c753a6d37fe40c36f577354ebb2a18.png\"/></p> </li></ul> </li><li> <p><code>%run</code>命令用于运行python源文件。</p>\n<ul><li> <p>命令格式：<code>%run filename</code>。</p> <p><img alt=\"image-20220528111347391\" src=\"..\\..\\static\\image\\59f36582abd77072f7345b0a499f7fe1.png\"/></p> </li></ul> </li><li> <p><code>%load</code>命令用于加载文件到Notebook中。</p>\n<ul><li> <p>命令格式：<code>%run filename</code>，filename可以是本地文件、URL和代码历史范围等。</p> </li><li> <p>运行前：</p> <p><img alt=\"image-20220528111558013\" src=\"..\\..\\static\\image\\cac24765e1658f7d05d1c144df8f9e8f.png\"/></p> </li><li> <p>运行后：</p> <p><img alt=\"image-20220528111643002\" src=\"..\\..\\static\\image\\052e1311610764c74b4677f064ac7702.png\"/></p> </li></ul> </li><li> <p><code>%store</code>命令用于保存变量当前值，可以在多个Notebook之间传递变量。</p>\n<ul><li> <p>命令格式：<code>%store variablename</code>。</p> </li><li> <p>当前Notebook中储存：</p> <p><img alt=\"image-20220528112043134\" src=\"..\\..\\static\\image\\3a1da19a4796ba4b0587043ce2a3fa1d.png\"/></p> </li><li> <p>另一个Notebook中取出</p> <p><img alt=\"image-20220528112252415\" src=\"..\\..\\static\\image\\dd79aeb466a9c699a4d0ebe0c332e0a5.png\"/></p> </li></ul> </li><li> <p><code>%who</code>命令用于显示所有变量清单，也可以显示指定变量类型。</p>\n<ul><li> <p>命令格式：<code>%who [type]</code>.</p> </li><li> <p>没有<code>type</code>参数</p> <p><img alt=\"image-20220528112831088\" src=\"..\\..\\static\\image\\2a9f467b27b7e8e2a93b307b957d9b8d.png\"/></p> </li><li> <p>有<code>type</code>参数</p> <p><img alt=\"image-20220528112916021\" src=\"..\\..\\static\\image\\d1888f6d5b7ba09f5a5cf9a6831814ce.png\"/></p> </li></ul> </li><li> <p><code>%matplotlib inline</code>，使得<code>matplotlib</code>绘制的图像直接在单元格中显示，而不需要<code>plt.show()</code>。</p>\n<ul><li> <pre><code class=\"prism language-python\"><span class=\"token comment\"># %matplotlib inline使得matplotlib绘制的图像直接在单元格中显示，而不需要plt.show()</span>\n<span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt \n<span class=\"token keyword\">from</span> skimage <span class=\"token keyword\">import</span> data\nimg<span class=\"token operator\">=</span>data<span class=\"token punctuation\">.</span>astronaut<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>figure<span class=\"token punctuation\">(</span>num<span class=\"token operator\">=</span><span class=\"token string\">'astronaut'</span><span class=\"token punctuation\">,</span>figsize<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">#创建一个名为astronaut的窗口,并设置大小 </span>\n\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#将窗口分为两行两列四个子图，则可显示四幅图片</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'origin image'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">#第一幅图片标题</span>\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span>      <span class=\"token comment\">#绘制第一幅图片</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#不显示坐标尺寸</span>\n\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#第二个子图</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'R channel'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">#第二幅图片标题</span>\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">#绘制第二幅图片</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#不显示坐标尺寸</span>\n\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#第三个子图</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'G channel'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">#第三幅图片标题</span>\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">#绘制第三幅图片</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#不显示坐标尺寸</span>\n\nplt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#第四个子图</span>\nplt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'B channel'</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">#第四幅图片标题</span>\nplt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">#绘制第四幅图片</span>\nplt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">#不显示坐标尺寸</span>\n<span class=\"token keyword\">pass</span>\n<span class=\"token comment\"># plt.show()   #显示窗口,有了%matplotlib inline 就可以省掉plt.show()了</span>\n</code></pre> </li><li> <p><img alt=\"image-20220528113438065\" src=\"..\\..\\static\\image\\705e44bdace165d27c32544179d8163b.png\"/></p> </li></ul> </li></ul>\n<h4><a id=\"323__281\"></a>3.2.3 自定义魔法命令</h4>\n<p><a href=\"https://ipython.readthedocs.io/en/stable/config/custommagics.html\">官方文档</a></p>\n<ul><li> <p>使用两个修饰模块：单元魔法命令register_cell_magic，行魔法命令register_line_magic</p>\n<ul><li> <p>定义一个行魔法命令，功能是翻译内容</p>\n<ul><li>命令格式：<code>%translate content</code>，将content翻译为中文</li></ul> <p><img alt=\"image-20220528113949501\" src=\"..\\..\\static\\image\\99e598ac23d9bed39fc03a48bc6014a3.png\"/></p> </li><li> <p>使用新定义的行魔法命令</p> <p><img alt=\"image-20220528114221074\" src=\"..\\..\\static\\image\\e39a8e15607371a010d2574699cc8061.png\"/></p> </li></ul> </li><li> <p>使得定义的魔法函数能被所有Notebook使用。</p>\n<ul><li> <p>将自定义魔法命令添加到扩展中，所有的notebook都可以使用<br/> 可以将这个<code>magic function</code>添加到一个<code>extension module</code>，需要将这个py文件放在和<code>notebook</code>相同的目录。或者添加到<code>~/.ipython/extensions</code>，这样在新的notebook文件中使用<code>%1oad_ext 扩展名</code> 就可以得到刚才定义的<code>magic function</code>。<code>~/.ipython/extensions</code>会被自动添加到Python path，所以所有的notebook都可以找打这个extension。</p> </li><li> <p>第一步，将定义的魔法函数写入translate.py。</p> <p><img alt=\"image-20220528114548629\" src=\"..\\..\\static\\image\\70f0cd0c5b03b0753ec0676ae42d3d17.png\"/></p> </li><li> <p>第二步，将translate.py文件添加到<code>C:\\Users\\username\\.ipython\\extensions</code>中。</p> <p><img alt=\"image-20220528114914758\" src=\"..\\..\\static\\image\\806e9a4b8cf36f0758be9484d390ba3a.png\"/></p> </li><li> <p>第三步，在新的Notebook中使用<code>%load_ext translate</code></p> <p><img alt=\"image-20220528115034378\" src=\"..\\..\\static\\image\\eae411dd2e61c0496c0de4e23381353d.png\"/></p> </li></ul> </li></ul>\n<h2><a id=\"4display_314\"></a>4.<code>display</code>模块显示示多媒体内容</h2>\n<p>Jupyter notebook中使用<code>IPython.display</code>模块可以输出显示多媒体内容，如音频、视频、图片和网页等。</p>\n<p><a href=\"https://ipython.readthedocs.io/en/stable/api/generated/IPython.display.html?highlight=display\">官方文档</a></p>\n<h3><a id=\"41_HTML_320\"></a>4.1 显示图片、HTML、音频、视频</h3>\n<ul><li> <p>导入需要的类和函数，<code>display</code>用于显示多媒体内容</p> <p><img alt=\"image-20220529094602185\" src=\"..\\..\\static\\image\\c3ff38e9c3b2d6d4b910a5dc06145178.png\"/></p> </li><li> <p>显示图片</p> <p><img alt=\"image-20220529094858843\" src=\"..\\..\\static\\image\\c474b8f07339d1acfb090e49436a9292.png\"/></p> </li><li> <p>显示HTML</p> <p><img alt=\"image-20220529094952541\" src=\"..\\..\\static\\image\\e5865dbabfc6bb60a28898216fc32c4b.png\"/></p> </li><li> <p>播放音频</p> <p><img alt=\"image-20220529095910324\" src=\"..\\..\\static\\image\\ae62e22d13d2bdd50336053f51f24ea2.png\"/></p> </li><li> <p>显示视频</p> <p><img alt=\"image-20220529100059646\" src=\"..\\..\\static\\image\\12247a2de083d91c39682367e8971cd3.png\"/></p> </li></ul>\n<h3><a id=\"42__342\"></a>4.2 显示网页</h3>\n<p>显示网页的IFrame类功能比较强大，单独拿出来介绍。</p>\n<ul><li> <p>直接嵌入网页</p> <p><img alt=\"image-20220529100752482\" src=\"..\\..\\static\\image\\b3ebb8ce14cee6dc507672f4690bb74e.png\"/></p> </li><li> <p>嵌入在线音频</p>\n<ul><li> <p>需要找到相应的嵌入代码，例如嵌入网易云音乐，可以去网易云官网找到嵌入代码，如下图所示：</p> <p><img alt=\"img\" src=\"..\\..\\static\\image\\8d05bd8d55faf265f1b60aea50ea1450.png\"/></p> <p><img alt=\"img\" src=\"..\\..\\static\\image\\e3dcdfa083c581aac29a015dfc91d75d.png\"/></p> </li><li> <p>效果如下：</p> <p><img alt=\"image-20220529101350680\" src=\"..\\..\\static\\image\\48307fd96cbe6c0e0f38b8bfe141c5ab.png\"/></p> </li></ul> </li><li> <p>嵌入在线视频</p>\n<ul><li> <p>于音频类似，这里以哔哩哔哩为例，如下图：</p> <p><img alt=\"img\" src=\"..\\..\\static\\image\\f99f654ff0819d45774b3f3f7afb5c71.png\"/></p> </li><li> <p>效果如下</p> <p><img alt=\"image-20220529101654494\" src=\"..\\..\\static\\image\\f23550522baa4f2030aab3114fa63eed.png\"/></p> </li></ul> </li><li> <p>嵌入本地pdf</p>\n<ul><li> <p>效果如下</p> <p><img alt=\"image-20220529101828258\" src=\"..\\..\\static\\image\\31c50e0c357b5f260f7b5696a09b1889.png\"/></p> </li></ul> </li></ul>\n<h2><a id=\"5_ipywidgets_378\"></a>5. <code>ipywidgets</code>创建交互界面</h2>\n<p>widget是可以和用户交互的控件，如文本输入框，滑动条，按钮等，从而在Jupyter Notebook中构建可交互的用户界面。ipywidgets包含了丰富的widget，这些widget既是后端的python对象，也是前端的网页元素，他们可以相互发送和同步信息。</p>\n<p><a href=\"https://ipywidgets.readthedocs.io/en/latest/\">ipywidgets官方文档</a></p>\n<pre><code class=\"prism language-notebook\"># 如果没有ipywidgets可以执行下面两条命令安装\n!pip install ipywidgets\n!jupyter nbextension enable --py widgetsnbextension\n</code></pre>\n<h3><a id=\"51_widget_390\"></a>5.1 widget简介</h3>\n<h4><a id=\"511__392\"></a>5.1.1 基本概念</h4>\n<p><code>ipywidgets</code>中提供了多种widget的类，在使用各种widget时一般先进行实例化，然后设置属性，最后使用<code>display</code>显示。下面演示一个滑动条的例子：</p>\n<ul><li> <p><img alt=\"image-20220529105402034\" src=\"..\\..\\static\\image\\eb997f35ca13f524a269f867367f19d3.png\"/></p> </li><li> <p>对于每个widget，其后端是Notebook内核中的一个python对象，而我们所看到的滑动条是前端页面对该对象创建的HTML/Javascript视图。因此我们改变前端的一些属性如滑动滑杆改变数值，后端滑杆的value属性也会相应发生改变，同理，我们修改后端的属性，前端的显示也会发生相应改变。</p> </li></ul>\n<h4><a id=\"512__402\"></a>5.1.2 属性</h4>\n<p>每个widget都是一个类，那么就有其相应的属性的方法，如上面的滑动条有<code>description</code>和<code>value</code>属性分别表示滑动条前面的描述文字和当前滑动条的值。</p>\n<ul><li>通过<code>dir()</code>函数查看widget的属性和方法 \n  <ul><li><img alt=\"image-20220529113021963\" src=\"..\\..\\static\\image\\715a9d168ae5164ea930026074ccc57b.png\"/></li></ul> </li><li>通过widget的keys属性显示widget的所有同步的、有状态的属性 \n  <ul><li> <img alt=\"image-20220529113242703\" src=\"..\\..\\static\\image\\image-20220529113242703.png\"/> </li></ul> </li></ul>\n<h3><a id=\"52_widgets_411\"></a>5.2 创建常用widgets</h3>\n<h4><a id=\"521__413\"></a>5.2.1 滑动条类</h4>\n<p>滑动条类的widget控件有很多，有单个数值的IntSlider和FloatSlider和范围数值的IntRangeSlider和FloatRangeSlider。</p>\n<ul><li> <p>IntSlider和FloatSlider</p>\n<ul><li> <p>IntSlider的数值都是整数，而FloatSilder是浮点数</p> </li><li> <p>以FloatSlider为例，效果如下：</p> <p><img alt=\"image-20220529114623331\" src=\"..\\..\\static\\image\\75d192b6a3bcf12dc6d1e79f57ca960a.png\"/></p> <p>属性设置设置：初始值为1.5，最小值为0.1，最大值为2.0，每次变化0.01</p> </li></ul> </li><li> <p>IntRangeSlider和FloatRangeSlider</p>\n<ul><li> <p>和上面的区别在于，这里的数值返回的是一个范围</p> </li><li> <p>以以FloatRangeSlider为例</p> <p><img alt=\"image-20220529115423461\" src=\"..\\..\\static\\image\\4a4d368a6437f84f0e475ff8a9f51163.png\"/></p> </li></ul> </li></ul>\n<h4><a id=\"522__435\"></a>5.2.2 进度条类</h4>\n<p>IntProgress和FloatProgress用于显示进度条。</p>\n<ul><li> <p>IntProgress</p> <p><img alt=\"image-20220530093819090\" src=\"..\\..\\static\\image\\b6881b24b6b4ea7c74d0ecee1644f40d.png\"/></p> </li><li> <p>FloatProgress</p> <p><img alt=\"image-20220530093915986\" src=\"..\\..\\static\\image\\933e1fc918c4ae0df9df228f2ac0a7c2.png\"/></p> </li></ul>\n<h4><a id=\"523__447\"></a>5.2.3 文本类</h4>\n<ul><li> <p>数值文本IntText、FloatText、BoundedIntText、BoundedFloatText，这四个widget提供了整数或者浮点数的数值文本框，并且可以通过右侧的箭头调整数值大小。</p>\n<ul><li> <p>IntText和FloatText，没有数值范围限制</p> <p><img alt=\"image-20220530094957712\" src=\"..\\..\\static\\image\\050fb6fcefc62f16e452818ab0f8eca7.png\"/></p> </li><li> <p>BoundedIntText和BoundedFloatText，有数值范围限制</p> <p><img alt=\"image-20220530095838486\" src=\"..\\..\\static\\image\\5887afb9d0047242419a764299c095f1.png\"/></p> </li></ul> </li><li> <p>文字文本Text、Textarea、Label、HTML</p>\n<ul><li> <p>Text输入和显示文本内容</p> <p><img alt=\"image-20220530102820084\" src=\"..\\..\\static\\image\\e5a6223488f684a553cdf6f77997a91b.png\"/></p> </li><li> <p>Textarea用于输入和显示多行文本</p> </li></ul> <p><img alt=\"image-20220530103440928\" src=\"..\\..\\static\\image\\7806543b65cd744ec1739389ac262b03.png\"/>]</p>\n<ul><li> <p>Label用于显示标签文本</p> <p><img alt=\"image-20220530104209482\" src=\"..\\..\\static\\image\\c18b6cecffca754de9b83edd47b2668a.png\"/></p> </li><li> <p>HTML用于显示复杂格式文本</p> <p><img alt=\"image-20220530105318831\" src=\"..\\..\\static\\image\\92df18faf97377e3c18b318abe467b0e.png\"/></p> </li></ul> </li></ul>\n<h4><a id=\"524__477\"></a>5.2.4 点击类</h4>\n<p>用于显示Bool值的一些控件</p>\n<ul><li> <p>复选框Checkbox</p> <p><img alt=\"image-20220530101051736\" src=\"..\\..\\static\\image\\79db73ca2d39a4d907f5f2e40cf5fb41.png\"/></p> </li><li> <p>状态开关按钮ToggleButton</p> <p><img alt=\"image-20220530101724797\" src=\"..\\..\\static\\image\\1784335cbe6090c446f041543423ba99.png\"/></p> </li><li> <p>验证控件Valid，无法点击改变值，只能设置和读取</p> <p><img alt=\"image-20220530102042089\" src=\"..\\..\\static\\image\\27c4cf1c1f1b88bf72f87bc6c4f8641f.png\"/></p> <p>还有一种常用的点击类控件Button，它有自己的特殊方法<code>on_click()</code>来监听Button控件的点击情况，这种点击情况可以称之为<strong>事件</strong>，当事件发生时会执行某些事件处理函数，具体在后面[5.3事件绑定](###5.3 事件绑定)中演示</p> </li></ul>\n<h4><a id=\"525__495\"></a>5.2.5 选项类</h4>\n<p>选项类可以显示选项列表，包括单选功能的Dropdown、RadioButtons和Select，多选功能有SelectMultiple。</p>\n<ul><li> <p>Dropdown下拉菜单</p> <p><img alt=\"image-20220530111836554\" src=\"..\\..\\static\\image\\70153be637c79a2e465d77fa08631cc9.png\"/></p> </li><li> <p>RadioButtons选项</p> <p><img alt=\"image-20220530112809052\" src=\"..\\..\\static\\image\\dea50c2e7f8fa73c2bda43ff86dd1c2f.png\"/></p> </li><li> <p>Select选项</p> <p><img alt=\"image-20220530112429242\" src=\"..\\..\\static\\image\\55584ec3a4a84ff9cd9344fbc86f2f80.png\"/></p> </li><li> <p>SelectMultiple多选项</p> <p><img alt=\"image-20220530112923051\" src=\"..\\..\\static\\image\\4d7f6c944649ae742f322cec372d2265.png\"/></p> </li></ul>\n<h4><a id=\"526__515\"></a>5.2.6 多媒体类</h4>\n<ul><li> <p>Image显示图片</p> <p><img alt=\"image-20220530111055077\" src=\"..\\..\\static\\image\\c726cd36e03fddfe4cb449d0412fe4c5.png\"/></p> </li></ul>\n<h4><a id=\"527__521\"></a>5.2.7 输出类</h4>\n<p>在所有widget中有一种特殊的控件——Output控件，它可以将输出统一显示在其实例化的控件中。</p>\n<p><img alt=\"image-20220530183942597\" src=\"..\\..\\static\\image\\0a3c41aad26f16ba8c763db3cf18fdd3.png\"/></p>\n<p>执行上面的代码，notebook中并没有输出，如果想要显示<code>hello</code>，需要使用<code>display</code>函数显示output对象，如下：</p>\n<p><img alt=\"image-20220530184212789\" src=\"..\\..\\static\\image\\4d884a4fb4b6641c29b6da87b059567b.png\"/></p>\n<p>Output类中有一个重要的方法<code>clear_output()</code>来清除output显示的内容。运行下面的代码后，<code>In[68]</code>输出的<code>hello</code>会被清除。</p>\n<p><img alt=\"image-20220530184519044\" src=\"..\\..\\static\\image\\90e5c98bad7cc791e2a70e46eb1c31ef.png\"/></p>\n<p>下面使用Output控件显示一张图片和它的灰度直方图：</p>\n<p><img alt=\"image-20220530184809691\" src=\"..\\..\\static\\image\\0dc2f62a061995a9b41489c2d8b7835c.png\"/></p>\n<blockquote>\n<p>Output控件在后面实现一个完整的交互式应用中有重要作用，它可以将所有交互控件的组合统一集中在一个输出界面下。</p>\n</blockquote>\n<h4><a id=\"528__541\"></a>5.2.8 排版类</h4>\n<p>如果需要按一定的布局来显示多种控件，那么一些排版类的控件很方便我们实现一定的布局，常用的排版控件主要有Box、HBox、VBox、GridBox、Layout、AppLayout等。</p>\n<ul><li> <p>Box、HBox、VBox可以将各控件封装在一个“盒子”中进行排版，Box比较灵活，一般HBox和VBox可以满足一般的需求，HBox是将多个widget横向排列，VBox是将多个widget钟祥排列，下面是利用HBox和VBox排版后，显示昇思深度学习框架的一些信息。</p> <p><img alt=\"image-20220530190819783\" src=\"..\\..\\static\\image\\d9b9388418f80dc5b57b38504b3d4470.png\"/></p> </li><li> <p>AppLayout</p>\n<ul><li> <p>AppLayout控件有header、left_siderbar、center、right_sidebar、footer属性，这些属性分别对象下面输出中的区域，可以使用AppLayout将想进行排版的控件赋值给相应的属性，用不到的位置可以赋值<code>None</code>，AppLayout会自动适应填充新布局。</p> <p><img alt=\"image-20220530213514823\" src=\"..\\..\\static\\image\\ecfa437bfd558dbff74f40e0dcbb09e4.png\"/></p> </li></ul> </li></ul>\n<h3><a id=\"53_widget_555\"></a>5.3 widget之间建立关联</h3>\n<p>一些数值类的widget可以建立关联，改变其中一个widget的值，与其关联的widget的值也会发生变化。</p>\n<h4><a id=\"531_linkdlink_559\"></a>5.3.1 link()和dlink()方法</h4>\n<ul><li> <p>link()</p> <p><img alt=\"image-20220530215501314\" src=\"..\\..\\static\\image\\b0be09ca7974950ab2522798404f3e3c.png\"/></p>\n<blockquote>\n<p>注意建立关联的位置，改变滑动条的数值时文本框中的数值也会发生改变，反之亦然。</p>\n</blockquote> </li><li> <p>dlink()</p> <p><img alt=\"image-20220530215833740\" src=\"..\\..\\static\\image\\9ed8fd4676c6e9d59e8e438026fcbc62.png\"/></p>\n<blockquote>\n<p>它与link()的区别在于dlink()是单向连接的，改变滑动条的数值时文本框中的数值也会发生改变，反之则不行。</p>\n</blockquote> </li></ul>\n<h4><a id=\"532_jslinkjsdlink_573\"></a>5.3.2 jslink()和jsdlink()方法</h4>\n<ul><li> <p>jslink()</p> <p><img alt=\"image-20220530220058859\" src=\"..\\..\\static\\image\\87d50c3f79057c05ab0515280e3d1260.png\"/></p> </li><li> <p>jsdlink()</p> <p><img alt=\"image-20220530220128577\" src=\"..\\..\\static\\image\\31b0bb76fcab2924359181635d213745.png\"/></p> </li></ul>\n<blockquote>\n<p>jslink()和jsdlink()在正常情况下于link()和dlink()的功能完全一致，但是当浏览器前端于后端内核断开时，前者依然有效（仅仅在显示层面）而后者失效。</p>\n<p><img alt=\"image-20220530220522258\" src=\"..\\..\\static\\image\\3d05910364449bdc2e9d5aad1812be57.png\"/></p>\n<p>上图时内核断开后改变滑动条数值时，文本框数值也会改变。</p>\n</blockquote>\n<h4><a id=\"533__589\"></a>5.3.3 断开关联</h4>\n<p>对于已经建立关联的对象，使用<code>unlink()</code>方法即可断开连接。</p>\n<p><img alt=\"image-20220530220959376\" src=\"..\\..\\static\\image\\4958f0b46cdf06269df4f3b9e1cd3738.png\"/></p>\n<h3><a id=\"54_widget_595\"></a>5.4 widget事件绑定</h3>\n<h4><a id=\"541__597\"></a>5.4.1 事件</h4>\n<p>交互式应用要求应用需要对操作做出相应的响应，从使用者做出操作到应用响应这个过程被称为<strong>事件</strong>。例如，点击一个按钮控件就可以触发执行一个函数，这个函数被称为事件处理函数。</p>\n<p>下面以Button为例：</p>\n<p><img alt=\"image-20220531085741680\" src=\"..\\..\\static\\image\\4f640b4e49c481c1a0eb073aece3c6af.png\"/></p>\n<blockquote>\n<p>上面的例子中，只要点击“按键1”就会打印上图所示两行内容，Button控件和事件处理函数是通过<code>on_click()</code>方法进行绑定的，它是Button的一种特殊方法。</p>\n<p>进一步观察<code>magic()</code>事件处理函数可以发现，该函数的传入参数是Button控件实例化的对象，<code>on_click()</code>方法可以执行<code>magic()</code>函数并且将控件对象传入，因此事件处理函数可以使用控件的属性和方法。</p>\n</blockquote>\n<h4><a id=\"542__609\"></a>5.4.2 事件绑定方法</h4>\n<ul><li> <p>5.4.1节演示了Button控件的事件绑定方法<code>on_click()</code>，文本框也有类似的特殊方法<code>on_submit()</code>，示例如下：</p> <p><img alt=\"image-20220531090910156\" src=\"..\\..\\static\\image\\e54c848cff8984405052bfcacb633b78.png\"/></p> </li><li> <p><code>on_click()</code>和<code>on_submit()</code>是Button控件和Text控件特有的事件绑定方法，对于其他控件有一种通用的事件绑定方法<code>observe()</code>，下面以Dropdown控件为例：</p> <p><img alt=\"image-20220531091600093\" src=\"..\\..\\static\\image\\9b219abe034ab5323f7f05a401cfe06c.png\"/></p> <p><img alt=\"image-20220531091814312\" src=\"..\\..\\static\\image\\8c8b0d5edbf5561ca86d27efcd4e7f47.png\"/></p>\n<blockquote>\n<p>上的的示例的功能是，下拉菜单选择图片名，下方图片会显示相应的图片。</p>\n<p><code>observe()</code>方法的作用是监听被绑定控件某些属性的变化，如上面监听的是Dropdown控件的<code>value</code>属性的变化，并将变化存在<code>change</code>这个字典中。可以观察最下方<code>change</code>的输出：</p>\n<pre><code class=\"prism language-python\"><span class=\"token punctuation\">{<!-- --></span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">'old'</span>  <span class=\"token punctuation\">:</span> <span class=\"token string\">'camera'</span><span class=\"token punctuation\">,</span> \n<span class=\"token string\">'new'</span>  <span class=\"token punctuation\">:</span> <span class=\"token string\">'logo'</span><span class=\"token punctuation\">,</span> \n<span class=\"token string\">'owner'</span><span class=\"token punctuation\">:</span> Dropdown<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">'pick images'</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> options<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cat'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'camera'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'logo'</span><span class=\"token punctuation\">,</span>                    <span class=\"token string\">'checkerboard'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'rocket'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'coins'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'colorwheel'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token string\">'logo'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n<span class=\"token string\">'type'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'change'</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<p>observe()的第一个输入参数是事件处理函数，第二个输入参数是要监听的属性，只要该属性一改变，就会触发事件处理函数。</p>\n</blockquote> </li></ul>\n<h3><a id=\"55__635\"></a>5.5 制作一个完整的交互应用</h3>\n<p>前面介绍了widget控件的基本使用方法，现在可以利用上面介绍的内容制作一个完整的交互式应用，该应用的功能是显示指定图片及其高斯模糊图片，并且可以实时调节高斯模糊度，进行显示。</p>\n<p>运行前请执行<code>pip uninstall scikit-image</code>和<code>pip install scikit-image==0.18</code>，其他版本可能会出现警告。</p>\n<pre><code class=\"prism language-python\"><span class=\"token keyword\">import</span> ipywidgets <span class=\"token keyword\">as</span> wgs\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">from</span> skimage <span class=\"token keyword\">import</span> data<span class=\"token punctuation\">,</span>filters\n\n<span class=\"token comment\"># 必要数据</span>\nimg_lists <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'cat'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'camera'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'logo'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'checkerboard'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'rocket'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'coins'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'text'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 创建控件</span>\nhead <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>HTML<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;h1&gt;Image Blurring App&lt;/h1&gt;'</span><span class=\"token punctuation\">)</span>\nlabel_1 <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>Label<span class=\"token punctuation\">(</span>value<span class=\"token operator\">=</span><span class=\"token string\">\"选择图片：\"</span><span class=\"token punctuation\">)</span>\nlabel_2 <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>Label<span class=\"token punctuation\">(</span>value<span class=\"token operator\">=</span><span class=\"token string\">\"选择模糊度：\"</span><span class=\"token punctuation\">)</span>\nslider <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>IntSlider<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">\"Sigma\"</span><span class=\"token punctuation\">,</span>value<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">min</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">max</span><span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>layout<span class=\"token operator\">=</span>wgs<span class=\"token punctuation\">.</span>Layout<span class=\"token punctuation\">(</span>height<span class=\"token operator\">=</span><span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">=</span><span class=\"token string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndropdown <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>Dropdown<span class=\"token punctuation\">(</span>description<span class=\"token operator\">=</span><span class=\"token string\">\"Images\"</span><span class=\"token punctuation\">,</span>options<span class=\"token operator\">=</span>img_lists<span class=\"token punctuation\">,</span>layout<span class=\"token operator\">=</span>wgs<span class=\"token punctuation\">.</span>Layout<span class=\"token punctuation\">(</span>height<span class=\"token operator\">=</span><span class=\"token string\">'auto'</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">=</span><span class=\"token string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\noutput <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>Output<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 定义事件处理函数</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">on_dropdown_change</span><span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    sigma <span class=\"token operator\">=</span> slider<span class=\"token punctuation\">.</span>value\n    img <span class=\"token operator\">=</span> <span class=\"token builtin\">getattr</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span>change<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    blurred <span class=\"token operator\">=</span> filters<span class=\"token punctuation\">.</span>gaussian<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span>sigma<span class=\"token operator\">=</span>sigma<span class=\"token punctuation\">,</span>channel_axis<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>preserve_range<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token string\">'uint8'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> output<span class=\"token punctuation\">:</span>\n        output<span class=\"token punctuation\">.</span>clear_output<span class=\"token punctuation\">(</span>wait<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">121</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span>cmap<span class=\"token operator\">=</span><span class=\"token string\">'gray'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'Origanal'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">122</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>blurred<span class=\"token punctuation\">,</span>cmap<span class=\"token operator\">=</span><span class=\"token string\">'gray'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'Blurred'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">on_slider_change</span><span class=\"token punctuation\">(</span>change<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    sigma <span class=\"token operator\">=</span> change<span class=\"token punctuation\">.</span>new\n    img <span class=\"token operator\">=</span> <span class=\"token builtin\">getattr</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span>dropdown<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    blurred <span class=\"token operator\">=</span> filters<span class=\"token punctuation\">.</span>gaussian<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span> sigma<span class=\"token operator\">=</span>sigma<span class=\"token punctuation\">,</span>channel_axis<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>preserve_range<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token string\">'uint8'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">with</span> output<span class=\"token punctuation\">:</span>\n        output<span class=\"token punctuation\">.</span>clear_output<span class=\"token punctuation\">(</span>wait<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">121</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span>cmap<span class=\"token operator\">=</span><span class=\"token string\">'gray'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'Origanal'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>subplot<span class=\"token punctuation\">(</span><span class=\"token number\">122</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>imshow<span class=\"token punctuation\">(</span>blurred<span class=\"token punctuation\">,</span>cmap<span class=\"token operator\">=</span><span class=\"token string\">'gray'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token string\">'Blurred'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>axis<span class=\"token punctuation\">(</span><span class=\"token string\">'off'</span><span class=\"token punctuation\">)</span>\n        plt<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 绑定事件</span>\nslider<span class=\"token punctuation\">.</span>observe<span class=\"token punctuation\">(</span>on_slider_change<span class=\"token punctuation\">,</span>names<span class=\"token operator\">=</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span>\ndropdown<span class=\"token punctuation\">.</span>observe<span class=\"token punctuation\">(</span>on_dropdown_change<span class=\"token punctuation\">,</span>names<span class=\"token operator\">=</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 排版</span>\nleft_box <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>VBox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>label_1<span class=\"token punctuation\">,</span>dropdown<span class=\"token punctuation\">,</span>label_2<span class=\"token punctuation\">,</span>slider<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nbox <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>HBox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>left_box<span class=\"token punctuation\">,</span>output<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nvbox <span class=\"token operator\">=</span> wgs<span class=\"token punctuation\">.</span>VBox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>head<span class=\"token punctuation\">,</span>box<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 显示</span>\ndisplay<span class=\"token punctuation\">(</span>vbox<span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"image-20220531103519175\" src=\"..\\..\\static\\image\\d08828bc4aa145a0c923e1d8279f06ae.png\"/></p>\n<blockquote>\n<p>可以使用Dropdown选择要显示的图片，调节滑动条显示模糊后的图片。</p>\n</blockquote>\n<p>下面是使用AppLayout排版得到的效果</p>\n<pre><code class=\"prism language-python\"><span class=\"token comment\"># 使用AppLayout排版</span>\n<span class=\"token keyword\">from</span> ipywidgets <span class=\"token keyword\">import</span> AppLayout\nAppLayout<span class=\"token punctuation\">(</span>header<span class=\"token operator\">=</span>wgs<span class=\"token punctuation\">.</span>HTML<span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;h1 style=\"text-align:center;\"&gt;Image Blurring App&lt;/h1&gt;'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n          left_sidebar<span class=\"token operator\">=</span>left_box<span class=\"token punctuation\">,</span>\n          center<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n          right_sidebar<span class=\"token operator\">=</span>output<span class=\"token punctuation\">,</span>\n          footer<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><img alt=\"image-20220531103800933\" src=\"..\\..\\static\\image\\2d7635cdc84a4ba4f3504fe1d6ddba4a.png\"/></p>\n<h3><a id=\"56__722\"></a>5.6 自动生成交互应用</h3>\n<p>除了上述上述可以手动制作交互应用，还可以通过内置的<code>interact</code>交互方式自动生成实时交互应用。</p>\n<h4><a id=\"561_interact_726\"></a>5.6.1 使用<code>interact()</code></h4>\n<p><img alt=\"image-20220531105515164\" src=\"..\\..\\static\\image\\d19635aa62c277279f9b24ba0c6e2355.png\"/></p>\n<h4><a id=\"562__730\"></a>5.6.2 使用装饰器</h4>\n<p>可以将上述代码进一步简化，在定义交互函数时使用<code>@interact()</code>装饰器，可以获得一样的效果：</p>\n<p><img alt=\"image-20220531110829942\" src=\"..\\..\\static\\image\\8ebe1ff5e716c0e5ec981aa55b3b16ba.png\"/></p>\n<h4><a id=\"563_interactive_736\"></a>5.6.3 使用<code>interactive()</code></h4>\n<p><code>interactive()</code>和<code>interact()</code>的区别在于前者必须使用<code>diaplay()</code>才能显示，可以根据需要自主选择显示的位置，同时<code>interactive()</code>返回的是一个widget，因此可以根据需要调用<code>interactive()</code>中各widget的属性。</p>\n<p><img alt=\"image-20220531111524924\" src=\"..\\..\\static\\image\\f28d0eba33f27dc696b2655789089722.png\"/></p>\n<p><img alt=\"image-20220531111543788\" src=\"..\\..\\static\\image\\fb1bdf1ce5c9223c44f38487a102cdf5.png\"/></p>\n<h4><a id=\"564_interact_manualcontinuous_update_744\"></a>5.6.4 使用<code>interact_manual()</code>或<code>continuous_update</code></h4>\n<ul><li> <p>有时候希望调整结束后再显示最终结果，那么就可以使用<code>interact_mannal()</code>手动控制结果显示。</p> <p><img alt=\"image-20220531112551852\" src=\"..\\..\\static\\image\\4c2b161a69be5e542a7a4c6fcad68487.png\"/></p> </li><li> <p>也可以使用控件的<code>continuous_update</code>属性，将其设置为False，及鼠标停止调节时，widget中的值才进行更新。</p> <p><img alt=\"image-20220531112852015\" src=\"..\\..\\static\\image\\50655cfa6f55ab29a6a8da98e7bdfb31.png\"/></p> </li></ul>\n<h2><a id=\"6__753\"></a>6. 参考资料</h2>\n<ul><li>《Jupyter入门与实战》</li><li><a href=\"https://www.bilibili.com/video/BV1uL411P7HK?share_source=copy_web\">参考视频</a></li><li><a href=\"https://blog.csdn.net/lyang1896/article/details/113274398\">conda 下安装jupyter notebook</a></li></ul>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "JavaScript", "cpp": 0, "csharp": 0, "python": 1, "javascript": 1, "java": 0, "sql": 0, "php": 0, "time": "2022-05-31 16:31:23", "summary": "入门教程前言是一款创建和分享计算文档的网络应用程序。它提供了一种简单、流线型、以文档为中心的体验。由于它可以同时显示丰富的文本和运行代码，并且其内置丰富的交互式控件，能够极大地丰富了可视化功能，给使用"}