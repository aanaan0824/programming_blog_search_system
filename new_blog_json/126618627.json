{"blogid": "126618627", "writerAge": "码龄4年", "writerBlogNum": "151", "writerCollect": "77", "writerComment": "3", "writerFan": "39", "writerGrade": "4级", "writerIntegral": "1574", "writerName": "无情的阅读机器", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126618627.jpg", "writerRankTotal": "13453", "writerRankWeekly": "5146", "writerThumb": "29", "writerVisitNum": "51679", "blog_read_count": "658", "blog_time": "于 2022-08-31 21:12:40 发布", "blog_title": "08c++呵呵老师【给子弹添加爆炸效果】", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>关于特效的常用代码：</p>\n<p>1.增加特效函数：</p>\n<p>UGameplayStatics::SpawnEmitterAtLocation()</p>\n<p>2.一个指向世界或者关卡的指针：</p>\n<p>UWorld*    （GetWorld()函数可以得到，Actor类里面定义的）</p>\n<p>3.一个指向粒子组件的指针：</p>\n<p>UParticleSystem*</p>\n<p>4.一个位置的引用：</p>\n<p>const FTransform &amp; SpawnFTransform    （this-&gt;GetTransform() 可以得到）</p>\n<p>=======================================</p>\n<p>上几期教程比较老，我们直接换个新一点的</p>\n<h1 id=\"articleContentId\"><img alt=\"\" height=\"774\" src=\"..\\..\\static\\image\\3be548798ae4494f88bc80a016b824d9.png\" width=\"1110\"/></h1>\n<p><img alt=\"\" height=\"774\" src=\"..\\..\\static\\image\\f63d3ffa4de8450d93fccf753414c673.png\" width=\"1110\"/> 1.我们找到子弹的头文件AFPSGameProjectile.h</p>\n<p>2.添加一个粒子组件，protected类型，并只能在蓝图中赋值</p>\n<pre><code class=\"language-cpp\">protected:\n\tUPROPERTY(EditDefaultsOnly, Category = \"Emitter\")\n\tUParticleSystem * Emitter_Projectile;</code></pre>\n<p>3.找到负责执行碰撞的函数</p>\n<pre><code class=\"language-cpp\">/** called when projectile hits something */\n\tUFUNCTION()\n\tvoid OnHit(UPrimitiveComponent* HitComp, AActor* OtherActor, UPrimitiveComponent* OtherComp, FVector NormalImpulse, const FHitResult&amp; Hit);</code></pre>\n<p>4.在其对应的源文件里导入UGameplayStatics静态类的头文件</p>\n<pre><code class=\"language-cpp\">#include \"Runtime/Engine/Classes/Kismet/GameplayStatics.h\"</code></pre>\n<p>5.在对应源文件里找到其定义碰撞的函数，然后添加特效</p>\n<pre><code class=\"language-cpp\">UGameplayStatics::SpawnEmitterAtLocation(GetWorld(), Emitter_Projectile, this-&gt;GetTransform());</code></pre>\n<p>6.编译</p>\n<p>=============================</p>\n<p>进入虚幻编辑器</p>\n<p>1.找到子弹蓝图</p>\n<p><img alt=\"\" height=\"348\" src=\"..\\..\\static\\image\\74287abee6d24dbb92f52bd73d33c2a4.png\" width=\"559\"/></p>\n<p>2.发现可以赋值特效了，不过category已经被翻译了</p>\n<p><img alt=\"\" height=\"335\" src=\"..\\..\\static\\image\\d3365096886b4ba6a7024c650710881e.png\" width=\"468\"/></p>\n<p>3.选择爆炸特效</p>\n<p><img alt=\"\" height=\"160\" src=\"..\\..\\static\\image\\c279ade06f594ff5b1e5977bde507d54.png\" width=\"439\"/></p>\n<p>4.测试 成功</p>\n<p><img alt=\"\" height=\"508\" src=\"..\\..\\static\\image\\3d95f4da44de47209ad8b868e3b579ab.png\" width=\"911\"/></p>\n<p></p>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "C++", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-08-31 21:12:40", "summary": "关于特效的常用代码：增加特效函数：一个指向世界或者关卡的指针：函数可以得到，类里面定义的一个指向粒子组件的指针：一个位置的引用：可以得到上几期教程比较老，我们直接换个新一点的我们找到子弹的头文件添加一"}