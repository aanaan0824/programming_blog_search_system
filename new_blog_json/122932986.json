{"blogid": "122932986", "writerAge": "ç é¾„5å¹´", "writerBlogNum": "145", "writerCollect": "4530", "writerComment": "2385", "writerFan": "48915", "writerGrade": "7çº§", "writerIntegral": "9646", "writerName": "ITå­¦ä¹ æ—¥è®°", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_122932986.jpg", "writerRankTotal": "1194", "writerRankWeekly": "295", "writerThumb": "2820", "writerVisitNum": "404926", "blog_read_count": "4935", "blog_time": "å·²äºÂ 2022-02-21 10:26:24Â ä¿®æ”¹", "blog_title": "PHP8.0ç¯å¢ƒè¯¦ç»†å®‰è£…æ•™ç¨‹", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<br/>\n<hr/>\n<blockquote>\n<ul><li><strong>ğŸ’‚ ä¸ªäººä¸»é¡µ:</strong> <font color=\"1E88E5\"><a href=\"https://blog.csdn.net/qq_40891009\">ITå­¦ä¹ æ—¥è®°</a></font></li><li><strong>ğŸ¤Ÿ ç‰ˆæƒ:</strong> æœ¬æ–‡ç”±ã€ITå­¦ä¹ æ—¥è®°ã€‘åŸåˆ›ã€åœ¨CSDNé¦–å‘ã€éœ€è¦è½¬è½½è¯·è”ç³»åšä¸»</li><li>ğŸ’¬ å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€<strong><font color=\"1E88E5\">æ¬¢è¿å…³æ³¨ã€ç‚¹èµã€æ”¶è—(ä¸€é”®ä¸‰è¿)å’Œè®¢é˜…ä¸“æ å“¦</font></strong></li><li>ğŸ’… <strong><font color=\"1E88E5\">æƒ³å¯»æ‰¾å…±åŒæˆé•¿çš„å°ä¼™ä¼´ï¼Œè¯·ç‚¹å‡»ã€<a href=\"https://app.yinxiang.com/fx/93d441d2-7cb6-4c13-9b16-5d2df3085984\">æŠ€æœ¯åœˆå­</a>ã€‘</font></strong></li></ul>\n</blockquote>\n<hr/>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><ul><li><ul><li><a href=\"#PHP_12\">ä¸€ã€PHPç¯å¢ƒå®‰è£…æµç¨‹</a></li><li><ul><li><a href=\"#1PHP_16\">1ã€ä¸‹è½½PHPåŒ…(åœ¨çº¿æˆ–è€…å‹ç¼©åŒ…æ–¹å¼éƒ½å¯)</a></li><li><a href=\"#2_28\">2ã€è§£å‹å‹ç¼©åŒ…</a></li><li><a href=\"#3_36\">3ã€æŒ‡å®šé…ç½®ä¿¡æ¯</a></li><li><a href=\"#4_64\">4ã€ç¼–è¯‘ä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸å’Œè§£å†³æ–¹æ¡ˆ</a></li><li><a href=\"#5_227\">5ã€ç¼–è¯‘å’Œå®‰è£…</a></li><li><a href=\"#6php_260\">6ã€æŸ¥çœ‹phpå®‰è£…æƒ…å†µ</a></li></ul>\n</li><li><a href=\"#_274\">äºŒã€ç®¡ç†å„ç§é…ç½®æ–‡ä»¶</a></li><li><a href=\"#php_311\">ä¸‰ã€ç®¡ç†php</a></li><li><a href=\"#_362\">å†™åœ¨æœ€å</a></li></ul>\n</li></ul>\n</li></ul>\n</div>\n<p></p>\n<h3><a id=\"PHP_12\"></a>ä¸€ã€PHPç¯å¢ƒå®‰è£…æµç¨‹</h3>\n<p>â€ƒâ€ƒè¯´æ˜ï¼šæœ€è¿‘åœ¨æ­å»ºä¸ªäººç½‘ç«™ï¼Œç¯å¢ƒæœ‰ç”¨åˆ°PHPï¼Œç‰¹æ­¤è®°å½•ã€‚æœ¬æ–‡å®‰è£…æ¡ˆä¾‹æ˜¯ä»¥PHP8.0.0ç‰ˆæœ¬ä¸ºç¤ºä¾‹ï¼Œ<strong>å¼€å§‹å®‰è£…å‰å»ºè®®å…ˆå°†ç¬¬ä¸‰æ­¥éª¤æŠ›å‡ºå¼‚å¸¸çš„ä¾èµ–å®‰è£…ï¼Œè¿™æ ·å®‰è£…çš„æ—¶å€™å°±æ— éœ€é€ä¸ªè§£å†³é—®é¢˜ã€‚</strong></p>\n<h4><a id=\"1PHP_16\"></a>1ã€ä¸‹è½½PHPåŒ…(åœ¨çº¿æˆ–è€…å‹ç¼©åŒ…æ–¹å¼éƒ½å¯)</h4>\n<p>â€ƒâ€ƒå»ºè®®ï¼šæå‰åˆ›å»ºå¥½å‹ç¼©åŒ…åœ°å€ï¼Œæ–¹ä¾¿åç»­å¯¹æ–‡ä»¶ç®¡ç†ï¼Œä¸‹è½½åœ°å€ï¼šhttps://www.php.net/downloads.php</p>\n<p>â€ƒâ€ƒåœ¨çº¿ä¸‹è½½(å¦‚æœç½‘é€Ÿå¾ˆæ…¢ï¼Œåˆ™ç¦»çº¿ä¸‹è½½ä¸Šä¼ åˆ°æœåŠ¡å™¨)ï¼šwget https://www.php.net/distributions/php-8.0.0.tar.gz</p>\n<p>â€ƒâ€ƒç¦»çº¿ä¸‹è½½åå¯é€šè¿‡rzå‘½ä»¤ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼šrz -be æ–‡ä»¶å</p>\n<p><img alt=\"image-20220206164701929\" src=\"..\\..\\static\\image\\4a09acd3e5a50270e66efa175c87969f.png\"/></p>\n<hr/>\n<h4><a id=\"2_28\"></a>2ã€è§£å‹å‹ç¼©åŒ…</h4>\n<p>â€ƒâ€ƒæ‰§è¡Œä»£ç ï¼štar -xvf php-8.0.0.tar.gz</p>\n<p><img alt=\"image-20220206173311010\" src=\"..\\..\\static\\image\\d9a90dd7bb70496c33a97b0120cc1507.png\"/></p>\n<hr/>\n<h4><a id=\"3_36\"></a>3ã€æŒ‡å®šé…ç½®ä¿¡æ¯</h4>\n<p>â€ƒâ€ƒè¯´æ˜ï¼šåœ¨æ‰§è¡Œç¼–è¯‘ä¹‹å‰ï¼Œéœ€è¦é…ç½®æ­¤æ¬¡ç¼–è¯‘å’Œå®‰è£…åçš„æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ä»¥åŠå®‰è£…çš„ä¸€äº›ç»„ä»¶ï¼Œ<strong>åœ¨å®‰è£…å‰åŠ¡å¿…è¦æ¸…æ¥šï¼Œå¦‚æœä¸äº†è§£ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨æœ¬æ–‡çš„ä»£ç ï¼Œé˜²æ­¢å‡ºç°å¼‚å¸¸é—®é¢˜ã€‚</strong></p>\n<p>â€ƒâ€ƒäº†è§£æ¦‚å¿µï¼š</p>\n<p>â€ƒâ€ƒ1ã€æºç å®‰è£…éœ€è¦ç»å†æ­¥éª¤ï¼šé…ç½®(configure)ã€ç¼–è¯‘(make)ã€å®‰è£…( make install )ã€‚</p>\n<p>â€ƒâ€ƒ2ã€Configureåˆ™æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥é…ç½®å¾ˆå¤šé€‰é¡¹(å¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬åœ¨Windowså®‰è£…æ—¶çš„å›¾åƒåŒ–ç•Œé¢çš„åŠŸèƒ½)ï¼Œå¯ä»¥é€šè¿‡./configure --helpæ¥æŸ¥çœ‹é€‰é¡¹å…·ä½“å«ä¹‰ã€‚</p>\n<p>â€ƒâ€ƒå…¶ä¸­â€“prefixé€‰é¡¹ä½œç”¨æ˜¯é…ç½®æºç å®‰è£…çš„è·¯å¾„ï¼Œâ€“with-config-file-pathé€‰é¡¹ä½œç”¨æ˜¯è®¾ç½®phpé…ç½®æ–‡ä»¶(php.ini)çš„å­˜æ”¾ä½ç½®ï¼Œä¸€èˆ¬æ¥è¯´å®‰è£…çš„æ—¶å€™åªéœ€è¦æŒ‡å®šè¿™ä¸¤ä¸ªè·¯å¾„å³å¯ï¼Œå…¶ä»–çš„åˆ™æ˜¯æŒ‡å®šphpæ”¯æŒå“ªä¸€äº›ç»„ä»¶äº†ã€‚</p>\n<p>â€ƒâ€ƒ3ã€å»¶ä¼¸è¯´æ˜ä¸‹æŒ‡å®šå­˜æ”¾è·¯å¾„çš„å¥½å¤„ï¼Œå…¶å®å¯ä»¥ç±»æ¯”åœ¨Windowsç­‰å›¾å½¢åŒ–ç³»ç»Ÿçš„å®‰è£…è½¯ä»¶æ­¥éª¤ï¼Œå®‰è£…æ—¶æŒ‡å®šè½¯ä»¶çš„ä½ç½®ï¼Œæ–¹ä¾¿åç»­å¯¹è½¯ä»¶è¿›è¡Œç»Ÿä¸€ç®¡ç†(åˆ é™¤ï¼ŒæŸ¥æ‰¾ç­‰)ã€‚</p>\n<p>â€ƒâ€ƒ4ã€æ³¨æ„ï¼šä¸‹é¢çš„ä»£ç å¿…é¡»å¤„äºåŒä¸€è¡Œä¸Šï¼Œå»ºè®®å…ˆå¤åˆ¶åˆ°æ–‡æœ¬ä¸ŠæŸ¥çœ‹æ˜¯å¦åœ¨åŒä¸€è¡Œï¼Œç„¶åå†å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸­æ‰§è¡Œ(å¦åˆ™ä¼šå‡ºç°å¾ˆå¤šè«åå…¶å¦™çš„é—®é¢˜ï¼Œç›¸ä¿¡ä½ ä¹Ÿä¸æƒ³èŠ±ä¸Šå‡ å¤©æ—¶é—´å»å¤„ç†)ã€‚</p>\n<p>â€ƒâ€ƒè‡³äºå…¶ä»–å‚æ•°é€‰é¡¹çš„å«ä¹‰ï¼Œå¯ä»¥æ‰“å®˜æ–¹æˆ–è€…ä½¿ç”¨./configure --helpæ¥æŸ¥çœ‹é€‰é¡¹å…·ä½“å«ä¹‰ï¼Œå»ºè®®æ·»åŠ è‡ªå·±éœ€è¦çš„ç»„ä»¶å³å¯ï¼Œå¦‚æœä¸æ¸…æ¥šï¼Œè¿›å…¥åˆ°è§£å‹çš„æ–‡ä»¶åç›´æ¥æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚</p>\n<pre><code class=\"prism language-java\"><span class=\"token punctuation\">.</span>/configure <span class=\"token operator\">--</span>prefix<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>install<span class=\"token operator\">/</span>php8 <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>config<span class=\"token operator\">-</span>file<span class=\"token operator\">-</span>path<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>install<span class=\"token operator\">/</span>php8<span class=\"token operator\">/</span>etc <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>curl <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>freetype <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>gd <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>jpeg  <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>gettext <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>kerberos <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>libdir<span class=\"token operator\">=</span>lib64 <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>libxml <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>mysqli <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>openssl <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>pdo<span class=\"token operator\">-</span>mysql  <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>pdo<span class=\"token operator\">-</span>sqlite <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>pear <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>sockets <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>mhash <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>ldap<span class=\"token operator\">-</span>sasl <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>xsl <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>zlib <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>zip <span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>bz2 <span class=\"token operator\">--</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>iconv  <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>fpm <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>pdo  <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>bcmath  <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>mbregex <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>mbstring <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>opcache <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>pcntl  <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>shmop <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>soap <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>sockets <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>sysvsem <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>xml <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>sysvsem <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>cli <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>opcache <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>intl <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>calendar <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span><span class=\"token keyword\">static</span> <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>mysqlnd\n</code></pre>\n<p>â€ƒâ€ƒ5ã€é…ç½®æˆåŠŸåä¼šå‡ºç°ä¸‹é¢æç¤ºï¼š</p>\n<p><img alt=\"image-20220208155945357\" src=\"..\\..\\static\\image\\2d138dcffc5d71c520fa71251b64d33d.png\"/></p>\n<hr/>\n<h4><a id=\"4_64\"></a>4ã€ç¼–è¯‘ä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸å’Œè§£å†³æ–¹æ¡ˆ</h4>\n<p>â€ƒâ€ƒè¯´æ˜ï¼Œæ–°æœåŠ¡å™¨åœ¨æ‰§è¡Œconfigureè„šæœ¬è®¾ç½®é…ç½®ä¹‹å‰ï¼Œéœ€è¦å­˜åœ¨çš„ç›¸å…³ä¾èµ–è„šæœ¬æ•´åˆï¼Œä¸‹é¢ä¼šå¯¹æ¯ä¸€ä¸ªå¼‚å¸¸é—®é¢˜åšå…·ä½“è¯´æ˜ï¼š</p>\n<pre><code>yum install dnf\ndnf install libxml2-devel\ndnf install sqlite-devel\ndnf -y install bzip2-devel\ndnf -y install libcurl-devel\ndnf -y install libpng-devel\ndnf -y install libjpeg-devel\ndnf -y install freetype-devel\ndnf -y install libicu-devel\nyum install oniguruma-devel -y\ndnf -y install libxslt-devel\ndnf -y install libzip-devel\n</code></pre>\n<p>â€ƒâ€ƒ1ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206173718813\" src=\"..\\..\\static\\image\\27e72549d2a953e6ea44c7757ebfd0ff.png\"/></p>\n<pre><code>configure: error: Package requirements (libxml-2.0 &gt;= 2.9.0) were not met:\nNo package 'libxml-2.0' found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf install libxml2-devel</p>\n<p>â€ƒâ€ƒ2ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206173919732\" src=\"..\\..\\static\\image\\ef4602fb8b8023b84c7ef10d82ec6cbf.png\"/></p>\n<pre><code>-bash: dnf: command not found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šyum install dnf</p>\n<p>â€ƒâ€ƒ3ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206174403895\" src=\"..\\..\\static\\image\\ac24c56b6d17993f312984337fce4015.png\"/></p>\n<pre><code>configure: error: Package requirements (sqlite3 &gt; 3.7.4) were not met:\nNo package 'sqlite3' found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf install sqlite-devel</p>\n<p>â€ƒâ€ƒ4ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206175158134\" src=\"..\\..\\static\\image\\366f7c868be0f7c73adb91752123190e.png\"/></p>\n<pre><code>checking for BZip2 in default path... not found\nconfigure: error: Please reinstall the BZip2 distribution\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install bzip2-devel</p>\n<p>â€ƒâ€ƒ5ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206175450008\" src=\"..\\..\\static\\image\\43899149bd426bbf42f2b7bc7deba97a.png\"/></p>\n<pre><code>configure: error: Package requirements (libcurl &gt;= 7.29.0) were not met:\nNo package 'libcurl' found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install libcurl-devel</p>\n<p>â€ƒâ€ƒ6ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206175615010\" src=\"..\\..\\static\\image\\23250963b39ec4052d81f25adf4a92b1.png\"/></p>\n<pre><code>configure: error: Package requirements (libpng) were not met:\nNo package 'libpng' found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install libpng-devel</p>\n<p>â€ƒâ€ƒ7ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<pre><code>configure: error: Package requirements (libjpeg) were not met:\nPackage 'libjpeg', required by 'virtual:world', not found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install libjpeg-devel</p>\n<p>â€ƒâ€ƒ8ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<pre><code>configure: error: Package requirements (freetype2) were not met:\nPackage 'freetype2', required by 'virtual:world', not found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install freetype-devel</p>\n<p>â€ƒâ€ƒ9ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<p><img alt=\"image-20220206180127070\" src=\"..\\..\\static\\image\\a00fd7933976f1f1504d558d5916735b.png\"/></p>\n<pre><code>configure: error: Package requirements (icu-uc &gt;= 50.1 icu-io icu-i18n) were not met:\nPackage 'icu-uc', required by 'virtual:world', not found\nPackage 'icu-io', required by 'virtual:world', not found\nPackage 'icu-i18n', required by 'virtual:world', not found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install libicu-devel</p>\n<p>â€ƒâ€ƒ10ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<pre><code>configure: error: Package requirements (oniguruma) were not met:\nNo package 'oniguruma' found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šyum install oniguruma-devel -y</p>\n<p>â€ƒâ€ƒ11ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<pre><code>configure: error: Package requirements (libxslt &gt;= 1.1.0) were not met:\nNo package 'libxslt' found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install libxslt-devel</p>\n<p>â€ƒâ€ƒ12ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<pre><code>configure: error: Package requirements (libzip &gt;= 0.11 libzip != 1.3.1 libzip != 1.7.0) were not met:\nPackage 'libzip', required by 'virtual:world', not found\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼šdnf -y install libzip-devel</p>\n<p>â€ƒâ€ƒ13ã€å¼‚å¸¸ä¿¡æ¯ï¼š</p>\n<pre><code>configure: error: Package requirements (libzip &gt;= 0.11 libzip != 1.3.1 libzip != 1.7.0) were not met:\nRequested 'libzip &gt;= 0.11' but version of libzip is 0.10.1\n</code></pre>\n<p>â€ƒâ€ƒè§£å†³æ–¹æ¡ˆï¼š</p>\n<p>â€ƒâ€ƒ1ã€å…ˆåˆ é™¤åŸæ¥çš„å®‰è£…ï¼šyum remove libzip-devel libzip</p>\n<p>â€ƒâ€ƒ2ã€åœ¨çº¿ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ï¼šwget https://libzip.org/download/libzip-1.3.2.tar.gz --no-check-certificate</p>\n<p>â€ƒâ€ƒ4ã€è¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œé…ç½®è„šæœ¬ï¼š./confugure</p>\n<p>â€ƒâ€ƒ5ã€ç¼–è¯‘å¹¶å®‰è£…ï¼šmake &amp; make install</p>\n<p>â€ƒâ€ƒ6ã€å®‰è£…å®Œæˆåï¼ŒæŸ¥è¯¢/usr/local/libç›®å½•ä¸‹æ˜¯å¦æœ‰pkgconfigç›®å½•ï¼Œæœ‰çš„è¯æ‰§è¡Œå‘½ä»¤export PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig/\"æŒ‡å®šPKG_CONFIG_PATHï¼Œç„¶åé‡æ–°æ‰§è¡Œåˆ‡æ¢phpè§£å‹ä¹‹åçš„æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ./configureè„šæœ¬å³å¯</p>\n<hr/>\n<h4><a id=\"5_227\"></a>5ã€ç¼–è¯‘å’Œå®‰è£…</h4>\n<p>â€ƒâ€ƒé…ç½®å®Œæˆåï¼Œæ‰§è¡ŒmakeæŒ‡ä»¤å¯¹æºä»£ç è¿›è¡Œç¼–è¯‘ï¼Œæ‰§è¡Œmake installæŒ‡ä»¤å¯¹æºä»£ç è¿›è¡Œå®‰è£…ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æ‰§è¡Œè¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œå…·ä½“å¦‚ä¸‹(æ³¨æ„ï¼šç¼–è¯‘å’Œå®‰è£…éƒ½æ˜¯åœ¨è§£å‹åçš„phpæ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ-å³å­˜åœ¨configureè„šæœ¬çš„ç›®å½•):</p>\n<p>â€‹ 1ã€ç¼–è¯‘ï¼šmake</p>\n<p><img alt=\"image-20220208170518841\" src=\"..\\..\\static\\image\\7e8bfe611769e7eaa18e9b1cd591f145.png\"/></p>\n<p>â€‹ 2ã€å®‰è£…ï¼šmake install</p>\n<p><img alt=\"image-20220208170619708\" src=\"..\\..\\static\\image\\e6539a9365eafc44cdffa079333e3134.png\"/></p>\n<p>â€ƒâ€ƒ3ã€å‡ºç°å¼‚å¸¸ï¼šcc: internal compiler error: Killed (program cc1)</p>\n<p>â€ƒâ€ƒåŸå› ï¼šå¤§æ¦‚ç‡æ˜¯å› ä¸ºå†…å­˜ä¸å¤Ÿä½¿ç”¨ï¼Œå¯ä»¥å…ˆä½¿ç”¨äº¤æ¢åˆ†åŒºæ¥è§£å†³ï¼Œç¼–è¯‘å®‰è£…åå†åˆ é™¤æ‰å³å¯ã€‚</p>\n<p>â€ƒâ€ƒè§£å†³ï¼š</p>\n<pre><code>sudo dd if=/dev/zero of=/swapfile bs=64M count=16\nsudo mkswap /swapfile\nsudo swapon /swapfile\n</code></pre>\n<p>â€ƒâ€ƒå–æ¶ˆäº¤æ¢åˆ†åŒºï¼š</p>\n<pre><code>sudo swapoff /swapfile\nsudo rm /swapfile\n</code></pre>\n<hr/>\n<h4><a id=\"6php_260\"></a>6ã€æŸ¥çœ‹phpå®‰è£…æƒ…å†µ</h4>\n<p>â€ƒâ€ƒåˆ‡æ¢åˆ°configureæŒ‡å®šçš„å®‰è£…è·¯å¾„çš„binç›®å½•ï¼Œæ‰§è¡Œç‰ˆæœ¬æŸ¥çœ‹ï¼š</p>\n<pre><code>/usr/local/install/php8/bin/php --version\n</code></pre>\n<p>â€ƒâ€ƒæ‰§è¡Œç»“æœï¼š</p>\n<p><img alt=\"image-20220208170643929\" src=\"..\\..\\static\\image\\f2297a3fb09361e17e5d45b05dd5ec17.png\"/></p>\n<hr/>\n<h3><a id=\"_274\"></a>äºŒã€ç®¡ç†å„ç§é…ç½®æ–‡ä»¶</h3>\n<p>1ã€ç”Ÿæˆphp.inié…ç½®æ–‡ä»¶(åœ¨phpæºç å‹ç¼©åŒ…ç›®å½•ä¸‹)ï¼š</p>\n<pre><code>cp php.ini-production /usr/local/install/php8/etc/php.ini\n</code></pre>\n<p>2ã€ç”Ÿæˆwwwé…ç½®æ–‡ä»¶ï¼š</p>\n<pre><code>cd /usr/local/install/php8/etc/php-fpm.d/\ncp www.conf.default www.conf\n</code></pre>\n<p>3ã€ç”Ÿæˆphp-fpmé…ç½®æ–‡ä»¶ï¼š</p>\n<pre><code>cd /usr/local/install/php8/etc/\ncp php-fpm.conf.default php-fpm.conf\n</code></pre>\n<p>4ã€ç”Ÿæˆphp-fpmå¯æ‰§è¡Œæ–‡ä»¶ï¼š</p>\n<pre><code>-- åˆ›å»ºå­˜æ”¾é…ç½®æ–‡ä»¶çš„ç›®å½•\nmkdir /usr/local/install/php8/fpm\n\n-- ä»æºç ä¸­å¤åˆ¶ä¸€ä»½fpmå¯æ‰§è¡Œè„šæœ¬\ncp /usr/local/php/php-8.0.0/sapi/fpm/init.d.php-fpm /usr/local/install/php8/fpm/php-fpm\n\n-- å°†php-fpmä¿®æ”¹ä¸ºå¯æ‰§è¡Œæ–‡ä»¶\nchmod 740 /usr/local/install/php8/fpm/php-fpm\n</code></pre>\n<hr/>\n<h3><a id=\"php_311\"></a>ä¸‰ã€ç®¡ç†php</h3>\n<p>è¯´æ˜ï¼šæœ¬æ–‡æ¨èä½¿ç”¨php-fpmè¿›è¡Œç®¡ç†phpç¨‹åºï¼Œphp-fpm(FastCGI Process Managerï¼šFastCGIè¿›ç¨‹ç®¡ç†å™¨)æ˜¯ä¸€ä¸ªPHPFastCGIç®¡ç†å™¨ï¼Œæ—¨åœ¨å°†FastCGIè¿›ç¨‹ç®¡ç†æ•´åˆè¿›PHPåŒ…ä¸­(æ¥æºï¼šç™¾åº¦ç™¾ç§‘)ã€‚</p>\n<p>ä¼˜ç‚¹ï¼šç›¸å¯¹Spawn-FCGIï¼Œphp-fpmåœ¨CPUå’Œå†…å­˜æ–¹é¢çš„æ§åˆ¶éƒ½æ›´èƒœä¸€ç­¹ï¼Œè€Œä¸”å‰è€…å¾ˆå®¹æ˜“å´©æºƒï¼Œå¿…é¡»ç”¨crontabè¿›è¡Œç›‘æ§ï¼Œè€Œphp-fpmåˆ™æ²¡æœ‰è¿™ç§çƒ¦æ¼ã€‚</p>\n<p>1ã€å¯åŠ¨php-fpm:</p>\n<pre><code>/usr/local/install/php8/fpm/php-fpm start\n</code></pre>\n<p><img alt=\"image-20220208180228571\" src=\"..\\..\\static\\image\\42353e613f16c4e3304352b1582e3c38.png\"/></p>\n<p>2ã€æŸ¥çœ‹php-fpmè¿›ç¨‹æ˜¯å¦å¯åŠ¨æˆåŠŸ</p>\n<pre><code>ps aux | grep php | grep -v grep\n</code></pre>\n<p><img alt=\"image-20220208180409541\" src=\"..\\..\\static\\image\\cf746c0472b27c4aae7332ffbe45e93c.png\"/></p>\n<p>3ã€æŸ¥çœ‹pfp-fpmå ç”¨çš„ç«¯å£</p>\n<pre><code>ss -lntp | grep php\n</code></pre>\n<p><img alt=\"image-20220208180643917\" src=\"..\\..\\static\\image\\18b76d145639b84ce7277b2704c84bd7.png\"/></p>\n<p>4ã€æ‰§è¡Œphp --versionå‡ºç°php command not foundå¼‚å¸¸ï¼Œè§£å†³æ­¥éª¤</p>\n<pre><code class=\"prism language-java\"><span class=\"token comment\">// 1ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</span>\nvim <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>profile\n \n<span class=\"token comment\">//2ã€æ·»åŠ phpç¯å¢ƒå˜é‡(å³configureè„šæœ¬æ—¶æŒ‡å®šçš„å®‰è£…è·¯å¾„ä¸‹çš„binç›®å½•)</span>\nPATH<span class=\"token operator\">=</span>$PATH<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>install<span class=\"token operator\">/</span>php8<span class=\"token operator\">/</span>bin\nexport PATH\n    \n<span class=\"token comment\">// åˆ·æ–°é…ç½®æ–‡ä»¶</span>\nsource <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>profile\n    \n</code></pre>\n<p>5ã€å¤§åŠŸå‘Šæˆ</p>\n<p><img alt=\"image-20220208181510517\" src=\"..\\..\\static\\image\\1c7aefaa4e9bf5658d02545ee1b0a272.png\"/></p>\n<hr/>\n<h3><a id=\"_362\"></a>å†™åœ¨æœ€å</h3>\n<p>â€ƒâ€ƒ<strong>å¦‚æœè§‰çš„æ–‡ç« æœ‰å¸®åŠ©ï¼Œè¯·ç»™åšä¸»ç‚¹èµã€æ”¶è—ã€å…³æ³¨ã€‚</strong> åç»­åšä¸»ä¼šå¸¦æ¥æ›´å¤šä¼˜è´¨ã€æœ‰è´¨é‡çš„æ–‡ç« ã€‚</p>\n<p>â€ƒâ€ƒæƒ³è¦å­¦ä¹ æ›´å¤šçŸ¥è¯†ï¼Œäº†è§£æ›´å¤šå¼€æºé¡¹ç›®ï¼Œè¯·ç‚¹å‡»ä¸‹é¢æ·»åŠ åšä¸»ï¼Œè¿›å…¥æŠ€æœ¯åœˆå­(<strong>åœˆå­æ‰€æœ‰èµ„æºå…¨å…è´¹ï¼Œä½†è¦æ±‚åŠ å…¥çš„å°ä¼™ä¼´è¦æœ‰é•¿ä¹…å…´è¶£ï¼Œå¦‚æœåªæ˜¯ä¸€æ—¶å†²åŠ¨å°±ä¸æ¨èåŠ å…¥ï¼Œæ¯•ç«Ÿåé¢æœ‰é™</strong>)ã€‚</p>\n<p>â€ƒâ€ƒåŠ å…¥æŠ€æœ¯åœˆå­ï¼Œé™¤äº†é‡åˆ°æ­å»ºé—®é¢˜å…è´¹æŒ‡å¯¼ï¼Œè¿˜èƒ½ç¬¬ä¸€æ—¶é—´æ”¶åˆ°è¡Œä¸šæœ€æ–°å’¨è¯¢å’Œè®¤è¯†å„ä¸“ä¸šå¤§ä½¬ï¼</p>\n<p><img alt=\"ç™½è‰²ç®€çº¦åŠ¨ç”»å¼•å¯¼å…³æ³¨\" src=\"https://img-blog.csdnimg.cn/img_convert/857e8f4d730964d1edeb848808a57b6a.gif#pic_center\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 1, "php": 1, "time": "2022-02-21 10:26:24", "summary": "ä¸ªäººä¸»é¡µå­¦ä¹ æ—¥è®°ç‰ˆæƒæœ¬æ–‡ç”±å­¦ä¹ æ—¥è®°åŸåˆ›ã€åœ¨é¦–å‘ã€éœ€è¦è½¬è½½è¯·è”ç³»åšä¸»å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€æ¬¢è¿å…³æ³¨ã€ç‚¹èµã€æ”¶è—ä¸€é”®ä¸‰è¿å’Œè®¢é˜…ä¸“æ å“¦æƒ³å¯»æ‰¾å…±åŒæˆé•¿çš„å°ä¼™ä¼´ï¼Œè¯·ç‚¹å‡»æŠ€æœ¯åœˆå­æ–‡ç« ç›®å½•ä¸€ã€ç¯å¢ƒå®‰è£…æµç¨‹ã€ä¸‹è½½åŒ…åœ¨çº¿"}