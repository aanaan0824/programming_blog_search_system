{"blogid": "126170410", "writerAge": "码龄1年", "writerBlogNum": "78", "writerCollect": "2005", "writerComment": "2718", "writerFan": "2036", "writerGrade": "6级", "writerIntegral": "5870", "writerName": "SYFStrive", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126170410.jpg", "writerRankTotal": "2738", "writerRankWeekly": "40", "writerThumb": "2142", "writerVisitNum": "42147", "blog_read_count": "4996", "blog_time": "已于 2022-09-06 10:28:47 修改", "blog_title": "Python爬虫之Web自动化测试工具Selenium&&Chrome handless", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>​<br/> ​</p>\n<p><img alt=\"请添加图片描述\" src=\"https://img-blog.csdnimg.cn/154d035aa4db42df99f3b01fbf287e46.gif#pic_center\"/></p>\n<blockquote>\n<p><strong>@作者</strong> : <font color=\"#409EFF\"><strong>SYFStrive</strong></font><br/> <strong>@创建时间</strong> : <font color=\"#409EFF\"><strong>2022/8/5 10:42</strong></font><br/> 📜：<font color=\"#009688\"><strong>Selenium &amp;&amp; Chrome handless</strong></font><br/> 🥧： <a href=\"https://blog.csdn.net/m0_61490399/article/details/126156476\"><strong><font color=\"#009688\"><strong>上一篇续文链接</strong></font></strong></a>🦄<br/> <img alt=\"请添加图片描述\" src=\"https://img-blog.csdnimg.cn/2c353ec3abfe4f1d9980da9ac6becd57.gif#pic_center\"/><br/> <img alt=\"\" src=\"..\\..\\static\\image\\615b0aefc5874688814084451a04a0c3.png\"/></p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>📋目录</h3>\n<ul><li><a href=\"#Selenium_19\">Selenium简介</a></li><li><ul><li><a href=\"#selenium_26\">为什么使用selenium❓</a></li><li><a href=\"#selenium_29\">如何安装selenium❓</a></li><li><a href=\"#selenium_46\">selenium的使用步骤❓</a></li><li><ul><li><a href=\"#selenium_61\">selenium获取🔍源码练习</a></li><li><a href=\"#selenium_73\">selenium获取🛒源码练习</a></li></ul>\n</li><li><a href=\"#selenium_84\">selenium之元素定位❓</a></li><li><ul><li><a href=\"#_87\">方法</a></li><li><a href=\"#_117\">访问的相关使用</a></li><li><a href=\"#_139\">交互的相关使用</a></li></ul>\n</li><li><a href=\"#_161\">小总结✍</a></li><li><a href=\"#Chrome_handless_164\">Chrome handless</a></li><li><ul><li><a href=\"#_165\">简介</a></li><li><ul><li><a href=\"#_173\">系统要求</a></li><li><a href=\"#Chrome_handless_183\">Chrome handless相关使用</a></li><li><a href=\"#Chrome_handless_198\">Chrome handless简单封装</a></li></ul>\n</li></ul>\n</li></ul>\n</li><li><a href=\"#_202\">最后</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"Selenium_19\"></a>Selenium简介</h1>\n<ol><li>Selenium是一个<font color=\"#67C23A\"><strong>用于Web应用程序测试的工具。</strong></font></li><li>Selenium 测试直接运行在浏览器中，就像<font color=\"#67C23A\"><strong>真正的用户在操作一样。</strong></font>(<font color=\"red\">真正的用户还不给数据那么网站存在的意义是什么？</font>)</li><li>支持通过各种driver（FirfoxDriver，IternetExplorerDriver，OperaDriver，ChromeDriver）驱动<br/> 真实浏览器完成测试。</li><li>selenium也是<font color=\"red\"><strong>支持无界面浏览器操作</strong></font>的。</li><li>缺点：有点慢</li></ol>\n<h2><a id=\"selenium_26\"></a>为什么使用selenium❓</h2>\n<p><strong>模拟浏览器功能，自动执行网页中的js代码，实现动态加载</strong></p>\n<h2><a id=\"selenium_29\"></a>如何安装selenium❓</h2>\n<p><font color=\"#67C23A\"><strong>步骤：</strong></font></p>\n<ol><li>下载对应浏览器版本驱动</li><li>查看自己浏览器的版本 （如以🛠为例：谷歌浏览器右上角‐‐&gt;帮助‐‐&gt;关于）</li><li>以🛠浏览器为例：驱动下载：<a href=\"http://chromedriver.storage.googleapis.com/index.html\">点击跳转</a></li><li>把下载好的放驱动放在项目的目录下</li><li>安装语法：pip install selenium</li><li>其他驱动</li></ol>\n<table><thead><tr><th>驱动名</th><th>链接</th></tr></thead><tbody><tr><td>GG</td><td>https://chromedriver.chromium.org/downloads</td></tr><tr><td>Ee</td><td>https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/</td></tr><tr><td>🦊</td><td>https://github.com/mozilla/geckodriver/releases</td></tr><tr><td>🍏</td><td>https://webkit.org/blog/6900/webdriver-support-in-safari-10/</td></tr></tbody></table>\n<h2><a id=\"selenium_46\"></a>selenium的使用步骤❓</h2>\n<ul><li>因为随着 selenium版本的升级一些语法也随之发生改变请参考 👇 文档（不懂的可以私聊我互相交流）</li><li>官方文档：<a href=\"https://www.selenium.dev/zh-cn/\">点击跳转至官方</a></li><li>selenium文档：<a href=\"https://pypi.org/project/selenium/\">直接跳至selenium文档</a></li><li>导入：from selenium import webdriver</li><li>创建谷歌浏览器操作对象： \n  <ol><li>path = 谷歌浏览器驱动文件路径</li><li>bor= webdriver.Chrome(path)</li></ol> </li><li>访问网址 \n  <ol><li>url = 要访问的网址</li><li>bor.get(url) = 自动打开浏览器</li></ol> </li><li>获取内容 \n  <ol><li>content = bor.page_source = 获取爬取的源码</li></ol> </li></ul>\n<h3><a id=\"selenium_61\"></a>selenium获取🔍源码练习</h3>\n<p>📰代码演示：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\9c90f3aca003481eb0ef0701c6089e81.png\"/></p>\n<p>如果出现下面的报错不要慌：问题出现在浏览器驱动版本不一致 或者 高于当前浏览器版本（下载对应的驱动即可）</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\7c19d6ca365444a381ff7916cea0abce.png\"/><br/> 如下图（成功🆗）：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\278a47bdc2834f13aad4d0c614bdefce.png\"/><br/> <img alt=\"请添加图片描述\" src=\"https://img-blog.csdnimg.cn/194dbbd4b9f14deb994be4c9a484bb7b.gif\"/></p>\n<h3><a id=\"selenium_73\"></a>selenium获取🛒源码练习</h3>\n<p>📰代码演示：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\d4d57a6c504846dcac8cca024d6f9319.png\"/></p>\n<p>如下图（成功🆗）：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\00c27de1102941dda09f82f9efeba2e3.png\"/><br/> <img alt=\"请添加图片描述\" src=\"https://img-blog.csdnimg.cn/5b142e7ef0e84f5f9db0f8ea91808dd3.gif\"/></p>\n<h2><a id=\"selenium_84\"></a>selenium之元素定位❓</h2>\n<p>说明：元素定位：自动化要做的就是模拟鼠标和键盘来操作来操作这些元素，点击、输入等等。操作这些元素前首先要找到它们，WebDriver提供很多定位元素的方法（比如：自动抢票等😀）</p>\n<h3><a id=\"_87\"></a>方法</h3>\n<p>🔋：表示常用<br/> 推荐：博客园文章关于元素定位的相关使用：👉<a href=\"https://www.cnblogs.com/hao2018/p/11285827.html\">点击跳转🔗</a><br/> 常用的六种方法方法：（对应关系 (这是旧版的（报错但不影响使用）) =&gt;（新版）：<strong>使用新版需要导入：</strong><code>from selenium.webdriver.common.by import By</code>）</p>\n<table><thead><tr><th>方法使用</th><th>举例</th></tr></thead><tbody><tr><td>find_element_by_id=&gt;find_element(By.ID, “ID”)</td><td>eg:button = bor.find_element_by_id(‘id值’) 🔋</td></tr><tr><td>find_elements_by_name=&gt;find_element(By.NAME, “NAME”)</td><td>eg:name = bor.find_element_by_name(‘input里面的name’)</td></tr><tr><td>find_element_by_xpath=&gt;find_element(By.XPATH, “XPATH”)</td><td>eg:xpath1 = bor.find_element_by_xpath(‘//input[@id=“id值”]’) 返回值 🔋</td></tr><tr><td>find_elements_by_tag_name=&gt;find_element(By.NAME, “NAME”)</td><td>eg:names = bor.find_elements_by_tag_name(‘标签名’)</td></tr><tr><td>find_elements_by_css_selector=&gt;find_element(By.CSS_SELECTOR, ‘#J_footer’)</td><td>eg:my_input = bor.find_elements_by_css_selector(‘这里简单记使用的是Bs4语法’)[0]🔋</td></tr><tr><td>find_elements_by_link_text=&gt;find_element(By.LINK_TEXT, ‘秒杀’)</td><td>eg:bor.find_element_by_link_text(“页面中的链接文本”)</td></tr><tr><td>find_element(By.CLASS_NAME, “CLASS_NAME”)</td><td>eg:name = bor.find_elements(By.CLASS_NAME, “秒杀”)</td></tr></tbody></table>\n<table><thead><tr><th>方法对比</th></tr></thead><tbody><tr><td>find_element <strong>VS</strong> find_elements 一个返回的是值，一个是列表</td></tr></tbody></table>\n<p>📰代码演示：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\37dc9fd5a32444129e3ba3621eeef662.png\"/></p>\n<p>如下图（成功🆗）：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ed6f7249a53a422db552c3071bd099c8.png\"/></p>\n<h3><a id=\"_117\"></a>访问的相关使用</h3>\n<p>说明：定位到元数后获取该元素的文本、类，Id名等等……</p>\n<p>访问元素信息：</p>\n<ul><li>获取元素属性<br/> .get_attribute(‘class’)</li><li>获取元素文本<br/> .text</li><li>获取标签名<br/> .tag_name</li></ul>\n<p>📰代码演示：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a2ec11aaf31c49eaa1181812a714fb6b.png\"/></p>\n<p>如下图（成功🆗）</p>\n<p><img alt=\"请添加图片描述\" src=\"https://img-blog.csdnimg.cn/7356535bbbb64e7985caa3153324acbb.gif\"/></p>\n<h3><a id=\"_139\"></a>交互的相关使用</h3>\n<p>说明：如自动打开🔍然后输入大司马然后点击他的简介进行查看（<font color=\"red\"><strong>自动执行</strong></font>（刷起来））</p>\n<p>交互：</p>\n<ul><li>点击:click()</li><li>输入:send_keys()</li><li>后退操作:bor.back()</li><li>前进操作:bor.forword()</li><li>模拟JS滚动: \n  <ol><li>js=‘document.documentElement.scrollTop=100000’</li><li>bor.execute_script(js) 执行js代码</li></ol> </li><li>退出：bor.quit()</li></ul>\n<p>📰代码演示：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\92033e544fd04b5ea779e0de2da2ee07.png\"/></p>\n<p>如下图（全自动的（gif太大传不了，可以自己把time设置大一点感受）🆗）：</p>\n<p>链接👉： <a href=\"https://img-blog.csdnimg.cn/caa561cd4b0b4e2694d4e7e3abeb97bf.gif\">点击查看</a></p>\n<h2><a id=\"_161\"></a>小总结✍</h2>\n<p>**使用步骤：**使用selenium获取源码 👉 定位元素 👉 访问元素 👉 模拟交互</p>\n<h2><a id=\"Chrome_handless_164\"></a>Chrome handless</h2>\n<h3><a id=\"_165\"></a>简介</h3>\n<ol><li>Chrome handless 跟 Selenium使用方法差不多，使用起来速度比Selenium更快</li><li>Chrome-headless 模式， Google 针对 Chrome 浏览器 59版 新增加的一种模式，可以让你不打开UI界面的情况下</li><li>使用 Chrome 浏览器，所以运行效果与 Chrome 保持完美一致。</li><li>优点：快</li><li>缺点：无界面</li></ol>\n<h4><a id=\"_173\"></a>系统要求</h4>\n<ul><li>系统要求： \n  <ol><li>Chrome</li><li>Unix\\Linux 系统需要 chrome &gt;= 59</li><li>Windows 系统需要 chrome &gt;= 60</li><li>Python3.6</li><li>Selenium==3.4.*</li><li>ChromeDriver==2.31</li></ol> </li></ul>\n<h4><a id=\"Chrome_handless_183\"></a>Chrome handless相关使用</h4>\n<ul><li>配置固定模板：</li></ul>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ef035575ff4a4f65bea0ae07feddc30b.png\"/></p>\n<p>📰代码演示：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\b03aa5d836034fc19d146cd8a1a40c10.png\"/></p>\n<p>如下图（成功🆗）：</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ca517055108e4dceaaa9825fae6a92fd.png\"/></p>\n<h4><a id=\"Chrome_handless_198\"></a>Chrome handless简单封装</h4>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0526ab8903024bc0bf374c26432b8b94.png\"/></p>\n<h1><a id=\"_202\"></a>最后</h1>\n<p><strong>本文章到这里就结束了，觉得不错的请给我专栏点点订阅，你的支持是我们更新的动力，感谢大家的支持，希望这篇文章能帮到大家</strong></p>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/m0_61490399/category_11945820.html?spm=1001.2014.3001.5482\">点击跳转到我的Python专栏</a></p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\21ab07bbc52e422090c2b819b9318958.png\"/></p>\n<p><strong>下篇文章再见ヾ(￣▽￣)Bye<sub>Bye</sub></strong></p>\n<p><img alt=\"请添加图片描述\" src=\"https://img-blog.csdnimg.cn/8fb2ad050dd54014a609c109d9adaf04.gif\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-06 10:28:47", "summary": "请添加图片描述作者创建时间：：上一篇续文链接请添加图片描述目录简介为什么使用如何安装的使用步骤获取源码练习获取源码练习之元素定位方法访问的相关使用交互的相关使用小总结简介系统要求相关使用简单封装最后简"}