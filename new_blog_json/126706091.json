{"blogid": "126706091", "writerAge": "码龄7年", "writerBlogNum": "183", "writerCollect": "542", "writerComment": "41", "writerFan": "6906", "writerGrade": "5级", "writerIntegral": "1985", "writerName": "马少爷", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126706091.jpg", "writerRankTotal": "9352", "writerRankWeekly": "1435", "writerThumb": "78", "writerVisitNum": "150467", "blog_read_count": "160", "blog_time": "于 2022-09-05 15:26:53 发布", "blog_title": "如何解决工业相机达不到标称帧率", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>可以通过相机参数设置、系统环境设置解决工业相机达不到标称最大帧率的现象。</p>\n<p><strong>1.相机参数设置</strong></p>\n<p><strong>1.1 取消相机帧率限制</strong></p>\n<p>打开客户端，在 Acquisition Control 属性下关闭帧率控制使能： Acquisition Frame Rate Control Enable<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\8f5f0bc45b7343c3bf461b3bdb5a93f0.png\"/><br/> *相机默认出厂帧率限制为最大帧率 80%</p>\n<p><strong>1.2 修改相机图像格式</strong></p>\n<p>在客户端的 Image Format Control 属性下，找到 Pixel Format 参数进行更改<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\9995e13505ff43e29be14d8ffc8dba8c.png\"/></p>\n<p>黑白相机修改为 Mono8</p>\n<p>彩色相机修改为 Bayer8</p>\n<p>*图像格式需要在停止取流状态下进行修改</p>\n<p><strong>1.3 调整相机曝光时间</strong></p>\n<p>检查是否将曝光参数设置的过大，过大的曝光值会影响帧率，建议曝光参数不超过 1/最大帧率 PS：例如某最大帧率为 23.5，所以设置曝光不超过 42000us。</p>\n<p>曝光时间参数设置：</p>\n<p>在客户端的 Acquisition Control 属性下，关闭 Exposure Auto:off，调整 Exposure Time（us）参数</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2b1095a12c7c445e9081c03905ddaa3f.png\"/><br/> 1.4 检查相机数据包大小（网口相机特有参数）</p>\n<p>GEV SCPD 参数设置：在 MVS 客户端的 Transport Layer Control 下，找到 GEV SCPS Packet Size 与 GEV SCPD 参数</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\512ced49e5b34d91b2a0332e2d12a825.png\"/><br/> GEV SCPS Packet Size 推荐值 8164</p>\n<p>GEV SCPD 默认值 400，当网络传输环境不好时，调大此参数，可以改善丢包，但较大值时，会影响帧率，用户可以适当调整该参数的值，观察对帧率影响</p>\n<p><strong>1.5 恢复相机默认参数</strong></p>\n<p>当上述操作，均对帧率提升无明显改善时，可尝试恢复相机默认参数，再重复 1-4 步操作</p>\n<p>找到 MVS 客户端的 User Set Control，在 User Set Selector 下选择 Default 参数，在 User Set Load 上 点击 Execute</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\16b446025cef49788d69a5da81572fd7.png\"/><br/> *需在停止取流状态下操作</p>\n<p><strong>1.6 相机 ADC 输出位深调整</strong><br/> 若上述操作，帧率未达到最大帧率，可查找相机 ADC 输出位深进行调整</p>\n<p>在客户端的 Image Format Control 属性下，找到 ADC Bit Depth 参数进行更改，选择 8Bits。(该功能仅部分型号相机支持)</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c037d26bb9ed4e359784b65f58a45139.png\"/><br/> *ADC 位深需要在停止取流状态下进行修改，设置 8Bits 位深后，相机将不再支持更高位深的像素格式(如 Mono10)。</p>\n<p><strong>2.系统环境设置</strong></p>\n<p>2.1 网口相机设置</p>\n<p>i. 用户需先确认所在环境是否为千兆网卡，检查网络链接速度</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a87349ad6503476cb922dc6c05f7c58c.png\"/><br/> ii. 开启网卡矩阵。在开始菜单中搜索设备管理器→网络适配器→选择对应网卡→高级→巨型帧，在右侧值中将参数改成最大，一般是 9014 Bytes<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\3fdc51748db34f6d82f90cdf55867020.png\"/><br/> iii. 其他网卡参数：传输缓冲区和接受缓冲区均设置为 2048，中断节流率设置为极值</p>\n<p><strong>2.2 USB 相机设置</strong></p>\n<p>检查 U 口速度，确认是否为 USB3.0 接口</p>\n<p>打开 MVS 客户端→Device Control→USB Speed Mode 中查看是否为 Super Speed</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\b556bbfbefea4dc9aa506ac3511ab3d9.png\"/><br/> USB3.0 ：Super Speed</p>\n<p>USB2.0：High Spped 如链路速度不对，请更换 USB 接口或线路，反复插拔操作</p>\n<p>参考文献：https://zhuanlan.zhihu.com/p/490039711</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-05 15:26:53", "summary": "可以通过相机参数设置、系统环境设置解决工业相机达不到标称最大帧率的现象。相机参数设置取消相机帧率限制打开客户端，在属性下关闭帧率控制使能：在这里插入图片描述相机默认出厂帧率限制为最大帧率修改相机图像格"}