{"blogid": "126085194", "writerAge": "ç é¾„2å¹´", "writerBlogNum": "589", "writerCollect": "3064", "writerComment": "4239", "writerFan": "15488", "writerGrade": "7çº§", "writerIntegral": "14060", "writerName": "KJ.JK", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126085194.jpg", "writerRankTotal": "743", "writerRankWeekly": "10", "writerThumb": "2812", "writerVisitNum": "474767", "blog_read_count": "12647", "blog_time": "å·²äºÂ 2022-08-29 10:05:18Â ä¿®æ”¹", "blog_title": "Javaç‰ˆæœ¬æ–°é›¶å”®å°ç¨‹åºsaaså•†åŸå…¨å¼€æºç³»ç»Ÿ", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><ul><li><a href=\"#_21\">ä¸€ã€é¡¹ç›®ä»‹ç»</a></li><li><a href=\"#_27\">äºŒã€æŠ€æœ¯æ ˆä»¥åŠé¡¹ç›®ç‰¹ç‚¹</a></li><li><a href=\"#_51\">ä¸‰ã€ç³»ç»Ÿè®¾è®¡</a></li><li><a href=\"#_104\">å››ã€ç³»ç»ŸåŠŸèƒ½æ¼”ç¤º</a></li><li><ul><li><a href=\"#_108\">ğŸš©åº—é“ºåŠŸèƒ½æ¼”ç¤ºå›¾</a></li><li><a href=\"#_135\">ğŸš©å•†å“åŠŸèƒ½æ¼”ç¤ºå›¾</a></li><li><a href=\"#_158\">ğŸš©è®¢å•åŠŸèƒ½æ¼”ç¤ºå›¾</a></li><li><a href=\"#_182\">ğŸš©å®¢æˆ·åŠŸèƒ½æ¼”ç¤ºå›¾</a></li><li><a href=\"#_197\">ğŸš©æ•°æ®åŠŸèƒ½æ¼”ç¤ºå›¾</a></li><li><a href=\"#_216\">ğŸš©è¥é”€åŠŸèƒ½æ¼”ç¤ºå›¾</a></li><li><a href=\"#_224\">ğŸš©è®¾ç½®åŠŸèƒ½æ¼”ç¤ºå›¾</a></li></ul>\n</li><li><a href=\"#_249\">äº”ã€ç³»ç»Ÿæºä»£ç </a></li></ul>\n</li><li><a href=\"#KJJK_914\">ä½œè€…ï¼šKJ.JK</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<blockquote>\n<p>ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ<br/>  <br/> <strong>ğŸ‚ä¸ªäººåšå®¢é¦–é¡µï¼š</strong> <a href=\"https://blog.csdn.net/m0_47384542?type=blog\">KJ.JK</a><br/>  <br/> <strong>æ¬¢è¿å¤§å®¶ç‚¹èµğŸ‘æ”¶è—ğŸ’–è¯„è®ºğŸ’¬å…³æ³¨ğŸ”’</strong><br/>  <br/> <strong>ğŸ’–æºç è·å– | ğŸ’»å­¦ä¹ äº¤æµ | ğŸ¤å•†åŠ¡åˆä½œ | ğŸ’¨ç§ä¿¡ä½œè€…</strong></p>\n</blockquote>\n<hr/>\n<h2><a id=\"_21\"></a>ä¸€ã€é¡¹ç›®ä»‹ç»</h2>\n<blockquote>\n<p>ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„æ˜¯<code>weiit-saasè¿™æ¬¾Javaå¼€æºé¡¹ç›®</code>ï¼Œå±äºweiitå›¢é˜Ÿè‡ªç ”äº§å“ï¼Œ<code>è¯¥ç³»ç»Ÿæ„åœ¨é€šè¿‡æŠ€æœ¯å°è£…ï¼Œè®©ä¼ä¸šæ— éœ€ä»£ç å¼€å‘ï¼Œå¸®åŠ©ä¼ä¸šä¸€é”®ç”Ÿæˆå°ç¨‹åºã€å…¬ä¼—å·ï¼Œè®©ä¼ä¸šæ‹¥æœ‰ç‹¬ç«‹å“ç‰Œçš„è‡ªè¥å•†åŸ</code>ï¼Œ<code>weiit-saasæ˜¯å®Œå…¨å¼€æºç”µå•†SaaSç³»ç»Ÿï¼Œå±äºweiitå¼€æºçš„ç¤¾åŒºç‰ˆ</code>ï¼Œæ—§ç‰ˆå·²ä¸åœ¨ç»´æŠ¤å’Œæ›´æ–°ï¼Œä»…ä¾›å­¦ä¹ å’Œå‚è€ƒï¼Œ<code>æ–°ç‰ˆsaasä»åº•å±‚æ¶æ„åˆ°å‰åç«¯UIè®¾è®¡å·²ç»å…¨é¢ä¼˜åŒ–å’Œå‡çº§</code>ï¼Œ<code>æ–°ç‰ˆè®¿é—®åœ°å€ğŸ‘‰</code> <a href=\"https://www.wei-it.com/\">weiit</a><br/> è¯¥å›¢é˜Ÿçš„åç»­ä½œå“åšä¸»å°†ä¼šä¸ºå¤§å®¶ä¸æ–­åˆ†äº«ï¼Œä¹Ÿå¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒåšä¸»ä»¥åŠ<code>weiitå›¢é˜Ÿ</code>ï¼ï¼ï¼</p>\n</blockquote>\n<hr/>\n<h2><a id=\"_27\"></a>äºŒã€æŠ€æœ¯æ ˆä»¥åŠé¡¹ç›®ç‰¹ç‚¹</h2>\n<hr/>\n<blockquote>\n<p><strong>â­æ–°ç‰ˆsaasæŠ€æœ¯æ ˆä½¿ç”¨â­</strong></p>\n<ul><li><code>SpringCloud + Oauth2.0 + ShiroRedis + JWT + Gateway + Nacos + Nginx + Vue </code><br/>  </li></ul>\n<p><strong>â­é¡¹ç›®ç‰¹ç‚¹â­</strong></p>\n<ul><li>é¡¹ç›®é‡‡ç”¨<code>Spring+SpringMVC+Mybatisä¸»æµå¼€æºæ¡†æ¶</code>ï¼Œéµå¾ªMVCæ¶æ„ï¼Œè®¾è®¡è½»å·§ï¼Œä½¿ç”¨ç®€å•ï¼Œå¼€å‘äººå‘˜æ¥æ‰‹ä¸äºŒæ¬¡å¼€å‘ç®€å•æ˜“æ‡‚ï¼›</li><li>é¡¹ç›®å®Œæˆäº†å¯¹<code>é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€å¾®ä¿¡ç”Ÿæ€çš„å¿«é€Ÿæ¥å…¥ä¸ä»£ç ç¤ºä¾‹</code>ï¼Œå¹¶æˆåŠŸè¿ç”¨åˆ°äº†å•†ä¸šä¸­ï¼Œæ–¹ä¾¿å¤§å®¶å­¦ä¹ å¯¹<code>OSS/COS/çŸ­ä¿¡æœåŠ¡/å¿«é€’æœåŠ¡/å…¬ä¼—å·/å°ç¨‹åº/å¾®ä¿¡å¼€æ”¾å¹³å°/å¾®ä¿¡æ”¯ä»˜çš„æŠ€æœ¯ç‚¹ä¸åº”ç”¨åœºæ™¯çš„å­¦ä¹ </code>ï¼›</li><li>å°ç¨‹åºä¸å…¬ä¼—å·ç¬¬ä¸‰æ–¹æˆæƒé›†æˆï¼Œè®©å¼€å‘è€…ä¸ä¼ä¸šçœå»ç¹ççš„é…ç½®ï¼Œ<code>å¯¹AppId/AppSecreté›†æˆå½»åº•å‘Šåˆ«</code>ï¼›</li><li><code>å¾®ä¿¡æ”¯ä»˜ç¬¬ä¸‰æ–¹æˆæƒé›†æˆ</code>ï¼Œè®©å¼€å‘è€…ä¸ä¼ä¸šçœå»ç¹ççš„é…ç½®ï¼Œè®©ä¼ä¸šæœåŠ¡æˆæœ¬å¤§å¤§é™ä½ï¼›</li><li><code>å°ç¨‹åºä»£ç è‡ªåŠ¨pushä¸å‡çº§ï¼Œå…¬ä¼—å·åŸºæœ¬å¸¸è§„åŠŸèƒ½ï¼ˆè‡ªå®šä¹‰èœå•ã€å›¾æ–‡ã€ç´ æï¼Œç¾¤å‘ï¼‰å…¨éƒ¨æ¥ç®¡ï¼Œè®©ä¼ä¸šæ— éœ€ç™»å½•å¾®ä¿¡å®˜æ–¹å…¥å£ï¼Œç»Ÿä¸€åŒ–ç®¡ç†ä¼ä¸šä¿¡æ¯ä¸æ•°æ®</code>ï¼›</li><li>å¾®ä¿¡æ¶ˆæ¯é€šçŸ¥ä¸æ¨¡æ¿è‡ªåŠ¨åŒæ­¥ä¸ç®¡ç†ï¼Œè®©ä¼ä¸šåœºæ™¯èåˆæ— éšœç¢ï¼›</li><li><code>è‡ªå®šä¹‰è£…ä¿®åŠŸèƒ½</code>ï¼Œå®ç°ä¼ä¸šç”µå•†åœºæ™¯å¤šå…ƒåŒ–ï¼Œè§£å†³ä¸åŒè¡Œä¸šä¸åŒæ¨¡æ¿ï¼Œè®©ä¼ä¸šéœ€æ±‚å¾—åˆ°çœŸæ­£è§£å†³ï¼›</li><li>ä¸°å¯Œçš„è¥é”€å·¥å…·ï¼Œè§£å†³ä¼ä¸šå¾®è¥é”€éœ€æ±‚ï¼Œå¹¶é›†ä¸­åŒ–ç®¡ç†ã€‚æ‹¼å›¢æ´»åŠ¨ã€ç§¯åˆ†æ´»åŠ¨ã€ç ä»·ï¼Œä¼˜æƒ åˆ¸ï¼Œå¡åˆ¸ï¼Œç¤¼å“å¡ï¼Œé‚€è¯·æœ‰ç¤¼ç­‰è¥é”€æ´»åŠ¨ï¼Œæ–¹ä¾¿äºŒæ¬¡å¼€å‘ï¼›</li><li><code>ä¸åŒä¼ä¸šæ•°æ®éš”ç¦»ï¼ŒçœŸæ­£å®ç°SAASæ•°æ®éš”ç¦»æ¨¡å‹ï¼Œè®©ä¼ä¸šæ•°æ®äº’ä¸å¹²æ‰°</code></li><li>ä¸åŒä¼ä¸šä¸åŒåŸŸåè‡ªåŠ¨åˆ†é…ï¼Œè®©ä¼ä¸šå°ç¨‹åºã€å…¬ä¼—å·å‰ç«¯éš”ç¦»ï¼Œé¿å…å› ä¸ºå…¬ä¼—å·æˆ–è€…å°ç¨‹åºæ¨å¹¿æ—¶å¯¼è‡´åŸŸåè¢«æ£€æµ‹å¯¼è‡´çš„å°å·é—®é¢˜å‡ºç°ï¼Œå³ä¸åŒä¼ä¸šä¸åŒåŸŸï¼Œæ„åœ¨é˜²æ­¢saaså¹³å°ä¸­çš„ä¼ä¸šå—åˆ°å…¶ä»–ä¼ä¸šçš„å½±å“</li></ul>\n</blockquote>\n<hr/>\n<h2><a id=\"_51\"></a>ä¸‰ã€ç³»ç»Ÿè®¾è®¡</h2>\n<hr/>\n<blockquote>\n<p><strong>SAASå¾®ä¿¡å°ç¨‹åºç”µå•†ç³»ç»Ÿç³»ç»Ÿçš„ä¸»è¦åŠŸèƒ½æ¨¡å—åŒ…æ‹¬ <code>æ¦‚å†µæ¨¡å—ï¼Œåº—é“ºç®¡ç†æ¨¡å—ï¼Œå•†å“æ¨¡å—ï¼Œè®¢å•ç®¡ç†æ¨¡å—ï¼Œå®¢æˆ·ç®¡ç†æ¨¡å—ï¼Œæ•°æ®æ¨¡å—ï¼Œè¥é”€æ¨¡å—ï¼Œè®¾ç½®æ¨¡å—</code></strong></p>\n</blockquote>\n<hr/>\n<p>          <strong>ï¼ˆ1ï¼‰æ¦‚å†µæ¨¡å—ï¼š</strong> å¯ä»¥çœ‹åˆ°å…·ä½“å„ä¸ªåŠŸèƒ½çš„å…·ä½“ä¿¡æ¯</p>\n<hr/>\n<p>          <strong>ï¼ˆ2ï¼‰å•†å“æ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>å¾®é¡µé¢ï¼Œå…¨åº—é£æ ¼ï¼Œåº•éƒ¨èœå•ï¼Œåº•éƒ¨å¯¼èˆª</code></p>\n<hr/>\n<p>          <strong>ï¼ˆ3ï¼‰åº—é“ºæ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>å‡ºå”®ä¸­çš„å•†å“ã€åº“å­˜ç´§å¼ å•†å“ã€ä»“åº“å•†å“ã€å•†å“æ ‡ç­¾ã€å•†å“åˆ†ç»„ã€å•†å“å¯¼å…¥</code></p>\n<hr/>\n<p>          <strong>ï¼ˆ4ï¼‰è®¢å•ç®¡ç†æ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>æ‰€æœ‰è®¢å•ã€ç»´æƒè®¢å•ã€åŠ æ˜Ÿè®¢å•ã€è®¢å•è®¾ç½®</code></p>\n<hr/>\n<p>          <strong>ï¼ˆ5ï¼‰å®¢æˆ·æ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>ä¼šå‘˜ç®¡ç†ã€ä¼šå‘˜å¡ç®¡ç†ã€æ ‡ç­¾ç»„ç®¡ç†ã€ä¼šå‘˜æç°ã€ä¼šå‘˜è®¾ç½®</code></p>\n<hr/>\n<p>          <strong>ï¼ˆ6ï¼‰æ•°æ®æ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>ç»¼åˆç»Ÿè®¡ã€åº—é“ºçš„æ¦‚å†µã€è®¢å•çš„æ¦‚å†µã€å®¢æˆ·çš„åˆ†æ</code></p>\n<hr/>\n<p>          <strong>ï¼ˆ7ï¼‰è¥é”€æ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>å¸¸è§„è¥é”€ã€äººå£è®¾ç½®</code></p>\n<hr/>\n<p>          <strong>ï¼ˆ8ï¼‰è®¾ç½®æ¨¡å—ï¼š</strong> è¯¥æ¨¡å—åŒ…å«<code>åº—é“ºè®¾ç½®ã€æœåŠ¡åè®®ã€æ”¯ä»˜äº¤æ˜“ã€ç‰©æµé…é€ã€ä¿®æ”¹å¯†ç </code></p>\n<hr/>\n<p>          <strong>ï¼ˆ9ï¼‰ç³»ç»Ÿæ¶æ„å›¾</strong></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\a516f726e92641a4bd60fd6d09bd3526.png\"/></p>\n<hr/>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\2e5ba539c9384075a3e4199db27fec5f.png\"/></p>\n<hr/>\n<h2><a id=\"_104\"></a>å››ã€ç³»ç»ŸåŠŸèƒ½æ¼”ç¤º</h2>\n<hr/>\n<h3><a id=\"_108\"></a>ğŸš©åº—é“ºåŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\fb287a74156c41e9b44a1986f48bf3b6.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\20a99716013c4c47983178c6cc2e1335.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\d4e22e97080040f98ec8ede6f8a56ee0.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\0b00051a2a9240cc89cd03907d8d6133.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\f9b96836aebf43e283d2198bbea7baf1.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\6f30f024287d482b91401fea29ee40cb.png\"/></p>\n<hr/>\n<h3><a id=\"_135\"></a>ğŸš©å•†å“åŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\9d9d8cb6ffd242d5a1479d71f56591a9.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\a87e5aef1f03432f955bb44ae6bdb906.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\4389bc9ab4ab40ddab0aeaa98d2537a5.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\dc0d478dcd7d435d8afc4559e7119e9a.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\68fd90d7e3e34aa79d605f3354f28b16.png\"/></p>\n<hr/>\n<h3><a id=\"_158\"></a>ğŸš©è®¢å•åŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\fbdde3dbabb44cb58b375a55169d1e28.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\8037d42da7b04f678e5701ebb205fcd7.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\5752241de47c46f1b91e7563f88d4e94.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\f9da5b954a8d4d9095fc56f29328adce.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\734ec625de5d4fceaf452713de59835e.png\"/></p>\n<hr/>\n<h3><a id=\"_182\"></a>ğŸš©å®¢æˆ·åŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\86df48863b464adb8633e3c20243ee6c.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\e0a9d7db289d4a75bf083b76d8e73f2a.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\bab690a550574e64acfbd03d4ba9c0b6.png\"/></p>\n<hr/>\n<h3><a id=\"_197\"></a>ğŸš©æ•°æ®åŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\84cb999351e445cc9695e660badd166a.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\713b10856ff74afa95a9a4dadda9be88.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\5fc33356730e44e5a5b86283e70aaccb.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\ebe48d596b944e5f813a81471d75114b.png\"/></p>\n<hr/>\n<h3><a id=\"_216\"></a>ğŸš©è¥é”€åŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\6d64f27dd3de49d89e4b3bc79c730852.png\"/></p>\n<hr/>\n<h3><a id=\"_224\"></a>ğŸš©è®¾ç½®åŠŸèƒ½æ¼”ç¤ºå›¾</h3>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\dc61039de89c4f51a9094c8cb504a4b9.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\474180dfa87a40c492f4b53042ad392a.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\fac48d3040ac40bdbf0887fb5eebeb47.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\e19223654199443c8f2c66b27859d3be.png\"/></p>\n<hr/>\n<p><img alt=\"è¯·æ·»åŠ å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\8a9d7f3277384421b62da92dc2e88d1a.png\"/></p>\n<hr/>\n<h2><a id=\"_249\"></a>äº”ã€ç³»ç»Ÿæºä»£ç </h2>\n<pre><code class=\"prism language-java\"><span class=\"token comment\">/**\n * ç ä»· æ´»åŠ¨\n * @company http://www.wei-it.com\n */</span>\n<span class=\"token annotation punctuation\">@Controller</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"/ump/bargain\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BargainController</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AdminController</span> <span class=\"token punctuation\">{<!-- --></span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Logger</span> logger <span class=\"token operator\">=</span> <span class=\"token class-name\">Logger</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLogger</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BargainController</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Resource</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">BargainService</span> bargainService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Resource</span>\n    <span class=\"token class-name\">ProductService</span> productService<span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨ åˆ—è¡¨\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bargainList\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">bargainList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥ bargainController-list,ç ä»·æ´»åŠ¨åˆ—è¡¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//è·å–è¯·æ±‚å‚æ•°</span>\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//å¼€å¯åˆ†é¡µ</span>\n        <span class=\"token class-name\">PageHelper</span><span class=\"token punctuation\">.</span><span class=\"token function\">startPage</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//æŸ¥è¯¢å±•ç¤ºæ•°é‡</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">selectList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//è¿”å›åˆ°listé¡µé¢</span>\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/bargain/bargainList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//ç»‘å®šåˆ†é¡µè¿”å›</span>\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pageInfo\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PageInfo</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//ç»‘å®šä¸Šä¸€æ¬¡å‚æ•°</span>\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"queryParam\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨ æ–°å¢\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/add\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/bargain/bargainCreate\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç ä»·æ´»åŠ¨æ–°å¢\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨ ç¼–è¾‘\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/edit\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">E</span> infoMap <span class=\"token operator\">=</span> bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">selectOne</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_id\"</span><span class=\"token punctuation\">,</span>infoMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">E</span> itemInfo <span class=\"token operator\">=</span> productService<span class=\"token punctuation\">.</span><span class=\"token function\">getItemById</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n        <span class=\"token class-name\">String</span> specString <span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>itemInfo<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> itemInfo<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"spec_custom\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n            formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"specIds\"</span><span class=\"token punctuation\">,</span> itemInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"spec_custom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\";\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> specList <span class=\"token operator\">=</span> productService<span class=\"token punctuation\">.</span><span class=\"token function\">getSpecCustomByIds</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> spec <span class=\"token operator\">:</span>specList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                specString<span class=\"token operator\">+=</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key_name\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\";\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        specString<span class=\"token operator\">=</span>specString<span class=\"token operator\">==</span><span class=\"token string\">\"\"</span><span class=\"token operator\">?</span>infoMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_name\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>specString<span class=\"token punctuation\">;</span>\n\n        infoMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"skuName\"</span><span class=\"token punctuation\">,</span>specString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/bargain/bargainCreate\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"infoMap\"</span><span class=\"token punctuation\">,</span> infoMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ç ä»·æ´»åŠ¨ç¼–è¾‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨ ä¿å­˜\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/save\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n\n        <span class=\"token class-name\">FormMap</span> param <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span> param<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\n            <span class=\"token comment\">//æ ¹æ®ç”Ÿæ•ˆæ—¶é—´åˆ¤æ–­æ˜¯å¦ç°åœ¨ç”Ÿæ•ˆ</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&gt;</span> <span class=\"token class-name\">DateUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTimeByString</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"start_time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"yyyy/MM/dd HH:mm:ss\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                param<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token comment\">//æœªå¼€å§‹çŠ¶æ€</span>\n                param<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n            param<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"eivt\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//å¤±æ•ˆåå†ç¼–è¾‘</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&gt;</span> <span class=\"token class-name\">DateUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTimeByString</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"start_time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"yyyy/MM/dd HH:mm:ss\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">DateUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTimeByString</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"end_time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"yyyy/MM/dd HH:mm:ss\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                param<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">DateUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTimeByString</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"start_time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"yyyy/MM/dd HH:mm:ss\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                param<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"redirect:bargainList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨ çŠ¶æ€ä¿®æ”¹\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/status\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"eivt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"state\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"redirect:bargainList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * ç§’æ€æ´»åŠ¨ åˆ é™¤\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/remove\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n\n        <span class=\"token class-name\">FormMap</span> map <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"redirect:bargainList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨è®°å½•åˆ—è¡¨\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bargainDetailList\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">bargainOrderList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥ bargainController-bargainOrderList,æ»¡å‡é€æ´»åŠ¨åˆ—è¡¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//è·å–è¯·æ±‚å‚æ•°</span>\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//å¼€å¯åˆ†é¡µ</span>\n        <span class=\"token class-name\">PageHelper</span><span class=\"token punctuation\">.</span><span class=\"token function\">startPage</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//æŸ¥è¯¢å±•ç¤ºæ•°é‡</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">selectBargainDetailList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//è¿”å›åˆ°listé¡µé¢</span>\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/bargain/bargainDetailList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//ç»‘å®šåˆ†é¡µè¿”å›</span>\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pageInfo\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PageInfo</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//ç»‘å®šä¸Šä¸€æ¬¡å‚æ•°</span>\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"queryParam\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * ç ä»·æ´»åŠ¨ åˆ—è¡¨\n     */</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/bargainNancyList\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">bargainNancyList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥ bargainController-bargainOrderList,ç ä»·æ´»åŠ¨åˆ—è¡¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//è·å–è¯·æ±‚å‚æ•°</span>\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//å¼€å¯åˆ†é¡µ</span>\n        <span class=\"token class-name\">PageHelper</span><span class=\"token punctuation\">.</span><span class=\"token function\">startPage</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//æŸ¥è¯¢å±•ç¤ºæ•°é‡</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">selectBargainNancyList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//è¿”å›åˆ°listé¡µé¢</span>\n        <span class=\"token class-name\">UIview</span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/bargain/bargainNancyList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//ç»‘å®šåˆ†é¡µè¿”å›</span>\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pageInfo\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PageInfo</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//ç»‘å®šä¸Šä¸€æ¬¡å‚æ•°</span>\n        result<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"queryParam\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token comment\">/**\n     * æŸ¥è¯¢å•†å“åˆ—è¡¨\n     */</span>\n    <span class=\"token annotation punctuation\">@ResponseBody</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/productList.json\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">productList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥seckillController-productList,æŸ¥è¯¢å•†å“\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_name\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ISO-8859-1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> productList <span class=\"token operator\">=</span> bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">selectProductList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> productJson <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e <span class=\"token operator\">:</span> productList<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token class-name\">E</span> productinfo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">E</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;img src='\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFileDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_img\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"' width='60px' height='60px'/&gt;\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_name\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sale_price\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sale_price\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stock\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stock\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                    productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"option\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;a href='javascript:;'   title='é€‰å–' class='btn bg-green m-r-5 m-b-5 able_product_\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"' style='height: 22px;padding-top: 0px;' Î¿nclick='selectProduct(\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\")' price='\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sale_price\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"'spec_config='\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"spec_config\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"'&gt;é€‰å–&lt;/a&gt;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n                    productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"option\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;a href='javascript:;' class='btn bg-grey m-r-5 m-b-5' style='height: 22px;padding-top: 0px;'&gt;å·²å‚åŠ &lt;/a&gt;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                productJson<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>productinfo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">toJsonAPI</span><span class=\"token punctuation\">(</span>productJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Exception</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‡ºé”™å•¦...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * é€‰æ‹©å¤šè§„æ ¼å•†å“  è§„æ ¼ã€ä»·æ ¼ã€åº“å­˜ã€æ“ä½œ\n     * produce_id\n     */</span>\n    <span class=\"token annotation punctuation\">@ResponseBody</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/skuList.json\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">skuList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"BargainController-skuList,é€‰æ‹©å¤šè§„æ ¼å•†å“\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"is_deleted\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"is_disabled\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> productService<span class=\"token punctuation\">.</span><span class=\"token function\">selectItemList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">E</span> productInfo <span class=\"token operator\">=</span> productService<span class=\"token punctuation\">.</span><span class=\"token function\">selectById</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> productJson <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> e <span class=\"token operator\">:</span> list<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token class-name\">E</span> productinfo <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">E</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"specIds\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"spec_custom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\";\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> specList <span class=\"token operator\">=</span> productService<span class=\"token punctuation\">.</span><span class=\"token function\">getSpecCustomByIds</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">String</span> specString <span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span> spec <span class=\"token operator\">:</span>specList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n                specString<span class=\"token operator\">+=</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key_name\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\";\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            specString<span class=\"token operator\">=</span>specString<span class=\"token operator\">==</span><span class=\"token string\">\"\"</span><span class=\"token operator\">?</span>productInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_name\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>specString<span class=\"token punctuation\">;</span>\n            productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"specDesc\"</span><span class=\"token punctuation\">,</span>specString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sale_price\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sale_price\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stock\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stock\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            productinfo<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"option\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;a href='javascript:;'   title='é€‰å–' class='btn bg-green m-r-5 m-b-5 able_item_\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"' style='height: 22px;padding-top: 0px;' Î¿nclick='selectItem(\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\")' specDesc='\"</span> <span class=\"token operator\">+</span> specString <span class=\"token operator\">+</span> <span class=\"token string\">\"'  product_id='\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_id\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"' product_img='\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFileDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>productInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_img\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"' stock='\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stock\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"' price='\"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sale_price\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"'&gt;é€‰å–&lt;/a&gt;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            productJson<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>productinfo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">toJsonAPI</span><span class=\"token punctuation\">(</span>productJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token comment\">/**\n     * å¾®é¡µé¢(æ´»åŠ¨é¡µ) æ ¹æ®bargain_ids è·å–ç ä»·å•†å“æ´»åŠ¨åˆ—è¡¨\n     */</span>\n    <span class=\"token annotation punctuation\">@ResponseBody</span>\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/getProductByBargainIds\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getProductByBargainIds</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">String</span> token<span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span> bargain_ids<span class=\"token punctuation\">,</span><span class=\"token class-name\">Integer</span> bargainGetType<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{<!-- --></span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥ bargainController-getProductByBargainIds,å¾®é¡µé¢æ ¹æ®bargain_ids è·å–ç ä»·å•†å“æ´»åŠ¨åˆ—è¡¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n            formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">DesUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            logger<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"token è§£å¯†å¤±è´¥\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>bargain_ids<span class=\"token punctuation\">)</span><span class=\"token operator\">&amp;&amp;</span> bargainGetType<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            formMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bargain_ids\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">strip</span><span class=\"token punctuation\">(</span>bargain_ids<span class=\"token punctuation\">,</span> <span class=\"token string\">\"[]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"end_time\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token class-name\">BargainList</span> <span class=\"token operator\">=</span> bargainService<span class=\"token punctuation\">.</span><span class=\"token function\">getProductByBargainIds</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">toJsonAPI</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BargainList</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<hr/>\n<pre><code class=\"prism language-java\"><span class=\"token comment\">/**\n * è¥é”€ç®¡ç†-ã€‹ä¼˜æƒ åˆ¸\n * @company http://www.wei-it.com å¾®é‚¦äº’è”\n */</span>\n<span class=\"token annotation punctuation\">@Controller</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"/ump/coupons\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponsController</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AdminController</span> <span class=\"token punctuation\">{<!-- --></span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Logger</span> logger<span class=\"token operator\">=</span> <span class=\"token class-name\">Logger</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLogger</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CouponsController</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@Resource</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">CouponService</span> couponService<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@Resource</span>\n\t<span class=\"token class-name\">ParameterService</span> parameterService<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@Resource</span>\n\t<span class=\"token class-name\">WeixinOpenService</span> weixinOpenService<span class=\"token punctuation\">;</span>\n\t  \n\t<span class=\"token comment\">/**\n\t * ä¼˜æƒ åˆ¸ã€‹ä¼˜æƒ åˆ¸åˆ—è¡¨\n\t */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/couponsList\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">couponsList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-couponsList,ä¼˜æƒ åˆ¸åˆ—è¡¨å±•ç¤º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/coupons/couponsList\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">PageHelper</span><span class=\"token punctuation\">.</span><span class=\"token function\">startPage</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       \n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pageInfo\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PageInfo</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"queryParam\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n    <span class=\"token comment\">/**\n     * ä¼˜æƒ åˆ¸ã€‹ä¼˜æƒ åˆ¸åˆ›å»º\n     */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/create\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token class-name\">UIview</span> view<span class=\"token operator\">=</span><span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/coupons/couponsCreate\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n    <span class=\"token comment\">/**\n     * ä¼˜æƒ åˆ¸ ã€‹ç¼–è¾‘\n     */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/edit\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">edit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-edit,ä¼˜æƒ åˆ¸ç¼–è¾‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view<span class=\"token operator\">=</span><span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/coupons/couponsCreate\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">E</span> coupon<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectCoupon</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon\"</span><span class=\"token punctuation\">,</span> coupon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n    <span class=\"token comment\">/**\n     * ä¼˜æƒ åˆ¸ ã€‹ä¼˜æƒ åˆ¸æ–°å¢ä¿å­˜\n     * @throws Exception \n     */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/save\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">ModelAndView</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-save,ä¼˜æƒ åˆ¸æ–°å¢ä¿å­˜\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view<span class=\"token operator\">=</span><span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponsList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token comment\">//åˆ¤æ–­ä¼˜æƒ å½¢å¼type=1,2,3</span>\n\t    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//ä¼˜æƒ å½¢å¼è¡¨ç¤ºâ€œæŒ‡å®šé‡‘é¢â€</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon_discount\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"random_min_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"random_max_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//ä¼˜æƒ å½¢å¼è¡¨ç¤ºâ€œæ‰“æŠ˜â€</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"random_min_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"random_max_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//ä¼˜æƒ å½¢å¼è¡¨ç¤ºâ€œæŒ‡å®šé‡‘é¢ï¼ˆéšæœºï¼‰â€</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon_discount\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t    <span class=\"token comment\">//åˆ¤æ–­ç”Ÿæ•ˆæ¡ä»¶is_condition=-1,1</span>\n\t\t<span class=\"token comment\">//ç”Ÿæ•ˆæ¡ä»¶è¡¨ç¤ºâ€œæ— æ¡ä»¶â€</span>\n\t    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"is_condition\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"condition_price\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t    <span class=\"token comment\">//åˆ¤æ–­ä½¿ç”¨æœ‰æ•ˆæœŸæ–¹å¼use_type=1 å›ºå®šèŒƒå›´  ,2  æŒ‡å®šæ—¶é—´èŒƒå›´</span>\n\t\t<span class=\"token comment\">//ä½¿ç”¨æœ‰æ•ˆæœŸè¡¨ç¤ºâ€œå›ºå®šèŒƒå›´â€</span>\n\t    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"use_type\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"from_day\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"to_day\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        <span class=\"token comment\">//å¦‚æœå¼€å§‹æ—¶é—´å°äºå½“å‰æ—¶é—´   åˆ™ä¼˜æƒ åˆ¸å¤„äºæœªç”Ÿæ•ˆçŠ¶æ€  ,å…¶ä»–æƒ…å†µéƒ½æ˜¯ç”Ÿæ•ˆçŠ¶æ€</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&lt;</span> <span class=\"token class-name\">DateUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTimeByString</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"start_time\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"yyyy/MM/dd HH:mm:ss\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"start_time\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"end_time\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t    <span class=\"token comment\">//åˆ¤æ–­æ²¡äººé¢†å–é™åˆ¶</span>\n\t\t<span class=\"token comment\">//ä½¿ç”¨æœ‰æ•ˆæœŸè¡¨ç¤ºâ€œä¸é™åˆ¶é¢†å–ç†Ÿé‡â€</span>\n\t    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"maxLimitType\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"max_limit\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t    <span class=\"token comment\">//åˆ¤æ–­å¯ä½¿ç”¨å•†å“</span>\n\t\t<span class=\"token comment\">//ä½¿ç”¨æœ‰æ•ˆæœŸè¡¨ç¤ºâ€œå…¨ç½‘å•†å“é€šç”¨â€</span>\n\t    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getInt</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_range_type\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">==</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_ids\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n\t        formMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"product_ids\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"selectProductValues\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token punctuation\">}</span>\n\t    <span class=\"token comment\">//åˆ¤æ–­æ˜¯æ–°å¢è¿˜æ˜¯ä¿®æ”¹</span>\n\t\t<span class=\"token comment\">//æ–°å¢ä¼˜æƒ åˆ¸åˆ¤æ–­</span>\n\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcouponService<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//ä¿®æ”¹ä¼˜æƒ åˆ¸</span>\n\t\t\tcouponService<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token comment\">/**\n\t * ä¼˜æƒ åˆ¸ã€‹ä¼˜æƒ åˆ¸åˆ—è¡¨ã€‹ç”Ÿæ•ˆ&amp;ä¸ç”Ÿæ•ˆ\n\t */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/state\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-state,ä¼˜æƒ åˆ¸ç”Ÿæ•ˆ&amp;ä¸ç”Ÿæ•ˆæ“ä½œ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view<span class=\"token operator\">=</span><span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponsList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onlyUpdateState\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"state\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tcouponService<span class=\"token punctuation\">.</span><span class=\"token function\">edit</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token comment\">/**\n\t * ä¼˜æƒ åˆ¸ã€‹ä¼˜æƒ åˆ¸åˆ—è¡¨ã€‹åˆ é™¤\n\t */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/remove\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-remove,ä¼˜æƒ åˆ¸åˆ é™¤\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view<span class=\"token operator\">=</span><span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponsList\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectCouponUserList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//è¯¥ä¼˜æƒ åˆ¸è¿˜æœ‰æœªä½¿ç”¨çš„ç”¨æˆ·</span>\n\t\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addErrorMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åˆ é™¤å¤±è´¥ï¼Œè¯¥ä¼˜æƒ åˆ¸è¿˜æœ‰æœªä½¿ç”¨çš„ç”¨æˆ·!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcouponService<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addPNotifyMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¼˜æƒ åˆ¸åˆ é™¤æˆåŠŸï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span> \n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n \n    <span class=\"token comment\">/**\n     * ä¼˜æƒ åˆ¸ æ´¾å‘ç”¨æˆ·åˆ—è¡¨ \n     */</span> \n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/couponsGive\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">couponsGive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-couponsGive,ä¼˜æƒ åˆ¸æ¨å¹¿ä¸æ´¾å‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/coupons/couponsGive\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">PageHelper</span><span class=\"token punctuation\">.</span><span class=\"token function\">startPage</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token comment\">//æŸ¥è¯¢æ²¡æœ‰é¢†å–è¯¥ä¼˜æƒ åˆ¸çš„ç”¨æˆ·åˆ—è¡¨ä¸é¢†å–äº†ä½†æ˜¯æ²¡æœ‰è¶…è¿‡ä¼˜æƒ åˆ¸æœ€å¤§è®¾ç½®é™è´­æ•°çš„ç”¨æˆ·åˆ—è¡¨</span>\n\n    \t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectNoCouponUserList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t\n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pageInfo\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PageInfo</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"queryParam\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n\t\t<span class=\"token class-name\">E</span> publicInfo<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"publicInfo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>publicInfo<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//è·å–å…¬ä¼—å·ä¼˜æƒ åˆ¸åœ°å€  å’Œ é“¾æ¥</span>\n\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"COUPONSMPQRCODE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token class-name\">E</span> paramInfo <span class=\"token operator\">=</span> parameterService<span class=\"token punctuation\">.</span><span class=\"token function\">selectShopParamByName</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponMpQrCodeUrl\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constants</span><span class=\"token punctuation\">.</span>COUPON_QR_CODE<span class=\"token punctuation\">,</span>publicInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"authorizer_app_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>paramInfo<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponMpQrcode\"</span><span class=\"token punctuation\">,</span>paramInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_value\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token class-name\">WeiitQrCodeUtil</span> qrCodeUtil <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WeiitQrCodeUtil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token class-name\">String</span> qrCodePath <span class=\"token operator\">=</span> qrCodeUtil<span class=\"token punctuation\">.</span><span class=\"token function\">createQRCodeAndUploadQcloud</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constants</span><span class=\"token punctuation\">.</span>COUPON_QR_CODE<span class=\"token punctuation\">,</span>publicInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"authorizer_app_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token comment\">//å…¥åº“</span>\n\t\t\t\t<span class=\"token class-name\">FormMap</span> insertParam <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_code\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"COUPONQRCODE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"COUPONSMPQRCODE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_value\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFileDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>qrCodePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_desc\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å…¬ä¼—å·ä¼˜æƒ åˆ¸é¢†å–äºŒç»´ç \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">,</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\tparameterService<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>insertParam<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponMpQrcode\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFileDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>qrCodePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token class-name\">E</span> miniPublicInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"miniPublicInfo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>miniPublicInfo<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//è·å–å…¬ä¼—å·ä¼˜æƒ åˆ¸åœ°å€  å’Œ é“¾æ¥</span>\n\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"COUPONSMAQRCODE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token class-name\">E</span> paramInfo <span class=\"token operator\">=</span> parameterService<span class=\"token punctuation\">.</span><span class=\"token function\">selectShopParamByName</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>paramInfo<span class=\"token operator\">!=</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponMaQrcode\"</span><span class=\"token punctuation\">,</span>paramInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_value\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"appid\"</span><span class=\"token punctuation\">,</span>miniPublicInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"authorizer_app_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token class-name\">File</span> file <span class=\"token operator\">=</span> weixinOpenService<span class=\"token punctuation\">.</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getWxOpenComponentService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getWxMaServiceByAppid</span><span class=\"token punctuation\">(</span>miniPublicInfo<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"authorizer_app_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getQrcodeService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">createWxaCode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pages/Receive_coupons/Receive_coupons\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">225</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token class-name\">String</span> qrCodePath <span class=\"token operator\">=</span> <span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">uploadFile</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">FileUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">readFileToByteArray</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t\t\t\t<span class=\"token class-name\">FormMap</span> insertParam <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_code\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"COUPONQRCODE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_name\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"COUPONSMAQRCODE\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_value\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFileDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>qrCodePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"item_desc\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"å°ç¨‹åºä¼˜æƒ åˆ¸é¢†å–äºŒç»´ç \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"state\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tinsertParam<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">,</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\tparameterService<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>insertParam<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponMaQrcode\"</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">WeiitUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getFileDomain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>qrCodePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\te<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token comment\">/**\n\t * æ´¾å‘ä¼˜æƒ åˆ¸  ä¿å­˜ \n\t * @return\n\t * @throws Exception\n\t */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/couponsGiveSave\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">couponsGiveSave</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-couponsGiveSave,ä¼˜æƒ åˆ¸æ¨å¹¿æäº¤\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">String</span> message<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">insertCouponUserTrans</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">UIview</span> view <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponsGive?validate_id=\"</span><span class=\"token operator\">+</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"&amp;validate_id_token=\"</span><span class=\"token operator\">+</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id_token\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>message<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addPNotifyMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¼šå‘˜ä¼˜æƒ åˆ¸æ´¾é€æˆåŠŸï¼\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addErrorMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token comment\">/**\n\t * æ´¾å‘ä¼˜æƒ åˆ¸è®°å½•\n\t * @return\n\t * @throws Exception\n\t */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/couponsUserList\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">couponsUserList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-couponsUserList,å‘ä¼˜æƒ åˆ¸è®°å½•\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">UIview</span> view <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/center/ump/coupons/couponsUserList\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">E</span> coupon <span class=\"token operator\">=</span> couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectOne</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token class-name\">PageHelper</span><span class=\"token punctuation\">.</span><span class=\"token function\">startPage</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getRows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t<span class=\"token comment\">//æŸ¥è¯¢è¯¥ä¼˜æƒ åˆ¸å·²ç»æ´¾å‘è¿‡çš„ç”¨æˆ·</span>\n    \t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectCouponUserList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \t\n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pageInfo\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PageInfo</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"queryParam\"</span><span class=\"token punctuation\">,</span> formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \tview<span class=\"token punctuation\">.</span><span class=\"token function\">addObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon\"</span><span class=\"token punctuation\">,</span> coupon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span> \n\t<span class=\"token punctuation\">}</span>\n\n\t\n\t<span class=\"token comment\">/**\n\t * æ´¾å‘ä¼˜æƒ åˆ¸ã€‹å›æ”¶\n\t * @return\n\t * @throws Exception\n\t */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/couponsUserRemove\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">UIview</span> <span class=\"token function\">couponsUserRemove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-couponsUserRemove,æ´¾å‘ä¼˜æƒ åˆ¸ å›æ”¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token function\">getFormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">String</span> message<span class=\"token operator\">=</span>couponService<span class=\"token punctuation\">.</span><span class=\"token function\">removeCouponUserTrans</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">UIview</span> view <span class=\"token operator\">=</span> <span class=\"token class-name\">UIView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponsUserList?validate_id=\"</span><span class=\"token operator\">+</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"&amp;validate_id_token=\"</span><span class=\"token operator\">+</span>formMap<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"validate_id_token\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>message<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addPNotifyMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ä¼˜æƒ åˆ¸å›æ”¶æˆåŠŸ!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tview<span class=\"token punctuation\">.</span><span class=\"token function\">addErrorMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">return</span> view<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\n\t<span class=\"token comment\">/**\n\t * è£…ä¿®é¡µé¢ è·å–ä¼˜æƒ åˆ¸åˆ—è¡¨\n\t *\n\t *\n\t * */</span>\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"/getCouponList\"</span><span class=\"token punctuation\">,</span>method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span>GET<span class=\"token punctuation\">)</span>\n\t<span class=\"token annotation punctuation\">@ResponseBody</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">E</span> <span class=\"token function\">getCouponList</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">String</span> token<span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span> coupon_name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"è¿›å…¥CouponsController-getCouponList,è·å–ä¼˜æƒ åˆ¸åˆ—è¡¨\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">FormMap</span> formMap<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">FormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">E</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">E</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">DesUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\te<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"token è§£å¯†å¤±è´¥\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tresult<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponList\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon_name\"</span><span class=\"token punctuation\">,</span>coupon_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> couponService<span class=\"token punctuation\">.</span><span class=\"token function\">selectList</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tresult<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponList\"</span><span class=\"token punctuation\">,</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">//ç»‘å®šä¸Šä¸€æ¬¡å‚æ•°</span>\n\t\t<span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\n\t<span class=\"token comment\">/**\n\t * å¾®é¡µé¢  ä¼˜æƒ åˆ¸å±•ç¤º   ä¸å±•ç¤ºæ˜¯å¦é¢†å–  è¿‡æ»¤å¤±æ•ˆä¼˜æƒ åˆ¸\n\t * @author lhq\n\t * @date 2018å¹´5æœˆ10æ—¥\n\t * */</span>\n\n\t<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"/couponListByIds\"</span><span class=\"token punctuation\">,</span>method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span>GET<span class=\"token punctuation\">)</span>\n\t<span class=\"token annotation punctuation\">@ResponseBody</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">couponListByIds</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">String</span> token<span class=\"token punctuation\">,</span><span class=\"token class-name\">String</span> coupon_ids<span class=\"token punctuation\">,</span><span class=\"token class-name\">Integer</span> couponType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ActivityController-couponListByIdsï¼Œå¾®é¡µé¢  ä¼˜æƒ åˆ¸å±•ç¤º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">FormMap</span> formMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FormMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"shop_id\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">DesUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">decrypt</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n\t\t\te<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\tlogger<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"token è§£å¯†å¤±è´¥\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"couponType\"</span><span class=\"token punctuation\">,</span>couponType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span>coupon_ids<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> couponType<span class=\"token operator\">==</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n\t\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"coupon_ids\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">StringUtils</span><span class=\"token punctuation\">.</span><span class=\"token function\">strip</span><span class=\"token punctuation\">(</span>coupon_ids<span class=\"token punctuation\">,</span> <span class=\"token string\">\"[]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tformMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"end_time\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">E</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> couponService<span class=\"token punctuation\">.</span><span class=\"token function\">couponListByIds</span><span class=\"token punctuation\">(</span>formMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">toJsonAPI</span><span class=\"token punctuation\">(</span>list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<hr/>\n<blockquote>\n<p>ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ ğŸŒˆ<br/>  <br/> <strong>ğŸ‚ä¸ªäººåšå®¢é¦–é¡µï¼š</strong> <a href=\"https://blog.csdn.net/m0_47384542?type=blog\">KJ.JK</a><br/>  <br/> <strong>æ¬¢è¿å¤§å®¶ç‚¹èµğŸ‘æ”¶è—ğŸ’–è¯„è®ºğŸ’¬å…³æ³¨ğŸ”’</strong><br/>  <br/> <strong>ğŸ’–æºç è·å– | ğŸ’»å­¦ä¹ äº¤æµ | ğŸ¤å•†åŠ¡åˆä½œ | ğŸ’¨ç§ä¿¡ä½œè€…</strong></p>\n</blockquote>\n<hr/>\n<h1><a id=\"KJJK_914\"></a>ä½œè€…ï¼šKJ.JK</h1>\n<p>æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ç»™ä¸ªèµæˆ–è€… starï¼Œä½ çš„æ”¯æŒæ˜¯å¯¹ä½œè€…æœ€å¤§çš„é¼“åŠ±ï¼Œä¸è¶³ä¹‹å¤„å¯ä»¥åœ¨è¯„è®ºåŒºå¤šå¤šæŒ‡æ­£ï¼Œäº¤æµå­¦ä¹ </p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "JavaScript", "cpp": 0, "csharp": 0, "python": 0, "javascript": 1, "java": 0, "sql": 0, "php": 0, "time": "2022-08-29 10:05:18", "summary": "æ–‡ç« ç›®å½•ä¸€ã€é¡¹ç›®ä»‹ç»äºŒã€æŠ€æœ¯æ ˆä»¥åŠé¡¹ç›®ç‰¹ç‚¹ä¸‰ã€ç³»ç»Ÿè®¾è®¡å››ã€ç³»ç»ŸåŠŸèƒ½æ¼”ç¤ºåº—é“ºåŠŸèƒ½æ¼”ç¤ºå›¾å•†å“åŠŸèƒ½æ¼”ç¤ºå›¾è®¢å•åŠŸèƒ½æ¼”ç¤ºå›¾å®¢æˆ·åŠŸèƒ½æ¼”ç¤ºå›¾æ•°æ®åŠŸèƒ½æ¼”ç¤ºå›¾è¥é”€åŠŸèƒ½æ¼”ç¤ºå›¾è®¾ç½®åŠŸèƒ½æ¼”ç¤ºå›¾äº”ã€ç³»ç»Ÿæºä»£ç ä½œè€…ï¼šä¸ªäººåšå®¢é¦–é¡µ"}