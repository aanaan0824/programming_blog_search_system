{"blogid": "125095035", "writerAge": "码龄5年", "writerBlogNum": "91", "writerCollect": "151", "writerComment": "39", "writerFan": "137", "writerGrade": "4级", "writerIntegral": "1476", "writerName": "乔木晨子", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125095035.jpg", "writerRankTotal": "29692", "writerRankWeekly": "279640", "writerThumb": "26", "writerVisitNum": "91035", "blog_read_count": "6673", "blog_time": "于 2022-06-02 09:57:52 发布", "blog_title": "mysql 中 in 的用法", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h2>1. select * from student s where s.id in (20,30);</h2>\n<p>查询id是20或者是30，等同于select * from student s where s.id = 20 or s.id = 30;</p>\n<p></p>\n<h2>2.select * from student s where s.id in (select age from student);</h2>\n<p>查询id是age数组里面的，单个字段只能in查询结果是单行的。</p>\n<p>很明显后面括号的 select age from student 查出来只有age这一列，假如括号的查询查出来的age是下面图列</p>\n<p><img alt=\"\" height=\"180\" src=\"..\\..\\static\\image\\e226d79dca2140ce9c748346ce58a58f.png\" width=\"75\"/></p>\n<p>那么此时查询就等价于select * from student s where s.id in (64,57,32,24,35,55);</p>\n<p></p>\n<h2>3.select * from student s where (s.class , s.score) in (select class , max(score) from student group by class)</h2>\n<p>既然能单个字段in单行结果，<strong><span style=\"color:#fe2c24;\">那么多个字段就能in多行结果了</span></strong>。</p>\n<p><strong><span style=\"color:#38d8f0;\">这个sql表示：查询每个班级中分数最高的学生的所有数据</span></strong></p>\n<p>注意，此时的name和class是不会错位的，你本来就是按着匹配的class和score去in匹配class、score的结果集，所以数据不会出错的。</p>\n<p></p>\n<p><span style=\"color:#faa572;\">如果你写成这样：</span></p>\n<p><span style=\"color:#faa572;\">select * from student s where s.class in (select class from student group by class ) and s.score in (select max(score) from student group by class);</span></p>\n<p><span style=\"color:#faa572;\">就把class和score的关系分开了，分开后就可能出现结果列错位的情况，可能名字和他的分数对不上。</span></p>\n</div>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-06-02 09:57:52", "summary": "查询是或者是，等同于查询是数组里面的，单个字段只能查询结果是单行的。很明显后面括号的查出来只有这一列，假如括号的查询查出来的是下面图列那么此时查询就等价于既然能单个字段单行结果，那么多个字段就能多行结"}