{"blogid": "124355140", "writerAge": "码龄1年", "writerBlogNum": "10", "writerCollect": "125", "writerComment": "50", "writerFan": "354", "writerGrade": "2级", "writerIntegral": "194", "writerName": "9527风先生", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124355140.jpg", "writerRankTotal": "73103", "writerRankWeekly": "359813", "writerThumb": "53", "writerVisitNum": "17961", "blog_read_count": "6367", "blog_time": "已于 2022-07-14 17:22:53 修改", "blog_title": "Ubuntu20.04配置ORBSLAM2并运行（保姆级教程）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>1、引言</h1>\n<p>首先欢迎大家来到我的博客，因为自己在这个ORB_SLAM2的环境配置上走了太多的坑，为了让研友不再入坑，决定来个保姆级教程，哈哈哈。</p>\n<h1>2、库安装</h1>\n<p><span style=\"color:#fe2c24;\"><strong>大家如果之前安装过库，且ORB_SLAM编译失败了的，请将库残留卸载干净！</strong></span>（没安装过的除外），下面请大家按照我的步骤来。</p>\n<h3>Step1：安装cmake，gcc，g++，git，</h3>\n<p>已经安装的忽略。打开终端，输入如下。</p>\n<pre><code>sudo apt-get update\nsudo apt-get install  cmake gcc g++ git\n\n</code></pre>\n<h3>Step2：安装Pangolin，请安装0.5版本</h3>\n<p>不过我安装0.5版本，爆巨多的错误，所以我用了0.6稳定版，需要的自取===&gt;<a class=\"link-info\" href=\"https://pan.baidu.com/s/1prNBK976N8WK-yKhrE_C_A%C2%A0\" title=\"Pangolin\">Pangolin</a>&lt;===,密码：9527 （<span style=\"color:#fe2c24;\">即使报错，也可以通过百度来解决</span>）（在此建议大家使用Micro Edge浏览器），</p>\n<p>请将下载好的文件夹改名为Pangolin，放于主目录中。随后，新打开一个终端，依次输入以下命令：</p>\n<pre><code>sudo apt-get install libxkbcommon-dev\nsudo apt-get install wayland-protocols\nsudo apt install libglew-dev\ncd Pangolin\nmkdir build\ncd build\ncmake ..\nmake -j\nsudo make install\n</code></pre>\n<p>库安装完成后，测试一下，能不能使用，请新打开一个终端，输入一下命令：</p>\n<pre><code>cd Pangolin\ncd examples/HelloPangolin\nmkdir build &amp;&amp; cd build\ncmake ..\nmake\n./HelloPangolin\n</code></pre>\n<p>若出现一个彩色方块，则安装成功。若出现error，就去微软浏览器搜索错误，或者火狐，这两个比较全！</p>\n<h3>Step3：安装Eigen3</h3>\n<pre><code>sudo apt-get install libeigen3-dev\n</code></pre>\n<h3>Step4：安装opencv3（安装4会冲突！）</h3>\n<p>自己去官网下个opencv3系列，也可以自取如下，===&gt;<a class=\"link-info\" href=\"https://github.com/opencv/opencv/archive/3.4.15.zip\" title=\"oepncv3.4.15\">oepncv3.4.15</a>&lt;===下载完成后，将其提取到主目录。，将该文件夹重命名为opencv3</p>\n<p>打开一个新终端，输入以下命令：</p>\n<pre><code>sudo apt-get install build-essential\nsudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev\nsudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev\ncd opencv3\nmkdir build\ncd build\ncmake ..\nmake -j\nsudo make install\n\n</code></pre>\n<p>安装完成后，打开一个新终端：输入：</p>\n<pre><code>sudo gedit /etc/ld.so.conf.d/opencv.conf</code></pre>\n<p>这时会出现一个文档，在文档最后一行添加：</p>\n<pre><code>/usr/local/lib</code></pre>\n<p>保存好后，退出，打开一个新终端，输入：</p>\n<pre><code>sudo ldconfig\n</code></pre>\n<p>再打开一个新终端，输入：</p>\n<pre><code>sudo gedit /etc/bash.bashrc\n</code></pre>\n<p>这时会出现一个文档，在文档最后一行添加如下代码：</p>\n<pre><code>PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/lib/pkgconfig\nexport PKG_CONFIG_PATH\n</code></pre>\n<p>添加完成后，保存并退出，并打开一个新终端，输入：</p>\n<pre><code>source /etc/bash.bashrc\nsudo updatedb\n</code></pre>\n<p><strong>测试opencv：输入如下代码：</strong></p>\n<pre><code>cd opencv3/samples/cpp/example_cmake\ncmake .\nmake\n./opencv_example\n</code></pre>\n<h1>3、安装运行ORB_SLAM2，</h1>\n<p>这里巨坑！，里面要修改很多错误，直接建议大家使用我修改好的，想自己修改的，可以慢慢去百度，解决error。链接：===&gt;<a class=\"link-info\" href=\"https://pan.baidu.com/s/1b_IhjiMS4kA7cua9opxVew%C2%A0\" title=\"ORB_SLAM2\">ORB_SLAM2</a>&lt;===提取码：9527，下载后，提取到主目录,，将文件夹名改为ORB_SLAM2，打开一个新终端，输入以下代码：</p>\n<pre><code>cd ORB_SLAM2\nchmod +x build.sh\n./build.sh</code></pre>\n<p>如果出错，也可以通过微软或者火狐，搜索错误解决！</p>\n<p><strong>测试！</strong></p>\n<p><strong>1、下载数据集，</strong><a href=\"https://vision.in.tum.de/data/datasets/rgbd-dataset/download\" title=\"Computer Vision Group - Dataset Download (tum.de)\">Computer Vision Group - Dataset Download (tum.de)</a></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"..\\..\\static\\image\\e2d7da7cdabd43ad97c2be6732681006.png\"/></p>\n<p>因需要挂梯子，否则下载很慢，也可以在我这里自取===&gt;<a class=\"link-info\" href=\"https://pan.baidu.com/s/1u7o0bu9y2oxCjGSXO4Q8RQ?pwd=9527\" title=\"数据集(已更新)\">数据集(已更新)</a>&lt;===提取码：9527</p>\n<p>下载好后，进入ORB_SLAM2文件夹创建一个文件夹：data，将下载好的数据集压缩包提取到data下面，然后打开一个新终端输入以下命令：</p>\n<pre><code>cd ORB_SLAM2\n./Examples/Monocular/mono_tum Vocabulary/ORBvoc.txt Examples/Monocular/TUM1.yaml data/rgbd_dataset_freiburg1_xyz\n\n</code></pre>\n<p><span style=\"color:#fe2c24;\"><strong> 仔细看此代码，都能在相应的文件夹里找到各个文件！</strong></span></p>\n<p style=\"text-align:center;\"><span style=\"color:#fe2c24;\"><strong><img alt=\"\" src=\"..\\..\\static\\image\\ee698f2f33994e7f8400a69d61256b53.png\"/></strong></span></p>\n<h1> 4、制作自己的数据集（单目）</h1>\n<p><strong>1、下载我给的这两个文档===&gt;<a class=\"link-info\" href=\"https://pan.baidu.com/s/1A8ZpJ1mSoKJC8j8c5oKXcQ%C2%A0\" title=\"文档\">文档</a>&lt;===，一个CPP，一个yaml文件，将其复制到ORB_SLAM2下面，再用自己的手机拍一个视频，1、手机横向，2、开始拍摄时，首先手机左右缓慢水平移动，像螃蟹一样横着左右运动！，然后大概5s后，再慢慢往前走，不要走的太快，转弯时不要太快，以防跟踪丢失！，我录制了2分钟，</strong></p>\n<p><strong>2、录制完成后，将其复制到ORB_SLAM2文件下，重命名为test.mp4，用微信传到电脑时，最好选择原图传送！，</strong></p>\n<p><strong>3、以上步骤完成后，ORB_SLAM2里面应该多了三个文件：test.cpp,test.yaml,test.mp4.检查一下啊</strong></p>\n<p><strong>4、修改ORB_SLAM2里面的CMakeLists.txt,添加如下代码：保存</strong></p>\n<pre><code>set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR})\nadd_executable(test test.cpp)\ntarget_link_libraries(test ${PROJECT_NAME})\n</code></pre>\n<p><strong>5、编译运行</strong></p>\n<p><strong>打开一个新终端，输入如下：</strong></p>\n<pre><code>cd ORB_SLAM2\nmkdir build\ncd build\ncmake ..\nmake -j\ncd ..\n./test\n</code></pre>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-07-14 17:22:53", "summary": "、引言首先欢迎大家来到我的博客，因为自己在这个的环境配置上走了太多的坑，为了让研友不再入坑，决定来个保姆级教程，哈哈哈。、库安装大家如果之前安装过库，且编译失败了的，请将库残留卸载干净！没安装过的除外"}