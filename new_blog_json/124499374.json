{"blogid": "124499374", "writerAge": "码龄5年", "writerBlogNum": "4", "writerCollect": "9", "writerComment": "0", "writerFan": "0", "writerGrade": "1级", "writerIntegral": "42", "writerName": "考拉的动态输入法", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124499374.jpg", "writerRankTotal": "164472", "writerRankWeekly": "1141473", "writerThumb": "1", "writerVisitNum": "3536", "blog_read_count": "2267", "blog_time": "已于 2022-06-04 01:06:12 修改", "blog_title": "C# winform 控件随窗体放大缩小", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p><strong>前言：</strong></p>\n<p>当winform的窗体放大缩小时，希望窗体内的控件可以随着窗体的放大缩小，等比例的也随之改变，一般的想法是根据窗体的改变比例，将控件也等比例放大缩小，这个方法理论上应该可行，但是按比例计算会有精度损失差值，这个随着放大缩小的次数，控件也会发生偏移性改变。我个人认为比较可行的是按整型计算的方式，这样便不会有精度损失差值的问题。</p>\n<p><strong>思路：</strong></p>\n<p>窗体放大或缩小时，<span style=\"color:#fe2c24;\">首先需要合计清楚窗体有多少控件需要随着改变</span></p>\n<p><span style=\"color:#0d0016;\">当窗体改变后，此时窗体的长高和原来的长高有一个差值（X，Y）</span></p>\n<p><img alt=\"\" height=\"258\" src=\"..\\..\\static\\image\\2a64462b48cf4726ae4c6fd3359d2743.png\" width=\"450\"/></p>\n<p></p>\n<p>用X/Y和需要调整的<strong>控件数</strong>（按长或高数）进行<strong>模运算</strong>，之后X/Y减去得到的余数值，再除以控件数，求得窗体放大或缩小的调整值N，控件需要调整大小或位置只需要加上<strong>N*控件位置值（上至下1~n 或 左至右 1~n，如下图1，2，3）</strong>就可以了（放大N为正整数，缩小N为负整数）</p>\n<p><img alt=\"\" height=\"291\" src=\"..\\..\\static\\image\\93446799fffe4969a1f42f5f7f584a84.png\" width=\"524\"/></p>\n<p></p>\n<p><span style=\"color:#4da8ee;\"><strong>原理是窗体一个来回的放大缩小，模运算的余数的绝对值是相等的</strong></span></p>\n<p></p>\n<p></p>\n<p><strong>案例截图：</strong></p>\n<p><strong>放大前：</strong>     <img alt=\"\" height=\"660\" src=\"..\\..\\static\\image\\69094bbeb12145348c16394dbe6d5f52.png\" width=\"962\"/></p>\n<p><strong>放大后：</strong></p>\n<p><img alt=\"\" height=\"983\" src=\"..\\..\\static\\image\\234adcf1f2bf4d45ab37a558f12b8ceb.png\" width=\"1200\"/></p>\n<p><strong>多次来回放大缩小后：</strong></p>\n<p>自己尝试......</p>\n<p></p>\n<p><strong>案例此功能的代码：</strong></p>\n<p> <strong>private void Form1_Resize(object sender, EventArgs e)<br/>         {<!-- --><br/>             int newX = this.Width - X;     //X是窗体初始的大小<br/>             int newY = this.Height - Y;    //Y是窗体初始的大小<br/>             //int newX2 = newX % 3;    //3是需要放大缩小的控件数，此项目只放大缩小3个chart，其它的则只需要改变位置；<br/>             int newY2 = newY % 3;<br/>             //int newX3 = newX - newX2;<br/>             int newY3 = newY - newY2;<br/>             //int newX4 = newX3 / 3;<br/>             int newY4 = newY3 / 3;</strong></p>\n<p><strong>            chartNiu.Width = XNiu + newX;<br/>             chartNiu.Height = YNiu + newY4;<br/>             label6.Top = label6t + newY4;<br/>             //label6.Left = label6l + newY;<br/>             textBoxZhuan.Top = textboxZhuant + newY4;<br/>             //textboxZhuanl = textBoxZhuan.Left;<br/>             label5.Top = label5t + newY4;<br/>             //label5l = label5.Left;<br/>             chartZhuan.Width = XZhuan + newX;<br/>             chartZhuan.Height = YZhuan + newY4;<br/>             chartZhuan.Top = TZhuan + newY4;<br/>             label8.Top = label8t + 2*newY4;<br/>             //label8l = label8.Left;<br/>             textBoxGong.Top = textboxGongt + 2*newY4;<br/>             //textboxGongl = textBoxGong.Left;<br/>             label7.Top = label7t + 2*newY4;<br/>             //label7l = label7.Left;<br/>             chartGong.Width = XGong + newX;<br/>             chartGong.Height = YGong + newY4;<br/>             chartGong.Top = TGong + 2*newY4;<br/>             listBoxMessage.Height = Ylist + 3*newY4;<br/>         }</strong></p>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "C#", "cpp": 0, "csharp": 1, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-06-04 01:06:12", "summary": "前言：当的窗体放大缩小时，希望窗体内的控件可以随着窗体的放大缩小，等比例的也随之改变，一般的想法是根据窗体的改变比例，将控件也等比例放大缩小，这个方法理论上应该可行，但是按比例计算会有精度损失差值，这"}