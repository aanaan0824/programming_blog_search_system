{"blogid": "125023932", "writerAge": "码龄4年", "writerBlogNum": "178", "writerCollect": "1355", "writerComment": "162", "writerFan": "19519", "writerGrade": "5级", "writerIntegral": "4279", "writerName": "瑶山", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125023932.jpg", "writerRankTotal": "3799", "writerRankWeekly": "1533", "writerThumb": "365", "writerVisitNum": "429820", "blog_read_count": "1234", "blog_time": "于 2022-05-30 22:41:33 发布", "blog_title": "VSCode配置PHP开发环境和插件PHP server，PHP Debug调试的配置使用，全", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"PHP-toc\" style=\"margin-left:0px;\"><a href=\"#PHP\">PHP</a></p>\n<p id=\"%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85php-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85php\">下载安装php</a></p>\n<p id=\"%E4%BF%AE%E6%94%B9php.ini%E6%89%A9%E5%B1%95%E6%96%87%E4%BB%B6-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%BF%AE%E6%94%B9php.ini%E6%89%A9%E5%B1%95%E6%96%87%E4%BB%B6\">修改php.ini扩展文件</a></p>\n<p id=\"php.ini%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E7%9A%84%E6%97%B6%E5%8C%BA%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#php.ini%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E7%9A%84%E6%97%B6%E5%8C%BA%EF%BC%9A\">php.ini设置默认的时区：</a></p>\n<p id=\"%E8%AE%BE%E7%BD%AE%20ssl%20%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E8%AE%BE%E7%BD%AE%20ssl%20%EF%BC%9A\">设置 ssl ：</a></p>\n<p id=\"php%E8%B7%AF%E5%BE%84%E5%92%8Cext%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-toc\" style=\"margin-left:80px;\"><a href=\"#php%E8%B7%AF%E5%BE%84%E5%92%8Cext%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\">php路径和ext添加到环境变量</a></p>\n<p id=\"VSCode-toc\" style=\"margin-left:0px;\"><a href=\"#VSCode\">VSCode</a></p>\n<p id=\"%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85VSCode-toc\" style=\"margin-left:80px;\"><a href=\"#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85VSCode\">下载安装VSCode</a></p>\n<p id=\"%E6%8F%92%E4%BB%B6PHP%20Debug-toc\" style=\"margin-left:80px;\"><a href=\"#%E6%8F%92%E4%BB%B6PHP%20Debug\">插件PHP Debug</a></p>\n<p id=\"%E6%8F%92%E4%BB%B6PHP%20Intelephense%EF%BC%8C%C2%A0php%E4%BB%A3%E7%A0%81%E6%8F%90%E7%A4%BA%E5%99%A8-toc\" style=\"margin-left:80px;\"><a href=\"#%E6%8F%92%E4%BB%B6PHP%20Intelephense%EF%BC%8C%C2%A0php%E4%BB%A3%E7%A0%81%E6%8F%90%E7%A4%BA%E5%99%A8\">插件PHP Intelephense， php代码提示器</a></p>\n<p id=\"%E6%8F%92%E4%BB%B6PHP%20server-toc\" style=\"margin-left:80px;\"><a href=\"#%E6%8F%92%E4%BB%B6PHP%20server\">插件PHP server</a></p>\n<p id=\"%E8%BF%90%E8%A1%8C%E8%B0%83%E8%AF%95-toc\" style=\"margin-left:0px;\"><a href=\"#%E8%BF%90%E8%A1%8C%E8%B0%83%E8%AF%95\">运行调试</a></p>\n<p id=\"%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE-toc\" style=\"margin-left:40px;\"><a href=\"#%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE\">运行项目</a></p>\n<p id=\"debug%E8%B0%83%E8%AF%95-toc\" style=\"margin-left:40px;\"><a href=\"#debug%E8%B0%83%E8%AF%95\">debug调试</a></p>\n<p id=\"php_xdebug%E6%8F%92%E4%BB%B6%E4%B8%8B%E8%BD%BD-toc\" style=\"margin-left:80px;\"><a href=\"#php_xdebug%E6%8F%92%E4%BB%B6%E4%B8%8B%E8%BD%BD\">php_xdebug插件下载</a></p>\n<p id=\"PHP%E5%85%B3%E4%BA%8EVC11%2CVC9%2CVC6%2CTS%C2%A0NTS%E7%9A%84%E5%90%AB%E4%B9%89-toc\" style=\"margin-left:80px;\"><a href=\"#PHP%E5%85%B3%E4%BA%8EVC11%2CVC9%2CVC6%2CTS%C2%A0NTS%E7%9A%84%E5%90%AB%E4%B9%89\">PHP关于VC11,VC9,VC6,TS NTS的含义</a></p>\n<p id=\"debug-toc\" style=\"margin-left:80px;\"><a href=\"#debug\">debug</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<h1 id=\"PHP\">PHP</h1>\n<p id=\"所需文件\">本文涉及文件/环境</p>\n<ul><li>vscode（编辑器）</li><li>php5.5.9（sdk）</li><li>vscode插件PHP Debug（Debug调试）</li><li>vscode插件PHP server（服务器支持）</li><li>vscode插件PHP Intelephense（语言提示）</li><li>php-debug 插件</li></ul>\n<p>为什么用PHP server，<strong>方便！</strong>感觉apache有点麻烦，本来准备idea+nginx试试， 后来发现vscode更好用，轻量！方便！</p>\n<h3 id=\"%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85php\">下载安装php</h3>\n<p><a href=\"https://www.php.net/\" title=\"php官网地址\">php官网地址</a><br/> windows 下载直接解压即可</p>\n<p>把php文件夹中的php.ini-development复制一份，并修改为：php.ini。</p>\n<p><img alt=\"\" height=\"231\" src=\"..\\..\\static\\image\\20210809143647242.png\" width=\"339\"/></p>\n<p><strong>修改php.ini：;extension_dir = “ext” 修改为 extension_dir = “H:\\php\\ext” （ext的绝对路径）</strong></p>\n<h3 id=\"%E4%BF%AE%E6%94%B9php.ini%E6%89%A9%E5%B1%95%E6%96%87%E4%BB%B6\">修改php.ini扩展文件</h3>\n<p>修改需要加载的扩展文件，下面代码是取消部分扩展程序的注释之后的代码：</p>\n<pre><code>extension=php_bz2.dll\nextension=php_curl.dll\nextension=php_fileinfo.dll\nextension=php_gd2.dll\nextension=php_gettext.dll\n;extension=php_gmp.dll\n;extension=php_intl.dll\n;extension=php_imap.dll\n;extension=php_interbase.dll\n;extension=php_ldap.dll\nextension=php_mbstring.dll\nextension=php_exif.dll      ; Must be after mbstring as it depends on it\nextension=php_mysql.dll\nextension=php_mysqli.dll\n;extension=php_oci8_12c.dll  ; Use with Oracle Database 12c Instant Client\nextension=php_openssl.dll\n;extension=php_pdo_firebird.dll\nextension=php_pdo_mysql.dll\n;extension=php_pdo_oci.dll\nextension=php_pdo_odbc.dll\nextension=php_pdo_pgsql.dll\nextension=php_pdo_sqlite.dll\nextension=php_pgsql.dll\n;extension=php_shmop.dll\n \n; The MIBS data available in the PHP distribution must be installed. \n; See http://www.php.net/manual/en/snmp.installation.php \n;extension=php_snmp.dll\n \nextension=php_soap.dll\nextension=php_sockets.dll\nextension=php_sqlite3.dll\n;extension=php_sybase_ct.dll\nextension=php_tidy.dll\nextension=php_xmlrpc.dll\nextension=php_xsl.dll</code></pre>\n<h3 id=\"php.ini%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E7%9A%84%E6%97%B6%E5%8C%BA%EF%BC%9A\">php.ini设置默认的时区：</h3>\n<pre><code>[Date]\n; Defines the default timezone used by the date functions\n; http://php.net/date.timezone 选择时区列表网址\ndate.timezone = Asia/Shanghai</code></pre>\n<h3 id=\"%E8%AE%BE%E7%BD%AE%20ssl%20%EF%BC%9A\">设置 ssl ：</h3>\n<pre><code>[openssl]\n; The location of a Certificate Authority (CA) file on the local filesystem\n; to use when verifying the identity of SSL/TLS peers. Most users should\n; not specify a value for this directive as PHP will attempt to use the\n; OS-managed cert stores in its absence. If specified, this value may still\n; be overridden on a per-stream basis via the \"cafile\" SSL stream context\n; option.\nopenssl.cafile= cacert.pem</code></pre>\n<h3 id=\"php%E8%B7%AF%E5%BE%84%E5%92%8Cext%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><strong>php路径和ext添加到环境变量</strong></h3>\n<p> <img alt=\"\" height=\"109\" src=\"..\\..\\static\\image\\20210809145145316.png\" width=\"509\"/></p>\n<h1 id=\"VSCode\">VSCode</h1>\n<h3 id=\"%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85VSCode\">下载安装VSCode</h3>\n<p>下载地址：<a href=\"https://code.visualstudio.com/\" title=\"Visual Studio Code - Code Editing. Redefined\">Visual Studio Code - Code Editing. Redefined</a></p>\n<p>我是之前安装好的, 这次也顺便更新下最新版本 &gt;&gt;</p>\n<p><img alt=\"\" height=\"352\" src=\"..\\..\\static\\image\\f9608b5199ef45ee94020e21503efacb.png\" width=\"469\"/></p>\n<p><img alt=\"\" height=\"352\" src=\"..\\..\\static\\image\\3cfbc7a0b8b344e78f571da3f5e6986b.png\" width=\"470\"/></p>\n<h3 id=\"%E6%8F%92%E4%BB%B6PHP%20Debug\">插件PHP Debug</h3>\n<p>点击扩展栏，输入PHP，选择PHP Debug安装。</p>\n<p><img alt=\"\" height=\"353\" src=\"..\\..\\static\\image\\124c4ab3635f4796bc3d25744c7e3472.png\" width=\"470\"/></p>\n<p>点击VSCode的 文件-首选项-设置(ctrl+,) 在设置里面的扩展找到php</p>\n<p><img alt=\"\" height=\"352\" src=\"..\\..\\static\\image\\fc482c2c6cf14a1484eeebbd72cd434d.png\" width=\"470\"/></p>\n<p>点击setting.json找到php.validate.executablePath添加地址: php.exe文件所在的位置</p>\n<p><img alt=\"\" height=\"351\" src=\"..\\..\\static\\image\\c2b20869cea04d62939cbda18c74dd59.png\" width=\"469\"/></p>\n<pre><code>{\n    \"php.validate.executablePath\": \"D:/sdk/php/php/php.exe\",\n    \"php.debug.executablePath\": \"D:/sdk/php/php/php.exe\"\n}</code></pre>\n<h3 id=\"%E6%8F%92%E4%BB%B6PHP%20Intelephense%EF%BC%8C%C2%A0php%E4%BB%A3%E7%A0%81%E6%8F%90%E7%A4%BA%E5%99%A8\">插件PHP Intelephense， php代码提示器</h3>\n<p>插件方便跟进函数，但是插件要求 php 版本大于 7，且设置环境变量，安装完毕后 setting.json 设置如下</p>\n<h3 id=\"%E6%8F%92%E4%BB%B6PHP%20server\">插件PHP server</h3>\n<p><img alt=\"\" height=\"351\" src=\"..\\..\\static\\image\\54345901a5ce4998b46e89e75f861105.png\" width=\"468\"/></p>\n<p>Browser填写浏览器路径：D:/Google/Chrome/chrome.exe</p>\n<p>PHP Path:   D:/sdk/php/php/php.exe // PHP运行文件</p>\n<p>phpConfigPath: php.ini //配置文件, 不填使用默认的（我没填）</p>\n<h1 id=\"%E8%BF%90%E8%A1%8C%E8%B0%83%E8%AF%95\">运行调试</h1>\n<p>新建项目，新建index.php文件</p>\n<p><img alt=\"\" height=\"263\" src=\"..\\..\\static\\image\\e1e5637ace4e4480bd82e1f9960ab667.png\" width=\"251\"/></p>\n<pre><code>&lt;?php\nphpinfo();</code></pre>\n<h2 id=\"%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE\">运行项目</h2>\n<p><img alt=\"\" height=\"253\" src=\"..\\..\\static\\image\\fa7023e84ab94ad898e2227c035607b3.png\" width=\"469\"/></p>\n<p><img alt=\"\" height=\"124\" src=\"..\\..\\static\\image\\a528a9073071489aaf8c1f81c650ff7a.png\" width=\"467\"/></p>\n<p>端口前面安装PHP server有配置项，默认3000</p>\n<p><img alt=\"\" height=\"257\" src=\"..\\..\\static\\image\\91fef4e4272e42299003b67c4e7bd8b0.png\" width=\"467\"/></p>\n<h2 id=\"debug%E8%B0%83%E8%AF%95\">debug调试</h2>\n<h3 id=\"php_xdebug%E6%8F%92%E4%BB%B6%E4%B8%8B%E8%BD%BD\">php_xdebug插件下载</h3>\n<p>查看安装目录下的ext文件夹，php\\ext， 有没有php_xdebug插件，没有去<a class=\"link-info\" href=\"https://xdebug.org/download\" title=\"下载\">下载</a></p>\n<p>注意：插件下载与php版本对应的</p>\n<p>查看php版本， win+r打开cmd，输入php -v</p>\n<p><img alt=\"\" height=\"126\" src=\"..\\..\\static\\image\\8a83227216604e1a842602fe29baab28.png\" width=\"921\"/></p>\n<p>新版本</p>\n<p><img alt=\"\" height=\"202\" src=\"..\\..\\static\\image\\cf464caa6e8a4d8da3313c0ecef8f886.png\" width=\"465\"/></p>\n<p>历史版本</p>\n<p><img alt=\"\" height=\"204\" src=\"..\\..\\static\\image\\1b9df0ef5ed2426ab806873ffd8b701c.png\" width=\"470\"/></p>\n<p><img alt=\"\" height=\"208\" src=\"..\\..\\static\\image\\ecd39682220f46ce9b6e2f4d69e75eb5.png\" width=\"466\"/></p>\n<p>VC11正常下载VC11,若后期发现不对则再尝试VC11-TS;（<strong>这里就是后期不对，最后用了TS）</strong></p>\n<p><span style=\"color:#000000;\"><strong>安装向导</strong>： </span><a href=\"https://xdebug.org/wizard\" title=\"Xdebug: Support — Tailored Installation Instructions\"></a></p>\n<p>粘贴 phpinfo() 的<strong>完整</strong>输出（HTML 版本、HTML 源或<code>php -i</code>输出的复制粘贴）粘贴到那个文本框中，然后点击下面的 “Analyse my phpinfo() output” 这个按钮，然后它就会根据你的开发环境信息建议你安装什么版本了。</p>\n<p>下载完成放到ext文件夹下， 编辑php.int, 添加：（换了插件TS版本）</p>\n<p><strong>Xdebug v3.x.x需要在php.ini中加如下配置：</strong></p>\n<pre><code>xdebug.mode = debug\nxdebug.start_with_request = yes</code></pre>\n<p><strong>Xdebug v2.x.x使用如下配置：</strong></p>\n<pre><code>xdebug.remote_enable = 1\nxdebug.remote_autostart = 1\nxdebug.remote_port = 9003</code></pre>\n<p><strong>验证：</strong></p>\n<p>php -m</p>\n<p><img alt=\"\" height=\"140\" src=\"..\\..\\static\\image\\652a17614cc24e8587e340dc400c022c.png\" width=\"246\"/></p>\n<p><img alt=\"\" height=\"176\" src=\"..\\..\\static\\image\\806a99512b20432a8f4d6c442b157532.png\" width=\"323\"/></p>\n<h3 id=\"PHP%E5%85%B3%E4%BA%8EVC11%2CVC9%2CVC6%2CTS%C2%A0NTS%E7%9A%84%E5%90%AB%E4%B9%89\"><strong>PHP关于VC11,VC9,VC6,TS NTS的含义</strong></h3>\n<ul><li>VC6版本是使用Visual Studio 6编译器编译的，如果你的PHP是用Apache来架设的，那你就选择VC6版本。（现在PHP已经没有VC6了）</li><li> <p>VC9意思就是该版本PHP是用VisualStudio2008编译的，而VC11则是用VisualStudio2012编译的。这意味着</p>\n<ul><li> <p>如果你下载的是VC9版本的，就需要先安VisualC++RedistributableforVisualStudio2008SP1，</p> </li><li> <p>如果你下载的是VC11版本的，就需要先安VisualC++RedistributableforVisualStudio2012.</p> </li></ul></li><li> <p>如果是IIS系列，就选择带“Non Thread Safe”的版本<br/> 如果是Apache httpd系列，就选择带“Thread Safe”的版本，线程安全（TS）</p>\n<ul><li> <p>Windows版的PHP从版本5.2.1开始有ThreadSafe(线程安全)和None Thread Safe(NTS，非线程安全)之分</p> </li></ul></li></ul>\n<h3 id=\"debug\">debug</h3>\n<p>修改index.php</p>\n<pre><code>&lt;?php\n// phpinfo();\n\n$x = 5;\n$y = 6;\n$z = $x + $y;\necho $z;\n    \n</code></pre>\n<p>打上断点index.php， 点Listen for XDebug 项目的运行，切换到“运行和调试”页面，执行“创建launch.json\", 配置不用更改，默认就可以</p>\n<p><img alt=\"\" height=\"258\" src=\"..\\..\\static\\image\\1825529d31c34981a2d02126f3f76807.png\" width=\"469\"/></p>\n<p>右上角也有按钮debug调试，重新运行项目，断点停下来了</p>\n<p><img alt=\"\" height=\"251\" src=\"..\\..\\static\\image\\74629982185f48118719906093ab7ba3.png\" width=\"468\"/></p>\n<p><img alt=\"\" height=\"251\" src=\"..\\..\\static\\image\\3cf9e5178f0e470eaa411f8df2197fb5.png\" width=\"468\"/></p>\n<p>到此，debug调试配置成功！</p>\n<p>php最大执行时间好像是30秒，超过30秒会自动终止，因此调试的时候要修改一下时间，在php.ini 文件中修改最大运行时间为5分钟</p>\n<pre><code>max_execution_time=3000</code></pre>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 1, "time": "2022-05-30 22:41:33", "summary": "目录下载安装修改扩展文件设置默认的时区：设置：路径和添加到环境变量下载安装插件插件，代码提示器插件运行调试运行项目调试插件下载关于的含义所需文件本文涉及文件环境编辑器插件调试插件服务器支持插件语言提示"}