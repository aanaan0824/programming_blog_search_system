{"blogid": "122404005", "writerAge": "码龄1年", "writerBlogNum": "13", "writerCollect": "151", "writerComment": "7", "writerFan": "44", "writerGrade": "2级", "writerIntegral": "160", "writerName": "好想与不像", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_122404005.jpg", "writerRankTotal": "90100", "writerRankWeekly": "116090", "writerThumb": "22", "writerVisitNum": "44383", "blog_read_count": "5325", "blog_time": "于 2022-01-10 20:39:50 发布", "blog_title": "用简单，易懂的方法将数据库和网页连接起来（例：登陆注册页面）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p></p>\n<p></p>\n<p></p>\n<p>PHP技术，远比用java写代码连接数据库简单得多，下面看我的详细介绍：</p>\n<p><img alt=\"\" height=\"894\" src=\"..\\..\\static\\image\\6c80bee7bcdc4fb28e0d1ff5a652b8a8.png\" width=\"1200\"/></p>\n<p>1.首先要下载：phpstudy_pro（关注我可以免费下载哦！）</p>\n<p>2.然后打开phpstudy_pro，启动Apache服务器（每次想要链接数据库都要先做这个操作）</p>\n<p>（想要详细了解PHP服务器可以点击----&gt;<a href=\"https://blog.csdn.net/qq_780662763/article/details/108346226\" title=\"可以点击----&gt; https://blog.csdn.net/qq_780662763/article/details/108346226\">可以点击----&gt; https://blog.csdn.net/qq_780662763/article/details/108346226</a>）</p>\n<p>3.创建你的数据库</p>\n<table border=\"1\" cellpadding=\"1\" cellspacing=\"1\" style=\"width:500px;\"><tbody><tr><td>localhost用户下：</td><td></td></tr><tr><td>创建数据库名：</td><td>root</td></tr><tr><td>数据库密码</td><td>12345</td></tr><tr><td>创建表格</td><td>travel</td></tr><tr><td>在表格中：创建两个属性</td><td>user，password</td></tr></tbody></table>\n<p></p>\n<p>4.然后再自己网页编辑软件上（本人的是VScode）</p>\n<p><span style=\"color:#fe2c24;\">先创建个后缀名为“.htaccess”的文件，在里面填上如下代码：</span></p>\n<p>（</p>\n<p>作用：简化网页后缀名<br/> 例如：原来为-“register3.html/register3.php”的文件</p>\n<p>写上这个代码后：可以用register3直接代替</p>\n<p>）</p>\n<blockquote>\n<p>RewriteEngine On<br/> RewriteBase /<br/> RewriteCond %{REQUEST_FILENAME} !-f<br/> RewriteCond %{REQUEST_FILENAME}.php -f <br/> RewriteRule ^([^\\.]+)$ $1.php [NC]<br/> RewriteCond %{REQUEST_FILENAME} !-f<br/> RewriteCond %{REQUEST_FILENAME}.html -f <br/> RewriteRule ^([^\\.]+)$ $1.html [NC,L]</p>\n</blockquote>\n<p><img alt=\"\" height=\"367\" src=\"..\\..\\static\\image\\c8c8f358609f476aac4865fe8bf5b23e.png\" width=\"694\"/>​​​​​​​</p>\n<p><span style=\"color:#fe2c24;\">后创建，三个后缀名为\".php\"的文件，在里面填上如下代码：</span></p>\n<p>A.第一个文件，写登陆页面：<br/>  </p>\n<blockquote>\n<p>&lt;!--登陆页面--&gt;</p>\n<p>&lt;?php</p>\n<p>session_start();</p>\n<p>if($_POST['user']&amp;&amp;$_POST['password'])//<span style=\"background-color:#ffd900;\">判断有无数据传入（账号，密码）</span></p>\n<p>{<!-- --></p>\n<p>    if($_SESSION['logged']) die(\"not exited\");//<span style=\"background-color:#ffd900;\">重复登陆的处理</span></p>\n<p>    $conn=mysqli_connect(\"localhost\",\"root\",\"12345\",\"travel\");//存放数据库的链接（后面括号里分别你要连接数据库的<span style=\"background-color:#ffd900;\">-用户名-数据库名-数据库密码-表名</span>）</p>\n<p>    $result=$conn-&gt;query(\"SELECT COUNT(user) FROM logon WHERE `user`=\\\"{$_POST['user']}\\\" AND `password`=\\\"{$_POST['password']}\\\";\");//<span style=\"background-color:#ffd900;\">查询语句，将从数据库查询到的记录，赋值给result</span></p>\n<p>    if($result-&gt;fetch_array()[0]) $_SESSION['logged']=true;//<span style=\"background-color:#ffd900;\">比较，如果result里不为空，真名有查询到数据，就说明该用户存在。</span></p>\n<p>    else die('fail');</p>\n<p>    die('success');</p>\n<p>}else include(\"login3.html\");//如果为无数据传入，则再次返回该（login3.html）页面</p>\n<p>?&gt;</p>\n</blockquote>\n<p><img alt=\"\" height=\"523\" src=\"..\\..\\static\\image\\0524c4953d7c4d1e963b11815c9deb60.png\" width=\"1200\"/></p>\n<p><span style=\"background-color:#fe2c24;\">这里的代码需要改的有：</span></p>\n<p><span style=\"background-color:#fe2c24;\">（必须额确保你的html里写的id和这里的匹配）</span></p>\n<p><span style=\"background-color:#fe2c24;\">第六行：改成你的数据库用户名，数据库名。。。。</span></p>\n<p><span style=\"background-color:#fe2c24;\">倒数第二行的：login3.html--改成你的登陆页面名称</span></p>\n<p>B.第二个文件里，写注册页面</p>\n<blockquote>\n<p>&lt;?php</p>\n<p>if($_POST['user']&amp;&amp;$_POST['password'])</p>\n<p>{<!-- --></p>\n<p>    $conn=mysqli_connect(\"localhost\",\"root\",\"12345\",\"travel\");</p>\n<p>    $conn-&gt;query(\"INSERT INTO logon (`user`,`password`) VALUE(\\\"{$_POST['user']}\\\",\\\"{$_POST['password']}\\\");\");//和登陆页面的主要区别:这里换成了数据库中的插入语句</p>\n<p>    if(mysqli_commit($conn)) die('success');//如果执行成功，则返回success；</p>\n<p>    die('fail');</p>\n<p>}else include(\"register3\");</p>\n<p>?&gt;</p>\n<p><span style=\"color:#0d0016;\"> </span></p>\n</blockquote>\n<p></p>\n<p><img alt=\"\" height=\"364\" src=\"..\\..\\static\\image\\4a266acf28dc4ef981d3a8f6f0f1e6be.png\" width=\"1200\"/></p>\n<p><span style=\"color:#0d0016;\"><span style=\"background-color:#fe2c24;\">这里需要改的内容：</span></span></p>\n<p><span style=\"color:#0d0016;\"><span style=\"background-color:#fe2c24;\">第四行数据库的相关内容</span></span></p>\n<p><span style=\"color:#0d0016;\"><span style=\"background-color:#fe2c24;\">倒数第二行把“register3”改成你的页面名</span></span></p>\n<p>C. 第三个文件：就是对用户体验的优化：</p>\n<p>每次点击登陆/注册后，清除输入框内的内容：</p>\n<blockquote>\n<p>&lt;?php</p>\n<p>//清空session数据；每次初始化；</p>\n<p>session_start();</p>\n<p>session_destroy();</p>\n<p>Header(\"Location:connection.html\");</p>\n<p>?&gt;</p>\n</blockquote>\n<p>5.下面写js代码：</p>\n<blockquote></blockquote>\n<p>放在注册页面中（register.html） </p>\n<blockquote>\n<p>(function customsubmit(){<!-- --></p>\n<p>    $(document).ready(function(){//文档加载完成，自动初始化</p>\n<p>        $(\"form\").submit(function(event){//处理表单提交的数据</p>\n<p>        event.preventDefault();//阻止页面跳转</p>\n<p>        let status=validateform();//检查合法性</p>\n<p>        if(!status) return false;</p>\n<p>        let url='register';</p>\n<p>        let user=$('#username').val();</p>\n<p>        let password=$('#password').val();</p>\n<p>        </p>\n<p>        $.post(url,{user,password},function(data){//异步请求接口(post)获取数据；</p>\n<p>            if(data=='success') {<!-- --></p>\n<p>                alert('注册成功'); </p>\n<p>                location.href='login';</p>\n<p>            }</p>\n<p>            else alert('注册失败');</p>\n<p>        })</p>\n<p>        });</p>\n<p>      });</p>\n<p>})()</p>\n</blockquote>\n<p>放在登陆页面（login.html）中</p>\n<blockquote>\n<p>(function customsubmit(){<!-- --></p>\n<p>    $(document).ready(function(){<!-- --></p>\n<p>        $(\"form\").submit(function(event){<!-- --></p>\n<p>        event.preventDefault();</p>\n<p>        let status=validateform();</p>\n<p>        if(!status) return false;</p>\n<p>        let url='login';//API interface</p>\n<p>        let user=$('#username').val();//value 'user'</p>\n<p>        let password=$('#password').val();//value 'user'</p>\n<p>        $.post(url,{user,password},function(data){<!-- --></p>\n<p>            if(data=='success') { </p>\n<p>                alert('登录成功');</p>\n<p>                location.href='index.html';</p>\n<p>            }</p>\n<p>            else if(data=='not exited') alert('您已登录');</p>\n<p>            else alert('密码错误');</p>\n<p>        })</p>\n<p>        });</p>\n<p>      });</p>\n<p>})()</p>\n<p></p>\n</blockquote>\n<p><span style=\"background-color:#fe2c24;\"> 需要改的是：</span></p>\n<p><span style=\"background-color:#fe2c24;\">上面的两个做的操作差不多，可以类似的改一下</span></p>\n<p><span style=\"background-color:#fe2c24;\">下面以第二个代码为标准讲一下：</span></p>\n<p><span style=\"background-color:#fe2c24;\">第五行的函数--“validateform()”---这是我写的检验输入格式的，可以换成你自己的//或者把这行删去</span></p>\n<p><span style=\"background-color:#fe2c24;\">第七行换成你的----后缀名为“.php”的文件，前面的名字（例ABC.html就是换成ABC就可以了）</span></p>\n<p><span style=\"background-color:#fe2c24;\">第十三行的“index.html”----换成你的想要等登陆成功/注册成功后现实的页</span></p>\n<p></p>\n<p>6.将自己制作的网页放入下载的phpstudy_pro文件的名称为www的文件夹下</p>\n<p><img alt=\"\" height=\"570\" src=\"..\\..\\static\\image\\6e0b35d794d84d788c1943fce1738306.png\" width=\"479\"/></p>\n<p> 7.在网页输入localhost/网页名,就可以登录自己的网页，在这里就可以登录/注册</p>\n<p>例：localhost/index.html</p>\n<p>localhost/login.html</p>\n<p><img alt=\"\" height=\"980\" src=\"..\\..\\static\\image\\2d496cdfdbe54ecf9c0ed5fe4165a6c5.png\" width=\"1200\"/></p>\n<p>TOPS：<br/> 在网页中当自己改变网页内容时，最好在网页清空一下缓存如下图打上钩，然后刷新一下</p>\n<p><img alt=\"\" height=\"169\" src=\"..\\..\\static\\image\\1c556ba1c591410787059167b54b81f6.png\" width=\"741\"/></p>\n<p> </p>\n<p> </p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 1, "php": 1, "time": "2022-01-10 20:39:50", "summary": "技术，远比用写代码连接数据库简单得多，下面看我的详细介绍：首先要下载：关注我可以免费下载哦！然后打开，启动服务器每次想要链接数据库都要先做这个操作想要详细了解服务器可以点击可以点击可以点击创建你的数据"}