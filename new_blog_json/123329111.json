{"blogid": "123329111", "writerAge": "码龄1年", "writerBlogNum": "14", "writerCollect": "16", "writerComment": "2", "writerFan": "147", "writerGrade": "2级", "writerIntegral": "158", "writerName": "眼里的星光lzw", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123329111.jpg", "writerRankTotal": "73053", "writerRankWeekly": "282720", "writerThumb": "2", "writerVisitNum": "7406", "blog_read_count": "803", "blog_time": "已于 2022-03-08 16:43:36 修改", "blog_title": "C#---使用VS2019编写WebAPI/发布/WinForm测试_Web测试_PostMan测试", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>一.编写Web API</h1>\n<p>1.创建ASP.NET Web应用程序</p>\n<p><img alt=\"\" height=\"367\" src=\"..\\..\\static\\image\\02b5f5d14f904d818bd2c6cc11fc9a24.png\" width=\"554\"/></p>\n<p>2.添加MVC5控制器和视图(便于测试API接口)</p>\n<p><img alt=\"\" height=\"179\" src=\"..\\..\\static\\image\\aa4f2c014bba4206aea2f263a2af5e68.png\" width=\"554\"/></p>\n<p><img alt=\"\" height=\"238\" src=\"..\\..\\static\\image\\c812da69810a4414beb985c5549a9a00.png\" width=\"554\"/></p>\n<p><img alt=\"\" height=\"328\" src=\"..\\..\\static\\image\\ac63bf39e1074ce28fa25de05d991027.png\" width=\"554\"/></p>\n<p> 3.添加Web API 2控制器</p>\n<p><img alt=\"\" height=\"212\" src=\"..\\..\\static\\image\\daaf4e0eab5246bbbc116d03892eaeda.png\" width=\"554\"/></p>\n<p> 4.在Web API中编写业务调用方法(<span style=\"color:#fe2c24;\">核心内容</span>)</p>\n<p>注:如果是Post请求,直接写参数是无法请求到的,因为get方式可以以明文方式,所以post传参时需要添加FromBody.</p>\n<p><img alt=\"\" height=\"407\" src=\"..\\..\\static\\image\\7d3056144c7c4ca1b3c4705a257177b0.png\" width=\"556\"/></p>\n<p> 5.在视图Index里添加测试按钮</p>\n<p>注:需引入jquery相关文件,没有的话,可建一个MVC项目,在Scrip文件夹中就有,只需要4项</p>\n<p><img alt=\"\" height=\"310\" src=\"..\\..\\static\\image\\3085c2d7f64f41b9800550ec7b71e78b.png\" width=\"273\"/></p>\n<p> <img alt=\"\" height=\"618\" src=\"..\\..\\static\\image\\e36f4c04fe984f6e9c37d8540122bca6.png\" width=\"683\"/></p>\n<p> 6.测试结果</p>\n<p><img alt=\"\" height=\"523\" src=\"..\\..\\static\\image\\cbe95f469e5249a2aabddc5214f003aa.png\" width=\"763\"/></p>\n<p><img alt=\"\" height=\"537\" src=\"..\\..\\static\\image\\7be3565c97074f779ad3af79f44fa478.png\" width=\"756\"/></p>\n<h1> 二.发布Web API</h1>\n<p><img alt=\"\" height=\"554\" src=\"..\\..\\static\\image\\52a85c6535e24f95809c63101733398b.png\" width=\"801\"/></p>\n<p> <img alt=\"\" height=\"560\" src=\"..\\..\\static\\image\\538f0136efb048939a48b912f6019b08.png\" width=\"801\"/></p>\n<p> <img alt=\"\" height=\"366\" src=\"..\\..\\static\\image\\d8298f8d50254e18a5fbed16e1cc4d62.png\" width=\"804\"/></p>\n<p> 控制面板---管理工具---IIS管理器</p>\n<p> <img alt=\"\" height=\"434\" src=\"..\\..\\static\\image\\7a350e27f6354de2aafbfc4c17e70040.png\" width=\"569\"/></p>\n<p>发布完成</p>\n<h1> 三.WinForm调用测试</h1>\n<p><img alt=\"\" height=\"731\" src=\"..\\..\\static\\image\\7293a4842226468d936837b597ee697b.png\" width=\"746\"/></p>\n<p></p>\n<p><img alt=\"\" height=\"418\" src=\"..\\..\\static\\image\\b450daa848c04b3c8316d6c9c92325a4.png\" width=\"817\"/></p>\n<h1> 四.Web调用</h1>\n<p>4.1此时涉及到跨域(就是不同项目访问API的问题)调用的问题,需要添加cors的NuGet包</p>\n<p><img alt=\"\" height=\"474\" src=\"..\\..\\static\\image\\f62499ee27c64747b5a08d718b47d137.png\" width=\"921\"/></p>\n<p> <img alt=\"\" height=\"443\" src=\"..\\..\\static\\image\\56e729e97f1f4f6aa104ef5df88935ca.png\" width=\"1133\"/></p>\n<p>方式二可对指定访问地址设置访问权限</p>\n<p><img alt=\"\" height=\"525\" src=\"..\\..\\static\\image\\8d9671ff327447598168be50c429950c.png\" width=\"1007\"/></p>\n<p> 4.2编写web测试程序</p>\n<p>创建步骤可参考第一节</p>\n<p>在视图中添加如下测试代码</p>\n<p><img alt=\"\" height=\"456\" src=\"..\\..\\static\\image\\ea2e75216f144602887f8b7d0d4c2756.png\" width=\"688\"/></p>\n<p><span style=\"color:#fe2c24;\">注:发布后需在url加api,本地调试可省略</span></p>\n<p>运行结果如下</p>\n<p> <img alt=\"\" height=\"526\" src=\"..\\..\\static\\image\\dafedcbee6124d23a8456ebd1dab309f.png\" width=\"768\"/></p>\n<p>使用PostMan测试API接口</p>\n<p></p>\n<p><img alt=\"\" height=\"781\" src=\"..\\..\\static\\image\\ef162885d6b9468b9c544d6081e104b9.png\" width=\"1200\"/></p>\n<p><img alt=\"\" height=\"805\" src=\"..\\..\\static\\image\\047c1e1c86d946aabbbd6b3d84a384ba.png\" width=\"1200\"/></p>\n<p> </p>\n<p>至此结束!</p>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "C#", "cpp": 0, "csharp": 1, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-03-08 16:43:36", "summary": "一编写创建应用程序添加控制器和视图便于测试接口添加控制器在中编写业务调用方法核心内容注如果是请求直接写参数是无法请求到的因为方式可以以明文方式所以传参时需要添加在视图里添加测试按钮注需引入相关文件没有"}