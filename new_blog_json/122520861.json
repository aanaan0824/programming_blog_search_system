{"blogid": "122520861", "writerAge": "ç é¾„3å¹´", "writerBlogNum": "116", "writerCollect": "1286", "writerComment": "1926", "writerFan": "8006", "writerGrade": "6çº§", "writerIntegral": "7562", "writerName": "_Endä¸¶æ–­å¼¦", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_122520861.jpg", "writerRankTotal": "1860", "writerRankWeekly": "3269", "writerThumb": "2065", "writerVisitNum": "83514", "blog_read_count": "4326", "blog_time": "äºÂ 2022-01-16 21:58:41Â å‘å¸ƒ", "blog_title": "çº¢é»‘æ ‘(C++å®ç°)", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>çº¢é»‘æ ‘</h3>\n<ul><li><a href=\"#_1\">çº¢é»‘æ ‘çš„æ¦‚å¿µ</a></li><li><ul><li><a href=\"#_6\">çº¢é»‘æ ‘çš„æ€§è´¨</a></li></ul>\n</li><li><a href=\"#_38\">çº¢é»‘æ ‘çš„ç»“ç‚¹å®šä¹‰</a></li><li><a href=\"#_64\">çº¢é»‘æ ‘çš„æ’å…¥</a></li><li><ul><li><a href=\"#_89\">æƒ…å†µä¸€</a></li><li><a href=\"#_101\">æƒ…å†µäºŒ</a></li><li><a href=\"#_115\">æƒ…å†µä¸‰</a></li></ul>\n</li><li><a href=\"#_338\">çº¢é»‘æ ‘çš„æŸ¥æ‰¾</a></li><li><a href=\"#_365\">çº¢é»‘æ ‘çš„éªŒè¯</a></li><li><a href=\"#AVL_431\">çº¢é»‘æ ‘çš„å’ŒAVLæ ‘çš„æ¯”è¾ƒ</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"_1\"></a>çº¢é»‘æ ‘çš„æ¦‚å¿µ</h1>\n<p>çº¢é»‘æ ‘ï¼Œæ˜¯ä¸€ç§äºŒå‰æœç´¢æ ‘ï¼Œä½†åœ¨æ¯ä¸ªç»“ç‚¹ä¸Šå¢åŠ ä¸€ä¸ªå­˜å‚¨ä½è¡¨ç¤ºç»“ç‚¹çš„é¢œè‰²ï¼Œå¯ä»¥æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚ é€šè¿‡å¯¹ä»»ä½•ä¸€æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ä¸Šå„ä¸ªç»“ç‚¹ç€è‰²æ–¹å¼çš„é™åˆ¶ï¼Œçº¢é»‘æ ‘ç¡®ä¿æ²¡æœ‰ä¸€æ¡è·¯å¾„ä¼šæ¯”å…¶ä»–è·¯å¾„é•¿å‡ºä¿©å€ï¼Œå› è€Œæ˜¯æ¥è¿‘å¹³è¡¡çš„ã€‚å¦‚ä¸‹å›¾ï¼š<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\41fa71b30af24f1d8d1ec8d67a743abe.png\"/></p>\n<h2><a id=\"_6\"></a>çº¢é»‘æ ‘çš„æ€§è´¨</h2>\n<ol><li>æ¯ä¸ªç»“ç‚¹ä¸æ˜¯çº¢è‰²å°±æ˜¯é»‘è‰²</li><li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„</li><li>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„ä¸¤ä¸ªå­©å­ç»“ç‚¹æ˜¯é»‘è‰²çš„</li><li>å¯¹äºæ¯ä¸ªç»“ç‚¹ï¼Œä»è¯¥ç»“ç‚¹åˆ°å…¶æ‰€æœ‰åä»£å¶ç»“ç‚¹çš„ç®€å•è·¯å¾„ä¸Šï¼Œå‡ åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²ç»“ç‚¹</li><li>æ¯ä¸ªå¶å­ç»“ç‚¹éƒ½æ˜¯é»‘è‰²çš„(æ­¤å¤„çš„å¶å­ç»“ç‚¹æŒ‡çš„æ˜¯ç©ºç»“ç‚¹)</li></ol>\n<blockquote>\n<p>ä¸Šé¢çš„4ç‚¹æ€§è´¨ç”¨è‡ªå·±çš„è¯å¯ä»¥æ€»ç»“ä¸ºï¼š(æ€§è´¨5ä¸ç”¨è®°)</p>\n</blockquote>\n<p><font color=\"blue\">1.ç»“ç‚¹ä¸æ˜¯çº¢è‰²å°±æ˜¯é»‘è‰²<br/> 2.æ²¡æœ‰è¿ç»­çš„çº¢è‰²ç»“ç‚¹<br/> 3.æ¯æ¡è·¯å¾„ä¸Šçš„é»‘è‰²ç»“ç‚¹çš„æ•°é‡æ˜¯ä¸€æ ·çš„ </font></p>\n<p><strong>AVLæ ‘æ˜¯é€šè¿‡é«˜åº¦æ¥æ§åˆ¶å¹³è¡¡çš„ï¼Œæ˜¯ä¸¥æ ¼å¹³è¡¡çš„ã€‚é‚£å¦‚æœæ–°æ’å…¥ç»“ç‚¹å¾ˆå¤šé‚£ä¹ˆæ—‹è½¬ä¹Ÿæ˜¯è¦ä»˜å‡ºä»£ä»·çš„ã€‚çº¢é»‘æ ‘é€šè¿‡é¢œè‰²æ¥æ§åˆ¶å¹³è¡¡ï¼Œä½†ä¸æ˜¯ä¸¥æ ¼çš„å¹³è¡¡ï¼Œå®ƒè¿‘ä¼¼å¹³è¡¡ã€‚çº¢é»‘æ ‘ä¹Ÿå¯ä»¥è¾¾åˆ°AVLæ ‘çš„æ•ˆç‡ã€‚å®ƒæœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ã€‚</strong></p>\n<blockquote>\n<p>é‚£ä¸ºä»€ä¹ˆçº¢é»‘æ ‘çš„æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€å‘¢ï¼Ÿ</p>\n</blockquote>\n<p>é€šè¿‡ä¸Šé¢çš„æ€§è´¨ï¼Œå‡è®¾æˆ‘ä»¬æŠŠçº¢é»‘æ ‘çš„é»‘è‰²ç»“ç‚¹å•ç‹¬æŠ½å‡ºæ¥ï¼Œä»è·Ÿåˆ°å¶å­é»‘ç»“ç‚¹ä¸ªæ•°ä¸ºNä¸ª<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\79221728ee714d2f9f68a85b874ec723.png\"/><br/> é‚£å®ƒæœ€çŸ­è·¯å¾„å°±æ˜¯é•¿åº¦ä¸ºN<br/> é‚£å®ƒæœ€é•¿çš„è·¯å¾„å¯èƒ½æ˜¯ä¸€é»‘ä¸€çº¢<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\9af04e099160469ca763328302e76c36.png\"/><br/> é‚£å®ƒçš„é•¿åº¦ä¸º2Nï¼Œæ‰€ä»¥å®ƒçš„æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ï¼Œåˆ™å…¶ä»–è·¯å¾„çš„é•¿åº¦å°±åœ¨N-2Nä¹‹é—´ã€‚é‚£ä¹ˆçº¢é»‘æ ‘å¢åˆ æŸ¥æ”¹çš„æ•ˆç‡å°±åœ¨logN-2logNä¹‹é—´ï¼Œå’ŒAVLæ ‘çš„logNå·®ä¸å¤šäº†ã€‚</p>\n<h1><a id=\"_38\"></a>çº¢é»‘æ ‘çš„ç»“ç‚¹å®šä¹‰</h1>\n<p>çº¢é»‘æ ‘çš„ç»“ç‚¹å®šä¹‰è¿˜æ˜¯è·ŸAVLæ ‘ä¸€æ ·ï¼Œå®šä¹‰æˆä¸‰å‰é“¾ç»“æ„å’ŒKVæ¨¡å‹ï¼Œä¸åŒçš„åˆ™æ˜¯çº¢é»‘æ ‘ç”¨æšä¸¾åŠ å…¥äº†é¢œè‰²ã€‚</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">Color</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tRED<span class=\"token punctuation\">,</span>\n\tBLACK\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">template</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">class</span> <span class=\"token class-name\">K</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">V</span><span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">RBTreeNode</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\tRBTreeNode<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span> _left<span class=\"token punctuation\">;</span><span class=\"token comment\">//ç»“ç‚¹çš„å·¦å­©å­</span>\n\tRBTreeNode<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span> _right<span class=\"token punctuation\">;</span><span class=\"token comment\">//ç»“ç‚¹çš„å³å­©å­</span>\n\tRBTreeNode<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span> _parent<span class=\"token punctuation\">;</span><span class=\"token comment\">//ç»“ç‚¹çš„åŒäº²</span>\n\tpair<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span>_kv<span class=\"token punctuation\">;</span>\n\tColor _color<span class=\"token punctuation\">;</span><span class=\"token comment\">//è¯¥ç»“ç‚¹çš„é¢œè‰²</span>\n\t<span class=\"token function\">RBTreeNode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> pair<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span>V<span class=\"token operator\">&gt;</span><span class=\"token operator\">&amp;</span> kv<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token operator\">:</span><span class=\"token function\">_left</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span><span class=\"token function\">_right</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span><span class=\"token function\">_parent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span><span class=\"token function\">_kv</span><span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span><span class=\"token function\">_color</span><span class=\"token punctuation\">(</span>RED<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h1><a id=\"_64\"></a>çº¢é»‘æ ‘çš„æ’å…¥</h1>\n<blockquote>\n<p>é‚£ä¹ˆæˆ‘ä»¬æ’å…¥ç»“ç‚¹æ—¶é€‰æ‹©æ’å…¥é»‘ç»“ç‚¹è¿˜æ˜¯çº¢ç»“ç‚¹å‘¢ï¼Ÿ</p>\n</blockquote>\n<p>å½“ç„¶æ˜¯é€‰æ‹©æ’å…¥çº¢ç»“ç‚¹äº†ã€‚é€‰æ‹©æ’å…¥é»‘ç»“ç‚¹é‚£éº»çƒ¦å°±å¤§äº†ï¼Œé‚£1æ¡è·¯å¾„ä¸Šå°±å¤šäº†1ä¸ªé»‘ç»“ç‚¹ï¼Œç ´åäº†æ€§è´¨4ï¼Œä»£ä»·å¾ˆå¤§ã€‚æ’å…¥çº¢ç»“ç‚¹ï¼Œå¦‚æœå®ƒçš„çˆ¶äº²ç»“ç‚¹æ˜¯é»‘è‰²åˆ™ä¸ç”¨è°ƒæ•´ï¼Œæ‹æ‹å±è‚¡èµ°äººï¼Œå®ƒçš„çˆ¶äº²æ˜¯çº¢è‰²é‚£æˆ‘ä»¬åœ¨è¿›è¡Œååºçš„å¤„ç†ã€‚</p>\n<p><strong>æ€»ç»“ä¸€ä¸‹ï¼š</strong><br/> <font color=\"red\">1.æ’å…¥é»‘è‰²ç»“ç‚¹ä¸€å®šç ´åæ€§è´¨4ï¼Œè°ƒæ•´èµ·æ¥ä¼šå¾ˆéº»çƒ¦<br/> 2.æ’å…¥çº¢ç»“ç‚¹ä¸ä¸€å®šç ´åçº¢é»‘æ ‘çš„æ€§è´¨ï¼Œå®ƒçš„çˆ¶äº²ç»“ç‚¹æ˜¯çº¢è‰²æ‰è¿›è¡Œè°ƒæ•´ï¼Œæ¯”æ’å…¥é»‘ç»“ç‚¹è°ƒæ•´èµ·æ¥æ–¹ä¾¿ã€‚<br/> </font><br/> âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨***æˆ‘æ˜¯åˆ†å‰²çº¿***âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨</p>\n<blockquote>\n<p>æ’å…¥çš„é€»è¾‘ï¼š</p>\n</blockquote>\n<p><font color=\"blue\">1.æ‰¾åˆ°æ’å…¥ç»“ç‚¹çš„ä½ç½®<br/> 2.æ’å…¥ç»“ç‚¹<br/> 3.æ£€æµ‹æ–°ç»“ç‚¹æ’å…¥åæ˜¯å¦ç ´åäº†çº¢é»‘çš„æ€§è´¨ï¼Œå¦‚æœç ´ååˆ™éœ€è¦è¿›è¡Œå¤„ç†<br/> </font></p>\n<p>å› ä¸ºæ–°æ’å…¥ç»“ç‚¹çš„é¢œè‰²æ˜¯çº¢è‰²ï¼Œè‹¥å®ƒçš„çˆ¶äº²ç»“ç‚¹æ˜¯é»‘è‰²ä¸ç”¨è°ƒæ•´ï¼Œæ˜¯çº¢è‰²çš„è¯éœ€è¦å¯¹çº¢é»‘æ ‘åˆ†æƒ…å†µæ¥è®¨è®ºã€‚</p>\n<blockquote>\n<p>çº¢é»‘æ ‘è°ƒæ•´ä¸»è¦çœ‹å”å”ç»“ç‚¹</p>\n</blockquote>\n<p>ä¸‹é¢æˆ‘ä»¬æ ¹æ®å”å”ç»“ç‚¹çš„æƒ…å†µæ¥å…·ä½“çœ‹ä¸€ä¸‹ã€‚</p>\n<h2><a id=\"_89\"></a>æƒ…å†µä¸€</h2>\n<p>ä»¥ä¸‹ç”¨pæ¥ä»£è¡¨parentç»“ç‚¹ï¼Œcä»£è¡¨curä¸ºæ–°å¢ç»“ç‚¹,gä»£è¡¨grandparentç»“ç‚¹ï¼Œuä»£è¡¨uncleç»“ç‚¹ã€‚<br/> æˆ‘ä»¬è¿˜æ˜¯è·ŸAVLæ ‘ä¸€æ ·ç”»å…·è±¡å›¾ï¼š</p>\n<p>1.å”å”ç»“ç‚¹å­˜åœ¨ä¸”ä¸ºçº¢<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\cd1b12cd21da42cab19655f0bc2e9e00.png\"/><br/> ä¸ºä»€ä¹ˆæŠŠgå˜æˆçº¢è‰²å‘¢ï¼Ÿå¦‚æœgä¸å˜æˆçº¢è‰²ï¼Œé‚£æ­¤æ—¶å­æ ‘ä¸Šå°±å¤šäº†1ä¸ªé»‘ç»“ç‚¹äº†ã€‚<br/> åªè¦æˆ‘ä»¬ç”»å‡ºå…·è±¡å›¾ï¼Œé‚£é¢è¯•æ—¶æ‰‹æ’•çº¢é»‘æ ‘ä¹Ÿå®Œå…¨ä¸æ€‚ã€‚</p>\n<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤šç§æƒ…å†µï¼Œé‚£å°±ç»™å‡ºæŠ½è±¡å›¾ï¼š<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\1032e74e2faf4c56822753db24a587f1.png\"/><br/> è¿™ç§æƒ…å†µä¸‹curåœ¨pçš„å·¦è¾¹è¿˜æ˜¯å³è¾¹éƒ½ä¸å½±å“ã€‚</p>\n<h2><a id=\"_101\"></a>æƒ…å†µäºŒ</h2>\n<blockquote>\n<p><font color=\"blue\">å”å”ç»“ç‚¹å­˜åœ¨ä¸”ä¸ºé»‘ï¼Œæ–°å¢ç»“ç‚¹æ˜¯pçš„å·¦è¾¹</font></p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\06d4a34988bb45079b4c75fa3c8f5290.png\"/><br/> è¿™æ˜¯ç”±æƒ…å†µä¸€å˜æ¥çš„ï¼Œå¦‚æœuå­˜åœ¨é‚£curä¸€å®šæ˜¯é»‘çš„ï¼Œä¸æ˜¯æ–°éƒ‘ç»“ç‚¹ï¼Œè¿™æ ·æ‰æ»¡è¶³çº¢é»‘æ ‘çš„æ€§è´¨ã€‚</p>\n<p>âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨***æˆ‘æ˜¯åˆ†å‰²çº¿***âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨</p>\n<blockquote>\n<p><font color=\"blue\">æ–°å¢ç»“ç‚¹æ˜¯pçš„å³è¾¹</font></p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\92109928e6344233ba37fe911f70b834.png\"/></p>\n<h2><a id=\"_115\"></a>æƒ…å†µä¸‰</h2>\n<blockquote>\n<p><font color=\"blue\">å”å”ç»“ç‚¹ä¸å­˜åœ¨</font></p>\n</blockquote>\n<p><strong>æ–°å¢ç»“ç‚¹åœ¨parentçš„å·¦è¾¹</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\a578ee54753843b582642a808f1a968c.png\"/><br/> <strong>æ–°å¢ç»“ç‚¹åœ¨parentçš„å³è¾¹</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\422073c114c646279c8835e641853d18.png\"/><br/> æ€»ç»“ä¸€ä¸‹ï¼š<br/> <font color=\"blue\"><br/> ä»¥ä¸Šçš„æƒ…å†µéƒ½æ˜¯çˆ¶äº²ç»“ç‚¹åœ¨ç¥–å…ˆç»“ç‚¹çš„å·¦è¾¹ï¼Œåœ¨ç¥–å…ˆç»“ç‚¹çš„å³è¾¹ä¹Ÿæ˜¯ç›¸åŒçš„å¤„ç†æ–¹æ³•<br/> 1.å”å”ç»“ç‚¹å­˜åœ¨ä¸”ä¸ºçº¢ï¼ŒæŠŠçˆ¶äº²ç»“ç‚¹å’Œå”å”ç»“ç‚¹å˜é»‘ï¼Œç¥–å…ˆå˜çº¢ç»§ç»­å‘ä¸Šå¤„ç†ç›´åˆ°ç¥–å…ˆæ˜¯æ ¹èŠ‚ç‚¹<br/> 2.å”å”å­˜åœ¨ä¸ºé»‘ï¼Œç¥–å­™ä¸‰ä»£åœ¨ä¸€æ¡ç›´çº¿ä¸Šè¿›è¡Œå•æ—‹ï¼Œä¸åœ¨åˆ™è¿›è¡ŒåŒæ—‹<br/> 3.å”å”ä¸å­˜åœ¨ï¼Œç¥–å­™ä¸‰ä»£åœ¨ä¸€æ¡ç›´çº¿ä¸Šè¿›è¡Œå•æ—‹ï¼Œä¸åœ¨åˆ™è¿›è¡ŒåŒæ—‹<br/> æ‰€ä»¥2,3çš„é€»è¾‘å¯ä»¥åˆåœ¨ä¸€èµ·ï¼Œåˆ†ä¸ºæ–°å¢ç»“ç‚¹åœ¨çˆ¶äº²ç»“ç‚¹çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹å¤„ç†ã€‚<br/> </font></p>\n<p><strong>ä¸‹é¢å†æ¥ç®€å•çš„è¯´è¯´çˆ¶äº²ç»“ç‚¹åœ¨ç¥–å…ˆç»“ç‚¹çš„å³è¾¹</strong></p>\n<blockquote>\n<p>å”å”å­˜åœ¨ä¸”ä¸ºçº¢</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\77971440be024919916fa148add7b9a1.png\"/><br/> æ­¤æ—¶ï¼Œcuråœ¨pçš„å·¦è¾¹è¿˜æ˜¯å³è¾¹æ²¡æœ‰å½±å“ã€‚</p>\n<blockquote>\n<p>å”å”å­˜åœ¨ä¸”ä¸ºé»‘</p>\n</blockquote>\n<p><strong>æ–°å¢ç»“ç‚¹åœ¨çˆ¶äº²ç»“ç‚¹çš„å³è¾¹</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\58c5fd873ca245759977a956e928550b.png\"/><br/> <strong>æ–°å¢ç»“ç‚¹åœ¨çˆ¶äº²ç»“ç‚¹çš„å·¦è¾¹</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\bad000af9df34109ba0230071c951fa9.png\"/></p>\n<blockquote>\n<p>å”å”ä¸å­˜åœ¨</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\49e86ae5c71240e9b79d9cb27fce9a27.png\"/><br/> æ€»ç»“ä¸€ä¸‹ï¼š<br/> <font color=\"blue\"><br/> 1.å”å”å­˜åœ¨ä¸”ä¸ºçº¢,u,på˜é»‘ï¼Œgå˜çº¢ç»§ç»­å‘ä¸Šè°ƒï¼Œç›´åˆ°gä¸ºæ ¹ç»“ç‚¹ï¼Œæœ€åæŠŠgå˜é»‘<br/> 2.å”å”å­˜åœ¨ä¸”ä¸ºé»‘ï¼Œç¥–å­™3å¸¦åœ¨ä¸€æ¡ç›´çº¿ä¸Šå•æ—‹ï¼ŒæŠ˜çº¿è¦åŒæ—‹<br/> 3.å”å”ä¸å­˜åœ¨ï¼Œç¥–å­™3å¸¦åœ¨ä¸€æ¡ç›´çº¿ä¸Šå•æ—‹ï¼ŒæŠ˜çº¿è¦åŒæ—‹</font></p>\n<p>âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨***æˆ‘æ˜¯åˆ†å‰²çº¿***âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨</p>\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\n<pre><code class=\"prism language-cpp\">\tpair<span class=\"token operator\">&lt;</span>Node<span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">bool</span><span class=\"token operator\">&gt;</span> <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> pair<span class=\"token operator\">&lt;</span>K<span class=\"token punctuation\">,</span> V<span class=\"token operator\">&gt;</span><span class=\"token operator\">&amp;</span> kv<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token comment\">//1.æ ‘ä¸ºç©º</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_root <span class=\"token operator\">==</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t_root <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Node</span><span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t_root<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span><span class=\"token comment\">//æ ¹ç»“ç‚¹ä¸ºé»‘è‰²</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">make_pair</span><span class=\"token punctuation\">(</span>_root<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token comment\">//æ ‘ä¸ä¸ºç©º</span>\n\t\tNode<span class=\"token operator\">*</span> cur <span class=\"token operator\">=</span> _root<span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> parent <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//æ–°ç»“ç‚¹keyå¤§äºå½“å‰ç»“ç‚¹å¾€å³è¾¹</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&lt;</span> kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token comment\">//æ–°ç»“ç‚¹keyå°äºå½“å‰ç»“ç‚¹å¾€å·¦è¾¹</span>\n\t\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&gt;</span> kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">make_pair</span><span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tcur <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Node</span><span class=\"token punctuation\">(</span>kv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> newnode <span class=\"token operator\">=</span> cur<span class=\"token punctuation\">;</span>\n\t\tnewnode<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&lt;</span> kv<span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tparent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> newnode<span class=\"token punctuation\">;</span>\n\t\t\tnewnode<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">else</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tparent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> newnode<span class=\"token punctuation\">;</span>\n\t\t\tnewnode<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token comment\">//å¼€å§‹è°ƒæ•´é¢œè‰²</span>\n\t\t<span class=\"token comment\">//çˆ¶äº²å­˜åœ¨ä¸”ä¸ºçº¢</span>\n\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>parent <span class=\"token operator\">&amp;&amp;</span> parent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tNode<span class=\"token operator\">*</span> grandParent <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\t\t\n\t\t\t<span class=\"token comment\">//parentæ˜¯grandParentå·¦å­©å­</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>grandParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">==</span> parent<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tNode<span class=\"token operator\">*</span> uncle <span class=\"token operator\">=</span> grandParent<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token comment\">//å”å”å­˜åœ¨ä¸”ä¸ºçº¢è‰²,çˆ¶äº²å’Œå”å”éƒ½è°ƒä¸ºé»‘è‰²</span>\n\t\t\t\t<span class=\"token comment\">//ç¥–å…ˆè°ƒä¸ºçº¢è‰²ï¼Œå¦‚æœä¸è°ƒé‚£æ¯æ¡è·¯å¾„çš„é»‘ç»“ç‚¹å˜äº†</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uncle <span class=\"token operator\">&amp;&amp;</span> uncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\tuncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\tgrandParent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token comment\">//ç»§ç»­å¾€ä¸Šè°ƒ</span>\n\t\t\t\t\tcur <span class=\"token operator\">=</span> grandParent<span class=\"token punctuation\">;</span>\n\t\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">else</span><span class=\"token comment\">//å”å”ä¸å­˜åœ¨æˆ–å”å”å­˜åœ¨ä¸”ä¸ºé»‘</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">==</span> cur<span class=\"token punctuation\">)</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>    <span class=\"token comment\">//å³å•æ—‹</span>\n\t\t\t\t\t\t<span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>grandParent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tgrandParent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//parent-&gt;_right == cur</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t\t<span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t\t<span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>grandParent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tgrandParent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tcur<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">else</span> <span class=\"token comment\">//parentæ˜¯grandParentå·¦å­©å­</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tNode<span class=\"token operator\">*</span> uncle <span class=\"token operator\">=</span> grandParent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>uncle <span class=\"token operator\">&amp;&amp;</span> uncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\tuncle<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\tgrandParent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\tcur <span class=\"token operator\">=</span> grandParent<span class=\"token punctuation\">;</span>\n\t\t\t\t\tparent <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">==</span> cur<span class=\"token punctuation\">)</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t\t<span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>grandParent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tparent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tgrandParent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t\t\t<span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t\t<span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>grandParent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tcur<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t\t\t\t\tgrandParent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> RED<span class=\"token punctuation\">;</span>\n\t\t\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token punctuation\">}</span>\t\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t_root<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">=</span> BLACK<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">make_pair</span><span class=\"token punctuation\">(</span>newnode<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">void</span> <span class=\"token function\">RotateL</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> parent<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tNode<span class=\"token operator\">*</span> subR <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> subRL <span class=\"token operator\">=</span> subR<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> parentParent <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">//å…ˆæ—‹è½¬</span>\n\t\tparent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> subRL<span class=\"token punctuation\">;</span>\n\t\tsubR<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\n\t\tparent<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">//åœ¨æ”¹çˆ¶äº²ç»“ç‚¹</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subRL<span class=\"token punctuation\">)</span>\n\t\t\tsubRL<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_root <span class=\"token operator\">==</span> parent<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t_root <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t\t_root<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">else</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//subRæ—‹è½¬åå¯èƒ½æ˜¯å·¦å³å­æ ‘2ç§æƒ…å†µ</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parentParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">==</span> parent<span class=\"token punctuation\">)</span>\n\t\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> subR<span class=\"token punctuation\">;</span>\n\t\t\tsubR<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parentParent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">void</span> <span class=\"token function\">RotateR</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> parent<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tNode<span class=\"token operator\">*</span> subL <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> subLR <span class=\"token operator\">=</span> subL<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> parentParent <span class=\"token operator\">=</span> parent<span class=\"token operator\">-&gt;</span>_parent<span class=\"token punctuation\">;</span><span class=\"token comment\">//è®°å½•parentçš„çˆ¶äº²ç»“ç‚¹</span>\n\t\t<span class=\"token comment\">//subLRåšparent-&gt;_left</span>\n\t\tparent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> subLR<span class=\"token punctuation\">;</span>\n\t\tsubL<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">//åŒæ—¶æ›´æ–°åŠ¨çš„2ä¸ªèŠ‚ç‚¹çš„parent</span>\n\t\t<span class=\"token comment\">//æ³¨æ„subLRè¿˜å¯èƒ½æ˜¯ç©ºç»“ç‚¹</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subLR<span class=\"token punctuation\">)</span>\n\t\t\tsubLR<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n\t\tparent<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">//parentå¯èƒ½æ˜¯å•ç‹¬çš„æ ‘ï¼Œæˆ–è€…å­æ ‘,åˆ†æƒ…å†µ</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_root <span class=\"token operator\">==</span> parent<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t_root <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t\t_root<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">else</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token comment\">//è¿˜æœ‰å¯èƒ½parentæ˜¯å­æ ‘ï¼Œå¯èƒ½æ˜¯å·¦å­æ ‘</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>parentParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">==</span> parent<span class=\"token punctuation\">)</span>\n\t\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_left <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t\t<span class=\"token comment\">//ä¹Ÿå¯èƒ½æ˜¯å³å­æ ‘</span>\n\t\t\t\tparentParent<span class=\"token operator\">-&gt;</span>_right <span class=\"token operator\">=</span> subL<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token comment\">//è°ƒæ•´subLçš„çˆ¶äº²ç»“ç‚¹</span>\n\t\t\tsubL<span class=\"token operator\">-&gt;</span>_parent <span class=\"token operator\">=</span> parentParent<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"_338\"></a>çº¢é»‘æ ‘çš„æŸ¥æ‰¾</h1>\n<p>æŸ¥æ‰¾è·ŸAVLæ ‘çš„é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œåšä¸»è¿™é‡Œå°±ä¸åšå¤šçš„è®²è§£äº†ã€‚</p>\n<pre><code class=\"prism language-cpp\">\tNode<span class=\"token operator\">*</span> <span class=\"token function\">Find</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> K<span class=\"token operator\">&amp;</span> key<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\tNode<span class=\"token operator\">*</span> cur <span class=\"token operator\">=</span> _root<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>cur<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&gt;</span> key<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cur<span class=\"token operator\">-&gt;</span>_kv<span class=\"token punctuation\">.</span>first <span class=\"token operator\">&lt;</span> key<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tcur <span class=\"token operator\">=</span> cur<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\t<span class=\"token keyword\">else</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\t<span class=\"token keyword\">return</span> cur<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"_365\"></a>çº¢é»‘æ ‘çš„éªŒè¯</h1>\n<p>å…ˆæ£€æŸ¥æœ‰æ²¡æœ‰è¿ç»­çš„çº¢ç»“ç‚¹ï¼Œè¿˜æœ‰çº¢ç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹æ˜¯ä¸æ˜¯é»‘è‰²ã€‚è¿™å°±ä¿è¯äº†æ²¡æœ‰è¿ç»­çš„çº¢ç»“ç‚¹ã€‚è¿˜æœ‰è·¯å¾„ä¹Ÿè¦ç®—ã€‚æˆ‘ä»¬æ‰¾1æ¡è·¯å¾„ä½œä¸ºå‚è€ƒï¼Œä¾‹å¦‚æœ€å·¦è·¯å¾„ï¼Œåªè¦æœ‰1æ¡è·¯å¾„å’Œå®ƒçš„é»‘ç»“ç‚¹æ•°é‡ä¸åŒå°±ä¸æ˜¯çº¢é»‘æ ‘ã€‚</p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">bool</span> <span class=\"token function\">_CheckBlance</span><span class=\"token punctuation\">(</span>Node<span class=\"token operator\">*</span> root<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> blackNum<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> count<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>root <span class=\"token operator\">==</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">!=</span> blackNum<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"é»‘è‰²èŠ‚ç‚¹çš„æ•°é‡ä¸ç›¸ç­‰\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>root<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> RED <span class=\"token operator\">&amp;&amp;</span> root<span class=\"token operator\">-&gt;</span>_parent<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"å­˜åœ¨è¿ç»­çš„çº¢è‰²èŠ‚ç‚¹\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>root<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> BLACK<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcount<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">_CheckBlance</span><span class=\"token punctuation\">(</span>root<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">,</span> blackNum<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">_CheckBlance</span><span class=\"token punctuation\">(</span>root<span class=\"token operator\">-&gt;</span>_right<span class=\"token punctuation\">,</span> blackNum<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">bool</span> <span class=\"token function\">CheckBlance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_root <span class=\"token operator\">==</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_root<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> RED<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\tcout <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"æ ¹èŠ‚ç‚¹æ˜¯çº¢è‰²çš„\"</span> <span class=\"token operator\">&lt;&lt;</span> endl<span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token comment\">// æ‰¾æœ€å·¦è·¯å¾„åšé»‘è‰²èŠ‚ç‚¹æ•°é‡å‚è€ƒå€¼</span>\n\t\t<span class=\"token keyword\">int</span> blackNum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\tNode<span class=\"token operator\">*</span> left <span class=\"token operator\">=</span> _root<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>left<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>left<span class=\"token operator\">-&gt;</span>_color <span class=\"token operator\">==</span> BLACK<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">{<!-- --></span>\n\t\t\t\tblackNum<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\n\t\t\tleft <span class=\"token operator\">=</span> left<span class=\"token operator\">-&gt;</span>_left<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">_CheckBlance</span><span class=\"token punctuation\">(</span>_root<span class=\"token punctuation\">,</span> blackNum<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š<br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\7b12cb0e8e7e4f77a081e66a9603b846.png\"/><br/> æ²¡æœ‰é—®é¢˜ï¼Œåšä¸»ä¹Ÿæ˜¯è°ƒè¯•äº†å¥½é•¿æ—¶é—´ã€‚ä¸€å®šè¦ç”¨å¥½è°ƒè¯•ã€‚</p>\n<h1><a id=\"AVL_431\"></a>çº¢é»‘æ ‘çš„å’ŒAVLæ ‘çš„æ¯”è¾ƒ</h1>\n<p>çº¢é»‘æ ‘çš„åˆ é™¤ä¹Ÿæ˜¯äº†è§£ï¼Œçº¢é»‘æ ‘å’ŒAVLæ ‘éƒ½æ˜¯é«˜æ•ˆçš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(log2)ï¼Œçº¢é»‘æ ‘ä¸è¿½æ±‚ç»å¯¹å¹³è¡¡ï¼Œå…¶åªéœ€ä¿è¯æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„2å€ï¼Œç›¸å¯¹è€Œè¨€ï¼Œé™ä½äº†æ’å…¥å’Œæ—‹è½¬çš„æ¬¡æ•°ï¼Œæ‰€ä»¥åœ¨ç»å¸¸è¿›å¢åˆ çš„ç»“æ„ä¸­æ€§èƒ½æ¯”AVLæ ‘æ›´ä¼˜ï¼Œè€Œä¸”çº¢é»‘æ ‘å®ç°æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥å®é™…è¿ç”¨ä¸­çº¢é»‘æ ‘æ›´å¤šã€‚</p>\n<blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\a34b025e0f2b40a08e61725a8edf01ae.png\"/><br/> ğŸğŸåšä¸»æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œç›´æ¥ç•™ä¸‹è¯„è®ºå³å¯ï¼ğŸğŸ<br/> ğŸğŸçº¢é»‘æ ‘æ˜¯é¢è¯•å¿…å¤‡çš„ï¼Œå¤§å®¶ä¸€èµ·åŠ æ²¹ï¼ğŸğŸ<br/> ğŸğŸæ¬¢è¿ä¸€é”®ä¸‰è¿ï¼ ğŸğŸ</p>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "C++", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-01-16 21:58:41", "summary": "çº¢é»‘æ ‘çº¢é»‘æ ‘çš„æ¦‚å¿µçº¢é»‘æ ‘çš„æ€§è´¨çº¢é»‘æ ‘çš„ç»“ç‚¹å®šä¹‰çº¢é»‘æ ‘çš„æ’å…¥æƒ…å†µä¸€æƒ…å†µäºŒæƒ…å†µä¸‰çº¢é»‘æ ‘çš„æŸ¥æ‰¾çº¢é»‘æ ‘çš„éªŒè¯çº¢é»‘æ ‘çš„å’Œæ ‘çš„æ¯”è¾ƒçº¢é»‘æ ‘çš„æ¦‚å¿µçº¢é»‘æ ‘ï¼Œæ˜¯ä¸€ç§äºŒå‰æœç´¢æ ‘ï¼Œä½†åœ¨æ¯ä¸ªç»“ç‚¹ä¸Šå¢åŠ ä¸€ä¸ªå­˜å‚¨ä½è¡¨ç¤ºç»“ç‚¹çš„é¢œè‰²ï¼Œ"}