{"blogid": "121075220", "writerAge": "码龄3年", "writerBlogNum": "7", "writerCollect": "33", "writerComment": "4", "writerFan": "1", "writerGrade": "2级", "writerIntegral": "109", "writerName": "东风点点吹", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_121075220.jpg", "writerRankTotal": "153751", "writerRankWeekly": "993001", "writerThumb": "5", "writerVisitNum": "12303", "blog_read_count": "4165", "blog_time": "于 2021-11-01 10:41:11 发布", "blog_title": "C#建立MQTT服务器（基于MQTTnet，局域网）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>最近在做一套测量系统，部分用到ESP8266测量上传数据，所以在局域网内首选了MQTT协议来做，主要是方便以后可能会需要拓展到公网服务器做准备。<br/> <strong>先来看一下窗体</strong><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\24c1ca2a347349bcbddccf877bee4ac2.png\"/><br/> <strong>看一下需要用到的库</strong><br/> <img alt=\"描述\" src=\"..\\..\\static\\image\\abbca058c76446eda832a9bd981ee766.png\"/><br/> <em>应该不用我教大家怎么调入MQTTnet包吧（NuGet包）</em></p>\n<p><strong>下面是具体的内容：</strong></p>\n<pre><code class=\"prism language-c\">namespace MQTT_STA\n<span class=\"token punctuation\">{<!-- --></span>\n    public partial class Form1 <span class=\"token operator\">:</span> Form\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">int</span> lianjie <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        public delegate <span class=\"token keyword\">void</span> <span class=\"token function\">MyInvoke</span><span class=\"token punctuation\">(</span>string str1<span class=\"token punctuation\">,</span> string str2<span class=\"token punctuation\">,</span> string str3<span class=\"token punctuation\">,</span> string str4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        public <span class=\"token function\">Form1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">InitializeComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n\n\n        private <span class=\"token keyword\">void</span> <span class=\"token function\">button1_Click</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> EventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">StartMqttServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n\n        public MqttServer mqttServer <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        public async <span class=\"token keyword\">void</span> <span class=\"token function\">StartMqttServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            try\n            <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mqttServer <span class=\"token operator\">==</span> null<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{<!-- --></span>\n                    var optionsBuilder <span class=\"token operator\">=</span> new <span class=\"token function\">MqttServerOptionsBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">WithDefaultEndpoint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">WithDefaultEndpointPort</span><span class=\"token punctuation\">(</span>Convert<span class=\"token punctuation\">.</span><span class=\"token function\">ToInt32</span><span class=\"token punctuation\">(</span>textBox1<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">WithConnectionValidator</span><span class=\"token punctuation\">(</span>\n                        c <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span>\n                        <span class=\"token punctuation\">{<!-- --></span>\n                            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>c<span class=\"token punctuation\">.</span>Username<span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span>textBox3<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">{<!-- --></span>\n                                c<span class=\"token punctuation\">.</span>ReasonCode <span class=\"token operator\">=</span> MqttConnectReasonCode<span class=\"token punctuation\">.</span>BadUserNameOrPassword<span class=\"token punctuation\">;</span>\n                                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n                            <span class=\"token punctuation\">}</span>\n\n                            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>c<span class=\"token punctuation\">.</span>Password<span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span>textBox2<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">{<!-- --></span>\n                                c<span class=\"token punctuation\">.</span>ReasonCode <span class=\"token operator\">=</span> MqttConnectReasonCode<span class=\"token punctuation\">.</span>BadUserNameOrPassword<span class=\"token punctuation\">;</span>\n                                <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n                            <span class=\"token punctuation\">}</span>\n\n                            c<span class=\"token punctuation\">.</span>ReasonCode <span class=\"token operator\">=</span> MqttConnectReasonCode<span class=\"token punctuation\">.</span>Success<span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">WithSubscriptionInterceptor</span><span class=\"token punctuation\">(</span>\n                        c <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span>\n                        <span class=\"token punctuation\">{<!-- --></span>\n                            c<span class=\"token punctuation\">.</span>AcceptSubscription <span class=\"token operator\">=</span> true<span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">WithApplicationMessageInterceptor</span><span class=\"token punctuation\">(</span>\n                        c <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span>\n                        <span class=\"token punctuation\">{<!-- --></span>\n                            c<span class=\"token punctuation\">.</span>AcceptPublish <span class=\"token operator\">=</span> true<span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    mqttServer <span class=\"token operator\">=</span> new <span class=\"token function\">MqttFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">CreateMqttServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> as MqttServer<span class=\"token punctuation\">;</span>\n                    mqttServer<span class=\"token punctuation\">.</span>ClientConnectedHandler <span class=\"token operator\">=</span> new <span class=\"token function\">MqttServerClientConnectedHandlerDelegate</span><span class=\"token punctuation\">(</span>OnMqttServerClientConnected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    mqttServer<span class=\"token punctuation\">.</span>ClientDisconnectedHandler <span class=\"token operator\">=</span> new <span class=\"token function\">MqttServerClientDisconnectedHandlerDelegate</span><span class=\"token punctuation\">(</span>OnMqttServerClientDisconnected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    mqttServer<span class=\"token punctuation\">.</span>ApplicationMessageReceivedHandler <span class=\"token operator\">=</span> new <span class=\"token function\">MqttApplicationMessageReceivedHandlerDelegate</span><span class=\"token punctuation\">(</span>OnMqttServer_ApplicationMessageReceived<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    await mqttServer<span class=\"token punctuation\">.</span><span class=\"token function\">StartAsync</span><span class=\"token punctuation\">(</span>optionsBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    toolStripLabel1<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"启动成功！\"</span><span class=\"token punctuation\">;</span>\n\n\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">catch</span> <span class=\"token punctuation\">(</span>Exception ex<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                toolStripLabel1<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"启动失败......\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n\n        public async <span class=\"token keyword\">void</span> <span class=\"token function\">StopMqttServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>mqttServer <span class=\"token operator\">==</span> null<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n            try\n            <span class=\"token punctuation\">{<!-- --></span>\n                await mqttServer<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">StopAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                mqttServer <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n                toolStripLabel1<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"关闭成功\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">catch</span> <span class=\"token punctuation\">(</span>Exception ex<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                toolStripLabel1<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"关闭失败......\"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        private <span class=\"token keyword\">void</span> <span class=\"token function\">button2_Click</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> EventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">ServerPublishMqttTopic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n\n        public async <span class=\"token keyword\">void</span> <span class=\"token function\">ServerPublishMqttTopic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            await mqttServer<span class=\"token punctuation\">.</span><span class=\"token function\">SubscribeAsync</span><span class=\"token punctuation\">(</span>textBox4<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            label5<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> textBox4<span class=\"token punctuation\">.</span>Text<span class=\"token operator\">+</span><span class=\"token string\">\"订阅成功！\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        private <span class=\"token keyword\">void</span> <span class=\"token function\">button3_Click</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> EventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">ServerPublishMqttTopic</span><span class=\"token punctuation\">(</span>textBox6<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">,</span> textBox7<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        public async <span class=\"token keyword\">void</span> <span class=\"token function\">ServerPublishMqttTopic</span><span class=\"token punctuation\">(</span>string topic<span class=\"token punctuation\">,</span> string payload<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            var message <span class=\"token operator\">=</span> new <span class=\"token function\">MqttApplicationMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{<!-- --></span>\n                Topic <span class=\"token operator\">=</span> topic<span class=\"token punctuation\">,</span>\n                Payload <span class=\"token operator\">=</span> Encoding<span class=\"token punctuation\">.</span>UTF8<span class=\"token punctuation\">.</span><span class=\"token function\">GetBytes</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            await mqttServer<span class=\"token punctuation\">.</span><span class=\"token function\">PublishAsync</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            textBox5<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> textBox5<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">+</span> <span class=\"token string\">\"主题：\"</span><span class=\"token operator\">+</span>topic<span class=\"token operator\">+</span><span class=\"token string\">\"\\n内容：\"</span><span class=\"token operator\">+</span>payload<span class=\"token operator\">+</span><span class=\"token string\">\"\\n发送成功！\\n\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        private <span class=\"token keyword\">void</span> <span class=\"token function\">toolStripButton1_Click</span><span class=\"token punctuation\">(</span>object sender<span class=\"token punctuation\">,</span> EventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">StopMqttServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n\n        public <span class=\"token keyword\">void</span> <span class=\"token function\">OnMqttServerClientConnected</span><span class=\"token punctuation\">(</span>MqttServerClientConnectedEventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            lianjie<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n            toolStripLabel2<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"连接数：\"</span> <span class=\"token operator\">+</span>lianjie<span class=\"token punctuation\">;</span>\n\n        <span class=\"token punctuation\">}</span>\n\n\n        public <span class=\"token keyword\">void</span> <span class=\"token function\">OnMqttServerClientDisconnected</span><span class=\"token punctuation\">(</span>MqttServerClientDisconnectedEventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            lianjie<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n            toolStripLabel2<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"连接数：\"</span> <span class=\"token operator\">+</span> lianjie<span class=\"token punctuation\">;</span>\n\n        <span class=\"token punctuation\">}</span>\n\n        public <span class=\"token keyword\">void</span> <span class=\"token function\">OnMqttServer_ApplicationMessageReceived</span><span class=\"token punctuation\">(</span>MqttApplicationMessageReceivedEventArgs e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n\n                string text <span class=\"token operator\">=</span> Encoding<span class=\"token punctuation\">.</span>UTF8<span class=\"token punctuation\">.</span><span class=\"token function\">GetString</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>ApplicationMessage<span class=\"token punctuation\">.</span>Payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                string Topic <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>ApplicationMessage<span class=\"token punctuation\">.</span>Topic<span class=\"token punctuation\">;</span>\n                string QoS <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>ApplicationMessage<span class=\"token punctuation\">.</span>QualityOfServiceLevel<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                string Retained <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>ApplicationMessage<span class=\"token punctuation\">.</span>Retain<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                MyInvoke jieshou <span class=\"token operator\">=</span> new <span class=\"token function\">MyInvoke</span><span class=\"token punctuation\">(</span>jieshouo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                this<span class=\"token punctuation\">.</span><span class=\"token function\">BeginInvoke</span><span class=\"token punctuation\">(</span>jieshou<span class=\"token punctuation\">,</span> new Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{<!-- --></span> Topic<span class=\"token punctuation\">,</span> QoS<span class=\"token punctuation\">,</span> Retained<span class=\"token punctuation\">,</span> text <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            \n        <span class=\"token punctuation\">}</span>\n\n        public <span class=\"token keyword\">void</span> <span class=\"token function\">jieshouo</span><span class=\"token punctuation\">(</span>string strr1<span class=\"token punctuation\">,</span> string strr2<span class=\"token punctuation\">,</span> string strr3<span class=\"token punctuation\">,</span> string strr4<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            \n            textBox5<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> textBox5<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">+</span><span class=\"token string\">\"主题来源：\"</span><span class=\"token operator\">+</span> strr1 <span class=\"token operator\">+</span><span class=\"token string\">\"\\nQoS:\"</span><span class=\"token operator\">+</span> strr2<span class=\"token operator\">+</span><span class=\"token string\">\"\\nRetained:\"</span> <span class=\"token operator\">+</span> strr3<span class=\"token operator\">+</span><span class=\"token string\">\"\\n内容:\"</span> <span class=\"token operator\">+</span> strr4<span class=\"token operator\">+</span><span class=\"token string\">\"\\n----\\n\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><em>响应函数我没有全列出来，大家可以参考<br/> https://blog.csdn.net/xiakexingtx/article/details/108281359<br/> 的文章自行添加动作函数</em><br/> ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓<br/> 上面的<br/> mqttServer.ClientConnectedHandler = new MqttServerClientConnectedHandlerDelegate(OnMqttServerClientConnected);<br/> mqttServer.ClientDisconnectedHandler = new MqttServerClientDisconnectedHandlerDelegate(OnMqttServerClientDisconnected);<br/> 大家多了解了解eventhandle就没问题了</p>\n<p><strong>下面来说一下具体的使用：</strong><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\30ac1d8d0af44bd4a5fdea1c3e733238.png\"/><br/> <strong>客户端具体的接入：</strong><br/> mqtt客户端需要接入的地址一共有四种（我们已经加了三个了，ip是第四个，不需要用户自定）：<br/> ip，端口，账号，密码<br/> <em>-----------------------------------------------------------------------------------------------</em><br/> <em>ip----</em><br/> win+r——cmd——ipconfig里面的ipv4地址就是了（如果大家用emqx平台或者腾讯阿里的话请自行搞）</p>\n<p><em>端口----</em><br/> 自行选择</p>\n<p><em>账号----</em><br/> 自行选择</p>\n<p><em>密码----</em><br/> 自行选择<br/> <em>-----------------------------------------------------------------------------------------------</em><br/> 我用来测试的客户端软件是MQTT.fx<br/> 目前的缺陷，客户端不能发送空内容，否则服务端程序会报错。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\5302c16bd23e48c2a9e1747cd34a3b89.png\"/><br/> <em>软件的教程百度上一大把我就不说了</em></p>\n<p>好了，大部分都是前人的借鉴，只不过我来整理了一下。</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "C#", "cpp": 0, "csharp": 1, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2021-11-01 10:41:11", "summary": "最近在做一套测量系统，部分用到测量上传数据，所以在局域网内首选了协议来做，主要是方便以后可能会需要拓展到公网服务器做准备。先来看一下窗体在这里插入图片描述看一下需要用到的库描述应该不用我教大家怎么调入"}