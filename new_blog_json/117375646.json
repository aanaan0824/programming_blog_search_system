{"blogid": "117375646", "writerAge": "码龄2年", "writerBlogNum": "49", "writerCollect": "92", "writerComment": "244", "writerFan": "166", "writerGrade": "4级", "writerIntegral": "880", "writerName": "患孤", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_117375646.jpg", "writerRankTotal": "835633", "writerRankWeekly": "61156", "writerThumb": "104", "writerVisitNum": "38415", "blog_read_count": "7041", "blog_time": "于 2021-05-29 09:30:20 发布", "blog_title": "数据库用户名密码正确连接不上？详细解决方案！！", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>目录</h3>\n<ul><li><ul><li><a href=\"#_1\">前言</a></li><li><a href=\"#_4\">无法连接数据库</a></li><li><a href=\"#_8\">解决步骤</a></li><li><ul><li><a href=\"#1mysql_10\">1、查看是否启动mysql服务</a></li><li><a href=\"#2phpStudy_31\">2、查看phpStudy数据库</a></li><li><a href=\"#3phpStudy_38\">3、查看phpStudy数据库用户名密码是否正确</a></li><li><a href=\"#3_44\">3、查看本机用户名密码是否正确</a></li><li><a href=\"#4_50\">4、查看数据库配置文件</a></li><li><a href=\"#5_88\">5、重启服务</a></li></ul>\n</li><li><a href=\"#_100\">结语</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"_1\"></a>前言</h2>\n<p>Laravel [1045] 解决方法 Access denied for user ‘homestead’@‘localhost’，最近准备做一个laravel作为后端的博客管理系统，做到了注册的页面，奈何连接不上数据库，查看数据库配置，没有任何错误，数据库也开启了服务，也可以正常运行，但是laravel就是连接不上数据库，其它方式都试过了，都可以连接上数据库。大概这就是后端的悲哀吧，与数据做交互，但是却连不上数据库，整个项目进度就卡到这了。本宝宝心里苦啊。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2021052716113485.jpg\"/></p>\n<h2><a id=\"_4\"></a>无法连接数据库</h2>\n<p>我很确定我的用户名，密码，端口号，没有任何错误但是就是连接不上。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528233022614.png\"/></p>\n<h2><a id=\"_8\"></a>解决步骤</h2>\n<h3><a id=\"1mysql_10\"></a>1、查看是否启动mysql服务</h3>\n<pre><code>如果在本机安装了，MySQL数据库的话我们首先需要判断MySQL服务是否启动了。\n</code></pre>\n<ol><li><strong>第一步</strong><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528225245496.png\"/><br/> 右击此电脑 -&gt; 找到管理 -&gt; 点击管理</li><li><strong>第二步</strong><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2021052822550378.png\"/><br/> 点击 服务和应用程序<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528225606700.png\"/><br/> 双击服务进入服务管理页面</li></ol>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528225648429.png\"/></p>\n<ol><li><strong>第三步</strong><br/> 接下来我们需要找到MySQL服务，我们下拉找到MySQL服务，</li></ol>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528225839416.png\"/><br/> 点击需要的MySQL服务<br/> <img alt=\"+\" src=\"..\\..\\static\\image\\20210528225908562.png\"/><br/> 在这里我们可以对MySQL进行，停止，暂停，重启该服务，那么我们这个服务是已经启动起来了。</p>\n<h3><a id=\"2phpStudy_31\"></a>2、查看phpStudy数据库</h3>\n<p>我们打开phpStudy看到这里有个MySQL服务，看你需要用到哪个数据库。用到phpStudy的话，我们需要修改端口。<br/> <img alt=\"\" src=\"..\\..\\static\\image\\20210528233425581.png\"/><br/> 点击MySQL服务的配置，便可以修改数据库端口。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2021052823370174.png\"/><br/> 因为本机已经安装了一个数据库且其端口也是3306 所以我们把这个端口改为3308 可以自己随便定义，只要端口没被占用即可。<br/> 然后启动MySQL服务。</p>\n<h3><a id=\"3phpStudy_38\"></a>3、查看phpStudy数据库用户名密码是否正确</h3>\n<p>我们如果使用的是phpStudy集成环境提供的MySQL我们需要查看其密码是否与我们的配置文件是否相同。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2021052823404498.png\"/><br/> 点击数据库，然后点击操作我们便可以修改数据库的密码。<br/> 默认用户名密码是 root root 。</p>\n<h3><a id=\"3_44\"></a>3、查看本机用户名密码是否正确</h3>\n<p>接下来我们打开MySQL的命令行登录窗口，我们的用户名是root，密码是MySQL安装时的密码，我们来测试是否可以成功登录MySQL。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528230228947.png\"/><br/> 输入MySQL密码。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528230259751.png\"/><br/> 成功登录，说明我们的MySQL服务没有问题。</p>\n<h3><a id=\"4_50\"></a>4、查看数据库配置文件</h3>\n<ol><li><strong>查看.env配置文件</strong></li></ol>\n<p><strong>.env</strong>文件在我们的项目根目录下我们需要修改的地方也就下面这么多</p>\n<pre><code class=\"prism language-php\"><span class=\"token constant\">DB_CONNECTION</span><span class=\"token operator\">=</span>mysql <span class=\"token comment\">// 是什么数据库？MySQL还是Oracle </span>\n<span class=\"token constant\">DB_HOST</span><span class=\"token operator\">=</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span> <span class=\"token comment\">// 地址 这里的ip地址是什么他就会去到哪里寻找数据库</span>\n<span class=\"token constant\">DB_PORT</span><span class=\"token operator\">=</span><span class=\"token number\">3306</span> <span class=\"token comment\">// 数据库端口 默认为3306 如果不是的话修改为一致即可</span>\n<span class=\"token constant\">DB_DATABASE</span><span class=\"token operator\">=</span>blog <span class=\"token comment\">// 数据库名称</span>\n<span class=\"token constant\">DB_USERNAME</span><span class=\"token operator\">=</span>root <span class=\"token comment\">// 用户名</span>\n<span class=\"token constant\">DB_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token operator\">**</span><span class=\"token operator\">**</span><span class=\"token operator\">**</span> <span class=\"token comment\">// 用户名密码</span>\n</code></pre>\n<p>我们查看完这些配置之后还是不能连接上数据库的话我们还要看一个文件。<br/> 2. <strong>查看database.php配置文件</strong><br/> 该文件位于项目根目录 -&gt; config -&gt;database.php<br/> 接下来我们需要查看该文件中的 mysql 数组对其相关配置进行校验。</p>\n<pre><code class=\"prism language-php\"><span class=\"token string single-quoted-string\">'mysql'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string single-quoted-string\">'driver'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token string single-quoted-string\">'mysql'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//什么数据库</span>\n            <span class=\"token string single-quoted-string\">'host'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_HOST'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'127.0.0.1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// .env 的地址常量 默认值为127.0.0.1</span>\n            <span class=\"token string single-quoted-string\">'port'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_PORT'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'3306'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//\t.env 的端口常量 默认值为3306</span>\n            <span class=\"token string single-quoted-string\">'database'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_DATABASE'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'forge'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// .env 的数据库名称常量 默认值为forge</span>\n            <span class=\"token string single-quoted-string\">'username'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_USERNAME'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'forge'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// .env 的用户名常量 默认值为forge</span>\n            <span class=\"token string single-quoted-string\">'password'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_PASSWORD'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// .env 的密码常量 默认值为空</span>\n            <span class=\"token string single-quoted-string\">'unix_socket'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">env</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'DB_SOCKET'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 这个不太清楚，不用管它</span>\n            <span class=\"token string single-quoted-string\">'charset'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token string single-quoted-string\">'utf8mb4'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 数据库字符集编码</span>\n            <span class=\"token string single-quoted-string\">'collation'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token string single-quoted-string\">'utf8mb4_unicode_ci'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 数据库字符集排序方式</span>\n            <span class=\"token string single-quoted-string\">'prefix'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 数据库前缀，有些数据库会设置前缀</span>\n            <span class=\"token string single-quoted-string\">'prefix_indexes'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 这个不太清楚，不用管它</span>\n            <span class=\"token string single-quoted-string\">'strict'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 这个不太清楚，不用管它</span>\n            <span class=\"token string single-quoted-string\">'engine'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 这个不太清楚，不用管它</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</code></pre>\n<p>这是默认的配置，但是我们有时候，手贱不小心删除掉一个的话就会造成，连接数据库失败，比如说少了一个端口字段，用户名字段什么的，就会导致数据库连接失败，那么如果以上信息都确定没有任何问题的话，那么就差最后一步，我们便可以成功连接数据库了。</p>\n<h3><a id=\"5_88\"></a>5、重启服务</h3>\n<p>有时候我们之前写的密码什么的，然后再进行修改的话，它修改了但还没完全修改，这么说能明白吧！嘿，虚晃一枪，就如同浏览器一样，他会将一些信息缓存下来，来换取更快的速度，我们这个应该也是类似的情况，就如同浏览器，有时候编译的样式不生效，我们需要清楚浏览记录及数据，我们也需要清楚它的缓存数据，然后重启，我们便可以连接上数据库了。<br/> 在项目的更目录下执行下面三条命令便可以连接上数据库。</p>\n<pre><code class=\"prism language-php\">php artisan <span class=\"token argument-name\">cache</span><span class=\"token punctuation\">:</span>clear\nphp artisan <span class=\"token argument-name\">config</span><span class=\"token punctuation\">:</span>clear\nphp artisan serve\n</code></pre>\n<p>执行完成之后便可以，连接上数据库了。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2021052823304158.png\"/><br/> 是不是连接上了呢？换了一个错误。说该字段不存在。</p>\n<h2><a id=\"_100\"></a>结语</h2>\n<p>作为一个程序猿，写代码可能不需要多久，但是调试代码，修改代码，就真的要命了，这个原因卡了我三天，数据库删除过，phpStudy卸载过，都不能解决问题。真的吐了，程序猿就是不断的在调试代码的路上，或者在调试代码的中，只要调试代码不会出现调整完一个BUG出现一堆BUG就可以烧香拜佛了，哈哈哈。（PS：解决问题后的喜悦感就是舒服）</p>\n<p><font color=\"red\"><strong>今天你的BUG修改完了吗？</strong></font></p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\20210528234502928.jpg\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 1, "time": "2021-05-29 09:30:20", "summary": "目录前言无法连接数据库解决步骤、查看是否启动服务、查看数据库、查看数据库用户名密码是否正确、查看本机用户名密码是否正确、查看数据库配置文件、重启服务结语前言解决方法，最近准备做一个作为后端的博客管理系"}