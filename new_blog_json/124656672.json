{"blogid": "124656672", "writerAge": "码龄1年", "writerBlogNum": "7", "writerCollect": "1", "writerComment": "3", "writerFan": "1", "writerGrade": "1级", "writerIntegral": "78", "writerName": "你连36分都没有", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124656672.jpg", "writerRankTotal": "137725", "writerRankWeekly": "225971", "writerThumb": "6", "writerVisitNum": "3195", "blog_read_count": "1347", "blog_time": "已于 2022-07-21 23:23:18 修改", "blog_title": "Unity实现人物移动（c#语言）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>在实现移动前需要先为人物对象添加一个Rigibody组件 </p>\n<p>点击对象 在检测器（detector）中添加组件 选择 Rigdbody2D，为人物添加Rigidbody 2D组件</p>\n<p><img alt=\"\" height=\"427\" src=\"..\\..\\static\\image\\3da600e0fd284a60b8ac9bbc030bca4b.png\" width=\"375\"/></p>\n<p>然后在文件夹中新建一个C#文件 在资源文件夹中鼠标右键 创建-&gt;c#脚本 双击进入</p>\n<p>在类中声明一个Rigidbody2D 的变量 rb和一个速度变量 speed；</p>\n<p><img alt=\"\" height=\"66\" src=\"..\\..\\static\\image\\3b71416934ab4d1a862984675b64c8af.png\" width=\"304\"/></p>\n<p></p>\n<p>然后创建一个移动的方法</p>\n<p><img alt=\"\" height=\"280\" src=\"..\\..\\static\\image\\73e26949147b4e2f92e97cd94e4b4a28.png\" width=\"792\"/></p>\n<p>其中Input.GetAxis(\"Horizontal\")是取得Unity中名为 Horizontal 的输入，在Unity界面中 选择 编辑-&gt;项目设置-&gt;输入管理器-&gt;水平可以查看</p>\n<p><img alt=\"\" height=\"25\" src=\"..\\..\\static\\image\\3c53e1fda8a8411a8b719ffd7a69ce68.png\" width=\"808\"/></p>\n<p></p>\n<p>当move！=0即当玩家在键盘输入移动指令时，unity将其转化为-1到1直接的float类型的数，根据数值来判断其左右移动（-为左，+为右）</p>\n<p>rb.velocity 是为人物的物理组件提供速度的属性，将其对应x速度改为 move*speed 其中speed为人为定义的速度大小，其y对应的速度保持不变</p>\n<p><img alt=\"\" height=\"113\" src=\"..\\..\\static\\image\\077c4a2761d745db926c119d60afc63d.png\" width=\"659\"/></p>\n<p>raw是用来控制人物朝向的用方法取得-1/1来确定朝向</p>\n<p><img alt=\"\" height=\"30\" src=\"..\\..\\static\\image\\4fafe8e6268c4e57907e3bf7d196d2a9.png\" width=\"595\"/></p>\n<p>当raw！=0时，人物对应的位置进行更改，当raw为-1时，人物的缩放的x轴变为负，即可改变人物朝向</p>\n<p><img alt=\"\" height=\"81\" src=\"..\\..\\static\\image\\4082452b172c4aba931c958600ac5517.png\" width=\"498\"/></p>\n<p></p>\n<p>最后保存，将该脚本拖入到人物中，再将人物的Rgibody2D组件拖入到脚本对应的rb变量中</p>\n<p>源码如下：</p>\n<p>注意：你的脚步名称要和 public class a123中的类名a123匹配</p>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class a123 : MonoBehaviour\n{\n    public Rigidbody2D rb;\n    public float speed = 1;\n\n    // Start is called before the first frame update\n    void Start()\n    {\n\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        movement();\n    }\n    public void movement()\n    {\n        float move, raw;\n        move = Input.GetAxis(\"Horizontal\");//得到Horizontal，unity会把左转-1，右转1（为float类型 -1和1之间）\n        raw = Input.GetAxisRaw(\"Horizontal\");//取得负则为-1，取得正则为1\n\n        //角色移动\n        if (move != 0)\n        {\n            rb.velocity = new Vector2(move * speed, rb.velocity.y);//刚体rb移动\n            //transform.position = new Vector3(transform.position.x + move/10,transform.position.y,transform.position.z);\n\n        }\n        if (raw != 0)\n        {\n            transform.localScale = new Vector3(raw, 1, 1);\n        }\n    }\n}</code></pre>\n<p></p>\n</div>\n</div>", "first_tag": "C#", "cpp": 0, "csharp": 1, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-07-21 23:23:18", "summary": "在实现移动前需要先为人物对象添加一个组件点击对象在检测器中添加组件选择，为人物添加组件然后在文件夹中新建一个文件在资源文件夹中鼠标右键创建脚本双击进入在类中声明一个的变量和一个速度变量；然后创建一个移"}