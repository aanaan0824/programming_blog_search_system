{"blogid": "126683877", "writerAge": "ç é¾„3å¹´", "writerBlogNum": "128", "writerCollect": "237", "writerComment": "294", "writerFan": "424", "writerGrade": "5çº§", "writerIntegral": "2155", "writerName": "çˆ±æ•²ä»£ç çš„æœæ™“å¸…~", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126683877.jpg", "writerRankTotal": "9066", "writerRankWeekly": "4033", "writerThumb": "324", "writerVisitNum": "56606", "blog_read_count": "297", "blog_time": "äºÂ 2022-09-04 01:29:58Â å‘å¸ƒ", "blog_title": "æœ€æ–°ç‰ˆSpringBootæ•´åˆMybatis-plusï¼Œå®ç°å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_1\">å‰è¨€</a></li><li><a href=\"#_6\">ç¬¬ä¸€ï¼šåˆ›å»ºä¸€å¼ æ•°æ®åº“çš„è¡¨ï¼Œå¹¶å¯¼å…¥æ•°æ®ï¼ˆä¸¤ç§æ–¹å¼ï¼‰</a></li><li><ul><li><a href=\"#_7\">ç¬¬ä¸€ç§ï¼šå‘½ä»¤è¡Œæ–¹å¼åˆ›å»º</a></li><li><a href=\"#navicat_36\">ç¬¬äºŒç§ï¼šä½¿ç”¨å¯è§†åŒ–å·¥å…·navicatåˆ›å»º</a></li></ul>\n</li><li><a href=\"#SpringBoot_40\">ç¬¬äºŒæ­¥ï¼šæ–°å»ºSpringBooté¡¹ç›®å·¥ç¨‹ï¼Œå¹¶å‡†å¤‡å¥½æ‰€æœ‰é…ç½®</a></li><li><a href=\"#_88\">ç¬¬ä¸‰ï¼šæ–°å»ºæ–‡ä»¶å¤¹ï¼Œç¡®å®šå¼€å‘çš„ç»“æ„</a></li><li><ul><li><a href=\"#controllerUserController_92\">ä¸€ã€åœ¨controlleræ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªUserControllerç±»ï¼š</a></li><li><a href=\"#serviceUserService_167\">äºŒã€åœ¨serviceæ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªUserServiceç±»</a></li><li><a href=\"#mapperUserMapperBaseMapperUser_249\">ä¸‰ã€åœ¨mapperåŒ…ä¸‹æ–°å»ºä¸€ä¸ªUserMapperæ¥å£ç±»ï¼Œç”¨äºç»§æ‰¿BaseMapper&lt;User&gt;(å®ä½“ç±»)ï¼š</a></li><li><a href=\"#entityUser_261\">å››ã€åœ¨entityæ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªUserå®ä½“ç±»å°±å¥½äº†ï¼Œå­—æ®µåä¸æ•°æ®åº“ç›¸å¯¹åº”ï¼š</a></li></ul>\n</li><li><a href=\"#_280\">ç¬¬å››ï¼šæµ‹è¯•æ–¹æ³•ï¼Œå¹¶è¾“å‡ºç»“æœ</a></li><li><ul><li><a href=\"#_281\">ä¸€ã€æŸ¥è¯¢ç»“æœ</a></li><li><a href=\"#_289\">äºŒã€å¢åŠ ç»“æœ</a></li><li><a href=\"#_294\">ä¸‰ã€æ›´æ–°ç»“æœ</a></li><li><a href=\"#_298\">å››ã€åˆ é™¤ç»“æœ</a></li></ul>\n</li><li><a href=\"#_303\">ç¬¬äº”ï¼šæ¡ä»¶æ„é€ å™¨</a></li><li><a href=\"#_309\">ç¬¬å…­ï¼šæ€»ç»“</a></li></ul>\n</div>\n<p></p>\n<h1><a id=\"_1\"></a>å‰è¨€</h1>\n<blockquote>\n<p>è‡ªä¸Šä¸€ç¯‡å†™äº†<a href=\"https://blog.csdn.net/weixin_45269353/article/details/126443968?spm=1001.2014.3001.5501\">æœ€æ–°ç‰ˆSpringBootæ•´åˆMybatisï¼Œå®ç°å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰</a>ï¼Œè¿™ä¸€ç¯‡å°±å¾—å†™ä¸€å†™<strong>Mybatis-plus</strong>äº†ï¼Œä¸ºä»€ä¹ˆå†™äº†Mybatisä¹‹åå¾—å†™Mybatis-pluså‘¢ï¼Œè¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ–è€…è¿™ä¸¤ç§è°æ›´å¥½å‘¢ï¼Ÿ<br/> å…¶å®ä»–ä»¬ä¿©çœ‹åå­—å°±èƒ½çœ‹å¾—å‡ºæ¥ï¼Œä»–ä»¬éå¸¸ç›¸ä¼¼ã€‚ä¸è¿‡ä¹Ÿç¡®å®æ˜¯çš„ï¼ŒMybatis-pluså…¶å®å°±æ˜¯Mybatisçš„å¢å¼ºç‰ˆï¼ŒMybatis-pluså°±æ˜¯å¼¥è¡¥äº†ä¸€äº›Mybatisçš„ä¸è¶³çš„åœ°æ–¹ï¼ŒMybatis-plusæ–‡æ¡£ä¸Šä¹Ÿè¯´äº†ï¼ŒMybatis-pluså¯¹æ¯”äºMybatisæ¥è¯´ï¼Œåªåšå¢å¼ºï¼Œä¸åšæ”¹å˜ï¼›è®©æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œä¸ç”¨åœ¨å’ŒMybatisä¸€æ ·ï¼Œæ¯æ¬¡åœ¨ç¼–å†™ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™éƒ½éœ€è¦åœ¨DAOå±‚å†™ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨mapper.xmlæ–‡ä»¶ä¸­å†™ä¸€ä¸ªsqlè¯­å¥çš„ï¼Œæ‰€ä»¥Mybatis-pluså¯ä»¥å‡å°‘æˆ‘ä»¬å†™ä»£ç çš„æ•°é‡ï¼Œè®©æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡æ›´é«˜ï¼Œå¼€å‘æ›´ä¾¿æ·ï¼Œéå¸¸çš„niceã€‚ä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ å­¦ä¹ å§ï¼ğŸ˜ğŸ˜ğŸ˜</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\c70fd069e5f1414eb0efc07143000ea7.jpeg\"/></p>\n<h1><a id=\"_6\"></a>ç¬¬ä¸€ï¼šåˆ›å»ºä¸€å¼ æ•°æ®åº“çš„è¡¨ï¼Œå¹¶å¯¼å…¥æ•°æ®ï¼ˆä¸¤ç§æ–¹å¼ï¼‰</h1>\n<h2><a id=\"_7\"></a>ç¬¬ä¸€ç§ï¼šå‘½ä»¤è¡Œæ–¹å¼åˆ›å»º</h2>\n<blockquote>\n<p>åˆ›å»ºä¸€å¼ åä¸ºuserçš„æ•°æ®è¡¨</p>\n</blockquote>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">IF</span> <span class=\"token keyword\">EXISTS</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> <span class=\"token keyword\">user</span>\n<span class=\"token punctuation\">(</span>\n    id <span class=\"token keyword\">BIGINT</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'ä¸»é”®ID'</span><span class=\"token punctuation\">,</span>\n    name <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å§“å'</span><span class=\"token punctuation\">,</span>\n    age <span class=\"token keyword\">INT</span><span class=\"token punctuation\">(</span><span class=\"token number\">11</span><span class=\"token punctuation\">)</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'å¹´é¾„'</span><span class=\"token punctuation\">,</span>\n    email <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">COMMENT</span> <span class=\"token string\">'é‚®ç®±'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n<blockquote>\n<p>åˆ›å»ºå¥½userè¡¨ä¹‹åï¼Œå¯¼å…¥æ•°æ®</p>\n</blockquote>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> <span class=\"token keyword\">user</span> <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Jone'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test1@baomidou.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Jack'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test2@baomidou.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Tom'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test3@baomidou.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Sandy'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test4@baomidou.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Billie'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test5@baomidou.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n</code></pre>\n<h2><a id=\"navicat_36\"></a>ç¬¬äºŒç§ï¼šä½¿ç”¨å¯è§†åŒ–å·¥å…·navicatåˆ›å»º</h2>\n<blockquote>\n<p>å³é”®ç‚¹å‡»æ•°æ®åº“ï¼Œæ–°å»ºè¡¨å³å¯ <strong>ï¼ˆæ— è®ºæ˜¯ç”¨å‘½ä»¤è¡Œè¿˜æ˜¯ç”¨å¯è§†åŒ–å·¥å…·è®°å¾—åç»­éƒ½è¦å‹¾é€‰ä¸»é”®è‡ªåŠ¨é€’å¢ï¼‰</strong></p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\2ca6b6823f5342d2842dc13f4ef9ed01.png\"/></p>\n<h1><a id=\"SpringBoot_40\"></a>ç¬¬äºŒæ­¥ï¼šæ–°å»ºSpringBooté¡¹ç›®å·¥ç¨‹ï¼Œå¹¶å‡†å¤‡å¥½æ‰€æœ‰é…ç½®</h1>\n<blockquote>\n<p>ç‚¹å‡»IDEAå·¦ä¸Šè§’çš„çš„Fileé€‰é¡¹ï¼Œç„¶åæ–°å»ºprojectå³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\78de2c9eab494003b829813e5034af6d.png\"/></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\73248c93b2e74235b3a3f49444204040.png\"/></p>\n<blockquote>\n<p>åœ¨pom.xmlæ–‡ä»¶ä¸‹å¼•å…¥Mybatis-plusçš„ä¾èµ–</p>\n</blockquote>\n<pre><code class=\"prism language-xml\">     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>com.baomidou<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>mybatis-plus-boot-starter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">&gt;</span></span>3.5.2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre>\n<blockquote>\n<p>æµ‹è¯•æ•°æ®åº“æ˜¯å¦èƒ½è¿æ¥æˆåŠŸï¼Œç¬¬äºŒå¼ å›¾çš„çº¢è‰²æ¡†ä¾æ¬¡ä»£è¡¨ï¼šä¸Šå›¾åˆ›å»ºçš„è¡¨åï¼ˆuserï¼‰ã€ç”¨æˆ·åã€ç”¨æˆ·å¯†ç ã€æ•°æ®åº“åï¼Œå¡«å¥½ä¹‹åç‚¹å‡»ç®­å¤´æŒ‡å‘çš„Test Connectionï¼Œåœ¨ç‚¹å‡»OKå³å¯</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\ecfb71d0251d4fbe8e4a6a1a0b658105.png\"/></p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\7e7e4e32838e4fd8a1eb5b61d7629ef0.png\"/></p>\n<blockquote>\n<p><strong>é…ç½®application.ymlæ–‡ä»¶</strong>ï¼ˆå¦‚æœåˆå§‹æ˜¯application.propertiesæ–‡ä»¶å¯ä»¥å°†åç¼€åpropertiesæ”¹ä¸ºymlï¼‰</p>\n</blockquote>\n<pre><code class=\"prism language-xml\">server:\n  port: 8080  # ç«¯å£å·\n\nspring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/æ•°æ®åº“å?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai\n    username: root  # æ•°æ®åº“ç”¨æˆ·å\n    password: 123456  # æ•°æ®åº“å¯†ç \n\n# æ‰“å°Mybatis-plusçš„æ—¥å¿—\n\nmybatis-plus:\n  configuration:\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n</code></pre>\n<blockquote>\n<p>åœ¨SpringBootApplicationåŠ ä¸€ä¸ªMapperScanæ³¨è§£ï¼Œæ‰«æçš„åŒ…çš„è·¯å¾„æ˜¯åˆ›å»ºçš„æ¥å£ç±»ï¼ˆæˆ‘åˆ›å»ºçš„æ¥å£ç±»åœ¨mapperåŒ…ä¸‹ï¼Œæ‰€ä»¥æˆ‘æ‰«æçš„æ˜¯mapperæ–‡ä»¶å¤¹ï¼Œå¦‚æœåˆ›å»ºçš„æ˜¯daoå¯ä»¥æ‰«ædaoæ–‡ä»¶å¤¹ï¼‰</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\14a3176c7d6946f19d2af5dae2548546.png\"/></p>\n<h1><a id=\"_88\"></a>ç¬¬ä¸‰ï¼šæ–°å»ºæ–‡ä»¶å¤¹ï¼Œç¡®å®šå¼€å‘çš„ç»“æ„</h1>\n<blockquote>\n<p>ä»ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬çŸ¥é“Mybatisçš„ç»“æ„æ˜¯ï¼šEntityï¼ˆå®ä½“ç±»ï¼‰ã€Daoã€Serviceã€Controllerï¼Œæ•°æ®çš„æµå‘æ˜¯ï¼Œä»Controllerå±‚æ¥æ”¶ï¼Œå†è°ƒç”¨Serviceçš„æ–¹æ³•ï¼Œè€ŒServiceå±‚è´Ÿè´£å®ç°Daoæ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ï¼ŒDaoä¸Mapper.xmlæ–‡ä»¶æ˜¯æœ‰å…³è”çš„ï¼ŒDaoæ¥å£ä¸­çš„æ–¹æ³•åä¸Mapper,xmlæ–‡ä»¶çš„æ–¹æ³•åæƒ³å¯¹åº”ï¼Œè€Œå‚æ•°æ–¹é¢åˆ™æ˜¯Entityå®ä½“ç±»æƒ³å¯¹åº”ï¼Œæœ€åæ•°æ®è¿”å›æ˜¯è¿™æ ·çš„ï¼šEntity-&gt;Daoï¼ˆä¸Mapper.xmlç›¸ç»“åˆï¼‰-&gt;Service-&gt;Controllerï¼›è€ŒMybatis-plusåˆ™æ˜¯å°†Daoå’ŒMapper.xmlç›¸ç»“åˆï¼ˆå¯ä»¥åˆ›å»ºmapperã€daoï¼‰ï¼Œä¸ç”¨å†å†™SQLï¼Œåªéœ€è¦åœ¨æ¥å£å±‚ç»§æ‰¿ä¸€ä¸ªç±»å°±å¯ä»¥äº†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹åŒ…çš„ç»“æ„(âÂ´â—¡`â)</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\0115672c2ce344b984b3a75a9c9205f7.png\"/></p>\n<h2><a id=\"controllerUserController_92\"></a>ä¸€ã€åœ¨controlleræ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªUserControllerç±»ï¼š</h2>\n<blockquote>\n<p>Controllerå±‚åªåšä¸€ä¸ªæ¥æ”¶å’Œä¸€ä¸ªè¿”å›çš„ä½œç”¨ï¼Œå…·ä½“çš„ä¸šåŠ¡å®ç°è¿˜å¾—çœ‹Serviceå±‚</p>\n</blockquote>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>mp_test<span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">User</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>mp_test<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserService</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>web<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/user\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserController</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserService</span> userService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/queryUser\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">querUser</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> userTO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">queryUser</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æŸ¥è¯¢å•ä¸ªç”¨æˆ·</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/queryUserById\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">User</span> <span class=\"token function\">queryUserById</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">queryUserById</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æŸ¥è¯¢å¤šä¸ªç”¨æˆ·</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/queryUserBatchIds\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserBatchIds</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">queryUserBatchIds</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æ¡ä»¶æŸ¥è¯¢</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/queryUserByMap\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserByMap</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">queryUserByMap</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//åˆ†é¡µæŸ¥è¯¢</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/queryUserPage\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserPage</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">Long</span> current<span class=\"token punctuation\">,</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">Long</span> size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">queryUserPage</span><span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">,</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æ¨¡ç³ŠæŸ¥è¯¢</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/queryUserLike\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">&gt;</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserLike</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">queryUserLike</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//å¢åŠ ç”¨æˆ·</span>\n    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/addUser\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">addUser</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">addUser</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æ›´æ–°ç”¨æˆ·</span>\n    <span class=\"token annotation punctuation\">@PutMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/updateUser\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//åˆ é™¤ç”¨æˆ·</span>\n    <span class=\"token annotation punctuation\">@DeleteMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/deleteUser\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">deleteUser</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userService<span class=\"token punctuation\">.</span><span class=\"token function\">deleteUser</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h2><a id=\"serviceUserService_167\"></a>äºŒã€åœ¨serviceæ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªUserServiceç±»</h2>\n<blockquote>\n<p>Serviceå±‚ä¸»è¦æ˜¯å¤„ç†ä¸šåŠ¡çš„ï¼Œä¸€äº›é€»è¾‘åˆ¤æ–­å’Œä¸€äº›æ•°æ®æ£€éªŒéƒ½æ˜¯åœ¨è¿™é‡Œé¢å®Œæˆçš„ï¼ŒMybatis-pluså¾ˆå¤šçš„æ–¹æ³•éƒ½å·²ç»å®ç°äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çŸ¥é“ä½¿ç”¨çš„æ–¹æ³•çš„ä¼ å…¥å‚æ•°å’Œä¼ å‡ºå‚æ•°åŸºæœ¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>baomidou<span class=\"token punctuation\">.</span>mybatisplus<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>conditions<span class=\"token punctuation\">.</span>query<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">QueryWrapper</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>baomidou<span class=\"token punctuation\">.</span>mybatisplus<span class=\"token punctuation\">.</span>extension<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span>pagination<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Page</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>mp_test<span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">User</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>mp_test<span class=\"token punctuation\">.</span>mapper<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">UserMapper</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>beans<span class=\"token punctuation\">.</span>factory<span class=\"token punctuation\">.</span>annotation<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Autowired</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Service</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HashMap</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Service</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UserService\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserService</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">UserMapper</span> userMapper<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//ç”¨æˆ·å…¨éƒ¨æŸ¥è¯¢ï¼Œæ—¢ç„¶æ˜¯å…¨éƒ¨ç”¨æˆ·ï¼Œå°±ä¸åº”è¾“å…¥å…·ä½“æ¡ä»¶äº†</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUser</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">selectList</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//å•ä¸ªç”¨æˆ·æŸ¥è¯¢ï¼Œè¿™é‡Œçš„ä¼ å…¥å‚æ•°æ˜¯ç”¨æˆ·çš„IDå·ï¼Œæˆ‘ç”¨äº†å®ä½“ï¼Œå®ä½“ä¸­çš„idå±æ€§æ˜¯æˆ‘ä¼ å…¥çš„IDå·ï¼Œè¿™é‡Œå¯ä»¥è‡ªå·±æ”¹å…¥å‚çš„</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">User</span> <span class=\"token function\">queryUserById</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//å•ä¸ªç”¨æˆ·æŸ¥è¯¢</span>\n        <span class=\"token class-name\">User</span> list <span class=\"token operator\">=</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">selectById</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//å¤šä¸ªç”¨æˆ·æŸ¥è¯¢ï¼Œå¤šä¸ªç”¨æˆ·å’Œä¸Šé¢çš„ä¹Ÿä¸€æ ·ï¼Œè‡ªå·±å¯ä»¥æ›´æ”¹å…¥å‚çš„</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserBatchIds</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> users<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//(å¤šç”¨æˆ·æŸ¥è¯¢)</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> list1 <span class=\"token operator\">=</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">selectBatchIds</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> list1<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token comment\">//æ¡ä»¶æŸ¥è¯¢ï¼Œéœ€è¦ç”¨Mapé›†åˆï¼Œkeyå¯¹åº”æ•°æ®åº“çš„å­—æ®µï¼Œè€Œvalueåˆ™å¯¹åº”æ•°æ®åº“å­—æ®µä¸­çš„å€¼ï¼Œå¾ˆå¥½ç†è§£</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserByMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">&gt;</span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæ¯”å¦‚æˆ‘ä»¬æŸ¥è¯¢å§“åæ˜¯Jackï¼Œè¿˜æœ‰å¹´é¾„æ˜¯20å²çš„ç”¨æˆ·ä¿¡æ¯</span>\n        map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">selectByMap</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//åˆ†é¡µæŸ¥è¯¢ï¼Œè¿™ä¸€å—ä¸€å®šè¦å¼•å…¥Mybatis-plusçš„åˆ†é¡µæ’ä»¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘çš„MybatisPlusConfigç±»ï¼Œä¸ç„¶æ²¡ç”¨æ•ˆæœ</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> current<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> size<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">Page</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Page</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span>current<span class=\"token punctuation\">,</span> size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">selectPage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> list <span class=\"token operator\">=</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">getRecords</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> list<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æ¨¡ç³ŠæŸ¥è¯¢ï¼Œè¿™é‡Œæ¡ä»¶æ„é€ å™¨æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹ï¼ŒQueryWrapperå¯ä»¥å°†è‡ªå·±æƒ³è¦çš„æ¡ä»¶æ·»åŠ è¿›å»è¿›è¡ŒæŸ¥è¯¢</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Map</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">&gt;</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token function\">queryUserLike</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">QueryWrapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> queryWrapper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryWrapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        queryWrapper<span class=\"token punctuation\">.</span><span class=\"token function\">like</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"o\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">like</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">selectMaps</span><span class=\"token punctuation\">(</span>queryWrapper<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//å¢åŠ ç”¨æˆ·,è¿™é‡Œè¦è®¾ç½®ä¸»é”®è‡ªå¢ï¼Œè€Œä¸”è¿™é‡Œçš„IDç”Ÿæˆç”¨äº†ä¸€ç§é›ªèŠ±ç®—æ³•ï¼Œæˆ‘è§‰å¾—å¾ˆå¥½ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»äº†è§£</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">addUser</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æ ¹æ®ä¼ å…¥çš„ç”¨æˆ·IDæ›´æ–°ç”¨æˆ·</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">updateById</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">//æ ¹æ®ä¼ å…¥çš„ç”¨æˆ·IDåˆ é™¤ç”¨æˆ·</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">deleteUser</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span> userMapper<span class=\"token punctuation\">.</span><span class=\"token function\">deleteById</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<blockquote>\n<h2><a id=\"mapperUserMapperBaseMapperUser_249\"></a>ä¸‰ã€åœ¨mapperåŒ…ä¸‹æ–°å»ºä¸€ä¸ªUserMapperæ¥å£ç±»ï¼Œç”¨äºç»§æ‰¿BaseMapper(å®ä½“ç±»)ï¼š</h2>\n</blockquote>\n<pre><code class=\"prism language-java\"><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>baomidou<span class=\"token punctuation\">.</span>mybatisplus<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>mapper<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">BaseMapper</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>example<span class=\"token punctuation\">.</span>mp_test<span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">User</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>stereotype<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Repository</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Repository</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">UserMapper</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">BaseMapper</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">&gt;</span></span> <span class=\"token punctuation\">{<!-- --></span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<blockquote>\n<h2><a id=\"entityUser_261\"></a>å››ã€åœ¨entityæ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªUserå®ä½“ç±»å°±å¥½äº†ï¼Œå­—æ®µåä¸æ•°æ®åº“ç›¸å¯¹åº”ï¼š</h2>\n</blockquote>\n<pre><code class=\"prism language-java\">\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">lombok<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">AllArgsConstructor</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">lombok<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Data</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token namespace\">lombok<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">NoArgsConstructor</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Data</span>\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Integer</span> age<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<h1><a id=\"_280\"></a>ç¬¬å››ï¼šæµ‹è¯•æ–¹æ³•ï¼Œå¹¶è¾“å‡ºç»“æœ</h1>\n<blockquote>\n<h2><a id=\"_281\"></a>ä¸€ã€æŸ¥è¯¢ç»“æœ</h2>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\90ac3592c6854854b5e8fe7a7afaddec.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\1330702348bf4e4d95f21f7f9356633c.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\f302d17ada8d48c7a3d78160dc4fd79c.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\60195f3b2fba406a828669cd63f06101.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\c421af5d2abb423fa46cfea5e5000778.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\62cfdce5a8df45c4bc4b6fdb46acfabb.png\"/></p>\n<blockquote>\n<h2><a id=\"_289\"></a>äºŒã€å¢åŠ ç»“æœ</h2>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\a47d168a81444b2f88441de971b28989.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\165121eb9f6f4433b67e8f7474029136.png\"/></p>\n<blockquote>\n<h2><a id=\"_294\"></a>ä¸‰ã€æ›´æ–°ç»“æœ</h2>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\58b67124a46c4b479f4d080088e68932.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\6f824a9cfc694869a01042fbf20602dc.png\"/></p>\n<blockquote>\n<h2><a id=\"_298\"></a>å››ã€åˆ é™¤ç»“æœ</h2>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\3008cd6ade2747779762634f55551be2.png\"/><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\e8671f256ffe4407b4b8f3d1e9220c5a.png\"/></p>\n<h1><a id=\"_303\"></a>ç¬¬äº”ï¼šæ¡ä»¶æ„é€ å™¨</h1>\n<blockquote>\n<p>Mybatisæä¾›äº†è°ƒä»·æ„é€ å™¨ï¼Œè¿™ä¸€å—å¾ˆé‡è¦ï¼Œæˆ‘è§‰å¾—è¿™ä¸€å—å¯ä»¥åŠ¨æ€è°ƒæ•´ä½ éœ€è¦çš„SQLæ¡ä»¶ï¼Œæ¯”å¦‚ä½ æŸ¥è¯¢ç”¨æˆ·æ—¶ï¼Œä½ æ˜¯å¤šæ¡ä»¶çš„å°±å¯ä»¥ç”¨æ¡ä»¶æ„é€ å™¨è¿½åŠ æ¡ä»¶ï¼Œå¦‚ä¸‹æ˜¯æŸ¥è¯¢ä¸€ä¸ªnameä¸ä¸ºç©ºã€emailé‚®ç®±ç­‰äº123@qq.comã€å¹´é¾„å°äº30çš„ç”¨æˆ·ï¼š</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\018a74e426f64a60b71139aa68169e67.png\"/><br/> æ ¹æ®æ¡ä»¶æ„é€ å™¨æˆ‘ä»¬å¯ä»¥æ›´å¤šçš„å»å®ç°è‡ªå·±æƒ³è¦içš„éœ€æ±‚ï¼Œæˆ‘è§‰å¾—è¿™æ˜¯Mybatis-pluséå¸¸å¥½çš„ä¸€ä¸ªåœ°æ–¹ï¼Œéœ€è¦å»æŒæ¡ğŸ˜</p>\n<h1><a id=\"_309\"></a>ç¬¬å…­ï¼šæ€»ç»“</h1>\n<blockquote>\n<p>å†™åˆ°è¿™é‡Œå·²ç»æ˜¯æ·±å¤œä¸€ç‚¹åŠäº†ï¼Œä¸»è¦æ˜¯ç®€å•çš„å¯¹Mybatis-plusåšä¸€ä¸ªç®€å•çš„å…¥é—¨ï¼Œå¦‚æœéœ€è¦è¯¦ç»†å­¦ä¹ çš„è¯ï¼Œè¿˜æ˜¯éœ€è¦å»å‚è€ƒ<a href=\"https://baomidou.com/pages/24112f/#%E7%89%B9%E6%80%A7\">Mybatis-plusçš„å®˜æ–¹æ–‡æ¡£</a>ï¼Œæ–‡æ¡£ä¸­å†™çš„éå¸¸è¯¦ç»†ï¼Œå»ºè®®å¤§å®¶å¯ä»¥ç‚¹è¿›ä¸€ä¸ªç±»å»çœ‹çœ‹è¿™ä¸ªæ–¹æ³•æ˜¯æ€ä¹ˆç”¨çš„ï¼Œåˆå­¦é˜¶æ®µä¼šç”¨å°±okäº†ã€‚å­¦äº†Mybatis-plusä¹‹åï¼Œåç»­å¯èƒ½ä¼šç”¨Mybatis-plusè¿›è¡Œé¡¹ç›®çš„å¼€å‘äº†ï¼Œæ¯•ç«Ÿè¿™ä¸ªå†™å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰éå¸¸å¿«ï¼Œæ¥ä¸‹æ¥ä¼šæ›´æ–°ä¸€ä¸‹å‰ç«¯çš„ä¸€äº›å†…å®¹ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©åšä¸»è®°å½•ä¸€ä¸‹ï¼Œå¿˜äº†çš„æ—¶å€™å¯ä»¥çœ‹çœ‹ã€‚<br/> å¦‚æœè¿™ç¯‡æ–‡ç« å¸®åŠ©åˆ°äº†ä½ ï¼Œå¯ä»¥ç»™ä¸ªå°å°çš„èµï¼Œåç»­ä¼šç»§ç»­æ›´æ–°ğŸ˜ğŸ˜ğŸ˜</p>\n</blockquote>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/9b3f0f20998e4953b89191ce7ffa6508.gif#pic_center\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 1, "php": 0, "time": "2022-09-04 01:29:58", "summary": "æ–‡ç« ç›®å½•å‰è¨€ç¬¬ä¸€ï¼šåˆ›å»ºä¸€å¼ æ•°æ®åº“çš„è¡¨ï¼Œå¹¶å¯¼å…¥æ•°æ®ä¸¤ç§æ–¹å¼ç¬¬ä¸€ç§ï¼šå‘½ä»¤è¡Œæ–¹å¼åˆ›å»ºç¬¬äºŒç§ï¼šä½¿ç”¨å¯è§†åŒ–å·¥å…·åˆ›å»ºç¬¬äºŒæ­¥ï¼šæ–°å»ºé¡¹ç›®å·¥ç¨‹ï¼Œå¹¶å‡†å¤‡å¥½æ‰€æœ‰é…ç½®ç¬¬ä¸‰ï¼šæ–°å»ºæ–‡ä»¶å¤¹ï¼Œç¡®å®šå¼€å‘çš„ç»“æ„ä¸€ã€åœ¨æ–‡ä»¶å¤¹æ–°å»ºä¸€ä¸ªç±»ï¼šäºŒ"}