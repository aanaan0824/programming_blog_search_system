{"blogid": "126661400", "writerAge": "码龄3年", "writerBlogNum": "1013", "writerCollect": "3454", "writerComment": "272", "writerFan": "45014", "writerGrade": "7级", "writerIntegral": "14608", "writerName": "我不是萧海哇~~~~", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126661400.jpg", "writerRankTotal": "672", "writerRankWeekly": "344", "writerThumb": "558", "writerVisitNum": "1233446", "blog_read_count": "357", "blog_time": "于 2022-09-02 13:59:01 发布", "blog_title": "list 列表控件", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>list 控件简单分解就是一个背景页面加上顺序排列的按钮组成，按钮里面 可以包含一个图标和文本，当然，按钮的布局并不是固定的，库也允许用户重 新定义按钮的布局。按钮在添加后如果总大小超过 list 控件大小，可以上下滚 动。list 控件的应用非常广泛 ，最常见的就是微信界面，可以把页面当成是一 个背景，每一个联系人就是一个按钮控件内包含了头像以及用户名。 基于 list 控件模拟微信界面：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\5245457e970c4d49b5e165eef5ff2fc2.png\"/></p>\n<h1><a id=\"list__3\"></a>list 控件基础知识</h1>\n<h2><a id=\"_5\"></a>添加按钮</h2>\n<p>在创建控件后，是一个空的 list，我们需要往 list 添加 btn 才是一个完整 的 list，函数 lv_list_add_btn(list, img_src, txt) 该函数会返回所添加的 btn 的指针，方便我们对 btn 控件进行其他操作。 在添加按钮的时候，我们可以指定按钮所使用的图像和文本，也可以使用 内置的符号字体作为图像，例如：</p>\n<pre><code>lv_list_add_btn(list, LV_SYMBOL_FILE, \"file\"); /* 添加按钮到 list,符号字体作为图标 */ \nlv_list_add_btn(list, &amp;close_img, \"close\"); /* 添加按钮到 list,图像源作为图标 */\n</code></pre>\n<p>如果我们不想添加文本，直接输入 NULL 即可。 按钮的宽度会根据 list 的宽度设置为最大，按钮的高度会根据图标和文本， 以及按钮样式的填充部分进行自动调整。 添加 btn 会指定图标和文本，本质上是一个 img 控件和 label 控件，我们 可以获取这个 img 控件和 label 控件。函数 lv_list_get_btn_label(list_btn) 可以获取按钮的 label 控件指针，函数 lv_list_get_btn_img(list_btn) 可以 获取按钮的 img 控件指针。也可以单独获取按钮的文本，函数 lv_list_get_bt n_text(list_btn) 获取按钮的 label 和 img 的作用很大，在很多时候，我们往往需要修改 la bel 的一些参数，比如中文字体的显示，我们就需要获取 label 控件的指针，然 后修改其样式和尺寸。</p>\n<h1><a id=\"_14\"></a>删除按钮</h1>\n<p>可以使用函数 lv_list_remove(list, index) 根据索引来删除按钮，删除 成功返回 true，index 的值必须大于等于 0，且必须小于按钮的数量，按钮的数 量可以通过函数 lv_list_get_size(list) 获取。也可以清除 list 控件上的所 有按钮，函数 lv_list_clean(list)</p>\n<h1><a id=\"_18\"></a>获取按钮</h1>\n<p>在创建按钮的时候会返回按钮控件的指针，那么在创建多个按钮以后，我们一样可以获取每个按钮的指针。 函数 lv_list_get_prev_btn(list, prev_btn) 和函数 lv_list_get_nex t_btn(list, prev_btn) 可以依次获取按钮控件的指针，如果将第二个参数设 置为 NULL，则将从顶部或者底部开始获取按钮。</p>\n<h1><a id=\"_21\"></a>手动导航</h1>\n<p>可以使用函数 lv_list_up(list) 和 lv_list_down(list) 手动移动按 钮，也可以直接将焦点放在按钮上，函数 lv_list_focus(btn, LV_ANIM_ON/O FF) 可以选择是否打开动画。上下移动焦点时的动画时间也可以进行修改，函 数 lv_list_set_anim_time(list, anim_time) 动画时间设置为 0 表示没有动 画。</p>\n<h1><a id=\"_26\"></a>边缘闪烁</h1>\n<p>当 list 滑动到最顶部或者最底部的时候，可以显示一个类似圆圈的动态效 果，跟智能手机的效果类似，通过函数 lv_list_set_edge_flash(list, en) 启用或者关闭该功能。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\93cdef689916474e8f37dda2a6169ad3.png\"/></p>\n<h1><a id=\"_30\"></a>滚动传播</h1>\n<p>list 控件内的按钮是可以滑动的，如果 list 是创建在 page 上面，当我们 滑动 list 到顶部或者底部的时候，就可以将滑动传播到父窗口，这样就可以带 动父窗口进行滚动。我们需要使用函数 lv_list_set_scroll_propagation(lis t, true) 来使能该功能。</p>\n<h1><a id=\"_33\"></a>单选模式</h1>\n<p>如果按钮使能了 toggle，可以使用函数 lv_list_set_single_mode(lis t, true) 来确保只有一个按钮处于 toggle 状态。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\31b35e3a5b6d450ea0c3854430c8e3c8.png\"/></p>\n<h1><a id=\"_37\"></a>选中按钮</h1>\n<p>可以使用函数 lv_list_set_btn_selected(list, btn) 选中某个按钮， 选中后的按钮处于 LV_BTN_STATE_PR/TG_PR 状态。</p>\n<h1><a id=\"_41\"></a>滚动条</h1>\n<p>当添加的按钮超过 list 的尺寸后，就会启用滚动条，可以利用函数 lv_li st_set_sb_mode(list,mode) 来设置滚动条的模式</p>\n<h1><a id=\"_45\"></a>样式</h1>\n<p>list 控件的样式使用以下函数进行修改： lv_list_set_style(list, LV_LIST_STYLE_…, &amp;style) 可用的样式类型：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0a29f1dbf73f410daae845dcd6b9c886.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\75167db8e98f4adea5e4ce0fbc5c4063.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-02 13:59:01", "summary": "控件简单分解就是一个背景页面加上顺序排列的按钮组成，按钮里面可以包含一个图标和文本，当然，按钮的布局并不是固定的，库也允许用户重新定义按钮的布局。按钮在添加后如果总大小超过控件大小，可以上下滚动。控件"}