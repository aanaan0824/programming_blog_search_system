{"blogid": "121605631", "writerAge": "码龄9年", "writerBlogNum": "32", "writerCollect": "61", "writerComment": "17", "writerFan": "11", "writerGrade": "2级", "writerIntegral": "391", "writerName": "花落花开99", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_121605631.jpg", "writerRankTotal": "104634", "writerRankWeekly": "135680", "writerThumb": "15", "writerVisitNum": "31830", "blog_read_count": "1354", "blog_time": "于 2021-11-29 11:19:04 发布", "blog_title": "在 Windows 10 系统编译 RustDesk", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><strong>环境信息</strong></p>\n<p>操作系统：Windows 10 LTSC 2019</p>\n<p>提前安装 <a href=\"https://www.rust-lang.org/tools/install\">Rust</a> 和 <a href=\"https://git-scm.com/downloads\">Git</a></p>\n<h2><a id=\"_LLVM_6\"></a>安装 LLVM</h2>\n<p>在 <a href=\"https://releases.llvm.org/download.html\">LLVM Download Page</a> 页面找到最新版本，跳转到对应的 GitHub 页面下载 Windows 版安装程序。</p>\n<p><img alt=\"image20211015145057j5mc758.png\" src=\"..\\..\\static\\image\\9fd261c42c60332e4254b4f4e331fe7e.png\"/></p>\n<p><img alt=\"image20211015145241zmsxuvo.png\" src=\"..\\..\\static\\image\\32b6eede26b380f11e357378d8403546.png\"/></p>\n<p><strong>双击安装</strong></p>\n<p>记得将 LLVM 添加到系统环境变量 PATH。</p>\n<p><img alt=\"2021101309405620211016095208wm6aori.png\" src=\"..\\..\\static\\image\\25395e6f9108642047670385f5cc700c.png\"/></p>\n<h2><a id=\"_Vcpkg_20\"></a>安装 Vcpkg</h2>\n<h3><a id=\"_22\"></a>下载并安装</h3>\n<p>在 C 盘创建 dev 文件夹，并下载 vcpkg，然后运行 bootstrap-vcpkg.bat 脚本。</p>\n<pre><code class=\"prism language-shell\"><span class=\"token function\">mkdir</span> dev\n<span class=\"token builtin class-name\">cd</span> dev\n<span class=\"token function\">git</span> clone https://github.com/microsoft/vcpkg\n./vcpkg/bootstrap-vcpkg.bat\n</code></pre>\n<p><img alt=\"2021101518040820211015180431yp6odvy.png\" src=\"..\\..\\static\\image\\d23712e57c3bb5e0b1cdb9a8f4f74aed.png\"/></p>\n<p><strong>遇到的问题</strong>：下载失败</p>\n<p><img alt=\"202110151717082021101608313053tpek4.png\" src=\"..\\..\\static\\image\\931f823b0692841f3285d475633d4c01.png\"/></p>\n<p><strong>解决方法</strong>：设置代理</p>\n<pre><code class=\"prism language-shell\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">https_proxy</span><span class=\"token operator\">=</span>IP:Port\n</code></pre>\n<p>其中，<code>IP:Port</code> 替换为自己的代理 IP 和 端口号。</p>\n<h3><a id=\"_47\"></a>配置环境变量</h3>\n<p>安装成功后，新建环境变量 <code>VCPKG_ROOT</code>，将它的值设置为 Vcpkg 的安装目录。并将<code>VCPKG_ROOT</code> 的值添加到 Path 中。</p>\n<p><img alt=\"2021101609573020211016095803ixru8fz.png\" src=\"..\\..\\static\\image\\616aa110c1a2ac46f7cf883d76db2e14.png\"/></p>\n<h2><a id=\"_Rustdesk__53\"></a>安装 Rustdesk 所需的库</h2>\n<p>使用 Vcpkg 安装 Rustdesk 所需的库：</p>\n<pre><code class=\"prism language-shell\">vcpkg <span class=\"token function\">install</span> libvpx:x64-windows-static libyuv:x64-windows-static opus:x64-windows-static\n</code></pre>\n<p><img alt=\"2021101610145620211016102202o6fmy0m.png\" src=\"..\\..\\static\\image\\17ea9816382589349ff9be22ecf6178d.png\"/></p>\n<p><strong>遇到的问题</strong>：libyuv:x64-windows-static 安装失败</p>\n<p><img alt=\"2021101611314520211016114714n5fxoz4.png\" src=\"..\\..\\static\\image\\e803806b1f9283d7b66d0c0913db2966.png\"/></p>\n<p><strong>解决方法</strong>：给 Git 配置代理</p>\n<pre><code class=\"prism language-shell\"><span class=\"token function\">git</span> config --global https.proxy IP:Port\n</code></pre>\n<p>其中，<code>IP:Port</code> 替换为自己的代理 IP 和 端口号。</p>\n<h2><a id=\"_75\"></a>编译运行</h2>\n<pre><code class=\"prism language-shell\"><span class=\"token function\">git</span> clone https://github.com/rustdesk/rustdesk\n<span class=\"token builtin class-name\">cd</span> rustdesk\n\n<span class=\"token comment\"># 下载 sciter 到当前目录，也可以手动下载并放到 rustdesk 目录</span>\n<span class=\"token function\">curl</span> -O https://raw.githubusercontent.com/c-smile/sciter-sdk/master/bin.win/x64/sciter.dll\n\n<span class=\"token comment\"># 运行</span>\ncargo run\n</code></pre>\n<p><img alt=\"2021101612011920211016120133cxj0340.png\" src=\"..\\..\\static\\image\\e46fd632f28e60ee2ae736cbfc721399.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2021-11-29 11:19:04", "summary": "环境信息操作系统：提前安装和安装在页面找到最新版本，跳转到对应的页面下载版安装程序。双击安装记得将添加到系统环境变量。安装下载并安装在盘创建文件夹，并下载，然后运行脚本。遇到的问题：下载失败解决方法："}