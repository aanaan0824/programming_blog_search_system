{"blogid": "124473862", "writerAge": "码龄6年", "writerBlogNum": "10", "writerCollect": "3", "writerComment": "0", "writerFan": "1", "writerGrade": "1级", "writerIntegral": "90", "writerName": "fjx0923", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124473862.jpg", "writerRankTotal": "140562", "writerRankWeekly": "341232", "writerThumb": "0", "writerVisitNum": "2511", "blog_read_count": "1652", "blog_time": "于 2022-04-28 15:07:54 发布", "blog_title": "常用JS正则验证", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<ul><li> <p>匹配中文字符的正则表达式：<code>[\\u4e00-\\u9fa5]</code></p> </li><li> <p>匹配双字节字符(包括汉字在内)：<code>[^\\x00-\\xff]</code><br/> 评注：可以用来计算字符串的长度（一个双字节字符长度计2，ASCII字符计1）</p> </li><li> <p>匹配空白行的正则表达式：<code>\\n\\s*\\r</code><br/> 评注：可以用来删除空白行</p> </li><li> <p>匹配HTML标记的正则表达式：<code>&lt;(\\S*?)[^&gt;]*&gt;.*?&lt;/\\1&gt;|&lt;.*? /&gt;</code><br/> 评注：网上流传的版本太糟糕，上面这个也仅仅能匹配部分，对于复杂的嵌套标记依旧无能为力</p> </li><li> <p>匹配首尾空白字符的正则表达式：<code>^\\s*|\\s*$</code><br/> 评注：可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式</p> </li><li> <p>匹配Email地址的正则表达式：<code>\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*</code></p> </li><li> <p>匹配网址URL的正则表达式：<code>[a-zA-z]+://[^\\s]*</code></p> </li><li> <p>匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：<code>^[a-zA-Z][a-zA-Z0-9_]{4,15}$</code></p> </li><li> <p>匹配国内电话号码：<code>\\d{3}-\\d{8}|\\d{4}-\\d{7}</code><br/> 评注：匹配形式如 0511-4405222 或 021-87888822</p> </li><li> <p>匹配腾讯QQ号：<code>[1-9][0-9]{4,}</code><br/> 评注：腾讯QQ号从10000开始</p> </li><li> <p>匹配中国邮政编码：<code>[1-9]\\d{5}(?!\\d)</code><br/> 评注：中国邮政编码为6位数字</p> </li><li> <p>匹配身份证：<code>\\d{15}|\\d{18}</code><br/> 评注：中国的身份证为15位或18位</p> </li><li> <p>手机号码: <code> /^0{0,1}(13[0-9]|15[7-9]|153|156|18[7-9])[0-9]{8}$/</code></p> </li><li> <p>区号+座机号码+分机号码：<code>regexp=\"^(0[0-9]{2,3}\\-)?([2-9][0-9]{6,7})+(\\-[0-9]{1,4})?$\"</code></p> </li><li> <p>手机(中国移动手机号码)：<code>regexp=\"^(([Math Processing Error])|(\\d{3}\\-))?13[456789]\\d{8}|15[89]\\d{8}\"</code></p> </li><li> <p>所有手机号码：<code>regexp=\"^(([Math Processing Error])|(\\d{3}\\-))?13[0-9]\\d{8}|15[89]\\d{8}\"</code>(新添加了158,159两个号段)</p> </li><li> <p>匹配ip地址：<code>\\d+\\.\\d+\\.\\d+\\.\\d+</code><br/> 评注：提取ip地址时有用</p> </li></ul>\n<p><strong>匹配特定数字</strong></p>\n<ul><li><code>^[1-9]\\d*$</code>　 　 //匹配正整数</li><li><code>^-[1-9]\\d*$ </code>　 //匹配负整数</li><li><code>^-?[1-9]\\d*$　</code>　 //匹配整数</li><li><code>^[1-9]\\d*|0$</code>　 //匹配非负整数（正整数 + 0）</li><li><code>^-[1-9]\\d*|0$</code>　　 //匹配非正整数（负整数 + 0）</li><li><code>^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*$</code>　　 //匹配正浮点数</li><li><code>^-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)$</code>　 //匹配负浮点数</li><li><code>^-?([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0)$</code>　 //匹配浮点数</li><li><code>^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0$</code>　　 //匹配非负浮点数（正浮点数 + 0）</li><li><code> ^(-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*))|0?\\.0+|0$</code>　　//匹配非正浮点数（负浮点数 + 0）</li></ul>\n<p><strong>匹配特定字符串</strong></p>\n<ul><li> <p><code>^[A-Za-z]+$</code>　　//匹配由26个英文字母组成的字符串</p> </li><li> <p><code>^[A-Z]+$</code>　　//匹配由26个英文字母的大写组成的字符串</p> </li><li> <p><code>^[a-z]+$</code>　　//匹配由26个英文字母的小写组成的字符串</p> </li><li> <p><code>^[A-Za-z0-9]+$</code>　　//匹配由数字和26个英文字母组成的字符串</p> </li><li> <p><code>^\\w+$</code>　　//匹配由数字、26个英文字母或者下划线组成的字符串</p> </li><li> <p>控制文本框输入正负的数字： <code>onkeyup=\"value=value.replace(/[^-\\d+\\(\\).]/,'')\"</code></p> </li><li> <p>输入数字，限小数：<code> onkeyup=\"value=value.replace(/[^\\d.]/g,'')\"</code></p> </li><li> <p>只能输入整数： <code>onkeyup=\"value=value.replace(/[^\\d]/g,'') \" </code></p> </li><li> <p>控制input只能输入大写字母且输入小写时自动转换为大写： <code>onkeyup=\"if(this.value == ''){return false;}this.value = this.value.toUpperCase();if(!/^([A-Za-z]+\\s?)* [A-Za-z]$/.test(this.value)){return this.value = this.value.substr(0, this.value.length - 1);}\"</code></p> </li><li> <p>控制input只能输入字母和数字：<code> onkeyup=\"value=value.replace(/[\\W]/g,'')\"</code></p> </li><li> <p>控制input只能输入数字和字母，且输入小写字母的时候自动转换为大写字母： <code>onkeyup=\"if(value == ''){return false;}value=value.replace(/[\\W]/g,'');value = value.toUpperCase(); \"</code></p> </li><li> <p>JS控制只能输入整数：</p> <pre><code class=\"prism language-javascript\"><span class=\"token operator\">&lt;</span>script language<span class=\"token operator\">=</span>javascript<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">onlyNum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">==</span><span class=\"token number\">46</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">==</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">==</span><span class=\"token number\">37</span><span class=\"token punctuation\">)</span><span class=\"token operator\">&amp;&amp;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">==</span><span class=\"token number\">39</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">&gt;=</span><span class=\"token number\">48</span><span class=\"token operator\">&amp;&amp;</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">&lt;=</span><span class=\"token number\">57</span><span class=\"token punctuation\">)</span><span class=\"token operator\">||</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">&gt;=</span><span class=\"token number\">96</span><span class=\"token operator\">&amp;&amp;</span>event<span class=\"token punctuation\">.</span>keyCode<span class=\"token operator\">&lt;=</span><span class=\"token number\">105</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    event<span class=\"token punctuation\">.</span>returnValue<span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n \n<span class=\"token operator\">&lt;</span>input onkeydown<span class=\"token operator\">=</span><span class=\"token string\">\"onlyNum();\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"ime-mode:Disabled\"</span><span class=\"token operator\">&gt;</span> \n\n</code></pre> </li><li> <p>文本框默认当前时间</p> <pre><code class=\"prism language-javascript\"><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">&gt;</span>\n    <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">var</span> time <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#fawushijian\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n</code></pre> </li><li> <p>浏览器缓存</p> <pre><code class=\"prism language-javascript\">localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"键\"</span><span class=\"token punctuation\">,</span> “‘<span class=\"token number\">66662154</span>’<span class=\"token punctuation\">,</span>‘<span class=\"token number\">55555</span>’，‘<span class=\"token number\">5</span>’，”<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> getdata <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span>键<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"键\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre> </li><li> <p>C#获取当前时间：</p> <pre><code class=\"prism language-csharp\"><span class=\"token class-name\">System<span class=\"token punctuation\">.</span>DateTime</span> currentTime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">System<span class=\"token punctuation\">.</span>DateTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            currentTime <span class=\"token operator\">=</span> System<span class=\"token punctuation\">.</span>DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">;</span>\n</code></pre> </li><li> <p>C#数组去重：</p> <pre><code class=\"prism language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> barcodeddddd <span class=\"token operator\">=</span> barcodes<span class=\"token punctuation\">.</span><span class=\"token function\">Split</span><span class=\"token punctuation\">(</span><span class=\"token char\">';'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t    <span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> barcode <span class=\"token operator\">=</span> barcodeddddd<span class=\"token punctuation\">.</span><span class=\"token function\">Distinct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre> </li><li> <p>C#两个时间之间的天数：</p> <pre><code class=\"prism language-csharp\">A<span class=\"token punctuation\">:</span>label1<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"2012-1-1 15:36:05\"</span><span class=\"token punctuation\">;</span> \n\t\t\tlabel2<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"2012-2-1 20:16:35\"</span><span class=\"token punctuation\">;</span> \n\t\t\t<span class=\"token class-name\">DateTime</span> d1 <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DateTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">2012</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span><span class=\"token number\">36</span><span class=\"token punctuation\">,</span><span class=\"token number\">05</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\t\t\t<span class=\"token class-name\">DateTime</span> d2 <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DateTime</span><span class=\"token punctuation\">(</span><span class=\"token number\">2012</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span><span class=\"token number\">35</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n \t\t\t<span class=\"token class-name\">TimeSpan</span> d3 <span class=\"token operator\">=</span> d2<span class=\"token punctuation\">.</span><span class=\"token function\">Subtract</span><span class=\"token punctuation\">(</span>d1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\t\t\tlabel3<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> <span class=\"token string\">\"相差:\"</span> \n\t\t\t<span class=\"token operator\">+</span>d3<span class=\"token punctuation\">.</span>Days<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"天\"</span> \n\t\t\t<span class=\"token operator\">+</span>d3<span class=\"token punctuation\">.</span>Hours<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"小时\"</span> \n\t\t\t<span class=\"token operator\">+</span>d3<span class=\"token punctuation\">.</span>Minutes<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"分钟\"</span> \n\t\t\t<span class=\"token operator\">+</span>d3<span class=\"token punctuation\">.</span>Seconds<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"秒\"</span><span class=\"token punctuation\">;</span>\n</code></pre> </li><li> <p>jquery 通过id属性设置与取消只读属性<br/> 设置只读：<code>$(\"#id\").attr(\"readOnly\",\"true\");</code><br/> 取消只读：<code>$(\"#id\").attr(\"readOnly\",false);</code></p> </li><li> <p>jquery 批量设置与取消只读属性 /* id为sa的div中，所有input框 */<br/> 设置只读：<code>$(\"#sa input\").attr(\"readOnly\",\"true\");</code><br/> 取消只读：<code>$(\"#sa input\").attr(\"readOnly\",false);</code></p> </li><li> <p>js：获this的上一个同级位置的值<br/> <code>var k = $(this).prev().text();</code></p> </li><li> <p>js：获this的下一个同级位置的值<br/> <code>var k = $(this).next().text();</code></p> </li><li> <p>js判断checkbox选中：</p> <pre><code class=\"prism language-javascript\"><span class=\"token keyword\">var</span> kefu <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 是否客服</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userkf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            kefu <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"userkf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>checked <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//取消选中</span>\n</code></pre> </li><li> <p>JS添加样式：</p> <pre><code class=\"prism language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#div_girl\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'coinfu_sextype_l active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".coinfu_sextype\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"display\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre> </li><li> <p>JS获取当前时间</p> <pre><code class=\"prism language-javascript\"><span class=\"token keyword\">var</span> oDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//实例一个时间对象；</span>\noDate<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//获取系统的年；</span>\noDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//获取系统月份，由于月份是从0开始计算，所以要加1</span>\noDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 获取系统日，</span>\noDate<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//获取系统时，</span>\noDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//分</span>\noDate<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//秒</span>\n</code></pre> </li><li> <p>Js打开新窗口：<code>window.open(\"http://www.jb51.net\");</code></p> </li><li> <p>C# DataTable 转为Json：<code>JsonConvert.SerializeObject(dt);</code></p> </li><li> <p>Js Json转回：<code>var array = JSON.parse(result);</code></p> </li><li> <p>js遍历table：</p> <pre><code class=\"prism language-javascript\"><span class=\"token keyword\">var</span> tableInfo <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">var</span> tableObj <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"choosebody\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> tableObj<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>    <span class=\"token comment\">//遍历Table的所有Row</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j <span class=\"token operator\">&lt;</span> tableObj<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>cells<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>   <span class=\"token comment\">//遍历Row中的每一列</span>\n                tableInfo <span class=\"token operator\">+=</span> tableObj<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>cells<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">;</span>   <span class=\"token comment\">//获取Table中单元格的内容</span>\n                tableInfo <span class=\"token operator\">+=</span> <span class=\"token string\">\"   \"</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            tableInfo <span class=\"token operator\">+=</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n</code></pre> </li><li> <p>JS得到选中的复选框：</p> <pre><code class=\"prism language-javascript\"> <span class=\"token keyword\">function</span> <span class=\"token function\">chk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">var</span> obj <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'chk1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//选择所有name=\"'test'\"的对象，返回数组</span>\n        <span class=\"token comment\">//取到对象数组后，我们来循环检测它是不是被选中</span>\n        <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> obj<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">)</span> s <span class=\"token operator\">+=</span> obj<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">+</span> <span class=\"token string\">','</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//如果选中，将value添加到变量s中</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">//那么现在来检测s的值就知道选中的复选框的值了</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">==</span> <span class=\"token string\">''</span> <span class=\"token operator\">?</span> <span class=\"token string\">'你还没有选择任何内容！'</span> <span class=\"token operator\">:</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">jqchk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token comment\">//jquery获取复选框值</span>\n        <span class=\"token keyword\">var</span> chk_value <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input[name=\"chk1\"]:checked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            chk_value<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>chk_value<span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token string\">'你还没有选择任何内容！'</span> <span class=\"token operator\">:</span> chk_value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre> </li><li> <p>JS获取class的值：<code>document.getElementById(\"test\").className</code></p> </li><li> <p>js得到table的行数：</p> <pre><code class=\"prism language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token comment\">//点击哪行 显示哪行的行数</span>\n    <span class=\"token keyword\">var</span> myRows <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'table tbody tr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>myRows<span class=\"token punctuation\">.</span><span class=\"token function\">index</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">trTotal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>  \n    <span class=\"token comment\">//获取总行数</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"table tbody tr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>  \n</code></pre> </li><li> <p>js获取选中的下拉列表框的值：</p> <pre><code class=\"prism language-javascript\">    <span class=\"token keyword\">var</span> sel<span class=\"token operator\">=</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sel'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   \n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>sel<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">[</span>sel<span class=\"token punctuation\">.</span>selectedIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>sel<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">[</span>sel<span class=\"token punctuation\">.</span>selectedIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> style <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#wjstyle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">[</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#wjstyle\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>selectedIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">;</span><span class=\"token comment\">// 下拉选中的text</span>\n</code></pre> </li><li> <p>js Div隐藏：<br/> <code>document.getElementById(\"btn_daorukk\").style.display = \"none\";</code></p> </li><li> <p>JS取整数：<br/> 1、丢弃小数部分:<code>parseInt(5/2)</code><br/> 2、向上取整，有小数就+1：<code>Math.ceil（5/2）</code><br/> 3、四舍五入：<code>Math.round（5/2）</code><br/> 4、向下取整：<code>Math.floor（5/2）</code></p> </li><li> <p>C#分隔非单个字符：</p> <pre><code class=\"prism language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"张三分隔李四分隔王五\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">Split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"分隔\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> StringSplitOptions<span class=\"token punctuation\">.</span>RemoveEmptyEntries<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre> </li><li> <p>C#后台给DataTable添加指定位置的列：</p> <pre><code class=\"prism language-csharp\">dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">SetOrdinal</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>SetOrdinal 指定位置\n\t<span class=\"token class-name\">DataTable</span> myDt <span class=\"token operator\">=</span>dt<span class=\"token punctuation\">;</span>  \n\t<span class=\"token comment\">//删除列  </span>\n\tmyDt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"minArea\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\tmyDt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"maxArea\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n\t<span class=\"token comment\">//调整列顺序 ，列排序从0开始  </span>\n\tmyDt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">SetOrdinal</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n\t<span class=\"token comment\">//修改列标题名称  </span>\n\tdt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span><span class=\"token string\">\"num\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ColumnName <span class=\"token operator\">=</span> <span class=\"token string\">\"搜索量\"</span><span class=\"token punctuation\">;</span>  \n\tdt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">[</span><span class=\"token string\">\"rate\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>ColumnName <span class=\"token operator\">=</span> <span class=\"token string\">\"百分比\"</span><span class=\"token punctuation\">;</span>\n</code></pre> </li></ul>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "JavaScript", "cpp": 0, "csharp": 1, "python": 0, "javascript": 1, "java": 0, "sql": 0, "php": 0, "time": "2022-04-28 15:07:54", "summary": "匹配中文字符的正则表达式：匹配双字节字符包括汉字在内：评注：可以用来计算字符串的长度一个双字节字符长度计，字符计匹配空白行的正则表达式：评注：可以用来删除空白行匹配标记的正则表达式：评注：网上流传的版"}