{"blogid": "122062759", "writerAge": "码龄11年", "writerBlogNum": "95", "writerCollect": "185", "writerComment": "10", "writerFan": "57", "writerGrade": "4级", "writerIntegral": "1141", "writerName": "天众师兄", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_122062759.jpg", "writerRankTotal": "31095", "writerRankWeekly": "60184", "writerThumb": "30", "writerVisitNum": "62107", "blog_read_count": "2339", "blog_time": "于 2021-12-23 20:30:00 发布", "blog_title": "一步一步实现WPF控件ComboBox自定义样式", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>本文主要介绍怎样一步一步实现WPF控件ComboBox的自定义样式，包括ComboBox的输入框、下拉框按钮及下拉展示条目的样式，均实现自定义样式。</p>\n<p>1、新建WPF应用程序项目</p>\n<p><img alt=\"\" height=\"454\" src=\"..\\..\\static\\image\\c4eadb110cc24414bdfb267cc7d95603.png\" width=\"603\"/></p>\n<p>2、 添加一个ComboBox控件</p>\n<pre><code>&lt;Window x:Class=\"WpfApp2.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:WpfApp2\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"600\"&gt;\n    &lt;Grid&gt;\n        &lt;StackPanel Orientation=\"Vertical\"\n                    HorizontalAlignment=\"Center\"\n                    VerticalAlignment=\"Center\"&gt;\n            &lt;ComboBox Name=\"myCbb\"\n                      Height=\"25\"\n                      Width=\"250\"/&gt;\n\n        &lt;/StackPanel&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;</code></pre>\n<p>3、添加ComboBox样式代码</p>\n<pre><code>&lt;Window x:Class=\"WpfApp2.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:WpfApp2\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"600\"&gt;\n    &lt;Window.Resources&gt;\n        &lt;Style x:Key=\"MyCbbStyle\" TargetType=\"ComboBox\"&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                        &lt;Grid&gt;\n                            &lt;Grid.ColumnDefinitions&gt;\n                                &lt;ColumnDefinition Width=\"7*\"/&gt;\n                                &lt;ColumnDefinition Width=\"3*\" MaxWidth=\"20\"/&gt;\n                            &lt;/Grid.ColumnDefinitions&gt;\n\n                            &lt;Border Grid.Column=\"0\"\n                                    BorderBrush=\"Blue\"\n                                    BorderThickness=\"1,1,0,1\"\n                                    Background=\"AliceBlue\"&gt;\n                                &lt;TextBox x:Name=\"myTxt\"\n                                         Text=\"{TemplateBinding Text}\"\n                                         Background=\"Transparent\"\n                                         BorderThickness=\"0\"\n                                         VerticalContentAlignment=\"Center\"\n                                         FontSize=\"14\"\n                                         FontWeight=\"Bold\"\n                                         Foreground=\"Red\"/&gt;\n                            &lt;/Border&gt;\n                            &lt;Border Grid.Column=\"1\"\n                                    BorderBrush=\"Red\"\n                                    BorderThickness=\"1\"&gt;\n\n                            &lt;/Border&gt;\n                        &lt;/Grid&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/Window.Resources&gt;\n\n    &lt;Grid&gt;\n        &lt;StackPanel Orientation=\"Vertical\"\n                    HorizontalAlignment=\"Center\"\n                    VerticalAlignment=\"Center\"&gt;\n            &lt;ComboBox Name=\"myCbb\"\n                      Height=\"25\"\n                      Width=\"250\"\n                      Style=\"{StaticResource MyCbbStyle}\"/&gt;\n\n        &lt;/StackPanel&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n<p>运行效果图如下：</p>\n<p><img alt=\"\" height=\"350\" src=\"..\\..\\static\\image\\56ee0242a6b842efb8a220b567b3bf54.png\" width=\"574\"/></p>\n<p> 说明：重写ComboBox控件样式，修改Template模板，将ComboBox界面分为左右两部分，左侧部分为输入框及选中条目的显示框，输入框添加的是TextBox，可根据UI设计设置要显示的字体样式。注意边框的颜色和输入框的背景色都在Border上设置，避免边框重叠。</p>\n<p>右侧部分预留给下拉框按钮。</p>\n<p>4、右侧区域添加ToggleButton，切换ComboBox下拉框的伸展与收缩，并添加伸展区域。</p>\n<pre><code>&lt;Window x:Class=\"WpfApp2.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:WpfApp2\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"600\"&gt;\n    &lt;Window.Resources&gt;\n        &lt;Style x:Key=\"MyCbbStyle\" TargetType=\"ComboBox\"&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                        &lt;Grid&gt;\n                            &lt;Grid.ColumnDefinitions&gt;\n                                &lt;ColumnDefinition Width=\"7*\"/&gt;\n                                &lt;ColumnDefinition Width=\"3*\" MaxWidth=\"20\"/&gt;\n                            &lt;/Grid.ColumnDefinitions&gt;\n\n                            &lt;Border Grid.Column=\"0\"\n                                    BorderBrush=\"Blue\"\n                                    BorderThickness=\"1,1,0,1\"\n                                    Background=\"AliceBlue\"&gt;\n                                &lt;TextBox x:Name=\"myTxt\"\n                                         Text=\"{TemplateBinding Text}\"\n                                         Background=\"Transparent\"\n                                         BorderThickness=\"0\"\n                                         VerticalContentAlignment=\"Center\"\n                                         FontSize=\"14\"\n                                         FontWeight=\"Bold\"\n                                         Foreground=\"Red\"/&gt;\n                            &lt;/Border&gt;\n                            &lt;Border Grid.Column=\"1\"\n                                    BorderBrush=\"Red\"\n                                    BorderThickness=\"1\"&gt;\n                                &lt;ToggleButton IsChecked=\"{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\"\n                                              ClickMode=\"Press\"&gt;&lt;/ToggleButton&gt;\n                            &lt;/Border&gt;\n                            &lt;Popup Name=\"MyPopup\"\n                                   IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n                                   Placement=\"Bottom\"&gt;\n                                &lt;Border MinWidth=\"{TemplateBinding ActualWidth}\"\n                                        MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"&gt;\n                                    &lt;ScrollViewer MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"\n                                                  HorizontalScrollBarVisibility=\"Auto\"\n                                                  VerticalScrollBarVisibility=\"Auto\"&gt;\n                                        &lt;StackPanel Background=\"AliceBlue\"\n                                                    IsItemsHost=\"True\"\n                                                    /&gt;\n\n                                    &lt;/ScrollViewer&gt;\n                                &lt;/Border&gt;\n                            &lt;/Popup&gt;\n                        &lt;/Grid&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/Window.Resources&gt;\n\n    &lt;Grid&gt;\n        &lt;StackPanel Orientation=\"Vertical\"\n                    HorizontalAlignment=\"Center\"\n                    VerticalAlignment=\"Center\"&gt;\n            &lt;ComboBox Name=\"myCbb\"\n                      Height=\"25\"\n                      Width=\"250\"\n                      DisplayMemberPath=\"Name\"\n                      SelectedValuePath=\"ID\"\n                      SelectedIndex=\"0\"\n                      Style=\"{StaticResource MyCbbStyle}\"/&gt;\n\n        &lt;/StackPanel&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;</code></pre>\n<p>添加下拉框绑定数据对象CbbData.cs</p>\n<pre><code>  public class CbbData\n    {\n        public string ID { get; set; }\n\n        public string Name { get; set; }\n    }</code></pre>\n<p>添加初始化下拉框数据源方法，修改MainWindow.xaml.cs</p>\n<pre><code> public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n            List&lt;CbbData&gt; cbbDatas = new List&lt;CbbData&gt;();\n            CbbData cbbData1 = new CbbData();\n            cbbData1.ID = \"\";\n            cbbData1.Name = \"请选择\";\n            cbbDatas.Add(cbbData1);\n            for (int i = 0; i &lt; 20; i++)\n            {\n                CbbData cbbData = new CbbData();\n                cbbData.ID = (i + 1).ToString();\n                cbbData.Name = \"we2dwfr\" + (i + 1).ToString();\n                cbbDatas.Add(cbbData);\n            }\n\n            myCbb.ItemsSource = cbbDatas;\n        }\n\n      \n    }</code></pre>\n<p>运行效果图：</p>\n<p><img alt=\"\" height=\"606\" src=\"..\\..\\static\\image\\c1acda2be41b4fe8929e15867274bf2b.png\" width=\"585\"/></p>\n<p> 5、添加ToggleButton的自定义模板</p>\n<pre><code>&lt;Window.Resources&gt;\n        &lt;ControlTemplate x:Key=\"MyToggleBtnStyle\" \n                         TargetType=\"ToggleButton\"&gt;\n            &lt;Border Name=\"MyBorder\"\n                    Background=\"AliceBlue\"\n                    BorderThickness=\"1\" \n                    BorderBrush=\"Transparent\"&gt;\n                &lt;Path Name=\"MyPath\"\n                      Fill=\"Red\"\n                      Height=\"10\"\n                      Width=\"10\"\n                      Data=\"M5,5 L10,10 L15,5 z\"                      \n                      Stretch=\"Fill\"&gt;\n                &lt;/Path&gt;\n            &lt;/Border&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                    &lt;Setter TargetName=\"MyPath\" Property=\"Fill\" Value=\"Green\"&gt;&lt;/Setter&gt;\n                    &lt;Setter TargetName=\"MyBorder\" Property=\"Background\" Value=\"White\"&gt;&lt;/Setter&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n        \n        &lt;Style x:Key=\"MyCbbStyle\" TargetType=\"ComboBox\"&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                        &lt;Grid&gt;\n                            &lt;Grid.ColumnDefinitions&gt;\n                                &lt;ColumnDefinition Width=\"7*\"/&gt;\n                                &lt;ColumnDefinition Width=\"3*\" MaxWidth=\"20\"/&gt;\n                            &lt;/Grid.ColumnDefinitions&gt;\n\n                            &lt;Border Grid.Column=\"0\"\n                                    BorderBrush=\"Blue\"\n                                    BorderThickness=\"1,1,0,1\"\n                                    Background=\"AliceBlue\"&gt;\n                                &lt;TextBox x:Name=\"myTxt\"\n                                         Text=\"{TemplateBinding Text}\"\n                                         Background=\"Transparent\"\n                                         BorderThickness=\"0\"\n                                         VerticalContentAlignment=\"Center\"\n                                         FontSize=\"14\"\n                                         FontWeight=\"Bold\"\n                                         Foreground=\"Red\"/&gt;\n                            &lt;/Border&gt;\n                            &lt;Border Grid.Column=\"1\"\n                                    BorderBrush=\"Red\"\n                                    BorderThickness=\"1\"&gt;\n                                &lt;ToggleButton IsChecked=\"{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\"\n                                              ClickMode=\"Press\"\n                                              Template=\"{StaticResource MyToggleBtnStyle}\"&gt;&lt;/ToggleButton&gt;\n                            &lt;/Border&gt;\n                            &lt;Popup Name=\"MyPopup\"\n                                   IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n                                   Placement=\"Bottom\"&gt;\n                                &lt;Border MinWidth=\"{TemplateBinding ActualWidth}\"\n                                        MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"&gt;\n                                    &lt;ScrollViewer MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"\n                                                  HorizontalScrollBarVisibility=\"Auto\"\n                                                  VerticalScrollBarVisibility=\"Auto\"&gt;\n                                        &lt;StackPanel Background=\"AliceBlue\"\n                                                    IsItemsHost=\"True\"\n                                                    /&gt;\n\n                                    &lt;/ScrollViewer&gt;\n                                &lt;/Border&gt;\n                            &lt;/Popup&gt;\n                        &lt;/Grid&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/Window.Resources&gt;</code></pre>\n<p>将ToggleButton模板设置为Path画的三角形。</p>\n<p>6、实现自定义ComboBoxItem样式，根据UI设计设置下列框条目的边框、背景色、高度、字体大小、字体颜色、鼠标移入样式改变等。</p>\n<pre><code> &lt;Window.Resources&gt;\n\n        &lt;ControlTemplate x:Key=\"MyComboBoxItem\"\n                         TargetType=\"ComboBoxItem\"&gt;\n            &lt;Grid Background=\"{TemplateBinding Background}\"\n                  &gt;\n                &lt;Border x:Name=\"itemBorder\"\n                        BorderThickness=\"{TemplateBinding BorderThickness}\"\n                        BorderBrush=\"Red\"\n                        Background=\"LightBlue\"\n                        Height=\"40\"/&gt;\n                &lt;ContentPresenter x:Name=\"contentShow\"\n                                  Margin=\"{TemplateBinding Padding}\"\n                                  VerticalAlignment=\"Center\"\n                                  HorizontalAlignment=\"Left\"\n                                  /&gt;\n            &lt;/Grid&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                    &lt;Setter TargetName=\"itemBorder\"\n                            Property=\"Background\"\n                            Value=\"Gray\"/&gt;\n                    &lt;Setter TargetName=\"itemBorder\"\n                            Property=\"BorderBrush\"\n                            Value=\"Blue\"/&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n\n        &lt;ControlTemplate x:Key=\"MyToggleBtnStyle\" \n                         TargetType=\"ToggleButton\"&gt;\n            &lt;Border Name=\"MyBorder\"\n                    Background=\"AliceBlue\"\n                    BorderThickness=\"1\" \n                    BorderBrush=\"Transparent\"&gt;\n                &lt;Path Name=\"MyPath\"\n                      Fill=\"Red\"\n                      Height=\"10\"\n                      Width=\"10\"\n                      Data=\"M5,5 L10,10 L15,5 z\"                      \n                      Stretch=\"Fill\"&gt;\n                &lt;/Path&gt;\n            &lt;/Border&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                    &lt;Setter TargetName=\"MyPath\" Property=\"Fill\" Value=\"Green\"&gt;&lt;/Setter&gt;\n                    &lt;Setter TargetName=\"MyBorder\" Property=\"Background\" Value=\"White\"&gt;&lt;/Setter&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n\n        &lt;Style x:Key=\"MyCbbStyle\" TargetType=\"ComboBox\"&gt;\n            &lt;Setter Property=\"ItemContainerStyle\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;Style TargetType=\"ComboBoxItem\"&gt;\n                        &lt;Setter Property=\"FontSize\" Value=\"30\"/&gt;\n                        &lt;Setter Property=\"Foreground\" Value=\"Blue\"/&gt;\n                        &lt;Setter Property=\"Template\"\n                                Value=\"{StaticResource MyComboBoxItem}\"/&gt;\n                    &lt;/Style&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                        &lt;Grid&gt;\n                            &lt;Grid.ColumnDefinitions&gt;\n                                &lt;ColumnDefinition Width=\"7*\"/&gt;\n                                &lt;ColumnDefinition Width=\"3*\" MaxWidth=\"20\"/&gt;\n                            &lt;/Grid.ColumnDefinitions&gt;\n\n                            &lt;Border Grid.Column=\"0\"\n                                    BorderBrush=\"Blue\"\n                                    BorderThickness=\"1,1,0,1\"\n                                    Background=\"AliceBlue\"&gt;\n                                &lt;TextBox x:Name=\"myTxt\"\n                                         Text=\"{TemplateBinding Text}\"\n                                         Background=\"Transparent\"\n                                         BorderThickness=\"0\"\n                                         VerticalContentAlignment=\"Center\"\n                                         FontSize=\"14\"\n                                         FontWeight=\"Bold\"\n                                         Foreground=\"Red\"/&gt;\n                            &lt;/Border&gt;\n                            &lt;Border Grid.Column=\"1\"\n                                    BorderBrush=\"Red\"\n                                    BorderThickness=\"1\"&gt;\n                                &lt;ToggleButton IsChecked=\"{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\"\n                                              ClickMode=\"Press\"\n                                              Template=\"{StaticResource MyToggleBtnStyle}\"&gt;&lt;/ToggleButton&gt;\n                            &lt;/Border&gt;\n                            &lt;Popup Name=\"MyPopup\"\n                                   IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n                                   Placement=\"Bottom\"&gt;\n                                &lt;Border MinWidth=\"{TemplateBinding ActualWidth}\"\n                                        MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"&gt;\n                                    &lt;ScrollViewer MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"\n                                                  HorizontalScrollBarVisibility=\"Auto\"\n                                                  VerticalScrollBarVisibility=\"Auto\"&gt;\n                                        &lt;StackPanel Background=\"AliceBlue\"\n                                                    IsItemsHost=\"True\"\n                                                    /&gt;\n\n                                    &lt;/ScrollViewer&gt;\n                                &lt;/Border&gt;\n                            &lt;/Popup&gt;\n                        &lt;/Grid&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/Window.Resources&gt;</code></pre>\n<p>运行效果图：</p>\n<p><img alt=\"\" height=\"434\" src=\"..\\..\\static\\image\\fbd86c869c8d44c58ba8a0ccf025053f.png\" width=\"574\"/></p>\n<p>  7、下拉框条目实现图片和文字的组合，自定义ComboBoxItem的样式。</p>\n<p>添加images文件夹保存图片</p>\n<p><img alt=\"\" height=\"295\" src=\"..\\..\\static\\image\\1cf3e6b0a979468f8d07e69b23438c88.png\" width=\"313\"/></p>\n<p> 添加CreateBitmap.cs类实现图片转化为BitmapImage</p>\n<pre><code> public class CreateBitmap\n    {\n        public static BitmapImage GetBitmap(string name)\n        {\n            BitmapImage bitmap;\n            string rootPath = @\"pack://application:,,,/WpfApp2;component/images/\" + name + \".png\";\n            bitmap = new BitmapImage(new Uri(rootPath, UriKind.Absolute));\n            return bitmap;\n        }\n    }</code></pre>\n<p>添加ImageConverter.cs类将图片名称转换为ImageSource，为下拉框的条目图片提供数据源。</p>\n<pre><code>  public class ImageConverter : IValueConverter\n    {\n        public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n        {\n            if (value == null)\n                return null;\n            string imgName = value.ToString();\n\n            BitmapImage bitmap = CreateBitmap.GetBitmap(imgName);\n            return bitmap;\n        }\n\n        public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n        {\n            throw new NotImplementedException();\n        }\n    }</code></pre>\n<p>修改ComboBoxItem模板</p>\n<pre><code>    &lt;Window.Resources&gt;\n        &lt;local:ImageConverter x:Key=\"ImageConverter\"/&gt;\n        &lt;ControlTemplate x:Key=\"MyComboBoxItem\"\n                         TargetType=\"ComboBoxItem\"&gt;\n            &lt;Grid Background=\"{TemplateBinding Background}\"\n                  &gt;\n                &lt;Border x:Name=\"itemBorder\"\n                        BorderThickness=\"{TemplateBinding BorderThickness}\"\n                        BorderBrush=\"Red\"\n                        Background=\"LightBlue\"\n                        Height=\"40\"\n                        &gt;\n                    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                        &lt;Image Source=\"{Binding ImgName,Converter={StaticResource ImageConverter}}\"\n                               Width=\"30\"\n                               Height=\"30\"/&gt;\n                        &lt;TextBlock Text=\"{Binding Name}\" \n                                   Margin=\"10,0,0,0\"\n                                   HorizontalAlignment=\"Center\"\n                                   VerticalAlignment=\"Center\"/&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/Border&gt;\n            &lt;/Grid&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                    &lt;Setter TargetName=\"itemBorder\"\n                            Property=\"Background\"\n                            Value=\"Gray\"/&gt;\n                    &lt;Setter TargetName=\"itemBorder\"\n                            Property=\"BorderBrush\"\n                            Value=\"Blue\"/&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n\n        &lt;ControlTemplate x:Key=\"MyToggleBtnStyle\" \n                         TargetType=\"ToggleButton\"&gt;\n            &lt;Border Name=\"MyBorder\"\n                    Background=\"AliceBlue\"\n                    BorderThickness=\"1\" \n                    BorderBrush=\"Transparent\"&gt;\n                &lt;Path Name=\"MyPath\"\n                      Fill=\"Red\"\n                      Height=\"10\"\n                      Width=\"10\"\n                      Data=\"M5,5 L10,10 L15,5 z\"                      \n                      Stretch=\"Fill\"&gt;\n                &lt;/Path&gt;\n            &lt;/Border&gt;\n            &lt;ControlTemplate.Triggers&gt;\n                &lt;Trigger Property=\"IsMouseOver\" Value=\"True\"&gt;\n                    &lt;Setter TargetName=\"MyPath\" Property=\"Fill\" Value=\"Green\"&gt;&lt;/Setter&gt;\n                    &lt;Setter TargetName=\"MyBorder\" Property=\"Background\" Value=\"White\"&gt;&lt;/Setter&gt;\n                &lt;/Trigger&gt;\n            &lt;/ControlTemplate.Triggers&gt;\n        &lt;/ControlTemplate&gt;\n\n        &lt;Style x:Key=\"MyCbbStyle\" TargetType=\"ComboBox\"&gt;\n            &lt;Setter Property=\"ItemContainerStyle\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;Style TargetType=\"ComboBoxItem\"&gt;\n                        &lt;Setter Property=\"FontSize\" Value=\"30\"/&gt;\n                        &lt;Setter Property=\"Foreground\" Value=\"Blue\"/&gt;\n                        &lt;Setter Property=\"Template\"\n                                Value=\"{StaticResource MyComboBoxItem}\"/&gt;\n                    &lt;/Style&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"ComboBox\"&gt;\n                        &lt;Grid&gt;\n                            &lt;Grid.ColumnDefinitions&gt;\n                                &lt;ColumnDefinition Width=\"7*\"/&gt;\n                                &lt;ColumnDefinition Width=\"3*\" MaxWidth=\"20\"/&gt;\n                            &lt;/Grid.ColumnDefinitions&gt;\n\n                            &lt;Border Grid.Column=\"0\"\n                                    BorderBrush=\"Blue\"\n                                    BorderThickness=\"1,1,0,1\"\n                                    Background=\"AliceBlue\"&gt;\n                                &lt;TextBox x:Name=\"myTxt\"\n                                         Text=\"{TemplateBinding Text}\"\n                                         Background=\"Transparent\"\n                                         BorderThickness=\"0\"\n                                         VerticalContentAlignment=\"Center\"\n                                         FontSize=\"14\"\n                                         FontWeight=\"Bold\"\n                                         Foreground=\"Red\"/&gt;\n                            &lt;/Border&gt;\n                            &lt;Border Grid.Column=\"1\"\n                                    BorderBrush=\"Red\"\n                                    BorderThickness=\"1\"&gt;\n                                &lt;ToggleButton IsChecked=\"{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}\"\n                                              ClickMode=\"Press\"\n                                              Template=\"{StaticResource MyToggleBtnStyle}\"&gt;&lt;/ToggleButton&gt;\n                            &lt;/Border&gt;\n                            &lt;Popup Name=\"MyPopup\"\n                                   IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n                                   Placement=\"Bottom\"&gt;\n                                &lt;Border MinWidth=\"{TemplateBinding ActualWidth}\"\n                                        MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"&gt;\n                                    &lt;ScrollViewer MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"\n                                                  HorizontalScrollBarVisibility=\"Auto\"\n                                                  VerticalScrollBarVisibility=\"Auto\"&gt;\n                                        &lt;StackPanel Background=\"AliceBlue\"\n                                                    IsItemsHost=\"True\"\n                                                    /&gt;\n\n                                    &lt;/ScrollViewer&gt;\n                                &lt;/Border&gt;\n                            &lt;/Popup&gt;\n                        &lt;/Grid&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/Window.Resources&gt;</code></pre>\n<p>修改MainWindow.xaml.cs</p>\n<pre><code>  public MainWindow()\n        {\n            InitializeComponent();\n            List&lt;CbbData&gt; cbbDatas = new List&lt;CbbData&gt;();\n            CbbData cbbData1 = new CbbData();\n            cbbData1.ID = \"\";\n            cbbData1.Name = \"请选择\";\n            cbbDatas.Add(cbbData1);\n            for (int i = 0; i &lt; 20; i++)\n            {\n                CbbData cbbData = new CbbData();\n                cbbData.ID = (i + 1).ToString();\n                cbbData.Name = \"we2dwfr\" + (i + 1).ToString();\n                int imgname = (i + 1) % 4;\n                if (imgname == 0)\n                {\n                    imgname = 4;\n                }\n                cbbData.ImgName = imgname.ToString();\n                cbbDatas.Add(cbbData);\n            }\n\n            myCbb.ItemsSource = cbbDatas;\n        }</code></pre>\n<p>运行效果图</p>\n<p><img alt=\"\" height=\"441\" src=\"..\\..\\static\\image\\fb3b52f5de974aca8ec17a121243b1e4.png\" width=\"575\"/></p>\n<p> 8、ComboBox的显示框是否可编辑由TextBox的IsReadOnly属性控制，只读不让修改设置True。</p>\n<pre><code> &lt;TextBox x:Name=\"myTxt\"\n          Text=\"{TemplateBinding Text}\"\n          Background=\"Transparent\"\n          BorderThickness=\"0\"\n          VerticalContentAlignment=\"Center\"\n          FontSize=\"14\"\n          FontWeight=\"Bold\"\n          Foreground=\"Red\"\n          IsReadOnly=\"True\"/&gt;</code></pre>\n<p></p>\n</div>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2021-12-23 20:30:00", "summary": "本文主要介绍怎样一步一步实现控件的自定义样式，包括的输入框、下拉框按钮及下拉展示条目的样式，均实现自定义样式。、新建应用程序项目、添加一个控件、添加样式代码运行效果图如下：说明：重写控件样式，修改模板"}