{"blogid": "125534149", "writerAge": "码龄4年", "writerBlogNum": "133", "writerCollect": "162", "writerComment": "28", "writerFan": "14", "writerGrade": "5级", "writerIntegral": "1976", "writerName": "皮不卡秋秋_", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125534149.jpg", "writerRankTotal": "11052", "writerRankWeekly": "39159", "writerThumb": "42", "writerVisitNum": "194978", "blog_read_count": "8607", "blog_time": "已于 2022-08-25 16:09:33 修改", "blog_title": "mysql启动报错:The server quit without updating PID file几种解决办法", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>1.目录权限问题<br/> 对mysql的安装目录和数据目录分别进行授权</p>\n<pre><code class=\"prism language-xml\"># chown -R mysql.mysql /usr/local/mysql\n# chown -R mysql.mysql /data/mysql\n# service mysqld start\n</code></pre>\n<p>2.可能进程里已经存在mysql进程<br/> 解决方法：用命令“ps -ef|grep mysqld”查看是否有mysqld进程，如果有使用“kill -9 进程号”杀死，然后重新启动mysqld！</p>\n<p>3.可能是第二次在机器上安装mysql，有残余数据影响了服务的启动。<br/> 解决方法：去mysql的数据目录/data看看，如果存在mysql-bin.index，就赶快把它删除掉吧，它就是罪魁祸首了。</p>\n<p>4.mysql在启动时没有指定配置文件时会使用/etc/my.cnf配置文件，请打开这个文件查看在[mysqld]节下有没有指定数据目录(datadir)。<br/> 解决方法：请在[mysqld]下设置这一行：datadir = /usr/local/mysql/data</p>\n<p>5.可能是/usr/local/mysql/data/mysql.pid文件没有写的权限<br/> 解决方法 ：给予权限，执行 “chown -R mysql:mysql /var/data” “chmod -R 755 /usr/local/mysql/data” 然后重新启动mysqld！</p>\n<p>6.selinux惹的祸，如果是centos系统，默认会开启selinux<br/> 解决方法：关闭它，打开/etc/selinux/config，把SELINUX=enforcing改为SELINUX=disabled后存盘退出重启机器试试</p>\n<p>7.删除mysql库文件/data/mysql/中的“ib_*”文件,注意：** 执行该操作之前一定要对数据库进行备份，因为ibdata1存放的是所有数据文件，如果不小心删了库，那就惨了！！！（传说中的从删库到跑路。。。）,然后重启mysql。</p>\n<p>8.查看日志有如下错误提示：Plugin ‘InnoDB’ registration as a STORAGE ENGINE failed。<br/> 解决办法：</p>\n<pre><code class=\"prism language-xml\">[root@localhost mysql]# rm -rf ib_logfile*\n</code></pre>\n<p>然后启动mysql，问题解决！</p>\n<p>9.看日志有这样的字样“initialize buffer pool，size=128.0M”，“cannot allocate memory for the pool”，大概意思是说无法分配足够的内存供pool使用。此时想到mysql配置文件中有相关的配置，于是更改如下参数：<br/> innodb_buffer_pool_size = 128<br/> #配置文件中该值默认为128M<br/> 将这个值调小，再次启动mysql服务，问题解决！</p>\n<p>10.系统上缺少mysql的依赖文件</p>\n<pre><code class=\"prism language-xml\"># yum -y install libaio \n# yum -y install numactl\n</code></pre>\n<p>重新启动mysql服务，问题解决</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-08-25 16:09:33", "summary": "目录权限问题对的安装目录和数据目录分别进行授权可能进程里已经存在进程解决方法：用命令查看是否有进程，如果有使用进程号杀死，然后重新启动！可能是第二次在机器上安装，有残余数据影响了服务的启动。解决方法："}