{"blogid": "126734755", "writerAge": "ç é¾„3å¹´", "writerBlogNum": "44", "writerCollect": "226", "writerComment": "274", "writerFan": "266", "writerGrade": "4çº§", "writerIntegral": "1231", "writerName": "ä¹”ä¼Šæ³¢ä¼Š o(*^ï¼ ^*)o", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126734755.jpg", "writerRankTotal": "16589", "writerRankWeekly": "299", "writerThumb": "288", "writerVisitNum": "7388", "blog_read_count": "121", "blog_time": "å·²äºÂ 2022-09-07 10:46:06Â ä¿®æ”¹", "blog_title": "Qt5å¼€å‘ä»å…¥é—¨åˆ°ç²¾é€šâ€”â€”ç¬¬äº”ç¯‡å››èŠ‚ï¼ˆ æ–‡æœ¬ç¼–è¾‘å™¨ Easy Word å¼€å‘ V1.3è¯¦è§£ ï¼‰", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>æ¬¢è¿å°ä¼™ä¼´çš„ç‚¹è¯„âœ¨âœ¨ï¼Œç›¸äº’å­¦ä¹ ã€äº’å…³å¿…å›ã€å…¨å¤©åœ¨çº¿ğŸ³ğŸ³ğŸ³<br/> åšä¸»ğŸ§‘ğŸ§‘ æœ¬ç€å¼€æºçš„ç²¾ç¥äº¤æµQtå¼€å‘çš„ç»éªŒã€å°†æŒç»­æ›´æ–°ç»­ç« ï¼Œä¸ºç¤¾åŒºè´¡çŒ®åšä¸»è‡ªèº«çš„å¼€æºç²¾ç¥ğŸ‘©â€ğŸš€</p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>æ–‡ç« ç›®å½•</h3>\n<ul><li><a href=\"#_8\">å‰è¨€</a></li><li><a href=\"#Qt_5__14\">ä¸€ã€Qt 5 æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½æ¦‚è¿°</a></li><li><a href=\"#_Easy_Word_V12__Easy_Word_V13_26\">äºŒã€åŸºäº Easy Word V1.2 æ¡†æ¶è¿›è¡Œå‡çº§ Easy Word V1.3æ¡†æ¶</a></li><li><ul><li><a href=\"#21_27\">2.1ã€å®ç°å¢åŠ æ–‡æœ¬ç¼–è¾‘æ¨¡å—</a></li><li><a href=\"#22_Easy_Word_V13__96\">2.2ã€æ–‡æœ¬ç¼–è¾‘å™¨ Easy Word V1.3 æ§½å‡½æ•°ä¸æ¡†æ¶è¿æ¥è§£æ</a></li></ul>\n</li><li><a href=\"#_212\">ä¸‰ã€æ•ˆæœå®ä¾‹</a></li><li><a href=\"#_219\">å››ã€åŸç è§£æ</a></li><li><ul><li><a href=\"#mainwindowh_228\">mainwindow.h</a></li><li><a href=\"#showwidgeth_352\">showwidget.h</a></li><li><a href=\"#maincpp_382\">main.cpp</a></li><li><a href=\"#mainwindowcpp_398\">mainwindow.cpp</a></li><li><a href=\"#showwidgetcpp_921\">showwidget.cpp</a></li></ul>\n</li><li><a href=\"#_941\">æ€»ç»“</a></li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"_8\"></a>å‰è¨€</h1>\n<p><font size=\"4\">æœ¬ç« èŠ‚ä¼šç»™å¤§å®¶å¸¦æ¥åŸºäºæ–‡æœ¬ç¼–è¾‘å™¨ Easy Word V1.2å¼€å‘å‡çº§åˆ°Easy Word V1.3å¼€å‘çš„è§£æã€‚</font></p>\n<hr/>\n<h1><a id=\"Qt_5__14\"></a>ä¸€ã€Qt 5 æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½æ¦‚è¿°</h1>\n<p><font size=\"4\">åœ¨ç¼–å†™åŒ…å«æ ¼å¼è®¾ç½®çš„æ–‡æœ¬ç¼–è¾‘ç¨‹åºæ—¶ï¼Œç»å¸¸ç”¨åˆ°çš„ Qt ç±»æœ‰ QTextEditã€ QTextDocumentã€<br/> QTextBlock ã€ QTextList ã€ QTextFrame ã€ QTextTable ã€ QTextCharFormat ã€ QTextBlockFormat ã€<br/> QTextListFormat ã€ QTextFrameFormat å’Œ QTextTableFormat ç­‰ã€‚<br/> æ–‡æœ¬ç¼–è¾‘å„ç±»ä¹‹é—´çš„åˆ’åˆ†ä¸å…³ç³»å¦‚å›¾ä¸€æ‰€ç¤ºã€‚<br/> <strong>å›¾ä¸€</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\1148c18db0fd42d9b046cbeac68a3c07.jpeg\"/><br/> <font size=\"4\">ä»»ä½•ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘çš„ç¨‹åºéƒ½è¦ç”¨ QTextEdit ä½œä¸ºè¾“å…¥æ–‡æœ¬çš„å®¹å™¨ï¼Œåœ¨å®ƒé‡Œé¢è¾“å…¥å¯ç¼–è¾‘æ–‡æœ¬ç”± QTextDocument ä½œä¸ºè½½ä½“ï¼Œè€Œç”¨æ¥è¡¨ç¤º QTextDocument çš„å…ƒç´ çš„ QTextBlock ã€ QTextList ã€QTextFrame ç­‰æ˜¯ QTextDocument çš„ä¸åŒè¡¨ç°å½¢å¼ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ã€æ®µè½ã€åˆ—è¡¨ã€è¡¨æ ¼æˆ–å›¾ç‰‡ç­‰ã€‚<br/> æ¯ç§å…ƒç´ éƒ½æœ‰è‡ªå·±çš„æ ¼å¼ï¼Œè¿™äº›æ ¼å¼åˆ™ç”¨ QTextCharFormatã€ QTextBlockFormatã€ QTextListFormatã€<br/> QTextFrameFormat ç­‰ç±»æ¥æè¿°ä¸å®ç°ã€‚ä¾‹å¦‚ï¼Œ QTextBlockFormat ç±»å¯¹åº”äº QTextBlock ç±»ï¼Œ QTextBlock<br/> ç±»ç”¨åƒè¡¨ç¤ºä¸€å—æ–‡æœ¬ï¼Œé€šå¸¸å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ®µè½ï¼Œä½†å®ƒå¹¶ä¸ä»…æŒ‡æ®µè½ï¼› QTextBlockFormat ç±»åˆ™è¡¨ç¤ºè¿™ä¸€å—æ–‡æœ¬çš„æ ¼å¼ï¼Œå¦‚ç¼©è¿›çš„å€¼ã€ä¸å››è¾¹çš„è¾¹è·ç­‰ã€‚<br/> ä»å›¾ä¸€ä¸­å¯ä»¥çœ‹å‡ºï¼Œç”¨åƒè¡¨ç¤ºç¼–è¾‘æ–‡æœ¬ä¸­çš„å…‰æ ‡ QTextCursor ç±»æ˜¯ä¸€ä¸ªéå¸¸é‡è¦ä¸”ç»å¸¸ç”¨åˆ°çš„ç±»ï¼Œå®ƒæä¾›äº†å¯¹ QTextDocument æ–‡æ¡£çš„ä¿®æ”¹æ¥å£ï¼Œæ‰€æœ‰å¯¹æ–‡æ¡£æ ¼å¼çš„ä¿®æ”¹ï¼Œè¯´åˆ°åº•éƒ½ä¸å…‰æ ‡æœ‰å…³ ã€‚ ä¾‹å¦‚ï¼Œæ”¹å˜å­—ç¬¦çš„æ ¼å¼ï¼Œå®é™…ä¸ŠæŒ‡çš„æ˜¯æ”¹å˜å…‰æ ‡å¤„å­—ç¬¦çš„æ ¼å¼ ã€‚ åˆä¾‹å¦‚ï¼Œæ”¹å˜æ®µè½çš„æ ¼å¼ï¼Œå®é™…ä¸ŠæŒ‡çš„æ˜¯æ”¹å˜å…‰æ ‡æ‰€åœ¨æ®µè½çš„æ ¼å¼ã€‚å› æ­¤ï¼Œæ‰€æœ‰å¯¹ QTextDocument çš„ä¿®æ”¹éƒ½èƒ½å¤Ÿé€šè¿‡ QTextCursor ç±»å®ç°ï¼Œ QTextCursor ç±»åœ¨æ–‡æ¡£ç¼–è¾‘ç±»ç¨‹åºä¸­å…·æœ‰é‡è¦çš„ä½œç”¨ ã€‚</font></font></p>\n<h1><a id=\"_Easy_Word_V12__Easy_Word_V13_26\"></a>äºŒã€åŸºäº Easy Word V1.2 æ¡†æ¶è¿›è¡Œå‡çº§ Easy Word V1.3æ¡†æ¶</h1>\n<h2><a id=\"21_27\"></a>2.1ã€å®ç°å¢åŠ æ–‡æœ¬ç¼–è¾‘æ¨¡å—</h2>\n<p><font size=\"4\">(1)åœ¨ â€œmainwindow.hâ€ å¤´æ–‡ä»¶ä¸­æ·»åŠ  â€œprivate:â€ å˜é‡ï¼š</font></p>\n<pre><code class=\"prism language-cpp\">    <span class=\"token comment\">/****************æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½*****************/</span>\n\n    QLabel <span class=\"token operator\">*</span>fontLabel1<span class=\"token punctuation\">;</span> <span class=\"token comment\">//å­—ä½“è®¾ç½®é¡¹</span>\n    QFontComboBox <span class=\"token operator\">*</span>fontComboBox<span class=\"token punctuation\">;</span>\n    QLabel <span class=\"token operator\">*</span>fontLabel2<span class=\"token punctuation\">;</span>\n    QComboBox <span class=\"token operator\">*</span>sizeComboBox<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>boldBtn<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>italicBtn<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>underlineBtn<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>colorBtn<span class=\"token punctuation\">;</span>\n    QToolBar <span class=\"token operator\">*</span>fontToolBar<span class=\"token punctuation\">;</span> <span class=\"token comment\">//å­—ä½“å·¥å…·æ </span>\n</code></pre>\n<p><font size=\"4\">(2)åœ¨å‡½æ•°createActions()ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </font></p>\n<pre><code class=\"prism language-cpp\">    <span class=\"token comment\">//åœ¨å·¥å…·æ ä¸ŠåµŒå…¥æ§ä»¶</span>\n    <span class=\"token comment\">//è®¾ç½®å­—å·</span>\n   fontLabel1 <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QLabel</span> <span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­—ä½“ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   fontComboBox <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QFontComboBox<span class=\"token punctuation\">;</span>\n   fontComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">setFontFilters</span><span class=\"token punctuation\">(</span>QFontComboBox<span class=\"token double-colon punctuation\">::</span>ScalableFonts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   fontLabel2 <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QLabel</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­—å·ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   sizeComboBox <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QComboBox<span class=\"token punctuation\">;</span>\n   QFontDatabase db<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/***************æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½******************/</span>\n   <span class=\"token function\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> size<span class=\"token punctuation\">,</span>db<span class=\"token punctuation\">.</span><span class=\"token function\">standardSizes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{<!-- --></span>\n       sizeComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QString</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">number</span><span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   boldBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/bold.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   italicBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/italic.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n   underlineBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/underline.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n   colorBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   colorBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/color.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   colorBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   \n</code></pre>\n<p><font size=\"4\">(3)åœ¨ç›¸å¯¹åº”çš„å·¥å…·æ  createToolBars() å‡½æ•°ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</font></p>\n<pre><code class=\"prism language-cpp\">    <span class=\"token comment\">//å­—ä½“å·¥å…·æ¡</span>\n    fontToolBar <span class=\"token operator\">=</span><span class=\"token function\">addToolBar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Font\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>fontLabel1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>fontComboBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>fontLabel2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>sizeComboBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>boldBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span> <span class=\"token punctuation\">(</span>italicBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>underlineBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>colorBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<h2><a id=\"22_Easy_Word_V13__96\"></a>2.2ã€æ–‡æœ¬ç¼–è¾‘å™¨ Easy Word V1.3 æ§½å‡½æ•°ä¸æ¡†æ¶è¿æ¥è§£æ</h2>\n<p><font size=\"4\"> (1)åœ¨ â€œmainwindow.hâ€ å¤´æ–‡ä»¶ä¸­æ·»åŠ  â€œprivate slots:â€ å˜é‡ï¼š</font></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token comment\">/*****************æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½****************************/</span>\n\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowFontComboBox</span><span class=\"token punctuation\">(</span>QString comboStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowSizeSpinBox</span><span class=\"token punctuation\">(</span>QString spinValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowBoldBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowItalicBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowUnderlineBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowColorBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowCurrentFormatChanged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> QTextCharFormat <span class=\"token operator\">&amp;</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p><font size=\"4\">(2)åœ¨ createActions() å‡½æ•°çš„â€â€œæ”¾å¤§â€œåŠ¨ä½œâ€œæœ€åæ·»åŠ äº‹ä»¶å…³è”ï¼š</font></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>boldBtn<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowBoldBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>italicBtn<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowItalicBtn</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n<span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>underlineBtn<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowUnderlineBtn</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>colorBtn<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowColorBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>fontComboBox<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">activated</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowFontComboBox</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>sizeComboBox<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">activated</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowSizeSpinBox</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">currentCharFormatChanged</span><span class=\"token punctuation\">(</span>QTextCharFormat<span class=\"token operator\">&amp;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowCurrentFormatChanged</span><span class=\"token punctuation\">(</span>QTextCharFormat<span class=\"token operator\">&amp;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n</code></pre>\n<p><font size=\"4\">(3)å®ç°è®¾ç½®å­—ä½“çš„å‡½æ•° å¦‚ä¸‹ï¼š</font></p>\n<pre><code class=\"prism language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowFontComboBox</span><span class=\"token punctuation\">(</span>QString comboStr<span class=\"token punctuation\">)</span>   <span class=\"token comment\">//è®¾ç½®å­—ä½“</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>             <span class=\"token comment\">//åˆ›å»ºä¸€ä¸ª QTextCharFormat å¯¹è±¡</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontFamily</span><span class=\"token punctuation\">(</span>comboStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//é€‰æ‹©çš„å­—ä½“åç§°è®¾ç½®ç»™ QTextCharFormat å¯¹è±¡</span>\n    <span class=\"token function\">mergeFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">//ï¼å°†æ–°çš„æ ¼å¼åº”ç”¨åˆ°å…‰æ ‡é€‰åŒºå†…çš„å­—ç¬¦</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">mergeFormat</span><span class=\"token punctuation\">(</span>QTextCharFormat format<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCursor cursor <span class=\"token operator\">=</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">textCursor</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//è·å¾—ç¼–è¾‘æ¡†ä¸­çš„å…‰æ ‡</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>cursor<span class=\"token punctuation\">.</span> <span class=\"token function\">hasSelection</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//è‹¥å…‰æ ‡æ²¡æœ‰é«˜äº®é€‰åŒºï¼Œåˆ™å°†å…‰æ ‡æ‰€åœ¨å¤„çš„è¯ä½œä¸ºé€‰åŒºï¼Œç”±å‰åç©ºæ ¼æˆ–\",\"\".\"ç­‰æ ‡ç‚¹ç¬¦å·åŒºåˆ†è¯ã€‚</span>\n    cursor<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>QTextCursor<span class=\"token double-colon punctuation\">::</span>WordUnderCursor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cursor<span class=\"token punctuation\">.</span><span class=\"token function\">mergeCharFormat</span> <span class=\"token punctuation\">(</span>format<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è°ƒç”¨ QTextCursor çš„ mergeCharFonnatOå‡½æ•°å°†å‚æ•°format æ‰€è¡¨ç¤ºçš„æ ¼å¼åº”ç”¨åˆ°å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ä¸Šã€‚</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>format<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//è°ƒç”¨ QTextEdit çš„ merge CurrentCharFormat() </span>\n                                                    <span class=\"token comment\">//å‡½æ•°å°†æ ¼å¼åº”ç”¨åˆ°é€‰åŒºå†…çš„æ‰€æœ‰å­—ç¬¦ä¸Šã€‚</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowSizeSpinBox</span><span class=\"token punctuation\">(</span>QString spinValue<span class=\"token punctuation\">)</span>    <span class=\"token comment\">//è®¾ç½®å­—å·</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontPointSize</span> <span class=\"token punctuation\">(</span>spinValue<span class=\"token punctuation\">.</span><span class=\"token function\">toFloat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowBoldBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                    <span class=\"token comment\">//è®¾ç½®æ–‡å­—åŠ ç²—</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontWeight</span><span class=\"token punctuation\">(</span>boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">isChecked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span>QFont<span class=\"token double-colon punctuation\">::</span>Bold<span class=\"token operator\">:</span>QFont<span class=\"token double-colon punctuation\">::</span> Normal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">/*å…¶ä¸­ï¼Œè°ƒç”¨ QTextCharFormat çš„ setFontWeightOå‡½æ•°è®¾ç½®ç²—ç»†å€¼ï¼Œè‹¥æ£€æµ‹åˆ°â€œåŠ ç²—â€æŒ‰é’®è¢«æŒ‰\nä¸‹ï¼Œåˆ™è®¾ç½®å­—ç¬¦çš„ Weight å€¼ä¸º QFont::Bold, å¯ç›´æ¥è®¾ä¸º 75; åä¹‹ï¼Œåˆ™è®¾ä¸º QFont: :Normalã€‚æ–‡å­—çš„\nç²—ç»†å€¼ç”± QFont::Weight è¡¨ç¤ºï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•´å‹å€¼ï¼Œå–å€¼çš„èŒƒå›´å¯ä¸º 0~99, æœ‰ 5 ä¸ªé¢„ç½®å€¼ï¼Œåˆ†åˆ«ä¸º\nQFont::Light(25) ã€ QFont::Normal(50) ã€ QFont::DemiBold(63) ã€ QFont: :Bold(75)å’Œ QFont::Black(87),\né€šå¸¸åœ¨ QFont: :Normal å’Œ QFont::Bold ä¹‹é—´è½¬æ¢ã€‚*/</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowItalicBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                <span class=\"token comment\">//è®¾ç½®æ–‡å­—åŠ ä¸‹åˆ’çº¿</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontItalic</span><span class=\"token punctuation\">(</span>italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">isChecked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowUnderlineBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span> <span class=\"token function\">setFontUnderline</span> <span class=\"token punctuation\">(</span>underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">isChecked</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowColorBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                 <span class=\"token comment\">//è®¾ç½®é¢œè‰²</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QColor color<span class=\"token operator\">=</span><span class=\"token class-name\">QColorDialog</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">getColor</span><span class=\"token punctuation\">(</span>Qt<span class=\"token double-colon punctuation\">::</span>red<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//ä½¿ç”¨äº†æ ‡å‡†é¢œè‰²å¯¹è¯æ¡†çš„æ–¹å¼ï¼Œå½“å•å‡»â€œé¢œè‰²â€æŒ‰é’®æ—¶ï¼Œ</span>\n                                                          <span class=\"token comment\">//åœ¨å¼¹å‡ºçš„æ ‡å‡†é¢œè‰²å¯¹è¯æ¡†ä¸­é€‰æ‹©é¢œè‰²ã€‚</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span> <span class=\"token function\">isValid</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n        fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setForeground</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\t<span class=\"token comment\">/*æ ‡å‡†é¢œè‰²å¯¹è¯æ¡† QColorDialog ç±»çš„ä½¿ç”¨ï¼š\n\tQColor getColor\n\t(\n\t\tconst QColor&amp; initial=Qt::white,\n        QWidget* parent=0\n\t); \n\tç¬¬ 1 ä¸ªå‚æ•°æŒ‡å®šäº†é€‰ä¸­çš„é¢œè‰²ï¼Œé»˜è®¤ä¸ºç™½è‰²ã€‚é€šè¿‡ QColor::isValidOå¯ä»¥åˆ¤æ–­ç”¨æˆ·é€‰æ‹©çš„é¢œ\nè‰²æ˜¯å¦æœ‰æ•ˆï¼Œè‹¥ç”¨æˆ·å•å‡»â€œå–æ¶ˆ\" (Cancel) æŒ‰é’®ï¼Œåˆ™ QColor::isValid()è¿”å› false ã€‚ç¬¬ 2 ä¸ªå‚æ•°å®š\nä¹‰äº†æ ‡å‡†é¢œè‰²å¯¹è¯æ¡†çš„çˆ¶çª—å£ã€‚ */</span>\n\t\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowCurrentFormatChanged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> QTextCharFormat <span class=\"token operator\">&amp;</span>fmt<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    fontComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCurrentIndex</span><span class=\"token punctuation\">(</span>fontComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">findText</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontFamily</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    sizeComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCurrentIndex</span><span class=\"token punctuation\">(</span>sizeComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">findText</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QString</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">number</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontPointSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setChecked</span> <span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">font</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bold</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setChecked</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontItalic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setChecked</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontUnderline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h1><a id=\"_212\"></a>ä¸‰ã€æ•ˆæœå®ä¾‹</h1>\n<p><font size=\"4\"><strong>å›¾ä¸€</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/35c795a458364226a7e175fc78d13ce2.gif#pic_center\"/><br/> <font size=\"4\"><strong>å›¾äºŒ<br/> å›¾æ ‡å’Œå›¾ç‰‡æ”¾åˆ°æ–°å»ºçš„Resourcesä¸­</strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\90ead058f16948c98e5ef7c633ce5b4a.jpeg\"/></font></font></p>\n<h1><a id=\"_219\"></a>å››ã€åŸç è§£æ</h1>\n<p><font size=\"4\"><strong>å·¥ç¨‹æ–‡ä»¶ï¼ˆåŒ…å«å›¾æ ‡ï¼‰å·²ç»ä¸Šä¼ GitHubï¼Œé€šè¿‡gitç›´æ¥æ‹‰å–å³å¯</strong></font></p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">git</span> clone https://github.com/dhn111/EasyWord.git\n\n</code></pre>\n<h2><a id=\"mainwindowh_228\"></a>mainwindow.h</h2>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">ifndef</span> <span class=\"token expression\">MAINWINDOW_H</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">MAINWINDOW_H</span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QMainWindow&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QImage&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QLabel&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QMenu&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QMenuBar&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QAction&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QComboBox&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QSpinBox&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QToolBar&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QFontComboBox&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QToolButton&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QTextCharFormat&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"showwidget.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QApplication&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QFileDialog&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QFile&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QTextStream&gt;</span>              <span class=\"token comment\">//è¯»å…¥æ–‡æœ¬</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QDebug&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QByteArray&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QTextCodec&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QtPrintSupport/QPrintDialog&gt;</span>  <span class=\"token comment\">//æ‰“å°æ–‡æœ¬</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QtPrintSupport/QPrinter&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QPainter&gt;</span>               <span class=\"token comment\">//æ‰“å°å›¾ç‰‡</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QRect&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QString&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QColorDialog&gt;</span>        <span class=\"token comment\">//æ–‡å­—é¢œè‰²</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QColor&gt;</span></span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MainWindow</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">QMainWindow</span></span>\n<span class=\"token punctuation\">{<!-- --></span>\n    Q_OBJECT\n\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token function\">MainWindow</span><span class=\"token punctuation\">(</span>QWidget <span class=\"token operator\">*</span>parent <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token operator\">~</span><span class=\"token function\">MainWindow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">createActions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>       <span class=\"token comment\">//åˆ›å»ºåŠ¨ä½œ</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">createMenus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>         <span class=\"token comment\">//åˆ›å»ºèœå•</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">createToolBars</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">//åˆ›å»ºå·¥å…·æ </span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">loadFile</span><span class=\"token punctuation\">(</span>QString filename<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">mergeFormat</span><span class=\"token punctuation\">(</span>QTextCharFormat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n    QMenu <span class=\"token operator\">*</span>fileMenu<span class=\"token punctuation\">;</span>                     <span class=\"token comment\">//å„é¡¹èœå•æ </span>\n    QMenu <span class=\"token operator\">*</span>zoomMenu<span class=\"token punctuation\">;</span>\n    QMenu <span class=\"token operator\">*</span>rotateMenu<span class=\"token punctuation\">;</span>\n    QMenu <span class=\"token operator\">*</span>mirrorMenu<span class=\"token punctuation\">;</span>\n    QImage img<span class=\"token punctuation\">;</span>\n    QString fileName<span class=\"token punctuation\">;</span>\n    ShowWidget <span class=\"token operator\">*</span>showWidget<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>openFileAction<span class=\"token punctuation\">;</span>          <span class=\"token comment\">//æ–‡ä»¶èœå•é¡¹</span>\n    QAction <span class=\"token operator\">*</span>NewFileAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>PrintTextAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>PrintImageAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>exitAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>copyAction<span class=\"token punctuation\">;</span>           <span class=\"token comment\">//ç¼–è¾‘èœå•é¡¹</span>\n    QAction <span class=\"token operator\">*</span>cutAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>pasteAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>aboutAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>zoomInAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>zoomOutAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>rotate90Action<span class=\"token punctuation\">;</span>       <span class=\"token comment\">//æ—‹è½¬èœå•é¡¹</span>\n    QAction <span class=\"token operator\">*</span>rotate180Action<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>rotate270Action<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>mirrorVerticalAction<span class=\"token punctuation\">;</span>     <span class=\"token comment\">//é•œåƒèœå•é¡¹</span>\n    QAction <span class=\"token operator\">*</span>mirrorHorizontalAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>undoAction<span class=\"token punctuation\">;</span>\n    QAction <span class=\"token operator\">*</span>redoAction<span class=\"token punctuation\">;</span>\n    QToolBar <span class=\"token operator\">*</span>fileTool<span class=\"token punctuation\">;</span>              <span class=\"token comment\">//å·¥å…·æ </span>\n    QToolBar <span class=\"token operator\">*</span>zoomTool<span class=\"token punctuation\">;</span>\n    QToolBar <span class=\"token operator\">*</span>rotateTool<span class=\"token punctuation\">;</span>\n    QToolBar <span class=\"token operator\">*</span>mirrorTool<span class=\"token punctuation\">;</span>\n    QToolBar <span class=\"token operator\">*</span>doToolBar<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/****************æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½*****************/</span>\n\n    QLabel <span class=\"token operator\">*</span>fontLabel1<span class=\"token punctuation\">;</span> <span class=\"token comment\">//å­—ä½“è®¾ç½®é¡¹</span>\n    QFontComboBox <span class=\"token operator\">*</span>fontComboBox<span class=\"token punctuation\">;</span>\n    QLabel <span class=\"token operator\">*</span>fontLabel2<span class=\"token punctuation\">;</span>\n    QComboBox <span class=\"token operator\">*</span>sizeComboBox<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>boldBtn<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>italicBtn<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>underlineBtn<span class=\"token punctuation\">;</span>\n    QToolButton <span class=\"token operator\">*</span>colorBtn<span class=\"token punctuation\">;</span>\n    QToolBar <span class=\"token operator\">*</span>fontToolBar<span class=\"token punctuation\">;</span> <span class=\"token comment\">//å­—ä½“å·¥å…·æ </span>\n\n\n\n\n<span class=\"token keyword\">private</span> slots<span class=\"token operator\">:</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">//æ–°å»ºæ–‡ä»¶</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowOpenFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//æ‰“å¼€æ–‡ä»¶</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowPrintText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//æ‰“å°æ–‡æœ¬</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowPrintImage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//æ‰“å°å›¾åƒ</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowZoomIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">//ç¼©æ”¾åŠŸèƒ½æ”¾å¤§</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowZoomOut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">//ç¼©æ”¾åŠŸèƒ½ç¼©å°</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowRotate90</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//æ—‹è½¬90Â°</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowRotate180</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//æ—‹è½¬180Â°</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowRotate270</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//æ—‹è½¬270Â°</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowMirrorVertical</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//çºµå‘</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowMirrorHorizontal</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//æ¨ªå‘</span>\n\n\n\n    <span class=\"token comment\">/*****************æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½****************************/</span>\n\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowFontComboBox</span><span class=\"token punctuation\">(</span>QString comboStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowSizeSpinBox</span><span class=\"token punctuation\">(</span>QString spinValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowBoldBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowItalicBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowUnderlineBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowColorBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">ShowCurrentFormatChanged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> QTextCharFormat <span class=\"token operator\">&amp;</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span> <span class=\"token comment\">// MAINWINDOW_H</span></span>\n\n</code></pre>\n<h2><a id=\"showwidgeth_352\"></a>showwidget.h</h2>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">ifndef</span> <span class=\"token expression\">SHOWWIDGET_H</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">SHOWWIDGET_H</span></span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QWidget&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QImage&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QLabel&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QTextEdit&gt;</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QHBoxLayout&gt;</span></span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ShowWidget</span> <span class=\"token operator\">:</span> <span class=\"token base-clause\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">QWidget</span></span>\n<span class=\"token punctuation\">{<!-- --></span>\n    Q_OBJECT\n<span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">explicit</span> <span class=\"token function\">ShowWidget</span><span class=\"token punctuation\">(</span>QWidget <span class=\"token operator\">*</span>parent <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    QImage img<span class=\"token punctuation\">;</span>\n    QLabel <span class=\"token operator\">*</span>imageLabel<span class=\"token punctuation\">;</span>\n    QTextEdit <span class=\"token operator\">*</span>text<span class=\"token punctuation\">;</span>\n\n\nsignals<span class=\"token operator\">:</span>\n\n<span class=\"token keyword\">public</span> slots<span class=\"token operator\">:</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span> <span class=\"token comment\">// SHOWWIDGET_H</span></span>\n\n</code></pre>\n<h2><a id=\"maincpp_382\"></a>main.cpp</h2>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"mainwindow.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;QApplication&gt;</span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> argc<span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> <span class=\"token operator\">*</span>argv<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QApplication <span class=\"token function\">a</span><span class=\"token punctuation\">(</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    MainWindow w<span class=\"token punctuation\">;</span>\n    w<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h2><a id=\"mainwindowcpp_398\"></a>mainwindow.cpp</h2>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"mainwindow.h\"</span></span>\n\n<span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">MainWindow</span><span class=\"token punctuation\">(</span>QWidget <span class=\"token operator\">*</span>parent<span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">:</span> <span class=\"token function\">QMainWindow</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\n    <span class=\"token comment\">//å„é¡¹èœå•æ </span>\n    fileMenu <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> QMenu<span class=\"token punctuation\">;</span>\n    zoomMenu <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> QMenu<span class=\"token punctuation\">;</span>\n    rotateMenu <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> QMenu<span class=\"token punctuation\">;</span>\n    mirrorMenu <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> QMenu<span class=\"token punctuation\">;</span>\n    showWidget <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> ShowWidget<span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token comment\">//æ–‡ä»¶èœå•</span>\n    openFileAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n    NewFileAction  <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n    PrintTextAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n    PrintImageAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n    exitAction       <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n\n     <span class=\"token comment\">//ç¼©æ”¾èœå•</span>\n     copyAction   <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     cutAction    <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     pasteAction  <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     aboutAction  <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     zoomInAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     zoomOutAction<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n\n     <span class=\"token comment\">//æ—‹è½¬èœå•é¡¹</span>\n     rotate90Action <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     rotate180Action<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     rotate270Action<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n\n     <span class=\"token comment\">//é•œåƒèœå•é¡¹</span>\n     mirrorVerticalAction  <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     mirrorHorizontalAction<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     undoAction  <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n     redoAction  <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QAction<span class=\"token punctuation\">;</span>\n\n     <span class=\"token comment\">//å·¥å…·æ </span>\n     fileTool <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span>  QToolBar<span class=\"token punctuation\">;</span>\n     zoomTool <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span>  QToolBar<span class=\"token punctuation\">;</span>\n     rotateTool <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span>  QToolBar<span class=\"token punctuation\">;</span>\n     mirrorTool <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span>  QToolBar<span class=\"token punctuation\">;</span>\n     doToolBar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span>  QToolBar<span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token function\">setWindowTitle</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Easy Word\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//è®¾ç½®çª—ä½“æ ‡é¢˜</span>\n    showWidget <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">ShowWidget</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//ï¼ˆaï¼‰</span>\n    <span class=\"token function\">setCentralWidget</span><span class=\"token punctuation\">(</span>showWidget<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token comment\">/*åˆ›å»ºåŠ¨ä½œã€èœå•ã€å·¥å…·æ çš„å‡½æ•°*/</span>\n    <span class=\"token function\">createActions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">createMenus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">createToolBars</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/PKQ.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//åœ¨ imageLabel å¯¹è±¡ä¸­æ”¾ç½®å›¾ç‰‡</span>\n        showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token operator\">~</span><span class=\"token function\">MainWindow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">createActions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token comment\">//â€œæ‰“å¼€â€åŠ¨ä½œ</span>\n    openFileAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/open.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰“å¼€\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//(a)</span>\n    openFileAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setShortcut</span> <span class=\"token punctuation\">(</span><span class=\"token function\">tr</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Ctrl+O\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                      <span class=\"token comment\">//(b)</span>\n    openFileAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                 <span class=\"token comment\">//(c)</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>openFileAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowOpenFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"æ–°å»ºâ€œåŠ¨ä½œ</span>\n    NewFileAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/new.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ–°å»º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    NewFileAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setShortcut</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Ctrl+N\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    NewFileAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ–°å»ºä¸€ä¸ªæ–‡ä»¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>NewFileAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// \"é€€å‡ºâ€œåŠ¨ä½œ</span>\n    exitAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é€€å‡º\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    exitAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setShortcut</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Ctrl+Q\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    exitAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"é€€å‡ºç¨‹åº\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>exitAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// \"å¤åˆ¶â€åŠ¨ä½œ</span>\n    copyAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/copy.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¤åˆ¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    copyAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setShortcut</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Ctrl+C\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    copyAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" å¤åˆ¶æ–‡ä»¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>copyAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span> <span class=\"token function\">triggered</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">copy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"å‰ªåˆ‡â€œåŠ¨ä½œ</span>\n    cutAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/cut.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‰ªåˆ‡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cutAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setShortcut</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Ctrl+X\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cutAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å‰ªåˆ‡æ–‡ä»¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>cutAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span> <span class=\"token function\">triggered</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">cut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"ç²˜è´´â€œåŠ¨ä½œ</span>\n    pasteAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/paste.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç²˜è´´\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    pasteAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setShortcut</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Ctrl+V\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    pasteAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç²˜è´´æ–‡ä»¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>pasteAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">paste</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"å…³äºâ€œåŠ¨ä½œ</span>\n    aboutAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å…³äº\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>aboutAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QApplication</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">aboutQt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"æ‰“å°æ–‡æœ¬â€œåŠ¨ä½œ</span>\n    PrintTextAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/printText.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" æ‰“å°æ–‡æœ¬\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    PrintTextAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰“å°ä¸€ä¸ªæ–‡æœ¬\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>PrintTextAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowPrintText</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"æ‰“å°å›¾ç‰‡â€œåŠ¨ä½œ</span>\n    PrintImageAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/printimage.png\"</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰“å°å›¾ç‰‡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    PrintImageAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ‰“å°ä¸€å¹…å›¾ç‰‡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>PrintImageAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowPrintImage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"æ”¾å¤§â€œåŠ¨ä½œ</span>\n    zoomInAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span> <span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/zoomin.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" æ”¾å¤§ \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomInAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ”¾å¤§ä¸€å¹…å›¾ç‰‡\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>zoomInAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowZoomIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//\"ç¼©å°â€œåŠ¨ä½œ</span>\n    zoomOutAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/zoomout.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¼©å° \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomOutAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¼©å°ä¸€å¹…å›¾ç‰‡ \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>zoomOutAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowZoomOut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//å®ç°å›¾ç‰‡æ—‹è½¬çš„åŠ¨ä½œ (Action)</span>\n    <span class=\"token comment\">//æ—‹è½¬ 90Â°</span>\n    rotate90Action <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span> <span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/rotate90.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ—‹è½¬ 90Â°\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotate90Action<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°†ä¸€å¹…å›¾æ—‹è½¬90Â°\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>rotate90Action<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowRotate90</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//æ—‹è½¬180Â°</span>\n    rotate180Action <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span> <span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/rotate180.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ—‹è½¬ 180Â°\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotate180Action<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°†ä¸€å¹…å›¾æ—‹è½¬180Â°\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>rotate180Action<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowRotate180</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//æ—‹è½¬270Â°</span>\n    rotate270Action <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/rotate270.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ—‹è½¬ 270Â°\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotate270Action<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å°†ä¸€å¹…å›¾æ—‹è½¬ 270Â°\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>rotate270Action<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowRotate270</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//å®ç°å›¾ç‰‡é•œåƒçš„åŠ¨ä½œï¼ˆActionï¼‰</span>\n    <span class=\"token comment\">//çºµå‘é•œåƒ</span>\n    mirrorVerticalAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/mirrorVertical.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çºµå‘é•œåƒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mirrorVerticalAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¯¹ä¸€å¹…å›¾åšçºµå‘é•œåƒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>mirrorVerticalAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowMirrorVertical</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//æ¨ªå‘é•œåƒ</span>\n    mirrorHorizontalAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/mirrorHorizontal.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ¨ªå‘é•œåƒ \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mirrorHorizontalAction<span class=\"token operator\">-&gt;</span><span class=\"token function\">setStatusTip</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å¯¹ä¸€å¹…å›¾åšæ¨ªå‘é•œåƒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>mirrorHorizontalAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowMirrorHorizontal</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//å®ç°æ’¤é”€å’Œé‡åšçš„åŠ¨ä½œï¼ˆACtionï¼‰</span>\n    <span class=\"token comment\">//æ’¤é”€å’Œé‡åš</span>\n    undoAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span> <span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/undo.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"æ’¤é”€\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>undoAction<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">undo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    redoAction <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QAction</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/redo.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"é‡åš\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>redoAction<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">triggered</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">redo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n    <span class=\"token comment\">//åœ¨å·¥å…·æ ä¸ŠåµŒå…¥æ§ä»¶</span>\n    <span class=\"token comment\">//è®¾ç½®å­—å·</span>\n   fontLabel1 <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QLabel</span> <span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­—ä½“ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   fontComboBox <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QFontComboBox<span class=\"token punctuation\">;</span>\n   fontComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">setFontFilters</span><span class=\"token punctuation\">(</span>QFontComboBox<span class=\"token double-colon punctuation\">::</span>ScalableFonts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   fontLabel2 <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QLabel</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"å­—å·ï¼š\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   sizeComboBox <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QComboBox<span class=\"token punctuation\">;</span>\n   QFontDatabase db<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/***************æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½******************/</span>\n   <span class=\"token function\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> size<span class=\"token punctuation\">,</span>db<span class=\"token punctuation\">.</span><span class=\"token function\">standardSizes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{<!-- --></span>\n       sizeComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">addItem</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QString</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">number</span><span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   boldBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/bold.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>boldBtn<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowBoldBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   italicBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/italic.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>italicBtn<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowItalicBtn</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n\n   underlineBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/underline.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">connect</span> <span class=\"token punctuation\">(</span>underlineBtn<span class=\"token punctuation\">,</span> <span class=\"token function\">SIGNAL</span> <span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token function\">SLOT</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ShowUnderlineBtn</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n   colorBtn <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QToolButton<span class=\"token punctuation\">;</span>\n   colorBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token function\">QIcon</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":/src/color.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   colorBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCheckable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>colorBtn<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">clicked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowColorBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n   <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>fontComboBox<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">activated</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowFontComboBox</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>sizeComboBox<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">activated</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowSizeSpinBox</span><span class=\"token punctuation\">(</span>QString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n\n\n\n   <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token punctuation\">,</span><span class=\"token function\">SIGNAL</span><span class=\"token punctuation\">(</span><span class=\"token function\">currentCharFormatChanged</span><span class=\"token punctuation\">(</span>QTextCharFormat<span class=\"token operator\">&amp;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span><span class=\"token function\">SLOT</span><span class=\"token punctuation\">(</span><span class=\"token function\">ShowCurrentFormatChanged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> QTextCharFormat <span class=\"token operator\">&amp;</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">createMenus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token comment\">//æ–‡ä»¶èœå•</span>\n\n    fileMenu <span class=\"token operator\">=</span><span class=\"token function\">menuBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-&gt;</span><span class=\"token function\">addMenu</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ–‡ä»¶\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    fileMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>openFileAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>NewFileAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>PrintTextAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>PrintImageAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>exitAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//ç¼©æ”¾èœå•</span>\n\n    zoomMenu <span class=\"token operator\">=</span><span class=\"token function\">menuBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-&gt;</span><span class=\"token function\">addMenu</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ç¼–è¾‘\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>copyAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>cutAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>pasteAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>aboutAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>zoomInAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>zoomOutAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//æ—‹è½¬èœå•</span>\n    rotateMenu <span class=\"token operator\">=</span><span class=\"token function\">menuBar</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-&gt;</span><span class=\"token function\">addMenu</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"æ—‹è½¬\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    rotateMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>rotate90Action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotateMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>rotate180Action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotateMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>rotate270Action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//é•œåƒèœå•</span>\n    mirrorMenu <span class=\"token operator\">=</span><span class=\"token function\">menuBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-&gt;</span><span class=\"token function\">addMenu</span><span class=\"token punctuation\">(</span><span class=\"token function\">tr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" é•œåƒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    mirrorMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>mirrorVerticalAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mirrorMenu<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>mirrorHorizontalAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">createToolBars</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token comment\">//æ–‡ä»¶å·¥å…·æ¡</span>\n    fileTool <span class=\"token operator\">=</span><span class=\"token function\">addToolBar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"File\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>openFileAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>NewFileAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>PrintTextAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fileTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>PrintImageAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//ç¼–è¾‘å·¥å…·æ¡</span>\n    zoomTool <span class=\"token operator\">=</span><span class=\"token function\">addToolBar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Edit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>copyAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>cutAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>pasteAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>zoomInAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    zoomTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>zoomOutAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//æ—‹è½¬å·¥å…·æ¡</span>\n    rotateTool <span class=\"token operator\">=</span><span class=\"token function\">addToolBar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rotate\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotateTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>rotate90Action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotateTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>rotate180Action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    rotateTool<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>rotate270Action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//æ’¤é”€å’Œé‡åšå·¥å…·æ¡</span>\n    doToolBar <span class=\"token operator\">=</span><span class=\"token function\">addToolBar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"doEdit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    doToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>undoAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    doToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addAction</span><span class=\"token punctuation\">(</span>redoAction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//å­—ä½“å·¥å…·æ¡</span>\n    fontToolBar <span class=\"token operator\">=</span><span class=\"token function\">addToolBar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Font\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>fontLabel1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>fontComboBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>fontLabel2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>sizeComboBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>boldBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span> <span class=\"token punctuation\">(</span>italicBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>underlineBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addSeparator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    fontToolBar<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>colorBtn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowNewFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                  <span class=\"token comment\">//æ–°å»ºæ–‡ä»¶çš„æ§½</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    MainWindow <span class=\"token operator\">*</span>newMainWindow <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> MainWindow<span class=\"token punctuation\">;</span>\n    newMainWindow<span class=\"token operator\">-&gt;</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowOpenFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                  <span class=\"token comment\">//è¯»å–æ–‡ä»¶çš„æ§½</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    fileName <span class=\"token operator\">=</span><span class=\"token class-name\">QFileDialog</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">getOpenFileName</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>fileName<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">document</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-&gt;</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token function\">loadFile</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            MainWindow <span class=\"token operator\">*</span>newMainWindows <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> MainWindow<span class=\"token punctuation\">;</span>\n            newMainWindows<span class=\"token operator\">-&gt;</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            newMainWindows<span class=\"token operator\">-&gt;</span><span class=\"token function\">loadFile</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">if</span> <span class=\"token expression\"><span class=\"token number\">1</span></span></span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">loadFile</span><span class=\"token punctuation\">(</span>QString filename<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\n     QFile  <span class=\"token function\">file</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>QIODevice<span class=\"token double-colon punctuation\">::</span>ReadOnly<span class=\"token operator\">|</span>QIODevice<span class=\"token double-colon punctuation\">::</span>Text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n         QTextStream <span class=\"token function\">textStream</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>textStream<span class=\"token punctuation\">.</span><span class=\"token function\">atEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n\n\n            showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>textStream<span class=\"token punctuation\">.</span><span class=\"token function\">readLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n        <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span></span>\n\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">if</span> <span class=\"token expression\"><span class=\"token number\">0</span></span></span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">loadFile</span><span class=\"token punctuation\">(</span>QString filename<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n\n     QFile  <span class=\"token function\">file</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     QTextCodec <span class=\"token operator\">*</span>codec <span class=\"token operator\">=</span> <span class=\"token class-name\">QTextCodec</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">codecForName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GBK\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>QIODevice<span class=\"token double-colon punctuation\">::</span>ReadOnly<span class=\"token operator\">|</span>QIODevice<span class=\"token double-colon punctuation\">::</span>Text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n\n        <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>file<span class=\"token punctuation\">.</span><span class=\"token function\">atEnd</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n            QByteArray line <span class=\"token operator\">=</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">readLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            QString str <span class=\"token operator\">=</span> codec<span class=\"token operator\">-&gt;</span><span class=\"token function\">toUnicode</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//qDebug()&lt;&lt;textStream.readLine();</span>\n\n        <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span></span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowPrintText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>             <span class=\"token comment\">//æ–‡æœ¬æ‰“å°</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QPrinter printer<span class=\"token punctuation\">;</span>\n    QPrintDialog <span class=\"token function\">printDialog</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>printer<span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>printDialog<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//è·å¾—QTextEditå¯¹è±¡çš„æ–‡æ¡£</span>\n        QTextDocument <span class=\"token operator\">*</span>doc <span class=\"token operator\">=</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">document</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        doc<span class=\"token operator\">-&gt;</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>printer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//æ‰“å°</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowPrintImage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>           <span class=\"token comment\">//å›¾åƒæ‰“å°</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QPrinter printer<span class=\"token punctuation\">;</span>\n    QPrintDialog <span class=\"token function\">printDialog</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>printer<span class=\"token punctuation\">,</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>printDialog<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        QPainter <span class=\"token function\">painter</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>printer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        QRect rect <span class=\"token operator\">=</span>painter<span class=\"token punctuation\">.</span><span class=\"token function\">viewport</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//è·å¾—QPainterå¯¹è±¡çš„è§†å›¾çŸ©å½¢åŒºåŸŸ</span>\n        QSize size <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>          <span class=\"token comment\">//è·å¾—å›¾åƒçš„å¤§å°</span>\n        <span class=\"token comment\">/*æŒ‰ç…§å›¾å½¢çš„æ¯”ä¾‹å¤§å°é‡æ–°è®¾ç½®è§†å›¾çŸ©å½¢åŒºåŸŸ*/</span>\n        size<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> Qt<span class=\"token double-colon punctuation\">::</span>KeepAspectRatio<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        painter<span class=\"token punctuation\">.</span><span class=\"token function\">setViewport</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">x</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">y</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>size<span class=\"token punctuation\">.</span><span class=\"token function\">width</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>size<span class=\"token punctuation\">.</span><span class=\"token function\">height</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        painter<span class=\"token punctuation\">.</span><span class=\"token function\">setWindow</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">rect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        painter<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowZoomIn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>          <span class=\"token comment\">//å›¾åƒæ”¾å¤§</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">isNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">//æœ‰æ•ˆæ€§åˆ¤æ–­</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    QMatrix matrix<span class=\"token punctuation\">;</span>     <span class=\"token comment\">//å£°æ˜ä¸€ä¸ªQMatrixç±»çš„å®ä¾‹</span>\n    matrix<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">transformed</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowZoomOut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">//å›¾åƒç¼©å°</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">isNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    QMatrix matrix<span class=\"token punctuation\">;</span>\n    matrix<span class=\"token punctuation\">.</span><span class=\"token function\">scale</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token operator\">=</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">transformed</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowRotate90</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>                  <span class=\"token comment\">//æ—‹è½¬90Â°</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">isNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    QMatrix matrix<span class=\"token punctuation\">;</span>\n    matrix<span class=\"token punctuation\">.</span><span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">90</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">transformed</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowRotate180</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>        <span class=\"token comment\">//æ—‹è½¬180Â°</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">isNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    QMatrix matrix<span class=\"token punctuation\">;</span>\n    matrix<span class=\"token punctuation\">.</span><span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">180</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">transformed</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowRotate270</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">//æ—‹è½¬270Â°</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">isNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    QMatrix matrix<span class=\"token punctuation\">;</span>\n    matrix<span class=\"token punctuation\">.</span><span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">270</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    img <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span><span class=\"token function\">transformed</span><span class=\"token punctuation\">(</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowMirrorVertical</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//çºµå‘é•œåƒ</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span> <span class=\"token function\">isNull</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token operator\">=</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">mirrored</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowMirrorHorizontal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//æ¨ªå‘é•œåƒ</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">.</span> <span class=\"token function\">isNull</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    img<span class=\"token operator\">=</span>img<span class=\"token punctuation\">.</span><span class=\"token function\">mirrored</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setPixmap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QPixmap</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">fromImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowFontComboBox</span><span class=\"token punctuation\">(</span>QString comboStr<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>             <span class=\"token comment\">//è®¾ç½®å­—ä½“</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontFamily</span><span class=\"token punctuation\">(</span>comboStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">mergeFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">mergeFormat</span><span class=\"token punctuation\">(</span>QTextCharFormat format<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCursor cursor <span class=\"token operator\">=</span>showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">textCursor</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//è·å¾—ç¼–è¾‘æ¡†ä¸­çš„å…‰æ ‡</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>cursor<span class=\"token punctuation\">.</span> <span class=\"token function\">hasSelection</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//(a)</span>\n    cursor<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>QTextCursor<span class=\"token double-colon punctuation\">::</span>WordUnderCursor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    cursor<span class=\"token punctuation\">.</span><span class=\"token function\">mergeCharFormat</span> <span class=\"token punctuation\">(</span>format<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// (b)</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>format<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//(c)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowSizeSpinBox</span><span class=\"token punctuation\">(</span>QString spinValue<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontPointSize</span> <span class=\"token punctuation\">(</span>spinValue<span class=\"token punctuation\">.</span><span class=\"token function\">toFloat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowBoldBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontWeight</span><span class=\"token punctuation\">(</span>boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">isChecked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span>QFont<span class=\"token double-colon punctuation\">::</span>Bold<span class=\"token operator\">:</span>QFont<span class=\"token double-colon punctuation\">::</span> Normal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowItalicBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setFontItalic</span><span class=\"token punctuation\">(</span>italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">isChecked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowUnderlineBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n    fmt<span class=\"token punctuation\">.</span> <span class=\"token function\">setFontUnderline</span> <span class=\"token punctuation\">(</span>underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">isChecked</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowColorBtn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    QColor color<span class=\"token operator\">=</span><span class=\"token class-name\">QColorDialog</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">getColor</span><span class=\"token punctuation\">(</span>Qt<span class=\"token double-colon punctuation\">::</span>red<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">.</span> <span class=\"token function\">isValid</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{<!-- --></span>\n        QTextCharFormat fmt<span class=\"token punctuation\">;</span>\n        fmt<span class=\"token punctuation\">.</span><span class=\"token function\">setForeground</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        showWidget<span class=\"token operator\">-&gt;</span>text<span class=\"token operator\">-&gt;</span><span class=\"token function\">mergeCurrentCharFormat</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token class-name\">MainWindow</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowCurrentFormatChanged</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> QTextCharFormat <span class=\"token operator\">&amp;</span>fmt<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    fontComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCurrentIndex</span><span class=\"token punctuation\">(</span>fontComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">findText</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontFamily</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span>\n    sizeComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">setCurrentIndex</span><span class=\"token punctuation\">(</span>sizeComboBox<span class=\"token operator\">-&gt;</span><span class=\"token function\">findText</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">QString</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">number</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontPointSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    boldBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setChecked</span> <span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">font</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bold</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    italicBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setChecked</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontItalic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    underlineBtn<span class=\"token operator\">-&gt;</span><span class=\"token function\">setChecked</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">fontUnderline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h2><a id=\"showwidgetcpp_921\"></a>showwidget.cpp</h2>\n<pre><code class=\"prism language-cpp\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"showwidget.h\"</span></span>\n\n<span class=\"token class-name\">ShowWidget</span><span class=\"token double-colon punctuation\">::</span><span class=\"token function\">ShowWidget</span><span class=\"token punctuation\">(</span>QWidget <span class=\"token operator\">*</span>parent<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">QWidget</span><span class=\"token punctuation\">(</span>parent<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{<!-- --></span>\n    imageLabel <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QLabel<span class=\"token punctuation\">;</span>\n    imageLabel<span class=\"token operator\">-&gt;</span><span class=\"token function\">setScaledContents</span><span class=\"token punctuation\">(</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    text <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> QTextEdit<span class=\"token punctuation\">;</span>\n    QHBoxLayout <span class=\"token operator\">*</span>mainLayout <span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token function\">QHBoxLayout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mainLayout<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>imageLabel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    mainLayout<span class=\"token operator\">-&gt;</span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<hr/>\n<h1><a id=\"_941\"></a>æ€»ç»“</h1>\n<p><font size=\"4\">çª—å£æ„æˆä¼šåœ¨åº”ç”¨ç¨‹åºå¼€å‘ä¸­ç»å¸¸ç”¨åˆ°çš„</font></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-07 10:46:06", "summary": "æ¬¢è¿å°ä¼™ä¼´çš„ç‚¹è¯„ï¼Œç›¸äº’å­¦ä¹ ã€äº’å…³å¿…å›ã€å…¨å¤©åœ¨çº¿åšä¸»æœ¬ç€å¼€æºçš„ç²¾ç¥äº¤æµå¼€å‘çš„ç»éªŒã€å°†æŒç»­æ›´æ–°ç»­ç« ï¼Œä¸ºç¤¾åŒºè´¡çŒ®åšä¸»è‡ªèº«çš„å¼€æºç²¾ç¥æ–‡ç« ç›®å½•å‰è¨€ä¸€ã€æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½æ¦‚è¿°äºŒã€åŸºäºæ¡†æ¶è¿›è¡Œå‡çº§æ¡†æ¶ã€å®ç°å¢åŠ æ–‡æœ¬ç¼–è¾‘æ¨¡"}