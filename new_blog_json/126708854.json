{"blogid": "126708854", "writerAge": "码龄3年", "writerBlogNum": "141", "writerCollect": "6713", "writerComment": "215", "writerFan": "1086", "writerGrade": "5级", "writerIntegral": "3269", "writerName": "Hi梅", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126708854.jpg", "writerRankTotal": "5097", "writerRankWeekly": "1380", "writerThumb": "1181", "writerVisitNum": "387681", "blog_read_count": "27", "blog_time": "已于 2022-09-07 14:19:24 修改", "blog_title": "猿创征文｜【手把手教你】如何获取中国天气网，获取想要城市的天气-图文并茂-分析代码", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>📃目录跳转</h3>\n<ul><li><ul><li><a href=\"#_1\">📚简介：</a></li><li><a href=\"#_11\">💨需求：</a></li><li><a href=\"#_24\">🎉自己分析接口：</a></li><li><ul><li><a href=\"#_46\">💭分析请求接口：</a></li><li><a href=\"#_62\">🌤️分析出当天天气接口：</a></li><li><a href=\"#_93\">☁️分析出实况天气接口:</a></li><li><a href=\"#_133\">🧐思考问题（关键）：</a></li><li><a href=\"#_189\">🔭验证猜想：</a></li></ul>\n</li><li><a href=\"#_246\">🎃代码编写：</a></li><li><ul><li><a href=\"#AREAID_265\">🗺️城市AREAID获取：</a></li><li><a href=\"#_314\">🎢城市实况天气获取：</a></li><li><a href=\"#_365\">🚀城市当天天气获取：</a></li></ul>\n</li><li><a href=\"#_368\">🏆总结：</a></li><li><a href=\"#_373\">🍥结束:</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<h2><a id=\"_1\"></a>📚简介：</h2>\n<blockquote>\n<p>       这一篇文章的定义已经不是教程篇了，教你如何通过自己的需求来完成功能，有的时候我们会遇到处理一些事情时，我们自己没办法解决，但是可以通过第三方服务解决时一般通过以下方式解决。</p>\n</blockquote>\n<blockquote>\n<p>通常有3种情况：</p>\n</blockquote>\n<ol><li>购买第三方的服务，或者入驻开发者。</li><li>自己通过分析第三方服务商接口拿到自己想要的信息</li><li>我们分析不了，大概率只要钱给够，第三方都会提供对应的服务。</li></ol>\n<h2><a id=\"_11\"></a>💨需求：</h2>\n<blockquote>\n<p>    我这里就以之前文章，通过公众号定时推送天气信息给好友为例，其中通过好友设置不同城市，获取不同天气这个案例中，随着日期的改变，天气的情况也会跟着改变，那么就需要通过接口查询天气情况等</p>\n</blockquote>\n<p>完成方式有2个或者更多，我这里就说我了解的几个方案，</p>\n<ol><li>     通过入驻开发者获取秘钥信息，调用平台接口获取到值也是比较完善的并且是json格式返回后续不需要过度处理，但是人家为什么给你免费用呀，要不就是有调用的次数或者是超过以后要收费。</li></ol>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\df2967dab2274935b24a26b5a6e2cc90.png\"/></p>\n<ol start=\"2\"><li>自己通过分析第三方接口，拿到自己想要的信息。</li></ol>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\87cf58198cad444ab52d4ea70d51ffe8.png\"/></p>\n<h2><a id=\"_24\"></a>🎉自己分析接口：</h2>\n<blockquote>\n<p>    对于我来说，写文章我既没有挣到钱，也没有靠软件卖钱，纯纯的技术分享，让小白也可以完成公众号推送天气，并且作为开发者来说，不应该出现玩一玩学习下还要花钱才能完成，我相信还是有很多学生读者朋友们，那么更应该不花钱并且挑战下自己。</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\b94eee56cf8c48eb8b22a8b1604d7637.png\"/></p>\n<p>    自己分享下获取<code>中国天气网</code>的数据，既然他要展示那么肯定会请求后端接口，获取城市信息，就算返回的不是json数据我们也可以想办法解析出自己需要的数据。</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2d9d6d6b05c84be295dce35c040c88e0.png\"/></p>\n<hr/>\n<p>     分析接口数据，最好是可以想到网站会在那个页面展示最全的数据信息，这样我们获取到的数据就越多。</p>\n<blockquote>\n<p>点击页面天气信息</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\b11af6165fbc45ab9d4c6a66d87ff173.png\"/></p>\n<p>     点击进入可以看到，<strong>天气的实时温度，湿度，风速，空气质量等信息</strong>，其实后台返回的接口数据不止这些，还有挺多的数据没有被展示出来</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\483b60bd60844522a06495b997d7dcbf.png\"/></p>\n<h3><a id=\"_46\"></a>💭分析请求接口：</h3>\n<p>      在浏览器中按<code>F12</code>,或者右键选择<code>检查</code>会跳出控制台，我们选择网络哪项，我这个是中文的如果你们是英文那应该是<code>Network</code></p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ff7061c6a23041c2b2ee8b9f75e190f0.png\"/></p>\n<p>然后分析请求的信息，可以排除<code>png,jpeg</code>类型请求，因为这个类型是图片。</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c8998c2c73df407e8ae6bc44f88c5b61.png\"/><br/> 然后查看请求文件的响应内容，然后查看响应的数据是不是存在有用的<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ec3f1b063c9a428cb4b0a2695045df7d.png\"/></p>\n<p>我什么要叫你们看响应内容是有原因的，有些接口返回的数据在预览里面会出现乱码</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\17df0db43f7f43f1a06162e4fae70930.png\"/><br/> 所以你们可以<strong>先看预览</strong>如果<strong>乱码</strong>那么<strong>就在看响应</strong>里的数据。</p>\n<h3><a id=\"_62\"></a>🌤️分析出当天天气接口：</h3>\n<p>我是一个一个请求响应看过去，看到了这个文件有我想要的数据</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\893dede2705d4f0c92f5f4ae952b3c77.png\"/></p>\n<blockquote>\n<p>请求地址：http://d1.weather.com.cn/dingzhi/101230101.html</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\e526f5378f134260874b9a3529c3513c.png\"/></p>\n<blockquote>\n<p>响应数据内容</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">var</span> cityDZ101230101 <span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token string-property property\">\"weatherinfo\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token string-property property\">\"city\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101230101\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"cityname\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"福州\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"fctime\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"202209061100\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"temp\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"34℃\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"tempn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"25℃\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"weather\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"多云\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"weathercode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"d1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"weathercoden\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"n1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"wd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"东风转东北风\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"ws\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;3级\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> alarmDZ101230101 <span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token string-property property\">\"w\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n</code></pre>\n<p>我把内容排版优化下是不是可以看出，我们需要的关键信息，<code>有城市，最高温度，最低温度，天气类型，风速等信息</code>。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\d7d5e2d9325248ab8817c673744da0cf.png\"/><br/> 从图中可以看出前面那个接口获取的是当天的天气，并<code>没有包含实况的天气信息</code>，就是左侧展示的数据，那么我们接着查找接口信息。</p>\n<h3><a id=\"_93\"></a>☁️分析出实况天气接口:</h3>\n<p>接着往下面找，可以看到预览里面的数据对应这实况数据。那么该接口就是实况天气接口</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\19417cce838a4500a6db40702c72dfab.png\"/></p>\n<blockquote>\n<p>请求地址：<br/> http://d1.weather.com.cn/sk_2d/101230101.html</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\8429c98e2026489bad03eef351008e96.png\"/></p>\n<blockquote>\n<p>响应数据内容</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">var</span> dataSK<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token string-property property\">\"nameen\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"fuzhou\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"cityname\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"福州\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"city\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101230101\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"temp\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"27\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"tempf\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"80\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"WD\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"微风\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"wde\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NWW\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"WS\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2级\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"wse\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10km\\/h\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"SD\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"63%\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"sd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"63%\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"qy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1003\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"njd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"24km\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"time\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"17:35\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"rain\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"rain24h\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"aqi\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"50\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"aqi_pm25\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"50\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"weather\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"多云\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"weathere\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Cloudy\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"weathercode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"d01\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"limitnumber\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"09月06日(星期二)\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>我把内容排版优化下是不是可以看出,<code>实况温度,时间,湿度,风速,以及pm2.5的信息</code>。</p>\n<hr/>\n<h3><a id=\"_133\"></a>🧐思考问题（关键）：</h3>\n<p>        但是你会发现一个问题他们的请求路径当然是不一样的，我想说的是当天天气请求地址，我没办法通过固定请求返回其他城市的天气，并且没有办法传递城市参数，仔细看接口你会发现这2个接口除了前面路径不一样后面一样都是 <code>101230101.html</code>,但是我当时不知道这个<code>101230101</code>含义是什么，但是可以联想到这个肯定与我查询<strong>福州天气</strong>有关系。</p>\n<blockquote>\n<p><code>当天天气</code>请求地址：http://d1.weather.com.cn/dingzhi/101230101.html</p>\n<p><code>实况天气</code>请求地址：<br/> http://d1.weather.com.cn/sk_2d/101230101.html</p>\n</blockquote>\n<p>不知道你们也没有注意到查询的接口中有个<code>city.js</code>的请求<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ff7c8d377ed94e0b812d66722e327c1a.png\"/>查看预览信息，我们可以看到好多城市的信息，并且其中有个<code>AREAID</code>参数，表示城市所在地的标识，并且这个格式和上面的还挺像<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\5880e2e206b04b2da56e644eb3a8e072.png\"/><br/> 于是我就去响应里面搜索了下福州的<code>101230101</code>标识<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\e150b187fd914c76af9df74c642a6d92.png\"/><br/> 发现存在参数中，所以要想知道我要查询那个城市的提取就必须从该接口中找到<code>AREAID</code>的编号。</p>\n<blockquote>\n<p><code>城市AREAID</code>请求地址：<br/> https://j.i8tq.com/weather2020/search/city.js</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\6c746f72f81147b9be33dcdf0071d53c.png\"/><br/>         但是这个格式是后端特意以这样格式返回前端使用，对于我们来说我们只有把返回的数据按照最下单位获取出来如：</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token string-property property\">\"北京\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token string-property property\">\"北京\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token string-property property\">\"北京\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token string-property property\">\"AREAID\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101010100\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">\"NAMECN\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"北京\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"海淀\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token string-property property\">\"AREAID\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101010200\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">\"NAMECN\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"海淀\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"朝阳\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token string-property property\">\"AREAID\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101010300\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">\"NAMECN\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"朝阳\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string-property property\">\"顺义\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token string-property property\">\"AREAID\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101010400\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-property property\">\"NAMECN\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"顺义\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p>这个是省略了一些北京各地点的天气情况，他们都是有层级关系的我们只有获取到最里面那层结构使用<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ab5ec2b7e80f4b4aa7757a7bc73bf9e5.png\"/><br/> 你们会怎么把该数据提取出来呢？评论区走一波，看看也没有更好的方法。</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\037eba3bda7a4fc2a3ce8025dbbc2855.jpeg\"/></p>\n<p>我分析了下，该接口的数据他是有层级格式的，按照<code>省&gt;市&gt;区</code>展示</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\fcea3170ae314973b44c60e981d918af.png\"/></p>\n<blockquote>\n<p>那既然是三层结构，那我是不是可以提供循环遍历三层，在把<code>最后一层</code>数据<code>保存</code>在一个<code>Map集合</code>中。</p>\n</blockquote>\n<hr/>\n<h3><a id=\"_189\"></a>🔭验证猜想：</h3>\n<p>      假设我这已经把城市数据提取到一个Map中，接着我们要查询北京天气，在通过城市名称从Map中获取出对应的<code>AREAID</code>值</p>\n<blockquote>\n<p>写代码前，先验证下我们的猜想是否正确。</p>\n</blockquote>\n<p>使用请求工具拼接路径查看请求结果，工具可以是<code>ApiPost,PostMan</code>等工具：</p>\n<blockquote>\n<p>获取实时天气：（北京）</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\"><span class=\"token string-property property\">\"北京\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n     <span class=\"token string-property property\">\"AREAID\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101010100\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string-property property\">\"NAMECN\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"北京\"</span>\n <span class=\"token punctuation\">}</span>\n</code></pre>\n<p>可以看出返回了北京的天气，为了验证我们打开天气网查看北京今天天气。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2e0de3c7cdbe492081500189b0fe4ccf.png\"/></p>\n<blockquote>\n<p>响应数据：</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">var</span> dataSK<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token string-property property\">\"nameen\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"beijing\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"cityname\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"北京\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"city\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"101010100\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"temp\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"28\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"tempf\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"82\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"WD\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"微风\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"wde\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NWW\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"WS\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2级\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"wse\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"6km\\/h\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"SD\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"25%\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"sd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"25%\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"qy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1014\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"njd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"30km\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"time\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10:30\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"rain\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"rain24h\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"aqi\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"27\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"aqi_pm25\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"27\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"weather\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"多云\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"weathere\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Cloudy\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"weathercode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"d01\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"limitnumber\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4和9\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"09月07日(星期三)\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\7cb3d46a83d94828ba51bc394d829b22.png\"/><br/> 可以看出是一一对应上的，那么另外一个接口我就不测试了。</p>\n<blockquote>\n<p>注意：请求头一定要添加</p>\n</blockquote>\n<p><code>Referer：http://www.weather.com.cn/</code>这个的作用就是为了防盗链和防止恶意请求<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0d3faf6c2ebb452ab6932ca349bd3520.png\"/></p>\n<h2><a id=\"_246\"></a>🎃代码编写：</h2>\n<p>      编写的案例，使用的是SpringBoot脚手架创建Spring项目。可以查看往期内容的SpringBoot项目创建<a href=\"https://blog.csdn.net/qq_45502336/article/details/121680682\">跳转</a></p>\n<blockquote>\n<p>配置下application.yml</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\62459e49306049919b2a986a0a6c0fdb.png\"/><br/> 创建一个<code>WeatherService</code> 类</p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\c1ab5a64730446dbaf7a08415e71d682.png\"/></p>\n<blockquote>\n<p>pom.xml引入坐标</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>hutool工具包<span class=\"token operator\">--</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>dependency<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>groupId<span class=\"token operator\">&gt;</span>cn<span class=\"token punctuation\">.</span>hutool<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>groupId<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>artifactId<span class=\"token operator\">&gt;</span>hutool<span class=\"token operator\">-</span>all<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>artifactId<span class=\"token operator\">&gt;</span>\n            <span class=\"token operator\">&lt;</span>version<span class=\"token operator\">&gt;</span><span class=\"token number\">5.8</span><span class=\"token number\">.1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>version<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>dependency<span class=\"token operator\">&gt;</span>\n</code></pre>\n<h3><a id=\"AREAID_265\"></a>🗺️城市AREAID获取：</h3>\n<blockquote>\n<p>我们先把城市的js数据解析出来<br/> <code>城市AREAID</code>请求地址：</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\"><span class=\"token literal-property property\">https</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>j<span class=\"token punctuation\">.</span>i8tq<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>weather2020<span class=\"token operator\">/</span>search<span class=\"token operator\">/</span>city<span class=\"token punctuation\">.</span>js\n</code></pre>\n<blockquote>\n<p>代码：</p>\n</blockquote>\n<pre><code class=\"prism language-java\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">JSONObject</span> <span class=\"token function\">getCity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token class-name\">String</span> cityjs<span class=\"token operator\">=</span><span class=\"token string\">\"https://j.i8tq.com/weather2020/search/city.js\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//发送请求获取数据</span>\n        <span class=\"token class-name\">String</span> cityStr <span class=\"token operator\">=</span> <span class=\"token class-name\">HttpUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">createGet</span><span class=\"token punctuation\">(</span>cityjs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Referer\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://www.weather.com.cn/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//需要解析数据</span>\n        <span class=\"token class-name\">String</span> cityJson <span class=\"token operator\">=</span> cityStr<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"var city_data =\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//创建集合存储数据</span>\n        <span class=\"token comment\">//使用 NAMECN:AREAID</span>\n        <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span><span class=\"token punctuation\">&gt;</span></span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">JSONObject</span> entries <span class=\"token operator\">=</span> <span class=\"token class-name\">JSONUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseObj</span><span class=\"token punctuation\">(</span>cityJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">&gt;</span></span> keys <span class=\"token operator\">=</span> entries<span class=\"token punctuation\">.</span><span class=\"token function\">keySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> key <span class=\"token operator\">:</span> keys<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"第一层 省\"</span> <span class=\"token operator\">+</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">&gt;</span></span> citys <span class=\"token operator\">=</span> entries<span class=\"token punctuation\">.</span><span class=\"token function\">getJSONObject</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">keySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> city <span class=\"token operator\">:</span> citys<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--第二层 城市\"</span> <span class=\"token operator\">+</span> city<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">Set</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">&gt;</span></span> areas <span class=\"token operator\">=</span> entries<span class=\"token punctuation\">.</span><span class=\"token function\">getJSONObject</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getJSONObject</span><span class=\"token punctuation\">(</span>city<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">keySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> area <span class=\"token operator\">:</span> areas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---第三层 区:\"</span> <span class=\"token operator\">+</span> area<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token class-name\">JSONObject</span> jsonObject <span class=\"token operator\">=</span> entries<span class=\"token punctuation\">.</span><span class=\"token function\">getJSONObject</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getJSONObject</span><span class=\"token punctuation\">(</span>city<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getJSONObject</span><span class=\"token punctuation\">(</span>area<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    map<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>jsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NAMECN\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> jsonObject<span class=\"token punctuation\">.</span><span class=\"token function\">getLong</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"AREAID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">//把map数据转换成json</span>\n        <span class=\"token class-name\">String</span> jsonStr <span class=\"token operator\">=</span> <span class=\"token class-name\">JSONUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">toJsonStr</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>jsonStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">JSONUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">parseObj</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<blockquote>\n<p>运行结果如下：</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\4ed79943bae246dbaba76e6a706c1f8a.png\"/><br/> 可以看出解析出来的数据就是以<code>NAMECN:AREAID</code>格式<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a221aac55a8f4f02a80d094edb6e1a2b.png\"/></p>\n<h3><a id=\"_314\"></a>🎢城市实况天气获取：</h3>\n<blockquote>\n<p><code>实况天气</code>请求地址：</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\"><span class=\"token literal-property property\">http</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>d1<span class=\"token punctuation\">.</span>weather<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">.</span>cn<span class=\"token operator\">/</span>sk_2d<span class=\"token operator\">/</span>传入城市的<span class=\"token constant\">AREAID</span><span class=\"token punctuation\">.</span>html\n</code></pre>\n<blockquote>\n<p>代码：</p>\n</blockquote>\n<pre><code class=\"prism language-javascript\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//getCity();</span>\n        JSONObject realWeather <span class=\"token operator\">=</span> <span class=\"token function\">getRealWeather</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"南平\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>realWeather<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cityname\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token operator\">+</span><span class=\"token string\">\" 天气：\"</span><span class=\"token operator\">+</span> realWeather<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"weather\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token operator\">+</span><span class=\"token string\">\" 温度:\"</span><span class=\"token operator\">+</span> realWeather<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"temp\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token operator\">+</span><span class=\"token string\">\" 湿度:\"</span><span class=\"token operator\">+</span> realWeather<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sd\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token operator\">+</span><span class=\"token string\">\" Pm2.5:\"</span><span class=\"token operator\">+</span>realWeather<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aqi_pm25\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">/**\n     * 获取实时城市天气\n     * @param city\n     * @return\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> JSONObject <span class=\"token function\">getRealWeather</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">String city</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">//获取出所有城市的AreaId</span>\n        JSONObject cityAreaId <span class=\"token operator\">=</span> <span class=\"token function\">getCity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//取出对应城市的areaid</span>\n        String areaId <span class=\"token operator\">=</span> cityAreaId<span class=\"token punctuation\">.</span><span class=\"token function\">getStr</span><span class=\"token punctuation\">(</span>city<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//实时天气的地址</span>\n        String <span class=\"token constant\">REALWEATHER_URL</span><span class=\"token operator\">=</span><span class=\"token string\">\"http://d1.weather.com.cn/sk_2d/\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>areaId<span class=\"token operator\">==</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"该城市找不到AreaId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\">//拼接请求地址</span>\n        String uri<span class=\"token operator\">=</span><span class=\"token constant\">REALWEATHER_URL</span><span class=\"token operator\">+</span>areaId<span class=\"token operator\">+</span><span class=\"token string\">\".html\"</span><span class=\"token punctuation\">;</span>\n        String res <span class=\"token operator\">=</span> HttpUtil<span class=\"token punctuation\">.</span><span class=\"token function\">createGet</span><span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Referer\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://www.weather.com.cn/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//替换数据不然会影响json的解析</span>\n        String json <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"var dataSK=\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> JSONUtil<span class=\"token punctuation\">.</span><span class=\"token function\">parseObj</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<blockquote>\n<p>运行结果如下：</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\bdfa1a407b7844cbbd9a12c84c212ad8.png\"/></p>\n<blockquote>\n<p>对比天气网看数据：</p>\n</blockquote>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\11df1486b73c4253a43628aa5abc1818.png\"/></p>\n<h3><a id=\"_365\"></a>🚀城市当天天气获取：</h3>\n<p>        这个就给你动手去完成吧，看的在多也没有自己去按照文章思路去分享一遍，这样自己也可以理解，真的就是看再多不如自己敲一遍来的深刻。特别是初学者一定会有很大的帮助。</p>\n<h2><a id=\"_368\"></a>🏆总结：</h2>\n<p>       看完这篇文章对于初学者来说，会有些困难，可能你看到后面去，你就不知道我在写些什么，问题不大，看不懂是因为没有理解我为什么要怎么做，你们可以带着自己的疑问去尝试分析一下，可能我这个方案也不是最佳的，但是可以通过需求去分析得到自己需要的结果，使用什么方法不重要，重要的是在这个过程中你收获了什么，你只看到我分析的过程中比较流畅，其实在我不了解，没去研究的情况下大部分的时间是花在分析上，知道原理之后就会明白自己需要如何写代码。<br/>        这篇文章我也是断断续续的写了好几天，可能看到或读的人可能不多，那么我为什么要坚持写，写作的目的不是为了可以得到多少荣誉，更多的是为了自己在未来的路上走的更远，锻炼自己的思维能力，没有人天生就是笨的，只要你肯付出，加倍的付出你总能在某天感谢之前勤奋的自己，共勉</p>\n<h2><a id=\"_373\"></a>🍥结束:</h2>\n<p>    到这里分析城市天气到这里就完成了，后续代码会发布<code>gitee</code>上，如果对你有帮助，一键三连，一起加油!!!</p>\n<hr/>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "JavaScript", "cpp": 0, "csharp": 0, "python": 0, "javascript": 1, "java": 0, "sql": 0, "php": 0, "time": "2022-09-07 14:19:24", "summary": "目录跳转简介：需求：自己分析接口：分析请求接口：分析出当天天气接口：分析出实况天气接口思考问题关键：验证猜想：代码编写：城市获取：城市实况天气获取：城市当天天气获取：总结：结束简介：这一篇文章的定义已"}