{"blogid": "124250715", "writerAge": "码龄5年", "writerBlogNum": "15", "writerCollect": "86", "writerComment": "9", "writerFan": "5", "writerGrade": "2级", "writerIntegral": "211", "writerName": "日拱一卒不慌忙", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124250715.jpg", "writerRankTotal": "67665", "writerRankWeekly": "170619", "writerThumb": "37", "writerVisitNum": "24956", "blog_read_count": "11501", "blog_time": "于 2022-04-18 16:56:28 发布", "blog_title": "手把手解决module ‘tensorflow‘ has no attribute ‘placeholder", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p style=\"margin-left:0;text-align:justify;\"><strong>1、问题背景</strong>：构建神经网络在加入卷积层时出现报错</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">face_recigntion_model.add(Conv2D(32,3,3,input_shape=(IMAGE_SIZE,IMAGE_SIZE,3),activation='relu'))</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#FF0000;\">AttributeError: module 'tensorflow' has no attribute 'placeholder'</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\"><strong>2、报错原因</strong>:可能是由于tf.placeholder的版本问题，tf.placeholder是tensorflow1.x版本的东西，tensorflow2.0就不能用了</p>\n<p style=\"margin-left:0;text-align:justify;\">查看自己的TensorFlow版本<span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">print(tf.__version__)</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">我的为2.8.0，需要降版本</p>\n<p style=\"margin-left:0;text-align:justify;\"><strong>3、解决方法：</strong></p>\n<p style=\"margin-left:0;text-align:justify;\">方法1：</p>\n<p style=\"margin-left:0;text-align:justify;\">修改<span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">import tensorflow as tf</span></span>为</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">import tensorflow.compat.v1 as tf </span></span></p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">tf.disable_v2_behavior()</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">方法2：</p>\n<p style=\"margin-left:0;text-align:justify;\">修改<span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">import tensorflow as tf</span></span>为</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">import tensorflow.compat.v1 as tf</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">tf.compat.v1.disable_eager_execution()</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">方法3：我采用上述两种方式都不行，需要手动降TensorFlow的版本，方式为将高版本python改变成低版本python以安装低版本tensorflow.</p>\n<p style=\"margin-left:0;text-align:justify;\">1、先卸载已有的TensorFlow，在终端中输入：</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">pip uninstall tensorflow</span></span>进行卸载</p>\n<p style=\"margin-left:0;text-align:justify;\">2、将编译环境降为python3.6</p>\n<p style=\"margin-left:0;text-align:justify;\">由于python3.7以上安装tensorflow只有2.x的版本，所以需要将编译环境也降到python3.6</p>\n<p style=\"margin-left:0;text-align:justify;\">安装python3.6，在终端中输入：</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">conda create --name py36 python=3.6 anaconda</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">重启pycharm，激活python3.6，在终端中输入：</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">activate py36</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">验证环境，在终端中输入：</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">python –version</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">输出为：</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">Python 3.6.13 :: Anaconda, Inc.</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">如果还是原来的版本，需要重新启动下pycharm在检查版本。</p>\n<p style=\"margin-left:0;text-align:justify;\">3、安装低版本TensorFlow</p>\n<p style=\"margin-left:0;text-align:justify;\">安装<span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">TensorFlow1.4.0</span></span>,在终端中输入：</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">pip install tensorflow==1.4.0 -i </span></span><a href=\"https://pypi.douban.com/simple\" title=\"Simple Index\">Simple Index</a></p>\n<p style=\"margin-left:0;text-align:justify;\">安装成功</p>\n<p style=\"margin-left:0;text-align:justify;\">PS：新的编译环境中可能会缺少很多需要用的包，需要采用<span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">pip install</span></span> 下载相关包</p>\n<p style=\"margin-left:0;text-align:justify;\"><strong>4、后续问题补充</strong>：</p>\n<p style=\"margin-left:0;text-align:justify;\">缺少cv2、sklearn… 在终端通过pip安装</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">pip install opencv-python -i </span></span><a href=\"https://pypi.douban.com/simple\" title=\"Simple Index\">Simple Index</a></p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">pip install scikit-learn -i https://pypi.douban.com/simple</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">继续报错：<span style=\"background-color:#fafafa;\"><span style=\"color:#FF0000;\">cannot import name ‘tf2‘</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">原因：keras的版本和tensorflow的版本不匹配，终端输入：</p>\n<p style=\"margin-left:0;text-align:justify;\">pip list找到TensorFlow的版本</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">tensorflow             1.4.0</span></span></p>\n<p style=\"margin-left:0;text-align:justify;\">在对应表格中找到对应的keras版本，通过pip安装</p>\n<p style=\"margin-left:0;text-align:justify;\"><span style=\"background-color:#fafafa;\"><span style=\"color:#383a42;\">pip install keras==2.0.8 -i https://pypi.douban.com/simple</span></span></p>\n<p style=\"margin-left:0px;text-align:center;\"><img alt=\"\" src=\"..\\..\\static\\image\\87bdc972f97e4b56a567095b8b8188ee.png\"/></p>\n<p style=\"margin-left:0;text-align:justify;\">每解决一个问题就运行下程序，遇到新的问题解决新的问题，直至程序能够运行下去不报错。</p>\n<p style=\"margin-left:0;text-align:justify;\"><strong>5、个人心得</strong></p>\n<p style=\"margin-left:0;text-align:justify;\">如果网络上提供的方法不能解决问题，不要一直找新的答案，要先清楚问题的原因是什么，再去解决。譬如本次报错的主要问题主要是TensorFlow的版本不对，所以输入什么代码以及有没有用不重要，重要的是需要寻找并完成TensorFlow低版本的替代工作。</p>\n<p style=\"margin-left:0;text-align:justify;\">如果我解决了你的问题，请点赞给我加油<img alt=\"\" height=\"48\" src=\"..\\..\\static\\image\\5961400748844b489d7e19b889f1013b.png\" width=\"48\"/>，也谢谢在解决问题过程中参考的诸位大佬们。。</p>\n<p> 主要参考：</p>\n<p style=\"margin-left:0;text-align:justify;\"><a href=\"https://blog.csdn.net/goryeon/article/details/102985990?spm=1001.2101.3001.6650.19&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19.pc_relevant_antiscanv2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-19.pc_relevant_antiscanv2&amp;utm_relevant_index=25\" title=\"将高版本py与tensorflow改变成低版本python以安装低版本tensorflow_树顶上的橙子的博客-CSDN博客_安装低版本tensorflow\">将高版本py与tensorflow改变成低版本python以安装低版本tensorflow_树顶上的橙子的博客-CSDN博客_安装低版本tensorflow</a></p>\n<p> </p>\n<p style=\"margin-left:0;text-align:justify;\"></p>\n</div>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-04-18 16:56:28", "summary": "、问题背景：构建神经网络在加入卷积层时出现报错、报错原因可能是由于的版本问题，是版本的东西，就不能用了查看自己的版本我的为，需要降版本、解决方法：方法：修改为方法：修改为方法：我采用上述两种方式都不行"}