{"blogid": "123620175", "writerAge": "码龄2年", "writerBlogNum": "144", "writerCollect": "10701", "writerComment": "10248", "writerFan": "34486", "writerGrade": "7级", "writerIntegral": "22440", "writerName": "Developer 小马", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123620175.jpg", "writerRankTotal": "321", "writerRankWeekly": "8", "writerThumb": "7537", "writerVisitNum": "5169976", "blog_read_count": "53709", "blog_time": "于 2022-03-30 13:37:06 发布", "blog_title": "前端案例：像素鸟小游戏（js+dom操作，完整代码，附案例素材）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"%E4%B8%80%E3%80%81%E6%A1%88%E4%BE%8B%E6%95%88%E6%9E%9C-toc\" style=\"margin-left:40px;\"><a href=\"#%E4%B8%80%E3%80%81%E6%A1%88%E4%BE%8B%E6%95%88%E6%9E%9C\">一、案例效果</a></p>\n<p id=\"%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF-toc\" style=\"margin-left:40px;\"><a href=\"#%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF\">二、实现思路</a></p>\n<p id=\"%E4%B8%89%E3%80%81%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%2B%E8%AF%A6%E7%BB%86%E6%B3%A8%E9%87%8A-toc\" style=\"margin-left:40px;\"><a href=\"#%E4%B8%89%E3%80%81%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%2B%E8%AF%A6%E7%BB%86%E6%B3%A8%E9%87%8A\">三、完整代码+详细注释</a></p>\n<p id=\"%E5%9B%9B%E3%80%81%E6%A1%88%E4%BE%8B%E7%B4%A0%E6%9D%90-toc\" style=\"margin-left:40px;\"><a href=\"#%E5%9B%9B%E3%80%81%E6%A1%88%E4%BE%8B%E7%B4%A0%E6%9D%90\">四、案例素材</a></p>\n<hr id=\"hr-toc\"/>\n<h2>一、案例效果</h2>\n<p class=\"img-center\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/976bfcbcaabc4f3fa946dc0b1fe05498.gif\"/></p>\n<h2>二、实现思路</h2>\n<ol><li>创建游戏背景板和小鸟，并分别设置相对定位与绝对定位；</li><li>初始化背景图的位置；</li><li>初始化小鸟的位置；</li><li>设置游戏状态，游戏开始时背景和管道全部向左运动，游戏结束全部停止运动；</li><li>使小鸟飞行，其实就是背景图在 X 轴方向的位置不断减小，实现小鸟向右飞行效果；</li><li>设置点击事件，每点击一次小鸟在Y轴的位置减小，实现向上飞的效果；</li><li>创建管道，X 方向上管道和下管道位置相同，Y 方向上上管道和下管道高度随机，但中间要空出200px；</li><li>实现管道向左运动，与背景图向左操作类似，也是在 X 轴方向的位置不断减小；</li><li>管道向左运动移出游戏面板最左侧时再回到原位重新执行，实现循环效果；</li><li>定义上下管道的临界值，也就是上下管道自身区域；</li><li>小鸟位置与上下管道位置重合(相碰撞)时游戏结束；</li><li>多次调用管道创建函数，产生多组管道。</li></ol>\n<h2 id=\"%E4%B8%89%E3%80%81%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%2B%E8%AF%A6%E7%BB%86%E6%B3%A8%E9%87%8A\">三、完整代码+详细注释</h2>\n<pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;小游戏：像素鸟&lt;/title&gt;\n  &lt;style&gt;\n    * {\n      margin: 0;\n      padding: 0;\n    }\n\n    #game {\n      width: 800px;\n      height: 600px;\n      background: url('./img/sky.png');\n      position: relative;\n      margin: auto;\n      overflow: hidden;\n    }\n\n    #bird {\n      width: 34px;\n      height: 25px;\n      background: url(./img/birds.png) -10px -8px no-repeat;\n      position: absolute;\n      top: 100px;\n      left: 100px;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;!-- 游戏背景 --&gt;\n  &lt;div id=\"game\"&gt;\n    &lt;!-- 小鸟 --&gt;\n    &lt;div id=\"bird\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;script&gt;\n  //获取游戏背景和小鸟\n  var game = document.getElementById('game');\n  var birdEle = document.getElementById('bird');\n\n  //初始化背景图\n  var sky = {\n    x: 0 //背景图初始位置为0\n  }\n\n  //初始化小鸟\n  var bird = {\n    speedX: 5, //小鸟在X轴的速度\n    SpeedY: 0, //小鸟在Y轴的速度\n    //小鸟坐标\n    x: birdEle.offsetLeft, //小鸟初始位置在绝对定位的位置\n    y: birdEle.offsetTop,\n  }\n\n  var runing = true; //游戏状态\n\n  setInterval(function () {\n    if (runing) {\n      //小鸟飞行(其实是背景在动)\n      sky.x -= 5; //背景每次-5px，以实现向左运动的效果\n      game.style.backgroundPositionX = sky.x + 'px';\n      //小鸟上下运动\n      bird.SpeedY += 1; //每一次点击小鸟向上10px后开始自增也就是再自动向下\n      bird.y += bird.SpeedY; //小鸟自动不断向下运动\n      //判断游戏状态\n      if (bird.y &lt; 0) { //超出游戏背景顶部时游戏结束\n        runing = false;\n        bird.y = 0;\n      }\n      if (bird.y + birdEle.offsetHeight &gt; 600) { //超出游戏背景底部时游戏结束\n        runing = false;\n        bird.y = 600 - birdEle.offsetHeight;\n      }\n      birdEle.style.top = bird.y + 'px';\n    }\n  }, 30);\n\n  //点击时小鸟向上运动\n  document.onclick = function () {\n    bird.SpeedY = -10; //点击一次向上运动10px\n  }\n\n  //创建管道\n  function creatPipe(position) {\n    var pipe = {};\n    pipe.x = position;\n    pipe.upHeight = 200 + parseInt(Math.random() * 100); //上管道高度为200 - 300px\n    pipe.doHeight = 600 - pipe.upHeight - 200; //下管道高度\n    pipe.doTop = pipe.upHeight + 200; //上下两管道之间200px\n\n    //创建上管道\n    var upPipe = document.createElement('div'); //新建div\n    upPipe.style.width = '52px';\n    upPipe.style.height = pipe.upHeight + 'px';\n    upPipe.style.background = 'url(./img/pipe2.png) no-repeat center bottom';\n    upPipe.style.position = 'absolute';\n    upPipe.style.top = '0px';\n    upPipe.style.left = pipe.x + 'px';\n    game.appendChild(upPipe); //将上管道追加到游戏页面中\n\n    //创建下管道\n    var doPipe = document.createElement('div'); //新建div\n    doPipe.style.width = '52px';\n    doPipe.style.height = pipe.doHeight + 'px';\n    doPipe.style.background = 'url(./img/pipe1.png) no-repeat center top';\n    doPipe.style.position = 'absolute';\n    doPipe.style.top = pipe.doTop + 'px';\n    doPipe.style.left = pipe.x + 'px';\n    game.appendChild(doPipe); //将下管道追加到游戏页面中\n\n    //管道进行运动\n    setInterval(function () {\n      if (runing) { //游戏处于运行状态时管道再运动\n        pipe.x -= 2; //x方向不断-2px，以实现管道向左运动的效果\n        upPipe.style.left = pipe.x + 'px';\n        doPipe.style.left = pipe.x + 'px';\n        if (pipe.x &lt; -52) { //管道移出最左侧时回到原位，实现不间断效果\n          pipe.x = 800;\n        }\n        //上下管道临界值\n        var uCheck = bird.x + 34 &gt; pipe.x &amp;&amp; bird.x &lt; pipe.x + 52 &amp;&amp; bird.y &lt; pipe.upHeight;\n        var dCheck = bird.x + 34 &gt; pipe.x &amp;&amp; bird.x &lt; pipe.x + 52 &amp;&amp; bird.y &gt; pipe.upHeight + 200;\n        if (uCheck || dCheck) { //碰到上管道或下管道临界值则游戏终止\n          runing = false;\n        }\n      }\n    }, 30)\n  }\n  creatPipe(400); //产生四组管道\n  creatPipe(600);\n  creatPipe(800);\n  creatPipe(1000);\n&lt;/script&gt;\n\n&lt;/html&gt;</code></pre>\n<h2 id=\"%E5%9B%9B%E3%80%81%E6%A1%88%E4%BE%8B%E7%B4%A0%E6%9D%90\">四、案例素材</h2>\n<p><strong><span style=\"color:#fe2c24;\"><em>sky.png</em></span></strong></p>\n<p class=\"img-center\"><img alt=\"\" height=\"600\" src=\"..\\..\\static\\image\\4ab4d05d0aad4ba0a10acfcf821ba372.png\" width=\"800\"/></p>\n<p><span style=\"color:#fe2c24;\"><strong><em>birds.png</em></strong></span></p>\n<p class=\"img-center\"><img alt=\"\" height=\"45\" src=\"..\\..\\static\\image\\0615564f283546d2a60c4e45257bcde2.png\" width=\"156\"/></p>\n<p><em><span style=\"color:#fe2c24;\"><strong>pipe1.png</strong></span></em></p>\n<p><em><span style=\"color:#fe2c24;\"><strong>pipe2.png</strong></span></em></p>\n<p>                                                                <img alt=\"\" class=\"left\" height=\"420\" src=\"..\\..\\static\\image\\eca18e3f5baf4accb660a6e5ad92ccee.png\" width=\"52\"/><img alt=\"\" class=\"right\" height=\"420\" src=\"..\\..\\static\\image\\94784828de1542b99b21b8859ff9fd96.png\" width=\"52\"/></p>\n<p></p>\n</div>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-03-30 13:37:06", "summary": "目录一、案例效果二、实现思路三、完整代码详细注释四、案例素材一、案例效果二、实现思路创建游戏背景板和小鸟，并分别设置相对定位与绝对定位；初始化背景图的位置；初始化小鸟的位置；设置游戏状态，游戏开始时背"}