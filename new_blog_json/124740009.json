{"blogid": "124740009", "writerAge": "ç é¾„4å¹´", "writerBlogNum": "111", "writerCollect": "1101", "writerComment": "1427", "writerFan": "2444", "writerGrade": "5çº§", "writerIntegral": "3686", "writerName": "ç™¾æ€ä¸å¾—å°èµµ", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124740009.jpg", "writerRankTotal": "5296", "writerRankWeekly": "975", "writerThumb": "945", "writerVisitNum": "89302", "blog_read_count": "6637", "blog_time": "å·²äºÂ 2022-05-25 19:21:33Â ä¿®æ”¹", "blog_title": "Javaå®ç°ä¿„ç½—æ–¯æ–¹å—å°æ¸¸æˆã€‚ï¼ˆé™„å®Œæ•´æºä»£ç ï¼‰", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<blockquote>\n<p style=\"text-align:center;\">å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç™¾æ€ä¸å¾—å°èµµã€‚</p>\n<p>åˆ›ä½œæ—¶é—´ï¼š2022 å¹´ 5 æœˆ 12 æ—¥<br/> åšå®¢ä¸»é¡µï¼š ğŸ”<a class=\"link-info\" href=\"https://blog.csdn.net/Zp_insist?spm=1010.2135.3001.5343\" title=\"ç‚¹æ­¤è¿›å…¥åšå®¢ä¸»é¡µ\">ç‚¹æ­¤è¿›å…¥åšå®¢ä¸»é¡µ</a><br/> â€”â€” æ–°æ—¶ä»£çš„å†œæ°‘å·¥ ğŸ™Š<br/> â€”â€” æ¢ä¸€ç§æ€ç»´é€»è¾‘å»çœ‹å¾…è¿™ä¸ªä¸–ç•Œ ğŸ‘€<br/> ä»Šå¤©æ˜¯åŠ å…¥CSDNçš„ç¬¬1167å¤©ã€‚è§‰å¾—æœ‰å¸®åŠ©éº»çƒ¦ğŸ‘ç‚¹èµã€ğŸ€è¯„è®ºã€â¤ï¸æ”¶è—</p>\n</blockquote>\n<hr/>\n<p id=\"main-toc\" style=\"text-align:center;\"><strong>ç›®å½•</strong></p>\n<p id=\"%E4%B8%80%E3%80%81%E6%B8%B8%E6%88%8F%E8%83%8C%E6%99%AF-toc\" style=\"margin-left:0px;text-align:center;\"><a href=\"#%E4%B8%80%E3%80%81%E6%B8%B8%E6%88%8F%E8%83%8C%E6%99%AF\">ä¸€ã€æ¸¸æˆèƒŒæ™¯</a></p>\n<p id=\"%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0-toc\" style=\"margin-left:0px;text-align:center;\"><a href=\"#%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0\">äºŒã€åŠŸèƒ½å®ç°</a></p>\n<p id=\"%E4%B8%89%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA-toc\" style=\"margin-left:0px;text-align:center;\"><a href=\"#%E4%B8%89%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\">ä¸‰ã€æ•ˆæœå±•ç¤º</a></p>\n<hr/>\n<p class=\"img-center\"><img alt=\"\" src=\"..\\..\\static\\image\\2ff2e5ccdecebec9b1c3ab996e264959.png\"/></p>\n<h1 id=\"%E4%B8%80%E3%80%81%E6%B8%B8%E6%88%8F%E8%83%8C%E6%99%AF\">ä¸€ã€æ¸¸æˆèƒŒæ™¯</h1>\n<p>ä¿„ç½—æ–¯æ–¹å—æ˜¯ä¿„ç½—æ–¯äººå‘æ˜çš„ã€‚è¿™äººå«é˜¿åˆ—å…‹è°¢Â·å¸•åŸºç‰¹è¯ºå¤«ï¼ˆĞĞ»ĞµĞºÑĞµĞ¹ ĞŸĞ°Ğ¶Ğ¸Ñ‚Ğ½Ğ¾Ğ² è‹±æ–‡ï¼šAlexey Pazhitnovï¼‰ã€‚ä¿„ç½—æ–¯æ–¹å—åŸåæ˜¯ä¿„è¯­Ğ¢ĞµÑ‚Ñ€Ğ¸Ñï¼ˆè‹±è¯­æ˜¯Tetrisï¼‰ï¼Œè¿™ä¸ªåå­—æ¥æºäºå¸Œè…Šè¯­tetraï¼Œæ„æ€æ˜¯â€œå››â€ï¼Œè€Œæ¸¸æˆçš„ä½œè€…æœ€å–œæ¬¢ç½‘çƒï¼ˆtennisï¼‰ã€‚äºæ˜¯ï¼Œä»–æŠŠä¸¤ä¸ªè¯tetraå’Œtennisåˆè€Œä¸ºä¸€ï¼Œå‘½åä¸ºTetrisï¼Œè¿™ä¹Ÿå°±æ˜¯ä¿„ç½—æ–¯æ–¹å—åå­—çš„ç”±æ¥ã€‚</p>\n<blockquote>\n<p>è§„åˆ™è¯´æ˜ï¼š</p>\n</blockquote>\n<p>ç”±å°æ–¹å—ç»„æˆçš„ä¸åŒå½¢çŠ¶çš„æ¿å—é™†ç»­ä»å±å¹•ä¸Šæ–¹è½ä¸‹æ¥ï¼Œç©å®¶é€šè¿‡è°ƒæ•´æ¿å—çš„ä½ç½®å’Œæ–¹å‘ï¼Œä½¿å®ƒä»¬åœ¨å±å¹•åº•éƒ¨æ‹¼å‡ºå®Œæ•´çš„ä¸€æ¡æˆ–å‡ æ¡ã€‚è¿™äº›å®Œæ•´çš„æ¨ªæ¡ä¼šéšå³æ¶ˆå¤±ï¼Œç»™æ–°è½ä¸‹æ¥çš„æ¿å—è…¾å‡ºç©ºé—´ï¼Œä¸æ­¤åŒæ—¶ï¼Œç©å®¶å¾—åˆ°åˆ†æ•°å¥–åŠ±ã€‚æ²¡æœ‰è¢«æ¶ˆé™¤æ‰çš„æ–¹å—ä¸æ–­å †ç§¯èµ·æ¥ï¼Œä¸€æ—¦å †åˆ°å±å¹•é¡¶ç«¯ï¼Œç©å®¶ä¾¿å‘Šè¾“ï¼Œæ¸¸æˆç»“æŸã€‚</p>\n<h1 id=\"%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0\">äºŒã€åŠŸèƒ½å®ç°</h1>\n<p>å¼€å‘å·¥å…·ï¼šideaã€jdk8</p>\n<p>æŠ€æœ¯æ±‡æ€»ï¼šJavaåŸºç¡€çŸ¥è¯†ã€æ•°ç»„ã€é¢å‘å¯¹è±¡ã€å¤šçº¿ç¨‹ã€IOæµã€Swingã€‚</p>\n<p>æ•´ä½“ä»£ç åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼šæ–¹æ ¼æ¨¡å—ï¼Œä¸ƒç§å›¾å½¢æ¨¡å—ï¼Œä¿„ç½—æ–¯æ–¹å—ä¸»æ¨¡å—ã€‚</p>\n<p>å°æ–¹å—ç±»ï¼šCell</p>\n<pre><code class=\"language-java\">public class Cell {\n    // è¡Œ\n    private int row;\n    // åˆ—\n    private int col;\n    private BufferedImage image;\n\n    public Cell() {\n    }\n\n    public Cell(int row, int col, BufferedImage image) {\n        this.row = row;\n        this.col = col;\n        this.image = image;\n    }\n\n    public int getRow() {\n        return row;\n    }\n\n    public void setRow(int row) {\n        this.row = row;\n    }\n\n    public int getCol() {\n        return col;\n    }\n\n    public void setCol(int col) {\n        this.col = col;\n    }\n\n    public BufferedImage getImage() {\n        return image;\n    }\n\n    public void setImage(BufferedImage image) {\n        this.image = image;\n    }\n\n    @Override\n    public String toString() {\n        return \"Cell{\" +\n                \"row=\" + row +\n                \", col=\" + col +\n                \", image=\" + image +\n                '}';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (!(o instanceof Cell)) {\n            return false;\n        }\n        Cell cell = (Cell) o;\n        return getRow() == cell.getRow() &amp;&amp;\n                getCol() == cell.getCol() &amp;&amp;\n                Objects.equals(getImage(), cell.getImage());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getRow(), getCol(), getImage());\n    }\n\n    //å·¦ç§»åŠ¨ä¸€æ ¼\n    public void left(){\n        col--;\n    }\n\n    //å³ç§»åŠ¨ä¸€æ ¼\n    public void right(){\n        col++;\n    }\n\n    //ä¸‹ç§»åŠ¨ä¸€æ ¼\n    public void down(){\n        row++;\n    }\n}\n</code></pre>\n<p> å››æ–¹æ ¼å›¾å½¢çš„çˆ¶ç±»ï¼šTetromino</p>\n<pre><code class=\"language-java\">public class Tetromino {\n\n    public Cell[] cells = new Cell[4];\n\n    //æ—‹è½¬çš„çŠ¶æ€\n    protected State[] states;\n    //å£°æ˜æ—‹è½¬æ¬¡æ•°\n    protected int count = 10000;\n\n\n    //å·¦ç§»æ–¹æ³•\n    public void moveLeft() {\n        for (Cell cell : cells) {\n            cell.left();\n        }\n    }\n\n    //å³ç§»æ–¹æ³•\n    public void moveRight() {\n        for (Cell cell : cells) {\n            cell.right();\n        }\n    }\n\n    //å•å…ƒæ ¼ä¸‹è½\n    public void moveDrop() {\n        for (Cell cell : cells) {\n            cell.down();\n        }\n    }\n\n    //ç¼–å†™éšæœºç”Ÿæˆå››æ–¹æ ¼\n    public static Tetromino randomOne() {\n        int num = (int) (Math.random() * 7);\n        Tetromino tetromino = null;\n        switch (num) {\n            case 0:\n                tetromino = new I();\n                break;\n            case 1:\n                tetromino = new J();\n                break;\n            case 2:\n                tetromino = new L();\n                break;\n            case 3:\n                tetromino = new O();\n                break;\n            case 4:\n                tetromino = new S();\n                break;\n            case 5:\n                tetromino = new T();\n                break;\n            case 6:\n                tetromino = new Z();\n                break;\n        }\n\n        return tetromino;\n    }\n\n    //é¡ºæ—¶é’ˆæ—‹è½¬çš„æ–¹æ³•\n    public void rotateRight() {\n        if (states.length == 0) {\n            return;\n        }\n\n        //æ—‹è½¬æ¬¡æ•°+1\n        count++;\n        State s = states[count % states.length];\n        Cell cell = cells[0];\n        int row = cell.getRow();\n        int col = cell.getCol();\n        cells[1].setRow(row + s.row1);\n        cells[1].setCol(col + s.col1);\n        cells[2].setRow(row + s.row2);\n        cells[2].setCol(col + s.col2);\n        cells[3].setRow(row + s.row3);\n        cells[3].setCol(col + s.col3);\n    }\n\n    //é€†æ—¶é’ˆæ—‹è½¬çš„æ–¹æ³•\n    public void rotateLeft() {\n        if (states.length == 0) {\n            return;\n        }\n\n        //æ—‹è½¬æ¬¡æ•°+1\n        count--;\n        State s = states[count % states.length];\n        Cell cell = cells[0];\n        int row = cell.getRow();\n        int col = cell.getCol();\n        cells[1].setRow(row + s.row1);\n        cells[1].setCol(col + s.col1);\n        cells[2].setRow(row + s.row2);\n        cells[2].setCol(col + s.col2);\n        cells[3].setRow(row + s.row3);\n        cells[3].setCol(col + s.col3);\n    }\n\n    //å››æ–¹æ ¼æ—‹è½¬çŠ¶æ€çš„å†…éƒ¨ç±»\n    protected class State {\n        //å­˜å‚¨å››æ–¹æ ¼å„å…ƒç´ çš„ä½ç½®\n        int row0, col0, row1, col1, row2, col2, row3, col3;\n\n        public State() {\n        }\n\n        public State(int row0, int col0, int row1, int col1, int row2, int col2, int row3, int col3) {\n            this.row0 = row0;\n            this.col0 = col0;\n            this.row1 = row1;\n            this.col1 = col1;\n            this.row2 = row2;\n            this.col2 = col2;\n            this.row3 = row3;\n            this.col3 = col3;\n        }\n\n        public int getRow0() {\n            return row0;\n        }\n\n        public void setRow0(int row0) {\n            this.row0 = row0;\n        }\n\n        public int getCol0() {\n            return col0;\n        }\n\n        public void setCol0(int col0) {\n            this.col0 = col0;\n        }\n\n        public int getRow1() {\n            return row1;\n        }\n\n        public void setRow1(int row1) {\n            this.row1 = row1;\n        }\n\n        public int getCol1() {\n            return col1;\n        }\n\n        public void setCol1(int col1) {\n            this.col1 = col1;\n        }\n\n        public int getRow2() {\n            return row2;\n        }\n\n        public void setRow2(int row2) {\n            this.row2 = row2;\n        }\n\n        public int getCol2() {\n            return col2;\n        }\n\n        public void setCol2(int col2) {\n            this.col2 = col2;\n        }\n\n        public int getRow3() {\n            return row3;\n        }\n\n        public void setRow3(int row3) {\n            this.row3 = row3;\n        }\n\n        public int getCol3() {\n            return col3;\n        }\n\n        public void setCol3(int col3) {\n            this.col3 = col3;\n        }\n\n        @Override\n        public String toString() {\n            return \"State{\" +\n                    \"row0=\" + row0 +\n                    \", col0=\" + col0 +\n                    \", row1=\" + row1 +\n                    \", col1=\" + col1 +\n                    \", row2=\" + row2 +\n                    \", col2=\" + col2 +\n                    \", row3=\" + row3 +\n                    \", col3=\" + col3 +\n                    '}';\n        }\n    }\n}</code></pre>\n<p>ä¸ƒç§å›¾å½¢ç±»ï¼šIã€Jã€Lã€Oã€Sã€Tã€Z</p>\n<pre><code class=\"language-java\">public class I extends Tetromino {\n\n    public I() {\n        cells[0] = new Cell(0,4, Tetris.I);\n        cells[1] = new Cell(0,3, Tetris.I);\n        cells[2] = new Cell(0,5, Tetris.I);\n        cells[3] = new Cell(0,6, Tetris.I);\n\n        //å…±æœ‰ä¸¤ç§æ—‹è½¬çŠ¶æ€\n        states =new State[2];\n        //åˆå§‹åŒ–ä¸¤ç§çŠ¶æ€çš„ç›¸å¯¹åæ ‡\n        states[0]=new State(0,0,0,-1,0,1,0,2);\n        states[1]=new State(0,0,-1,0,1,0,2,0);\n    }\n\n}</code></pre>\n<pre><code class=\"language-java\">public class J extends Tetromino {\n    public J() {\n        cells[0] = new Cell(0,4, Tetris.J);\n        cells[1] = new Cell(0,3, Tetris.J);\n        cells[2] = new Cell(0,5, Tetris.J);\n        cells[3] = new Cell(1,5, Tetris.J);\n\n        states=new State[4];\n        states[0]=new State(0,0,0,-1,0,1,1,1);\n        states[1]=new State(0,0,-1,0,1,0,1,-1);\n        states[2]=new State(0,0,0,1,0,-1,-1,-1);\n        states[3]=new State(0,0,1,0,-1,0,-1,1);\n    }\n}</code></pre>\n<pre><code class=\"language-java\">public class L extends Tetromino {\n    public L() {\n        cells[0] = new Cell(0,4, Tetris.L);\n        cells[1] = new Cell(0,3, Tetris.L);\n        cells[2] = new Cell(0,5, Tetris.L);\n        cells[3] = new Cell(1,3, Tetris.L);\n\n        states=new State[4];\n        states[0]=new State(0,0,0,-1,0,1,1,-1);\n        states[1]=new State(0,0,-1,0,1,0,-1,-1);\n        states[2]=new State(0,0,0,1,0,-1,-1,1);\n        states[3]=new State(0,0,1,0,-1,0,1,1);\n    }\n}</code></pre>\n<pre><code class=\"language-java\">public class O extends Tetromino {\n    public O() {\n        cells[0] = new Cell(0, 4, Tetris.O);\n        cells[1] = new Cell(0, 5, Tetris.O);\n        cells[2] = new Cell(1, 4, Tetris.O);\n        cells[3] = new Cell(1, 5, Tetris.O);\n\n        //æ— æ—‹è½¬çŠ¶æ€\n        states = new State[0];\n    }\n}</code></pre>\n<pre><code class=\"language-java\">public class S extends Tetromino {\n    public S() {\n        cells[0] = new Cell(0,4, Tetris.S);\n        cells[1] = new Cell(0,5, Tetris.S);\n        cells[2] = new Cell(1,3, Tetris.S);\n        cells[3] = new Cell(1,4, Tetris.S);\n\n        //å…±æœ‰ä¸¤ç§æ—‹è½¬çŠ¶æ€\n        states =new State[2];\n        //åˆå§‹åŒ–ä¸¤ç§çŠ¶æ€çš„ç›¸å¯¹åæ ‡\n        states[0]=new State(0,0,0,1,1,-1,1,0);\n        states[1]=new State(0,0,1,0,-1,-1,0,-1);\n    }\n}\n</code></pre>\n<pre><code class=\"language-java\">public class T extends Tetromino {\n    public T() {\n        cells[0] = new Cell(0,4, Tetris.T);\n        cells[1] = new Cell(0,3, Tetris.T);\n        cells[2] = new Cell(0,5, Tetris.T);\n        cells[3] = new Cell(1,4, Tetris.T);\n\n        states=new State[4];\n        states[0]=new State(0,0,0,-1,0,1,1,0);\n        states[1]=new State(0,0,-1,0,1,0,0,-1);\n        states[2]=new State(0,0,0,1,0,-1,-1,0);\n        states[3]=new State(0,0,1,0,-1,0,0,1);\n    }\n}</code></pre>\n<pre><code class=\"language-java\">public class Z extends Tetromino {\n    public Z() {\n        cells[0] = new Cell(1,4, Tetris.Z);\n        cells[1] = new Cell(0,3, Tetris.Z);\n        cells[2] = new Cell(0,4, Tetris.Z);\n        cells[3] = new Cell(1,5, Tetris.Z);\n\n        //å…±æœ‰ä¸¤ç§æ—‹è½¬çŠ¶æ€\n        states =new State[2];\n        //åˆå§‹åŒ–ä¸¤ç§çŠ¶æ€çš„ç›¸å¯¹åæ ‡\n        states[0]=new State(0,0,-1,-1,-1,0,0,1);\n        states[1]=new State(0,0,-1,1,0,1,1,0);\n    }\n}\n</code></pre>\n<p>ä¿„ç½—æ–¯æ–¹å—æ¸¸æˆä¸»ç±»ï¼šTetris</p>\n<pre><code class=\"language-java\">public class Tetris extends JPanel {\n\n    //æ­£åœ¨ä¸‹è½çš„æ–¹å—\n    private Tetromino currentOne = Tetromino.randomOne();\n    //å°†è¦ä¸‹è½çš„æ–¹å—\n    private Tetromino nextOne = Tetromino.randomOne();\n    //æ¸¸æˆä¸»åŒºåŸŸ\n    private Cell[][] wall = new Cell[18][9];\n    //å£°æ˜å•å…ƒæ ¼çš„å€¼\n    private static final int CELL_SIZE = 48;\n\n    //æ¸¸æˆåˆ†æ•°æ± \n    int[] scores_pool = {0, 1, 2, 5, 10};\n    //å½“å‰æ¸¸æˆçš„åˆ†æ•°\n    private int totalScore = 0;\n    //å½“å‰æ¶ˆé™¤çš„è¡Œæ•°\n    private int totalLine = 0;\n\n    //æ¸¸æˆä¸‰ç§çŠ¶æ€ æ¸¸æˆä¸­ã€æš‚åœã€ç»“æŸ\n    public static final int PLING = 0;\n    public static final int STOP = 1;\n    public static final int OVER = 2;\n    //å½“å‰æ¸¸æˆçŠ¶æ€å€¼\n    private int game_state;\n    //æ˜¾ç¤ºæ¸¸æˆçŠ¶æ€\n    String[] show_state = {\"P[pause]\", \"C[continue]\", \"S[replay]\"};\n\n\n    //è½½å…¥æ–¹å—å›¾ç‰‡\n    public static BufferedImage I;\n    public static BufferedImage J;\n    public static BufferedImage L;\n    public static BufferedImage O;\n    public static BufferedImage S;\n    public static BufferedImage T;\n    public static BufferedImage Z;\n    public static BufferedImage background;\n\n    static {\n        try {\n            I = ImageIO.read(new File(\"images/I.png\"));\n            J = ImageIO.read(new File(\"images/J.png\"));\n            L = ImageIO.read(new File(\"images/L.png\"));\n            O = ImageIO.read(new File(\"images/O.png\"));\n            S = ImageIO.read(new File(\"images/S.png\"));\n            T = ImageIO.read(new File(\"images/T.png\"));\n            Z = ImageIO.read(new File(\"images/Z.png\"));\n            background = ImageIO.read(new File(\"images/background.png\"));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        g.drawImage(background, 0, 0, null);\n        //å¹³ç§»åæ ‡è½´\n        g.translate(22, 15);\n        //ç»˜åˆ¶æ¸¸æˆä¸»åŒºåŸŸ\n        paintWall(g);\n        //ç»˜åˆ¶æ­£åœ¨ä¸‹è½çš„å››æ–¹æ ¼\n        paintCurrentOne(g);\n        //ç»˜åˆ¶ä¸‹ä¸€ä¸ªå°†è¦ä¸‹è½çš„å››æ–¹æ ¼\n        paintNextOne(g);\n        //ç»˜åˆ¶æ¸¸æˆå¾—åˆ†\n        paintSource(g);\n        //ç»˜åˆ¶å½“å‰æ¸¸æˆçŠ¶æ€\n        paintState(g);\n    }\n\n    public void start() {\n        game_state = PLING;\n        KeyListener l = new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                int code = e.getKeyCode();\n                switch (code) {\n                    case KeyEvent.VK_DOWN:\n                        sortDropActive();\n                        break;\n                    case KeyEvent.VK_LEFT:\n                        moveleftActive();\n                        break;\n                    case KeyEvent.VK_RIGHT:\n                        moveRightActive();\n                        break;\n                    case KeyEvent.VK_UP:\n                        rotateRightActive();\n                        break;\n                    case KeyEvent.VK_SPACE:\n                            hadnDropActive();\n                        break;\n                    case KeyEvent.VK_P:\n                        //åˆ¤æ–­å½“å‰æ¸¸æˆçŠ¶æ€\n                        if (game_state == PLING) {\n                            game_state = STOP;\n                        }\n                        break;\n                    case KeyEvent.VK_C:\n                        if (game_state == STOP) {\n                            game_state = PLING;\n                        }\n                        break;\n                    case KeyEvent.VK_S:\n                        //é‡æ–°å¼€å§‹\n                        game_state = PLING;\n                        wall = new Cell[18][9];\n                        currentOne = Tetromino.randomOne();\n                        nextOne = Tetromino.randomOne();\n                        totalScore = 0;\n                        totalLine = 0;\n                        break;\n                }\n            }\n        };\n        //å°†çª—å£è®¾ç½®ä¸ºç„¦ç‚¹\n        this.addKeyListener(l);\n        this.requestFocus();\n\n        while (true) {\n            if (game_state == PLING) {\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                if (camDrop()) {\n                    currentOne.moveDrop();\n                } else {\n                    landToWall();\n                    destroyLine();\n                    if (isGameOver()) {\n                        game_state = OVER;\n                    } else {\n                        //æ¸¸æˆæ²¡æœ‰ç»“æŸ\n                        currentOne = nextOne;\n                        nextOne = Tetromino.randomOne();\n                    }\n                }\n            }\n            repaint();\n        }\n    }\n\n    //åˆ›å»ºé¡ºæ—¶é’ˆæ—‹è½¬\n    public void rotateRightActive() {\n        currentOne.rotateRight();\n        if (outOFBounds() || coincide()) {\n            currentOne.rotateLeft();\n        }\n    }\n\n    //ç¬é—´ä¸‹è½\n    public void hadnDropActive() {\n        while (true) {\n            //åˆ¤æ–­èƒ½å¦ä¸‹è½\n            if (camDrop()) {\n                currentOne.moveDrop();\n            } else {\n                break;\n            }\n        }\n        //åµŒå…¥åˆ°å¢™ä¸­\n        landToWall();\n        destroyLine();\n        if (isGameOver()) {\n            game_state = OVER;\n        } else {\n            //æ¸¸æˆæ²¡æœ‰ç»“æŸ\n            currentOne = nextOne;\n            nextOne = Tetromino.randomOne();\n        }\n    }\n\n    //æŒ‰é”®ä¸€æ¬¡ï¼Œä¸‹è½ä¸€æ ¼\n    public void sortDropActive() {\n        if (camDrop()) {\n            //å½“å‰å››æ–¹æ ¼ä¸‹è½ä¸€æ ¼\n            currentOne.moveDrop();\n        } else {\n            landToWall();\n            destroyLine();\n            if (isGameOver()) {\n                game_state = OVER;\n            } else {\n                //æ¸¸æˆæ²¡æœ‰ç»“æŸ\n                currentOne = nextOne;\n                nextOne = Tetromino.randomOne();\n            }\n        }\n    }\n\n    //å•å…ƒæ ¼åµŒå…¥å¢™ä¸­\n    private void landToWall() {\n        Cell[] cells = currentOne.cells;\n        for (Cell cell : cells) {\n            int row = cell.getRow();\n            int col = cell.getCol();\n            wall[row][col] = cell;\n        }\n    }\n\n    //åˆ¤æ–­å››æ–¹æ ¼èƒ½å¦ä¸‹è½\n    public boolean camDrop() {\n        Cell[] cells = currentOne.cells;\n        for (Cell cell : cells) {\n            int row = cell.getRow();\n            int col = cell.getCol();\n            //åˆ¤æ–­æ˜¯å¦åˆ°è¾¾åº•éƒ¨\n            if (row == wall.length - 1) {\n                return false;\n            } else if (wall[row + 1][col] != null) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    //æ¶ˆé™¤è¡Œ\n    public void destroyLine() {\n        int line = 0;\n        Cell[] cells = currentOne.cells;\n        for (Cell cell : cells) {\n            int row = cell.getRow();\n            if (isFullLine(row)) {\n                line++;\n                for (int i = row; i &gt; 0; i--) {\n                    System.arraycopy(wall[i - 1], 0, wall[i], 0, wall[0].length);\n                }\n                wall[0] = new Cell[9];\n            }\n        }\n        //åˆ†æ•°æ± è·å–åˆ†æ•°ï¼Œç´¯åŠ åˆ°æ€»åˆ†\n        totalScore += scores_pool[line];\n        //æ€»è¡Œæ•°\n        totalLine += line;\n    }\n\n    //åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦å·²ç»æ»¡äº†\n    public boolean isFullLine(int row) {\n        Cell[] cells = wall[row];\n        for (Cell cell : cells) {\n            if (cell == null) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    //åˆ¤æ–­æ¸¸æˆæ˜¯å¦ç»“æŸ\n    public boolean isGameOver() {\n        Cell[] cells = nextOne.cells;\n        for (Cell cell : cells) {\n            int row = cell.getRow();\n            int col = cell.getCol();\n            if (wall[row][col] != null) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private void paintState(Graphics g) {\n        if (game_state == PLING) {\n            g.drawString(show_state[PLING], 500, 660);\n        } else if (game_state == STOP) {\n            g.drawString(show_state[STOP], 500, 660);\n        } else {\n            g.drawString(show_state[OVER], 500, 660);\n            g.setColor(Color.RED);\n            g.setFont(new Font(Font.SANS_SERIF, Font.BOLD, 60));\n            g.drawString(\"GAME OVER!\", 30, 400);\n        }\n    }\n\n    private void paintSource(Graphics g) {\n        g.setFont(new Font(Font.SANS_SERIF, Font.BOLD, 30));\n        g.drawString(\"åˆ†æ•°: \" + totalScore, 500, 250);\n        g.drawString(\"è¡Œæ•°: \" + totalLine, 500, 430);\n    }\n\n    private void paintNextOne(Graphics g) {\n        Cell[] cells = nextOne.cells;\n        for (Cell cell : cells) {\n            int x = cell.getCol() * CELL_SIZE + 370;\n            int y = cell.getRow() * CELL_SIZE + 25;\n            g.drawImage(cell.getImage(), x, y, null);\n        }\n    }\n\n    private void paintCurrentOne(Graphics g) {\n        Cell[] cells = currentOne.cells;\n        for (Cell cell : cells) {\n            int x = cell.getCol() * CELL_SIZE;\n            int y = cell.getRow() * CELL_SIZE;\n            g.drawImage(cell.getImage(), x, y, null);\n        }\n    }\n\n    private void paintWall(Graphics g) {\n        for (int i = 0; i &lt; wall.length; i++) {\n            for (int j = 0; j &lt; wall[i].length; j++) {\n                int x = j * CELL_SIZE;\n                int y = i * CELL_SIZE;\n                Cell cell = wall[i][j];\n                //åˆ¤æ–­æ˜¯å¦æœ‰å°æ–¹å—\n                if (cell == null) {\n                    g.drawRect(x, y, CELL_SIZE, CELL_SIZE);\n                } else {\n                    g.drawImage(cell.getImage(), x, y, null);\n                }\n            }\n        }\n    }\n\n    //åˆ¤æ–­æ˜¯å¦å‡ºç•Œ\n    public boolean outOFBounds() {\n        Cell[] cells = currentOne.cells;\n        for (Cell cell : cells) {\n            int col = cell.getCol();\n            int row = cell.getRow();\n            if (row &lt; 0 || row &gt; wall.length - 1 || col &lt; 0 || col &gt; wall[0].length-1) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    //æŒ‰é”®ä¸€æ¬¡ï¼Œå·¦ç§»ä¸€æ¬¡\n    public void moveleftActive() {\n        currentOne.moveLeft();\n        //åˆ¤æ–­æ˜¯å¦è¶Šç•Œæˆ–é‡åˆ\n        if (outOFBounds() || coincide()) {\n            currentOne.moveRight();\n        }\n    }\n\n    //æŒ‰é”®ä¸€æ¬¡ï¼Œå³ç§»ä¸€æ¬¡\n    public void moveRightActive() {\n        currentOne.moveRight();\n        //åˆ¤æ–­æ˜¯å¦è¶Šç•Œæˆ–é‡åˆ\n        if (outOFBounds() || coincide()) {\n            currentOne.moveLeft();\n        }\n    }\n\n    //åˆ¤æ–­æ˜¯å¦é‡åˆ\n    public boolean coincide() {\n        Cell[] cells = currentOne.cells;\n        for (Cell cell : cells) {\n            int row = cell.getRow();\n            int col = cell.getCol();\n            if (wall[row][col] != null) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n        JFrame jFrame = new JFrame(\"ä¿„ç½—æ–¯æ–¹å—\");\n        //åˆ›å»ºæ¸¸æˆç•Œé¢\n        Tetris panel = new Tetris();\n        jFrame.add(panel);\n        //è®¾ç½®å¯è§\n        jFrame.setVisible(true);\n        //è®¾ç½®çª—å£å¤§å°\n        jFrame.setSize(810, 940);\n        //è®¾ç½®å‰§ä¸­\n        jFrame.setLocationRelativeTo(null);\n        //è®¾ç½®çª—å£å…³é—­æ—¶åœæ­¢\n        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //æ¸¸æˆä¸»è¦å¼€å§‹é€»è¾‘\n        panel.start();\n    }\n}</code></pre>\n<h1 id=\"%E4%B8%89%E3%80%81%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\">ä¸‰ã€æ•ˆæœå±•ç¤º</h1>\n<p>æ¸¸æˆå¼€å§‹ï¼Œæ–¹å¿«ä¸‹è½ï¼Œå³è¾¹åŒºåŸŸå±•ç¤ºå³å°†ä¸‹è½çš„æ–¹å—å›¾ã€åˆ†æ•°ã€æ¶ˆé™¤çš„è¡Œæ•°ä»¥åŠæ¸¸æˆåˆ‡æ¢çš„çŠ¶æ€ã€‚</p>\n<p><img alt=\"\" height=\"940\" src=\"..\\..\\static\\image\\b6f626fbbb48419f913998d755f4cc66.png\" width=\"810\"/></p>\n<p>æŒ‰ä¸‹ç©ºæ ¼é”®ï¼Œæ–¹å—ç¬é—´ä¸‹è½ï¼Œ æŒ‰ä¸‹Pé”®æ¸¸æˆæš‚åœï¼Œæ¶ˆé™¤ä¸€è¡Œåˆ†æ•°ä¸º1ï¼ˆæ­¤å¤„ç”±åˆ†æ•°æ± è¿›è¡Œæ§åˆ¶ï¼‰</p>\n<p><img alt=\"\" height=\"940\" src=\"..\\..\\static\\image\\df61f707551341b6b23bd9968cbd164d.png\" width=\"810\"/></p>\n<p> æŒ‰ä¸‹Cé”®æ¸¸æˆç»§ç»­ã€‚</p>\n<p><img alt=\"\" height=\"940\" src=\"..\\..\\static\\image\\5d9b74402ce14740972b2165c24d6e6d.png\" width=\"810\"/></p>\n<p> æŒ‰ä¸‹Sé”®ï¼Œæ¸¸æˆé‡æ–°å¼€å§‹ã€‚</p>\n<p><img alt=\"\" height=\"940\" src=\"..\\..\\static\\image\\fb440fab4309436d973c5c4d43bb945c.png\" width=\"810\"/></p>\n<p> æ–¹å—å æ»¡ï¼Œæ¸¸æˆç»“æŸï¼Œæ­¤æ—¶å¯ä»¥æŒ‰ä¸‹Sé”®é‡æ–°å¼€å§‹æ¸¸æˆã€‚</p>\n<p><img alt=\"\" height=\"940\" src=\"..\\..\\static\\image\\b5ade60916e8419c8e8baf081139cd37.png\" width=\"810\"/></p>\n<p>æœ¬æ¬¡æ¸¸æˆä¸­æ‰€ä½¿ç”¨çš„ç´ ææ–‡ä»¶ä»¥åŠæ‰€æœ‰çš„æºä»£ç æ–‡ä»¶éƒ½å·²ç»åŒæ­¥åˆ°Github,å°ä¼™ä¼´ä»¬ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ç›´æ¥è·å–ã€‚</p>\n<p>Githubé“¾æ¥åœ°å€ï¼š<a class=\"link-info\" href=\"https://github.com/xiaoZ-zhao/Tetris\" title=\"ç‚¹å‡»è·å–å®Œæ•´æºä»£ç ï¼Œä¸‹è½½åˆ°æœ¬åœ°å³å¯è¿è¡Œ\">ç‚¹å‡»è·å–å®Œæ•´æºä»£ç ï¼Œä¸‹è½½åˆ°æœ¬åœ°å³å¯è¿è¡Œ</a></p>\n<p style=\"text-align:center;\"><img alt=\"\" src=\"https://img-blog.csdnimg.cn/f2abcf9cd3e342dc93d0744fe4b5d37d.webp\"/></p>\n<p></p>\n</div>\n</div>", "first_tag": "Java", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 0, "php": 0, "time": "2022-05-25 19:21:33", "summary": "å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç™¾æ€ä¸å¾—å°èµµã€‚åˆ›ä½œæ—¶é—´ï¼šå¹´æœˆæ—¥åšå®¢ä¸»é¡µï¼šç‚¹æ­¤è¿›å…¥åšå®¢ä¸»é¡µç‚¹æ­¤è¿›å…¥åšå®¢ä¸»é¡µæ–°æ—¶ä»£çš„å†œæ°‘å·¥æ¢ä¸€ç§æ€ç»´é€»è¾‘å»çœ‹å¾…è¿™ä¸ªä¸–ç•Œä»Šå¤©æ˜¯åŠ å…¥çš„ç¬¬å¤©ã€‚è§‰å¾—æœ‰å¸®åŠ©éº»çƒ¦ç‚¹èµã€è¯„è®ºã€æ”¶è—ç›®å½•ä¸€ã€æ¸¸æˆèƒŒæ™¯äºŒã€åŠŸèƒ½å®"}