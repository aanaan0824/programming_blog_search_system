{"blogid": "124713236", "writerAge": "码龄16年", "writerBlogNum": "18", "writerCollect": "19", "writerComment": "0", "writerFan": "1", "writerGrade": "2级", "writerIntegral": "204", "writerName": "开心lulu", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124713236.jpg", "writerRankTotal": "99121", "writerRankWeekly": "24405", "writerThumb": "8", "writerVisitNum": "8652", "blog_read_count": "1194", "blog_time": "已于 2022-05-25 08:41:41 修改", "blog_title": "linux下安装php5.4详解（有图）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p>本文环境：CentOS 7.6 64位</p>\n<p>安装版本：5.4.16</p>\n<p>安装目录：/www/server/php/5.4.16</p>\n<p>安装包存放目录：/www/server/tools</p>\n<p>一、下载php安装包</p>\n<p>下载地址：<a href=\"https://museum.php.net/php5/\" title=\"https://museum.php.net/php5/\">https://museum.php.net/php5/</a></p>\n<p>选择自己要安装的版本，下载，然后解压</p>\n<pre><code class=\"language-bash\">cd /www/server/tools\nwget https://museum.php.net/php5/php-5.4.16.tar.gz\ntar -zxvf php-5.4.16.tar.gz</code></pre>\n<p>二、安装依赖包</p>\n<pre><code class=\"language-bash\">yum install -y gcc gcc-c++  make zlib zlib-devel pcre pcre-devel  libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers</code></pre>\n<p>三、编译安装配置</p>\n<pre><code class=\"language-bash\">./configure --prefix=/www/server/php/5.4.16 --with-config-file-path=/www/server/php/5.4.16 --with-curl --with-freetype-dir --with-gd --with-gettext --with-iconv-dir --with-kerberos --with-libdir=lib64 --with-libxml-dir --with-mysqli --with-openssl --with-pcre-regex --with-pdo-mysql --with-pdo-sqlite --with-pear --with-png-dir --with-xmlrpc --with-xsl --with-zlib --enable-fpm --enable-bcmath --enable-libxml --enable-inline-optimization --enable-gd-native-ttf --enable-mbregex --enable-mbstring --enable-opcache --enable-pcntl --enable-shmop --enable-soap --enable-sockets --enable-sysvsem --enable-xml --enable-zip</code></pre>\n<p>--prefix：php安装目录</p>\n<p>--with-config-file-path：存放php.ini的目录</p>\n<p>我操作的时候，遇到一个错误：configure: error: xslt-config not found. Please reinstall the libxslt &gt;= 1.1.0 distribution</p>\n<p>这里只需重新安装libxslt 依赖包即可：</p>\n<pre><code class=\"language-bash\">yum install libxslt-devel* -y</code></pre>\n<p>安装成功后，继续刚才的configure配置</p>\n<p style=\"text-align:center;\"><img alt=\"\" class=\"left\" src=\"..\\..\\static\\image\\23ea153c38f343259ed3e471a2350453.png\"/></p>\n<p>这一次，成功了</p>\n<p>四、编译安装</p>\n<pre><code class=\"language-bash\">make &amp;&amp; make install</code></pre>\n<p style=\"text-align:center;\"> <img alt=\"\" class=\"left\" src=\"..\\..\\static\\image\\9bbf4f381f134cc58bed08afd8102e8c.png\"/></p>\n<p> 五、在之前的编译源码包中，找到php.ini-production，复制到php.ini目录下，并更名为php.ini</p>\n<pre><code class=\"language-bash\">cp php.ini-production  /www/server/php/5.4.16/php.ini</code></pre>\n<p>六、设置开机启动</p>\n<pre><code class=\"language-bash\">cp ./sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm\nchmod +x /etc/init.d/php-fpm</code></pre>\n<p>修改php-fpm配置文件，去掉pid = run/php-fpm.pid前面的分号;</p>\n<pre><code class=\"language-bash\">cd /www/server/php/5.4.16/etc\ncp php-fpm.conf.default php-fpm.conf\nvi php-fpm.conf\n</code></pre>\n<p>设置开机启动</p>\n<pre><code class=\"language-bash\">chkconfig --add php-fpm\nchkconfig --list</code></pre>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\08c3f15fe6f14fac83fc9065a4aa1c7e.png\"/></p>\n<p>手动开启php服务</p>\n<pre><code class=\"language-bash\">/www/server/php/5.4.16/sbin/php-fpm </code></pre>\n<p>或</p>\n<pre><code class=\"language-bash\">service php-fpm start</code></pre>\n<p>关闭php服务</p>\n<pre><code>service php-fpm stop</code></pre>\n<p>或</p>\n<pre><code class=\"language-bash\">pkill php-fpm</code></pre>\n<p></p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 1, "time": "2022-05-25 08:41:41", "summary": "本文环境：位安装版本：安装目录：安装包存放目录：一、下载安装包下载地址：选择自己要安装的版本，下载，然后解压二、安装依赖包三、编译安装配置：安装目录：存放的目录我操作的时候，遇到一个错误：这里只需重新"}