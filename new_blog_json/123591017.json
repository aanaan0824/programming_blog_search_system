{"blogid": "123591017", "writerAge": "码龄4年", "writerBlogNum": "27", "writerCollect": "121", "writerComment": "38", "writerFan": "88", "writerGrade": "3级", "writerIntegral": "447", "writerName": "执着1111", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123591017.jpg", "writerRankTotal": "48149", "writerRankWeekly": "85546", "writerThumb": "30", "writerVisitNum": "59523", "blog_read_count": "10295", "blog_time": "已于 2022-03-20 19:09:43 修改", "blog_title": "VUE3的vue.config.js配置详解 vue.config.js配置详解注释", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"_0\"></a>报错</h2>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\a5f27187290b42ac94b02cbe463da6cd.png\"/></p>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\e819b4f060324cc094f9952db68e8cf6.png\"/><br/> asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).<br/> This can impact web performance.<br/> entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.<br/> Entrypoints:</p>\n<p><strong>打包时提示文件过大，配置解决方案，如下</strong><br/> 直接设置文件的压缩率就可以</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token comment\">//核心代码</span>\nconfigureWebpack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">// 为生产环境修改配置...</span>\n      config<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">=</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">;</span>\n      config<span class=\"token punctuation\">[</span><span class=\"token string\">\"performance\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//打包文件大小配置</span>\n        <span class=\"token string\">\"maxEntrypointSize\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"maxAssetSize\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30000000</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n</code></pre>\n<h3><a id=\"_25\"></a>上代码：</h3>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{<!-- --></span> defineConfig <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@vue/cli-service'</span><span class=\"token punctuation\">)</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n  transpileDependencies<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  assetsDir<span class=\"token punctuation\">:</span> <span class=\"token string\">'static'</span><span class=\"token punctuation\">,</span>\n  productionSourceMap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  chainWebpack<span class=\"token punctuation\">:</span> config <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'assets'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/assets'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'components'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/components'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configureWebpack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">// 为生产环境修改配置...</span>\n      config<span class=\"token punctuation\">.</span>mode <span class=\"token operator\">=</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">;</span>\n      config<span class=\"token punctuation\">[</span><span class=\"token string\">\"performance\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token comment\">//打包文件大小配置</span>\n        <span class=\"token string\">\"maxEntrypointSize\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10000000</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"maxAssetSize\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30000000</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n</code></pre>\n<h2><a id=\"_52\"></a>还有一种方法就是对其进行压缩</h2>\n<p>安装依赖</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> compression-webpack-plugin --save-dev\n</code></pre>\n<p>在vue.config.js中引用</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">const</span> CompressionWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compression-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>配置压缩文件</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">const</span> productionGzipExtensions <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"js\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'css'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<p>配置对超过大小文件进行压缩</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">CompressionWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n      filename<span class=\"token punctuation\">:</span> <span class=\"token string\">\"[path][base].gz\"</span><span class=\"token punctuation\">,</span>\n      algorithm<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gzip\"</span><span class=\"token punctuation\">,</span>\n      test<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\\.(\"</span> <span class=\"token operator\">+</span> productionGzipExtensions<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"|\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\")$\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//匹配文件名</span>\n      threshold<span class=\"token punctuation\">:</span> <span class=\"token number\">10240</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//对10K以上的数据进行压缩</span>\n      minRatio<span class=\"token punctuation\">:</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span>\n      deleteOriginalAssets<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">//是否删除源文件</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p><strong>下面时完整代码</strong></p>\n<pre><code class=\"prism language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{<!-- --></span> defineConfig <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@vue/cli-service'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> CompressionWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compression-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 开启gzip压缩， 按需引用</span>\n<span class=\"token keyword\">const</span> productionGzipExtensions <span class=\"token operator\">=</span> <span class=\"token regex\">/\\.(js|css|json|txt|html|ico|svg)(\\?.*)?$/i</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 开启gzip压缩， 按需写入</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">IS_PROD</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'production'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'prod'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">resolve</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> dir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> TerserPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'terser-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token comment\">//去除多余的console.log</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">defineConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n  transpileDependencies<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  assetsDir<span class=\"token punctuation\">:</span> <span class=\"token string\">'static'</span><span class=\"token punctuation\">,</span>\n  productionSourceMap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  integrity<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  crossorigin<span class=\"token punctuation\">:</span> undefined<span class=\"token punctuation\">,</span>\n  chainWebpack<span class=\"token punctuation\">:</span> config <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span><span class=\"token function\">symlinks</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 修复热更新失效</span>\n    <span class=\"token comment\">// 如果使用多页面打包，使用vue inspect --plugins查看html是否在结果数组中</span>\n    config<span class=\"token punctuation\">.</span><span class=\"token function\">plugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">tap</span><span class=\"token punctuation\">(</span>args <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token comment\">// 修复 Lazy loading routes Error</span>\n      args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>chunksSortMode <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> args<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias <span class=\"token comment\">// 添加别名</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@assets'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/assets'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@components'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/components'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@views'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@store'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/store'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 压缩图片</span>\n    <span class=\"token comment\">// 需要 npm i -D image-webpack-loader</span>\n    config<span class=\"token punctuation\">.</span>module\n      <span class=\"token punctuation\">.</span><span class=\"token function\">rule</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"images\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image-webpack-loader\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">loader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image-webpack-loader\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n        mozjpeg<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> progressive<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> quality<span class=\"token punctuation\">:</span> <span class=\"token number\">65</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        optipng<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> enabled<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        pngquant<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> quality<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0.65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> speed<span class=\"token punctuation\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        gifsicle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> interlaced<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        webp<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> quality<span class=\"token punctuation\">:</span> <span class=\"token number\">75</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configureWebpack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token comment\">// 开启 gzip 压缩</span>\n    <span class=\"token comment\">// 需要 npm i -D compression-webpack-plugin</span>\n    <span class=\"token keyword\">const</span> plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">IS_PROD</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">CompressionWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n          filename<span class=\"token punctuation\">:</span> <span class=\"token string\">'[path].gz[query]'</span><span class=\"token punctuation\">,</span>\n          algorithm<span class=\"token punctuation\">:</span> <span class=\"token string\">'gzip'</span><span class=\"token punctuation\">,</span>\n          test<span class=\"token punctuation\">:</span> productionGzipExtensions<span class=\"token punctuation\">,</span>\n          threshold<span class=\"token punctuation\">:</span> <span class=\"token number\">10240</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//大于10k的进行压缩</span>\n          minRatio<span class=\"token punctuation\">:</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n        <span class=\"token comment\">//打包环境去掉console.log等</span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">TerserPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n          terserOptions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            ecma<span class=\"token punctuation\">:</span> undefined<span class=\"token punctuation\">,</span>\n            warnings<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            parse<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n              drop_console<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n              drop_debugger<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n              pure_funcs<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'console.log'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 移除console</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    config<span class=\"token punctuation\">.</span>plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>config<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>plugins<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<h3><a id=\"5xwebpack_160\"></a>我这个是最方法，大家可以复制到自己的项目中直接使用，我的是5.x的webpack，同类型版本的可以直接使用</h3>\n<ul><li>需要nginx也配合使用压缩，开启全局http压缩</li></ul>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">gzip</span>  off<span class=\"token punctuation\">;</span>\ngzip_static on<span class=\"token punctuation\">;</span>\ngzip_min_length 10k<span class=\"token punctuation\">;</span>\ngzip_buffers 4 16k<span class=\"token punctuation\">;</span>\ngzip_comp_level 6<span class=\"token punctuation\">;</span>\ngzip_types application/javascript application/css text/css text/javascript<span class=\"token punctuation\">;</span>\ngzip_disable <span class=\"token string\">\"MSIE [1-6]\\.\"</span><span class=\"token punctuation\">;</span>\ngzip_vary on<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><strong>这种方法是最优方法真正的考虑性能用的，上面的第一种方法只是让其不提示了而已，不会去考虑性能问题</strong></p>\n<p>vue.config.js配置详解注释</p>\n<pre><code class=\"prism language-javascript\"><span class=\"token comment\">// vue.config.js</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> CompressionWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"compression-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 开启gzip压缩， 按需引用</span>\n<span class=\"token keyword\">const</span> productionGzipExtensions <span class=\"token operator\">=</span> <span class=\"token regex\">/\\.(js|css|json|txt|html|ico|svg)(\\?.*)?$/i</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 开启gzip压缩， 按需写入</span>\n<span class=\"token keyword\">const</span> BundleAnalyzerPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"webpack-bundle-analyzer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>BundleAnalyzerPlugin<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 打包分析</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">IS_PROD</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'production'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'prod'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">resolve</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> dir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//用于生产环境去除多余的css</span>\n<span class=\"token keyword\">const</span> PurgecssPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"purgecss-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//全局文件路径</span>\n<span class=\"token keyword\">const</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"glob-all\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//压缩代码并去掉console</span>\n<span class=\"token keyword\">const</span> UglifyJsPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"uglifyjs-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span>\n  publicPath<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'/site/vue-demo/'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 公共路径</span>\n  indexPath<span class=\"token punctuation\">:</span> <span class=\"token string\">'index.html'</span> <span class=\"token punctuation\">,</span> <span class=\"token comment\">// 相对于打包路径index.html的路径</span>\n  outputDir<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>outputDir <span class=\"token operator\">||</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 'dist', 生产环境构建文件的目录</span>\n  assetsDir<span class=\"token punctuation\">:</span> <span class=\"token string\">'static'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 相对于outputDir的静态资源(js、css、img、fonts)目录</span>\n  lintOnSave<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否在开发环境下通过 eslint-loader 在每次保存时 lint 代码</span>\n  runtimeCompiler<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否使用包含运行时编译器的 Vue 构建版本</span>\n  productionSourceMap<span class=\"token punctuation\">:</span> <span class=\"token operator\">!</span><span class=\"token constant\">IS_PROD</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 生产环境的 source map</span>\n  parallel<span class=\"token punctuation\">:</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"os\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">cpus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">&gt;</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否为 Babel 或 TypeScript 使用 thread-loader。该选项在系统的 CPU 有多于一个内核时自动启用，仅作用于生产构建。</span>\n  pwa<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 向 PWA 插件传递选项。</span>\n  chainWebpack<span class=\"token punctuation\">:</span> config <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span><span class=\"token function\">symlinks</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 修复热更新失效</span>\n    <span class=\"token comment\">// 如果使用多页面打包，使用vue inspect --plugins查看html是否在结果数组中</span>\n    config<span class=\"token punctuation\">.</span><span class=\"token function\">plugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">tap</span><span class=\"token punctuation\">(</span>args <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n      <span class=\"token comment\">// 修复 Lazy loading routes Error</span>\n      args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>chunksSortMode <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> args<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    config<span class=\"token punctuation\">.</span>resolve<span class=\"token punctuation\">.</span>alias <span class=\"token comment\">// 添加别名</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@assets'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/assets'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@components'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/components'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@views'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/views'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'@store'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/store'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 压缩图片</span>\n    <span class=\"token comment\">// 需要 npm i -D image-webpack-loader</span>\n    config<span class=\"token punctuation\">.</span>module\n      <span class=\"token punctuation\">.</span><span class=\"token function\">rule</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"images\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image-webpack-loader\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">loader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image-webpack-loader\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n        mozjpeg<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> progressive<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> quality<span class=\"token punctuation\">:</span> <span class=\"token number\">65</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        optipng<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> enabled<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        pngquant<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> quality<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0.65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> speed<span class=\"token punctuation\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        gifsicle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> interlaced<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        webp<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> quality<span class=\"token punctuation\">:</span> <span class=\"token number\">75</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 打包分析, 打包之后自动生成一个名叫report.html文件(可忽视)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">IS_PROD</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      config<span class=\"token punctuation\">.</span><span class=\"token function\">plugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"webpack-report\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>BundleAnalyzerPlugin<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{<!-- --></span>\n          analyzerMode<span class=\"token punctuation\">:</span> <span class=\"token string\">\"static\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configureWebpack<span class=\"token punctuation\">:</span> config <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token comment\">// 开启 gzip 压缩</span>\n    <span class=\"token comment\">// 需要 npm i -D compression-webpack-plugin</span>\n    <span class=\"token keyword\">const</span> plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">IS_PROD</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n      plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\">CompressionWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n          filename<span class=\"token punctuation\">:</span> <span class=\"token string\">\"[path].gz[query]\"</span><span class=\"token punctuation\">,</span>\n          algorithm<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gzip\"</span><span class=\"token punctuation\">,</span>\n          test<span class=\"token punctuation\">:</span> productionGzipExtensions<span class=\"token punctuation\">,</span>\n          threshold<span class=\"token punctuation\">:</span> <span class=\"token number\">10240</span><span class=\"token punctuation\">,</span>\n          minRatio<span class=\"token punctuation\">:</span> <span class=\"token number\">0.8</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">//启用代码压缩</span>\n            plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n                <span class=\"token keyword\">new</span> <span class=\"token class-name\">UglifyJsPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n                    uglifyOptions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                        compress<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n                            warnings<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                            drop_console<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                            drop_debugger<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                            pure_funcs<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"console.log\"</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//移除console</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    sourceMap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                    parallel<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">//去掉不用的css 多余的css</span>\n            plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>\n                <span class=\"token keyword\">new</span> <span class=\"token class-name\">PurgecssPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n                    paths<span class=\"token punctuation\">:</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./**/*.vue\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    extractors<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                        <span class=\"token punctuation\">{<!-- --></span>\n                            extractor<span class=\"token punctuation\">:</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Extractor</span> <span class=\"token punctuation\">{<!-- --></span>\n                                <span class=\"token keyword\">static</span> <span class=\"token function\">extract</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n                                    <span class=\"token keyword\">const</span> validSection <span class=\"token operator\">=</span> content<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>\n                                        <span class=\"token regex\">/&lt;style([\\s\\S]*?)&lt;\\/style&gt;+/gim</span><span class=\"token punctuation\">,</span>\n                                        <span class=\"token string\">\"\"</span>\n                                    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                                    <span class=\"token keyword\">return</span> validSection<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/[A-Za-z0-9-_:/]+/g</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                                <span class=\"token punctuation\">}</span>\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            extensions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"html\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">]</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    whitelist<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"html\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"body\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    whitelistPatterns<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token regex\">/el-.*/</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    whitelistPatternsChildren<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token regex\">/^token/</span><span class=\"token punctuation\">,</span> <span class=\"token regex\">/^pre/</span><span class=\"token punctuation\">,</span> <span class=\"token regex\">/^code/</span><span class=\"token punctuation\">]</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    config<span class=\"token punctuation\">.</span>plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>config<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>plugins<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  css<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n    extract<span class=\"token punctuation\">:</span> <span class=\"token constant\">IS_PROD</span><span class=\"token punctuation\">,</span>\n    requireModuleExtension<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 去掉文件名中的 .module</span>\n    loaderOptions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n        <span class=\"token comment\">// 给 less-loader 传递 Less.js 相关选项</span>\n        less<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          <span class=\"token comment\">// `globalVars` 定义全局对象，可加入全局变量</span>\n          globalVars<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            primary<span class=\"token punctuation\">:</span> <span class=\"token string\">'#333'</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  devServer<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n      overlay<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token comment\">// 让浏览器 overlay 同时显示警告和错误</span>\n       warnings<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n       errors<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      host<span class=\"token punctuation\">:</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">,</span>\n      port<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 端口号</span>\n      https<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// https:{type:Boolean}</span>\n      open<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//配置自动启动浏览器</span>\n      hotOnly<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 热更新</span>\n      <span class=\"token comment\">// proxy: 'http://localhost:8080'  // 配置跨域处理,只有一个代理</span>\n      proxy<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token comment\">//配置多个跨域</span>\n        <span class=\"token string\">\"/api\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          target<span class=\"token punctuation\">:</span> <span class=\"token string\">\"http://172.11.11.11:7071\"</span><span class=\"token punctuation\">,</span>\n          changeOrigin<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// ws: true,//websocket支持</span>\n          secure<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n          pathRewrite<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token string\">\"^/api\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"/api2\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n          target<span class=\"token punctuation\">:</span> <span class=\"token string\">\"http://172.12.12.12:2018\"</span><span class=\"token punctuation\">,</span>\n          changeOrigin<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">//ws: true,//websocket支持</span>\n          secure<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n          pathRewrite<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token string\">\"^/api2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/\"</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<p><strong>如果本篇文章对您有帮助请点个赞和关注，谢谢</strong></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "JavaScript", "cpp": 0, "csharp": 0, "python": 0, "javascript": 1, "java": 0, "sql": 0, "php": 0, "time": "2022-03-20 19:09:43", "summary": "报错在这里插入图片描述在这里插入图片描述打包时提示文件过大，配置解决方案，如下直接设置文件的压缩率就可以核心代码为生产环境修改配置打包文件大小配置上代码："}