{"blogid": "126741885", "writerAge": "码龄6年", "writerBlogNum": "108", "writerCollect": "1727", "writerComment": "119", "writerFan": "148", "writerGrade": "6级", "writerIntegral": "5388", "writerName": "sunflower_sara", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126741885.jpg", "writerRankTotal": "1677903", "writerRankWeekly": "33010", "writerThumb": "282", "writerVisitNum": "590473", "blog_read_count": "9", "blog_time": "已于 2022-09-07 11:23:05 修改", "blog_title": "【Python】文件锁 跨平台和系统支持win和linux", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<pre><code class=\"language-python\">    import portalocker\n    f = open(path, 'a+', encoding=\"utf-8\")\n    portalocker.lock(f, portalocker.LOCK_EX)  # 加锁\n    f.writelines(dict_data)  # 写入\n    f.close()  # 文件关闭自动解锁</code></pre>\n<p>不需要fcntl，其不太支持win，在linux效果良好</p>\n<p>用import portalocker 即可 方便好用</p>\n<p></p>\n<p></p>\n<p>如果用fcntl，参考如下：</p>\n<p><a href=\"http://www.szl724.com/coding/python/3284.html\" title=\"Python进程文件锁fcntl库使用 | 数之灵\">Python进程文件锁fcntl库使用 | 数之灵</a></p>\n<p><a href=\"https://www.361shipin.com/blog/1543008945772167168\" title=\"python windows 下设置文件锁、多线程\">python windows 下设置文件锁、多线程</a></p>\n<p><a href=\"https://blog.csdn.net/jacke121/article/details/82218151\" title=\"No module named 'fcntl'_AI视觉网奇的博客-CSDN博客\">No module named 'fcntl'_AI视觉网奇的博客-CSDN博客</a></p>\n<p><a href=\"https://pythontechworld.com/article/detail/jW88jf05TXFP\" title=\"python windows 下设置文件锁、多线程 - PythonTechWorld\">python windows 下设置文件锁、多线程 - PythonTechWorld</a></p>\n<p><a href=\"https://blog.csdn.net/SHOUGOUGOU/article/details/118542828\" title=\"python文件加锁_SHOUGOUGOU的博客-CSDN博客_python 文件锁\">python文件加锁_SHOUGOUGOU的博客-CSDN博客_python 文件锁</a></p>\n<p><a href=\"https://blog.csdn.net/baidu_41669919/article/details/121367612\" title=\"​​​​​​python文件锁_Destiny宿命的博客-CSDN博客_python 文件锁\">​​​​​​python文件锁_Destiny宿命的博客-CSDN博客_python 文件锁<br/></a><br/>  </p>\n<p>参考文献：</p>\n<p><a href=\"https://www.csdn.net/tags/MtTacgxsODEyODQtYmxvZwO0O0OO0O0O.html\" title=\"https://www.csdn.net/tags/MtTacgxsODEyODQtYmxvZwO0O0OO0O0O.html\">https://www.csdn.net/tags/MtTacgxsODEyODQtYmxvZwO0O0OO0O0O.html</a></p>\n<p><a href=\"https://stackoverflow.com/questions/1422368/fcntl-substitute-on-windows/25471508#25471508\" title=\"python - fcntl substitute on Windows - Stack Overflow\">python - fcntl substitute on Windows - Stack Overflow</a><br/><a href=\"https://simpledao.win/2018/09/17/python%E5%88%A9%E7%94%A8%E6%96%87%E4%BB%B6%E9%94%81%EF%BC%8C%E5%90%8C%E6%97%B6%E5%8F%AA%E5%85%81%E8%AE%B8%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%E8%BF%90%E8%A1%8C/\" title=\"python利用文件锁，同时只允许一个实例运行 | simpledao\">python利用文件锁，同时只允许一个实例运行 | simpledao</a></p>\n</div>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-09-07 11:23:05", "summary": "加锁写入文件关闭自动解锁不需要，其不太支持，在效果良好用即可方便好用如果用，参考如下：进程文件锁库使用数之灵进程文件锁库使用数之灵下设置文件锁、多线程下设置文件锁、多线程视觉网奇的博客博客视觉网奇的博"}