{"blogid": "123519041", "writerAge": "码龄2年", "writerBlogNum": "33", "writerCollect": "150", "writerComment": "6", "writerFan": "11", "writerGrade": "2级", "writerIntegral": "345", "writerName": "三千花灯", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123519041.jpg", "writerRankTotal": "46909", "writerRankWeekly": "362349", "writerThumb": "19", "writerVisitNum": "90058", "blog_read_count": "9753", "blog_time": "已于 2022-03-16 15:23:27 修改", "blog_title": "sql语句之多表查询", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p></p>\n<div class=\"toc\">\n<h3>文章目录</h3>\n<ul><li><a href=\"#_cross_join_6\">一、笛卡尔积(交叉连接) ----&gt;cross join</a></li><li><ul><li><a href=\"#1_7\">1、概念</a></li><li><a href=\"#2__15\">2. 语法</a></li><li><a href=\"#3_24\">3.示例</a></li></ul>\n</li><li><a href=\"#inner_join_32\">二、内连接----&gt;inner join</a></li><li><ul><li><a href=\"#1_33\">1、概念</a></li><li><a href=\"#2__44\">2. 语法</a></li><li><a href=\"#3_55\">3.示例</a></li></ul>\n</li><li><a href=\"#outer_join_65\">三、外链接----&gt;outer join</a></li><li><ul><li><a href=\"#1_68\">1、概念</a></li><li><a href=\"#2__80\">2. 语法</a></li><li><a href=\"#3_87\">3.示例</a></li></ul>\n</li><li><a href=\"#union_103\">四、联合连接----&gt;union</a></li><li><ul><li><a href=\"#1_104\">1、概念</a></li><li><a href=\"#2_107\">2.示例</a></li></ul>\n</li></ul>\n</div>\n<p></p>\n<hr/>\n<h1><a id=\"_cross_join_6\"></a>一、笛卡尔积(交叉连接) ----&gt;cross join</h1>\n<h2><a id=\"1_7\"></a>1、概念</h2>\n<pre><code> 笛卡尔积又称为“交叉连接”，将两个表中所有数据行。返回结果集合中的数据行数等于第一个表中符合查询条件的数据行数乘以第二个表中符合查询条件的数据行数。\n（相当于合并两张表单为一张，表单中所有字段都保存展示）\n</code></pre>\n<p><font color=\"#009ad6\">例如，A={a,b},B={0,1,2} 则<br/> AxB={&lt;a,o&gt;,&lt;a,1&gt;,&lt;a,2&gt;,&lt;b,0&gt;,&lt;b,1&gt;,&lt;b,2&gt;,}<br/> BxA={&lt;0,a&gt;,&lt;0,b&gt;,&lt;1,a&gt;,&lt;1,b&gt;,&lt;2,a&gt;,&lt;2,b&gt;}</font></p>\n<h2><a id=\"2__15\"></a>2. 语法</h2>\n<p>在MySQL中可以为CROSS JOIN或者省略CROSS即JOIN，或者使用’,’</p>\n<blockquote>\n<p>SELECT * FROM table1 CROSS JOIN table2;</p>\n</blockquote>\n<blockquote>\n<p>SELECT * FROM table1 JOIN table2;</p>\n</blockquote>\n<blockquote>\n<p>SELECT * FROM table1 , table2;</p>\n</blockquote>\n<h2><a id=\"3_24\"></a>3.示例</h2>\n<ol><li>示例1、合并两个表内容（纯粹连接查询）</li></ol>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> employees<span class=\"token punctuation\">,</span>dept_emp<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\0d529aaf24d64b13947f54517d224d15.png\"/><br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\6b0cdab941904cb885d05d84951b172c.png\"/></p>\n<h1><a id=\"inner_join_32\"></a>二、内连接----&gt;inner join</h1>\n<h2><a id=\"1_33\"></a>1、概念</h2>\n<pre><code>  在MySQL中把INNER JOIN叫做等值连接，即需要指定等值连接条件INNER JOIN被划分在一起。\n</code></pre>\n<p><font color=\"#c63c26\">（1）、必须有等值条件；<br/> （2）、内连接可能会丢失信息;<br/> （内连接是从结果表中删除与其他被连接表中没有匹配行的所有行）<br/> （3）、重点：内连接，只查匹配行。</font></p>\n<h2><a id=\"2__44\"></a>2. 语法</h2>\n<p>第一种：只使用where</p>\n<blockquote>\n<p>SELECT * FROM table1 a,table2 b where a.id=b.id ;</p>\n</blockquote>\n<p>第二种：join…on</p>\n<blockquote>\n<p>SELECT * FROM table1 a JOIN table2 b on a.id=b.id;</p>\n</blockquote>\n<p>第三种：inner join … on</p>\n<blockquote>\n<p>SELECT * FROM table1 a inner join table2 b on a.id=b.id;</p>\n</blockquote>\n<h2><a id=\"3_55\"></a>3.示例</h2>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> salaries a<span class=\"token punctuation\">,</span>dept_manager b <span class=\"token keyword\">where</span> a<span class=\"token punctuation\">.</span>emp_no<span class=\"token operator\">=</span>b<span class=\"token punctuation\">.</span>emp_no<span class=\"token punctuation\">;</span>\n</code></pre>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> salaries a <span class=\"token keyword\">join</span> dept_manager b <span class=\"token keyword\">on</span> a<span class=\"token punctuation\">.</span>emp_no<span class=\"token operator\">=</span>b<span class=\"token punctuation\">.</span>emp_no<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\eb858d24021c47d8a997f22469c2feca.png\"/></p>\n<h1><a id=\"outer_join_65\"></a>三、外链接----&gt;outer join</h1>\n<h2><a id=\"1_68\"></a>1、概念</h2>\n<pre><code> 分为左外连接( LEFT OUTER JON )和右连接(RIGHT OUTER JOIN)，\n 即除了返回符合连接条件的结果之外，\n 还要返回左表(左连接)或者右表(右连接)中不符合连接条件的结果，相对应的使用NULL对应。\n</code></pre>\n<p>1、左外连接 left inner join<br/> 左边主表，左所有数据都显示，右边显示相关联 ，没有数据显示null<br/> 2、右外连接 right inner join<br/> 右边主表，右所有数据都显示，左边显示相关联 ，没有数据显示null</p>\n<h2><a id=\"2__80\"></a>2. 语法</h2>\n<blockquote>\n<p>SELECT * FROM table1 a left join table2 b on a.id=b.id ;</p>\n</blockquote>\n<blockquote>\n<p>SELECT * FROM table1 a right join table2 b on a.id=b.id;</p>\n</blockquote>\n<h2><a id=\"3_87\"></a>3.示例</h2>\n<p>（1）两张表以左表为准</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> salaries a <span class=\"token keyword\">left</span> <span class=\"token keyword\">join</span> dept_manager b <span class=\"token keyword\">on</span> a<span class=\"token punctuation\">.</span>emp_no<span class=\"token operator\">=</span>b<span class=\"token punctuation\">.</span>emp_no<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\702a211acfa0426fbeb53c469e3af782.png\"/><br/> （2）三张表<br/> A left join B on A.id=B.id left join C on B.code=C.code</p>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">SELECT</span> last_name<span class=\"token punctuation\">,</span> first_name<span class=\"token punctuation\">,</span> dept_name\n<span class=\"token keyword\">FROM</span> employees a <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> dept_emp b <span class=\"token keyword\">ON</span> a<span class=\"token punctuation\">.</span>emp_no<span class=\"token operator\">=</span>b<span class=\"token punctuation\">.</span>emp_no\n<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> departments c <span class=\"token keyword\">ON</span> b<span class=\"token punctuation\">.</span>dept_no<span class=\"token operator\">=</span>c<span class=\"token punctuation\">.</span>dept_no<span class=\"token punctuation\">;</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\4ffc791c94224c1c9858d9a5dfa27507.png\"/></p>\n<h1><a id=\"union_103\"></a>四、联合连接----&gt;union</h1>\n<h2><a id=\"1_104\"></a>1、概念</h2>\n<pre><code> 两个sql语句，中间用union连接\n union all 分别查看&amp;不去重\n</code></pre>\n<h2><a id=\"2_107\"></a>2.示例</h2>\n<pre><code class=\"prism language-sql\"><span class=\"token keyword\">select</span> device_id<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> gpa\n<span class=\"token keyword\">from</span> user_profile\n<span class=\"token keyword\">where</span> university<span class=\"token operator\">=</span><span class=\"token string\">'山东大学'</span>\n\n<span class=\"token keyword\">union</span> <span class=\"token keyword\">all</span>\n\n<span class=\"token keyword\">select</span> device_id<span class=\"token punctuation\">,</span> gender<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">,</span> gpa\n<span class=\"token keyword\">from</span> user_profile\n<span class=\"token keyword\">where</span> gender<span class=\"token operator\">=</span><span class=\"token string\">'male'</span>\n</code></pre>\n<p><img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ad763b54cf524d08a03291b1376429fb.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 0, "time": "2022-03-16 15:23:27", "summary": "文章目录一、笛卡尔积交叉连接、概念语法示例二、内连接、概念语法示例三、外链接、概念语法示例四、联合连接、概念示例一、笛卡尔积交叉连接、概念笛卡尔积又称为交叉连接，将两个表中所有数据行。返回结果集合中的"}