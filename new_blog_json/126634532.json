{"blogid": "126634532", "writerAge": "码龄1年", "writerBlogNum": "43", "writerCollect": "3", "writerComment": "2", "writerFan": "2", "writerGrade": "3级", "writerIntegral": "464", "writerName": "爱吃土豆的马铃薯21", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126634532.jpg", "writerRankTotal": "39722", "writerRankWeekly": "11265", "writerThumb": "10", "writerVisitNum": "4936", "blog_read_count": "146", "blog_time": "于 2022-08-31 23:44:05 发布", "blog_title": "python搞笑表白", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>原文出自于<a href=\"https://1yzf2zst.github.io/post/ce6b206b.html\">传送门</a></p>\n<p>欢迎访问博主的小破站<a href=\"https://1yzf2zst.github.io/\">传送门</a><br/> 博主使用python 制作了一个网上经常看见的搞笑表白程序</p>\n<p>本来是想将其打包成exe程序的，但是因为里面涉及有图片</p>\n<p>所以打包起来非常的麻烦，所以博主这里就没有打包了</p>\n<p>其实刚开始博主想制作的并不是现在做出来的这个程序 而是和用js css做出来的那种一样</p>\n<p>但是由于 这里我主要使用的是tkinter这个GUI库，就里面的许多操作实现起来就比较麻烦</p>\n<p>最后博主就做的这种的了</p>\n<p>说说做这个的时候遇到的一些问题吧！</p>\n<ol><li> <p>在子页面加载图片问题</p> <p>通过使用tkinter里面自带的加载图片工具是加载不了的</p> <p>解决：通过 opencv里面的加载图片方法（下面的程序就是使用的这种方法）</p> <p>​ 通过 PIL里面的加载图片方法，但是要注意加载的图片类型</p> </li><li> <p>不允许关闭主窗口问题</p> <p>这个程序 ，你发给小姐姐，结果人家直接一个钢叉给你关闭了，你这白忙活一宿🤣 就尴尬了</p> <p>解决：</p> <pre><code>from Tkinter import *\nimport tkMessageBox\n \ndef callback():\n    if tkMessageBox.askokcancel(\"Quit\", \"Do you really wish to quit?\"):\n        root.destroy()\n \nroot = Tk()\nroot.protocol(\"WM_DELETE_WINDOW\", callback)\n \nroot.mainloop()\n</code></pre> <p>可以参考一下上面这段代码，或者去廖雪峰老师的网站看一下</p> <p>博主使用的就和上面这个有一定的区别</p> <pre><code># 让窗口不能关闭函数   \ndef callback(event):\n    # 查看触发事件的按钮\n    s=event.keysym\n    if s == \"Escape\":\n        root.destroy()\nroot.protocol(\"WM_DELETE_WINDOW\", callback)\nroot.bind('&lt;Key&gt;',callback)\nroot.focus_set()\n</code></pre> </li><li> <p>布局问题</p> <p>​ 这里博主建议不会的小伙伴可以直接去看 这篇<a href=\"https://1yzf2zst.github.io/post/33f31c3e.html\">文章</a></p> <p>​ 博主这里就不说了，那边文章详细的介绍了布局</p> </li><li> <p>打包成exe程序问题</p> <p>这个带图片的tkinterchengxu 打包成exe程序 有点太麻烦了，😥有操作比较流利的小伙伴可以教教博主、</p> <p>解决：未解决</p> </li></ol>\n<p>这里博主给一个百度网盘的分享链接<a href=\"https://pan.baidu.com/s/1aYqFRZwmfcMtvudBGBBmLw\">传送门</a><br/> 提取码：2111</p>\n<p><strong>下面就直接给大家上源码</strong></p>\n<pre><code>import tkinter as tk\nfrom PIL import Image, ImageTk\nimport numpy as np\nimport cv2\nimport time\nroot = tk.Tk()\nroot.title(\"小姐姐，我来表白啦，别跑呀\")\nroot.geometry(\"450x300\")\nroot.resizable(0,0)\nroot.iconbitmap(\"icon.ico\")\nimage=tk.PhotoImage(file=\"cp2.png\")\n\n# 不同意按钮弹窗\ndef disagree1():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"300x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text=\"我妈会游泳\",font=('楷书',15))\n    l1.place(x=100,y=20)     \n    btn= tk.Button(root1,text=\"勉强接受\",bg=\"#e09780\",command=root1.destroy) \n    btn.place(x=100,y=80)\n    btn1= tk.Button(root,text='勉强接受',bg=\"#AAAAFF\",command=disagree2)\n    btn1.place(x=300,y=200)\n    root1.mainloop()\n    \ndef disagree2():\n    # messagebox.showinfo('小姐姐我喜欢你','我妈会游泳')\n    root2 = tk.Tk()\n    root2.title(\"小姐姐，我来表白啦，别跑呀\")\n    root2.geometry(\"300x200\")\n    root2.resizable(0,0)\n    root2.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root2,text=\"保大\",font=('楷书',25))\n    l1.place(x=100,y=20)     \n    btn= tk.Button(root2,text=\"还不错\",bg=\"#e09780\",command=root2.destroy) \n    btn.place(x=100,y=80)\n    btn2= tk.Button(root,text='还不错',bg=\"#AAAAFF\",command=disagree3)\n    btn2.place(x=300,y=200)\n    root2.mainloop()\ndef disagree3():\n    # messagebox.showinfo('小姐姐我喜欢你','我妈会游泳')\n    root3 = tk.Tk()\n    root3.title(\"小姐姐，我来表白啦，别跑呀\")\n    root3.geometry(\"300x200\")\n    root3.resizable(0,0)\n    root3.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root3,text=\"房产证写你的名字\",font=('楷书',15))\n    l1.place(x=50,y=20)     \n    btn= tk.Button(root3,text=\"还差点\",bg=\"#e09780\",command=root3.destroy) \n    btn.place(x=150,y=80)\n    btn2= tk.Button(root,text='还差点',bg=\"#AAAAFF\",command=disagree4)\n    btn2.place(x=300,y=200)\n    root3.mainloop()\ndef disagree4():\n    # messagebox.showinfo('小姐姐我喜欢你','我妈会游泳')\n    root4 = tk.Tk()\n    root4.title(\"小姐姐，我来表白啦，别跑呀\")\n    root4.geometry(\"300x200\")\n    root4.resizable(0,0)\n    root4.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root4,text=\"给你买冰淇淋\",font=('楷书',15))\n    l1.place(x=100,y=20)     \n    btn= tk.Button(root4,text=\"这还差不多 哼\",bg=\"#e09780\",command=root4.destroy) \n    btn.place(x=150,y=80)\n    btn2= tk.Button(root,text='去你的',bg=\"#AAAAFF\",command=disagree1)\n    btn2.place(x=300,y=200)\n    root4.mainloop()\n    \n    \n    \n    \n\n# 同意按钮弹窗\ndef agree1():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"300x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text=\"我就知道你会同意的 嘻嘻\",font=('楷书',10))\n    l1.place(x=100,y=20)     \n    btn= tk.Button(root1,text=\"happy\",bg=\"#e09780\",command=agree2)\n    btn.place(x=150,y=80)\n    root1.mainloop()\ndef agree2():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"300x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text=\"走啦！我的小仙女 吃饭去\",font=('楷书',15))\n    l1.place(x=20,y=20)     \n    btn= tk.Button(root1,text=\"走咯\",bg=\"#e09780\",command=agree3)\n    btn.place(x=150,y=80)\n    root1.mainloop()   \ndef agree3():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"350x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text=\"等等，我想牵着你的手手去  嘿嘿\",font=('楷书',12))\n    l1.place(x=10,y=20)     \n    btn= tk.Button(root1,text=\"走咯\",bg=\"#e09780\",command=agree4) \n    btn.place(x=150,y=80)\n    root1.mainloop()\n# 显示素描图片\ndef agree4():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"350x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text='等等 给你个惊喜哦！')\n    l1.place(x=20,y=20)  \n    btn= tk.Button(root1, text=\"点我哦\",bg=\"#e09780\",command=agree5) \n    btn.place(x=150,y=80)\n    root1.mainloop()\ndef agree5():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"350x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text='哈哈，骗你的小傻瓜！')\n    l1.place(x=20,y=20)  \n    btn= tk.Button(root1, text=\"揍我?\",bg=\"#e09780\",command=agree6) \n    btn.place(x=150,y=80)\n    root1.mainloop()\ndef agree6():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"350x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text='我怎么舍得骗我的xxx呢')\n    l1.place(x=20,y=20)  \n    btn= tk.Button(root1, text=\"有惊喜哦\",bg=\"#e09780\",command=agree7) \n    btn.place(x=150,y=80)\n    root1.mainloop()\ndef agree7():\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"350x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text='嘿嘿 果然上当了 小笨蛋')\n    l1.place(x=20,y=20)\n    root1.bind('&lt;Motion&gt;',agree8)\n    root1.focus_set()\n    root1.mainloop()  \ndef agree8(event):\n    root1 = tk.Tk()\n    root1.title(\"小姐姐，我来表白啦，别跑呀\")\n    root1.geometry(\"350x200\")\n    root1.resizable(0,0)\n    root1.iconbitmap(\"icon.ico\")\n    l1= tk.Label(root1,text='当当当 别眨眼哦 惊喜在这呢')\n    l1.place(x=20,y=20)\n    root1.bind('&lt;Motion&gt;',agree9)\n    root1.focus_set()\n    root1.mainloop() \n# 显示图片窗口 \ndef agree9(event):\n    img = cv2.imread('image.jpg')\n    print(img)\n    cv2.imshow('image',img)\n    cv2.waitKey(5000)\n    cv2.destroyAllWindows()\n    # 这里是一个图片格式转换操作，如果使用PIL里面的方法显示图片的画有可能会出现格式错误打不开图片\n    # from PIL import Image\n    # img = Image.open(\"cp1.png\")\n    # im= img.convert(\"RGB\")\n    # im.save(\"D:\\\\File\\\\All\\\\python\\\\love\\\\image.jpg\")\n    \n# 让窗口不能关闭函数   \ndef callback(event):\n    # 查看触发事件的按钮\n    s=event.keysym\n    if s == \"Escape\":\n        root.destroy()\n    \ntext3= tk.Label(root,text=\"小姐姐我观察你好久了\")\ntext3.place(x=30,y=10)\ntext4= tk.Label(root,text=\"做我女朋友好不好？\",font=('宋体',20))\ntext4.place(x=60,y=80)\n\nbtn1= tk.Button(root,text='我同意',bg=\"#AAAAFF\",command=agree1)\nbtn1.place(x=100,y=200)\nbtn1= tk.Button(root,text='去你的',bg=\"#AAAAFF\",command=disagree1)\nbtn1.place(x=300,y=200)\n\nimg= tk.Label(root, image=image)\nimg.place(x=300,y=40)\n\n# 让x不能关闭窗口只能点escape才能关闭窗口 \nroot.protocol(\"WM_DELETE_WINDOW\", callback)\nroot.bind('&lt;Key&gt;',callback)\nroot.focus_set()\n\nroot.mainloop()\n\n</code></pre>\n<p>有问题的小伙伴可以直接私信博主（头像下面有联系方式哦）</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Python", "cpp": 0, "csharp": 0, "python": 1, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-08-31 23:44:05", "summary": "原文出自于传送门欢迎访问博主的小破站传送门博主使用制作了一个网上经常看见的搞笑表白程序本来是想将其打包成程序的，但是因为里面涉及有图片所以打包起来非常的麻烦，所以博主这里就没有打包了其实刚开始博主想制"}