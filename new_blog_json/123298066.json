{"blogid": "123298066", "writerAge": "码龄14年", "writerBlogNum": "264", "writerCollect": "359", "writerComment": "47", "writerFan": "200", "writerGrade": "5级", "writerIntegral": "4314", "writerName": "令狐壹冲", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123298066.jpg", "writerRankTotal": "9365", "writerRankWeekly": "41238", "writerThumb": "469", "writerVisitNum": "152112", "blog_read_count": "1998", "blog_time": "于 2022-03-05 17:32:29 发布", "blog_title": "让代码丝滑般跳转，rust-analyzer，你值得拥有", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<h2><a id=\"1_RLS_0\"></a>1 RLS触怒了我</h2>\n<p>我是一个专一的人，从学习Rust起就在vscode中使用rls作为跳转插件（主要原因其实是懒），如果不是今天它彻底触怒了我，恐怕我还会对它继续钟情下去。</p>\n<p>事情的原委是这样的，今天下载了某开源项目的代码，使用vscode打开其工程，点击rls安装的时候发现安装总是失败。本来这是一件小事，但是想起这些年来使用rls受的委屈，终于促使我决定将它换掉。</p>\n<p>听到大家都非常推荐rust-analyzer，于是我决定试试，不过真是不试不知道，一试吓一跳。</p>\n<h2><a id=\"2_rustanalyzer_7\"></a>2 使用rust-analyzer，构建丝滑般跳转</h2>\n<p>rust-analyzer作为vscode插件，肯定要先安装rust基础环境和vscode。</p>\n<h3><a id=\"21_rust_10\"></a>2.1 rust基础环境安装</h3>\n<p>rust安装，我一般会安装如下：</p>\n<pre><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\nsource ~/.cargo/env\nrustup default stable\nrustup update\nrustup update nightly\nrustup target add wasm32-unknown-unknown --toolchain nightly\n</code></pre>\n<h3><a id=\"22_vscode_22\"></a>2.2 vscode</h3>\n<p>从官网下载vscode的code_1.64.2-1644445741_amd64.deb包，然后执行<code>sudo dpkg -i code_1.64.2-1644445741_amd64.deb</code>安装。</p>\n<h3><a id=\"23_rustanalyzerCodeLLDB_26\"></a>2.3 安装rust-analyzer和CodeLLDB</h3>\n<p>打开vscode，选择EXTENSIONS安装，</p>\n<ul><li>输入rust-analyzer，选择安装；</li><li>输入CodeLLDB，选择安装。</li></ul>\n<h3><a id=\"24__31\"></a>2.4 纵享丝滑般跳转体验</h3>\n<p>重启vscode，打开一个rust工程，例如substrate，然后就静静的等待rust-analyzer加载。</p>\n<p>加载完成，随意点击代码，发现真是丝滑般的体验，想怎么跳转怎么跳转。</p>\n<p><strong>在加载的过程中，如果遇到加载缓慢的情况，可以用如下步骤化解</strong>：</p>\n<ul><li><code>rm -rf ~/.cargo/.package-cache</code>;</li><li>在工程目录下运行<code>cargo metadata</code>;</li><li>重启<code>vscode</code>。</li></ul>\n<h2><a id=\"3__41\"></a>3 后记</h2>\n<p>在学习Rust源码的道路上曾经无数次被不知道定义的宏或者函数难住，有了rust-analyzer，实现丝滑般跳转，再也不用担心看代码的效率了。</p>\n<p><img alt=\"微信公众号“令狐一冲”\" src=\"..\\..\\static\\image\\534ec9fa422d43fd815a0e1f31d1a16e.png\"/></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-03-05 17:32:29", "summary": "触怒了我我是一个专一的人，从学习起就在中使用作为跳转插件主要原因其实是懒，如果不是今天它彻底触怒了我，恐怕我还会对它继续钟情下去。事情的原委是这样的，今天下载了某开源项目的代码，使用打开其工程，点击安"}