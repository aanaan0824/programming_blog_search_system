{"blogid": "123262809", "writerAge": "码龄6年", "writerBlogNum": "199", "writerCollect": "214", "writerComment": "44", "writerFan": "56", "writerGrade": "6级", "writerIntegral": "5877", "writerName": "精哥哥yxkj5558", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123262809.jpg", "writerRankTotal": "44023", "writerRankWeekly": "28576", "writerThumb": "96", "writerVisitNum": "490000", "blog_read_count": "1272", "blog_time": "已于 2022-03-04 01:26:13 修改", "blog_title": "PHP微服务：搭建Hyperf", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p></p>\n<p>文档：<a class=\"has-card\" href=\"https://hyperf.wiki/2.2/#/zh-cn/db/querybuilder\" title=\"Hyperf文档\"><span class=\"link-card-box\"><span class=\"link-title\">Hyperf文档</span><span class=\"link-desc\">Hyperf框架官方文档</span><span class=\"link-link\"><img alt=\"\" class=\"link-link-icon\" src=\"https://hyperf.wiki/2.2/favicon.ico\"/>https://hyperf.wiki/2.2/#/zh-cn/db/querybuilder</span></span></a></p>\n<p></p>\n<h1>一：准备环境</h1>\n<p>基于宝塔环境，安装php7.4，</p>\n<p>Hyperf 2.2 需要PHP版本 &gt;= 7.3，推荐使用7.4以上的版本。</p>\n<p>删掉禁用函数</p>\n<p><img alt=\"\" height=\"385\" src=\"..\\..\\static\\image\\9689d43114914118b396979b5c434062.png\" width=\"649\"/></p>\n<p>安装需要的扩展：redis，和 swoole4</p>\n<p><img alt=\"\" height=\"570\" src=\"..\\..\\static\\image\\405c3c1bc28a491a830a805df5bb6e0c.png\" width=\"652\"/></p>\n<p><img alt=\"\" height=\"169\" src=\"..\\..\\static\\image\\e9b4baab858d41119b8a86ca15f973b2.png\" width=\"944\"/></p>\n<p></p>\n<p></p>\n<h3> 手动安装pcntl扩展：</h3>\n<p>进入pcntl所在的目录</p>\n<pre><code class=\"language-bash\">cd /www/server/php/74/src/ext/pcntl</code></pre>\n<p>执行下面命令，安装</p>\n<pre><code class=\"language-bash\">/www/server/php/74/bin/phpize\n\n./configure --with-php-config=/www/server/php/74/bin/php-config\n\nmake &amp;&amp; make install</code></pre>\n<p>安装完，建议看一下是不是enabled</p>\n<pre><code class=\"language-php\">&lt;?php\n\nphpinfo();</code></pre>\n<p><img alt=\"\" height=\"100\" src=\"..\\..\\static\\image\\4e496b48bfe1453eac4449efe3bfa317.png\" width=\"964\"/></p>\n<h1> 通过 Composer 创建项目</h1>\n<pre><code class=\"language-bash\">composer create-project hyperf/hyperf-skeleton</code></pre>\n<p></p>\n<pre><code class=\"language-bash\">composer install</code></pre>\n<h1>启动项目</h1>\n<pre><code class=\"language-bash\">cd hyperf-skeleton\nphp bin/hyperf.php start</code></pre>\n<h3>如果有报错，请查看php版本</h3>\n<pre><code class=\"language-bash\">php -v</code></pre>\n<p>看看是不是7.4</p>\n<pre><code class=\"language-bash\">[DEBUG] Event Hyperf\\Framework\\Event\\BootApplication handled by Hyperf\\Config\\Listener\\RegisterPropertyHandlerListener listener.\n[DEBUG] Event Hyperf\\Framework\\Event\\BootApplication handled by Hyperf\\ExceptionHandler\\Listener\\ExceptionHandlerListener listener.\n[DEBUG] Event Hyperf\\Framework\\Event\\BootApplication handled by Hyperf\\DbConnection\\Listener\\RegisterConnectionResolverListener listener.\nERROR Swoole short function names must be disabled before the server starts, please set swoole.use_shortname='Off' in your php.ini.\n</code></pre>\n<p>去php.ini 加一行</p>\n<pre><code class=\"language-bash\">swoole.use_shortname=Off</code></pre>\n<p></p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 1, "time": "2022-03-04 01:26:13", "summary": "文档：文档文档框架官方文档一：准备环境基于宝塔环境，安装，需要版本，推荐使用以上的版本。删掉禁用函数安装需要的扩展：，和手动安装扩展：进入所在的目录执行下面命令，安装安装完，建议看一下是不是通过创建项"}