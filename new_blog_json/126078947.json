{"blogid": "126078947", "writerAge": "ç é¾„1å¹´", "writerBlogNum": "72", "writerCollect": "2610", "writerComment": "4589", "writerFan": "8310", "writerGrade": "6çº§", "writerIntegral": "8326", "writerName": "codeMak1r.å°æ–°", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126078947.jpg", "writerRankTotal": "1737", "writerRankWeekly": "13", "writerThumb": "2774", "writerVisitNum": "208365", "blog_read_count": "10485", "blog_time": "å·²äºÂ 2022-08-05 23:23:52Â ä¿®æ”¹", "blog_title": "ã€react-reduxã€‘å¤šä¸ªç»„ä»¶æ•°æ®å…±äº«", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/8a72d8404f9845abad7a320f1d7a5604.gif#pic_center\"/></p>\n<blockquote>\n<p><strong><font color=\"#FF7F50\"> æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</font></strong><br/> <strong>ğŸ“”åšä¸»æ˜¯ä¸€åå¤§å­¦åœ¨è¯»æœ¬ç§‘ç”Ÿï¼Œä¸»è¦å­¦ä¹ æ–¹å‘æ˜¯å‰ç«¯ã€‚<br/> ğŸ­ç›®å‰å·²ç»æ›´æ–°äº†<font color=\"#FF7F50\">ã€Vueã€‘ã€ã€Reactâ€“ä»åŸºç¡€åˆ°å®æˆ˜ã€‘ã€ã€TypeScriptã€‘ç­‰ç­‰ç³»åˆ—ä¸“æ </font><br/> ğŸ› ç›®å‰æ­£åœ¨å­¦ä¹ çš„æ˜¯ğŸ”¥<span class=\"katex--inline\"><span class=\"katex\"><span class=\"katex-mathml\">\n      \n       \n        \n         \n          R\n         \n         \n          e\n         \n         \n          a\n         \n         \n          c\n         \n         \n          t\n         \n         \n          æ¡†æ¶\n         \n        \n        \n         Reactæ¡†æ¶\n        \n       \n      </span><span class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height: 0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right: 0.0077em;\">R</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">c</span><span class=\"mord mathnormal\">t</span><span class=\"mord cjk_fallback\">æ¡†æ¶</span></span></span></span></span>ğŸ”¥ï¼Œä¸­é—´ç©¿æ’äº†ä¸€äº›åŸºç¡€çŸ¥è¯†çš„å›é¡¾<br/> ğŸŒˆåšå®¢ä¸»é¡µğŸ‘‰<a href=\"https://blog.csdn.net/Svik_zy?type=blog\">codeMak1r.å°æ–°çš„åšå®¢</a></strong></p>\n<p><strong><font color=\"#FF7F50\">æœ¬æ–‡è¢«ä¸“æ <a href=\"https://blog.csdn.net/svik_zy/category_11671445.html?spm=1001.2014.3001.5482\">ã€Reactâ€“ä»åŸºç¡€åˆ°å®æˆ˜ã€‘</a>æ”¶å½•</font></strong></p>\n</blockquote>\n<blockquote>\n<p><strong><font color=\"#FF7F50\">ğŸ•¹åšæŒåˆ›ä½œâœï¸ï¼Œä¸€èµ·å­¦ä¹ ğŸ“–ï¼Œç å‡ºæœªæ¥ğŸ‘¨ğŸ»â€ğŸ’»ï¼</font></strong><br/> <img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"..\\..\\static\\image\\a8c60a7f66064f31b7f5bed6857f988c.png\"/></p>\n</blockquote>\n<h1><a id=\"_14\"></a>å¤šä¸ªç»„ä»¶æ•°æ®å…±äº«</h1>\n<p>æˆ‘ä»¬ä¹‹å‰è®²è§£çš„ä¸€ç›´éƒ½æ˜¯åªæœ‰ä¸€ä¸ªç»„ä»¶éœ€è¦å‘reduxè¯»å–çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯Countè¿™ä¸ªæ±‚å’Œç»„ä»¶ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨å®é™…ä½¿ç”¨reduxçš„åœºæ™¯ä¸­ï¼Œå½“ç„¶æ˜¯æœ‰å¾ˆå¤šç»„ä»¶ä¸€èµ·å…±äº«æ•°æ®æ‰éœ€è¦ä½¿ç”¨åˆ°reduxè¿›è¡ŒçŠ¶æ€ç®¡ç†å•¦ï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥çœ‹çœ‹å¤šä¸ªç»„ä»¶é€šè¿‡reduxå®ç°æ•°æ®å…±äº«çš„åœºæ™¯å§ï½</p>\n<p>ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªPersonç»„ä»¶ï¼ŒåŒæ ·çš„ï¼ŒPersonç»„ä»¶çš„æ•°æ®ä¹Ÿäº¤ç»™reduxç®¡ç†ã€‚æ­¤æ—¶ï¼ŒCountç»„ä»¶ä¹Ÿå¯ä»¥ä»reduxä¸­è¯»å–åˆ°Personç»„ä»¶çš„æ•°æ®ï¼ŒPersonç»„ä»¶ä¹Ÿå¯ä»¥ä»reduxä¸­è¯»å–åˆ°Countç»„ä»¶ä¹‹å‰å­˜æ”¾åœ¨reduxä¸­çš„æ•°æ®ã€‚æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ï¼Ÿè¿™å°±æ˜¯reduxé›†ä¸­å¼çš„çŠ¶æ€ç®¡ç†ä¸­çš„å¤šä¸ªç»„ä»¶çš„æ•°æ®å…±äº«ã€‚</p>\n<blockquote>\n<p>é¡¹ç›®ç»“æ„ï¼š</p>\n<pre><code>src\nâ”œâ”€App.jsx\nâ”œâ”€index.js\nâ”œâ”€redux\n|   â”œâ”€constant.js\n|   â”œâ”€store.js\n|   â”œâ”€reducers\n|   |    â”œâ”€count.js\n|   |    â””person.js\n|   â”œâ”€actions\n|   |    â”œâ”€count.js\n|   |    â””person.js\nâ”œâ”€containers\n|     â”œâ”€Person\n|     |   â””index.jsx\n|     â”œâ”€Count\n|     |   â””index.jsx\n</code></pre>\n<p>é¡¹ç›®å±•ç¤ºï¼š</p>\n<p><img alt=\"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°\" src=\"https://img-blog.csdnimg.cn/84d58a79e8e04b3ca6de8bb9083e911d.gif#pic_center\"/></p>\n</blockquote>\n<blockquote>\n<p>âš ï¸æ³¨æ„ï¼šCountç»„ä»¶éƒ¨åˆ†å†…å®¹å·²åœ¨å‰å‡ ç¯‡æ–‡ç« ä¸­ï¼Œåœ¨æœ¬æ–‡ä¸­æ³¨é‡çš„æ˜¯æ–°å¢çš„Personç»„ä»¶ä¸ä¹‹å‰çš„Countç»„ä»¶å…±äº«çŠ¶æ€ã€‚</p>\n<p>é˜…è¯»é¡ºåºï¼š<br/> <a href=\"https://blog.csdn.net/Svik_zy/article/details/125795609?spm=1001.2014.3001.5502\">ã€Reduxå·¥ä½œæµç¨‹ã€‘</a><br/> <a href=\"https://blog.csdn.net/Svik_zy/article/details/125838979?spm=1001.2014.3001.5502\">ã€å¼‚æ­¥actionã€‘</a><br/> <a href=\"https://blog.csdn.net/Svik_zy/article/details/125951641?spm=1001.2014.3001.5502\">ã€react-reduxåŸºæœ¬ä½¿ç”¨ä¸ä¼˜åŒ–ã€‘</a></p>\n</blockquote>\n<ol><li>é¦–å…ˆåœ¨<code>constant.js</code>ä¸­æ·»åŠ æˆ‘ä»¬åœ¨Personç»„ä»¶ä¸­éœ€è¦ä½¿ç”¨çš„ç±»å‹ï¼š</li></ol>\n<pre><code class=\"prism language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">INCREMENT</span> <span class=\"token operator\">=</span> <span class=\"token string\">'increment'</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">DECREMENT</span> <span class=\"token operator\">=</span> <span class=\"token string\">'decrement'</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">ADD_PERSON</span> <span class=\"token operator\">=</span> <span class=\"token string\">'add_person'</span>\n</code></pre>\n<blockquote>\n<p>è¯¥æ¨¡å—æ˜¯ç”¨äºå®šä¹‰actionå¯¹è±¡ä¸­typeç±»å‹çš„å¸¸é‡æ¨¡å—ï¼Œä¾¿äºç®¡ç†çš„åŒæ—¶é¿å…ç¨‹åºå‘˜å•è¯æ‹¼å†™å‡ºé”™ã€‚</p>\n</blockquote>\n<ol start=\"2\"><li>ç¼–å†™Personç»„ä»¶çš„actionæ–‡ä»¶ï¼Œç”¨äºåˆ›å»ºactionåŠ¨ä½œå¯¹è±¡ä»¥ä¾›Personç»„ä»¶ä½¿ç”¨ï¼š</li></ol>\n<p><code>/src/redux/actions/person.js</code></p>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">/* \n  è¯¥æ–‡ä»¶ä¸“é—¨ä¸ºPersonç»„ä»¶ç”ŸæˆactionåŠ¨ä½œå¯¹è±¡\n*/</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token constant\">ADD_PERSON</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../constant\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// åˆ›å»ºå¢åŠ ä¸€ä¸ªpersonçš„actionåŠ¨ä½œå¯¹è±¡</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">createAddPersonAction</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">personObj</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token constant\">ADD_PERSON</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> personObj <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ol start=\"3\"><li>ç¼–å†™Personç»„ä»¶çš„reduceræ–‡ä»¶ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªä¸ºPersonç»„ä»¶æœåŠ¡çš„reducerå‡½æ•°</li></ol>\n<p><code>/src/redux/reducers/person.js</code></p>\n<pre><code class=\"prism language-js\"><span class=\"token comment\">/* \n  1.è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºä¸€ä¸ªä¸ºPersonç»„ä»¶æœåŠ¡çš„reducerå‡½æ•°\n  2.reducerå‡½æ•°ä¼šæ¥æ”¶åˆ°ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºä¹‹å‰çš„çŠ¶æ€ï¼ˆprevStateï¼‰å’ŒåŠ¨ä½œå¯¹è±¡ï¼ˆactionï¼‰\n*/</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token constant\">ADD_PERSON</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../constant\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> initState <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{<!-- --></span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token number\">001</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'tom'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">age</span><span class=\"token operator\">:</span> <span class=\"token number\">18</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">personReducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">prevState <span class=\"token operator\">=</span> initState<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{<!-- --></span> type<span class=\"token punctuation\">,</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> action\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">ADD_PERSON</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>data<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>prevState<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> prevState\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n<ol start=\"4\"><li>reduxè‹¥åªä¸ºä¸€ä¸ªç»„ä»¶æœåŠ¡ï¼Œstoreå†…éƒ¨å­˜å‚¨çš„æ•°æ®ä¸éœ€è¦ä»»ä½•çš„æ ‡è¯†ã€‚ä½†æ˜¯storeä¸­è‹¥å­˜æ”¾äº†å¤šä¸ªç»„ä»¶çš„çŠ¶æ€ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨ä¸€ä¸ªå¯¹è±¡å°†æ‰€æœ‰çš„çŠ¶æ€å›Šæ‹¬èµ·æ¥ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½æ˜¯ä¸€ç»„keyï¼švalueå€¼ã€‚</li></ol>\n<p>æ¯”å¦‚ï¼ŒCountç»„ä»¶å­˜å‚¨çš„çŠ¶æ€ä¸ºï¼š<code>count:0</code>ã€‚Personç»„ä»¶å­˜å‚¨çš„çŠ¶æ€ä¸ºï¼š<code>persons:[]</code>ã€‚</p>\n<p><code>/src/redux/store.js</code></p>\n<pre><code class=\"prism language-js\"><span class=\"token operator\">-</span> <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> legacy_createStore <span class=\"token keyword\">as</span> createStore<span class=\"token punctuation\">,</span> applyMiddleware <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// å¼•å…¥combineReducersï¼Œç”¨äºåˆå¹¶reducer</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> legacy_createStore <span class=\"token keyword\">as</span> createStore<span class=\"token punctuation\">,</span> applyMiddleware<span class=\"token punctuation\">,</span> combineReducers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> countReducer <span class=\"token keyword\">from</span> <span class=\"token string\">'./reducers/count'</span>\n<span class=\"token comment\">// å¼•å…¥ä¸ºPersonç»„ä»¶æœåŠ¡çš„reducer</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">import</span> personReducer <span class=\"token keyword\">from</span> <span class=\"token string\">'./reducers/person'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> thunk <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-thunk'</span>\n\n<span class=\"token operator\">+</span> <span class=\"token comment\">// åˆå¹¶reducer</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">const</span> allReducer <span class=\"token operator\">=</span> <span class=\"token function\">combineReducers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span>\n<span class=\"token operator\">+</span>   count<span class=\"token operator\">:</span> countReducer<span class=\"token punctuation\">,</span>\n<span class=\"token operator\">+</span>   persons<span class=\"token operator\">:</span> personReducer\n<span class=\"token operator\">+</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// æš´éœ²store</span>\n<span class=\"token operator\">-</span> <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>countReducer<span class=\"token punctuation\">,</span> <span class=\"token function\">applyMiddleware</span><span class=\"token punctuation\">(</span>thunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">+</span> <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>allReducer<span class=\"token punctuation\">,</span> <span class=\"token function\">applyMiddleware</span><span class=\"token punctuation\">(</span>thunk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<p>åœ¨åŸå…ˆçš„storeä¸­åªå­˜æ”¾äº†ä¸€ä¸ªCountç»„ä»¶çš„çŠ¶æ€æ•°æ®ï¼Œç°åœ¨æ–°å¢äº†Personç»„ä»¶éœ€è¦ä½¿ç”¨reduxï¼Œé‚£ä¹ˆå°±åº”è¯¥å¯¹store.jsè¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚</p>\n<p>åœ¨store.jsæ–‡ä»¶ä¸­ï¼Œä»reduxä¸­æ–°å¼•å…¥combineReducerså‡½æ•°ç”¨äºåˆå¹¶reducerï¼›</p>\n<p>å¼•å…¥ä¸ºPersonç»„ä»¶æœåŠ¡çš„reducerï¼›</p>\n<p>å°†åŸå…ˆçš„countReducerä¸æ–°å¼•å…¥çš„personReduceråˆå¹¶ï¼Œå¹¶ä¸”å°†åˆå¹¶åçš„allReducerä¼ é€’ç»™createStoreå‡½æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç›®çš„æ˜¯å°†è¿™ä¸¤ä¸ªç»„ä»¶çš„çŠ¶æ€ç”¨ä¸€ä¸ªå¯¹è±¡åŒ…è£¹èµ·æ¥ï¼Œå†ä¼ ç»™storeã€‚</p>\n<ol start=\"5\"><li> <p>Personç»„ä»¶å·²ç»ä¸reduxå»ºç«‹èµ·äº†è”ç³»ï¼Œé‚£ä¹ˆç°åœ¨å¯ä»¥åœ¨Personç»„ä»¶ä¸­ä¹¦å†™Personçš„UIç»„ä»¶ä»¥åŠPersonçš„å®¹å™¨ç»„ä»¶ï¼ˆä½¿ç”¨react-reduxï¼‰ã€‚</p> <pre><code class=\"prism language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{<!-- --></span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> nanoid <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'nanoid'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> connect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{<!-- --></span> createAddPersonAction <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../redux/actions/person'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{<!-- --></span>\n\n  <span class=\"token function-variable function\">addPerson</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nameNode<span class=\"token punctuation\">.</span>value\n    <span class=\"token keyword\">const</span> age <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ageNode<span class=\"token punctuation\">.</span>value\n    <span class=\"token keyword\">const</span> personObj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{<!-- --></span> <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token function\">nanoid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">dispatchAddPerson</span><span class=\"token punctuation\">(</span>personObj<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nameNode<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ageNode<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">&gt;</span>æˆ‘æ˜¯Personç»„ä»¶ï¼Œä¸Šæ–¹ç»„ä»¶æ±‚å’Œä¸ºï¼š<span class=\"token punctuation\">{<!-- --></span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token parameter\">currentNode</span> <span class=\"token operator\">=&gt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nameNode <span class=\"token operator\">=</span> currentNode<span class=\"token punctuation\">}</span> \n               type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">'è¾“å…¥åå­—'</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token parameter\">currentNode</span> <span class=\"token operator\">=&gt;</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ageNode <span class=\"token operator\">=</span> currentNode<span class=\"token punctuation\">}</span> \n               type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">'è¾“å…¥å¹´é¾„'</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>addPerson<span class=\"token punctuation\">}</span><span class=\"token operator\">&gt;</span>æ·»åŠ <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">&gt;</span>\n          <span class=\"token punctuation\">{<!-- --></span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>personArr<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">personObj</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{<!-- --></span>\n              <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{<!-- --></span>personObj<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{<!-- --></span>personObj<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">{<!-- --></span>personObj<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">&gt;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">&gt;</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">&gt;</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>\n  <span class=\"token parameter\">state</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span> <span class=\"token literal-property property\">personArr</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>persons<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{<!-- --></span> <span class=\"token literal-property property\">dispatchAddPerson</span><span class=\"token operator\">:</span> createAddPersonAction <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Person<span class=\"token punctuation\">)</span>\n</code></pre> </li><li> <p>åŒæ—¶ä¿®æ”¹Countç»„ä»¶å†…å®¹ï¼Œä½¿Countç»„ä»¶å¯ä»¥æ˜¾ç¤ºPersonç»„ä»¶çš„äººæ•°ã€‚</p> <pre><code class=\"prism language-js\"><span class=\"token operator\">&lt;</span>h2<span class=\"token operator\">&gt;</span>æˆ‘æ˜¯Countç»„ä»¶ï¼Œä¸‹æ–¹ç»„ä»¶æ€»äººæ•°ä¸ºï¼š<span class=\"token punctuation\">{<!-- --></span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>person<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">&gt;</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">//</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>\n  <span class=\"token parameter\">state</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{<!-- --></span> <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">person</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>persons<span class=\"token punctuation\">.</span>length <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{<!-- --></span>\n    <span class=\"token literal-property property\">jia</span><span class=\"token operator\">:</span> createIncrementAction<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">jian</span><span class=\"token operator\">:</span> createDecrementAction<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">jiaAsync</span><span class=\"token operator\">:</span> createIncrementAsyncAction\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Count<span class=\"token punctuation\">)</span>\n</code></pre>\n<blockquote>\n<p>æ³¨æ„ï¼šå…³äºconnect()()å‡½æ•°è¯¦è§£å†…å®¹ï¼Œç‚¹å‡»ï¼š<a href=\"https://blog.csdn.net/Svik_zy/article/details/125951641?spm=1001.2014.3001.5502\">ï¼œreact-reduxï¼åŸºæœ¬ä½¿ç”¨ä¸ä¼˜åŒ–</a></p>\n</blockquote> </li></ol>\n<blockquote>\n<p>æ€»ç»“ï¼š</p>\n<ol><li>å®šä¹‰ä¸€ä¸ªPersonç»„ä»¶ï¼Œå’ŒCountç»„ä»¶é€šè¿‡reduxå…±äº«æ•°æ®ï¼›</li><li>ä¸ºPersonç»„ä»¶ç¼–å†™ï¼šreducerã€actionï¼Œé…ç½®constantå¸¸é‡ï¼›</li><li>é‡ç‚¹ï¼šPersonçš„reducerå’ŒCountçš„reducerè¦ä½¿ç”¨combineReducersè¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶åçš„æ€»çŠ¶æ€æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›</li><li>äº¤ç»™storeçš„æ˜¯æ€»reducerã€‚</li></ol>\n</blockquote>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-08-05 23:23:52", "summary": "åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢åšä¸»æ˜¯ä¸€åå¤§å­¦åœ¨è¯»æœ¬ç§‘ç”Ÿï¼Œä¸»è¦å­¦ä¹ æ–¹å‘æ˜¯å‰ç«¯ã€‚ç›®å‰å·²ç»æ›´æ–°äº†ã€ä»åŸºç¡€åˆ°å®æˆ˜ã€ç­‰ç­‰ç³»åˆ—ä¸“æ ç›®å‰æ­£åœ¨å­¦ä¹ çš„æ˜¯æ¡†æ¶æ¡†æ¶æ¡†æ¶ï¼Œä¸­é—´ç©¿æ’äº†ä¸€äº›åŸºç¡€çŸ¥è¯†çš„å›é¡¾åšå®¢ä¸»é¡µå°æ–°çš„åšå®¢æœ¬"}