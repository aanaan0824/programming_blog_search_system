{"blogid": "122978762", "writerAge": "码龄4年", "writerBlogNum": "1", "writerCollect": "2", "writerComment": "0", "writerFan": "0", "writerGrade": "1级", "writerIntegral": "14", "writerName": "鸡仔先生", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_122978762.jpg", "writerRankTotal": "257236", "writerRankWeekly": "1302275", "writerThumb": "0", "writerVisitNum": "8366", "blog_read_count": "8276", "blog_time": "于 2022-02-17 11:34:35 发布", "blog_title": "【Tauri】环境部署及异常处理（致操之过急的程序员）", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-dark\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>**</p>\n<h2><a id=\"_2\"></a>第一：环境搭建</h2>\n<ol><li><strong>搭建c++环境</strong>：Microsoft Visual Studio C++ 请选择 “C++生成工具” 并确保选择了 Windows SDK; 安装地址:<a href=\"https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/\">Microsoft C++ 生成工具 - Visual Studio</a></li><li>安装yarn；<a href=\"https://yarnpkg.com/\">Home | Yarn - Package Manager (yarnpkg.com)</a></li><li>安装Rustc和货物包裹管理器；<a href=\"https://win.rustup.rs/x86_64\">rustup脚手架</a></li><li>安装webview；<a href=\"https://msedge.sf.dl.delivery.mp.microsoft.com/filestreamingservice/files/cae1821c-be52-4d6b-8409-83fa73fc5a73/MicrosoftEdgeWebView2RuntimeInstallerX64.exe\">webview下载链接</a></li></ol>\n<h2><a id=\"_9\"></a>第二：问题处理</h2>\n<p>** 问题一**：cargo 打包工具需要切换镜像源<br/> cargo 指令特别慢的话修改镜像源 在当前用户文件夹下找到.cargo文件夹添加config文件（<em>这个文件名字叫config，没有后缀</em>）：</p>\n<pre><code class=\"prism language-bash\"><span class=\"token punctuation\">[</span>source.crates-io<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://github.com/rust-lang/crates.io-index\"</span>\n<span class=\"token comment\"># 指定镜像</span>\nreplace-with <span class=\"token operator\">=</span> <span class=\"token string\">'sjtu'</span> <span class=\"token comment\"># 如：tuna、sjtu、ustc，或者 rustcc</span>\n \n<span class=\"token comment\"># 注：以下源配置一个即可，无需全部</span>\n \n<span class=\"token comment\"># 中国科学技术大学</span>\n<span class=\"token punctuation\">[</span>source.ustc<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://mirrors.ustc.edu.cn/crates.io-index\"</span>\n<span class=\"token comment\"># &gt;&gt;&gt; 或者 &lt;&lt;&lt;</span>\n<span class=\"token comment\"># registry = \"git://mirrors.ustc.edu.cn/crates.io-index\"</span>\n \n<span class=\"token comment\"># 上海交通大学</span>\n<span class=\"token punctuation\">[</span>source.sjtu<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/\"</span>\n \n<span class=\"token comment\"># 清华大学</span>\n<span class=\"token punctuation\">[</span>source.tuna<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git\"</span>\n \n<span class=\"token comment\"># rustcc社区</span>\n<span class=\"token punctuation\">[</span>source.rustcc<span class=\"token punctuation\">]</span>\nregistry <span class=\"token operator\">=</span> <span class=\"token string\">\"https://code.aliyun.com/rustcc/crates.io-index.git\"</span>\n</code></pre>\n<p><strong>问题二</strong>：构建过程中一致会有node版本提示不够：提前安装12.20.0以后的版本；</p>\n<p><strong>问题三</strong>：执行<code>yarn create tauri-app</code>（构建tauri的第一步指令）执行该指令出现报错；<br/> 提示中会出现路径，请使用 <code>yarn cache dir</code> 与 <code>yarn global dir</code> 查看文件路径是否与报错提示路径在同一个盘下，（以实际配置的global与cache文件夹路径为准）如果不在请设置成同一个盘下的，通过指令：</p>\n<pre><code class=\"prism language-bash\"><span class=\"token function\">yarn</span> config <span class=\"token builtin class-name\">set</span> global-folder <span class=\"token string\">\"E:\\Program Files\\yarn\\global\"</span>\n<span class=\"token function\">yarn</span> config <span class=\"token builtin class-name\">set</span> cache-folder <span class=\"token string\">\"E:\\Program Files\\yarn<span class=\"token entity\" title=\"\\c\">\\c</span>ache\"</span>\n</code></pre>\n<p><strong>问题四</strong>：执行<code>yarn tauri:serve</code>会提示配置路径不正确：解决方案在tauri构建完成后在项目中<code>src-tauri</code>下的 <code>tauri.conf.json</code>中:</p>\n<pre><code class=\"prism language-bash\"><span class=\"token string\">\"build\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{<!-- --></span>\n\t<span class=\"token string\">\"distDir\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"../dist\"</span>,\n\t<span class=\"token string\">\"devPath\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"http://localhost:8080\"</span>,\n\t<span class=\"token string\">\"beforeDevCommand\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"\"</span>,\n\t<span class=\"token string\">\"beforeBuildCommand\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">}</span>,\n</code></pre>\n<p>将之替换成以上内容，然后再执行<code>yarn tauri:serve</code></p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "C++", "cpp": 1, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-02-17 11:34:35", "summary": "第一：环境搭建搭建环境：请选择生成工具并确保选择了安装地址生成工具安装；安装和货物包裹管理器；脚手架安装；下载链接第二：问题处理问题一：打包工具需要切换镜像源指令特别慢的话修改镜像源在当前用户文件夹下"}