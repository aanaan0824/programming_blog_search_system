{"blogid": "122946465", "writerAge": "码龄3年", "writerBlogNum": "56", "writerCollect": "43", "writerComment": "23", "writerFan": "28", "writerGrade": "3级", "writerIntegral": "603", "writerName": "fuchto", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_122946465.jpg", "writerRankTotal": "39518", "writerRankWeekly": "45093", "writerThumb": "19", "writerVisitNum": "26801", "blog_read_count": "1569", "blog_time": "已于 2022-02-24 14:11:03 修改", "blog_title": "微信支付SDK 中 PHP Certificate Downloader 微信支付 APIv3 平台证书的命令行下载工具 使用教程", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<h1>使用环境</h1>\n<p>在linux 环境中使用 （没有服务器可以使用虚拟机 复制到本地） windows环境很麻烦 </p>\n<h1>使用前准备</h1>\n<p>商户号、商户证书序列号、商户私匙文件（pem格式）、ApiV3密钥</p>\n<p>安装好 微信支付SDK 使用composer安装</p>\n<pre>composer require wechatpay/wechatpay\n</pre>\n<h1>ApiV3 密钥设置</h1>\n<p><a href=\"https://kf.qq.com/faq/180830E36vyQ180830AZFZvu.html\" title=\"什么是APIv3密钥？如何设置？\">什么是APIv3密钥？如何设置？</a></p>\n<p></p>\n<p>第一步   </p>\n<p>        进入对应项目目录根目录  校验composer 是否可用</p>\n<p>        输入命令 composer -v    <img alt=\"\" height=\"326\" src=\"..\\..\\static\\image\\c174a87c30814ae096d65fe808d2c30f.png\" width=\"922\"/></p>\n<p>第二步</p>\n<p>        查询当前可用命令</p>\n<p>        composer exec -l</p>\n<p>        <img alt=\"\" height=\"60\" src=\"..\\..\\static\\image\\8e84d96a4b1b433c84d6338af06efcd0.png\" width=\"596\"/></p>\n<p>第三步</p>\n<p>        查看命令是否可以执行</p>\n<p>        composer exec CertificateDownloader.php</p>\n<p> <img alt=\"\" height=\"555\" src=\"..\\..\\static\\image\\f2814bde01f44f7baf61902e03ac7e19.png\" width=\"1200\"/></p>\n<p> 最后执行命令</p>\n<p>        注意如果未设置 apiv3 密钥 则报错提示 <img alt=\"\" height=\"105\" src=\"..\\..\\static\\image\\75a25a28dabd472b9ae1459f40c92a26.png\" width=\"1200\"/></p>\n<p>         这个错误 注意看看 证书路径是否正确 </p>\n<p><img alt=\"\" height=\"91\" src=\"..\\..\\static\\image\\ff1e03b21496494196e6cdde6da4aea9.png\" width=\"1200\"/></p>\n<p> composer exec CertificateDownloader.php -- -m 你的商户号 -s 40字节你的商户证书序列号 -f 你的apiclient_key.pem文件路径（证书秘钥） -k 你的APIv3密钥 -o .（保存路径）</p>\n<p>执行成功后</p>\n<p><img alt=\"\" height=\"675\" src=\"..\\..\\static\\image\\1afb59693673488682f340b039604ec5.png\" width=\"1200\"/></p>\n<p> </p>\n<p> Serial Number 是证书序列号</p>\n<p> Not Before 有效期开始时间</p>\n<p> Not After 有效期结束时间</p>\n<p> Saved to 保存路径</p>\n<p></p>\n<p></p>\n</div>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 1, "time": "2022-02-24 14:11:03", "summary": "使用环境在环境中使用没有服务器可以使用虚拟机复制到本地环境很麻烦使用前准备商户号、商户证书序列号、商户私匙文件格式、密钥安装好微信支付使用安装密钥设置什么是密钥？如何设置？什么是密钥？如何设置？第一步"}