{"blogid": "124078963", "writerAge": "码龄1年", "writerBlogNum": "96", "writerCollect": "1172", "writerComment": "1795", "writerFan": "2584", "writerGrade": "6级", "writerIntegral": "4580", "writerName": "翼同学", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_124078963.jpg", "writerRankTotal": "4031", "writerRankWeekly": "2072", "writerThumb": "1304", "writerVisitNum": "57813", "blog_read_count": "2224", "blog_time": "已于 2022-05-26 23:02:38 修改", "blog_title": "【leetcode刷题】--- 我遇到一道很坏很坏的题~", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-tomorrow-night\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<blockquote>\n<p>🔥系列专栏：<a href=\"https://blog.csdn.net/m0_62999278/category_11698704.html?spm=1001.2014.3001.5482\">【Leetcode】刷题与总结</a></p>\n</blockquote>\n<p></p>\n<div class=\"toc\">\n<h3>目录</h3>\n<ul><li><a href=\"#font_colorredfont_10\"><font color=\"red\">前言</font></a></li><li><a href=\"#font_colorredfont_24\"><font color=\"red\">题目</font></a></li><li><a href=\"#font_colorredfont_55\"><font color=\"red\">普通解法</font></a></li><li><ul><li><a href=\"#font_colorgreenfont_57\"><font color=\"green\">🌱思路一</font></a></li><li><a href=\"#font_colorgreenfont_145\"><font color=\"green\">🌱思路二</font></a></li></ul>\n</li><li><a href=\"#font_colorredfont_175\"><font color=\"red\">其他解法</font></a></li><li><ul><li><a href=\"#font_colorgreenfont_181\"><font color=\"green\">🌱思路三</font></a></li><li><a href=\"#font_colorgreenfont_199\"><font color=\"green\">🌱思路四</font></a></li></ul>\n</li><li><a href=\"#font_colorredfont_222\"><font color=\"red\">写在最后</font></a></li></ul>\n</div>\n<p></p>\n<hr/>\n<p><font color=\"red\"></font></p>\n<h1><a id=\"font_colorredfont_10\"></a><font color=\"red\">前言</font></h1>\n<p>今天在<strong>Leetcode</strong>上刷题，看到一道题很有趣。我乍一看，没有思路，但是仔细想了想，还是没思路。。。。哈哈，开个玩笑。</p>\n<p>当我写出后解法后，系统老是提醒超出<strong>时间限制</strong>，太难了，努力想了好久，优化解法后终于通过了！还挺有成就感。</p>\n<p>后来在官方的解法中，我又学到了其他的解题方法，解题的思路非常棒，所以就有了这篇文章，想和大家分享一下。</p>\n<p><img alt=\"\" src=\"https://img-blog.csdnimg.cn/ce1fd27b4fba4fd2a9f9ce9f5593dcee.gif\"/></p>\n<hr/>\n<h1><a id=\"font_colorredfont_24\"></a><font color=\"red\">题目</font></h1>\n<p>✨<strong>描述:</strong></p>\n<blockquote>\n<ul><li> <p>给定一个数组<code>height</code>，数组里有 <code>n</code>个<strong>非负整数</strong></p> </li><li> <p>每个元素都表示一个宽度为 1 的柱子的高度</p> </li><li> <p>现在让我们来计算按此排列的柱子，下雨之后能接多少雨水。</p> </li></ul>\n</blockquote>\n<p>🔋<strong>例如：</strong></p>\n<blockquote>\n<ul><li>输入：<code>height = [0,1,0,2,1,0,1,3,2,1,2,1]</code></li><li>输出：<code>6</code></li></ul>\n</blockquote>\n<p>✔️<strong>示意图：</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\01fa828e07ba47b7903cd35bb4ff5835.png\"/></p>\n<p>💡<strong>解释：</strong></p>\n<blockquote>\n<ul><li>上面的数组 <code>[0,1,0,2,1,0,1,3,2,1,2,1]</code> 表示的是柱子的高度</li><li>在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）</li></ul>\n</blockquote>\n<hr/>\n<h1><a id=\"font_colorredfont_55\"></a><font color=\"red\">普通解法</font></h1>\n<h2><a id=\"font_colorgreenfont_57\"></a><font color=\"green\">🌱思路一</font></h2>\n<blockquote>\n<ul><li>刚开始我的想法是，只要<strong>求出每一列上能存放的雨水量，再加起来就行</strong></li><li>需要注意的是，最两端的柱子是不用考虑的，因为也不可能有雨水</li><li>下面举两个例子来解释一下我的思路</li></ul>\n</blockquote>\n<p><strong>举例一：</strong><br/> <img alt=\"\" src=\"..\\..\\static\\image\\47450904e61f45f88a3c4e0c4ce56821.png\"/></p>\n<p><strong>由上图可知，若想求A列上的雨水，则可发现：</strong></p>\n<blockquote>\n<ul><li><strong><code>A</code>两侧最高的列分别是<code>B</code>和<code>C</code></strong></li><li><strong>显然<code>B</code>比<code>C</code>矮</strong></li><li><strong>那么<code>A</code>上接到的雨水量为<code>B-A</code></strong></li><li><strong>也就是说，<code>A</code>上的雨水量为<code>2</code></strong></li></ul>\n</blockquote>\n<hr/>\n<p><strong>举例二：</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\809cfc50a1dd4f4394a2c2bc94d4ae06.png\"/></p>\n<p><strong>由上图可知，若想求A列上的雨水，则可发现：</strong></p>\n<blockquote>\n<ul><li><strong><code>A</code>两侧最高的列分别是<code>B</code>和<code>C</code></strong></li><li><strong>显然<code>B</code>比<code>C</code>矮</strong></li><li><strong>但是此时的<code>B</code>比<code>A</code>还要矮</strong></li><li><strong>那么<code>A</code>上并不能接到雨水</strong></li></ul>\n</blockquote>\n<p><strong>总结：</strong></p>\n<ul><li> <p><strong>我们可以对每一列上的雨水量进行计算（最两端的柱子不考虑），最后相加即可。</strong></p> </li><li> <p>需要遍历数组，对每一列A的左右两侧<code>B</code>，<code>C</code>中，<strong>取出较矮的那一列</strong>，减去<code>A</code>列的高度就能求出<code>A</code>上接到的雨水量（如<strong>例子一</strong>）</p> </li><li> <p>但是如果<code>B,C</code>较矮的那一列比<code>A</code>还要矮，那么<code>A</code>上就没有雨水。（如<strong>例子二</strong>）</p> </li></ul>\n<p>🌳代码</p>\n<p><strong>这是刚开始我写的代码</strong>：</p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\0daa4049dd3d4908ba8dc2d821441c02.png\"/></p>\n<p><strong>但是超出了时间限制：</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\9914c4982d874a8e93b6370c8e932d21.png\"/></p>\n<p><strong>虽然这个思路不错，但是太耗时间了，通过不了。</strong></p>\n<p>那怎样能减低时间复杂度？</p>\n<p>当我们分析后发现，上述代码之所以时间复杂度高，是因为<strong>对于计算每一列上的雨水量，都必须向两边寻找最大值</strong>，这就很耗费时间。</p>\n<p>但是，我们可以利用动态规划，<strong>先知道每个位置的两侧的最大值是多少</strong>，那么就能够更加快速的求出接到的雨水量。也就是说，<strong>提前储存每个位置上左边所有柱子中的最大值，以及右边所有柱子中的最大值。</strong></p>\n<p>这该如何实现呢？</p>\n<p>思路如下：</p>\n<blockquote>\n<ul><li><strong>我们可以定义两个数组<code>B</code>和<code>C</code></strong></li><li><strong>当<code>1 &lt;= i &lt;= n-1</code>时，在<code>B[i]</code>表示下标<code>i</code>及其<code>i</code>左边的柱子中的最大值</strong></li><li><strong>正向遍历数组<code>height</code>，得到<code>B[]</code></strong></li><li><strong>当<code>0 &lt;= j &lt;= n-2</code>时，在<code>C[j]</code>表示下标<code>j</code>及其<code>j</code>右边的柱子中的最大值</strong></li><li><strong>反向遍历数组<code>height</code>，得到<code>C[]</code></strong></li><li><strong>最后遍历数组<code>height</code>，对于每个柱子，计算接到的雨水值，和之前那个超时的算法差不多</strong>。</li></ul>\n</blockquote>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\015e258809a443a79e1d57aad3590efe.png\"/></p>\n<p><strong>很幸运！通过了。</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\c85342408fa3436eae694bd65a612724.png\"/></p>\n<p><strong>那么问题来了，还能想到什么解法呢？</strong></p>\n<p>想了很久后，思路二出现了。</p>\n<hr/>\n<h2><a id=\"font_colorgreenfont_145\"></a><font color=\"green\">🌱思路二</font></h2>\n<p><strong>看下图：</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\d60d4d7c2c334aa78d5913af79d88322.png\"/></p>\n<ul><li>我们先找出数组中柱子高度的最大值。</li><li>然后乘以数组的大小，得到了一个长方形。</li><li>求出这个长方形的面积后，减去白色部分和黑色部分的面积后，就可以得到雨水量！</li></ul>\n<p>所以整理一下思路</p>\n<p>写出代码如下：</p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\bc125d3ccf9048f98d8d6d3a7fb3a867.png\"/></p>\n<p><strong>通过了！</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\3fd030883b284288bdac3b41e6ed546d.png\"/></p>\n<hr/>\n<h1><a id=\"font_colorredfont_175\"></a><font color=\"red\">其他解法</font></h1>\n<p>接下来，我们来欣赏一下其他超棒的解法！</p>\n<h2><a id=\"font_colorgreenfont_181\"></a><font color=\"green\">🌱思路三</font></h2>\n<p>思路三是利用<strong>单调栈的思想。</strong></p>\n<p>下面是来自<strong>LeetCode</strong>官方题解：</p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\a22103bb47f745608e339b406f19543a.png\"/></p>\n<p><img alt=\"\" src=\"https://img-blog.csdnimg.cn/a3e7959caf084c5298200c052d35dc98.gif#pic_center\"/></p>\n<p><strong>代码实现如下：</strong></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\66a745ce589b42a6b42139a631e6d4b1.png\"/></p>\n<h2><a id=\"font_colorgreenfont_199\"></a><font color=\"green\">🌱思路四</font></h2>\n<p>思路四是利用<strong>双指针的思想。</strong></p>\n<p><strong>同样也是官方的解法。</strong></p>\n<p>具体如下：</p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\95600e25a13946bf93f03a23bc686426.png\"/></p>\n<p><img alt=\"\" src=\"https://img-blog.csdnimg.cn/1bf7ffd4362747e0af2ae1c16e459125.gif#pic_center\"/></p>\n<p><img alt=\"\" src=\"..\\..\\static\\image\\4b5d11155deb408489521b04da5c4ecd.png\"/></p>\n<hr/>\n<h1><a id=\"font_colorredfont_222\"></a><font color=\"red\">写在最后</font></h1>\n<p>说实话，遇到这道很坏很坏的题，确实体会到很多，其中一点就是我好菜。。。</p>\n<p>随着刷题次数增加后，当我回过头来看今天记录的这道难题，希望能够更加轻松，彻底的理解与掌握。</p>\n<p>对于这道题，你有什么想法呢，欢迎到评论区一起讨论，分享你的解法吧！！！</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "Others", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 0, "php": 0, "time": "2022-05-26 23:02:38", "summary": "系列专栏：刷题与总结目录前言题目普通解法思路一思路二其他解法思路三思路四写在最后前言今天在上刷题，看到一道题很有趣。我乍一看，没有思路，但是仔细想了想，还是没思路。。。。哈哈，开个玩笑。当我写出后解法"}