{"blogid": "123775769", "writerAge": "码龄7年", "writerBlogNum": "20", "writerCollect": "30", "writerComment": "1", "writerFan": "4", "writerGrade": "2级", "writerIntegral": "211", "writerName": "风淩飨", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_123775769.jpg", "writerRankTotal": "125407", "writerRankWeekly": "170745", "writerThumb": "8", "writerVisitNum": "28067", "blog_read_count": "2823", "blog_time": "于 2022-03-27 17:17:05 发布", "blog_title": "window下搭建php环境", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"markdown_views prism-atom-one-light\" id=\"content_views\">\n<svg style=\"display: none;\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M5,0 0,2.5 5,5z\" id=\"raphael-marker-block\" stroke-linecap=\"round\" style=\"-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\"></path>\n</svg>\n<p>使用apache+php+mysql的方式</p>\n<h2><a id=\"mysql_1\"></a>一、安装mysql</h2>\n<p>1、下载mysql，下载地址：https://dev.mysql.com/downloads/installer/<br/> 2、下载完成后解压<br/> 我解压的路径是：D:\\Program Files\\mysql-8.0.25<br/> 3、配置文件<br/> 首先在解压的路径下查看是否含有my.ini的文件，如果没有则新建一个，内容如下：</p>\n<pre><code class=\"prism language-text\">[mysqld]\n# 设置3306端口\nport=3306\n# 设置mysql的安装目录\nbasedir=D:\\Program Files\\mysql-8.0.25\n# 设置mysql数据库的数据的存放目录\ndatadir=D:\\Program Files\\mysql-8.0.25\\data\n# 允许最大连接数\nmax_connections=200\n# 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统\nmax_connect_errors=10\n# 服务端使用的字符集默认为UTF8\ncharacter-set-server=utf8\n# 创建新表时将使用的默认存储引擎\ndefault-storage-engine=INNODB\n# 默认使用“mysql_native_password”插件认证\ndefault_authentication_plugin=mysql_native_password\n[mysql]\n# 设置mysql客户端默认字符集\ndefault-character-set=utf8\n[client]\n# 设置mysql客户端连接服务端时默认使用的端口\nport=3306\ndefault-character-set=utf8\n</code></pre>\n<p>4、数据库配置<br/> 通过管理员权限进入cmd（如果不是管理员权限就会出现问题） ，进入MySQL安装目录的bin目录下。</p>\n<p>接着输入mysqld --initialize --console，记住数据库root用户的初始密码，一定要牢记，后面登录需要用到，当然要是不小心关掉了或者没记住，删掉初始化的 data目录，再执行一遍初始化命令又会重新生成。</p>\n<p>再然后输入mysqld --install安装mysql服务，输入net start mysql启动服务，备注：mysqld --remove是卸载MySQL服务，net stop mysql是停止服务。</p>\n<p>5、进入数据库的配置<br/> 输入mysql -u root -p后会让你输入密码，密码为前面让你记住的密码，输入正确后，进入MySQL命令模式。</p>\n<p>接着更改密码，输入ALTER USER ‘root’@‘localhost’ IDENTIFIED WITH mysql_native_password BY ‘新密码’; 出现如下界面表示更改成功。</p>\n<p>6、环境变量配置，若有需求可配置一下，上面的操作cmd则无需在mysql的bin路径下进入。</p>\n<p>到此，MySQL数据库就安装完成了。</p>\n<h2><a id=\"PHP_51\"></a>二、安装PHP</h2>\n<p>1、下载php，下载地址：https://windows.php.net/download，我直接下载了图示的一版<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ddd3d1eae84e4c02aa661b8ee1e72013.png\"/><br/> 2、下载后解压，解压后路径为：D:\\Program Files\\php8<br/> 3、打开PHP的安装目录php.ini-development改为php.ini保存<br/> 4、打开php.ini修改配置，找到extension_dir = “ext” ，增加extension_dir = “D:\\Program Files\\php8\\ext”。<br/> 5、放开常用拓展（去掉前面的逗号）</p>\n<pre><code class=\"prism language-text\">extension=fileinfo\nextension=gd\nextension=mysqli\nextension=openssl\nextension=sockets\n</code></pre>\n<p>到此，PHP就安装完成了。</p>\n<h2><a id=\"apahe_66\"></a>三、安装apahe</h2>\n<p>1、下载apache，下载地址：http://www.apachelounge.com/download/，按照电脑位数选择对应版本。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\acbcc87d572049d0a42b5da4a2f8c248.png\"/><br/> 2、解压到指定目录下，进入安装目录下的conf文件夹下的httpd.conf文件<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\629b10838a6e49fb986353b31a036323.png\"/><br/> （1）修改Define SRVROOT 为安装路径<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\ad333279c2e14046bd3879cf18e0b25a.png\"/><br/> （2）结尾处添加<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\d5ef18dbf62a4d1792dec2e51d87bac6.png\"/></p>\n<pre><code class=\"prism language-text\"># php8 support\nLoadModule php_module \"D:/Program Files/php8/php8apache2_4.dll\"\nAddType application/x-httpd-php .php .html .htm\n\n# configure the path to php.ini\nPHPIniDir \"D:/Program Files/php8\"\n</code></pre>\n<p>3、以管理员身份打开cmd，若配置了环境变量（直接百度），则直接执行httpd.exe -k install，我这里没有配置，进入D:\\Program Files\\Apache24\\bin路径下，执行httpd.exe -k install。<br/> 这里遇到了几个问题<br/> （1）Syntax error on line 539 of D:/Program Files/Apache24/conf/httpd.conf: Can’t locate API module structure `php7_module’ in file D:/Program Files/php8/php8apache2_4.dll: No error<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\4d9979898e3e4739aa9163ed50796294.png\"/><br/> 解决：修改apache/conf/httpd.conf文件结尾增加的内容。由于最开始是参照php7配置的，配置内容为：</p>\n<pre><code class=\"prism language-text\"># php7 support\nLoadModule php7_module \"D:/Program Files/php8/php8apache2_4.dll\"\n</code></pre>\n<p>修改成php8_module，尝试后，依然报上述错误，随后配置为php_module，不再包此错误。<br/> （2） Could not reliably determine the server’s fully qualified domain name<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\015e53f9692f41d08f8cd76b480c5ba6.png\"/><br/> 解决：修改apache/conf/httpd.conf<br/> 增加配置ServerName localhost:80<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\8ce0fb1673bd4d24aa9062d3d90bdc08.png\"/><br/> （3）Errors reported here must be corrected before the service can be started<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\2347cdba467b49efafcac533ed8a720c.png\"/><br/> 解决：进入cmd，使用命令netstat -a -o，查看是否80端口被占用，若有则需分析下是否可以停掉或者修改apache的端口。我这里并没有发现端口被占用问题，win11系统，win+R，输入services.msc，进入服务页面，找到apache，右键手动启动服务成功。<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\738bac69ea344b0395f00bd19dc2279b.png\"/><br/> 4、点击bin下面的ApacheMonitor.exe<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\bb117cef1a1549a5892aa120e28c0e65.png\"/><br/> 出现如下图图标，右键打开Apache Service Monitor窗口，进行Apache服务的管理<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\eed5dd40df654ecdb454d7328245b3f9.png\"/><br/> 5、此时在浏览器地址栏输入localhost，回车后就会出现apache的index界面<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\31d5a8a4c4db4d4d8e07c810ab778c04.png\"/><br/> Apache安装目录/htdocs的目录下新建一个phpinfo.php文件，<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\9d9575f53632450483c1e20a1e764c47.png\"/></p>\n<p>内容为：</p>\n<pre><code class=\"prism language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">phpinfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token operator\">?</span><span class=\"token operator\">&gt;</span>\n</code></pre>\n<p>保存后，在浏览器输入127.0.0.1/phpinfo.php，回车，出现关于PHP的版本信息，如下图：<br/> <img alt=\"在这里插入图片描述\" src=\"..\\..\\static\\image\\722e0120e23043738b325a66e8363081.png\"/><br/> 至此，就搭建好了</p>\n</div>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/editerView/markdown_views-22a2fefd3b.css\" rel=\"stylesheet\"/>\n<link href=\"https://csdnimg.cn/release/blogv2/dist/mdeditor/css/style-4f8fbf9108.css\" rel=\"stylesheet\"/>\n</div>", "first_tag": "PHP", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 0, "sql": 1, "php": 1, "time": "2022-03-27 17:17:05", "summary": "使用的方式一、安装、下载，下载地址：、下载完成后解压我解压的路径是：、配置文件首先在解压的路径下查看是否含有的文件，如果没有则新建一个，内容如下：设置端口设置的安装目录设置数据库的数据的存放目录允许最"}