{"blogid": "125800831", "writerAge": "码龄1年", "writerBlogNum": "104", "writerCollect": "1973", "writerComment": "1986", "writerFan": "4654", "writerGrade": "6级", "writerIntegral": "5983", "writerName": "爱吃豆的土豆", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_125800831.jpg", "writerRankTotal": "2569", "writerRankWeekly": "69", "writerThumb": "1955", "writerVisitNum": "45606", "blog_read_count": "2237", "blog_time": "于 2022-07-15 19:41:50 发布", "blog_title": "SpringCloud Alibaba核心组件Nacos【认识和安装Nacos&快速入门】第1章", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<p id=\"main-toc\"><strong>目录</strong></p>\n<blockquote>\n<p></p>\n<ul><li><strong>💂 个人主页:</strong> <a href=\"https://blog.csdn.net/m0_64550837?type=blog\" title=\"爱吃豆的土豆\">爱吃豆的土豆</a></li><li><strong>🤟 版权:</strong> 本文由【爱吃豆的土豆】原创、在CSDN首发、需要转载请联系博主</li><li>💬 如果文章对你有帮助、<strong>欢迎关注、点赞、收藏(一键三连)和订阅专栏哦</strong></li><li> <p>🏆<strong>人必有所执，方能有所成！</strong></p> </li><li> <p>🐋希望大家多多支持😘一起进步呀！</p> </li></ul>\n</blockquote>\n<p id=\"1%EF%BC%8CNacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83-toc\" style=\"margin-left:0px;\"><a href=\"#1%EF%BC%8CNacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83\">1，Nacos注册中心</a></p>\n<p id=\"1.1%EF%BC%9A%E8%AE%A4%E8%AF%86%E5%92%8C%E5%AE%89%E8%A3%85Nacos-toc\" style=\"margin-left:40px;\"><a href=\"#1.1%EF%BC%9A%E8%AE%A4%E8%AF%86%E5%92%8C%E5%AE%89%E8%A3%85Nacos\">1.1：认识nacos</a></p>\n<p id=\"1.2%EF%BC%9A%E4%B8%8B%E8%BD%BD-toc\" style=\"margin-left:40px;\"><a href=\"#1.2%EF%BC%9A%E4%B8%8B%E8%BD%BD\">1.2：下载（在官网地址下载压缩包）</a></p>\n<p id=\"1.3%EF%BC%9A%E5%AE%89%E8%A3%85-toc\" style=\"margin-left:40px;\"><a href=\"#1.3%EF%BC%9A%E5%AE%89%E8%A3%85\">1.3：安装</a></p>\n<p id=\"1.3.1%EF%BC%9A%E8%A7%A3%E5%8E%8B-toc\" style=\"margin-left:80px;\"><a href=\"#1.3.1%EF%BC%9A%E8%A7%A3%E5%8E%8B\">1.3.1：解压（对压缩包进行解压）</a></p>\n<p id=\"1.3.2%EF%BC%9A%E8%A6%81%E6%B1%82-toc\" style=\"margin-left:80px;\"><a href=\"#1.3.2%EF%BC%9A%E8%A6%81%E6%B1%82\">1.3.2：要求</a></p>\n<p id=\"1.3.3%EF%BC%9A%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#1.3.3%EF%BC%9A%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%EF%BC%9A\">1.3.3：一些常见错误：</a></p>\n<p id=\"1.4%EF%BC%9A%E5%90%AF%E5%8A%A8-toc\" style=\"margin-left:40px;\"><a href=\"#1.4%EF%BC%9A%E5%90%AF%E5%8A%A8\">1.4：启动</a></p>\n<p id=\"1.4.1%EF%BC%9A%E5%90%AF%E5%8A%A8-toc\" style=\"margin-left:80px;\"><a href=\"#1.4.1%EF%BC%9A%E5%90%AF%E5%8A%A8\">1.4.1：启动</a></p>\n<p id=\"1.4.2%EF%BC%9A%E5%90%AF%E5%8A%A8%E5%BC%82%E5%B8%B8%EF%BC%9A%E9%9B%86%E7%BE%A4%E5%90%AF%E5%8A%A8-toc\" style=\"margin-left:80px;\"><a href=\"#1.4.2%EF%BC%9A%E5%90%AF%E5%8A%A8%E5%BC%82%E5%B8%B8%EF%BC%9A%E9%9B%86%E7%BE%A4%E5%90%AF%E5%8A%A8\">1.4.2：启动异常：集群启动</a></p>\n<p id=\"1.5%EF%BC%9AWEB%E6%8E%A7%E5%88%B6%E5%8F%B0-toc\" style=\"margin-left:40px;\"><a href=\"#1.5%EF%BC%9AWEB%E6%8E%A7%E5%88%B6%E5%8F%B0\">1.5：WEB控制台</a></p>\n<p id=\"1.5.1%EF%BC%9A%E8%8E%B7%E5%BE%97%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%9A%84%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84-toc\" style=\"margin-left:80px;\"><a href=\"#1.5.1%EF%BC%9A%E8%8E%B7%E5%BE%97%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%9A%84%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84\">1.5.1：获得控制台的访问路径</a></p>\n<p id=\"1.5.2%EF%BC%9A%E7%99%BB%E5%BD%95-toc\" style=\"margin-left:80px;\"><a href=\"#1.5.2%EF%BC%9A%E7%99%BB%E5%BD%95\">1.5.2：登录</a></p>\n<p id=\"1.5.3%EF%BC%9A%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2-toc\" style=\"margin-left:80px;\"><a href=\"#1.5.3%EF%BC%9A%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2\">1.5.3：控制台管理界面</a></p>\n<p id=\"%C2%A02%EF%BC%8CNacos%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8-toc\" style=\"margin-left:0px;\"><a href=\"#%C2%A02%EF%BC%8CNacos%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8\"> 2，Nacos快速入门</a></p>\n<p id=\"2.1%EF%BC%9A%E6%90%AD%E5%BB%BA%E7%88%B6%E9%A1%B9%E7%9B%AE-toc\" style=\"margin-left:40px;\"><a href=\"#2.1%EF%BC%9A%E6%90%AD%E5%BB%BA%E7%88%B6%E9%A1%B9%E7%9B%AE\">2.1：搭建父项目</a></p>\n<p id=\"%E9%A1%B9%E7%9B%AE%E5%90%8D%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E9%A1%B9%E7%9B%AE%E5%90%8D%EF%BC%9A\">项目名：</a></p>\n<p id=\"%E6%B7%BB%E5%8A%A0%E5%9D%90%E6%A0%87%EF%BC%9A%E5%A4%8D%E5%88%B6%E8%BF%9B%E5%8E%BB%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD%EF%BC%9A-toc\" style=\"margin-left:80px;\"><a href=\"#%E6%B7%BB%E5%8A%A0%E5%9D%90%E6%A0%87%EF%BC%9A%E5%A4%8D%E5%88%B6%E8%BF%9B%E5%8E%BB%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD%EF%BC%9A\">添加坐标：复制进去进行自动下载：</a></p>\n<p id=\"2.2%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85Provider-toc\" style=\"margin-left:40px;\"><a href=\"#2.2%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85Provider\">2.2：服务提供者Provider</a></p>\n<p id=\"2.2.1%EF%BC%9A%E6%90%AD%E5%BB%BAprovider%E9%A1%B9%E7%9B%AE-toc\" style=\"margin-left:80px;\"><a href=\"#2.2.1%EF%BC%9A%E6%90%AD%E5%BB%BAprovider%E9%A1%B9%E7%9B%AE\">2.2.1：搭建provider项目</a></p>\n<p id=\"2.2.2%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1-toc\" style=\"margin-left:80px;\"><a href=\"#2.2.2%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1\">2.2.2：创建服务</a></p>\n<p id=\"2.2.3%EF%BC%9A%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1-toc\" style=\"margin-left:80px;\"><a href=\"#2.2.3%EF%BC%9A%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1\">2.2.3：访问服务</a></p>\n<p id=\"2.2.4%EF%BC%9Anacos%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%A4%B1%E8%B4%A5-toc\" style=\"margin-left:80px;\"><a href=\"#2.2.4%EF%BC%9Anacos%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%A4%B1%E8%B4%A5\">2.2.4：nacos服务注册失败</a></p>\n<p id=\"2.3%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%B6%88%E8%B4%B9%E8%80%85Consumer-toc\" style=\"margin-left:40px;\"><a href=\"#2.3%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%B6%88%E8%B4%B9%E8%80%85Consumer\">2.3：服务消费者Consumer</a></p>\n<p id=\"2.3.1%EF%BC%9A%E6%90%AD%E5%BB%BAconsumer%E9%A1%B9%E7%9B%AE-toc\" style=\"margin-left:80px;\"><a href=\"#2.3.1%EF%BC%9A%E6%90%AD%E5%BB%BAconsumer%E9%A1%B9%E7%9B%AE\">2.3.1：搭建consumer项目</a></p>\n<p id=\"2.3.2%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1-toc\" style=\"margin-left:80px;\"><a href=\"#2.3.2%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1\">2.3.2：创建服务</a></p>\n<p id=\"2.3.3%EF%BC%9A%E6%B6%88%E8%B4%B9%E6%96%B9%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1-toc\" style=\"margin-left:80px;\"><a href=\"#2.3.3%EF%BC%9A%E6%B6%88%E8%B4%B9%E6%96%B9%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1\">2.3.3：消费方访问服务</a></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<h1 id=\"1%EF%BC%8CNacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83\">1，Nacos注册中心</h1>\n<p>国内公司一般都推崇阿里巴巴的技术，比如注册中心，Sp<span style=\"color:#fe2c24;\"><strong>ringCloudAlibaba也推出了一个名为Nacos的注册中心。</strong></span></p>\n<h2 id=\"1.1%EF%BC%9A%E8%AE%A4%E8%AF%86%E5%92%8C%E5%AE%89%E8%A3%85Nacos\">1.1：认识nacos</h2>\n<p><a href=\"https://nacos.io/\" title=\"Nacos\">Nacos</a>是阿里巴巴的产品，现在是<a href=\"https://spring.io/projects/spring-cloud\" title=\"SpringCloud\">SpringCloud</a>中的一个<span style=\"color:#fe2c24;\"><strong>组件</strong></span>。相比<a href=\"https://github.com/Netflix/eureka\" title=\"Eureka\">Eureka</a>功能更加丰富，在国内受欢迎程度较高。</p>\n<p><img alt=\"\" height=\"434\" src=\"..\\..\\static\\image\\e6db6196a222444083fd871779df0bec.png\" width=\"1138\"/></p>\n<ul><li> <p>Nacos用于<span style=\"color:#fe2c24;\"><strong><code>服务的注册与发现</code>和<code>服务的配置管理</code></strong></span>。</p> </li><li> <p>Nacos提供了简单易用的<span style=\"color:#fe2c24;\"><strong>Web Console</strong></span>。可以帮助开发者快速的实现<strong>服务发现</strong>、<strong>服务配置管理</strong>、<strong>服务元数据</strong>等需求。</p> </li><li> <p>官方文档</p> <pre>https://nacos.io/zh-cn/docs/what-is-nacos.html</pre> </li><li> <p>基本架构及概念</p> </li></ul>\n<table><thead><tr><th>概念</th><th>描述</th></tr></thead><tbody><tr><td>服务 (Service)</td><td>服务是指一个或一组软件功能</td></tr><tr><td>服务注册中心 (Service Registry)</td><td>服务注册中心，它是服务，其实例及元数据的数据库。 服务实例在启动时注册到服务注册表，并在关闭时注销。</td></tr><tr><td>服务元数据 (Service Metadata)</td><td>服务元数据是指包括服务端点(endpoints)、服务标签、服务版本号、服务实例权重、路由规则、安全策略等描述服务的数据</td></tr><tr><td>服务提供方 (Service Provider)</td><td>提供可复用和可调用服务的应用方</td></tr><tr><td>服务消费方 (Service Consumer)</td><td>发起对某个服务调用的应用方</td></tr><tr><td>配置 (Configuration)</td><td>在系统开发过程中通常会将一些需要变更的参数、变量等从代码中分离出来独立管理，以独立的配置文件的形式存在。</td></tr><tr><td>配置管理 (Configuration Management)</td><td>在数据中心中，系统中所有配置的编辑、存储、分发、变更管理、历史版本管理、变更审计等所有与配置相关的活动统称为配置管理。</td></tr><tr><td>名字服务 (Naming Service)</td><td>提供分布式系统中所有对象(Object)、实体(Entity)的“名字”到关联的元数据之间的映射管理服务</td></tr></tbody></table>\n<h2 id=\"1.2%EF%BC%9A%E4%B8%8B%E8%BD%BD\">1.2：下载（在官网地址下载压缩包）</h2>\n<p><a href=\"https://github.com/alibaba/nacos/releases/\" title=\"Releases · alibaba/nacos · GitHub\">Releases · alibaba/nacos · GitHub</a></p>\n<p><img alt=\"\" height=\"242\" src=\"..\\..\\static\\image\\688274c52e2945928f8f8e899f4988e3.png\" width=\"1110\"/></p>\n<h2 id=\"1.3%EF%BC%9A%E5%AE%89%E8%A3%85\">1.3：安装</h2>\n<h3 id=\"1.3.1%EF%BC%9A%E8%A7%A3%E5%8E%8B\">1.3.1：解压（对压缩包进行解压）</h3>\n<p><img alt=\"\" height=\"302\" src=\"..\\..\\static\\image\\22fc0eb4328b4913bd8e15befba102db.png\" width=\"718\"/></p>\n<p> </p>\n<p><span style=\"color:#fe2c24;\"><strong>注意：安装不允许在<code>中文</code>或<code>空格</code>目录下  （我想百分之九十九的软件大家都不会安装在中文目录下）</strong></span></p>\n<h3 id=\"1.3.2%EF%BC%9A%E8%A6%81%E6%B1%82\">1.3.2：要求</h3>\n<p>要求：<span style=\"color:#fe2c24;\"><strong>操作系统的位数（32位/64位），和JDK的位数一致的(一定保持位数一致)</strong></span></p>\n<p>操作系统： <img alt=\"\" height=\"217\" src=\"..\\..\\static\\image\\6090b535844a434086cc752a2fe2e8c6.png\" width=\"477\"/></p>\n<p> </p>\n<p>JDK：（黑窗口打出命令：java-version即可查看）</p>\n<p><img alt=\"\" height=\"268\" src=\"..\\..\\static\\image\\7e117ebb5dab428a9ca137646a907d4a.png\" width=\"678\"/>   </p>\n<p><span style=\"color:#fe2c24;\"><strong>如果操作系统的版本号与JDK的版本不一致，异常如下：</strong></span></p>\n<p><img alt=\"\" height=\"211\" src=\"..\\..\\static\\image\\dd936215b6f94f6ea1bb32ef997fb042.png\" width=\"962\"/></p>\n<h3 id=\"1.3.3%EF%BC%9A%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%EF%BC%9A\">1.3.3：一些常见错误：</h3>\n<p><strong>1）删除data目录重试</strong></p>\n<p>如果无法正常运行，删除 data目录后，重新运行</p>\n<p><img alt=\"\" height=\"304\" src=\"..\\..\\static\\image\\4f20bc6c2f6b4ffa907225aa8f797929.png\" width=\"442\"/> </p>\n<p><strong>2）必须配置JAVA_HOME</strong></p>\n<p><img alt=\"\" height=\"82\" src=\"..\\..\\static\\image\\5e1a7784f86c4592b7f58400e20b1f2c.png\" width=\"869\"/></p>\n<ul><li> <p>提示：没有配置JAVA_HOME，且需要JDK的版本为JDK8及其以上。</p> </li></ul>\n<p> <strong>3）unable to start embedded tomcat</strong></p>\n<p><img alt=\"\" height=\"85\" src=\"..\\..\\static\\image\\c787bcf54a0a47da95302e5ade8afad7.png\" width=\"496\"/></p>\n<ul><li> <p>不能成功启动tomcat</p> </li><li> <p>解决方案：更换JDK</p> </li></ul>\n<h2 id=\"1.4%EF%BC%9A%E5%90%AF%E5%8A%A8\">1.4：启动</h2>\n<h3 id=\"1.4.1%EF%BC%9A%E5%90%AF%E5%8A%A8\">1.4.1：启动</h3>\n<p><img alt=\"\" height=\"268\" src=\"..\\..\\static\\image\\2323197dddbd4ad6b213fd9ef1b2a292.png\" width=\"713\"/></p>\n<p> <img alt=\"\" height=\"250\" src=\"..\\..\\static\\image\\f2e2bd00940546e7a6ef4906e0889b6f.png\" width=\"728\"/></p>\n<p> </p>\n<p>注意：使用<span style=\"color:#fe2c24;\"><strong>startup.cmd -m standalone</strong></span></p>\n<p> <img alt=\"\" height=\"324\" src=\"..\\..\\static\\image\\1b960db9a9a94362b721561f228b7eb2.png\" width=\"891\"/></p>\n<p>启动成功： </p>\n<p><img alt=\"\" height=\"394\" src=\"..\\..\\static\\image\\3a419a9f8e1c41eb97947b40c810499a.png\" width=\"952\"/> </p>\n<h3 id=\"1.4.2%EF%BC%9A%E5%90%AF%E5%8A%A8%E5%BC%82%E5%B8%B8%EF%BC%9A%E9%9B%86%E7%BE%A4%E5%90%AF%E5%8A%A8\">1.4.2：启动异常：集群启动</h3>\n<p>运行异常：（因为nacos默认运行方式）</p>\n<p><img alt=\"\" height=\"230\" src=\"..\\..\\static\\image\\db91a65bab0a4c58bcaf0a3ffe1a23d6.png\" width=\"651\"/> </p>\n<ul><li> <p>cmd运行 startup.cmd 错误提示“nacos is starting with cluster” （nacos以集群的方式的运行）</p> </li></ul>\n<p><img alt=\"\" height=\"293\" src=\"..\\..\\static\\image\\06b46207188a493d92603208db5522ee.png\" width=\"761\"/></p>\n<h2 id=\"1.5%EF%BC%9AWEB%E6%8E%A7%E5%88%B6%E5%8F%B0\">1.5：WEB控制台</h2>\n<h3 id=\"1.5.1%EF%BC%9A%E8%8E%B7%E5%BE%97%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%9A%84%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84\">1.5.1：获得控制台的访问路径</h3>\n<p>这是我的地址：http://192.168.0.107:8848/nacos/index.html</p>\n<p><img alt=\"\" height=\"314\" src=\"..\\..\\static\\image\\7aed6a3f4c8242f8827344c2b7540e65.png\" width=\"910\"/> </p>\n<h3 id=\"1.5.2%EF%BC%9A%E7%99%BB%E5%BD%95\">1.5.2：登录</h3>\n<p><span style=\"color:#fe2c24;\"><strong>账号：nacos<br/> 密码：nacos</strong></span></p>\n<p><img alt=\"\" height=\"733\" src=\"..\\..\\static\\image\\327b6a66b11b44f0a5b1f42e8b4d695f.png\" width=\"1089\"/></p>\n<h3 id=\"1.5.3%EF%BC%9A%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2\">1.5.3：控制台管理界面</h3>\n<p><img alt=\"\" height=\"535\" src=\"..\\..\\static\\image\\677ae187fc9e42ca9c77dbbb18f61a35.png\" width=\"1109\"/></p>\n<h1 id=\"%C2%A02%EF%BC%8CNacos%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8\"> 2，Nacos快速入门</h1>\n<ul><li> <p>参考官方文实例档</p> </li></ul>\n<p><a href=\"https://nacos.io/zh-cn/docs/quick-start-spring-cloud.html\" title=\"Nacos Spring Cloud 快速开始\">Nacos Spring Cloud 快速开始</a></p>\n<h2 id=\"2.1%EF%BC%9A%E6%90%AD%E5%BB%BA%E7%88%B6%E9%A1%B9%E7%9B%AE\">2.1：搭建父项目</h2>\n<ul><li> <h3 id=\"%E9%A1%B9%E7%9B%AE%E5%90%8D%EF%BC%9A\">项目名：</h3> </li><li> <p>nacos-parent-01（像我这目录结构太乱其他板块都是之前测试用的，最后把标记的三个创建出来就ok）</p> </li><li> <p><img alt=\"\" height=\"204\" src=\"..\\..\\static\\image\\6a2196567350417682c5449705537f4c.png\" width=\"453\"/> </p> </li><li> <h3 id=\"%E6%B7%BB%E5%8A%A0%E5%9D%90%E6%A0%87%EF%BC%9A%E5%A4%8D%E5%88%B6%E8%BF%9B%E5%8E%BB%E8%BF%9B%E8%A1%8C%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD%EF%BC%9A\">添加坐标：复制进去进行自动下载：</h3> </li><li>\n<blockquote>\n<p></p>\n<pre>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-build&lt;/artifactId&gt;\n    &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;spring.cloud.version&gt;Hoxton.SR12&lt;/spring.cloud.version&gt;\n    &lt;spring.cloud.alibaba.version&gt;2.2.7.RELEASE&lt;/spring.cloud.alibaba.version&gt;\n    &lt;mybatis.plus.starter.version&gt;3.4.0&lt;/mybatis.plus.starter.version&gt;\n    &lt;durid.starter.version&gt;1.1.10&lt;/durid.starter.version&gt;\n    &lt;swagger.version&gt;2.7.0&lt;/swagger.version&gt;\n    &lt;jwt.jjwt.version&gt;0.9.0&lt;/jwt.jjwt.version&gt;\n    &lt;jwt.joda.version&gt;2.9.7&lt;/jwt.joda.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring cloud Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring cloud alibaba Dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- mybatis-plus --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${mybatis.plus.starter.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Druid连接池 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${durid.starter.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--swagger2--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;</pre>\n</blockquote> </li></ul>\n<h2 id=\"2.2%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85Provider\">2.2：服务提供者Provider</h2>\n<h3 id=\"2.2.1%EF%BC%9A%E6%90%AD%E5%BB%BAprovider%E9%A1%B9%E7%9B%AE\">2.2.1：搭建provider项目</h3>\n<p>创建项目：nacos_provider_21</p>\n<p>添加依赖：</p>\n<blockquote>\n<pre>&lt;dependencies&gt;\n    &lt;!-- web 启动类 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- nacos 服务发现 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</pre>\n</blockquote>\n<p>创建yml文件</p>\n<blockquote>\n<pre>server:\n  port: 9999               #端口号\n\nspring:\n  application:\n    name: service-provider          #服务名\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:8848   #nacos服务地址</pre>\n</blockquote>\n<h3 id=\"2.2.2%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1\">2.2.2：创建服务</h3>\n<p>启动类：</p>\n<pre><code class=\"language-java\">@SpringBootApplication      \n@EnableDiscoveryClient      //这个注解你要是不写，那指定不算入门成功\npublic class TestNacosProviderApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(TestNacosProviderApplication.class, args );\n    }\n}</code></pre>\n<p>写个controller提供一个访问的程序：</p>\n<pre><code class=\"language-java\">@RestController\npublic class EchoController {\n    @Resource\n    private HttpServletRequest request;\n    @GetMapping(\"/tudou\")\n    public String tudou() {\n        int serverPort = request.getServerPort();\n        return \"你好nacos服务，我是爱吃豆的土豆 \" + \":\" + serverPort;\n    }\n}</code></pre>\n<h3 id=\"2.2.3%EF%BC%9A%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1\">2.2.3：访问服务</h3>\n<p><a href=\"http://localhost:9999/tudou\" title=\"http://localhost:9999/tudou\">http://localhost:9999/tudou</a></p>\n<p><img alt=\"\" height=\"73\" src=\"..\\..\\static\\image\\6dbef7ad5f0047c780df9141dfbbba45.png\" width=\"317\"/> </p>\n<p>看一下编辑器控制台输出的结果：</p>\n<p><img alt=\"\" height=\"292\" src=\"..\\..\\static\\image\\7fc0c6be9f19499291bf36d95111fe11.png\" width=\"1200\"/> </p>\n<p>通过Nacos控制台查看  </p>\n<p><img alt=\"\" height=\"251\" src=\"..\\..\\static\\image\\e3ab0c342a99496188ddae46b45c8550.png\" width=\"1200\"/> </p>\n<h3 id=\"2.2.4%EF%BC%9Anacos%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E5%A4%B1%E8%B4%A5\">2.2.4：nacos服务注册失败</h3>\n<p><img alt=\"\" height=\"120\" src=\"..\\..\\static\\image\\d43dfa475f444b3aba24891b4fae2691.png\" width=\"1187\"/></p>\n<p> 控制台出现这种错误不要慌：<span style=\"color:#fe2c24;\"><strong>是你的nacos服务没有开启，拒绝了访问</strong></span></p>\n<h2 id=\"2.3%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%B6%88%E8%B4%B9%E8%80%85Consumer\">2.3：服务消费者Consumer</h2>\n<h3 id=\"2.3.1%EF%BC%9A%E6%90%AD%E5%BB%BAconsumer%E9%A1%B9%E7%9B%AE\">2.3.1：搭建consumer项目</h3>\n<p>项目名称：nacos_consumer_21</p>\n<p><strong>添加依赖：</strong></p>\n<blockquote>\n<pre>  &lt;dependencies&gt;\n        &lt;!-- web 启动类 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- nacos 服务发现 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- openfeign 远程调用 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        ### 整合Feign* --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;!--        Sentinel--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;</pre>\n</blockquote>\n<p>创建配置文件 ：</p>\n<blockquote>\n<pre>#端口号\nserver:\n  port: 8071\n\nspring:\n  application:\n    name: service-consumer          #服务名\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848   #nacos服务地址\n    sentinel:\n      transport:\n        dashboard: 127.0.0.1:18080\nfeign:\n  sentinel:\n    enabled: true\n</pre>\n</blockquote>\n<h3 id=\"2.3.2%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1\">2.3.2：创建服务</h3>\n<p>创建启动类：</p>\n<pre><code class=\"language-java\">@SpringBootApplication\n@EnableDiscoveryClient  //服务发现\npublic class TestNacosConsumerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(TestNacosConsumerApplication.class, args );\n    }\n}</code></pre>\n<p><span style=\"color:#fe2c24;\"><strong>远程调用的配置类：</strong></span></p>\n<pre><code class=\"language-java\">@Component\npublic class RestTemplateConfig {\n    @LoadBalanced   //负载均衡（通过服务名访问服务）该注解相关文章在微服务专栏查看\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}</code></pre>\n<p> 写个controller(<span style=\"color:#fe2c24;\"><strong>这里的url是通过服务名进行访问的提供方</strong></span>)</p>\n<pre><code class=\"language-java\">@RestController\npublic class TestController {\n    @Resource\n    private RestTemplate restTemplate;\n    @GetMapping(\"/tudouconsumer\")\n    public String tudouconsumer(){\n       String url=\"http://service-provider/tudou\";  \\\\可以看到是通过服务名称进行访问的提供方\n        return restTemplate.getForObject(url,String.class);\n    }\n}\n</code></pre>\n<h3 id=\"2.3.3%EF%BC%9A%E6%B6%88%E8%B4%B9%E6%96%B9%E8%AE%BF%E9%97%AE%E6%9C%8D%E5%8A%A1\">2.3.3：消费方访问服务</h3>\n<p><span style=\"color:#fe2c24;\"><strong>首先服务方和消费方的服务都进行启动</strong></span>：</p>\n<p><img alt=\"\" height=\"185\" src=\"..\\..\\static\\image\\af8c894652cb480c8201ff81682db2b9.png\" width=\"428\"/></p>\n<p> 通过浏览器进行访问消费方的controller，通过消费方的controller中的方法进行访问提供方的controller（成功访问）：</p>\n<p><img alt=\"\" height=\"134\" src=\"..\\..\\static\\image\\15db800dc3a34f579df60016a4782297.png\" width=\"372\"/></p>\n<p>看一下nacos注册中心：</p>\n<p><img alt=\"\" height=\"184\" src=\"..\\..\\static\\image\\3bf280bdecfc45199da06f12693a2a87.png\" width=\"983\"/></p>\n</div>\n</div>", "first_tag": "Java", "cpp": 0, "csharp": 0, "python": 0, "javascript": 0, "java": 1, "sql": 0, "php": 0, "time": "2022-07-15 19:41:50", "summary": "目录个人主页爱吃豆的土豆爱吃豆的土豆版权本文由爱吃豆的土豆原创、在首发、需要转载请联系博主如果文章对你有帮助、欢迎关注、点赞、收藏一键三连和订阅专栏哦人必有所执，方能有所成！希望大家多多支持一起进步呀"}