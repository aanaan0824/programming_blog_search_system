{"blogid": "126391714", "writerAge": "码龄1年", "writerBlogNum": "108", "writerCollect": "9467", "writerComment": "5184", "writerFan": "23649", "writerGrade": "7级", "writerIntegral": "16291", "writerName": "热爱编程的小白白", "writerProfileAdress": "..\\..\\static\\writer_image\\profile_126391714.jpg", "writerRankTotal": "549", "writerRankWeekly": "28", "writerThumb": "6445", "writerVisitNum": "229830", "blog_read_count": "1529", "blog_time": "已于 2022-08-25 12:34:35 修改", "blog_title": "【SSM框架】MyBatis核心配置文件详解", "content": "<div class=\"article_content clearfix\" id=\"article_content\">\n<link href=\"../../static/bootstrap/css/csdnstyle.css\" rel=\"stylesheet\"/>\n<div class=\"htmledit_views\" id=\"content_views\">\n<blockquote>\n<p>🍓个人主页：<a href=\"https://blog.csdn.net/Javascript_tsj?type=blog\" title=\"个人主页\">个人主页</a></p>\n<p>🍒系列专栏：<a href=\"https://blog.csdn.net/javascript_tsj/category_11957185.html?spm=1001.2014.3001.5482\" title=\"SSM框架\">SSM框架</a></p>\n<p>💬推荐一款模拟面试、刷题神器，从基础到大厂面试题👉<a href=\"https://www.nowcoder.com/link/pc_csdncpt_xbb_java\" title=\"点击跳转刷题网站进行注册学习\">点击跳转刷题网站进行注册学习</a></p>\n</blockquote>\n<p id=\"main-toc\"><strong>目录</strong></p>\n<p id=\"%C2%A01.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Benvironments-toc\" style=\"margin-left:40px;\"><a href=\"#%C2%A01.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Benvironments\">1.MyBatis核心配置文件之environments</a></p>\n<p id=\"2.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Bproperties-toc\" style=\"margin-left:40px;\"><a href=\"#2.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Bproperties\">2.MyBatis核心配置文件之properties</a></p>\n<p id=\"3.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8BtypeAliases-toc\" style=\"margin-left:40px;\"><a href=\"#3.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8BtypeAliases\">3.MyBatis核心配置文件之typeAliases</a></p>\n<p id=\"4.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Bmappers-toc\" style=\"margin-left:40px;\"><a href=\"#4.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Bmappers\">4.MyBatis核心配置文件之mappers</a></p>\n<p id=\"1.%20%E5%BC%95%E5%85%A5%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%EF%BC%9A%3Cmappers%3E%0A%3Cmapper%20resource%3D%22mappers%2FUserMapper.xml%22%2F%3E%0A%3C%2Fmappers%3E2.%E4%BB%A5%E5%8C%85%E4%B8%BA%E5%8D%95%E4%BD%8D%E5%BC%95%E5%85%A5%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%20%E8%A6%81%E6%B1%82%EF%BC%9A%201%E3%80%81mapper%E6%8E%A5%E5%8F%A3%E6%89%80%E5%9C%A8%E7%9A%84%E5%8C%85%E8%A6%81%E5%92%8C%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E6%89%80%E5%9C%A8%E7%9A%84%E5%8C%85%E4%B8%80%E8%87%B4%202%E3%80%81mapper%E6%8E%A5%E5%8F%A3%E8%A6%81%E5%92%8C%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E7%9A%84%E5%90%8D%E5%AD%97%E4%B8%80%E8%87%B4%E2%80%8B%E7%BC%96%E8%BE%91mybatis-config.xml%EF%BC%9A%3Cmappers%3E%0A%3Cpackage%20name%3D%22com.atguigu.mybatis.mapper%22%2F%3E%0A%3C%2Fmappers%3E-toc\" style=\"margin-left:40px;\"></p>\n<hr id=\"hr-toc\"/>\n<p></p>\n<h2 id=\"%C2%A01.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Benvironments\"><span style=\"color:#4da8ee;\"> 1.MyBatis核心配置文件之environments</span></h2>\n<p></p>\n<pre><code class=\"language-XML\"> &lt;!--environments：配置多个连接数据库的环境 属性：default：设置默认使用的环境的id --&gt;\n    &lt;environments default=\"development\"&gt;\n\n    &lt;!--environment：配置某个具体的环境 属性：id：表示连接数据库的环境的唯一标识，不能重复 --&gt;\n        &lt;environment id=\"development\"&gt;\n            &lt;!--transactionManager：设置事务管理方式 属性：type=\"JDBC|MANAGED\" JDBC：表示当前环境中，执行SQL时，使用的是JDBC中原生的事务管理方式，事 务的提交或回滚需要手动处理MANAGED：被管理，例如Spring --&gt;\n            &lt;transactionManager type=\"JDBC\"/&gt;\n            &lt;!--dataSource：配置数据源 属性：type：设置数据源的类型 type=\"POOLED|UNPOOLED|JNDI\" POOLED：表示使用数据库连接池缓存数据库连接 UNPOOLED：表示不使用数据库连接池 JNDI：表示使用上下文中的数据源 --&gt;\n            &lt;dataSource type=\"POOLED\"&gt;\n                &lt;!--设置连接数据库的驱动--&gt;\n                &lt;property name=\"driver\" value=\"${jdbc.driver}\"/&gt;\n                &lt;!--设置连接数据库的连接地址--&gt;\n                &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n                &lt;!--设置连接数据库的用户名--&gt;\n                &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;\n                &lt;!--设置连接数据库的密码--&gt;\n                &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n\n            &lt;/dataSource&gt; &lt;/environment&gt;\n\n        &lt;environment id=\"test\"&gt;\n        &lt;transactionManager type=\"JDBC\"/&gt;\n            &lt;dataSource type=\"POOLED\"&gt;\n        &lt;property name=\"driver\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/ssmserverTimezone=UTC\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt; &lt;property name=\"password\" value=\"123456\"/&gt;\n    &lt;/dataSource&gt; \n        &lt;/environment&gt;\n    &lt;/environments&gt;</code></pre>\n<p></p>\n<blockquote>\n<div>\n<pre><strong><span style=\"background-color:#ffd900;\">environments：配置多个连接数据库的环境 属性：default：设置默认使用的环境的id。</span>\n\n需要使用切换 id为test的环境时:</strong>\n&lt;environments default=\"test\"&gt;</pre>\n</div>\n</blockquote>\n<p><img alt=\"\" height=\"770\" src=\"..\\..\\static\\image\\6b1d64f1c255473dbdcc829e609f211f.png\" width=\"1200\"/></p>\n<blockquote>\n<p><strong><span style=\"background-color:#ffd900;\"> environment</span></strong>：配置某个具体的环境 属性：id：表示连接数据库的环境的唯一标识，不能重复</p>\n<p><strong><span style=\"background-color:#ffd900;\">transactionManager</span></strong>：</p>\n<p>设置事务管理方式 属性：type=\"JDBC|MANAGED\"</p>\n<ul><li>JDBC：表示当前环境中，执行SQL时，使用的是JDBC中原生的事务管理方式，事务的提交或回滚需要手动处理</li><li>MANAGED：被管理，例如Spring</li></ul>\n<p></p>\n<p><strong><span style=\"background-color:#ffd900;\">dataSource</span></strong>：配置数据源</p>\n<p>属性：type：设置数据源的类型 type=\"POOLED|UNPOOLED|JNDI\"</p>\n<ul><li>POOLED：表示使用数据库连接池缓存数据库连接</li><li>UNPOOLED：表示不使用数据库连接池</li><li>JNDI：表示使用上下文中的数据源</li></ul>\n<p></p>\n<ul><li>设置连接数据库的驱动 &lt;property name=\"driver\" value=\"${jdbc.driver}\"/&gt;</li><li>设置连接数据库的连接地址 &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;</li><li>设置连接数据库的用户名 &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;</li><li>设置连接数据库的密码 &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;</li></ul>\n</blockquote>\n<h2></h2>\n<h2 id=\"2.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Bproperties\"><span style=\"color:#4da8ee;\">2.MyBatis核心配置文件之properties</span></h2>\n<p>被引入的外部配置文件dbconfig.<a href=\"https://so.csdn.net/so/search?q=properties&amp;spm=1001.2101.3001.7020\" title=\"properties\">properties</a> </p>\n<pre><code class=\"language-XML\">jdbc.driver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/mybatis\njdbc.username=root\njdbc.password=root\n</code></pre>\n<p><strong>resource</strong> 引入<a href=\"https://so.csdn.net/so/search?q=%E7%B1%BB%E8%B7%AF%E5%BE%84&amp;spm=1001.2101.3001.7020\" title=\"类路径\">类路径</a>下的配置文件，<br/><strong>url</strong> 引入网络路径或磁盘路径下的资源</p>\n<pre><code class=\"language-XML\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;\n&lt;configuration&gt;\n    &lt;!--\n        1、\n        mybatis可以使用properties来引入外部properties配置文件的内容\n        resource引入类路径下的配置文件，\n        url引入网络路径或磁盘路径下的资源\n    --&gt;\n    &lt;properties resource=\"dbconfig.properties\"&gt;&lt;/properties&gt;\n    &lt;environments default=\"development\"&gt;\n        &lt;environment id=\"development\"&gt;\n            &lt;transactionManager type=\"JDBC\"/&gt;\n            &lt;dataSource type=\"POOLED\"&gt;\n                &lt;property name=\"driver\" value=\"${jdbc.driver}\"/&gt;\n                &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n                &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;\n                &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n            &lt;/dataSource&gt;\n        &lt;/environment&gt;\n    &lt;/environments&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=\"mapper/EmployeeMapper.xml\"/&gt;\n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p></p>\n<h2 id=\"3.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8BtypeAliases\"><span style=\"color:#4da8ee;\">3.MyBatis核心配置文件之typeAliases</span></h2>\n<blockquote>\n<div>\n<span style=\"color:#aa5500;\">&lt;!--</span>\n<span style=\"color:#aa5500;\">设置类型别名</span>\n<span style=\"color:#aa5500;\">--&gt; </span>\n</div>\n<div>\n<span style=\"color:#117700;\">&lt;typeAliases&gt; </span>\n</div>\n<div>\n<span style=\"color:#aa5500;\">&lt;!--</span>\n</div>\n<div>\n<strong><span style=\"color:#aa5500;\"><span style=\"background-color:#ffd900;\">typeAlias</span></span></strong>\n<span style=\"color:#aa5500;\">：设置某个类型的别名 </span>\n</div>\n<div>\n<span style=\"color:#aa5500;\">属性：</span>\n</div>\n<div>\n<strong><span style=\"color:#aa5500;\"><span style=\"background-color:#ffd900;\">type</span></span></strong>\n<span style=\"color:#aa5500;\">：设置需要设置别名的类型 </span>\n</div>\n<div>\n<strong><span style=\"color:#aa5500;\"><span style=\"background-color:#ffd900;\">alias</span></span></strong>\n<span style=\"color:#aa5500;\">：设置某个类型的别名，若不设置该属性，那么该类型拥有默认的别名，即类名 </span>\n</div>\n<div>\n<span style=\"color:#aa5500;\">且不区分大小写 </span>\n</div>\n<div>\n<span style=\"color:#aa5500;\">--&gt; </span>\n</div>\n<div>\n<span style=\"color:#aa5500;\">&lt;!--<span style=\"background-color:#ffd900;\">&lt;typeAlias type=\"com.atguigu.mybatis.pojo.User\"&gt;&lt;/typeAlias&gt;</span>--&gt; </span>\n</div>\n<div></div>\n<div>\n<span style=\"color:#aa5500;\">&lt;!--</span>\n<span style=\"color:#aa5500;\">以包为单位，将包下所有的类型设置默认的类型别名，即类名且不区分大小写</span>\n<span style=\"color:#aa5500;\">--&gt; </span>\n</div>\n<div>\n<span style=\"color:#117700;\"><span style=\"background-color:#ffd900;\">&lt;package </span></span>\n<span style=\"color:#0000cc;\"><span style=\"background-color:#ffd900;\">name</span></span>\n<span style=\"color:#333333;\"><span style=\"background-color:#ffd900;\">=</span></span>\n<span style=\"color:#aa1111;\"><span style=\"background-color:#ffd900;\">\"com.atguigu.mybatis.pojo\"</span></span>\n<span style=\"color:#117700;\"><span style=\"background-color:#ffd900;\">/&gt; </span></span>\n</div>\n<div>\n<span style=\"color:#117700;\">&lt;/typeAliases&gt; </span>\n</div>\n</blockquote>\n<p> 例如：</p>\n<pre><code class=\"language-XML\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;\n&lt;configuration&gt;\n\n&lt;typeAliases&gt;\n&lt;!--    &lt;typeAlias type=\"com.atguigu.mybatis.pojo.User\"&gt;&lt;/typeAlias&gt;--&gt;\n    &lt;package name=\"com.atguigu.mybatis.pojo\"/&gt;\n&lt;/typeAliases&gt;\n\n    &lt;environments default=\"development\"&gt;\n        &lt;environment id=\"development\"&gt;\n            &lt;transactionManager type=\"JDBC\"/&gt;\n            &lt;dataSource type=\"POOLED\"&gt;\n                &lt;property name=\"driver\" value=\"com.mysql.jdbc.Driver\"/&gt;\n                &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/ssm? serverTimezone=UTC\"/&gt;\n                &lt;property name=\"username\" value=\"root\"/&gt;\n                &lt;property name=\"password\" value=\"root\"/&gt;\n            &lt;/dataSource&gt;\n        &lt;/environment&gt;\n    &lt;/environments&gt;\n\n\n\n\n    &lt;!--引入映射文件--&gt;\n    &lt;mappers&gt;\n        &lt;mapper resource=\"mappers/UserMapper.xml\"/&gt;\n    &lt;/mappers&gt;\n\n&lt;/configuration&gt;</code></pre>\n<p></p>\n<pre><code class=\"language-XML\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;\n&lt;mapper namespace=\"com.atguigu.mybatis.mapper.UserMapper\"&gt;\n \n    &lt;select id=\"getAllUser\" resultType=\"User\"&gt;\n\n        select * from t_user;\n    &lt;/select&gt;\n&lt;/mapper&gt;</code></pre>\n<blockquote>\n<p><strong><span style=\"background-color:#ffd900;\">注意事项：</span></strong></p>\n<div>\n<strong><span style=\"color:#aa5500;\">MyBatis</span><span style=\"color:#aa5500;\">核心配置文件中，标签的顺序： </span></strong>\n</div>\n<div>\n<strong><span style=\"color:#aa5500;\">properties?,settings?,typeAliases?,typeHandlers?, </span></strong>\n</div>\n<div>\n<strong><span style=\"color:#aa5500;\">objectFactory?,objectWrapperFactory?,reflectorFactory?, </span></strong>\n</div>\n<div>\n<strong><span style=\"color:#aa5500;\">plugins?,environments?,databaseIdProvider?,mappers? </span></strong>\n</div>\n<div></div>\n<div></div>\n<p><strong><span style=\"background-color:#ffd900;\"> 如果不按此顺序，就会报错</span></strong></p>\n</blockquote>\n<p></p>\n<h2 id=\"4.MyBatis%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B9%8Bmappers\"><span style=\"color:#4da8ee;\">4.MyBatis核心配置文件之mappers</span></h2>\n<h2 id=\"1.%20%E5%BC%95%E5%85%A5%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%EF%BC%9A%3Cmappers%3E%0A%3Cmapper%20resource%3D%22mappers%2FUserMapper.xml%22%2F%3E%0A%3C%2Fmappers%3E2.%E4%BB%A5%E5%8C%85%E4%B8%BA%E5%8D%95%E4%BD%8D%E5%BC%95%E5%85%A5%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%20%E8%A6%81%E6%B1%82%EF%BC%9A%201%E3%80%81mapper%E6%8E%A5%E5%8F%A3%E6%89%80%E5%9C%A8%E7%9A%84%E5%8C%85%E8%A6%81%E5%92%8C%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E6%89%80%E5%9C%A8%E7%9A%84%E5%8C%85%E4%B8%80%E8%87%B4%202%E3%80%81mapper%E6%8E%A5%E5%8F%A3%E8%A6%81%E5%92%8C%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E7%9A%84%E5%90%8D%E5%AD%97%E4%B8%80%E8%87%B4%E2%80%8B%E7%BC%96%E8%BE%91mybatis-config.xml%EF%BC%9A%3Cmappers%3E%0A%3Cpackage%20name%3D%22com.atguigu.mybatis.mapper%22%2F%3E%0A%3C%2Fmappers%3E\"></h2>\n<div>\n<div>\n<div>\n<p><strong><span style=\"color:#aa5500;\"><span style=\"background-color:#ffd900;\"> 1. 引入映射文件：</span></span></strong></p>\n<pre><code class=\"language-XML\">&lt;mappers&gt;\n&lt;mapper resource=\"mappers/UserMapper.xml\"/&gt;\n&lt;/mappers&gt;</code></pre>\n</div>\n<p><strong><span style=\"color:#aa5500;\"><span style=\"background-color:#ffd900;\">2.以包为单位引入映射文件 </span></span></strong></p>\n<p><strong><span style=\"color:#aa5500;\">要求： </span></strong></p>\n<p><strong><span style=\"color:#aa5500;\">1</span><span style=\"color:#aa5500;\">、</span><span style=\"color:#aa5500;\">mapper</span><span style=\"color:#aa5500;\">接口所在的包要和映射文件所在的包一致 </span></strong></p>\n<p><strong><span style=\"color:#aa5500;\">2</span><span style=\"color:#aa5500;\">、</span><span style=\"color:#aa5500;\">mapper</span><span style=\"color:#aa5500;\">接口要和映射文件的名字一致</span></strong></p>\n<p><img alt=\"\" height=\"689\" src=\"..\\..\\static\\image\\e8dd5fcccce04cd39eb40f5d51aa2251.png\" width=\"557\"/></p>\n<p><strong>mybatis-config.xml：</strong></p>\n<div>\n<pre><code class=\"language-XML\">&lt;mappers&gt;\n&lt;package name=\"com.atguigu.mybatis.mapper\"/&gt;\n&lt;/mappers&gt;</code></pre>\n</div>\n<p></p>\n</div>\n</div>\n</div>\n</div>", "first_tag": "SQL", "cpp": 0, "csharp": 0, "python": 0, "javascript": 1, "java": 0, "sql": 1, "php": 0, "time": "2022-08-25 12:34:35", "summary": "个人主页：个人主页个人主页系列专栏：框架框架推荐一款模拟面试、刷题神器，从基础到大厂面试题点击跳转刷题网站进行注册学习点击跳转刷题网站进行注册学习目录核心配置文件之核心配置文件之核心配置文件之核心配置"}